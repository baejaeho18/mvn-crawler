Compiled from "SpringTransactionIntegrationTest.java"
public class org.camunda.bpm.engine.spring.test.transaction.SpringTransactionIntegrationTest extends org.camunda.bpm.engine.spring.test.SpringProcessEngineTestCase {
  protected org.camunda.bpm.engine.spring.test.transaction.UserBean userBean;

  protected javax.sql.DataSource dataSource;

  private static long WAIT_TIME_MILLIS;

  public org.camunda.bpm.engine.spring.test.transaction.SpringTransactionIntegrationTest();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/camunda/bpm/engine/spring/test/SpringProcessEngineTestCase."<init>":()V
       4: return

  public void testBasicActivitiSpringIntegration();
    Code:
       0: aload_0
       1: getfield      #2                  // Field userBean:Lorg/camunda/bpm/engine/spring/test/transaction/UserBean;
       4: invokevirtual #3                  // Method org/camunda/bpm/engine/spring/test/transaction/UserBean.hello:()V
       7: aload_0
       8: getfield      #4                  // Field runtimeService:Lorg/camunda/bpm/engine/RuntimeService;
      11: invokeinterface #5,  1            // InterfaceMethod org/camunda/bpm/engine/RuntimeService.createProcessInstanceQuery:()Lorg/camunda/bpm/engine/runtime/ProcessInstanceQuery;
      16: invokeinterface #6,  1            // InterfaceMethod org/camunda/bpm/engine/runtime/ProcessInstanceQuery.singleResult:()Ljava/lang/Object;
      21: checkcast     #7                  // class org/camunda/bpm/engine/runtime/ProcessInstance
      24: astore_1
      25: ldc           #8                  // String Hello from Printer!
      27: aload_0
      28: getfield      #4                  // Field runtimeService:Lorg/camunda/bpm/engine/RuntimeService;
      31: aload_1
      32: invokeinterface #9,  1            // InterfaceMethod org/camunda/bpm/engine/runtime/ProcessInstance.getId:()Ljava/lang/String;
      37: ldc           #10                 // String myVar
      39: invokeinterface #11,  3           // InterfaceMethod org/camunda/bpm/engine/RuntimeService.getVariable:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/Object;
      44: invokestatic  #12                 // Method assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
      47: return

  public void testRollbackTransactionOnActivitiException();
    Code:
       0: new           #13                 // class org/springframework/jdbc/core/JdbcTemplate
       3: dup
       4: aload_0
       5: getfield      #14                 // Field dataSource:Ljavax/sql/DataSource;
       8: invokespecial #15                 // Method org/springframework/jdbc/core/JdbcTemplate."<init>":(Ljavax/sql/DataSource;)V
      11: astore_1
      12: aload_1
      13: ldc           #16                 // String create table MY_TABLE (MY_TEXT varchar);
      15: invokevirtual #17                 // Method org/springframework/jdbc/core/JdbcTemplate.execute:(Ljava/lang/String;)V
      18: aload_0
      19: getfield      #2                  // Field userBean:Lorg/camunda/bpm/engine/spring/test/transaction/UserBean;
      22: invokevirtual #3                  // Method org/camunda/bpm/engine/spring/test/transaction/UserBean.hello:()V
      25: aload_1
      26: ldc           #18                 // String select count(*) from MY_TABLE
      28: ldc           #19                 // class java/lang/Integer
      30: invokevirtual #20                 // Method org/springframework/jdbc/core/JdbcTemplate.queryForObject:(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
      33: checkcast     #19                 // class java/lang/Integer
      36: invokevirtual #21                 // Method java/lang/Integer.intValue:()I
      39: istore_2
      40: iconst_0
      41: iload_2
      42: invokestatic  #22                 // Method assertEquals:(II)V
      45: aload_0
      46: getfield      #2                  // Field userBean:Lorg/camunda/bpm/engine/spring/test/transaction/UserBean;
      49: aload_0
      50: getfield      #23                 // Field taskService:Lorg/camunda/bpm/engine/TaskService;
      53: invokeinterface #24,  1           // InterfaceMethod org/camunda/bpm/engine/TaskService.createTaskQuery:()Lorg/camunda/bpm/engine/task/TaskQuery;
      58: invokeinterface #25,  1           // InterfaceMethod org/camunda/bpm/engine/task/TaskQuery.singleResult:()Ljava/lang/Object;
      63: checkcast     #26                 // class org/camunda/bpm/engine/task/Task
      66: invokeinterface #27,  1           // InterfaceMethod org/camunda/bpm/engine/task/Task.getId:()Ljava/lang/String;
      71: invokevirtual #28                 // Method org/camunda/bpm/engine/spring/test/transaction/UserBean.completeTask:(Ljava/lang/String;)V
      74: invokestatic  #29                 // Method fail:()V
      77: goto          81
      80: astore_3
      81: ldc           #31                 // String My Task
      83: aload_0
      84: getfield      #23                 // Field taskService:Lorg/camunda/bpm/engine/TaskService;
      87: invokeinterface #24,  1           // InterfaceMethod org/camunda/bpm/engine/TaskService.createTaskQuery:()Lorg/camunda/bpm/engine/task/TaskQuery;
      92: invokeinterface #25,  1           // InterfaceMethod org/camunda/bpm/engine/task/TaskQuery.singleResult:()Ljava/lang/Object;
      97: checkcast     #26                 // class org/camunda/bpm/engine/task/Task
     100: invokeinterface #32,  1           // InterfaceMethod org/camunda/bpm/engine/task/Task.getName:()Ljava/lang/String;
     105: invokestatic  #33                 // Method assertEquals:(Ljava/lang/String;Ljava/lang/String;)V
     108: aload_1
     109: ldc           #18                 // String select count(*) from MY_TABLE
     111: ldc           #19                 // class java/lang/Integer
     113: invokevirtual #20                 // Method org/springframework/jdbc/core/JdbcTemplate.queryForObject:(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
     116: checkcast     #19                 // class java/lang/Integer
     119: invokevirtual #21                 // Method java/lang/Integer.intValue:()I
     122: istore_2
     123: iconst_0
     124: iload_2
     125: invokestatic  #22                 // Method assertEquals:(II)V
     128: aload_1
     129: ldc           #34                 // String drop table MY_TABLE if exists;
     131: invokevirtual #17                 // Method org/springframework/jdbc/core/JdbcTemplate.execute:(Ljava/lang/String;)V
     134: return
    Exception table:
       from    to  target type
          45    77    80   Class java/lang/Exception

  public void testErrorPropagationOnExceptionInTransaction();
    Code:
       0: aload_0
       1: getfield      #4                  // Field runtimeService:Lorg/camunda/bpm/engine/RuntimeService;
       4: ldc           #35                 // String process
       6: invokeinterface #36,  2           // InterfaceMethod org/camunda/bpm/engine/RuntimeService.startProcessInstanceByKey:(Ljava/lang/String;)Lorg/camunda/bpm/engine/runtime/ProcessInstance;
      11: pop
      12: aload_0
      13: getstatic     #37                 // Field WAIT_TIME_MILLIS:J
      16: invokevirtual #38                 // Method waitForJobExecutorToProcessAllJobs:(J)V
      19: aload_0
      20: getfield      #4                  // Field runtimeService:Lorg/camunda/bpm/engine/RuntimeService;
      23: invokeinterface #39,  1           // InterfaceMethod org/camunda/bpm/engine/RuntimeService.createIncidentQuery:()Lorg/camunda/bpm/engine/runtime/IncidentQuery;
      28: ldc           #40                 // String servicetask
      30: invokeinterface #41,  2           // InterfaceMethod org/camunda/bpm/engine/runtime/IncidentQuery.activityId:(Ljava/lang/String;)Lorg/camunda/bpm/engine/runtime/IncidentQuery;
      35: invokeinterface #42,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/IncidentQuery.singleResult:()Ljava/lang/Object;
      40: checkcast     #43                 // class org/camunda/bpm/engine/runtime/Incident
      43: astore_1
      44: aload_1
      45: invokeinterface #44,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Incident.getIncidentMessage:()Ljava/lang/String;
      50: ldc           #45                 // String error
      52: invokestatic  #46                 // Method org/hamcrest/CoreMatchers.is:(Ljava/lang/Object;)Lorg/hamcrest/Matcher;
      55: invokestatic  #47                 // Method org/junit/Assert.assertThat:(Ljava/lang/Object;Lorg/hamcrest/Matcher;)V
      58: return

  public void testTransactionRollbackInServiceTask() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field runtimeService:Lorg/camunda/bpm/engine/RuntimeService;
       4: ldc           #48                 // String txRollbackServiceTask
       6: invokeinterface #36,  2           // InterfaceMethod org/camunda/bpm/engine/RuntimeService.startProcessInstanceByKey:(Ljava/lang/String;)Lorg/camunda/bpm/engine/runtime/ProcessInstance;
      11: pop
      12: aload_0
      13: getstatic     #37                 // Field WAIT_TIME_MILLIS:J
      16: invokevirtual #38                 // Method waitForJobExecutorToProcessAllJobs:(J)V
      19: aload_0
      20: getfield      #49                 // Field managementService:Lorg/camunda/bpm/engine/ManagementService;
      23: invokeinterface #50,  1           // InterfaceMethod org/camunda/bpm/engine/ManagementService.createJobQuery:()Lorg/camunda/bpm/engine/runtime/JobQuery;
      28: invokeinterface #51,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/JobQuery.singleResult:()Ljava/lang/Object;
      33: checkcast     #52                 // class org/camunda/bpm/engine/runtime/Job
      36: astore_1
      37: aload_1
      38: invokestatic  #53                 // Method assertNotNull:(Ljava/lang/Object;)V
      41: iconst_0
      42: aload_1
      43: invokeinterface #54,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getRetries:()I
      48: invokestatic  #22                 // Method assertEquals:(II)V
      51: ldc           #55                 // String Transaction rolled back because it has been marked as rollback-only
      53: aload_1
      54: invokeinterface #56,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getExceptionMessage:()Ljava/lang/String;
      59: invokestatic  #33                 // Method assertEquals:(Ljava/lang/String;Ljava/lang/String;)V
      62: aload_0
      63: getfield      #49                 // Field managementService:Lorg/camunda/bpm/engine/ManagementService;
      66: aload_1
      67: invokeinterface #57,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getId:()Ljava/lang/String;
      72: invokeinterface #58,  2           // InterfaceMethod org/camunda/bpm/engine/ManagementService.getJobExceptionStacktrace:(Ljava/lang/String;)Ljava/lang/String;
      77: astore_2
      78: aload_2
      79: invokestatic  #53                 // Method assertNotNull:(Ljava/lang/Object;)V
      82: new           #59                 // class java/lang/StringBuilder
      85: dup
      86: invokespecial #60                 // Method java/lang/StringBuilder."<init>":()V
      89: ldc           #61                 // String unexpected stacktrace, was <
      91: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: aload_2
      95: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: ldc           #63                 // String >
     100: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: invokevirtual #64                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     106: aload_2
     107: ldc           #55                 // String Transaction rolled back because it has been marked as rollback-only
     109: invokevirtual #65                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     112: invokestatic  #66                 // Method assertTrue:(Ljava/lang/String;Z)V
     115: return

  public void testTransactionRollbackInServiceTaskWithCustomRetryCycle() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field runtimeService:Lorg/camunda/bpm/engine/RuntimeService;
       4: ldc           #67                 // String txRollbackServiceTaskWithCustomRetryCycle
       6: invokeinterface #36,  2           // InterfaceMethod org/camunda/bpm/engine/RuntimeService.startProcessInstanceByKey:(Ljava/lang/String;)Lorg/camunda/bpm/engine/runtime/ProcessInstance;
      11: pop
      12: aload_0
      13: getstatic     #37                 // Field WAIT_TIME_MILLIS:J
      16: invokevirtual #38                 // Method waitForJobExecutorToProcessAllJobs:(J)V
      19: aload_0
      20: getfield      #49                 // Field managementService:Lorg/camunda/bpm/engine/ManagementService;
      23: invokeinterface #50,  1           // InterfaceMethod org/camunda/bpm/engine/ManagementService.createJobQuery:()Lorg/camunda/bpm/engine/runtime/JobQuery;
      28: invokeinterface #51,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/JobQuery.singleResult:()Ljava/lang/Object;
      33: checkcast     #52                 // class org/camunda/bpm/engine/runtime/Job
      36: astore_1
      37: aload_1
      38: invokestatic  #53                 // Method assertNotNull:(Ljava/lang/Object;)V
      41: iconst_0
      42: aload_1
      43: invokeinterface #54,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getRetries:()I
      48: invokestatic  #22                 // Method assertEquals:(II)V
      51: ldc           #55                 // String Transaction rolled back because it has been marked as rollback-only
      53: aload_1
      54: invokeinterface #56,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getExceptionMessage:()Ljava/lang/String;
      59: invokestatic  #33                 // Method assertEquals:(Ljava/lang/String;Ljava/lang/String;)V
      62: aload_0
      63: getfield      #49                 // Field managementService:Lorg/camunda/bpm/engine/ManagementService;
      66: aload_1
      67: invokeinterface #57,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getId:()Ljava/lang/String;
      72: invokeinterface #58,  2           // InterfaceMethod org/camunda/bpm/engine/ManagementService.getJobExceptionStacktrace:(Ljava/lang/String;)Ljava/lang/String;
      77: astore_2
      78: aload_2
      79: invokestatic  #53                 // Method assertNotNull:(Ljava/lang/Object;)V
      82: new           #59                 // class java/lang/StringBuilder
      85: dup
      86: invokespecial #60                 // Method java/lang/StringBuilder."<init>":()V
      89: ldc           #61                 // String unexpected stacktrace, was <
      91: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: aload_2
      95: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: ldc           #63                 // String >
     100: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: invokevirtual #64                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     106: aload_2
     107: ldc           #55                 // String Transaction rolled back because it has been marked as rollback-only
     109: invokevirtual #65                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     112: invokestatic  #66                 // Method assertTrue:(Ljava/lang/String;Z)V
     115: return

  public void testFailingTransactionListener() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field runtimeService:Lorg/camunda/bpm/engine/RuntimeService;
       4: ldc           #68                 // String failingTransactionListener
       6: invokeinterface #36,  2           // InterfaceMethod org/camunda/bpm/engine/RuntimeService.startProcessInstanceByKey:(Ljava/lang/String;)Lorg/camunda/bpm/engine/runtime/ProcessInstance;
      11: pop
      12: aload_0
      13: getstatic     #37                 // Field WAIT_TIME_MILLIS:J
      16: invokevirtual #38                 // Method waitForJobExecutorToProcessAllJobs:(J)V
      19: aload_0
      20: getfield      #49                 // Field managementService:Lorg/camunda/bpm/engine/ManagementService;
      23: invokeinterface #50,  1           // InterfaceMethod org/camunda/bpm/engine/ManagementService.createJobQuery:()Lorg/camunda/bpm/engine/runtime/JobQuery;
      28: invokeinterface #51,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/JobQuery.singleResult:()Ljava/lang/Object;
      33: checkcast     #52                 // class org/camunda/bpm/engine/runtime/Job
      36: astore_1
      37: aload_1
      38: invokestatic  #53                 // Method assertNotNull:(Ljava/lang/Object;)V
      41: iconst_0
      42: aload_1
      43: invokeinterface #54,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getRetries:()I
      48: invokestatic  #22                 // Method assertEquals:(II)V
      51: ldc           #69                 // String exception in transaction listener
      53: aload_1
      54: invokeinterface #56,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getExceptionMessage:()Ljava/lang/String;
      59: invokestatic  #33                 // Method assertEquals:(Ljava/lang/String;Ljava/lang/String;)V
      62: aload_0
      63: getfield      #49                 // Field managementService:Lorg/camunda/bpm/engine/ManagementService;
      66: aload_1
      67: invokeinterface #57,  1           // InterfaceMethod org/camunda/bpm/engine/runtime/Job.getId:()Ljava/lang/String;
      72: invokeinterface #58,  2           // InterfaceMethod org/camunda/bpm/engine/ManagementService.getJobExceptionStacktrace:(Ljava/lang/String;)Ljava/lang/String;
      77: astore_2
      78: aload_2
      79: invokestatic  #53                 // Method assertNotNull:(Ljava/lang/Object;)V
      82: new           #59                 // class java/lang/StringBuilder
      85: dup
      86: invokespecial #60                 // Method java/lang/StringBuilder."<init>":()V
      89: ldc           #61                 // String unexpected stacktrace, was <
      91: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: aload_2
      95: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: ldc           #63                 // String >
     100: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: invokevirtual #64                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     106: aload_2
     107: ldc           #70                 // String java.lang.RuntimeException: exception in transaction listener
     109: invokevirtual #65                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     112: invokestatic  #66                 // Method assertTrue:(Ljava/lang/String;Z)V
     115: return

  static {};
    Code:
       0: getstatic     #71                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
       3: ldc2_w        #72                 // long 20l
       6: getstatic     #74                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
       9: invokevirtual #75                 // Method java/util/concurrent/TimeUnit.convert:(JLjava/util/concurrent/TimeUnit;)J
      12: putstatic     #37                 // Field WAIT_TIME_MILLIS:J
      15: return
}
