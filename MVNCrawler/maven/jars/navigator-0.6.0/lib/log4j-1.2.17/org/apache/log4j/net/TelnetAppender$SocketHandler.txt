Compiled from "TelnetAppender.java"
public class org.apache.log4j.net.TelnetAppender$SocketHandler extends java.lang.Thread {
  private java.util.Vector writers;

  private java.util.Vector connections;

  private java.net.ServerSocket serverSocket;

  private int MAX_CONNECTIONS;

  private final org.apache.log4j.net.TelnetAppender this$0;

  public void finalize();
    Code:
       0: aload_0
       1: invokevirtual #1                  // Method close:()V
       4: return

  public void close();
    Code:
       0: aload_0
       1: dup
       2: astore_1
       3: monitorenter
       4: aload_0
       5: getfield      #2                  // Field connections:Ljava/util/Vector;
       8: invokevirtual #3                  // Method java/util/Vector.elements:()Ljava/util/Enumeration;
      11: astore_2
      12: aload_2
      13: invokeinterface #4,  1            // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      18: ifeq          54
      21: aload_2
      22: invokeinterface #5,  1            // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      27: checkcast     #6                  // class java/net/Socket
      30: invokevirtual #7                  // Method java/net/Socket.close:()V
      33: goto          12
      36: astore_3
      37: invokestatic  #9                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      40: invokevirtual #10                 // Method java/lang/Thread.interrupt:()V
      43: goto          12
      46: astore_3
      47: goto          12
      50: astore_3
      51: goto          12
      54: aload_1
      55: monitorexit
      56: goto          66
      59: astore        4
      61: aload_1
      62: monitorexit
      63: aload         4
      65: athrow
      66: aload_0
      67: getfield      #13                 // Field serverSocket:Ljava/net/ServerSocket;
      70: invokevirtual #14                 // Method java/net/ServerSocket.close:()V
      73: goto          91
      76: astore_1
      77: invokestatic  #9                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      80: invokevirtual #10                 // Method java/lang/Thread.interrupt:()V
      83: goto          91
      86: astore_1
      87: goto          91
      90: astore_1
      91: return
    Exception table:
       from    to  target type
          21    33    36   Class java/io/InterruptedIOException
          21    33    46   Class java/io/IOException
          21    33    50   Class java/lang/RuntimeException
           4    56    59   any
          59    63    59   any
          66    73    76   Class java/io/InterruptedIOException
          66    73    86   Class java/io/IOException
          66    73    90   Class java/lang/RuntimeException

  public synchronized void send(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field connections:Ljava/util/Vector;
       4: invokevirtual #15                 // Method java/util/Vector.iterator:()Ljava/util/Iterator;
       7: astore_2
       8: aload_0
       9: getfield      #16                 // Field writers:Ljava/util/Vector;
      12: invokevirtual #15                 // Method java/util/Vector.iterator:()Ljava/util/Iterator;
      15: astore_3
      16: aload_3
      17: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      22: ifeq          72
      25: aload_2
      26: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      31: pop
      32: aload_3
      33: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #19                 // class java/io/PrintWriter
      41: astore        4
      43: aload         4
      45: aload_1
      46: invokevirtual #20                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      49: aload         4
      51: invokevirtual #21                 // Method java/io/PrintWriter.checkError:()Z
      54: ifeq          69
      57: aload_2
      58: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.remove:()V
      63: aload_3
      64: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.remove:()V
      69: goto          16
      72: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #13                 // Field serverSocket:Ljava/net/ServerSocket;
       4: invokevirtual #23                 // Method java/net/ServerSocket.isClosed:()Z
       7: ifne          174
      10: aload_0
      11: getfield      #13                 // Field serverSocket:Ljava/net/ServerSocket;
      14: invokevirtual #24                 // Method java/net/ServerSocket.accept:()Ljava/net/Socket;
      17: astore_1
      18: new           #19                 // class java/io/PrintWriter
      21: dup
      22: aload_1
      23: invokevirtual #25                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
      26: invokespecial #26                 // Method java/io/PrintWriter."<init>":(Ljava/io/OutputStream;)V
      29: astore_2
      30: aload_0
      31: getfield      #2                  // Field connections:Ljava/util/Vector;
      34: invokevirtual #27                 // Method java/util/Vector.size:()I
      37: aload_0
      38: getfield      #28                 // Field MAX_CONNECTIONS:I
      41: if_icmpge     117
      44: aload_0
      45: dup
      46: astore_3
      47: monitorenter
      48: aload_0
      49: getfield      #2                  // Field connections:Ljava/util/Vector;
      52: aload_1
      53: invokevirtual #29                 // Method java/util/Vector.addElement:(Ljava/lang/Object;)V
      56: aload_0
      57: getfield      #16                 // Field writers:Ljava/util/Vector;
      60: aload_2
      61: invokevirtual #29                 // Method java/util/Vector.addElement:(Ljava/lang/Object;)V
      64: aload_2
      65: new           #30                 // class java/lang/StringBuffer
      68: dup
      69: invokespecial #31                 // Method java/lang/StringBuffer."<init>":()V
      72: ldc           #32                 // String TelnetAppender v1.0 (
      74: invokevirtual #33                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      77: aload_0
      78: getfield      #2                  // Field connections:Ljava/util/Vector;
      81: invokevirtual #27                 // Method java/util/Vector.size:()I
      84: invokevirtual #34                 // Method java/lang/StringBuffer.append:(I)Ljava/lang/StringBuffer;
      87: ldc           #35                 // String  active connections)\r\n\r\n
      89: invokevirtual #33                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      92: invokevirtual #36                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      95: invokevirtual #20                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      98: aload_2
      99: invokevirtual #37                 // Method java/io/PrintWriter.flush:()V
     102: aload_3
     103: monitorexit
     104: goto          114
     107: astore        4
     109: aload_3
     110: monitorexit
     111: aload         4
     113: athrow
     114: goto          131
     117: aload_2
     118: ldc           #38                 // String Too many connections.\r\n
     120: invokevirtual #20                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     123: aload_2
     124: invokevirtual #37                 // Method java/io/PrintWriter.flush:()V
     127: aload_1
     128: invokevirtual #7                  // Method java/net/Socket.close:()V
     131: goto          0
     134: astore_1
     135: aload_1
     136: instanceof    #8                  // class java/io/InterruptedIOException
     139: ifne          149
     142: aload_1
     143: instanceof    #40                 // class java/lang/InterruptedException
     146: ifeq          155
     149: invokestatic  #9                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     152: invokevirtual #10                 // Method java/lang/Thread.interrupt:()V
     155: aload_0
     156: getfield      #13                 // Field serverSocket:Ljava/net/ServerSocket;
     159: invokevirtual #23                 // Method java/net/ServerSocket.isClosed:()Z
     162: ifne          171
     165: ldc           #41                 // String Encountered error while in SocketHandler loop.
     167: aload_1
     168: invokestatic  #42                 // Method org/apache/log4j/helpers/LogLog.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     171: goto          174
     174: aload_0
     175: getfield      #13                 // Field serverSocket:Ljava/net/ServerSocket;
     178: invokevirtual #14                 // Method java/net/ServerSocket.close:()V
     181: goto          195
     184: astore_1
     185: invokestatic  #9                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     188: invokevirtual #10                 // Method java/lang/Thread.interrupt:()V
     191: goto          195
     194: astore_1
     195: return
    Exception table:
       from    to  target type
          48   104   107   any
         107   111   107   any
          10   131   134   Class java/lang/Exception
         174   181   184   Class java/io/InterruptedIOException
         174   181   194   Class java/io/IOException

  public org.apache.log4j.net.TelnetAppender$SocketHandler(org.apache.log4j.net.TelnetAppender, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #43                 // Field this$0:Lorg/apache/log4j/net/TelnetAppender;
       5: aload_0
       6: invokespecial #44                 // Method java/lang/Thread."<init>":()V
       9: aload_0
      10: new           #45                 // class java/util/Vector
      13: dup
      14: invokespecial #46                 // Method java/util/Vector."<init>":()V
      17: putfield      #16                 // Field writers:Ljava/util/Vector;
      20: aload_0
      21: new           #45                 // class java/util/Vector
      24: dup
      25: invokespecial #46                 // Method java/util/Vector."<init>":()V
      28: putfield      #2                  // Field connections:Ljava/util/Vector;
      31: aload_0
      32: bipush        20
      34: putfield      #28                 // Field MAX_CONNECTIONS:I
      37: aload_0
      38: new           #47                 // class java/net/ServerSocket
      41: dup
      42: iload_2
      43: invokespecial #48                 // Method java/net/ServerSocket."<init>":(I)V
      46: putfield      #13                 // Field serverSocket:Ljava/net/ServerSocket;
      49: aload_0
      50: new           #30                 // class java/lang/StringBuffer
      53: dup
      54: invokespecial #31                 // Method java/lang/StringBuffer."<init>":()V
      57: ldc           #49                 // String TelnetAppender-
      59: invokevirtual #33                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      62: aload_0
      63: invokevirtual #50                 // Method getName:()Ljava/lang/String;
      66: invokevirtual #33                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      69: ldc           #51                 // String -
      71: invokevirtual #33                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      74: iload_2
      75: invokevirtual #34                 // Method java/lang/StringBuffer.append:(I)Ljava/lang/StringBuffer;
      78: invokevirtual #36                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      81: invokevirtual #52                 // Method setName:(Ljava/lang/String;)V
      84: return
}
