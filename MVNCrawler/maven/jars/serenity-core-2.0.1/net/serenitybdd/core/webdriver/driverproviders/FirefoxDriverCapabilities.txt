Compiled from "FirefoxDriverCapabilities.java"
public class net.serenitybdd.core.webdriver.driverproviders.FirefoxDriverCapabilities implements net.serenitybdd.core.webdriver.driverproviders.DriverCapabilitiesProvider {
  private final net.thucydides.core.util.EnvironmentVariables environmentVariables;

  private final net.thucydides.core.webdriver.firefox.FirefoxProfileEnhancer firefoxProfileEnhancer;

  private org.openqa.selenium.firefox.internal.ProfilesIni allProfiles;

  public net.serenitybdd.core.webdriver.driverproviders.FirefoxDriverCapabilities(net.thucydides.core.util.EnvironmentVariables);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
       9: aload_0
      10: new           #3                  // class net/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer
      13: dup
      14: aload_1
      15: invokespecial #4                  // Method net/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer."<init>":(Lnet/thucydides/core/util/EnvironmentVariables;)V
      18: putfield      #5                  // Field firefoxProfileEnhancer:Lnet/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer;
      21: return

  public org.openqa.selenium.remote.DesiredCapabilities getCapabilities();
    Code:
       0: invokestatic  #6                  // Method org/openqa/selenium/remote/DesiredCapabilities.firefox:()Lorg/openqa/selenium/remote/DesiredCapabilities;
       3: astore_1
       4: aload_1
       5: ldc           #7                  // String firefox_profile
       7: aload_0
       8: invokespecial #8                  // Method buildFirefoxProfile:()Lorg/openqa/selenium/firefox/FirefoxProfile;
      11: invokevirtual #9                  // Method org/openqa/selenium/remote/DesiredCapabilities.setCapability:(Ljava/lang/String;Ljava/lang/Object;)V
      14: getstatic     #10                 // Field net/thucydides/core/ThucydidesSystemProperty.GECKO_FIREFOX_OPTIONS:Lnet/thucydides/core/ThucydidesSystemProperty;
      17: aload_0
      18: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
      21: invokevirtual #11                 // Method net/thucydides/core/ThucydidesSystemProperty.isDefinedIn:(Lnet/thucydides/core/util/EnvironmentVariables;)Z
      24: ifeq          71
      27: getstatic     #10                 // Field net/thucydides/core/ThucydidesSystemProperty.GECKO_FIREFOX_OPTIONS:Lnet/thucydides/core/ThucydidesSystemProperty;
      30: aload_0
      31: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
      34: invokevirtual #12                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/String;
      37: astore_2
      38: new           #13                 // class com/google/gson/Gson
      41: dup
      42: invokespecial #14                 // Method com/google/gson/Gson."<init>":()V
      45: aload_2
      46: new           #15                 // class net/serenitybdd/core/webdriver/driverproviders/FirefoxDriverCapabilities$1
      49: dup
      50: aload_0
      51: invokespecial #16                 // Method net/serenitybdd/core/webdriver/driverproviders/FirefoxDriverCapabilities$1."<init>":(Lnet/serenitybdd/core/webdriver/driverproviders/FirefoxDriverCapabilities;)V
      54: invokevirtual #17                 // Method net/serenitybdd/core/webdriver/driverproviders/FirefoxDriverCapabilities$1.getType:()Ljava/lang/reflect/Type;
      57: invokevirtual #18                 // Method com/google/gson/Gson.fromJson:(Ljava/lang/String;Ljava/lang/reflect/Type;)Ljava/lang/Object;
      60: checkcast     #19                 // class java/util/Map
      63: astore_3
      64: aload_1
      65: ldc           #20                 // String moz:firefoxOptions
      67: aload_3
      68: invokevirtual #9                  // Method org/openqa/selenium/remote/DesiredCapabilities.setCapability:(Ljava/lang/String;Ljava/lang/Object;)V
      71: aload_0
      72: aload_1
      73: invokespecial #21                 // Method addProxyConfigurationTo:(Lorg/openqa/selenium/remote/DesiredCapabilities;)V
      76: aload_1
      77: areturn

  private void addProxyConfigurationTo(org.openqa.selenium.remote.DesiredCapabilities);
    Code:
       0: getstatic     #22                 // Field net/thucydides/core/ThucydidesSystemProperty.SERENITY_PROXY_HTTP:Lnet/thucydides/core/ThucydidesSystemProperty;
       3: aload_0
       4: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
       7: invokevirtual #12                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/String;
      10: astore_2
      11: getstatic     #23                 // Field net/thucydides/core/ThucydidesSystemProperty.SERENITY_PROXY_HTTP_PORT:Lnet/thucydides/core/ThucydidesSystemProperty;
      14: aload_0
      15: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
      18: invokevirtual #12                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/String;
      21: astore_3
      22: getstatic     #24                 // Field net/thucydides/core/ThucydidesSystemProperty.SERENITY_PROXY_SSL:Lnet/thucydides/core/ThucydidesSystemProperty;
      25: aload_0
      26: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
      29: aload_2
      30: invokevirtual #25                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;Ljava/lang/String;)Ljava/lang/String;
      33: astore        4
      35: getstatic     #26                 // Field net/thucydides/core/ThucydidesSystemProperty.SERENITY_PROXY_SSL_PORT:Lnet/thucydides/core/ThucydidesSystemProperty;
      38: aload_0
      39: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
      42: invokevirtual #12                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/String;
      45: astore        5
      47: getstatic     #27                 // Field net/thucydides/core/ThucydidesSystemProperty.SERENITY_PROXY_TYPE:Lnet/thucydides/core/ThucydidesSystemProperty;
      50: aload_0
      51: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
      54: ldc           #28                 // String MANUAL
      56: invokevirtual #25                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;Ljava/lang/String;)Ljava/lang/String;
      59: astore        6
      61: aload_2
      62: ifnull        170
      65: aload_2
      66: invokevirtual #29                 // Method java/lang/String.isEmpty:()Z
      69: ifne          170
      72: new           #30                 // class com/google/gson/JsonObject
      75: dup
      76: invokespecial #31                 // Method com/google/gson/JsonObject."<init>":()V
      79: astore        7
      81: aload         6
      83: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.isNotEmpty:(Ljava/lang/CharSequence;)Z
      86: ifeq          98
      89: aload         7
      91: ldc           #33                 // String proxyType
      93: aload         6
      95: invokevirtual #34                 // Method com/google/gson/JsonObject.addProperty:(Ljava/lang/String;Ljava/lang/String;)V
      98: aload_2
      99: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.isNotEmpty:(Ljava/lang/CharSequence;)Z
     102: ifeq          113
     105: aload         7
     107: ldc           #35                 // String httpProxy
     109: aload_2
     110: invokevirtual #34                 // Method com/google/gson/JsonObject.addProperty:(Ljava/lang/String;Ljava/lang/String;)V
     113: aload_3
     114: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.isNotEmpty:(Ljava/lang/CharSequence;)Z
     117: ifeq          128
     120: aload         7
     122: ldc           #36                 // String httpProxyPort
     124: aload_3
     125: invokevirtual #34                 // Method com/google/gson/JsonObject.addProperty:(Ljava/lang/String;Ljava/lang/String;)V
     128: aload         4
     130: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.isNotEmpty:(Ljava/lang/CharSequence;)Z
     133: ifeq          145
     136: aload         7
     138: ldc           #37                 // String sslProxy
     140: aload         4
     142: invokevirtual #34                 // Method com/google/gson/JsonObject.addProperty:(Ljava/lang/String;Ljava/lang/String;)V
     145: aload         5
     147: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.isNotEmpty:(Ljava/lang/CharSequence;)Z
     150: ifeq          162
     153: aload         7
     155: ldc           #38                 // String sslProxyPort
     157: aload         5
     159: invokevirtual #34                 // Method com/google/gson/JsonObject.addProperty:(Ljava/lang/String;Ljava/lang/String;)V
     162: aload_1
     163: ldc           #39                 // String proxy
     165: aload         7
     167: invokevirtual #9                  // Method org/openqa/selenium/remote/DesiredCapabilities.setCapability:(Ljava/lang/String;Ljava/lang/Object;)V
     170: return

  private org.openqa.selenium.firefox.FirefoxProfile buildFirefoxProfile();
    Code:
       0: getstatic     #40                 // Field net/thucydides/core/ThucydidesSystemProperty.WEBDRIVER_FIREFOX_PROFILE:Lnet/thucydides/core/ThucydidesSystemProperty;
       3: aload_0
       4: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
       7: invokevirtual #12                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/String;
      10: astore_1
      11: new           #41                 // class net/thucydides/core/steps/FilePathParser
      14: dup
      15: aload_0
      16: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
      19: invokespecial #42                 // Method net/thucydides/core/steps/FilePathParser."<init>":(Lnet/thucydides/core/util/EnvironmentVariables;)V
      22: astore_2
      23: invokestatic  #6                  // Method org/openqa/selenium/remote/DesiredCapabilities.firefox:()Lorg/openqa/selenium/remote/DesiredCapabilities;
      26: astore_3
      27: aload_1
      28: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.isNotEmpty:(Ljava/lang/CharSequence;)Z
      31: ifeq          45
      34: aload_3
      35: ldc           #7                  // String firefox_profile
      37: aload_2
      38: aload_1
      39: invokevirtual #44                 // Method net/thucydides/core/steps/FilePathParser.getInstanciatedPath:(Ljava/lang/String;)Ljava/lang/String;
      42: invokevirtual #45                 // Method org/openqa/selenium/remote/DesiredCapabilities.setCapability:(Ljava/lang/String;Ljava/lang/String;)V
      45: aload_1
      46: ifnonnull     58
      49: aload_0
      50: invokespecial #46                 // Method createNewFirefoxProfile:()Lorg/openqa/selenium/firefox/FirefoxProfile;
      53: astore        4
      55: goto          65
      58: aload_0
      59: aload_1
      60: invokespecial #47                 // Method getProfileFrom:(Ljava/lang/String;)Lorg/openqa/selenium/firefox/FirefoxProfile;
      63: astore        4
      65: aload_0
      66: getfield      #5                  // Field firefoxProfileEnhancer:Lnet/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer;
      69: aload         4
      71: invokevirtual #48                 // Method net/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer.allowWindowResizeFor:(Lorg/openqa/selenium/firefox/FirefoxProfile;)V
      74: aload_0
      75: invokespecial #49                 // Method shouldActivateProxy:()Z
      78: ifeq          91
      81: aload_0
      82: aload         4
      84: aload_0
      85: getfield      #5                  // Field firefoxProfileEnhancer:Lnet/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer;
      88: invokespecial #50                 // Method activateProxyFor:(Lorg/openqa/selenium/firefox/FirefoxProfile;Lnet/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer;)V
      91: aload_0
      92: invokespecial #51                 // Method refuseUntrustedCertificates:()Z
      95: ifeq          113
      98: aload         4
     100: iconst_0
     101: invokevirtual #52                 // Method org/openqa/selenium/firefox/FirefoxProfile.setAssumeUntrustedCertificateIssuer:(Z)V
     104: aload         4
     106: iconst_0
     107: invokevirtual #53                 // Method org/openqa/selenium/firefox/FirefoxProfile.setAcceptUntrustedCertificates:(Z)V
     110: goto          125
     113: aload         4
     115: iconst_1
     116: invokevirtual #52                 // Method org/openqa/selenium/firefox/FirefoxProfile.setAssumeUntrustedCertificateIssuer:(Z)V
     119: aload         4
     121: iconst_1
     122: invokevirtual #53                 // Method org/openqa/selenium/firefox/FirefoxProfile.setAcceptUntrustedCertificates:(Z)V
     125: aload_0
     126: getfield      #5                  // Field firefoxProfileEnhancer:Lnet/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer;
     129: aload         4
     131: invokevirtual #54                 // Method net/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer.configureJavaSupport:(Lorg/openqa/selenium/firefox/FirefoxProfile;)V
     134: aload_0
     135: getfield      #5                  // Field firefoxProfileEnhancer:Lnet/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer;
     138: aload         4
     140: invokevirtual #55                 // Method net/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer.addPreferences:(Lorg/openqa/selenium/firefox/FirefoxProfile;)V
     143: aload         4
     145: areturn

  private void activateProxyFor(org.openqa.selenium.firefox.FirefoxProfile, net.thucydides.core.webdriver.firefox.FirefoxProfileEnhancer);
    Code:
       0: aload_0
       1: invokespecial #56                 // Method getProxyUrlFromEnvironmentVariables:()Ljava/lang/String;
       4: astore_3
       5: aload_0
       6: invokespecial #57                 // Method getProxyPortFromEnvironmentVariables:()Ljava/lang/String;
       9: astore        4
      11: aload_2
      12: aload_1
      13: aload_3
      14: aload         4
      16: invokevirtual #58                 // Method net/thucydides/core/webdriver/firefox/FirefoxProfileEnhancer.activateProxy:(Lorg/openqa/selenium/firefox/FirefoxProfile;Ljava/lang/String;Ljava/lang/String;)V
      19: return

  private java.lang.String getProxyPortFromEnvironmentVariables();
    Code:
       0: getstatic     #23                 // Field net/thucydides/core/ThucydidesSystemProperty.SERENITY_PROXY_HTTP_PORT:Lnet/thucydides/core/ThucydidesSystemProperty;
       3: aload_0
       4: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
       7: invokevirtual #12                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/String;
      10: areturn

  private boolean shouldActivateProxy();
    Code:
       0: aload_0
       1: invokespecial #56                 // Method getProxyUrlFromEnvironmentVariables:()Ljava/lang/String;
       4: astore_1
       5: aload_1
       6: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.isNotEmpty:(Ljava/lang/CharSequence;)Z
       9: ireturn

  private java.lang.String getProxyUrlFromEnvironmentVariables();
    Code:
       0: getstatic     #22                 // Field net/thucydides/core/ThucydidesSystemProperty.SERENITY_PROXY_HTTP:Lnet/thucydides/core/ThucydidesSystemProperty;
       3: aload_0
       4: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
       7: invokevirtual #12                 // Method net/thucydides/core/ThucydidesSystemProperty.from:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/String;
      10: areturn

  private org.openqa.selenium.firefox.FirefoxProfile getProfileFrom(java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #59                 // Method getAllProfiles:()Lorg/openqa/selenium/firefox/internal/ProfilesIni;
       4: aload_1
       5: invokevirtual #60                 // Method org/openqa/selenium/firefox/internal/ProfilesIni.getProfile:(Ljava/lang/String;)Lorg/openqa/selenium/firefox/FirefoxProfile;
       8: astore_2
       9: aload_2
      10: ifnonnull     26
      13: aload_0
      14: new           #61                 // class java/io/File
      17: dup
      18: aload_1
      19: invokespecial #62                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      22: invokespecial #63                 // Method useExistingFirefoxProfile:(Ljava/io/File;)Lorg/openqa/selenium/firefox/FirefoxProfile;
      25: astore_2
      26: aload_2
      27: areturn

  private org.openqa.selenium.firefox.internal.ProfilesIni getAllProfiles();
    Code:
       0: aload_0
       1: getfield      #64                 // Field allProfiles:Lorg/openqa/selenium/firefox/internal/ProfilesIni;
       4: ifnonnull     18
       7: aload_0
       8: new           #65                 // class org/openqa/selenium/firefox/internal/ProfilesIni
      11: dup
      12: invokespecial #66                 // Method org/openqa/selenium/firefox/internal/ProfilesIni."<init>":()V
      15: putfield      #64                 // Field allProfiles:Lorg/openqa/selenium/firefox/internal/ProfilesIni;
      18: aload_0
      19: getfield      #64                 // Field allProfiles:Lorg/openqa/selenium/firefox/internal/ProfilesIni;
      22: areturn

  private org.openqa.selenium.firefox.FirefoxProfile createNewFirefoxProfile();
    Code:
       0: invokestatic  #67                 // Method net/serenitybdd/core/Serenity.getFirefoxProfile:()Lorg/openqa/selenium/firefox/FirefoxProfile;
       3: ifnull        13
       6: invokestatic  #67                 // Method net/serenitybdd/core/Serenity.getFirefoxProfile:()Lorg/openqa/selenium/firefox/FirefoxProfile;
       9: astore_1
      10: goto          35
      13: new           #68                 // class org/openqa/selenium/firefox/FirefoxProfile
      16: dup
      17: invokespecial #69                 // Method org/openqa/selenium/firefox/FirefoxProfile."<init>":()V
      20: astore_1
      21: aload_1
      22: ldc           #70                 // String network.proxy.socks_port
      24: sipush        9999
      27: invokevirtual #71                 // Method org/openqa/selenium/firefox/FirefoxProfile.setPreference:(Ljava/lang/String;I)V
      30: aload_1
      31: iconst_1
      32: invokevirtual #72                 // Method org/openqa/selenium/firefox/FirefoxProfile.setAlwaysLoadNoFocusLib:(Z)V
      35: aload_1
      36: areturn

  private org.openqa.selenium.firefox.FirefoxProfile useExistingFirefoxProfile(java.io.File);
    Code:
       0: new           #68                 // class org/openqa/selenium/firefox/FirefoxProfile
       3: dup
       4: aload_1
       5: invokespecial #73                 // Method org/openqa/selenium/firefox/FirefoxProfile."<init>":(Ljava/io/File;)V
       8: areturn

  private boolean refuseUntrustedCertificates();
    Code:
       0: getstatic     #74                 // Field net/thucydides/core/ThucydidesSystemProperty.REFUSE_UNTRUSTED_CERTIFICATES:Lnet/thucydides/core/ThucydidesSystemProperty;
       3: aload_0
       4: getfield      #2                  // Field environmentVariables:Lnet/thucydides/core/util/EnvironmentVariables;
       7: invokevirtual #75                 // Method net/thucydides/core/ThucydidesSystemProperty.booleanFrom:(Lnet/thucydides/core/util/EnvironmentVariables;)Ljava/lang/Boolean;
      10: invokevirtual #76                 // Method java/lang/Boolean.booleanValue:()Z
      13: ireturn
}
