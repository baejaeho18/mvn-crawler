Compiled from "ScreenshotPermission.java"
public class net.thucydides.core.model.screenshots.ScreenshotPermission {
  private final net.thucydides.core.webdriver.Configuration<net.thucydides.core.webdriver.Configuration> configuration;

  public net.thucydides.core.model.screenshots.ScreenshotPermission(net.thucydides.core.webdriver.Configuration);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field configuration:Lnet/thucydides/core/webdriver/Configuration;
       9: return

  public boolean areAllowed(net.thucydides.core.model.TakeScreenshots);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method methodOverride:()Ljava/util/Optional;
       4: aload_0
       5: invokespecial #4                  // Method classOverride:()Ljava/util/Optional;
       8: aload_0
       9: getfield      #2                  // Field configuration:Lnet/thucydides/core/webdriver/Configuration;
      12: invokeinterface #5,  1            // InterfaceMethod net/thucydides/core/webdriver/Configuration.getScreenshotLevel:()Ljava/util/Optional;
      17: getstatic     #6                  // Field net/thucydides/core/model/TakeScreenshots.UNDEFINED:Lnet/thucydides/core/model/TakeScreenshots;
      20: invokevirtual #7                  // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      23: invokevirtual #7                  // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      26: invokevirtual #7                  // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      29: checkcast     #8                  // class net/thucydides/core/model/TakeScreenshots
      32: astore_2
      33: aload_2
      34: getstatic     #6                  // Field net/thucydides/core/model/TakeScreenshots.UNDEFINED:Lnet/thucydides/core/model/TakeScreenshots;
      37: if_acmpeq     50
      40: aload_0
      41: aload_1
      42: invokespecial #9                  // Method takeScreenshotLevel:(Lnet/thucydides/core/model/TakeScreenshots;)Lnet/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer;
      45: aload_2
      46: invokevirtual #10                 // Method net/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer.isAtLeast:(Lnet/thucydides/core/model/TakeScreenshots;)Z
      49: ireturn
      50: aload_0
      51: aload_1
      52: invokespecial #11                 // Method legacyScreenshotConfiguration:(Lnet/thucydides/core/model/TakeScreenshots;)Z
      55: ireturn

  private boolean legacyScreenshotConfiguration(net.thucydides.core.model.TakeScreenshots);
    Code:
       0: aload_0
       1: getfield      #2                  // Field configuration:Lnet/thucydides/core/webdriver/Configuration;
       4: invokeinterface #12,  1           // InterfaceMethod net/thucydides/core/webdriver/Configuration.onlySaveFailingScreenshots:()Z
       9: ifeq          24
      12: aload_0
      13: aload_1
      14: invokespecial #9                  // Method takeScreenshotLevel:(Lnet/thucydides/core/model/TakeScreenshots;)Lnet/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer;
      17: getstatic     #13                 // Field net/thucydides/core/model/TakeScreenshots.FOR_FAILURES:Lnet/thucydides/core/model/TakeScreenshots;
      20: invokevirtual #10                 // Method net/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer.isAtLeast:(Lnet/thucydides/core/model/TakeScreenshots;)Z
      23: ireturn
      24: aload_0
      25: getfield      #2                  // Field configuration:Lnet/thucydides/core/webdriver/Configuration;
      28: invokeinterface #14,  1           // InterfaceMethod net/thucydides/core/webdriver/Configuration.takeVerboseScreenshots:()Z
      33: ifeq          48
      36: aload_0
      37: aload_1
      38: invokespecial #9                  // Method takeScreenshotLevel:(Lnet/thucydides/core/model/TakeScreenshots;)Lnet/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer;
      41: getstatic     #15                 // Field net/thucydides/core/model/TakeScreenshots.FOR_EACH_ACTION:Lnet/thucydides/core/model/TakeScreenshots;
      44: invokevirtual #10                 // Method net/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer.isAtLeast:(Lnet/thucydides/core/model/TakeScreenshots;)Z
      47: ireturn
      48: aload_0
      49: aload_1
      50: invokespecial #9                  // Method takeScreenshotLevel:(Lnet/thucydides/core/model/TakeScreenshots;)Lnet/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer;
      53: getstatic     #16                 // Field net/thucydides/core/model/TakeScreenshots.BEFORE_AND_AFTER_EACH_STEP:Lnet/thucydides/core/model/TakeScreenshots;
      56: invokevirtual #10                 // Method net/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer.isAtLeast:(Lnet/thucydides/core/model/TakeScreenshots;)Z
      59: ireturn

  private java.util.Optional<net.thucydides.core.model.TakeScreenshots> methodOverride();
    Code:
       0: new           #17                 // class java/lang/Throwable
       3: dup
       4: invokespecial #18                 // Method java/lang/Throwable."<init>":()V
       7: invokevirtual #19                 // Method java/lang/Throwable.getStackTrace:()[Ljava/lang/StackTraceElement;
      10: invokestatic  #20                 // Method net/thucydides/core/reflection/StackTraceAnalyser.inscopeMethodsIn:([Ljava/lang/StackTraceElement;)Ljava/util/List;
      13: invokeinterface #21,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      18: astore_1
      19: aload_1
      20: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      25: ifeq          56
      28: aload_1
      29: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #24                 // class java/lang/reflect/Method
      37: astore_2
      38: aload_0
      39: aload_2
      40: invokespecial #25                 // Method overriddenScreenshotPreferenceFor:(Ljava/lang/reflect/Method;)Ljava/util/Optional;
      43: astore_3
      44: aload_3
      45: invokevirtual #26                 // Method java/util/Optional.isPresent:()Z
      48: ifeq          53
      51: aload_3
      52: areturn
      53: goto          19
      56: invokestatic  #27                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      59: areturn

  private java.util.Optional<net.thucydides.core.model.TakeScreenshots> classOverride();
    Code:
       0: invokestatic  #28                 // Method net/thucydides/core/steps/StepEventBus.getEventBus:()Lnet/thucydides/core/steps/StepEventBus;
       3: invokevirtual #29                 // Method net/thucydides/core/steps/StepEventBus.isBaseStepListenerRegistered:()Z
       6: ifeq          45
       9: invokestatic  #28                 // Method net/thucydides/core/steps/StepEventBus.getEventBus:()Lnet/thucydides/core/steps/StepEventBus;
      12: invokevirtual #30                 // Method net/thucydides/core/steps/StepEventBus.getBaseStepListener:()Lnet/thucydides/core/steps/BaseStepListener;
      15: invokevirtual #31                 // Method net/thucydides/core/steps/BaseStepListener.getCurrentStepMethod:()Ljava/util/Optional;
      18: astore_1
      19: aload_1
      20: ifnull        45
      23: aload_1
      24: invokevirtual #26                 // Method java/util/Optional.isPresent:()Z
      27: ifeq          45
      30: aload_0
      31: aload_1
      32: invokevirtual #32                 // Method java/util/Optional.get:()Ljava/lang/Object;
      35: checkcast     #24                 // class java/lang/reflect/Method
      38: invokevirtual #33                 // Method java/lang/reflect/Method.getDeclaringClass:()Ljava/lang/Class;
      41: invokespecial #34                 // Method overriddenScreenshotPreferenceForClass:(Ljava/lang/Class;)Ljava/util/Optional;
      44: areturn
      45: invokestatic  #27                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      48: areturn

  private java.util.Optional<net.thucydides.core.model.TakeScreenshots> overriddenScreenshotPreferenceForClass(java.lang.Class<?>);
    Code:
       0: aload_1
       1: invokestatic  #35                 // Method net/thucydides/core/model/screenshots/ScreenshotPreferencesByClass.forClass:(Ljava/lang/Class;)Lnet/thucydides/core/model/screenshots/ScreenshotPreferencesByClass$ScreenshotPreferencesByClassBuilder;
       4: aload_0
       5: getfield      #2                  // Field configuration:Lnet/thucydides/core/webdriver/Configuration;
       8: invokeinterface #36,  1           // InterfaceMethod net/thucydides/core/webdriver/Configuration.getEnvironmentVariables:()Lnet/thucydides/core/util/EnvironmentVariables;
      13: invokevirtual #37                 // Method net/thucydides/core/model/screenshots/ScreenshotPreferencesByClass$ScreenshotPreferencesByClassBuilder.withEnvironmentVariables:(Lnet/thucydides/core/util/EnvironmentVariables;)Lnet/thucydides/core/model/screenshots/ScreenshotPreferencesByClass;
      16: invokevirtual #38                 // Method net/thucydides/core/model/screenshots/ScreenshotPreferencesByClass.getScreenshotPreference:()Ljava/util/Optional;
      19: astore_2
      20: aload_2
      21: areturn

  private java.util.Optional<net.thucydides.core.model.TakeScreenshots> overriddenScreenshotPreferenceFor(java.lang.reflect.Method);
    Code:
       0: aload_1
       1: ldc           #39                 // class net/thucydides/core/annotations/Screenshots
       3: invokevirtual #40                 // Method java/lang/reflect/Method.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
       6: ifnull        26
       9: aload_0
      10: aload_1
      11: ldc           #39                 // class net/thucydides/core/annotations/Screenshots
      13: invokevirtual #40                 // Method java/lang/reflect/Method.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
      16: checkcast     #39                 // class net/thucydides/core/annotations/Screenshots
      19: invokespecial #41                 // Method screenshotLevelFrom:(Lnet/thucydides/core/annotations/Screenshots;)Lnet/thucydides/core/model/TakeScreenshots;
      22: invokestatic  #42                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      25: areturn
      26: invokestatic  #27                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      29: areturn

  private net.thucydides.core.model.TakeScreenshots screenshotLevelFrom(net.thucydides.core.annotations.Screenshots);
    Code:
       0: aload_1
       1: invokeinterface #43,  1           // InterfaceMethod net/thucydides/core/annotations/Screenshots.disabled:()Z
       6: ifeq          13
       9: getstatic     #44                 // Field net/thucydides/core/model/TakeScreenshots.DISABLED:Lnet/thucydides/core/model/TakeScreenshots;
      12: areturn
      13: aload_1
      14: invokeinterface #45,  1           // InterfaceMethod net/thucydides/core/annotations/Screenshots.onlyOnFailures:()Z
      19: ifeq          26
      22: getstatic     #13                 // Field net/thucydides/core/model/TakeScreenshots.FOR_FAILURES:Lnet/thucydides/core/model/TakeScreenshots;
      25: areturn
      26: aload_1
      27: invokeinterface #46,  1           // InterfaceMethod net/thucydides/core/annotations/Screenshots.forEachAction:()Z
      32: ifeq          39
      35: getstatic     #15                 // Field net/thucydides/core/model/TakeScreenshots.FOR_EACH_ACTION:Lnet/thucydides/core/model/TakeScreenshots;
      38: areturn
      39: aload_1
      40: invokeinterface #47,  1           // InterfaceMethod net/thucydides/core/annotations/Screenshots.afterEachStep:()Z
      45: ifeq          52
      48: getstatic     #48                 // Field net/thucydides/core/model/TakeScreenshots.AFTER_EACH_STEP:Lnet/thucydides/core/model/TakeScreenshots;
      51: areturn
      52: aload_1
      53: invokeinterface #49,  1           // InterfaceMethod net/thucydides/core/annotations/Screenshots.beforeAndAfterEachStep:()Z
      58: ifeq          65
      61: getstatic     #16                 // Field net/thucydides/core/model/TakeScreenshots.BEFORE_AND_AFTER_EACH_STEP:Lnet/thucydides/core/model/TakeScreenshots;
      64: areturn
      65: getstatic     #16                 // Field net/thucydides/core/model/TakeScreenshots.BEFORE_AND_AFTER_EACH_STEP:Lnet/thucydides/core/model/TakeScreenshots;
      68: areturn

  private net.thucydides.core.model.screenshots.ScreenshotPermission$TakeScreenshotsComparer takeScreenshotLevel(net.thucydides.core.model.TakeScreenshots);
    Code:
       0: new           #50                 // class net/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer
       3: dup
       4: aload_1
       5: aconst_null
       6: invokespecial #51                 // Method net/thucydides/core/model/screenshots/ScreenshotPermission$TakeScreenshotsComparer."<init>":(Lnet/thucydides/core/model/TakeScreenshots;Lnet/thucydides/core/model/screenshots/ScreenshotPermission$1;)V
       9: areturn
}
