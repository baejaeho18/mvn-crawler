Compiled from "WebSocketWriter.java"
final class okhttp3.internal.ws.WebSocketWriter {
  final boolean isClient;

  final java.util.Random random;

  final okio.BufferedSink sink;

  boolean writerClosed;

  final okio.Buffer buffer;

  final okhttp3.internal.ws.WebSocketWriter$FrameSink frameSink;

  boolean activeWriter;

  final byte[] maskKey;

  final byte[] maskBuffer;

  static final boolean $assertionsDisabled;

  okhttp3.internal.ws.WebSocketWriter(boolean, okio.BufferedSink, java.util.Random);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class okio/Buffer
       8: dup
       9: invokespecial #4                  // Method okio/Buffer."<init>":()V
      12: putfield      #5                  // Field buffer:Lokio/Buffer;
      15: aload_0
      16: new           #6                  // class okhttp3/internal/ws/WebSocketWriter$FrameSink
      19: dup
      20: aload_0
      21: invokespecial #7                  // Method okhttp3/internal/ws/WebSocketWriter$FrameSink."<init>":(Lokhttp3/internal/ws/WebSocketWriter;)V
      24: putfield      #8                  // Field frameSink:Lokhttp3/internal/ws/WebSocketWriter$FrameSink;
      27: aload_2
      28: ifnonnull     41
      31: new           #9                  // class java/lang/NullPointerException
      34: dup
      35: ldc           #10                 // String sink == null
      37: invokespecial #11                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: aload_3
      42: ifnonnull     55
      45: new           #9                  // class java/lang/NullPointerException
      48: dup
      49: ldc           #12                 // String random == null
      51: invokespecial #11                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      54: athrow
      55: aload_0
      56: iload_1
      57: putfield      #13                 // Field isClient:Z
      60: aload_0
      61: aload_2
      62: putfield      #14                 // Field sink:Lokio/BufferedSink;
      65: aload_0
      66: aload_3
      67: putfield      #15                 // Field random:Ljava/util/Random;
      70: aload_0
      71: iload_1
      72: ifeq          81
      75: iconst_4
      76: newarray       byte
      78: goto          82
      81: aconst_null
      82: putfield      #16                 // Field maskKey:[B
      85: aload_0
      86: iload_1
      87: ifeq          98
      90: sipush        8192
      93: newarray       byte
      95: goto          99
      98: aconst_null
      99: putfield      #17                 // Field maskBuffer:[B
     102: return

  void writePing(okio.ByteString) throws java.io.IOException;
    Code:
       0: aload_0
       1: dup
       2: astore_2
       3: monitorenter
       4: aload_0
       5: bipush        9
       7: aload_1
       8: invokespecial #18                 // Method writeControlFrameSynchronized:(ILokio/ByteString;)V
      11: aload_2
      12: monitorexit
      13: goto          21
      16: astore_3
      17: aload_2
      18: monitorexit
      19: aload_3
      20: athrow
      21: return
    Exception table:
       from    to  target type
           4    13    16   any
          16    19    16   any

  void writePong(okio.ByteString) throws java.io.IOException;
    Code:
       0: aload_0
       1: dup
       2: astore_2
       3: monitorenter
       4: aload_0
       5: bipush        10
       7: aload_1
       8: invokespecial #18                 // Method writeControlFrameSynchronized:(ILokio/ByteString;)V
      11: aload_2
      12: monitorexit
      13: goto          21
      16: astore_3
      17: aload_2
      18: monitorexit
      19: aload_3
      20: athrow
      21: return
    Exception table:
       from    to  target type
           4    13    16   any
          16    19    16   any

  void writeClose(int, okio.ByteString) throws java.io.IOException;
    Code:
       0: getstatic     #19                 // Field okio/ByteString.EMPTY:Lokio/ByteString;
       3: astore_3
       4: iload_1
       5: ifne          12
       8: aload_2
       9: ifnull        53
      12: iload_1
      13: ifeq          20
      16: iload_1
      17: invokestatic  #20                 // Method okhttp3/internal/ws/WebSocketProtocol.validateCloseCode:(I)V
      20: new           #3                  // class okio/Buffer
      23: dup
      24: invokespecial #4                  // Method okio/Buffer."<init>":()V
      27: astore        4
      29: aload         4
      31: iload_1
      32: invokevirtual #21                 // Method okio/Buffer.writeShort:(I)Lokio/Buffer;
      35: pop
      36: aload_2
      37: ifnull        47
      40: aload         4
      42: aload_2
      43: invokevirtual #22                 // Method okio/Buffer.write:(Lokio/ByteString;)Lokio/Buffer;
      46: pop
      47: aload         4
      49: invokevirtual #23                 // Method okio/Buffer.readByteString:()Lokio/ByteString;
      52: astore_3
      53: aload_0
      54: dup
      55: astore        4
      57: monitorenter
      58: aload_0
      59: bipush        8
      61: aload_3
      62: invokespecial #18                 // Method writeControlFrameSynchronized:(ILokio/ByteString;)V
      65: aload_0
      66: iconst_1
      67: putfield      #24                 // Field writerClosed:Z
      70: goto          83
      73: astore        5
      75: aload_0
      76: iconst_1
      77: putfield      #24                 // Field writerClosed:Z
      80: aload         5
      82: athrow
      83: aload         4
      85: monitorexit
      86: goto          97
      89: astore        6
      91: aload         4
      93: monitorexit
      94: aload         6
      96: athrow
      97: return
    Exception table:
       from    to  target type
          58    65    73   any
          73    75    73   any
          58    86    89   any
          89    94    89   any

  private void writeControlFrameSynchronized(int, okio.ByteString) throws java.io.IOException;
    Code:
       0: getstatic     #25                 // Field $assertionsDisabled:Z
       3: ifne          21
       6: aload_0
       7: invokestatic  #26                 // Method java/lang/Thread.holdsLock:(Ljava/lang/Object;)Z
      10: ifne          21
      13: new           #27                 // class java/lang/AssertionError
      16: dup
      17: invokespecial #28                 // Method java/lang/AssertionError."<init>":()V
      20: athrow
      21: aload_0
      22: getfield      #24                 // Field writerClosed:Z
      25: ifeq          38
      28: new           #29                 // class java/io/IOException
      31: dup
      32: ldc           #30                 // String closed
      34: invokespecial #31                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      37: athrow
      38: aload_2
      39: invokevirtual #32                 // Method okio/ByteString.size:()I
      42: istore_3
      43: iload_3
      44: i2l
      45: ldc2_w        #33                 // long 125l
      48: lcmp
      49: ifle          62
      52: new           #35                 // class java/lang/IllegalArgumentException
      55: dup
      56: ldc           #36                 // String Payload size must be less than or equal to 125
      58: invokespecial #37                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      61: athrow
      62: sipush        128
      65: iload_1
      66: ior
      67: istore        4
      69: aload_0
      70: getfield      #14                 // Field sink:Lokio/BufferedSink;
      73: iload         4
      75: invokeinterface #38,  2           // InterfaceMethod okio/BufferedSink.writeByte:(I)Lokio/BufferedSink;
      80: pop
      81: iload_3
      82: istore        5
      84: aload_0
      85: getfield      #13                 // Field isClient:Z
      88: ifeq          171
      91: iload         5
      93: sipush        128
      96: ior
      97: istore        5
      99: aload_0
     100: getfield      #14                 // Field sink:Lokio/BufferedSink;
     103: iload         5
     105: invokeinterface #38,  2           // InterfaceMethod okio/BufferedSink.writeByte:(I)Lokio/BufferedSink;
     110: pop
     111: aload_0
     112: getfield      #15                 // Field random:Ljava/util/Random;
     115: aload_0
     116: getfield      #16                 // Field maskKey:[B
     119: invokevirtual #39                 // Method java/util/Random.nextBytes:([B)V
     122: aload_0
     123: getfield      #14                 // Field sink:Lokio/BufferedSink;
     126: aload_0
     127: getfield      #16                 // Field maskKey:[B
     130: invokeinterface #40,  2           // InterfaceMethod okio/BufferedSink.write:([B)Lokio/BufferedSink;
     135: pop
     136: aload_2
     137: invokevirtual #41                 // Method okio/ByteString.toByteArray:()[B
     140: astore        6
     142: aload         6
     144: aload         6
     146: arraylength
     147: i2l
     148: aload_0
     149: getfield      #16                 // Field maskKey:[B
     152: lconst_0
     153: invokestatic  #42                 // Method okhttp3/internal/ws/WebSocketProtocol.toggleMask:([BJ[BJ)V
     156: aload_0
     157: getfield      #14                 // Field sink:Lokio/BufferedSink;
     160: aload         6
     162: invokeinterface #40,  2           // InterfaceMethod okio/BufferedSink.write:([B)Lokio/BufferedSink;
     167: pop
     168: goto          194
     171: aload_0
     172: getfield      #14                 // Field sink:Lokio/BufferedSink;
     175: iload         5
     177: invokeinterface #38,  2           // InterfaceMethod okio/BufferedSink.writeByte:(I)Lokio/BufferedSink;
     182: pop
     183: aload_0
     184: getfield      #14                 // Field sink:Lokio/BufferedSink;
     187: aload_2
     188: invokeinterface #43,  2           // InterfaceMethod okio/BufferedSink.write:(Lokio/ByteString;)Lokio/BufferedSink;
     193: pop
     194: aload_0
     195: getfield      #14                 // Field sink:Lokio/BufferedSink;
     198: invokeinterface #44,  1           // InterfaceMethod okio/BufferedSink.flush:()V
     203: return

  okio.Sink newMessageSink(int, long);
    Code:
       0: aload_0
       1: getfield      #45                 // Field activeWriter:Z
       4: ifeq          17
       7: new           #46                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #47                 // String Another message writer is active. Did you call close()?
      13: invokespecial #48                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: iconst_1
      19: putfield      #45                 // Field activeWriter:Z
      22: aload_0
      23: getfield      #8                  // Field frameSink:Lokhttp3/internal/ws/WebSocketWriter$FrameSink;
      26: iload_1
      27: putfield      #49                 // Field okhttp3/internal/ws/WebSocketWriter$FrameSink.formatOpcode:I
      30: aload_0
      31: getfield      #8                  // Field frameSink:Lokhttp3/internal/ws/WebSocketWriter$FrameSink;
      34: lload_2
      35: putfield      #50                 // Field okhttp3/internal/ws/WebSocketWriter$FrameSink.contentLength:J
      38: aload_0
      39: getfield      #8                  // Field frameSink:Lokhttp3/internal/ws/WebSocketWriter$FrameSink;
      42: iconst_1
      43: putfield      #51                 // Field okhttp3/internal/ws/WebSocketWriter$FrameSink.isFirstFrame:Z
      46: aload_0
      47: getfield      #8                  // Field frameSink:Lokhttp3/internal/ws/WebSocketWriter$FrameSink;
      50: iconst_0
      51: putfield      #52                 // Field okhttp3/internal/ws/WebSocketWriter$FrameSink.closed:Z
      54: aload_0
      55: getfield      #8                  // Field frameSink:Lokhttp3/internal/ws/WebSocketWriter$FrameSink;
      58: areturn

  void writeMessageFrameSynchronized(int, long, boolean, boolean) throws java.io.IOException;
    Code:
       0: getstatic     #25                 // Field $assertionsDisabled:Z
       3: ifne          21
       6: aload_0
       7: invokestatic  #26                 // Method java/lang/Thread.holdsLock:(Ljava/lang/Object;)Z
      10: ifne          21
      13: new           #27                 // class java/lang/AssertionError
      16: dup
      17: invokespecial #28                 // Method java/lang/AssertionError."<init>":()V
      20: athrow
      21: aload_0
      22: getfield      #24                 // Field writerClosed:Z
      25: ifeq          38
      28: new           #29                 // class java/io/IOException
      31: dup
      32: ldc           #30                 // String closed
      34: invokespecial #31                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      37: athrow
      38: iload         4
      40: ifeq          47
      43: iload_1
      44: goto          48
      47: iconst_0
      48: istore        6
      50: iload         5
      52: ifeq          63
      55: iload         6
      57: sipush        128
      60: ior
      61: istore        6
      63: aload_0
      64: getfield      #14                 // Field sink:Lokio/BufferedSink;
      67: iload         6
      69: invokeinterface #38,  2           // InterfaceMethod okio/BufferedSink.writeByte:(I)Lokio/BufferedSink;
      74: pop
      75: iconst_0
      76: istore        7
      78: aload_0
      79: getfield      #13                 // Field isClient:Z
      82: ifeq          93
      85: iload         7
      87: sipush        128
      90: ior
      91: istore        7
      93: lload_2
      94: ldc2_w        #33                 // long 125l
      97: lcmp
      98: ifgt          123
     101: iload         7
     103: lload_2
     104: l2i
     105: ior
     106: istore        7
     108: aload_0
     109: getfield      #14                 // Field sink:Lokio/BufferedSink;
     112: iload         7
     114: invokeinterface #38,  2           // InterfaceMethod okio/BufferedSink.writeByte:(I)Lokio/BufferedSink;
     119: pop
     120: goto          195
     123: lload_2
     124: ldc2_w        #53                 // long 65535l
     127: lcmp
     128: ifgt          165
     131: iload         7
     133: bipush        126
     135: ior
     136: istore        7
     138: aload_0
     139: getfield      #14                 // Field sink:Lokio/BufferedSink;
     142: iload         7
     144: invokeinterface #38,  2           // InterfaceMethod okio/BufferedSink.writeByte:(I)Lokio/BufferedSink;
     149: pop
     150: aload_0
     151: getfield      #14                 // Field sink:Lokio/BufferedSink;
     154: lload_2
     155: l2i
     156: invokeinterface #55,  2           // InterfaceMethod okio/BufferedSink.writeShort:(I)Lokio/BufferedSink;
     161: pop
     162: goto          195
     165: iload         7
     167: bipush        127
     169: ior
     170: istore        7
     172: aload_0
     173: getfield      #14                 // Field sink:Lokio/BufferedSink;
     176: iload         7
     178: invokeinterface #38,  2           // InterfaceMethod okio/BufferedSink.writeByte:(I)Lokio/BufferedSink;
     183: pop
     184: aload_0
     185: getfield      #14                 // Field sink:Lokio/BufferedSink;
     188: lload_2
     189: invokeinterface #56,  3           // InterfaceMethod okio/BufferedSink.writeLong:(J)Lokio/BufferedSink;
     194: pop
     195: aload_0
     196: getfield      #13                 // Field isClient:Z
     199: ifeq          327
     202: aload_0
     203: getfield      #15                 // Field random:Ljava/util/Random;
     206: aload_0
     207: getfield      #16                 // Field maskKey:[B
     210: invokevirtual #39                 // Method java/util/Random.nextBytes:([B)V
     213: aload_0
     214: getfield      #14                 // Field sink:Lokio/BufferedSink;
     217: aload_0
     218: getfield      #16                 // Field maskKey:[B
     221: invokeinterface #40,  2           // InterfaceMethod okio/BufferedSink.write:([B)Lokio/BufferedSink;
     226: pop
     227: lconst_0
     228: lstore        8
     230: lload         8
     232: lload_2
     233: lcmp
     234: ifge          324
     237: lload_2
     238: aload_0
     239: getfield      #17                 // Field maskBuffer:[B
     242: arraylength
     243: i2l
     244: invokestatic  #57                 // Method java/lang/Math.min:(JJ)J
     247: l2i
     248: istore        10
     250: aload_0
     251: getfield      #5                  // Field buffer:Lokio/Buffer;
     254: aload_0
     255: getfield      #17                 // Field maskBuffer:[B
     258: iconst_0
     259: iload         10
     261: invokevirtual #58                 // Method okio/Buffer.read:([BII)I
     264: istore        11
     266: iload         11
     268: iconst_m1
     269: if_icmpne     280
     272: new           #27                 // class java/lang/AssertionError
     275: dup
     276: invokespecial #28                 // Method java/lang/AssertionError."<init>":()V
     279: athrow
     280: aload_0
     281: getfield      #17                 // Field maskBuffer:[B
     284: iload         11
     286: i2l
     287: aload_0
     288: getfield      #16                 // Field maskKey:[B
     291: lload         8
     293: invokestatic  #42                 // Method okhttp3/internal/ws/WebSocketProtocol.toggleMask:([BJ[BJ)V
     296: aload_0
     297: getfield      #14                 // Field sink:Lokio/BufferedSink;
     300: aload_0
     301: getfield      #17                 // Field maskBuffer:[B
     304: iconst_0
     305: iload         11
     307: invokeinterface #59,  4           // InterfaceMethod okio/BufferedSink.write:([BII)Lokio/BufferedSink;
     312: pop
     313: lload         8
     315: iload         11
     317: i2l
     318: ladd
     319: lstore        8
     321: goto          230
     324: goto          341
     327: aload_0
     328: getfield      #14                 // Field sink:Lokio/BufferedSink;
     331: aload_0
     332: getfield      #5                  // Field buffer:Lokio/Buffer;
     335: lload_2
     336: invokeinterface #60,  4           // InterfaceMethod okio/BufferedSink.write:(Lokio/Buffer;J)V
     341: aload_0
     342: getfield      #14                 // Field sink:Lokio/BufferedSink;
     345: invokeinterface #61,  1           // InterfaceMethod okio/BufferedSink.emit:()Lokio/BufferedSink;
     350: pop
     351: return

  static {};
    Code:
       0: ldc           #62                 // class okhttp3/internal/ws/WebSocketWriter
       2: invokevirtual #63                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #25                 // Field $assertionsDisabled:Z
      16: return
}
