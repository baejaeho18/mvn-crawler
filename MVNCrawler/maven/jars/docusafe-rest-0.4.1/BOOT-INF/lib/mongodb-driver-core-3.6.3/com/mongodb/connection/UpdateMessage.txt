Compiled from "UpdateMessage.java"
class com.mongodb.connection.UpdateMessage extends com.mongodb.connection.LegacyMessage {
  private final com.mongodb.bulk.UpdateRequest updateRequest;

  com.mongodb.connection.UpdateMessage(java.lang.String, com.mongodb.bulk.UpdateRequest, com.mongodb.connection.MessageSettings);
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #1                  // Field com/mongodb/connection/OpCode.OP_UPDATE:Lcom/mongodb/connection/OpCode;
       5: aload_3
       6: invokespecial #2                  // Method com/mongodb/connection/LegacyMessage."<init>":(Ljava/lang/String;Lcom/mongodb/connection/OpCode;Lcom/mongodb/connection/MessageSettings;)V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field updateRequest:Lcom/mongodb/bulk/UpdateRequest;
      14: return

  protected com.mongodb.connection.RequestMessage$EncodingMetadata encodeMessageBodyWithMetadata(org.bson.io.BsonOutput);
    Code:
       0: aload_1
       1: iconst_0
       2: invokeinterface #4,  2            // InterfaceMethod org/bson/io/BsonOutput.writeInt32:(I)V
       7: aload_1
       8: aload_0
       9: invokevirtual #5                  // Method getCollectionName:()Ljava/lang/String;
      12: invokeinterface #6,  2            // InterfaceMethod org/bson/io/BsonOutput.writeCString:(Ljava/lang/String;)V
      17: iconst_0
      18: istore_2
      19: aload_0
      20: getfield      #3                  // Field updateRequest:Lcom/mongodb/bulk/UpdateRequest;
      23: invokevirtual #7                  // Method com/mongodb/bulk/UpdateRequest.isUpsert:()Z
      26: ifeq          33
      29: iload_2
      30: iconst_1
      31: ior
      32: istore_2
      33: aload_0
      34: getfield      #3                  // Field updateRequest:Lcom/mongodb/bulk/UpdateRequest;
      37: invokevirtual #8                  // Method com/mongodb/bulk/UpdateRequest.isMulti:()Z
      40: ifeq          47
      43: iload_2
      44: iconst_2
      45: ior
      46: istore_2
      47: aload_1
      48: iload_2
      49: invokeinterface #4,  2            // InterfaceMethod org/bson/io/BsonOutput.writeInt32:(I)V
      54: aload_1
      55: invokeinterface #9,  1            // InterfaceMethod org/bson/io/BsonOutput.getPosition:()I
      60: istore_3
      61: aload_0
      62: aload_0
      63: getfield      #3                  // Field updateRequest:Lcom/mongodb/bulk/UpdateRequest;
      66: invokevirtual #10                 // Method com/mongodb/bulk/UpdateRequest.getFilter:()Lorg/bson/BsonDocument;
      69: aload_1
      70: new           #11                 // class com/mongodb/internal/validator/NoOpFieldNameValidator
      73: dup
      74: invokespecial #12                 // Method com/mongodb/internal/validator/NoOpFieldNameValidator."<init>":()V
      77: invokevirtual #13                 // Method addDocument:(Lorg/bson/BsonDocument;Lorg/bson/io/BsonOutput;Lorg/bson/FieldNameValidator;)V
      80: aload_0
      81: getfield      #3                  // Field updateRequest:Lcom/mongodb/bulk/UpdateRequest;
      84: invokevirtual #14                 // Method com/mongodb/bulk/UpdateRequest.getType:()Lcom/mongodb/bulk/WriteRequest$Type;
      87: getstatic     #15                 // Field com/mongodb/bulk/WriteRequest$Type.REPLACE:Lcom/mongodb/bulk/WriteRequest$Type;
      90: if_acmpne     115
      93: aload_0
      94: aload_0
      95: getfield      #3                  // Field updateRequest:Lcom/mongodb/bulk/UpdateRequest;
      98: invokevirtual #16                 // Method com/mongodb/bulk/UpdateRequest.getUpdate:()Lorg/bson/BsonDocument;
     101: aload_1
     102: new           #17                 // class com/mongodb/internal/validator/CollectibleDocumentFieldNameValidator
     105: dup
     106: invokespecial #18                 // Method com/mongodb/internal/validator/CollectibleDocumentFieldNameValidator."<init>":()V
     109: invokevirtual #19                 // Method addCollectibleDocument:(Lorg/bson/BsonDocument;Lorg/bson/io/BsonOutput;Lorg/bson/FieldNameValidator;)V
     112: goto          165
     115: aload_1
     116: invokeinterface #9,  1            // InterfaceMethod org/bson/io/BsonOutput.getPosition:()I
     121: istore        4
     123: aload_0
     124: aload_0
     125: getfield      #3                  // Field updateRequest:Lcom/mongodb/bulk/UpdateRequest;
     128: invokevirtual #16                 // Method com/mongodb/bulk/UpdateRequest.getUpdate:()Lorg/bson/BsonDocument;
     131: aload_1
     132: new           #20                 // class com/mongodb/internal/validator/UpdateFieldNameValidator
     135: dup
     136: invokespecial #21                 // Method com/mongodb/internal/validator/UpdateFieldNameValidator."<init>":()V
     139: invokevirtual #13                 // Method addDocument:(Lorg/bson/BsonDocument;Lorg/bson/io/BsonOutput;Lorg/bson/FieldNameValidator;)V
     142: aload_1
     143: invokeinterface #9,  1            // InterfaceMethod org/bson/io/BsonOutput.getPosition:()I
     148: iload         4
     150: iconst_5
     151: iadd
     152: if_icmpne     165
     155: new           #22                 // class java/lang/IllegalArgumentException
     158: dup
     159: ldc           #23                 // String Invalid BSON document for an update
     161: invokespecial #24                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     164: athrow
     165: new           #25                 // class com/mongodb/connection/RequestMessage$EncodingMetadata
     168: dup
     169: iload_3
     170: invokespecial #26                 // Method com/mongodb/connection/RequestMessage$EncodingMetadata."<init>":(I)V
     173: areturn
}
