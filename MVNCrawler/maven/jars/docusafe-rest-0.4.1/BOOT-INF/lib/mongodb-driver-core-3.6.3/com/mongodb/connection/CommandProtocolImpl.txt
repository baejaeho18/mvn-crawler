Compiled from "CommandProtocolImpl.java"
class com.mongodb.connection.CommandProtocolImpl<T> implements com.mongodb.connection.CommandProtocol<T> {
  public static final com.mongodb.diagnostics.logging.Logger LOGGER;

  private final com.mongodb.MongoNamespace namespace;

  private final org.bson.BsonDocument command;

  private final com.mongodb.connection.SplittablePayload payload;

  private final com.mongodb.ReadPreference readPreference;

  private final org.bson.FieldNameValidator commandFieldNameValidator;

  private final org.bson.FieldNameValidator payloadFieldNameValidator;

  private final org.bson.codecs.Decoder<T> commandResultDecoder;

  private final boolean responseExpected;

  private final com.mongodb.connection.ClusterConnectionMode clusterConnectionMode;

  private com.mongodb.session.SessionContext sessionContext;

  com.mongodb.connection.CommandProtocolImpl(java.lang.String, org.bson.BsonDocument, org.bson.FieldNameValidator, com.mongodb.ReadPreference, org.bson.codecs.Decoder<T>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: iconst_1
       9: aconst_null
      10: aconst_null
      11: getstatic     #1                  // Field com/mongodb/connection/ClusterConnectionMode.MULTIPLE:Lcom/mongodb/connection/ClusterConnectionMode;
      14: invokespecial #2                  // Method "<init>":(Ljava/lang/String;Lorg/bson/BsonDocument;Lorg/bson/FieldNameValidator;Lcom/mongodb/ReadPreference;Lorg/bson/codecs/Decoder;ZLcom/mongodb/connection/SplittablePayload;Lorg/bson/FieldNameValidator;Lcom/mongodb/connection/ClusterConnectionMode;)V
      17: return

  com.mongodb.connection.CommandProtocolImpl(java.lang.String, org.bson.BsonDocument, org.bson.FieldNameValidator, com.mongodb.ReadPreference, org.bson.codecs.Decoder<T>, boolean, com.mongodb.connection.SplittablePayload, org.bson.FieldNameValidator, com.mongodb.connection.ClusterConnectionMode);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: ldc           #4                  // String database
       6: aload_1
       7: invokestatic  #5                  // Method com/mongodb/assertions/Assertions.notNull:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      10: pop
      11: aload_0
      12: new           #6                  // class com/mongodb/MongoNamespace
      15: dup
      16: ldc           #4                  // String database
      18: aload_1
      19: invokestatic  #5                  // Method com/mongodb/assertions/Assertions.notNull:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #7                  // class java/lang/String
      25: ldc           #8                  // String $cmd
      27: invokespecial #9                  // Method com/mongodb/MongoNamespace."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      30: putfield      #10                 // Field namespace:Lcom/mongodb/MongoNamespace;
      33: aload_0
      34: ldc           #11                 // String command
      36: aload_2
      37: invokestatic  #5                  // Method com/mongodb/assertions/Assertions.notNull:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      40: checkcast     #12                 // class org/bson/BsonDocument
      43: putfield      #13                 // Field command:Lorg/bson/BsonDocument;
      46: aload_0
      47: ldc           #14                 // String commandFieldNameValidator
      49: aload_3
      50: invokestatic  #5                  // Method com/mongodb/assertions/Assertions.notNull:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      53: checkcast     #15                 // class org/bson/FieldNameValidator
      56: putfield      #16                 // Field commandFieldNameValidator:Lorg/bson/FieldNameValidator;
      59: aload_0
      60: aload         4
      62: putfield      #17                 // Field readPreference:Lcom/mongodb/ReadPreference;
      65: aload_0
      66: ldc           #18                 // String commandResultDecoder
      68: aload         5
      70: invokestatic  #5                  // Method com/mongodb/assertions/Assertions.notNull:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      73: checkcast     #19                 // class org/bson/codecs/Decoder
      76: putfield      #20                 // Field commandResultDecoder:Lorg/bson/codecs/Decoder;
      79: aload_0
      80: iload         6
      82: putfield      #21                 // Field responseExpected:Z
      85: aload_0
      86: aload         7
      88: putfield      #22                 // Field payload:Lcom/mongodb/connection/SplittablePayload;
      91: aload_0
      92: aload         8
      94: putfield      #23                 // Field payloadFieldNameValidator:Lorg/bson/FieldNameValidator;
      97: aload_0
      98: ldc           #24                 // String clusterConnectionMode
     100: aload         9
     102: invokestatic  #5                  // Method com/mongodb/assertions/Assertions.notNull:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     105: checkcast     #25                 // class com/mongodb/connection/ClusterConnectionMode
     108: putfield      #26                 // Field clusterConnectionMode:Lcom/mongodb/connection/ClusterConnectionMode;
     111: ldc           #27                 // String payloadFieldNameValidator cannot be null if there is a payload.
     113: aload         7
     115: ifnull        123
     118: aload         8
     120: ifnull        127
     123: iconst_1
     124: goto          128
     127: iconst_0
     128: invokestatic  #28                 // Method com/mongodb/assertions/Assertions.isTrueArgument:(Ljava/lang/String;Z)V
     131: return

  public T execute(com.mongodb.connection.InternalConnection);
    Code:
       0: getstatic     #29                 // Field LOGGER:Lcom/mongodb/diagnostics/logging/Logger;
       3: invokeinterface #30,  1           // InterfaceMethod com/mongodb/diagnostics/logging/Logger.isDebugEnabled:()Z
       8: ifeq          89
      11: getstatic     #29                 // Field LOGGER:Lcom/mongodb/diagnostics/logging/Logger;
      14: ldc           #31                 // String Sending command {%s : %s} to database %s on connection [%s] to server %s
      16: iconst_5
      17: anewarray     #32                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_0
      23: invokespecial #33                 // Method getCommandName:()Ljava/lang/String;
      26: aastore
      27: dup
      28: iconst_1
      29: aload_0
      30: getfield      #13                 // Field command:Lorg/bson/BsonDocument;
      33: invokevirtual #34                 // Method org/bson/BsonDocument.values:()Ljava/util/Collection;
      36: invokeinterface #35,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      41: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: aastore
      47: dup
      48: iconst_2
      49: aload_0
      50: getfield      #10                 // Field namespace:Lcom/mongodb/MongoNamespace;
      53: invokevirtual #37                 // Method com/mongodb/MongoNamespace.getDatabaseName:()Ljava/lang/String;
      56: aastore
      57: dup
      58: iconst_3
      59: aload_1
      60: invokeinterface #38,  1           // InterfaceMethod com/mongodb/connection/InternalConnection.getDescription:()Lcom/mongodb/connection/ConnectionDescription;
      65: invokevirtual #39                 // Method com/mongodb/connection/ConnectionDescription.getConnectionId:()Lcom/mongodb/connection/ConnectionId;
      68: aastore
      69: dup
      70: iconst_4
      71: aload_1
      72: invokeinterface #38,  1           // InterfaceMethod com/mongodb/connection/InternalConnection.getDescription:()Lcom/mongodb/connection/ConnectionDescription;
      77: invokevirtual #40                 // Method com/mongodb/connection/ConnectionDescription.getServerAddress:()Lcom/mongodb/ServerAddress;
      80: aastore
      81: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      84: invokeinterface #42,  2           // InterfaceMethod com/mongodb/diagnostics/logging/Logger.debug:(Ljava/lang/String;)V
      89: aload_1
      90: aload_0
      91: aload_1
      92: invokespecial #43                 // Method getCommandMessage:(Lcom/mongodb/connection/InternalConnection;)Lcom/mongodb/connection/CommandMessage;
      95: aload_0
      96: getfield      #20                 // Field commandResultDecoder:Lorg/bson/codecs/Decoder;
      99: aload_0
     100: getfield      #44                 // Field sessionContext:Lcom/mongodb/session/SessionContext;
     103: invokeinterface #45,  4           // InterfaceMethod com/mongodb/connection/InternalConnection.sendAndReceive:(Lcom/mongodb/connection/CommandMessage;Lorg/bson/codecs/Decoder;Lcom/mongodb/session/SessionContext;)Ljava/lang/Object;
     108: astore_2
     109: getstatic     #29                 // Field LOGGER:Lcom/mongodb/diagnostics/logging/Logger;
     112: ldc           #46                 // String Command execution completed
     114: invokeinterface #42,  2           // InterfaceMethod com/mongodb/diagnostics/logging/Logger.debug:(Ljava/lang/String;)V
     119: aload_2
     120: areturn

  public void executeAsync(com.mongodb.connection.InternalConnection, com.mongodb.async.SingleResultCallback<T>);
    Code:
       0: getstatic     #29                 // Field LOGGER:Lcom/mongodb/diagnostics/logging/Logger;
       3: invokeinterface #30,  1           // InterfaceMethod com/mongodb/diagnostics/logging/Logger.isDebugEnabled:()Z
       8: ifeq          89
      11: getstatic     #29                 // Field LOGGER:Lcom/mongodb/diagnostics/logging/Logger;
      14: ldc           #47                 // String Asynchronously sending command {%s : %s} to database %s on connection [%s] to server %s
      16: iconst_5
      17: anewarray     #32                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_0
      23: invokespecial #33                 // Method getCommandName:()Ljava/lang/String;
      26: aastore
      27: dup
      28: iconst_1
      29: aload_0
      30: getfield      #13                 // Field command:Lorg/bson/BsonDocument;
      33: invokevirtual #34                 // Method org/bson/BsonDocument.values:()Ljava/util/Collection;
      36: invokeinterface #35,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      41: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: aastore
      47: dup
      48: iconst_2
      49: aload_0
      50: getfield      #10                 // Field namespace:Lcom/mongodb/MongoNamespace;
      53: invokevirtual #37                 // Method com/mongodb/MongoNamespace.getDatabaseName:()Ljava/lang/String;
      56: aastore
      57: dup
      58: iconst_3
      59: aload_1
      60: invokeinterface #38,  1           // InterfaceMethod com/mongodb/connection/InternalConnection.getDescription:()Lcom/mongodb/connection/ConnectionDescription;
      65: invokevirtual #39                 // Method com/mongodb/connection/ConnectionDescription.getConnectionId:()Lcom/mongodb/connection/ConnectionId;
      68: aastore
      69: dup
      70: iconst_4
      71: aload_1
      72: invokeinterface #38,  1           // InterfaceMethod com/mongodb/connection/InternalConnection.getDescription:()Lcom/mongodb/connection/ConnectionDescription;
      77: invokevirtual #40                 // Method com/mongodb/connection/ConnectionDescription.getServerAddress:()Lcom/mongodb/ServerAddress;
      80: aastore
      81: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      84: invokeinterface #42,  2           // InterfaceMethod com/mongodb/diagnostics/logging/Logger.debug:(Ljava/lang/String;)V
      89: aload_1
      90: aload_0
      91: aload_1
      92: invokespecial #43                 // Method getCommandMessage:(Lcom/mongodb/connection/InternalConnection;)Lcom/mongodb/connection/CommandMessage;
      95: aload_0
      96: getfield      #20                 // Field commandResultDecoder:Lorg/bson/codecs/Decoder;
      99: aload_0
     100: getfield      #44                 // Field sessionContext:Lcom/mongodb/session/SessionContext;
     103: new           #48                 // class com/mongodb/connection/CommandProtocolImpl$1
     106: dup
     107: aload_0
     108: aload_2
     109: invokespecial #49                 // Method com/mongodb/connection/CommandProtocolImpl$1."<init>":(Lcom/mongodb/connection/CommandProtocolImpl;Lcom/mongodb/async/SingleResultCallback;)V
     112: invokeinterface #50,  5           // InterfaceMethod com/mongodb/connection/InternalConnection.sendAndReceiveAsync:(Lcom/mongodb/connection/CommandMessage;Lorg/bson/codecs/Decoder;Lcom/mongodb/session/SessionContext;Lcom/mongodb/async/SingleResultCallback;)V
     117: goto          129
     120: astore_3
     121: aload_2
     122: aconst_null
     123: aload_3
     124: invokeinterface #52,  3           // InterfaceMethod com/mongodb/async/SingleResultCallback.onResult:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     129: return
    Exception table:
       from    to  target type
           0   117   120   Class java/lang/Throwable

  public com.mongodb.connection.CommandProtocolImpl<T> sessionContext(com.mongodb.session.SessionContext);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #44                 // Field sessionContext:Lcom/mongodb/session/SessionContext;
       5: aload_0
       6: areturn

  private com.mongodb.connection.CommandMessage getCommandMessage(com.mongodb.connection.InternalConnection);
    Code:
       0: new           #53                 // class com/mongodb/connection/CommandMessage
       3: dup
       4: aload_0
       5: getfield      #10                 // Field namespace:Lcom/mongodb/MongoNamespace;
       8: aload_0
       9: getfield      #13                 // Field command:Lorg/bson/BsonDocument;
      12: aload_0
      13: getfield      #16                 // Field commandFieldNameValidator:Lorg/bson/FieldNameValidator;
      16: aload_0
      17: getfield      #17                 // Field readPreference:Lcom/mongodb/ReadPreference;
      20: aload_1
      21: invokeinterface #38,  1           // InterfaceMethod com/mongodb/connection/InternalConnection.getDescription:()Lcom/mongodb/connection/ConnectionDescription;
      26: invokestatic  #54                 // Method com/mongodb/connection/ProtocolHelper.getMessageSettings:(Lcom/mongodb/connection/ConnectionDescription;)Lcom/mongodb/connection/MessageSettings;
      29: aload_0
      30: getfield      #21                 // Field responseExpected:Z
      33: aload_0
      34: getfield      #22                 // Field payload:Lcom/mongodb/connection/SplittablePayload;
      37: aload_0
      38: getfield      #23                 // Field payloadFieldNameValidator:Lorg/bson/FieldNameValidator;
      41: aload_0
      42: getfield      #26                 // Field clusterConnectionMode:Lcom/mongodb/connection/ClusterConnectionMode;
      45: invokespecial #55                 // Method com/mongodb/connection/CommandMessage."<init>":(Lcom/mongodb/MongoNamespace;Lorg/bson/BsonDocument;Lorg/bson/FieldNameValidator;Lcom/mongodb/ReadPreference;Lcom/mongodb/connection/MessageSettings;ZLcom/mongodb/connection/SplittablePayload;Lorg/bson/FieldNameValidator;Lcom/mongodb/connection/ClusterConnectionMode;)V
      48: areturn

  private java.lang.String getCommandName();
    Code:
       0: aload_0
       1: getfield      #13                 // Field command:Lorg/bson/BsonDocument;
       4: invokevirtual #56                 // Method org/bson/BsonDocument.keySet:()Ljava/util/Set;
       7: invokeinterface #57,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      12: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      17: checkcast     #7                  // class java/lang/String
      20: areturn

  public com.mongodb.connection.CommandProtocol sessionContext(com.mongodb.session.SessionContext);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #58                 // Method sessionContext:(Lcom/mongodb/session/SessionContext;)Lcom/mongodb/connection/CommandProtocolImpl;
       5: areturn

  static {};
    Code:
       0: ldc           #59                 // String protocol.command
       2: invokestatic  #60                 // Method com/mongodb/diagnostics/logging/Loggers.getLogger:(Ljava/lang/String;)Lcom/mongodb/diagnostics/logging/Logger;
       5: putstatic     #29                 // Field LOGGER:Lcom/mongodb/diagnostics/logging/Logger;
       8: return
}
