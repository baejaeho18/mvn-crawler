Compiled from "ObjectPersistenceAdapter.java"
public class org.adorsys.encobject.userdata.ObjectPersistenceAdapter {
  private org.adorsys.encobject.userdata.ObjectMapperSPI objectMapper;

  private org.adorsys.encobject.domain.KeyCredentials keyCredentials;

  private org.adorsys.encobject.service.api.EncryptedPersistenceService encObjectService;

  private org.adorsys.encobject.service.api.ExtendedStoreConnection storeConnection;

  private org.adorsys.encobject.service.api.KeystorePersistence keystorePersistence;

  private org.adorsys.encobject.service.impl.KeyCredentialBasedKeySourceImpl keySource;

  public org.adorsys.encobject.userdata.ObjectPersistenceAdapter(org.adorsys.encobject.service.api.EncryptionStreamService, org.adorsys.encobject.service.api.ExtendedStoreConnection, org.adorsys.encobject.domain.KeyCredentials, org.adorsys.encobject.userdata.ObjectMapperSPI);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_3
       6: putfield      #2                  // Field keyCredentials:Lorg/adorsys/encobject/domain/KeyCredentials;
       9: aload_0
      10: new           #3                  // class org/adorsys/encobject/service/impl/KeyCredentialBasedKeySourceImpl
      13: dup
      14: aload_3
      15: aload_0
      16: getfield      #4                  // Field keystorePersistence:Lorg/adorsys/encobject/service/api/KeystorePersistence;
      19: invokespecial #5                  // Method org/adorsys/encobject/service/impl/KeyCredentialBasedKeySourceImpl."<init>":(Lorg/adorsys/encobject/domain/KeyCredentials;Lorg/adorsys/encobject/service/api/KeystorePersistence;)V
      22: putfield      #6                  // Field keySource:Lorg/adorsys/encobject/service/impl/KeyCredentialBasedKeySourceImpl;
      25: aload_0
      26: aload         4
      28: putfield      #7                  // Field objectMapper:Lorg/adorsys/encobject/userdata/ObjectMapperSPI;
      31: aload_0
      32: aload_2
      33: putfield      #8                  // Field storeConnection:Lorg/adorsys/encobject/service/api/ExtendedStoreConnection;
      36: aload_0
      37: new           #9                  // class org/adorsys/encobject/service/impl/BlobStoreKeystorePersistenceImpl
      40: dup
      41: aload_2
      42: invokespecial #10                 // Method org/adorsys/encobject/service/impl/BlobStoreKeystorePersistenceImpl."<init>":(Lorg/adorsys/encobject/service/api/ExtendedStoreConnection;)V
      45: putfield      #4                  // Field keystorePersistence:Lorg/adorsys/encobject/service/api/KeystorePersistence;
      48: aload_0
      49: new           #11                 // class org/adorsys/encobject/service/impl/EncryptedPersistenceServiceImpl
      52: dup
      53: aload_2
      54: aload_1
      55: invokespecial #12                 // Method org/adorsys/encobject/service/impl/EncryptedPersistenceServiceImpl."<init>":(Lorg/adorsys/encobject/service/api/ExtendedStoreConnection;Lorg/adorsys/encobject/service/api/EncryptionStreamService;)V
      58: putfield      #13                 // Field encObjectService:Lorg/adorsys/encobject/service/api/EncryptedPersistenceService;
      61: return

  public boolean hasStore();
    Code:
       0: aload_0
       1: getfield      #4                  // Field keystorePersistence:Lorg/adorsys/encobject/service/api/KeystorePersistence;
       4: aload_0
       5: getfield      #2                  // Field keyCredentials:Lorg/adorsys/encobject/domain/KeyCredentials;
       8: invokevirtual #14                 // Method org/adorsys/encobject/domain/KeyCredentials.getHandle:()Lorg/adorsys/encobject/domain/ObjectHandle;
      11: invokeinterface #15,  2           // InterfaceMethod org/adorsys/encobject/service/api/KeystorePersistence.hasKeystore:(Lorg/adorsys/encobject/domain/ObjectHandle;)Z
      16: ireturn

  public void initStore();
    Code:
       0: new           #16                 // class org/adorsys/encobject/complextypes/BucketDirectory
       3: dup
       4: aload_0
       5: getfield      #2                  // Field keyCredentials:Lorg/adorsys/encobject/domain/KeyCredentials;
       8: invokevirtual #14                 // Method org/adorsys/encobject/domain/KeyCredentials.getHandle:()Lorg/adorsys/encobject/domain/ObjectHandle;
      11: invokevirtual #17                 // Method org/adorsys/encobject/domain/ObjectHandle.getContainer:()Ljava/lang/String;
      14: invokespecial #18                 // Method org/adorsys/encobject/complextypes/BucketDirectory."<init>":(Ljava/lang/String;)V
      17: astore_1
      18: aload_0
      19: getfield      #8                  // Field storeConnection:Lorg/adorsys/encobject/service/api/ExtendedStoreConnection;
      22: aload_1
      23: invokeinterface #19,  2           // InterfaceMethod org/adorsys/encobject/service/api/ExtendedStoreConnection.containerExists:(Lorg/adorsys/encobject/complextypes/BucketDirectory;)Z
      28: ifne          41
      31: aload_0
      32: getfield      #8                  // Field storeConnection:Lorg/adorsys/encobject/service/api/ExtendedStoreConnection;
      35: aload_1
      36: invokeinterface #20,  2           // InterfaceMethod org/adorsys/encobject/service/api/ExtendedStoreConnection.createContainer:(Lorg/adorsys/encobject/complextypes/BucketDirectory;)V
      41: aload_0
      42: aload_0
      43: getfield      #2                  // Field keyCredentials:Lorg/adorsys/encobject/domain/KeyCredentials;
      46: invokestatic  #21                 // Method keyParams:()Lorg/adorsys/encobject/params/KeyParams;
      49: invokevirtual #22                 // Method newSecretKey:(Lorg/adorsys/encobject/domain/KeyCredentials;Lorg/adorsys/encobject/params/KeyParams;)V
      52: goto          61
      55: astore_1
      56: aload_1
      57: invokestatic  #24                 // Method org/adorsys/cryptoutils/exceptions/BaseExceptionHandler.handle:(Ljava/lang/Throwable;)Lorg/adorsys/cryptoutils/exceptions/BaseException;
      60: athrow
      61: return
    Exception table:
       from    to  target type
           0    52    55   Class java/lang/Exception

  public <T> T load(org.adorsys.encobject.domain.ObjectHandle, java.lang.Class<T>);
    Code:
       0: aload_0
       1: getfield      #13                 // Field encObjectService:Lorg/adorsys/encobject/service/api/EncryptedPersistenceService;
       4: aload_1
       5: invokestatic  #25                 // Method org/adorsys/encobject/complextypes/BucketPath.fromHandle:(Lorg/adorsys/encobject/domain/ObjectHandle;)Lorg/adorsys/encobject/complextypes/BucketPath;
       8: aload_0
       9: getfield      #6                  // Field keySource:Lorg/adorsys/encobject/service/impl/KeyCredentialBasedKeySourceImpl;
      12: invokeinterface #26,  3           // InterfaceMethod org/adorsys/encobject/service/api/EncryptedPersistenceService.loadAndDecrypt:(Lorg/adorsys/encobject/complextypes/BucketPath;Lorg/adorsys/encobject/service/api/KeySource;)Lorg/adorsys/encobject/domain/Payload;
      17: astore_3
      18: aload_0
      19: getfield      #7                  // Field objectMapper:Lorg/adorsys/encobject/userdata/ObjectMapperSPI;
      22: aload_3
      23: invokeinterface #27,  1           // InterfaceMethod org/adorsys/encobject/domain/Payload.getData:()[B
      28: aload_2
      29: invokeinterface #28,  3           // InterfaceMethod org/adorsys/encobject/userdata/ObjectMapperSPI.readValue:([BLjava/lang/Class;)Ljava/lang/Object;
      34: areturn
      35: astore_3
      36: aload_3
      37: invokestatic  #24                 // Method org/adorsys/cryptoutils/exceptions/BaseExceptionHandler.handle:(Ljava/lang/Throwable;)Lorg/adorsys/cryptoutils/exceptions/BaseException;
      40: athrow
    Exception table:
       from    to  target type
           0    34    35   Class java/lang/Exception

  public <T> void store(org.adorsys.encobject.domain.ObjectHandle, T);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #29                 // Method storeInternal:(Lorg/adorsys/encobject/domain/ObjectHandle;Ljava/lang/Object;)V
       6: return

  private <T> void storeInternal(org.adorsys.encobject.domain.ObjectHandle, T);
    Code:
       0: new           #16                 // class org/adorsys/encobject/complextypes/BucketDirectory
       3: dup
       4: aload_0
       5: getfield      #2                  // Field keyCredentials:Lorg/adorsys/encobject/domain/KeyCredentials;
       8: invokevirtual #14                 // Method org/adorsys/encobject/domain/KeyCredentials.getHandle:()Lorg/adorsys/encobject/domain/ObjectHandle;
      11: invokevirtual #17                 // Method org/adorsys/encobject/domain/ObjectHandle.getContainer:()Ljava/lang/String;
      14: invokespecial #18                 // Method org/adorsys/encobject/complextypes/BucketDirectory."<init>":(Ljava/lang/String;)V
      17: astore_3
      18: aload_0
      19: getfield      #8                  // Field storeConnection:Lorg/adorsys/encobject/service/api/ExtendedStoreConnection;
      22: aload_3
      23: invokeinterface #19,  2           // InterfaceMethod org/adorsys/encobject/service/api/ExtendedStoreConnection.containerExists:(Lorg/adorsys/encobject/complextypes/BucketDirectory;)Z
      28: ifne          41
      31: aload_0
      32: getfield      #8                  // Field storeConnection:Lorg/adorsys/encobject/service/api/ExtendedStoreConnection;
      35: aload_3
      36: invokeinterface #20,  2           // InterfaceMethod org/adorsys/encobject/service/api/ExtendedStoreConnection.createContainer:(Lorg/adorsys/encobject/complextypes/BucketDirectory;)V
      41: aload_0
      42: getfield      #7                  // Field objectMapper:Lorg/adorsys/encobject/userdata/ObjectMapperSPI;
      45: aload_2
      46: invokeinterface #30,  2           // InterfaceMethod org/adorsys/encobject/userdata/ObjectMapperSPI.writeValueAsBytes:(Ljava/lang/Object;)[B
      51: astore        4
      53: aload_0
      54: getfield      #13                 // Field encObjectService:Lorg/adorsys/encobject/service/api/EncryptedPersistenceService;
      57: aload_1
      58: invokestatic  #25                 // Method org/adorsys/encobject/complextypes/BucketPath.fromHandle:(Lorg/adorsys/encobject/domain/ObjectHandle;)Lorg/adorsys/encobject/complextypes/BucketPath;
      61: new           #31                 // class org/adorsys/encobject/service/impl/SimplePayloadImpl
      64: dup
      65: aload         4
      67: invokespecial #32                 // Method org/adorsys/encobject/service/impl/SimplePayloadImpl."<init>":([B)V
      70: aload_0
      71: getfield      #6                  // Field keySource:Lorg/adorsys/encobject/service/impl/KeyCredentialBasedKeySourceImpl;
      74: new           #33                 // class org/adorsys/encobject/types/KeyID
      77: dup
      78: aload_0
      79: getfield      #2                  // Field keyCredentials:Lorg/adorsys/encobject/domain/KeyCredentials;
      82: invokevirtual #34                 // Method org/adorsys/encobject/domain/KeyCredentials.getKeyid:()Ljava/lang/String;
      85: invokespecial #35                 // Method org/adorsys/encobject/types/KeyID."<init>":(Ljava/lang/String;)V
      88: invokeinterface #36,  5           // InterfaceMethod org/adorsys/encobject/service/api/EncryptedPersistenceService.encryptAndPersist:(Lorg/adorsys/encobject/complextypes/BucketPath;Lorg/adorsys/encobject/domain/Payload;Lorg/adorsys/encobject/service/api/KeySource;Lorg/adorsys/encobject/types/KeyID;)V
      93: goto          104
      96: astore        4
      98: aload         4
     100: invokestatic  #24                 // Method org/adorsys/cryptoutils/exceptions/BaseExceptionHandler.handle:(Ljava/lang/Throwable;)Lorg/adorsys/cryptoutils/exceptions/BaseException;
     103: athrow
     104: return
    Exception table:
       from    to  target type
          41    93    96   Class java/lang/Exception

  public org.adorsys.encobject.domain.KeyCredentials getKeyCredentials();
    Code:
       0: aload_0
       1: getfield      #2                  // Field keyCredentials:Lorg/adorsys/encobject/domain/KeyCredentials;
       4: areturn

  private static org.adorsys.encobject.params.KeyParams keyParams();
    Code:
       0: new           #37                 // class org/adorsys/encobject/params/KeyParams
       3: dup
       4: invokespecial #38                 // Method org/adorsys/encobject/params/KeyParams."<init>":()V
       7: astore_0
       8: aload_0
       9: ldc           #39                 // String AES
      11: invokevirtual #40                 // Method org/adorsys/encobject/params/KeyParams.setKeyAlogirithm:(Ljava/lang/String;)V
      14: aload_0
      15: sipush        256
      18: invokevirtual #41                 // Method org/adorsys/encobject/params/KeyParams.setKeyLength:(I)V
      21: aload_0
      22: areturn

  public void newSecretKey(org.adorsys.encobject.domain.KeyCredentials, org.adorsys.encobject.params.KeyParams);
    Code:
       0: new           #42                 // class org/adorsys/jkeygen/pwd/PasswordCallbackHandler
       3: dup
       4: aload_1
       5: invokevirtual #43                 // Method org/adorsys/encobject/domain/KeyCredentials.getStorepass:()Ljava/lang/String;
       8: invokevirtual #44                 // Method java/lang/String.toCharArray:()[C
      11: invokespecial #45                 // Method org/adorsys/jkeygen/pwd/PasswordCallbackHandler."<init>":([C)V
      14: astore_3
      15: new           #42                 // class org/adorsys/jkeygen/pwd/PasswordCallbackHandler
      18: dup
      19: aload_1
      20: invokevirtual #46                 // Method org/adorsys/encobject/domain/KeyCredentials.getKeypass:()Ljava/lang/String;
      23: invokevirtual #44                 // Method java/lang/String.toCharArray:()[C
      26: invokespecial #45                 // Method org/adorsys/jkeygen/pwd/PasswordCallbackHandler."<init>":([C)V
      29: astore        4
      31: new           #47                 // class org/adorsys/jkeygen/secretkey/SecretKeyBuilder
      34: dup
      35: invokespecial #48                 // Method org/adorsys/jkeygen/secretkey/SecretKeyBuilder."<init>":()V
      38: aload_2
      39: invokevirtual #49                 // Method org/adorsys/encobject/params/KeyParams.getKeyAlogirithm:()Ljava/lang/String;
      42: invokevirtual #50                 // Method org/adorsys/jkeygen/secretkey/SecretKeyBuilder.withKeyAlg:(Ljava/lang/String;)Lorg/adorsys/jkeygen/secretkey/SecretKeyBuilder;
      45: aload_2
      46: invokevirtual #51                 // Method org/adorsys/encobject/params/KeyParams.getKeyLength:()I
      49: invokestatic  #52                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      52: invokevirtual #53                 // Method org/adorsys/jkeygen/secretkey/SecretKeyBuilder.withKeyLength:(Ljava/lang/Integer;)Lorg/adorsys/jkeygen/secretkey/SecretKeyBuilder;
      55: invokevirtual #54                 // Method org/adorsys/jkeygen/secretkey/SecretKeyBuilder.build:()Ljavax/crypto/SecretKey;
      58: astore        5
      60: invokestatic  #55                 // Method org/adorsys/jkeygen/keystore/SecretKeyData.builder:()Lorg/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder;
      63: aload         5
      65: invokevirtual #56                 // Method org/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder.secretKey:(Ljavax/crypto/SecretKey;)Lorg/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder;
      68: aload_1
      69: invokevirtual #34                 // Method org/adorsys/encobject/domain/KeyCredentials.getKeyid:()Ljava/lang/String;
      72: invokevirtual #57                 // Method org/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder.alias:(Ljava/lang/String;)Lorg/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder;
      75: aload         4
      77: invokevirtual #58                 // Method org/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder.passwordSource:(Ljavax/security/auth/callback/CallbackHandler;)Lorg/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder;
      80: invokevirtual #59                 // Method org/adorsys/jkeygen/keystore/SecretKeyData$SecretKeyDataBuilder.build:()Lorg/adorsys/jkeygen/keystore/SecretKeyData;
      83: astore        6
      85: aload_0
      86: getfield      #4                  // Field keystorePersistence:Lorg/adorsys/encobject/service/api/KeystorePersistence;
      89: aload_1
      90: invokevirtual #14                 // Method org/adorsys/encobject/domain/KeyCredentials.getHandle:()Lorg/adorsys/encobject/domain/ObjectHandle;
      93: aload_3
      94: invokeinterface #60,  3           // InterfaceMethod org/adorsys/encobject/service/api/KeystorePersistence.loadKeystore:(Lorg/adorsys/encobject/domain/ObjectHandle;Ljavax/security/auth/callback/CallbackHandler;)Ljava/security/KeyStore;
      99: astore        7
     101: goto          112
     104: astore        8
     106: aconst_null
     107: invokestatic  #62                 // Method org/adorsys/jkeygen/keystore/KeyStoreService.newKeyStore:(Lorg/adorsys/jkeygen/keystore/KeyStoreType;)Ljava/security/KeyStore;
     110: astore        7
     112: aload         7
     114: aload         6
     116: invokestatic  #63                 // Method org/adorsys/jkeygen/keystore/KeyStoreService.addToKeyStore:(Ljava/security/KeyStore;Lorg/adorsys/jkeygen/keystore/SecretKeyEntry;)V
     119: aload_0
     120: getfield      #4                  // Field keystorePersistence:Lorg/adorsys/encobject/service/api/KeystorePersistence;
     123: aload         7
     125: aload_3
     126: aload_1
     127: invokevirtual #14                 // Method org/adorsys/encobject/domain/KeyCredentials.getHandle:()Lorg/adorsys/encobject/domain/ObjectHandle;
     130: invokeinterface #64,  4           // InterfaceMethod org/adorsys/encobject/service/api/KeystorePersistence.saveKeyStore:(Ljava/security/KeyStore;Ljavax/security/auth/callback/CallbackHandler;Lorg/adorsys/encobject/domain/ObjectHandle;)V
     135: return
    Exception table:
       from    to  target type
          85   101   104   Class org/adorsys/encobject/exceptions/ObjectNotFoundException
}
