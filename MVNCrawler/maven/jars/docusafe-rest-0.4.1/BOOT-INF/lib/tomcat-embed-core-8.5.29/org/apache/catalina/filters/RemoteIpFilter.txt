Compiled from "RemoteIpFilter.java"
public class org.apache.catalina.filters.RemoteIpFilter implements javax.servlet.Filter {
  private static final java.util.regex.Pattern commaSeparatedValuesPattern;

  protected static final java.lang.String HTTP_SERVER_PORT_PARAMETER;

  protected static final java.lang.String HTTPS_SERVER_PORT_PARAMETER;

  protected static final java.lang.String INTERNAL_PROXIES_PARAMETER;

  private static final org.apache.juli.logging.Log log;

  protected static final java.lang.String PROTOCOL_HEADER_PARAMETER;

  protected static final java.lang.String PROTOCOL_HEADER_HTTPS_VALUE_PARAMETER;

  protected static final java.lang.String PORT_HEADER_PARAMETER;

  protected static final java.lang.String CHANGE_LOCAL_PORT_PARAMETER;

  protected static final java.lang.String PROXIES_HEADER_PARAMETER;

  protected static final java.lang.String REMOTE_IP_HEADER_PARAMETER;

  protected static final java.lang.String TRUSTED_PROXIES_PARAMETER;

  private int httpServerPort;

  private int httpsServerPort;

  private java.util.regex.Pattern internalProxies;

  private java.lang.String protocolHeader;

  private java.lang.String protocolHeaderHttpsValue;

  private java.lang.String portHeader;

  private boolean changeLocalPort;

  private java.lang.String proxiesHeader;

  private java.lang.String remoteIpHeader;

  private boolean requestAttributesEnabled;

  private java.util.regex.Pattern trustedProxies;

  public org.apache.catalina.filters.RemoteIpFilter();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: bipush        80
       7: putfield      #2                  // Field httpServerPort:I
      10: aload_0
      11: sipush        443
      14: putfield      #3                  // Field httpsServerPort:I
      17: aload_0
      18: ldc           #4                  // String 10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|192\\.168\\.\\d{1,3}\\.\\d{1,3}|169\\.254\\.\\d{1,3}\\.\\d{1,3}|127\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|172\\.1[6-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.2[0-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.3[0-1]{1}\\.\\d{1,3}\\.\\d{1,3}
      20: invokestatic  #5                  // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      23: putfield      #6                  // Field internalProxies:Ljava/util/regex/Pattern;
      26: aload_0
      27: aconst_null
      28: putfield      #7                  // Field protocolHeader:Ljava/lang/String;
      31: aload_0
      32: ldc           #8                  // String https
      34: putfield      #9                  // Field protocolHeaderHttpsValue:Ljava/lang/String;
      37: aload_0
      38: aconst_null
      39: putfield      #10                 // Field portHeader:Ljava/lang/String;
      42: aload_0
      43: iconst_0
      44: putfield      #11                 // Field changeLocalPort:Z
      47: aload_0
      48: ldc           #12                 // String X-Forwarded-By
      50: putfield      #13                 // Field proxiesHeader:Ljava/lang/String;
      53: aload_0
      54: ldc           #14                 // String X-Forwarded-For
      56: putfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
      59: aload_0
      60: iconst_1
      61: putfield      #16                 // Field requestAttributesEnabled:Z
      64: aload_0
      65: aconst_null
      66: putfield      #17                 // Field trustedProxies:Ljava/util/regex/Pattern;
      69: return

  protected static java.lang.String[] commaDelimitedListToStringArray(java.lang.String);
    Code:
       0: aload_0
       1: ifnull        11
       4: aload_0
       5: invokevirtual #18                 // Method java/lang/String.length:()I
       8: ifne          18
      11: iconst_0
      12: anewarray     #19                 // class java/lang/String
      15: goto          25
      18: getstatic     #20                 // Field commaSeparatedValuesPattern:Ljava/util/regex/Pattern;
      21: aload_0
      22: invokevirtual #21                 // Method java/util/regex/Pattern.split:(Ljava/lang/CharSequence;)[Ljava/lang/String;
      25: areturn

  protected static java.lang.String listToCommaDelimitedString(java.util.List<java.lang.String>);
    Code:
       0: aload_0
       1: ifnonnull     7
       4: ldc           #22                 // String
       6: areturn
       7: new           #23                 // class java/lang/StringBuilder
      10: dup
      11: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      14: astore_1
      15: aload_0
      16: invokeinterface #25,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      21: astore_2
      22: aload_2
      23: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      28: ifeq          67
      31: aload_2
      32: invokeinterface #27,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      37: astore_3
      38: aload_3
      39: ifnull        64
      42: aload_1
      43: aload_3
      44: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      47: pop
      48: aload_2
      49: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          64
      57: aload_1
      58: ldc           #29                 // String ,
      60: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: pop
      64: goto          22
      67: aload_1
      68: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      71: areturn

  public void destroy();
    Code:
       0: return

  public void doFilter(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, javax.servlet.FilterChain) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field internalProxies:Ljava/util/regex/Pattern;
       4: ifnull        790
       7: aload_0
       8: getfield      #6                  // Field internalProxies:Ljava/util/regex/Pattern;
      11: aload_1
      12: invokeinterface #32,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRemoteAddr:()Ljava/lang/String;
      17: invokevirtual #33                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
      20: invokevirtual #34                 // Method java/util/regex/Matcher.matches:()Z
      23: ifeq          790
      26: aconst_null
      27: astore        4
      29: new           #35                 // class java/util/LinkedList
      32: dup
      33: invokespecial #36                 // Method java/util/LinkedList."<init>":()V
      36: astore        5
      38: new           #23                 // class java/lang/StringBuilder
      41: dup
      42: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      45: astore        6
      47: aload_1
      48: aload_0
      49: getfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
      52: invokeinterface #37,  2           // InterfaceMethod javax/servlet/http/HttpServletRequest.getHeaders:(Ljava/lang/String;)Ljava/util/Enumeration;
      57: astore        7
      59: aload         7
      61: invokeinterface #38,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      66: ifeq          104
      69: aload         6
      71: invokevirtual #39                 // Method java/lang/StringBuilder.length:()I
      74: ifle          85
      77: aload         6
      79: ldc           #29                 // String ,
      81: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      84: pop
      85: aload         6
      87: aload         7
      89: invokeinterface #40,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      94: checkcast     #19                 // class java/lang/String
      97: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     100: pop
     101: goto          59
     104: aload         6
     106: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     109: invokestatic  #41                 // Method commaDelimitedListToStringArray:(Ljava/lang/String;)[Ljava/lang/String;
     112: astore        7
     114: aload         7
     116: arraylength
     117: iconst_1
     118: isub
     119: istore        8
     121: iload         8
     123: iflt          199
     126: aload         7
     128: iload         8
     130: aaload
     131: astore        9
     133: aload         9
     135: astore        4
     137: aload_0
     138: getfield      #6                  // Field internalProxies:Ljava/util/regex/Pattern;
     141: aload         9
     143: invokevirtual #33                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
     146: invokevirtual #34                 // Method java/util/regex/Matcher.matches:()Z
     149: ifeq          155
     152: goto          193
     155: aload_0
     156: getfield      #17                 // Field trustedProxies:Ljava/util/regex/Pattern;
     159: ifnull        187
     162: aload_0
     163: getfield      #17                 // Field trustedProxies:Ljava/util/regex/Pattern;
     166: aload         9
     168: invokevirtual #33                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
     171: invokevirtual #34                 // Method java/util/regex/Matcher.matches:()Z
     174: ifeq          187
     177: aload         5
     179: aload         9
     181: invokevirtual #42                 // Method java/util/LinkedList.addFirst:(Ljava/lang/Object;)V
     184: goto          193
     187: iinc          8, -1
     190: goto          199
     193: iinc          8, -1
     196: goto          121
     199: new           #35                 // class java/util/LinkedList
     202: dup
     203: invokespecial #36                 // Method java/util/LinkedList."<init>":()V
     206: astore        9
     208: iload         8
     210: iflt          233
     213: aload         7
     215: iload         8
     217: aaload
     218: astore        10
     220: aload         9
     222: aload         10
     224: invokevirtual #42                 // Method java/util/LinkedList.addFirst:(Ljava/lang/Object;)V
     227: iinc          8, -1
     230: goto          208
     233: new           #43                 // class org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest
     236: dup
     237: aload_1
     238: invokespecial #44                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest."<init>":(Ljavax/servlet/http/HttpServletRequest;)V
     241: astore        10
     243: aload         4
     245: ifnull        338
     248: aload         10
     250: aload         4
     252: invokevirtual #45                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setRemoteAddr:(Ljava/lang/String;)V
     255: aload         10
     257: aload         4
     259: invokevirtual #46                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setRemoteHost:(Ljava/lang/String;)V
     262: aload         5
     264: invokevirtual #47                 // Method java/util/LinkedList.size:()I
     267: ifne          282
     270: aload         10
     272: aload_0
     273: getfield      #13                 // Field proxiesHeader:Ljava/lang/String;
     276: invokevirtual #48                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.removeHeader:(Ljava/lang/String;)V
     279: goto          300
     282: aload         5
     284: invokestatic  #49                 // Method listToCommaDelimitedString:(Ljava/util/List;)Ljava/lang/String;
     287: astore        11
     289: aload         10
     291: aload_0
     292: getfield      #13                 // Field proxiesHeader:Ljava/lang/String;
     295: aload         11
     297: invokevirtual #50                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
     300: aload         9
     302: invokevirtual #47                 // Method java/util/LinkedList.size:()I
     305: ifne          320
     308: aload         10
     310: aload_0
     311: getfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
     314: invokevirtual #48                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.removeHeader:(Ljava/lang/String;)V
     317: goto          338
     320: aload         9
     322: invokestatic  #49                 // Method listToCommaDelimitedString:(Ljava/util/List;)Ljava/lang/String;
     325: astore        11
     327: aload         10
     329: aload_0
     330: getfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
     333: aload         11
     335: invokevirtual #50                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
     338: aload_0
     339: getfield      #7                  // Field protocolHeader:Ljava/lang/String;
     342: ifnull        426
     345: aload_1
     346: aload_0
     347: getfield      #7                  // Field protocolHeader:Ljava/lang/String;
     350: invokeinterface #51,  2           // InterfaceMethod javax/servlet/http/HttpServletRequest.getHeader:(Ljava/lang/String;)Ljava/lang/String;
     355: astore        11
     357: aload         11
     359: ifnonnull     365
     362: goto          426
     365: aload_0
     366: getfield      #9                  // Field protocolHeaderHttpsValue:Ljava/lang/String;
     369: aload         11
     371: invokevirtual #52                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
     374: ifeq          403
     377: aload         10
     379: iconst_1
     380: invokevirtual #53                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setSecure:(Z)V
     383: aload         10
     385: ldc           #8                  // String https
     387: invokevirtual #54                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setScheme:(Ljava/lang/String;)V
     390: aload_0
     391: aload         10
     393: aload_0
     394: getfield      #3                  // Field httpsServerPort:I
     397: invokespecial #55                 // Method setPorts:(Lorg/apache/catalina/filters/RemoteIpFilter$XForwardedRequest;I)V
     400: goto          426
     403: aload         10
     405: iconst_0
     406: invokevirtual #53                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setSecure:(Z)V
     409: aload         10
     411: ldc           #56                 // String http
     413: invokevirtual #54                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setScheme:(Ljava/lang/String;)V
     416: aload_0
     417: aload         10
     419: aload_0
     420: getfield      #2                  // Field httpServerPort:I
     423: invokespecial #55                 // Method setPorts:(Lorg/apache/catalina/filters/RemoteIpFilter$XForwardedRequest;I)V
     426: getstatic     #57                 // Field log:Lorg/apache/juli/logging/Log;
     429: invokeinterface #58,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     434: ifeq          703
     437: getstatic     #57                 // Field log:Lorg/apache/juli/logging/Log;
     440: new           #23                 // class java/lang/StringBuilder
     443: dup
     444: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
     447: ldc           #59                 // String Incoming request
     449: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     452: aload_1
     453: invokeinterface #60,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRequestURI:()Ljava/lang/String;
     458: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     461: ldc           #61                 // String  with originalRemoteAddr \'
     463: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     466: aload_1
     467: invokeinterface #32,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRemoteAddr:()Ljava/lang/String;
     472: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     475: ldc           #62                 // String \', originalRemoteHost=\'
     477: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     480: aload_1
     481: invokeinterface #63,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRemoteHost:()Ljava/lang/String;
     486: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     489: ldc           #64                 // String \', originalSecure=\'
     491: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     494: aload_1
     495: invokeinterface #65,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.isSecure:()Z
     500: invokevirtual #66                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
     503: ldc           #67                 // String \', originalScheme=\'
     505: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     508: aload_1
     509: invokeinterface #68,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getScheme:()Ljava/lang/String;
     514: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     517: ldc           #69                 // String \', original[
     519: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     522: aload_0
     523: getfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
     526: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     529: ldc           #70                 // String ]=\'
     531: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     534: aload         6
     536: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     539: ldc           #69                 // String \', original[
     541: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     544: aload_0
     545: getfield      #7                  // Field protocolHeader:Ljava/lang/String;
     548: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     551: ldc           #70                 // String ]=\'
     553: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     556: aload_0
     557: getfield      #7                  // Field protocolHeader:Ljava/lang/String;
     560: ifnonnull     567
     563: aconst_null
     564: goto          577
     567: aload_1
     568: aload_0
     569: getfield      #7                  // Field protocolHeader:Ljava/lang/String;
     572: invokeinterface #51,  2           // InterfaceMethod javax/servlet/http/HttpServletRequest.getHeader:(Ljava/lang/String;)Ljava/lang/String;
     577: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     580: ldc           #71                 // String \' will be seen as newRemoteAddr=\'
     582: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     585: aload         10
     587: invokevirtual #72                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getRemoteAddr:()Ljava/lang/String;
     590: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     593: ldc           #73                 // String \', newRemoteHost=\'
     595: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     598: aload         10
     600: invokevirtual #74                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getRemoteHost:()Ljava/lang/String;
     603: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     606: ldc           #75                 // String \', newScheme=\'
     608: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     611: aload         10
     613: invokevirtual #76                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getScheme:()Ljava/lang/String;
     616: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     619: ldc           #77                 // String \', newSecure=\'
     621: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     624: aload         10
     626: invokevirtual #78                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.isSecure:()Z
     629: invokevirtual #66                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
     632: ldc           #79                 // String \', new[
     634: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     637: aload_0
     638: getfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
     641: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     644: ldc           #70                 // String ]=\'
     646: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     649: aload         10
     651: aload_0
     652: getfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
     655: invokevirtual #80                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getHeader:(Ljava/lang/String;)Ljava/lang/String;
     658: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     661: ldc           #79                 // String \', new[
     663: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     666: aload_0
     667: getfield      #13                 // Field proxiesHeader:Ljava/lang/String;
     670: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     673: ldc           #70                 // String ]=\'
     675: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     678: aload         10
     680: aload_0
     681: getfield      #13                 // Field proxiesHeader:Ljava/lang/String;
     684: invokevirtual #80                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getHeader:(Ljava/lang/String;)Ljava/lang/String;
     687: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     690: ldc           #81                 // String \'
     692: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     695: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     698: invokeinterface #82,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
     703: aload_0
     704: getfield      #16                 // Field requestAttributesEnabled:Z
     707: ifeq          778
     710: aload_1
     711: ldc           #83                 // String org.apache.catalina.AccessLog.RemoteAddr
     713: aload         10
     715: invokevirtual #72                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getRemoteAddr:()Ljava/lang/String;
     718: invokeinterface #84,  3           // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     723: aload_1
     724: ldc           #85                 // String org.apache.tomcat.remoteAddr
     726: aload         10
     728: invokevirtual #72                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getRemoteAddr:()Ljava/lang/String;
     731: invokeinterface #84,  3           // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     736: aload_1
     737: ldc           #86                 // String org.apache.catalina.AccessLog.RemoteHost
     739: aload         10
     741: invokevirtual #74                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getRemoteHost:()Ljava/lang/String;
     744: invokeinterface #84,  3           // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     749: aload_1
     750: ldc           #87                 // String org.apache.catalina.AccessLog.Protocol
     752: aload         10
     754: invokevirtual #88                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getProtocol:()Ljava/lang/String;
     757: invokeinterface #84,  3           // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     762: aload_1
     763: ldc           #89                 // String org.apache.catalina.AccessLog.ServerPort
     765: aload         10
     767: invokevirtual #90                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getServerPort:()I
     770: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     773: invokeinterface #84,  3           // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     778: aload_3
     779: aload         10
     781: aload_2
     782: invokeinterface #92,  3           // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     787: goto          860
     790: getstatic     #57                 // Field log:Lorg/apache/juli/logging/Log;
     793: invokeinterface #58,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     798: ifeq          852
     801: getstatic     #57                 // Field log:Lorg/apache/juli/logging/Log;
     804: new           #23                 // class java/lang/StringBuilder
     807: dup
     808: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
     811: ldc           #93                 // String Skip RemoteIpFilter for request
     813: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     816: aload_1
     817: invokeinterface #60,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRequestURI:()Ljava/lang/String;
     822: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     825: ldc           #61                 // String  with originalRemoteAddr \'
     827: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     830: aload_1
     831: invokeinterface #32,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRemoteAddr:()Ljava/lang/String;
     836: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     839: ldc           #81                 // String \'
     841: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     844: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     847: invokeinterface #82,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
     852: aload_3
     853: aload_1
     854: aload_2
     855: invokeinterface #92,  3           // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     860: return

  private void setPorts(org.apache.catalina.filters.RemoteIpFilter$XForwardedRequest, int);
    Code:
       0: iload_2
       1: istore_3
       2: aload_0
       3: invokevirtual #94                 // Method getPortHeader:()Ljava/lang/String;
       6: ifnull        80
       9: aload_1
      10: aload_0
      11: invokevirtual #94                 // Method getPortHeader:()Ljava/lang/String;
      14: invokevirtual #80                 // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.getHeader:(Ljava/lang/String;)Ljava/lang/String;
      17: astore        4
      19: aload         4
      21: ifnull        80
      24: aload         4
      26: invokestatic  #95                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      29: istore_3
      30: goto          80
      33: astore        5
      35: getstatic     #57                 // Field log:Lorg/apache/juli/logging/Log;
      38: new           #23                 // class java/lang/StringBuilder
      41: dup
      42: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      45: ldc           #97                 // String Invalid port value [
      47: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: aload         4
      52: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: ldc           #98                 // String ] provided in header [
      57: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      60: aload_0
      61: invokevirtual #94                 // Method getPortHeader:()Ljava/lang/String;
      64: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: ldc           #99                 // String ]
      69: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      75: invokeinterface #82,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      80: aload_1
      81: iload_3
      82: invokevirtual #100                // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setServerPort:(I)V
      85: aload_0
      86: invokevirtual #101                // Method isChangeLocalPort:()Z
      89: ifeq          97
      92: aload_1
      93: iload_3
      94: invokevirtual #102                // Method org/apache/catalina/filters/RemoteIpFilter$XForwardedRequest.setLocalPort:(I)V
      97: return
    Exception table:
       from    to  target type
          24    30    33   Class java/lang/NumberFormatException

  public void doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_1
       1: instanceof    #103                // class javax/servlet/http/HttpServletRequest
       4: ifeq          30
       7: aload_2
       8: instanceof    #104                // class javax/servlet/http/HttpServletResponse
      11: ifeq          30
      14: aload_0
      15: aload_1
      16: checkcast     #103                // class javax/servlet/http/HttpServletRequest
      19: aload_2
      20: checkcast     #104                // class javax/servlet/http/HttpServletResponse
      23: aload_3
      24: invokevirtual #105                // Method doFilter:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljavax/servlet/FilterChain;)V
      27: goto          38
      30: aload_3
      31: aload_1
      32: aload_2
      33: invokeinterface #92,  3           // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
      38: return

  public boolean isChangeLocalPort();
    Code:
       0: aload_0
       1: getfield      #11                 // Field changeLocalPort:Z
       4: ireturn

  public int getHttpsServerPort();
    Code:
       0: aload_0
       1: getfield      #3                  // Field httpsServerPort:I
       4: ireturn

  public java.util.regex.Pattern getInternalProxies();
    Code:
       0: aload_0
       1: getfield      #6                  // Field internalProxies:Ljava/util/regex/Pattern;
       4: areturn

  public java.lang.String getProtocolHeader();
    Code:
       0: aload_0
       1: getfield      #7                  // Field protocolHeader:Ljava/lang/String;
       4: areturn

  public java.lang.String getPortHeader();
    Code:
       0: aload_0
       1: getfield      #10                 // Field portHeader:Ljava/lang/String;
       4: areturn

  public java.lang.String getProtocolHeaderHttpsValue();
    Code:
       0: aload_0
       1: getfield      #9                  // Field protocolHeaderHttpsValue:Ljava/lang/String;
       4: areturn

  public java.lang.String getProxiesHeader();
    Code:
       0: aload_0
       1: getfield      #13                 // Field proxiesHeader:Ljava/lang/String;
       4: areturn

  public java.lang.String getRemoteIpHeader();
    Code:
       0: aload_0
       1: getfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
       4: areturn

  public boolean getRequestAttributesEnabled();
    Code:
       0: aload_0
       1: getfield      #16                 // Field requestAttributesEnabled:Z
       4: ireturn

  public java.util.regex.Pattern getTrustedProxies();
    Code:
       0: aload_0
       1: getfield      #17                 // Field trustedProxies:Ljava/util/regex/Pattern;
       4: areturn

  public void init(javax.servlet.FilterConfig) throws javax.servlet.ServletException;
    Code:
       0: aload_1
       1: ldc           #106                // String internalProxies
       3: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
       8: ifnull        23
      11: aload_0
      12: aload_1
      13: ldc           #106                // String internalProxies
      15: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      20: invokevirtual #108                // Method setInternalProxies:(Ljava/lang/String;)V
      23: aload_1
      24: ldc           #109                // String protocolHeader
      26: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      31: ifnull        46
      34: aload_0
      35: aload_1
      36: ldc           #109                // String protocolHeader
      38: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      43: invokevirtual #110                // Method setProtocolHeader:(Ljava/lang/String;)V
      46: aload_1
      47: ldc           #111                // String protocolHeaderHttpsValue
      49: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      54: ifnull        69
      57: aload_0
      58: aload_1
      59: ldc           #111                // String protocolHeaderHttpsValue
      61: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      66: invokevirtual #112                // Method setProtocolHeaderHttpsValue:(Ljava/lang/String;)V
      69: aload_1
      70: ldc           #113                // String portHeader
      72: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      77: ifnull        92
      80: aload_0
      81: aload_1
      82: ldc           #113                // String portHeader
      84: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      89: invokevirtual #114                // Method setPortHeader:(Ljava/lang/String;)V
      92: aload_1
      93: ldc           #115                // String changeLocalPort
      95: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     100: ifnull        118
     103: aload_0
     104: aload_1
     105: ldc           #115                // String changeLocalPort
     107: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     112: invokestatic  #116                // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     115: invokevirtual #117                // Method setChangeLocalPort:(Z)V
     118: aload_1
     119: ldc           #118                // String proxiesHeader
     121: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     126: ifnull        141
     129: aload_0
     130: aload_1
     131: ldc           #118                // String proxiesHeader
     133: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     138: invokevirtual #119                // Method setProxiesHeader:(Ljava/lang/String;)V
     141: aload_1
     142: ldc           #120                // String remoteIpHeader
     144: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     149: ifnull        164
     152: aload_0
     153: aload_1
     154: ldc           #120                // String remoteIpHeader
     156: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     161: invokevirtual #121                // Method setRemoteIpHeader:(Ljava/lang/String;)V
     164: aload_1
     165: ldc           #122                // String trustedProxies
     167: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     172: ifnull        187
     175: aload_0
     176: aload_1
     177: ldc           #122                // String trustedProxies
     179: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     184: invokevirtual #123                // Method setTrustedProxies:(Ljava/lang/String;)V
     187: aload_1
     188: ldc           #124                // String httpServerPort
     190: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     195: ifnull        247
     198: aload_0
     199: aload_1
     200: ldc           #124                // String httpServerPort
     202: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     207: invokestatic  #95                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     210: invokevirtual #125                // Method setHttpServerPort:(I)V
     213: goto          247
     216: astore_2
     217: new           #96                 // class java/lang/NumberFormatException
     220: dup
     221: new           #23                 // class java/lang/StringBuilder
     224: dup
     225: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
     228: ldc           #126                // String Illegal httpServerPort :
     230: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: aload_2
     234: invokevirtual #127                // Method java/lang/NumberFormatException.getMessage:()Ljava/lang/String;
     237: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     240: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     243: invokespecial #128                // Method java/lang/NumberFormatException."<init>":(Ljava/lang/String;)V
     246: athrow
     247: aload_1
     248: ldc           #129                // String httpsServerPort
     250: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     255: ifnull        307
     258: aload_0
     259: aload_1
     260: ldc           #129                // String httpsServerPort
     262: invokeinterface #107,  2          // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     267: invokestatic  #95                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     270: invokevirtual #130                // Method setHttpsServerPort:(I)V
     273: goto          307
     276: astore_2
     277: new           #96                 // class java/lang/NumberFormatException
     280: dup
     281: new           #23                 // class java/lang/StringBuilder
     284: dup
     285: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
     288: ldc           #131                // String Illegal httpsServerPort :
     290: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     293: aload_2
     294: invokevirtual #127                // Method java/lang/NumberFormatException.getMessage:()Ljava/lang/String;
     297: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     300: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     303: invokespecial #128                // Method java/lang/NumberFormatException."<init>":(Ljava/lang/String;)V
     306: athrow
     307: return
    Exception table:
       from    to  target type
         198   213   216   Class java/lang/NumberFormatException
         258   273   276   Class java/lang/NumberFormatException

  public void setChangeLocalPort(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #11                 // Field changeLocalPort:Z
       5: return

  public void setHttpServerPort(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #2                  // Field httpServerPort:I
       5: return

  public void setHttpsServerPort(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #3                  // Field httpsServerPort:I
       5: return

  public void setInternalProxies(java.lang.String);
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #18                 // Method java/lang/String.length:()I
       8: ifne          19
      11: aload_0
      12: aconst_null
      13: putfield      #6                  // Field internalProxies:Ljava/util/regex/Pattern;
      16: goto          27
      19: aload_0
      20: aload_1
      21: invokestatic  #5                  // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      24: putfield      #6                  // Field internalProxies:Ljava/util/regex/Pattern;
      27: return

  public void setPortHeader(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #10                 // Field portHeader:Ljava/lang/String;
       5: return

  public void setProtocolHeader(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #7                  // Field protocolHeader:Ljava/lang/String;
       5: return

  public void setProtocolHeaderHttpsValue(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #9                  // Field protocolHeaderHttpsValue:Ljava/lang/String;
       5: return

  public void setProxiesHeader(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #13                 // Field proxiesHeader:Ljava/lang/String;
       5: return

  public void setRemoteIpHeader(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #15                 // Field remoteIpHeader:Ljava/lang/String;
       5: return

  public void setRequestAttributesEnabled(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #16                 // Field requestAttributesEnabled:Z
       5: return

  public void setTrustedProxies(java.lang.String);
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #18                 // Method java/lang/String.length:()I
       8: ifne          19
      11: aload_0
      12: aconst_null
      13: putfield      #17                 // Field trustedProxies:Ljava/util/regex/Pattern;
      16: goto          27
      19: aload_0
      20: aload_1
      21: invokestatic  #5                  // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      24: putfield      #17                 // Field trustedProxies:Ljava/util/regex/Pattern;
      27: return

  static {};
    Code:
       0: ldc           #132                // String \\s*,\\s*
       2: invokestatic  #5                  // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
       5: putstatic     #20                 // Field commaSeparatedValuesPattern:Ljava/util/regex/Pattern;
       8: ldc_w         #133                // class org/apache/catalina/filters/RemoteIpFilter
      11: invokestatic  #134                // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
      14: putstatic     #57                 // Field log:Lorg/apache/juli/logging/Log;
      17: return
}
