Compiled from "AbstractStream.java"
abstract class org.apache.coyote.http2.AbstractStream {
  private static final org.apache.juli.logging.Log log;

  private static final org.apache.tomcat.util.res.StringManager sm;

  private final java.lang.Integer identifier;

  private volatile org.apache.coyote.http2.AbstractStream parentStream;

  private final java.util.Set<org.apache.coyote.http2.Stream> childStreams;

  private long windowSize;

  public java.lang.Integer getIdentifier();
    Code:
       0: aload_0
       1: getfield      #1                  // Field identifier:Ljava/lang/Integer;
       4: areturn

  public org.apache.coyote.http2.AbstractStream(java.lang.Integer);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #3                  // Field parentStream:Lorg/apache/coyote/http2/AbstractStream;
       9: aload_0
      10: new           #4                  // class java/util/concurrent/ConcurrentHashMap
      13: dup
      14: invokespecial #5                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      17: invokestatic  #6                  // Method java/util/Collections.newSetFromMap:(Ljava/util/Map;)Ljava/util/Set;
      20: putfield      #7                  // Field childStreams:Ljava/util/Set;
      23: aload_0
      24: ldc2_w        #8                  // long 65535l
      27: putfield      #10                 // Field windowSize:J
      30: aload_0
      31: aload_1
      32: putfield      #1                  // Field identifier:Ljava/lang/Integer;
      35: return

  void detachFromParent();
    Code:
       0: aload_0
       1: getfield      #3                  // Field parentStream:Lorg/apache/coyote/http2/AbstractStream;
       4: ifnull        26
       7: aload_0
       8: getfield      #3                  // Field parentStream:Lorg/apache/coyote/http2/AbstractStream;
      11: invokevirtual #11                 // Method getChildStreams:()Ljava/util/Set;
      14: aload_0
      15: invokeinterface #12,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      20: pop
      21: aload_0
      22: aconst_null
      23: putfield      #3                  // Field parentStream:Lorg/apache/coyote/http2/AbstractStream;
      26: return

  final void addChild(org.apache.coyote.http2.Stream);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #13                 // Method org/apache/coyote/http2/Stream.setParentStream:(Lorg/apache/coyote/http2/AbstractStream;)V
       5: aload_0
       6: getfield      #7                  // Field childStreams:Ljava/util/Set;
       9: aload_1
      10: invokeinterface #14,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      15: pop
      16: return

  boolean isDescendant(org.apache.coyote.http2.AbstractStream);
    Code:
       0: aload_0
       1: getfield      #7                  // Field childStreams:Ljava/util/Set;
       4: aload_1
       5: invokeinterface #15,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      10: ifeq          15
      13: iconst_1
      14: ireturn
      15: aload_0
      16: getfield      #7                  // Field childStreams:Ljava/util/Set;
      19: invokeinterface #16,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      24: astore_2
      25: aload_2
      26: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      31: ifeq          57
      34: aload_2
      35: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      40: checkcast     #19                 // class org/apache/coyote/http2/AbstractStream
      43: astore_3
      44: aload_3
      45: aload_1
      46: invokevirtual #20                 // Method isDescendant:(Lorg/apache/coyote/http2/AbstractStream;)Z
      49: ifeq          54
      52: iconst_1
      53: ireturn
      54: goto          25
      57: iconst_0
      58: ireturn

  org.apache.coyote.http2.AbstractStream getParentStream();
    Code:
       0: aload_0
       1: getfield      #3                  // Field parentStream:Lorg/apache/coyote/http2/AbstractStream;
       4: areturn

  void setParentStream(org.apache.coyote.http2.AbstractStream);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #3                  // Field parentStream:Lorg/apache/coyote/http2/AbstractStream;
       5: return

  final java.util.Set<org.apache.coyote.http2.Stream> getChildStreams();
    Code:
       0: aload_0
       1: getfield      #7                  // Field childStreams:Ljava/util/Set;
       4: areturn

  protected synchronized void setWindowSize(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #10                 // Field windowSize:J
       5: return

  protected synchronized long getWindowSize();
    Code:
       0: aload_0
       1: getfield      #10                 // Field windowSize:J
       4: lreturn

  protected synchronized void incrementWindowSize(int) throws org.apache.coyote.http2.Http2Exception;
    Code:
       0: aload_0
       1: dup
       2: getfield      #10                 // Field windowSize:J
       5: iload_1
       6: i2l
       7: ladd
       8: putfield      #10                 // Field windowSize:J
      11: getstatic     #21                 // Field log:Lorg/apache/juli/logging/Log;
      14: invokeinterface #22,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      19: ifeq          73
      22: getstatic     #21                 // Field log:Lorg/apache/juli/logging/Log;
      25: getstatic     #23                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      28: ldc           #24                 // String abstractStream.windowSizeInc
      30: iconst_4
      31: anewarray     #25                 // class java/lang/Object
      34: dup
      35: iconst_0
      36: aload_0
      37: invokevirtual #26                 // Method getConnectionId:()Ljava/lang/String;
      40: aastore
      41: dup
      42: iconst_1
      43: aload_0
      44: invokevirtual #27                 // Method getIdentifier:()Ljava/lang/Integer;
      47: aastore
      48: dup
      49: iconst_2
      50: iload_1
      51: invokestatic  #28                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      54: aastore
      55: dup
      56: iconst_3
      57: aload_0
      58: getfield      #10                 // Field windowSize:J
      61: invokestatic  #29                 // Method java/lang/Long.toString:(J)Ljava/lang/String;
      64: aastore
      65: invokevirtual #30                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      68: invokeinterface #31,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      73: aload_0
      74: getfield      #10                 // Field windowSize:J
      77: ldc2_w        #32                 // long 2147483647l
      80: lcmp
      81: ifle          169
      84: getstatic     #23                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      87: ldc           #34                 // String abstractStream.windowSizeTooBig
      89: iconst_4
      90: anewarray     #25                 // class java/lang/Object
      93: dup
      94: iconst_0
      95: aload_0
      96: invokevirtual #26                 // Method getConnectionId:()Ljava/lang/String;
      99: aastore
     100: dup
     101: iconst_1
     102: aload_0
     103: getfield      #1                  // Field identifier:Ljava/lang/Integer;
     106: aastore
     107: dup
     108: iconst_2
     109: iload_1
     110: invokestatic  #28                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
     113: aastore
     114: dup
     115: iconst_3
     116: aload_0
     117: getfield      #10                 // Field windowSize:J
     120: invokestatic  #29                 // Method java/lang/Long.toString:(J)Ljava/lang/String;
     123: aastore
     124: invokevirtual #30                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     127: astore_2
     128: aload_0
     129: getfield      #1                  // Field identifier:Ljava/lang/Integer;
     132: invokevirtual #35                 // Method java/lang/Integer.intValue:()I
     135: ifne          150
     138: new           #36                 // class org/apache/coyote/http2/ConnectionException
     141: dup
     142: aload_2
     143: getstatic     #37                 // Field org/apache/coyote/http2/Http2Error.FLOW_CONTROL_ERROR:Lorg/apache/coyote/http2/Http2Error;
     146: invokespecial #38                 // Method org/apache/coyote/http2/ConnectionException."<init>":(Ljava/lang/String;Lorg/apache/coyote/http2/Http2Error;)V
     149: athrow
     150: new           #39                 // class org/apache/coyote/http2/StreamException
     153: dup
     154: aload_2
     155: getstatic     #37                 // Field org/apache/coyote/http2/Http2Error.FLOW_CONTROL_ERROR:Lorg/apache/coyote/http2/Http2Error;
     158: aload_0
     159: getfield      #1                  // Field identifier:Ljava/lang/Integer;
     162: invokevirtual #35                 // Method java/lang/Integer.intValue:()I
     165: invokespecial #40                 // Method org/apache/coyote/http2/StreamException."<init>":(Ljava/lang/String;Lorg/apache/coyote/http2/Http2Error;I)V
     168: athrow
     169: return

  protected synchronized void decrementWindowSize(int);
    Code:
       0: aload_0
       1: dup
       2: getfield      #10                 // Field windowSize:J
       5: iload_1
       6: i2l
       7: lsub
       8: putfield      #10                 // Field windowSize:J
      11: getstatic     #21                 // Field log:Lorg/apache/juli/logging/Log;
      14: invokeinterface #22,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      19: ifeq          73
      22: getstatic     #21                 // Field log:Lorg/apache/juli/logging/Log;
      25: getstatic     #23                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      28: ldc           #41                 // String abstractStream.windowSizeDec
      30: iconst_4
      31: anewarray     #25                 // class java/lang/Object
      34: dup
      35: iconst_0
      36: aload_0
      37: invokevirtual #26                 // Method getConnectionId:()Ljava/lang/String;
      40: aastore
      41: dup
      42: iconst_1
      43: aload_0
      44: invokevirtual #27                 // Method getIdentifier:()Ljava/lang/Integer;
      47: aastore
      48: dup
      49: iconst_2
      50: iload_1
      51: invokestatic  #28                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      54: aastore
      55: dup
      56: iconst_3
      57: aload_0
      58: getfield      #10                 // Field windowSize:J
      61: invokestatic  #29                 // Method java/lang/Long.toString:(J)Ljava/lang/String;
      64: aastore
      65: invokevirtual #30                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      68: invokeinterface #31,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      73: return

  protected abstract java.lang.String getConnectionId();

  protected abstract int getWeight();

  protected abstract void doNotifyAll();

  static {};
    Code:
       0: ldc_w         #19                 // class org/apache/coyote/http2/AbstractStream
       3: invokestatic  #42                 // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
       6: putstatic     #21                 // Field log:Lorg/apache/juli/logging/Log;
       9: ldc_w         #19                 // class org/apache/coyote/http2/AbstractStream
      12: invokestatic  #43                 // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/Class;)Lorg/apache/tomcat/util/res/StringManager;
      15: putstatic     #23                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      18: return
}
