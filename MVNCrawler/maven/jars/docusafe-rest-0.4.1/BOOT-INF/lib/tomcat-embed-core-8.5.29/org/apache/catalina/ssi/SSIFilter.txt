Compiled from "SSIFilter.java"
public class org.apache.catalina.ssi.SSIFilter implements javax.servlet.Filter {
  protected javax.servlet.FilterConfig config;

  protected int debug;

  protected java.lang.Long expires;

  protected boolean isVirtualWebappRelative;

  protected java.util.regex.Pattern contentTypeRegEx;

  protected final java.util.regex.Pattern shtmlRegEx;

  protected boolean allowExec;

  public org.apache.catalina.ssi.SSIFilter();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field config:Ljavax/servlet/FilterConfig;
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field debug:I
      14: aload_0
      15: aconst_null
      16: putfield      #4                  // Field expires:Ljava/lang/Long;
      19: aload_0
      20: iconst_0
      21: putfield      #5                  // Field isVirtualWebappRelative:Z
      24: aload_0
      25: aconst_null
      26: putfield      #6                  // Field contentTypeRegEx:Ljava/util/regex/Pattern;
      29: aload_0
      30: ldc           #7                  // String text/x-server-parsed-html(;.*)?
      32: invokestatic  #8                  // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      35: putfield      #9                  // Field shtmlRegEx:Ljava/util/regex/Pattern;
      38: aload_0
      39: iconst_0
      40: putfield      #10                 // Field allowExec:Z
      43: return

  public void init(javax.servlet.FilterConfig) throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field config:Ljavax/servlet/FilterConfig;
       5: aload_1
       6: ldc           #11                 // String debug
       8: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      13: ifnull        31
      16: aload_0
      17: aload_1
      18: ldc           #11                 // String debug
      20: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      25: invokestatic  #13                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      28: putfield      #3                  // Field debug:I
      31: aload_1
      32: ldc           #14                 // String contentType
      34: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      39: ifnull        60
      42: aload_0
      43: aload_1
      44: ldc           #14                 // String contentType
      46: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      51: invokestatic  #8                  // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      54: putfield      #6                  // Field contentTypeRegEx:Ljava/util/regex/Pattern;
      57: goto          68
      60: aload_0
      61: aload_0
      62: getfield      #9                  // Field shtmlRegEx:Ljava/util/regex/Pattern;
      65: putfield      #6                  // Field contentTypeRegEx:Ljava/util/regex/Pattern;
      68: aload_0
      69: aload_1
      70: ldc           #15                 // String isVirtualWebappRelative
      72: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      77: invokestatic  #16                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
      80: putfield      #5                  // Field isVirtualWebappRelative:Z
      83: aload_1
      84: ldc           #17                 // String expires
      86: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      91: ifnull        109
      94: aload_0
      95: aload_1
      96: ldc           #17                 // String expires
      98: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     103: invokestatic  #18                 // Method java/lang/Long.valueOf:(Ljava/lang/String;)Ljava/lang/Long;
     106: putfield      #4                  // Field expires:Ljava/lang/Long;
     109: aload_0
     110: aload_1
     111: ldc           #19                 // String allowExec
     113: invokeinterface #12,  2           // InterfaceMethod javax/servlet/FilterConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     118: invokestatic  #16                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     121: putfield      #10                 // Field allowExec:Z
     124: aload_0
     125: getfield      #3                  // Field debug:I
     128: ifle          164
     131: aload_1
     132: invokeinterface #20,  1           // InterfaceMethod javax/servlet/FilterConfig.getServletContext:()Ljavax/servlet/ServletContext;
     137: new           #21                 // class java/lang/StringBuilder
     140: dup
     141: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     144: ldc           #23                 // String SSIFilter.init() SSI invoker started with \'debug\'=
     146: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: aload_0
     150: getfield      #3                  // Field debug:I
     153: invokevirtual #25                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     156: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     159: invokeinterface #27,  2           // InterfaceMethod javax/servlet/ServletContext.log:(Ljava/lang/String;)V
     164: return

  public void doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_1
       1: checkcast     #28                 // class javax/servlet/http/HttpServletRequest
       4: astore        4
       6: aload_2
       7: checkcast     #29                 // class javax/servlet/http/HttpServletResponse
      10: astore        5
      12: aload         4
      14: ldc           #30                 // String org.apache.catalina.ssi.SSIServlet
      16: ldc           #31                 // String true
      18: invokeinterface #32,  3           // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      23: new           #33                 // class org/apache/catalina/ssi/ByteArrayServletOutputStream
      26: dup
      27: invokespecial #34                 // Method org/apache/catalina/ssi/ByteArrayServletOutputStream."<init>":()V
      30: astore        6
      32: new           #35                 // class org/apache/catalina/ssi/ResponseIncludeWrapper
      35: dup
      36: aload_0
      37: getfield      #2                  // Field config:Ljavax/servlet/FilterConfig;
      40: invokeinterface #20,  1           // InterfaceMethod javax/servlet/FilterConfig.getServletContext:()Ljavax/servlet/ServletContext;
      45: aload         4
      47: aload         5
      49: aload         6
      51: invokespecial #36                 // Method org/apache/catalina/ssi/ResponseIncludeWrapper."<init>":(Ljavax/servlet/ServletContext;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljavax/servlet/ServletOutputStream;)V
      54: astore        7
      56: aload_3
      57: aload         4
      59: aload         7
      61: invokeinterface #37,  3           // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
      66: aload         7
      68: invokevirtual #38                 // Method org/apache/catalina/ssi/ResponseIncludeWrapper.flushOutputStreamOrWriter:()V
      71: aload         6
      73: invokevirtual #39                 // Method org/apache/catalina/ssi/ByteArrayServletOutputStream.toByteArray:()[B
      76: astore        8
      78: aload         7
      80: invokevirtual #40                 // Method org/apache/catalina/ssi/ResponseIncludeWrapper.getContentType:()Ljava/lang/String;
      83: astore        9
      85: aload_0
      86: getfield      #6                  // Field contentTypeRegEx:Ljava/util/regex/Pattern;
      89: aload         9
      91: invokevirtual #41                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
      94: invokevirtual #42                 // Method java/util/regex/Matcher.matches:()Z
      97: ifeq          370
     100: aload         5
     102: invokeinterface #43,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getCharacterEncoding:()Ljava/lang/String;
     107: astore        10
     109: new           #44                 // class org/apache/catalina/ssi/SSIServletExternalResolver
     112: dup
     113: aload_0
     114: getfield      #2                  // Field config:Ljavax/servlet/FilterConfig;
     117: invokeinterface #20,  1           // InterfaceMethod javax/servlet/FilterConfig.getServletContext:()Ljavax/servlet/ServletContext;
     122: aload         4
     124: aload         5
     126: aload_0
     127: getfield      #5                  // Field isVirtualWebappRelative:Z
     130: aload_0
     131: getfield      #3                  // Field debug:I
     134: aload         10
     136: invokespecial #45                 // Method org/apache/catalina/ssi/SSIServletExternalResolver."<init>":(Ljavax/servlet/ServletContext;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;ZILjava/lang/String;)V
     139: astore        11
     141: new           #46                 // class org/apache/catalina/ssi/SSIProcessor
     144: dup
     145: aload         11
     147: aload_0
     148: getfield      #3                  // Field debug:I
     151: aload_0
     152: getfield      #10                 // Field allowExec:Z
     155: invokespecial #47                 // Method org/apache/catalina/ssi/SSIProcessor."<init>":(Lorg/apache/catalina/ssi/SSIExternalResolver;IZ)V
     158: astore        12
     160: new           #48                 // class java/io/InputStreamReader
     163: dup
     164: new           #49                 // class java/io/ByteArrayInputStream
     167: dup
     168: aload         8
     170: invokespecial #50                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     173: aload         10
     175: invokespecial #51                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/lang/String;)V
     178: astore        13
     180: new           #52                 // class java/io/ByteArrayOutputStream
     183: dup
     184: invokespecial #53                 // Method java/io/ByteArrayOutputStream."<init>":()V
     187: astore        14
     189: new           #54                 // class java/io/PrintWriter
     192: dup
     193: new           #55                 // class java/io/OutputStreamWriter
     196: dup
     197: aload         14
     199: aload         10
     201: invokespecial #56                 // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;Ljava/lang/String;)V
     204: invokespecial #57                 // Method java/io/PrintWriter."<init>":(Ljava/io/Writer;)V
     207: astore        15
     209: aload         12
     211: aload         13
     213: aload         7
     215: invokevirtual #58                 // Method org/apache/catalina/ssi/ResponseIncludeWrapper.getLastModified:()J
     218: aload         15
     220: invokevirtual #59                 // Method org/apache/catalina/ssi/SSIProcessor.process:(Ljava/io/Reader;JLjava/io/PrintWriter;)J
     223: lstore        16
     225: aload         15
     227: invokevirtual #60                 // Method java/io/PrintWriter.flush:()V
     230: aload         14
     232: invokevirtual #61                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     235: astore        8
     237: aload_0
     238: getfield      #4                  // Field expires:Ljava/lang/Long;
     241: ifnull        275
     244: aload         5
     246: ldc           #17                 // String expires
     248: new           #62                 // class java/util/Date
     251: dup
     252: invokespecial #63                 // Method java/util/Date."<init>":()V
     255: invokevirtual #64                 // Method java/util/Date.getTime:()J
     258: aload_0
     259: getfield      #4                  // Field expires:Ljava/lang/Long;
     262: invokevirtual #65                 // Method java/lang/Long.longValue:()J
     265: ldc2_w        #66                 // long 1000l
     268: lmul
     269: ladd
     270: invokeinterface #68,  4           // InterfaceMethod javax/servlet/http/HttpServletResponse.setDateHeader:(Ljava/lang/String;J)V
     275: lload         16
     277: lconst_0
     278: lcmp
     279: ifle          293
     282: aload         5
     284: ldc           #69                 // String last-modified
     286: lload         16
     288: invokeinterface #68,  4           // InterfaceMethod javax/servlet/http/HttpServletResponse.setDateHeader:(Ljava/lang/String;J)V
     293: aload         5
     295: aload         8
     297: arraylength
     298: invokeinterface #70,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setContentLength:(I)V
     303: aload_0
     304: getfield      #9                  // Field shtmlRegEx:Ljava/util/regex/Pattern;
     307: aload         7
     309: invokevirtual #40                 // Method org/apache/catalina/ssi/ResponseIncludeWrapper.getContentType:()Ljava/lang/String;
     312: invokevirtual #41                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
     315: astore        18
     317: aload         18
     319: invokevirtual #42                 // Method java/util/regex/Matcher.matches:()Z
     322: ifeq          370
     325: aload         18
     327: iconst_1
     328: invokevirtual #71                 // Method java/util/regex/Matcher.group:(I)Ljava/lang/String;
     331: astore        19
     333: aload         5
     335: new           #21                 // class java/lang/StringBuilder
     338: dup
     339: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     342: ldc           #72                 // String text/html
     344: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     347: aload         19
     349: ifnull        357
     352: aload         19
     354: goto          359
     357: ldc           #73                 // String
     359: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     362: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     365: invokeinterface #74,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setContentType:(Ljava/lang/String;)V
     370: aconst_null
     371: astore        10
     373: aload         5
     375: invokeinterface #75,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     380: astore        10
     382: goto          387
     385: astore        11
     387: aload         10
     389: ifnonnull     414
     392: aload         5
     394: invokeinterface #77,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getWriter:()Ljava/io/PrintWriter;
     399: new           #78                 // class java/lang/String
     402: dup
     403: aload         8
     405: invokespecial #79                 // Method java/lang/String."<init>":([B)V
     408: invokevirtual #80                 // Method java/io/PrintWriter.write:(Ljava/lang/String;)V
     411: goto          421
     414: aload         10
     416: aload         8
     418: invokevirtual #81                 // Method java/io/OutputStream.write:([B)V
     421: return
    Exception table:
       from    to  target type
         373   382   385   Class java/lang/IllegalStateException

  public void destroy();
    Code:
       0: return
}
