Compiled from "AsyncContextImpl.java"
public class org.apache.catalina.core.AsyncContextImpl implements javax.servlet.AsyncContext,org.apache.coyote.AsyncContextCallback {
  private static final org.apache.juli.logging.Log log;

  protected static final org.apache.tomcat.util.res.StringManager sm;

  private final java.lang.Object asyncContextLock;

  private volatile javax.servlet.ServletRequest servletRequest;

  private volatile javax.servlet.ServletResponse servletResponse;

  private final java.util.List<org.apache.catalina.core.AsyncListenerWrapper> listeners;

  private boolean hasOriginalRequestAndResponse;

  private volatile java.lang.Runnable dispatch;

  private org.apache.catalina.Context context;

  private long timeout;

  private javax.servlet.AsyncEvent event;

  private volatile org.apache.catalina.connector.Request request;

  private volatile org.apache.tomcat.InstanceManager instanceManager;

  public org.apache.catalina.core.AsyncContextImpl(org.apache.catalina.connector.Request);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/lang/Object
       8: dup
       9: invokespecial #1                  // Method java/lang/Object."<init>":()V
      12: putfield      #3                  // Field asyncContextLock:Ljava/lang/Object;
      15: aload_0
      16: aconst_null
      17: putfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
      20: aload_0
      21: aconst_null
      22: putfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      25: aload_0
      26: new           #6                  // class java/util/ArrayList
      29: dup
      30: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
      33: putfield      #8                  // Field listeners:Ljava/util/List;
      36: aload_0
      37: iconst_1
      38: putfield      #9                  // Field hasOriginalRequestAndResponse:Z
      41: aload_0
      42: aconst_null
      43: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      46: aload_0
      47: aconst_null
      48: putfield      #11                 // Field context:Lorg/apache/catalina/Context;
      51: aload_0
      52: ldc2_w        #12                 // long -1l
      55: putfield      #14                 // Field timeout:J
      58: aload_0
      59: aconst_null
      60: putfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      63: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      66: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      71: ifeq          80
      74: aload_0
      75: ldc           #18                 // String Constructor
      77: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      80: aload_0
      81: aload_1
      82: putfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      85: return

  public void complete();
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #21                 // String complete
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: invokespecial #22                 // Method check:()V
      21: aload_0
      22: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      25: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      28: getstatic     #24                 // Field org/apache/coyote/ActionCode.ASYNC_COMPLETE:Lorg/apache/coyote/ActionCode;
      31: aconst_null
      32: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      35: return

  public void fireOnComplete();
    Code:
       0: new           #6                  // class java/util/ArrayList
       3: dup
       4: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_1
       9: aload_0
      10: getfield      #8                  // Field listeners:Ljava/util/List;
      13: invokeinterface #26,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      18: pop
      19: aload_0
      20: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      23: getstatic     #27                 // Field org/apache/catalina/Globals.IS_SECURITY_ENABLED:Z
      26: aconst_null
      27: invokeinterface #28,  3           // InterfaceMethod org/apache/catalina/Context.bind:(ZLjava/lang/ClassLoader;)Ljava/lang/ClassLoader;
      32: astore_2
      33: aload_1
      34: invokeinterface #29,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      39: astore_3
      40: aload_3
      41: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      46: ifeq          123
      49: aload_3
      50: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      55: checkcast     #32                 // class org/apache/catalina/core/AsyncListenerWrapper
      58: astore        4
      60: aload         4
      62: aload_0
      63: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      66: invokevirtual #33                 // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnComplete:(Ljavax/servlet/AsyncEvent;)V
      69: goto          120
      72: astore        5
      74: aload         5
      76: invokestatic  #35                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
      79: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      82: new           #36                 // class java/lang/StringBuilder
      85: dup
      86: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
      89: ldc           #38                 // String onComplete() failed for listener of type [
      91: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: aload         4
      96: invokevirtual #40                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      99: invokevirtual #41                 // Method java/lang/Class.getName:()Ljava/lang/String;
     102: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: ldc           #42                 // String ]
     107: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     113: aload         5
     115: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     120: goto          40
     123: aload_0
     124: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     127: aload_0
     128: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     131: invokevirtual #45                 // Method org/apache/catalina/connector/Request.getRequest:()Ljavax/servlet/http/HttpServletRequest;
     134: invokeinterface #46,  2           // InterfaceMethod org/apache/catalina/Context.fireRequestDestroyEvent:(Ljavax/servlet/ServletRequest;)Z
     139: pop
     140: aload_0
     141: invokespecial #47                 // Method clearServletRequestResponse:()V
     144: aload_0
     145: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     148: getstatic     #27                 // Field org/apache/catalina/Globals.IS_SECURITY_ENABLED:Z
     151: aload_2
     152: invokeinterface #48,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     157: goto          199
     160: astore        6
     162: aload_0
     163: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     166: aload_0
     167: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     170: invokevirtual #45                 // Method org/apache/catalina/connector/Request.getRequest:()Ljavax/servlet/http/HttpServletRequest;
     173: invokeinterface #46,  2           // InterfaceMethod org/apache/catalina/Context.fireRequestDestroyEvent:(Ljavax/servlet/ServletRequest;)Z
     178: pop
     179: aload_0
     180: invokespecial #47                 // Method clearServletRequestResponse:()V
     183: aload_0
     184: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     187: getstatic     #27                 // Field org/apache/catalina/Globals.IS_SECURITY_ENABLED:Z
     190: aload_2
     191: invokeinterface #48,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     196: aload         6
     198: athrow
     199: return
    Exception table:
       from    to  target type
          60    69    72   Class java/lang/Throwable
          33   123   160   any
         160   162   160   any

  public boolean timeout();
    Code:
       0: new           #49                 // class java/util/concurrent/atomic/AtomicBoolean
       3: dup
       4: invokespecial #50                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      12: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      15: getstatic     #51                 // Field org/apache/coyote/ActionCode.ASYNC_TIMEOUT:Lorg/apache/coyote/ActionCode;
      18: aload_1
      19: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      22: aload_0
      23: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      26: astore_2
      27: aload_1
      28: invokevirtual #52                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      31: ifeq          196
      34: aload_2
      35: iconst_0
      36: aconst_null
      37: invokeinterface #28,  3           // InterfaceMethod org/apache/catalina/Context.bind:(ZLjava/lang/ClassLoader;)Ljava/lang/ClassLoader;
      42: astore_3
      43: new           #6                  // class java/util/ArrayList
      46: dup
      47: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
      50: astore        4
      52: aload         4
      54: aload_0
      55: getfield      #8                  // Field listeners:Ljava/util/List;
      58: invokeinterface #26,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      63: pop
      64: aload         4
      66: invokeinterface #29,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      71: astore        5
      73: aload         5
      75: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      80: ifeq          158
      83: aload         5
      85: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      90: checkcast     #32                 // class org/apache/catalina/core/AsyncListenerWrapper
      93: astore        6
      95: aload         6
      97: aload_0
      98: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
     101: invokevirtual #53                 // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnTimeout:(Ljavax/servlet/AsyncEvent;)V
     104: goto          155
     107: astore        7
     109: aload         7
     111: invokestatic  #35                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     114: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     117: new           #36                 // class java/lang/StringBuilder
     120: dup
     121: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     124: ldc           #54                 // String onTimeout() failed for listener of type [
     126: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     129: aload         6
     131: invokevirtual #40                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     134: invokevirtual #41                 // Method java/lang/Class.getName:()Ljava/lang/String;
     137: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: ldc           #42                 // String ]
     142: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     145: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     148: aload         7
     150: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     155: goto          73
     158: aload_0
     159: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     162: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     165: getstatic     #55                 // Field org/apache/coyote/ActionCode.ASYNC_IS_TIMINGOUT:Lorg/apache/coyote/ActionCode;
     168: aload_1
     169: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     172: aload_2
     173: iconst_0
     174: aload_3
     175: invokeinterface #48,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     180: goto          196
     183: astore        8
     185: aload_2
     186: iconst_0
     187: aload_3
     188: invokeinterface #48,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     193: aload         8
     195: athrow
     196: aload_1
     197: invokevirtual #52                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     200: ifne          207
     203: iconst_1
     204: goto          208
     207: iconst_0
     208: ireturn
    Exception table:
       from    to  target type
          95   104   107   Class java/lang/Throwable
          43   172   183   any
         183   185   183   any

  public void dispatch();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: invokevirtual #56                 // Method getRequest:()Ljavax/servlet/ServletRequest;
       8: astore_3
       9: aload_3
      10: instanceof    #57                 // class javax/servlet/http/HttpServletRequest
      13: ifeq          41
      16: aload_3
      17: checkcast     #57                 // class javax/servlet/http/HttpServletRequest
      20: astore        4
      22: aload         4
      24: invokeinterface #58,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRequestURI:()Ljava/lang/String;
      29: astore_1
      30: aload         4
      32: invokeinterface #59,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getContextPath:()Ljava/lang/String;
      37: astore_2
      38: goto          57
      41: aload_0
      42: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      45: invokevirtual #60                 // Method org/apache/catalina/connector/Request.getRequestURI:()Ljava/lang/String;
      48: astore_1
      49: aload_0
      50: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      53: invokevirtual #61                 // Method org/apache/catalina/connector/Request.getContextPath:()Ljava/lang/String;
      56: astore_2
      57: aload_2
      58: invokevirtual #62                 // Method java/lang/String.length:()I
      61: iconst_1
      62: if_icmple     74
      65: aload_1
      66: aload_2
      67: invokevirtual #62                 // Method java/lang/String.length:()I
      70: invokevirtual #63                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      73: astore_1
      74: aload_0
      75: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      78: invokeinterface #64,  1           // InterfaceMethod org/apache/catalina/Context.getDispatchersUseEncodedPaths:()Z
      83: ifne          94
      86: aload_1
      87: getstatic     #65                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      90: invokestatic  #66                 // Method org/apache/tomcat/util/buf/UDecoder.URLDecode:(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;
      93: astore_1
      94: aload_0
      95: aload_1
      96: invokevirtual #67                 // Method dispatch:(Ljava/lang/String;)V
      99: return

  public void dispatch(java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: aload_0
       6: invokevirtual #56                 // Method getRequest:()Ljavax/servlet/ServletRequest;
       9: invokeinterface #68,  1           // InterfaceMethod javax/servlet/ServletRequest.getServletContext:()Ljavax/servlet/ServletContext;
      14: aload_1
      15: invokevirtual #69                 // Method dispatch:(Ljavax/servlet/ServletContext;Ljava/lang/String;)V
      18: return

  public void dispatch(javax.servlet.ServletContext, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #3                  // Field asyncContextLock:Ljava/lang/Object;
       4: dup
       5: astore_3
       6: monitorenter
       7: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      10: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      15: ifeq          24
      18: aload_0
      19: ldc           #70                 // String dispatch
      21: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      24: aload_0
      25: invokespecial #22                 // Method check:()V
      28: aload_0
      29: getfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      32: ifnull        51
      35: new           #71                 // class java/lang/IllegalStateException
      38: dup
      39: getstatic     #72                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      42: ldc           #73                 // String asyncContextImpl.dispatchingStarted
      44: invokevirtual #74                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      47: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      50: athrow
      51: aload_0
      52: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      55: ldc           #76                 // String javax.servlet.async.request_uri
      57: invokevirtual #77                 // Method org/apache/catalina/connector/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      60: ifnonnull     143
      63: aload_0
      64: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      67: ldc           #76                 // String javax.servlet.async.request_uri
      69: aload_0
      70: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      73: invokevirtual #60                 // Method org/apache/catalina/connector/Request.getRequestURI:()Ljava/lang/String;
      76: invokevirtual #78                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      79: aload_0
      80: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      83: ldc           #79                 // String javax.servlet.async.context_path
      85: aload_0
      86: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      89: invokevirtual #61                 // Method org/apache/catalina/connector/Request.getContextPath:()Ljava/lang/String;
      92: invokevirtual #78                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      95: aload_0
      96: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      99: ldc           #80                 // String javax.servlet.async.servlet_path
     101: aload_0
     102: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     105: invokevirtual #81                 // Method org/apache/catalina/connector/Request.getServletPath:()Ljava/lang/String;
     108: invokevirtual #78                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     111: aload_0
     112: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     115: ldc           #82                 // String javax.servlet.async.path_info
     117: aload_0
     118: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     121: invokevirtual #83                 // Method org/apache/catalina/connector/Request.getPathInfo:()Ljava/lang/String;
     124: invokevirtual #78                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     127: aload_0
     128: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     131: ldc           #84                 // String javax.servlet.async.query_string
     133: aload_0
     134: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     137: invokevirtual #85                 // Method org/apache/catalina/connector/Request.getQueryString:()Ljava/lang/String;
     140: invokevirtual #78                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     143: aload_1
     144: aload_2
     145: invokeinterface #86,  2           // InterfaceMethod javax/servlet/ServletContext.getRequestDispatcher:(Ljava/lang/String;)Ljavax/servlet/RequestDispatcher;
     150: astore        4
     152: aload         4
     154: instanceof    #87                 // class org/apache/catalina/AsyncDispatcher
     157: ifne          176
     160: new           #88                 // class java/lang/UnsupportedOperationException
     163: dup
     164: getstatic     #72                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     167: ldc           #89                 // String asyncContextImpl.noAsyncDispatcher
     169: invokevirtual #74                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     172: invokespecial #90                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
     175: athrow
     176: aload         4
     178: checkcast     #87                 // class org/apache/catalina/AsyncDispatcher
     181: astore        5
     183: aload_0
     184: invokevirtual #56                 // Method getRequest:()Ljavax/servlet/ServletRequest;
     187: astore        6
     189: aload_0
     190: invokevirtual #91                 // Method getResponse:()Ljavax/servlet/ServletResponse;
     193: astore        7
     195: aload_0
     196: new           #92                 // class org/apache/catalina/core/AsyncContextImpl$AsyncRunnable
     199: dup
     200: aload_0
     201: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     204: aload         5
     206: aload         6
     208: aload         7
     210: invokespecial #93                 // Method org/apache/catalina/core/AsyncContextImpl$AsyncRunnable."<init>":(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/AsyncDispatcher;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     213: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
     216: aload_0
     217: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     220: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     223: getstatic     #94                 // Field org/apache/coyote/ActionCode.ASYNC_DISPATCH:Lorg/apache/coyote/ActionCode;
     226: aconst_null
     227: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     230: aload_0
     231: invokespecial #47                 // Method clearServletRequestResponse:()V
     234: aload_3
     235: monitorexit
     236: goto          246
     239: astore        8
     241: aload_3
     242: monitorexit
     243: aload         8
     245: athrow
     246: return
    Exception table:
       from    to  target type
           7   236   239   any
         239   243   239   any

  public javax.servlet.ServletRequest getRequest();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
       8: ifnonnull     27
      11: new           #71                 // class java/lang/IllegalStateException
      14: dup
      15: getstatic     #72                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      18: ldc           #95                 // String asyncContextImpl.request.ise
      20: invokevirtual #74                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      23: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      26: athrow
      27: aload_0
      28: getfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
      31: areturn

  public javax.servlet.ServletResponse getResponse();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
       8: ifnonnull     27
      11: new           #71                 // class java/lang/IllegalStateException
      14: dup
      15: getstatic     #72                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      18: ldc           #96                 // String asyncContextImpl.response.ise
      20: invokevirtual #74                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      23: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      26: athrow
      27: aload_0
      28: getfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      31: areturn

  public void start(java.lang.Runnable);
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #97                 // String start
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: invokespecial #22                 // Method check:()V
      21: new           #98                 // class org/apache/catalina/core/AsyncContextImpl$RunnableWrapper
      24: dup
      25: aload_1
      26: aload_0
      27: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      30: aload_0
      31: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      34: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      37: invokespecial #99                 // Method org/apache/catalina/core/AsyncContextImpl$RunnableWrapper."<init>":(Ljava/lang/Runnable;Lorg/apache/catalina/Context;Lorg/apache/coyote/Request;)V
      40: astore_2
      41: aload_0
      42: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      45: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      48: getstatic     #100                // Field org/apache/coyote/ActionCode.ASYNC_RUN:Lorg/apache/coyote/ActionCode;
      51: aload_2
      52: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      55: return

  public void addListener(javax.servlet.AsyncListener);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: new           #32                 // class org/apache/catalina/core/AsyncListenerWrapper
       7: dup
       8: invokespecial #101                // Method org/apache/catalina/core/AsyncListenerWrapper."<init>":()V
      11: astore_2
      12: aload_2
      13: aload_1
      14: invokevirtual #102                // Method org/apache/catalina/core/AsyncListenerWrapper.setListener:(Ljavax/servlet/AsyncListener;)V
      17: aload_0
      18: getfield      #8                  // Field listeners:Ljava/util/List;
      21: aload_2
      22: invokeinterface #103,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      27: pop
      28: return

  public void addListener(javax.servlet.AsyncListener, javax.servlet.ServletRequest, javax.servlet.ServletResponse);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: new           #32                 // class org/apache/catalina/core/AsyncListenerWrapper
       7: dup
       8: invokespecial #101                // Method org/apache/catalina/core/AsyncListenerWrapper."<init>":()V
      11: astore        4
      13: aload         4
      15: aload_1
      16: invokevirtual #102                // Method org/apache/catalina/core/AsyncListenerWrapper.setListener:(Ljavax/servlet/AsyncListener;)V
      19: aload         4
      21: aload_2
      22: invokevirtual #104                // Method org/apache/catalina/core/AsyncListenerWrapper.setServletRequest:(Ljavax/servlet/ServletRequest;)V
      25: aload         4
      27: aload_3
      28: invokevirtual #105                // Method org/apache/catalina/core/AsyncListenerWrapper.setServletResponse:(Ljavax/servlet/ServletResponse;)V
      31: aload_0
      32: getfield      #8                  // Field listeners:Ljava/util/List;
      35: aload         4
      37: invokeinterface #103,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      42: pop
      43: return

  public <T extends javax.servlet.AsyncListener> T createListener(java.lang.Class<T>) throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aconst_null
       5: astore_2
       6: aload_0
       7: invokespecial #106                // Method getInstanceManager:()Lorg/apache/tomcat/InstanceManager;
      10: aload_1
      11: invokevirtual #41                 // Method java/lang/Class.getName:()Ljava/lang/String;
      14: aload_1
      15: invokevirtual #107                // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      18: invokeinterface #108,  3          // InterfaceMethod org/apache/tomcat/InstanceManager.newInstance:(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljava/lang/Object;
      23: checkcast     #109                // class javax/servlet/AsyncListener
      26: astore_2
      27: goto          65
      30: astore_3
      31: new           #114                // class javax/servlet/ServletException
      34: dup
      35: aload_3
      36: invokespecial #115                // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
      39: astore        4
      41: aload         4
      43: athrow
      44: astore_3
      45: aload_3
      46: invokevirtual #117                // Method java/lang/Exception.getCause:()Ljava/lang/Throwable;
      49: invokestatic  #35                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
      52: new           #114                // class javax/servlet/ServletException
      55: dup
      56: aload_3
      57: invokespecial #115                // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
      60: astore        4
      62: aload         4
      64: athrow
      65: aload_2
      66: areturn
    Exception table:
       from    to  target type
           6    27    30   Class java/lang/InstantiationException
           6    27    30   Class java/lang/IllegalAccessException
           6    27    30   Class javax/naming/NamingException
           6    27    30   Class java/lang/ClassNotFoundException
           6    27    44   Class java/lang/Exception

  public void recycle();
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #118                // String recycle
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: aconst_null
      19: putfield      #11                 // Field context:Lorg/apache/catalina/Context;
      22: aload_0
      23: aconst_null
      24: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      27: aload_0
      28: aconst_null
      29: putfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      32: aload_0
      33: iconst_1
      34: putfield      #9                  // Field hasOriginalRequestAndResponse:Z
      37: aload_0
      38: aconst_null
      39: putfield      #119                // Field instanceManager:Lorg/apache/tomcat/InstanceManager;
      42: aload_0
      43: getfield      #8                  // Field listeners:Ljava/util/List;
      46: invokeinterface #120,  1          // InterfaceMethod java/util/List.clear:()V
      51: aload_0
      52: aconst_null
      53: putfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      56: aload_0
      57: invokespecial #47                 // Method clearServletRequestResponse:()V
      60: aload_0
      61: ldc2_w        #12                 // long -1l
      64: putfield      #14                 // Field timeout:J
      67: return

  private void clearServletRequestResponse();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
       5: aload_0
       6: aconst_null
       7: putfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      10: return

  public boolean isStarted();
    Code:
       0: new           #49                 // class java/util/concurrent/atomic/AtomicBoolean
       3: dup
       4: iconst_0
       5: invokespecial #121                // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
       8: astore_1
       9: aload_0
      10: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      13: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      16: getstatic     #122                // Field org/apache/coyote/ActionCode.ASYNC_IS_STARTED:Lorg/apache/coyote/ActionCode;
      19: aload_1
      20: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      23: aload_1
      24: invokevirtual #52                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      27: ireturn

  public void setStarted(org.apache.catalina.Context, javax.servlet.ServletRequest, javax.servlet.ServletResponse, boolean);
    Code:
       0: aload_0
       1: getfield      #3                  // Field asyncContextLock:Ljava/lang/Object;
       4: dup
       5: astore        5
       7: monitorenter
       8: aload_0
       9: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      12: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      15: getstatic     #123                // Field org/apache/coyote/ActionCode.ASYNC_START:Lorg/apache/coyote/ActionCode;
      18: aload_0
      19: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      22: aload_0
      23: aload_1
      24: putfield      #11                 // Field context:Lorg/apache/catalina/Context;
      27: aload_0
      28: aload_2
      29: putfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
      32: aload_0
      33: aload_3
      34: putfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      37: aload_0
      38: iload         4
      40: putfield      #9                  // Field hasOriginalRequestAndResponse:Z
      43: aload_0
      44: new           #124                // class javax/servlet/AsyncEvent
      47: dup
      48: aload_0
      49: aload_2
      50: aload_3
      51: invokespecial #125                // Method javax/servlet/AsyncEvent."<init>":(Ljavax/servlet/AsyncContext;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
      54: putfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      57: new           #6                  // class java/util/ArrayList
      60: dup
      61: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
      64: astore        6
      66: aload         6
      68: aload_0
      69: getfield      #8                  // Field listeners:Ljava/util/List;
      72: invokeinterface #26,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      77: pop
      78: aload_0
      79: getfield      #8                  // Field listeners:Ljava/util/List;
      82: invokeinterface #120,  1          // InterfaceMethod java/util/List.clear:()V
      87: aload         6
      89: invokeinterface #29,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      94: astore        7
      96: aload         7
      98: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     103: ifeq          181
     106: aload         7
     108: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     113: checkcast     #32                 // class org/apache/catalina/core/AsyncListenerWrapper
     116: astore        8
     118: aload         8
     120: aload_0
     121: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
     124: invokevirtual #126                // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnStartAsync:(Ljavax/servlet/AsyncEvent;)V
     127: goto          178
     130: astore        9
     132: aload         9
     134: invokestatic  #35                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     137: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     140: new           #36                 // class java/lang/StringBuilder
     143: dup
     144: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     147: ldc           #127                // String onStartAsync() failed for listener of type [
     149: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: aload         8
     154: invokevirtual #40                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     157: invokevirtual #41                 // Method java/lang/Class.getName:()Ljava/lang/String;
     160: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     163: ldc           #42                 // String ]
     165: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     168: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     171: aload         9
     173: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     178: goto          96
     181: aload         5
     183: monitorexit
     184: goto          195
     187: astore        10
     189: aload         5
     191: monitorexit
     192: aload         10
     194: athrow
     195: return
    Exception table:
       from    to  target type
         118   127   130   Class java/lang/Throwable
           8   184   187   any
         187   192   187   any

  public boolean hasOriginalRequestAndResponse();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #9                  // Field hasOriginalRequestAndResponse:Z
       8: ireturn

  protected void doInternalDispatch() throws javax.servlet.ServletException, java.io.IOException;
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #128                // String intDispatch
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: getfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      21: astore_1
      22: aload_0
      23: aconst_null
      24: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      27: aload_1
      28: invokeinterface #129,  1          // InterfaceMethod java/lang/Runnable.run:()V
      33: aload_0
      34: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      37: invokevirtual #130                // Method org/apache/catalina/connector/Request.isAsync:()Z
      40: ifne          47
      43: aload_0
      44: invokevirtual #131                // Method fireOnComplete:()V
      47: goto          96
      50: astore_1
      51: aload_1
      52: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      55: instanceof    #114                // class javax/servlet/ServletException
      58: ifeq          69
      61: aload_1
      62: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      65: checkcast     #114                // class javax/servlet/ServletException
      68: athrow
      69: aload_1
      70: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      73: instanceof    #134                // class java/io/IOException
      76: ifeq          87
      79: aload_1
      80: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      83: checkcast     #134                // class java/io/IOException
      86: athrow
      87: new           #114                // class javax/servlet/ServletException
      90: dup
      91: aload_1
      92: invokespecial #115                // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
      95: athrow
      96: return
    Exception table:
       from    to  target type
          17    47    50   Class java/lang/RuntimeException

  public long getTimeout();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #14                 // Field timeout:J
       8: lreturn

  public void setTimeout(long);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: lload_1
       6: putfield      #14                 // Field timeout:J
       9: aload_0
      10: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      13: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      16: getstatic     #135                // Field org/apache/coyote/ActionCode.ASYNC_SETTIMEOUT:Lorg/apache/coyote/ActionCode;
      19: lload_1
      20: invokestatic  #136                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      23: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      26: return

  public void setErrorState(java.lang.Throwable, boolean);
    Code:
       0: aload_1
       1: ifnull        14
       4: aload_0
       5: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
       8: ldc           #137                // String javax.servlet.error.exception
      10: aload_1
      11: invokevirtual #78                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      18: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      21: getstatic     #138                // Field org/apache/coyote/ActionCode.ASYNC_ERROR:Lorg/apache/coyote/ActionCode;
      24: aconst_null
      25: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      28: iload_2
      29: ifeq          174
      32: new           #124                // class javax/servlet/AsyncEvent
      35: dup
      36: aload_0
      37: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      40: invokevirtual #139                // Method javax/servlet/AsyncEvent.getAsyncContext:()Ljavax/servlet/AsyncContext;
      43: aload_0
      44: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      47: invokevirtual #140                // Method javax/servlet/AsyncEvent.getSuppliedRequest:()Ljavax/servlet/ServletRequest;
      50: aload_0
      51: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      54: invokevirtual #141                // Method javax/servlet/AsyncEvent.getSuppliedResponse:()Ljavax/servlet/ServletResponse;
      57: aload_1
      58: invokespecial #142                // Method javax/servlet/AsyncEvent."<init>":(Ljavax/servlet/AsyncContext;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljava/lang/Throwable;)V
      61: astore_3
      62: new           #6                  // class java/util/ArrayList
      65: dup
      66: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
      69: astore        4
      71: aload         4
      73: aload_0
      74: getfield      #8                  // Field listeners:Ljava/util/List;
      77: invokeinterface #26,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      82: pop
      83: aload         4
      85: invokeinterface #29,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      90: astore        5
      92: aload         5
      94: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      99: ifeq          174
     102: aload         5
     104: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     109: checkcast     #32                 // class org/apache/catalina/core/AsyncListenerWrapper
     112: astore        6
     114: aload         6
     116: aload_3
     117: invokevirtual #143                // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnError:(Ljavax/servlet/AsyncEvent;)V
     120: goto          171
     123: astore        7
     125: aload         7
     127: invokestatic  #35                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     130: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     133: new           #36                 // class java/lang/StringBuilder
     136: dup
     137: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     140: ldc           #144                // String onError() failed for listener of type [
     142: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     145: aload         6
     147: invokevirtual #40                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     150: invokevirtual #41                 // Method java/lang/Class.getName:()Ljava/lang/String;
     153: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     156: ldc           #42                 // String ]
     158: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     161: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     164: aload         7
     166: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     171: goto          92
     174: new           #49                 // class java/util/concurrent/atomic/AtomicBoolean
     177: dup
     178: invokespecial #50                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
     181: astore_3
     182: aload_0
     183: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     186: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     189: getstatic     #145                // Field org/apache/coyote/ActionCode.ASYNC_IS_ERROR:Lorg/apache/coyote/ActionCode;
     192: aload_3
     193: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     196: aload_3
     197: invokevirtual #52                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     200: ifeq          311
     203: aload_0
     204: getfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
     207: astore        4
     209: aload         4
     211: instanceof    #146                // class javax/servlet/http/HttpServletResponse
     214: ifeq          230
     217: aload         4
     219: checkcast     #146                // class javax/servlet/http/HttpServletResponse
     222: sipush        500
     225: invokeinterface #147,  2          // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
     230: aload_0
     231: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     234: invokeinterface #148,  1          // InterfaceMethod org/apache/catalina/Context.getParent:()Lorg/apache/catalina/Container;
     239: checkcast     #149                // class org/apache/catalina/Host
     242: astore        5
     244: aload         5
     246: invokeinterface #150,  1          // InterfaceMethod org/apache/catalina/Host.getPipeline:()Lorg/apache/catalina/Pipeline;
     251: invokeinterface #151,  1          // InterfaceMethod org/apache/catalina/Pipeline.getBasic:()Lorg/apache/catalina/Valve;
     256: astore        6
     258: aload         6
     260: instanceof    #152                // class org/apache/catalina/core/StandardHostValve
     263: ifeq          286
     266: aload         6
     268: checkcast     #152                // class org/apache/catalina/core/StandardHostValve
     271: aload_0
     272: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     275: aload_0
     276: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     279: invokevirtual #153                // Method org/apache/catalina/connector/Request.getResponse:()Lorg/apache/catalina/connector/Response;
     282: aload_1
     283: invokevirtual #154                // Method org/apache/catalina/core/StandardHostValve.throwable:(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;Ljava/lang/Throwable;)V
     286: aload_0
     287: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     290: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     293: getstatic     #145                // Field org/apache/coyote/ActionCode.ASYNC_IS_ERROR:Lorg/apache/coyote/ActionCode;
     296: aload_3
     297: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     300: aload_3
     301: invokevirtual #52                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     304: ifeq          311
     307: aload_0
     308: invokevirtual #155                // Method complete:()V
     311: return
    Exception table:
       from    to  target type
         114   120   123   Class java/lang/Throwable

  private void logDebug(java.lang.String);
    Code:
       0: new           #36                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
       7: astore        6
       9: aload_0
      10: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      13: ifnonnull     41
      16: ldc           #156                // String null
      18: astore_2
      19: ldc           #156                // String null
      21: astore_3
      22: ldc           #156                // String null
      24: astore        4
      26: ldc           #157                // String -
      28: astore        5
      30: aload         6
      32: ldc           #158                // String N/A
      34: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: pop
      38: goto          176
      41: aload_0
      42: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      45: invokevirtual #159                // Method java/lang/Object.hashCode:()I
      48: invokestatic  #160                // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      51: astore_2
      52: aload_0
      53: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      56: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      59: astore        7
      61: aload         7
      63: ifnonnull     80
      66: ldc           #156                // String null
      68: astore_3
      69: ldc           #156                // String null
      71: astore        4
      73: ldc           #157                // String -
      75: astore        5
      77: goto          132
      80: aload         7
      82: invokevirtual #159                // Method java/lang/Object.hashCode:()I
      85: invokestatic  #160                // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      88: astore_3
      89: aload         7
      91: invokevirtual #161                // Method org/apache/coyote/Request.getRequestProcessor:()Lorg/apache/coyote/RequestInfo;
      94: astore        8
      96: aload         8
      98: ifnonnull     112
     101: ldc           #156                // String null
     103: astore        4
     105: ldc           #157                // String -
     107: astore        5
     109: goto          132
     112: aload         8
     114: invokevirtual #159                // Method java/lang/Object.hashCode:()I
     117: invokestatic  #160                // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
     120: astore        4
     122: aload         8
     124: invokevirtual #162                // Method org/apache/coyote/RequestInfo.getStage:()I
     127: invokestatic  #163                // Method java/lang/Integer.toString:(I)Ljava/lang/String;
     130: astore        5
     132: aload         6
     134: aload_0
     135: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     138: invokevirtual #60                 // Method org/apache/catalina/connector/Request.getRequestURI:()Ljava/lang/String;
     141: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: pop
     145: aload_0
     146: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     149: invokevirtual #85                 // Method org/apache/catalina/connector/Request.getQueryString:()Ljava/lang/String;
     152: ifnull        176
     155: aload         6
     157: bipush        63
     159: invokevirtual #164                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     162: pop
     163: aload         6
     165: aload_0
     166: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     169: invokevirtual #85                 // Method org/apache/catalina/connector/Request.getQueryString:()Ljava/lang/String;
     172: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: pop
     176: invokestatic  #165                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     179: invokevirtual #166                // Method java/lang/Thread.getName:()Ljava/lang/String;
     182: astore        7
     184: aload         7
     186: invokevirtual #62                 // Method java/lang/String.length:()I
     189: istore        8
     191: iload         8
     193: bipush        20
     195: if_icmple     212
     198: aload         7
     200: iload         8
     202: bipush        20
     204: isub
     205: iload         8
     207: invokevirtual #167                // Method java/lang/String.substring:(II)Ljava/lang/String;
     210: astore        7
     212: ldc           #168                // String Req: %1$8s  CReq: %2$8s  RP: %3$8s  Stage: %4$s  Thread: %5$20s  State: %6$20s  Method: %7$11s  URI: %8$s
     214: bipush        8
     216: anewarray     #2                  // class java/lang/Object
     219: dup
     220: iconst_0
     221: aload_2
     222: aastore
     223: dup
     224: iconst_1
     225: aload_3
     226: aastore
     227: dup
     228: iconst_2
     229: aload         4
     231: aastore
     232: dup
     233: iconst_3
     234: aload         5
     236: aastore
     237: dup
     238: iconst_4
     239: aload         7
     241: aastore
     242: dup
     243: iconst_5
     244: ldc           #158                // String N/A
     246: aastore
     247: dup
     248: bipush        6
     250: aload_1
     251: aastore
     252: dup
     253: bipush        7
     255: aload         6
     257: aastore
     258: invokestatic  #169                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     261: astore        9
     263: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     266: invokeinterface #170,  1          // InterfaceMethod org/apache/juli/logging/Log.isTraceEnabled:()Z
     271: ifeq          295
     274: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     277: aload         9
     279: new           #171                // class org/apache/catalina/core/AsyncContextImpl$DebugException
     282: dup
     283: aconst_null
     284: invokespecial #172                // Method org/apache/catalina/core/AsyncContextImpl$DebugException."<init>":(Lorg/apache/catalina/core/AsyncContextImpl$1;)V
     287: invokeinterface #173,  3          // InterfaceMethod org/apache/juli/logging/Log.trace:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     292: goto          305
     295: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     298: aload         9
     300: invokeinterface #174,  2          // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
     305: return

  private org.apache.tomcat.InstanceManager getInstanceManager();
    Code:
       0: aload_0
       1: getfield      #119                // Field instanceManager:Lorg/apache/tomcat/InstanceManager;
       4: ifnonnull     64
       7: aload_0
       8: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      11: instanceof    #175                // class org/apache/catalina/core/StandardContext
      14: ifeq          34
      17: aload_0
      18: aload_0
      19: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      22: checkcast     #175                // class org/apache/catalina/core/StandardContext
      25: invokevirtual #176                // Method org/apache/catalina/core/StandardContext.getInstanceManager:()Lorg/apache/tomcat/InstanceManager;
      28: putfield      #119                // Field instanceManager:Lorg/apache/tomcat/InstanceManager;
      31: goto          64
      34: aload_0
      35: new           #177                // class org/apache/catalina/core/DefaultInstanceManager
      38: dup
      39: aconst_null
      40: new           #178                // class java/util/HashMap
      43: dup
      44: invokespecial #179                // Method java/util/HashMap."<init>":()V
      47: aload_0
      48: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      51: aload_0
      52: invokevirtual #40                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      55: invokevirtual #107                // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      58: invokespecial #180                // Method org/apache/catalina/core/DefaultInstanceManager."<init>":(Ljavax/naming/Context;Ljava/util/Map;Lorg/apache/catalina/Context;Ljava/lang/ClassLoader;)V
      61: putfield      #119                // Field instanceManager:Lorg/apache/tomcat/InstanceManager;
      64: aload_0
      65: getfield      #119                // Field instanceManager:Lorg/apache/tomcat/InstanceManager;
      68: areturn

  private void check();
    Code:
       0: aload_0
       1: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
       4: ifnonnull     23
       7: new           #71                 // class java/lang/IllegalStateException
      10: dup
      11: getstatic     #72                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      14: ldc           #181                // String asyncContextImpl.requestEnded
      16: invokevirtual #74                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      19: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: return

  static {};
    Code:
       0: ldc_w         #182                // class org/apache/catalina/core/AsyncContextImpl
       3: invokestatic  #183                // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
       6: putstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       9: ldc           #184                // String org.apache.catalina.core
      11: invokestatic  #185                // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/String;)Lorg/apache/tomcat/util/res/StringManager;
      14: putstatic     #72                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      17: return
}
