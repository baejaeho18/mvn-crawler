Compiled from "Nio2Endpoint.java"
class org.apache.tomcat.util.net.Nio2Endpoint$Nio2SocketWrapper$5 implements java.nio.channels.CompletionHandler<java.lang.Integer, java.nio.ByteBuffer> {
  final org.apache.tomcat.util.net.Nio2Endpoint val$endpoint;

  final org.apache.tomcat.util.net.Nio2Endpoint$Nio2SocketWrapper this$0;

  org.apache.tomcat.util.net.Nio2Endpoint$Nio2SocketWrapper$5(org.apache.tomcat.util.net.Nio2Endpoint$Nio2SocketWrapper, org.apache.tomcat.util.net.Nio2Endpoint);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$endpoint:Lorg/apache/tomcat/util/net/Nio2Endpoint;
      10: aload_0
      11: invokespecial #3                  // Method java/lang/Object."<init>":()V
      14: return

  public void completed(java.lang.Integer, java.nio.ByteBuffer);
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
       4: iconst_0
       5: invokestatic  #4                  // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1102:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;Z)Z
       8: pop
       9: aload_0
      10: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
      13: invokestatic  #5                  // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1200:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)Ljava/nio/channels/CompletionHandler;
      16: dup
      17: astore_3
      18: monitorenter
      19: aload_1
      20: invokevirtual #6                  // Method java/lang/Integer.intValue:()I
      23: ifge          49
      26: aload_0
      27: new           #7                  // class java/io/EOFException
      30: dup
      31: getstatic     #8                  // Field org/apache/tomcat/util/net/SocketWrapperBase.sm:Lorg/apache/tomcat/util/res/StringManager;
      34: ldc           #9                  // String iob.failedwrite
      36: invokevirtual #10                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      39: invokespecial #11                 // Method java/io/EOFException."<init>":(Ljava/lang/String;)V
      42: aload_2
      43: invokevirtual #12                 // Method failed:(Ljava/lang/Throwable;Ljava/nio/ByteBuffer;)V
      46: goto          340
      49: aload_0
      50: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
      53: getfield      #13                 // Field org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.bufferedWrites:Ljava/util/concurrent/LinkedBlockingDeque;
      56: invokevirtual #14                 // Method java/util/concurrent/LinkedBlockingDeque.size:()I
      59: ifle          234
      62: invokestatic  #15                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1300:()Ljava/lang/ThreadLocal;
      65: invokevirtual #16                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      68: checkcast     #17                 // class java/util/concurrent/atomic/AtomicInteger
      71: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      74: pop
      75: new           #19                 // class java/util/ArrayList
      78: dup
      79: invokespecial #20                 // Method java/util/ArrayList."<init>":()V
      82: astore        4
      84: aload_2
      85: invokevirtual #21                 // Method java/nio/ByteBuffer.hasRemaining:()Z
      88: ifeq          98
      91: aload         4
      93: aload_2
      94: invokevirtual #22                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      97: pop
      98: aload_0
      99: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     102: getfield      #13                 // Field org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.bufferedWrites:Ljava/util/concurrent/LinkedBlockingDeque;
     105: invokevirtual #23                 // Method java/util/concurrent/LinkedBlockingDeque.iterator:()Ljava/util/Iterator;
     108: astore        5
     110: aload         5
     112: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     117: ifeq          152
     120: aload         5
     122: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     127: checkcast     #26                 // class org/apache/tomcat/util/buf/ByteBufferHolder
     130: astore        6
     132: aload         6
     134: invokevirtual #27                 // Method org/apache/tomcat/util/buf/ByteBufferHolder.flip:()Z
     137: pop
     138: aload         4
     140: aload         6
     142: invokevirtual #28                 // Method org/apache/tomcat/util/buf/ByteBufferHolder.getBuf:()Ljava/nio/ByteBuffer;
     145: invokevirtual #22                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
     148: pop
     149: goto          110
     152: aload_0
     153: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     156: getfield      #13                 // Field org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.bufferedWrites:Ljava/util/concurrent/LinkedBlockingDeque;
     159: invokevirtual #29                 // Method java/util/concurrent/LinkedBlockingDeque.clear:()V
     162: aload         4
     164: aload         4
     166: invokevirtual #30                 // Method java/util/ArrayList.size:()I
     169: anewarray     #31                 // class java/nio/ByteBuffer
     172: invokevirtual #32                 // Method java/util/ArrayList.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     175: checkcast     #33                 // class "[Ljava/nio/ByteBuffer;"
     178: astore        5
     180: aload_0
     181: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     184: invokevirtual #34                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.getSocket:()Ljava/lang/Object;
     187: checkcast     #35                 // class org/apache/tomcat/util/net/Nio2Channel
     190: aload         5
     192: iconst_0
     193: aload         5
     195: arraylength
     196: aload_0
     197: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     200: invokestatic  #36                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$600:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)J
     203: getstatic     #37                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     206: aload         5
     208: aload_0
     209: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     212: invokestatic  #38                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1400:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)Ljava/nio/channels/CompletionHandler;
     215: invokevirtual #39                 // Method org/apache/tomcat/util/net/Nio2Channel.write:([Ljava/nio/ByteBuffer;IIJLjava/util/concurrent/TimeUnit;Ljava/lang/Object;Ljava/nio/channels/CompletionHandler;)V
     218: invokestatic  #15                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1300:()Ljava/lang/ThreadLocal;
     221: invokevirtual #16                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
     224: checkcast     #17                 // class java/util/concurrent/atomic/AtomicInteger
     227: invokevirtual #40                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
     230: pop
     231: goto          340
     234: aload_2
     235: invokevirtual #21                 // Method java/nio/ByteBuffer.hasRemaining:()Z
     238: ifeq          302
     241: invokestatic  #15                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1300:()Ljava/lang/ThreadLocal;
     244: invokevirtual #16                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
     247: checkcast     #17                 // class java/util/concurrent/atomic/AtomicInteger
     250: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
     253: pop
     254: aload_0
     255: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     258: invokevirtual #34                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.getSocket:()Ljava/lang/Object;
     261: checkcast     #35                 // class org/apache/tomcat/util/net/Nio2Channel
     264: aload_2
     265: aload_0
     266: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     269: invokestatic  #36                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$600:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)J
     272: getstatic     #37                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     275: aload_2
     276: aload_0
     277: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     280: invokestatic  #5                  // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1200:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)Ljava/nio/channels/CompletionHandler;
     283: invokevirtual #41                 // Method org/apache/tomcat/util/net/Nio2Channel.write:(Ljava/nio/ByteBuffer;JLjava/util/concurrent/TimeUnit;Ljava/lang/Object;Ljava/nio/channels/CompletionHandler;)V
     286: invokestatic  #15                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1300:()Ljava/lang/ThreadLocal;
     289: invokevirtual #16                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
     292: checkcast     #17                 // class java/util/concurrent/atomic/AtomicInteger
     295: invokevirtual #40                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
     298: pop
     299: goto          340
     302: aload_0
     303: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     306: invokestatic  #42                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1500:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)Z
     309: ifeq          330
     312: aload_0
     313: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     316: iconst_0
     317: invokestatic  #43                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1502:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;Z)Z
     320: pop
     321: aload_0
     322: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     325: iconst_1
     326: invokestatic  #4                  // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1102:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;Z)Z
     329: pop
     330: aload_0
     331: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     334: invokestatic  #44                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1600:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)Ljava/util/concurrent/Semaphore;
     337: invokevirtual #45                 // Method java/util/concurrent/Semaphore.release:()V
     340: aload_3
     341: monitorexit
     342: goto          352
     345: astore        7
     347: aload_3
     348: monitorexit
     349: aload         7
     351: athrow
     352: aload_0
     353: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     356: invokestatic  #46                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1100:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)Z
     359: ifeq          395
     362: invokestatic  #15                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1300:()Ljava/lang/ThreadLocal;
     365: invokevirtual #16                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
     368: checkcast     #17                 // class java/util/concurrent/atomic/AtomicInteger
     371: invokevirtual #47                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     374: ifne          395
     377: aload_0
     378: getfield      #2                  // Field val$endpoint:Lorg/apache/tomcat/util/net/Nio2Endpoint;
     381: aload_0
     382: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
     385: getstatic     #48                 // Field org/apache/tomcat/util/net/SocketEvent.OPEN_WRITE:Lorg/apache/tomcat/util/net/SocketEvent;
     388: invokestatic  #49                 // Method org/apache/tomcat/util/net/Nio2Endpoint.isInline:()Z
     391: invokevirtual #50                 // Method org/apache/tomcat/util/net/Nio2Endpoint.processSocket:(Lorg/apache/tomcat/util/net/SocketWrapperBase;Lorg/apache/tomcat/util/net/SocketEvent;Z)Z
     394: pop
     395: return
    Exception table:
       from    to  target type
          19   342   345   any
         345   349   345   any

  public void failed(java.lang.Throwable, java.nio.ByteBuffer);
    Code:
       0: aload_1
       1: instanceof    #51                 // class java/io/IOException
       4: ifeq          15
       7: aload_1
       8: checkcast     #51                 // class java/io/IOException
      11: astore_3
      12: goto          24
      15: new           #51                 // class java/io/IOException
      18: dup
      19: aload_1
      20: invokespecial #52                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
      23: astore_3
      24: aload_0
      25: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
      28: aload_3
      29: invokevirtual #53                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.setError:(Ljava/io/IOException;)V
      32: aload_0
      33: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
      36: invokestatic  #44                 // Method org/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper.access$1600:(Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;)Ljava/util/concurrent/Semaphore;
      39: invokevirtual #45                 // Method java/util/concurrent/Semaphore.release:()V
      42: aload_0
      43: getfield      #2                  // Field val$endpoint:Lorg/apache/tomcat/util/net/Nio2Endpoint;
      46: aload_0
      47: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/Nio2Endpoint$Nio2SocketWrapper;
      50: getstatic     #54                 // Field org/apache/tomcat/util/net/SocketEvent.ERROR:Lorg/apache/tomcat/util/net/SocketEvent;
      53: iconst_1
      54: invokevirtual #50                 // Method org/apache/tomcat/util/net/Nio2Endpoint.processSocket:(Lorg/apache/tomcat/util/net/SocketWrapperBase;Lorg/apache/tomcat/util/net/SocketEvent;Z)Z
      57: pop
      58: return

  public void failed(java.lang.Throwable, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: checkcast     #31                 // class java/nio/ByteBuffer
       6: invokevirtual #12                 // Method failed:(Ljava/lang/Throwable;Ljava/nio/ByteBuffer;)V
       9: return

  public void completed(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #55                 // class java/lang/Integer
       5: aload_2
       6: checkcast     #31                 // class java/nio/ByteBuffer
       9: invokevirtual #56                 // Method completed:(Ljava/lang/Integer;Ljava/nio/ByteBuffer;)V
      12: return
}
