Compiled from "FormatMojo.java"
public class org.xwiki.tool.xar.FormatMojo extends org.xwiki.tool.xar.AbstractVerifyMojo {
  private boolean pretty;

  public org.xwiki.tool.xar.FormatMojo();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/xwiki/tool/xar/AbstractVerifyMojo."<init>":()V
       4: aload_0
       5: iconst_1
       6: putfield      #2                  // Field pretty:Z
       9: return

  public void execute() throws org.apache.maven.plugin.MojoExecutionException, org.apache.maven.plugin.MojoFailureException;
    Code:
       0: aload_0
       1: invokevirtual #3                  // Method getProject:()Lorg/apache/maven/project/MavenProject;
       4: invokevirtual #4                  // Method org/apache/maven/project/MavenProject.getPackaging:()Ljava/lang/String;
       7: ldc           #5                  // String xar
       9: invokevirtual #6                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      12: ifne          22
      15: aload_0
      16: getfield      #7                  // Field force:Z
      19: ifeq          137
      22: aload_0
      23: getfield      #8                  // Field formatLicense:Z
      26: ifeq          46
      29: aload_0
      30: invokevirtual #9                  // Method getLog:()Lorg/apache/maven/plugin/logging/Log;
      33: ldc           #10                 // String Adding missing XAR XML license headers...
      35: invokeinterface #11,  2           // InterfaceMethod org/apache/maven/plugin/logging/Log.info:(Ljava/lang/CharSequence;)V
      40: aload_0
      41: ldc           #12                 // String format
      43: invokevirtual #13                 // Method executeLicenseGoal:(Ljava/lang/String;)V
      46: aload_0
      47: invokevirtual #9                  // Method getLog:()Lorg/apache/maven/plugin/logging/Log;
      50: ldc           #14                 // String Formatting XAR XML files...
      52: invokeinterface #11,  2           // InterfaceMethod org/apache/maven/plugin/logging/Log.info:(Ljava/lang/CharSequence;)V
      57: aload_0
      58: invokevirtual #15                 // Method initializePatterns:()V
      61: aload_0
      62: invokevirtual #16                 // Method getXARXMLFiles:()Ljava/util/Collection;
      65: astore_1
      66: aload_1
      67: invokeinterface #17,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      72: astore_2
      73: aload_2
      74: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      79: ifeq          134
      82: aload_2
      83: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      88: checkcast     #20                 // class java/io/File
      91: astore_3
      92: aload_0
      93: aload_3
      94: aload_0
      95: aload_3
      96: aload_1
      97: invokevirtual #21                 // Method guessDefaultLanguage:(Ljava/io/File;Ljava/util/Collection;)Ljava/lang/String;
     100: invokespecial #22                 // Method format:(Ljava/io/File;Ljava/lang/String;)V
     103: goto          131
     106: astore        4
     108: new           #24                 // class org/apache/maven/plugin/MojoExecutionException
     111: dup
     112: ldc           #25                 // String Failed to format file [%s]
     114: iconst_1
     115: anewarray     #26                 // class java/lang/Object
     118: dup
     119: iconst_0
     120: aload_3
     121: aastore
     122: invokestatic  #27                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     125: aload         4
     127: invokespecial #28                 // Method org/apache/maven/plugin/MojoExecutionException."<init>":(Ljava/lang/String;Ljava/lang/Exception;)V
     130: athrow
     131: goto          73
     134: goto          148
     137: aload_0
     138: invokevirtual #9                  // Method getLog:()Lorg/apache/maven/plugin/logging/Log;
     141: ldc           #29                 // String Not a XAR module, skipping reformatting...
     143: invokeinterface #11,  2           // InterfaceMethod org/apache/maven/plugin/logging/Log.info:(Ljava/lang/CharSequence;)V
     148: return
    Exception table:
       from    to  target type
          92   103   106   Class java/lang/Exception

  private void format(java.io.File, java.lang.String) throws java.io.IOException, org.dom4j.DocumentException;
    Code:
       0: new           #30                 // class org/dom4j/io/SAXReader
       3: dup
       4: invokespecial #31                 // Method org/dom4j/io/SAXReader."<init>":()V
       7: astore_3
       8: aload_3
       9: aload_1
      10: invokevirtual #32                 // Method org/dom4j/io/SAXReader.read:(Ljava/io/File;)Lorg/dom4j/Document;
      13: astore        4
      15: aload_0
      16: aload_1
      17: invokevirtual #33                 // Method java/io/File.getPath:()Ljava/lang/String;
      20: aload         4
      22: aload_2
      23: invokespecial #34                 // Method format:(Ljava/lang/String;Lorg/dom4j/Document;Ljava/lang/String;)V
      26: aload_0
      27: getfield      #2                  // Field pretty:Z
      30: ifeq          75
      33: new           #35                 // class org/dom4j/io/OutputFormat
      36: dup
      37: ldc           #36                 // String
      39: iconst_1
      40: ldc           #37                 // String UTF-8
      42: invokespecial #38                 // Method org/dom4j/io/OutputFormat."<init>":(Ljava/lang/String;ZLjava/lang/String;)V
      45: astore        6
      47: aload         6
      49: iconst_0
      50: invokevirtual #39                 // Method org/dom4j/io/OutputFormat.setExpandEmptyElements:(Z)V
      53: new           #40                 // class org/xwiki/tool/xar/XWikiXMLWriter
      56: dup
      57: new           #41                 // class java/io/FileOutputStream
      60: dup
      61: aload_1
      62: invokespecial #42                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
      65: aload         6
      67: invokespecial #43                 // Method org/xwiki/tool/xar/XWikiXMLWriter."<init>":(Ljava/io/OutputStream;Lorg/dom4j/io/OutputFormat;)V
      70: astore        5
      72: goto          92
      75: new           #40                 // class org/xwiki/tool/xar/XWikiXMLWriter
      78: dup
      79: new           #41                 // class java/io/FileOutputStream
      82: dup
      83: aload_1
      84: invokespecial #42                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
      87: invokespecial #44                 // Method org/xwiki/tool/xar/XWikiXMLWriter."<init>":(Ljava/io/OutputStream;)V
      90: astore        5
      92: aload         5
      94: ldc           #45                 // String 1.1
      96: invokevirtual #46                 // Method org/xwiki/tool/xar/XWikiXMLWriter.setVersion:(Ljava/lang/String;)V
      99: aload         5
     101: aload         4
     103: invokevirtual #47                 // Method org/xwiki/tool/xar/XWikiXMLWriter.write:(Lorg/dom4j/Document;)V
     106: aload         5
     108: invokevirtual #48                 // Method org/xwiki/tool/xar/XWikiXMLWriter.close:()V
     111: goto          124
     114: astore        7
     116: aload         5
     118: invokevirtual #48                 // Method org/xwiki/tool/xar/XWikiXMLWriter.close:()V
     121: aload         7
     123: athrow
     124: aload_1
     125: invokevirtual #49                 // Method java/io/File.getParentFile:()Ljava/io/File;
     128: invokevirtual #50                 // Method java/io/File.getName:()Ljava/lang/String;
     131: astore        6
     133: aload_0
     134: invokevirtual #9                  // Method getLog:()Lorg/apache/maven/plugin/logging/Log;
     137: ldc           #51                 // String   Formatting [%s/%s]... ok
     139: iconst_2
     140: anewarray     #26                 // class java/lang/Object
     143: dup
     144: iconst_0
     145: aload         6
     147: aastore
     148: dup
     149: iconst_1
     150: aload_1
     151: invokevirtual #50                 // Method java/io/File.getName:()Ljava/lang/String;
     154: aastore
     155: invokestatic  #27                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     158: invokeinterface #11,  2           // InterfaceMethod org/apache/maven/plugin/logging/Log.info:(Ljava/lang/CharSequence;)V
     163: return
    Exception table:
       from    to  target type
          92   106   114   any
         114   116   114   any

  private void format(java.lang.String, org.dom4j.Document, java.lang.String);
    Code:
       0: aload_2
       1: ldc           #52                 // String xwikidoc/author
       3: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
       8: astore        4
      10: aload         4
      12: ifnull        24
      15: aload         4
      17: ldc           #55                 // String xwiki:XWiki.Admin
      19: invokeinterface #56,  2           // InterfaceMethod org/dom4j/Node.setText:(Ljava/lang/String;)V
      24: aload_2
      25: ldc           #57                 // String xwikidoc/contentAuthor
      27: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
      32: astore        4
      34: aload         4
      36: ifnull        48
      39: aload         4
      41: ldc           #55                 // String xwiki:XWiki.Admin
      43: invokeinterface #56,  2           // InterfaceMethod org/dom4j/Node.setText:(Ljava/lang/String;)V
      48: aload_2
      49: ldc           #58                 // String xwikidoc/creator
      51: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
      56: astore        4
      58: aload         4
      60: ifnull        72
      63: aload         4
      65: ldc           #55                 // String xwiki:XWiki.Admin
      67: invokeinterface #56,  2           // InterfaceMethod org/dom4j/Node.setText:(Ljava/lang/String;)V
      72: aload_2
      73: ldc           #59                 // String xwikidoc/version
      75: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
      80: astore        4
      82: aload         4
      84: ifnull        96
      87: aload         4
      89: ldc           #45                 // String 1.1
      91: invokeinterface #56,  2           // InterfaceMethod org/dom4j/Node.setText:(Ljava/lang/String;)V
      96: aload_2
      97: ldc           #60                 // String xwikidoc/minorEdit
      99: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
     104: astore        4
     106: aload         4
     108: ifnull        120
     111: aload         4
     113: ldc           #61                 // String false
     115: invokeinterface #56,  2           // InterfaceMethod org/dom4j/Node.setText:(Ljava/lang/String;)V
     120: aload_2
     121: ldc           #62                 // String xwikidoc/attachment/author
     123: invokeinterface #63,  2           // InterfaceMethod org/dom4j/Document.selectNodes:(Ljava/lang/String;)Ljava/util/List;
     128: invokeinterface #64,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     133: astore        5
     135: aload         5
     137: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     142: ifeq          169
     145: aload         5
     147: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     152: checkcast     #65                 // class org/dom4j/Node
     155: astore        6
     157: aload         6
     159: ldc           #55                 // String xwiki:XWiki.Admin
     161: invokeinterface #56,  2           // InterfaceMethod org/dom4j/Node.setText:(Ljava/lang/String;)V
     166: goto          135
     169: aload_2
     170: ldc           #66                 // String xwikidoc/defaultLanguage
     172: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
     177: checkcast     #67                 // class org/dom4j/Element
     180: astore        5
     182: aload         5
     184: ifnull        211
     187: aload_3
     188: invokestatic  #68                 // Method org/apache/commons/lang3/StringUtils.isEmpty:(Ljava/lang/CharSequence;)Z
     191: ifeq          203
     194: aload_0
     195: aload         5
     197: invokespecial #69                 // Method removeContent:(Lorg/dom4j/Element;)V
     200: goto          211
     203: aload         5
     205: aload_3
     206: invokeinterface #70,  2           // InterfaceMethod org/dom4j/Element.setText:(Ljava/lang/String;)V
     211: aload_2
     212: ldc           #71                 // String xwikidoc/comment
     214: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
     219: checkcast     #67                 // class org/dom4j/Element
     222: astore        5
     224: aload         5
     226: ifnull        235
     229: aload_0
     230: aload         5
     232: invokespecial #69                 // Method removeContent:(Lorg/dom4j/Element;)V
     235: aload_2
     236: ldc           #72                 // String xwikidoc/hidden
     238: invokeinterface #53,  2           // InterfaceMethod org/dom4j/Document.selectSingleNode:(Ljava/lang/String;)Lorg/dom4j/Node;
     243: checkcast     #67                 // class org/dom4j/Element
     246: astore        5
     248: aload_0
     249: aload_1
     250: invokevirtual #73                 // Method isContentPage:(Ljava/lang/String;)Z
     253: ifne          273
     256: aload_0
     257: aload_1
     258: invokevirtual #74                 // Method isVisibleTechnicalPage:(Ljava/lang/String;)Z
     261: ifne          273
     264: aload         5
     266: ldc           #75                 // String true
     268: invokeinterface #70,  2           // InterfaceMethod org/dom4j/Element.setText:(Ljava/lang/String;)V
     273: ldc           #76                 // String
     275: astore        6
     277: aload_2
     278: invokestatic  #77                 // Method org/xwiki/tool/xar/internal/XWikiDocument.readDocumentReference:(Lorg/dom4j/Document;)Ljava/lang/String;
     281: astore        6
     283: goto          301
     286: astore        7
     288: aload_0
     289: invokevirtual #9                  // Method getLog:()Lorg/apache/maven/plugin/logging/Log;
     292: ldc           #79                 // String Failed to get the document reference
     294: aload         7
     296: invokeinterface #80,  3           // InterfaceMethod org/apache/maven/plugin/logging/Log.error:(Ljava/lang/CharSequence;Ljava/lang/Throwable;)V
     301: aload_0
     302: getfield      #81                 // Field skipDates:Z
     305: ifne          350
     308: aload_0
     309: getfield      #82                 // Field skipDatesDocumentList:Ljava/util/Set;
     312: aload         6
     314: invokeinterface #83,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     319: ifne          350
     322: aload_0
     323: ldc           #84                 // String xwikidoc/creationDate
     325: aload_2
     326: invokespecial #85                 // Method removeNodes:(Ljava/lang/String;Lorg/dom4j/Document;)V
     329: aload_0
     330: ldc           #86                 // String xwikidoc/date
     332: aload_2
     333: invokespecial #85                 // Method removeNodes:(Ljava/lang/String;Lorg/dom4j/Document;)V
     336: aload_0
     337: ldc           #87                 // String xwikidoc/contentUpdateDate
     339: aload_2
     340: invokespecial #85                 // Method removeNodes:(Ljava/lang/String;Lorg/dom4j/Document;)V
     343: aload_0
     344: ldc           #88                 // String xwikidoc//attachment/date
     346: aload_2
     347: invokespecial #85                 // Method removeNodes:(Ljava/lang/String;Lorg/dom4j/Document;)V
     350: return
    Exception table:
       from    to  target type
         277   283   286   Class org/dom4j/DocumentException

  private void removeContent(org.dom4j.Element);
    Code:
       0: aload_1
       1: invokeinterface #89,  1           // InterfaceMethod org/dom4j/Element.hasContent:()Z
       6: ifeq          15
       9: aload_1
      10: invokeinterface #90,  1           // InterfaceMethod org/dom4j/Element.clearContent:()V
      15: return

  private void removeNodes(java.lang.String, org.dom4j.Document);
    Code:
       0: aload_2
       1: aload_1
       2: invokeinterface #63,  2           // InterfaceMethod org/dom4j/Document.selectNodes:(Ljava/lang/String;)Ljava/util/List;
       7: astore_3
       8: aload_3
       9: invokeinterface #64,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      14: astore        4
      16: aload         4
      18: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          49
      26: aload         4
      28: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #65                 // class org/dom4j/Node
      36: astore        5
      38: aload         5
      40: invokeinterface #91,  1           // InterfaceMethod org/dom4j/Node.detach:()Lorg/dom4j/Node;
      45: pop
      46: goto          16
      49: return
}
