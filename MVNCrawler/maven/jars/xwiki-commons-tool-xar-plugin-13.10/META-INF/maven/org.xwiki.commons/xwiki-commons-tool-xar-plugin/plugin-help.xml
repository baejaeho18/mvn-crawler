<?xml version="1.0" encoding="UTF-8"?>

<!-- Generated by maven-plugin-tools 3.6 -->

<plugin>
  <name>XWiki Commons - Tools - XAR Tools - XAR Plugin</name>
  <description>XWiki Commons - Tools - XAR Tools - XAR Plugin</description>
  <groupId>org.xwiki.commons</groupId>
  <artifactId>xwiki-commons-tool-xar-plugin</artifactId>
  <version>13.10</version>
  <goalPrefix>xar</goalPrefix>
  <mojos>
    <mojo>
      <goal>format</goal>
      <description>Pretty prints and set valid authors and version to XAR XML files.</description>
      <requiresDirectInvocation>false</requiresDirectInvocation>
      <requiresProject>true</requiresProject>
      <requiresReports>false</requiresReports>
      <aggregator>false</aggregator>
      <requiresOnline>false</requiresOnline>
      <inheritedByDefault>true</inheritedByDefault>
      <implementation>org.xwiki.tool.xar.FormatMojo</implementation>
      <language>java</language>
      <instantiationStrategy>per-lookup</instantiationStrategy>
      <executionStrategy>once-per-session</executionStrategy>
      <since>4.0M2</since>
      <threadSafe>true</threadSafe>
      <parameters>
        <parameter>
          <name>commonsVersion</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The Commons version to be used by this mojo.</description>
        </parameter>
        <parameter>
          <name>contentPages</name>
          <type>java.util.List</type>
          <since>7.1M1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Explicitly define a list of pages (it&apos;s a regex) that should be considered as content pages (rather than technical pages which is the default). Note that content pages must have a non-empty default language specified.</description>
        </parameter>
        <parameter>
          <name>defaultLanguage</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The language in which non-translated documents are written in.</description>
        </parameter>
        <parameter>
          <name>encoding</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The encoding to use when generating the package summary file and when storing file names.</description>
        </parameter>
        <parameter>
          <name>excludes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to exclude. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>includes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to include. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>skipDates</name>
          <type>boolean</type>
          <since>10.8RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Disables the check for the existence of the date fields.</description>
        </parameter>
        <parameter>
          <name>skipDatesDocumentList</name>
          <type>java.util.Set</type>
          <since>10.8RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Disables the check for the existence of the date fields.</description>
        </parameter>
        <parameter>
          <name>translatablePages</name>
          <type>java.util.List</type>
          <since>12.3RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Explicitly define a list of pages (it&apos;s a regex) that can have translations and thus which must have a default language not empty. If not defined then defaults to considering that *Translations.xml pages are translated pages.</description>
        </parameter>
        <parameter>
          <name>visibleTechnicalPages</name>
          <type>java.util.List</type>
          <since>12.3RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Explicitly define a list of pages (it&apos;s a regex) that are technical pages but that should be visible (not hidden). For example, home pages of applications. These pages must have their default langue set to empty so that a search in a given language doesn&apos;t return them as they&apos;re not content.</description>
        </parameter>
      </parameters>
      <configuration>
        <commonsVersion implementation="java.lang.String">${xar.commons.version}</commonsVersion>
        <contentPages implementation="java.util.List">${xar.contentPages}</contentPages>
        <defaultLanguage implementation="java.lang.String" default-value="en">${xar.defaultLanguage}</defaultLanguage>
        <encoding implementation="java.lang.String">${project.build.sourceEncoding}</encoding>
        <excludes implementation="java.lang.String[]">${excludes}</excludes>
        <includes implementation="java.lang.String[]">${includes}</includes>
        <skipDates implementation="boolean" default-value="false">${xar.dates.skip}</skipDates>
        <skipDatesDocumentList implementation="java.util.Set">${xar.dates.skip.documentList}</skipDatesDocumentList>
        <translatablePages implementation="java.util.List" default-value=".*/.*Translations\.xml">${xar.translatablePages}</translatablePages>
        <visibleTechnicalPages implementation="java.util.List">${xar.visibleTechnicalPages}</visibleTechnicalPages>
      </configuration>
    </mojo>
    <mojo>
      <goal>unxar</goal>
      <description>Expand a XAR file.</description>
      <requiresDependencyResolution>compile</requiresDependencyResolution>
      <requiresDirectInvocation>false</requiresDirectInvocation>
      <requiresProject>true</requiresProject>
      <requiresReports>false</requiresReports>
      <aggregator>false</aggregator>
      <requiresOnline>false</requiresOnline>
      <inheritedByDefault>true</inheritedByDefault>
      <implementation>org.xwiki.tool.xar.UnXARMojo</implementation>
      <language>java</language>
      <instantiationStrategy>per-lookup</instantiationStrategy>
      <executionStrategy>once-per-session</executionStrategy>
      <threadSafe>true</threadSafe>
      <parameters>
        <parameter>
          <name>artifactId</name>
          <type>java.lang.String</type>
          <required>true</required>
          <editable>true</editable>
          <description>The artifactId of the XAR dependency to expand.</description>
        </parameter>
        <parameter>
          <name>encoding</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The encoding to use when generating the package summary file and when storing file names.</description>
        </parameter>
        <parameter>
          <name>excludes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to exclude. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>groupId</name>
          <type>java.lang.String</type>
          <required>true</required>
          <editable>true</editable>
          <description>The groupId of the XAR dependency to expand.</description>
        </parameter>
        <parameter>
          <name>includes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to include. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>outputDirectory</name>
          <type>java.io.File</type>
          <required>true</required>
          <editable>true</editable>
          <description>The location where to put the expanded XAR.</description>
        </parameter>
      </parameters>
      <configuration>
        <encoding implementation="java.lang.String">${project.build.sourceEncoding}</encoding>
        <excludes implementation="java.lang.String[]">${excludes}</excludes>
        <includes implementation="java.lang.String[]">${includes}</includes>
      </configuration>
    </mojo>
    <mojo>
      <goal>verify</goal>
      <description>Perform various verifications of the XAR files in this project. Namely:
-	ensure that the encoding is UTF8
-	(optional) ensure that all pages have a parent (except for Main.WebHome)
-	ensure that the author/contentAuthor/creator/attachment authors are xwiki:XWiki.Admin
-	ensure that the version is 1.1
-	ensure that comment is empty
-	ensure that minor edit is false
-	ensure that technical pages are hidden. We consider by default that all pages are technical unless specified otherwise
-	ensure that the default language is set properly
-	ensure titles follow any defined rules (when defined by the user)
-	ensure that Translations pages are using the plain/1.0 syntax
-	ensure that Translations pages don&apos;t have a GLOBAL or USER visibility (USER makes no sense and GLOBAL would require Programming Rights, which is an issue in farm-based use cases)
-	ensure that translated pages don&apos;t contain any attachment
-	ensure that translated pages don&apos;t contain any object
-	ensure that attachments have a mimetype set. If the mimetype is missing then the attachment won&apos;t be filterable in the attachment view in Page Index.
</description>
      <requiresDirectInvocation>false</requiresDirectInvocation>
      <requiresProject>true</requiresProject>
      <requiresReports>false</requiresReports>
      <aggregator>false</aggregator>
      <requiresOnline>false</requiresOnline>
      <inheritedByDefault>true</inheritedByDefault>
      <phase>verify</phase>
      <implementation>org.xwiki.tool.xar.VerifyMojo</implementation>
      <language>java</language>
      <instantiationStrategy>per-lookup</instantiationStrategy>
      <executionStrategy>once-per-session</executionStrategy>
      <since>4.0M2</since>
      <threadSafe>true</threadSafe>
      <parameters>
        <parameter>
          <name>commonsVersion</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The Commons version to be used by this mojo.</description>
        </parameter>
        <parameter>
          <name>contentPages</name>
          <type>java.util.List</type>
          <since>7.1M1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Explicitly define a list of pages (it&apos;s a regex) that should be considered as content pages (rather than technical pages which is the default). Note that content pages must have a non-empty default language specified.</description>
        </parameter>
        <parameter>
          <name>defaultLanguage</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The language in which non-translated documents are written in.</description>
        </parameter>
        <parameter>
          <name>emptyParentSkip</name>
          <type>boolean</type>
          <since>11.10.3</since>
          <required>false</required>
          <editable>true</editable>
          <description>Disables the empty parent check. This check is turned off by default since the parent concept has been replaced by the Nested Spaces one.</description>
        </parameter>
        <parameter>
          <name>encoding</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The encoding to use when generating the package summary file and when storing file names.</description>
        </parameter>
        <parameter>
          <name>excludes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to exclude. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>includes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to include. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>skip</name>
          <type>boolean</type>
          <since>4.3M1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Disables the plugin execution.</description>
        </parameter>
        <parameter>
          <name>skipDates</name>
          <type>boolean</type>
          <since>10.8RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Disables the check for the existence of the date fields.</description>
        </parameter>
        <parameter>
          <name>skipDatesDocumentList</name>
          <type>java.util.Set</type>
          <since>10.8RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Disables the check for the existence of the date fields.</description>
        </parameter>
        <parameter>
          <name>titles</name>
          <type>java.util.Properties</type>
          <since>7.3RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Defines expectations for the Title field of pages.</description>
        </parameter>
        <parameter>
          <name>translatablePages</name>
          <type>java.util.List</type>
          <since>12.3RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Explicitly define a list of pages (it&apos;s a regex) that can have translations and thus which must have a default language not empty. If not defined then defaults to considering that *Translations.xml pages are translated pages.</description>
        </parameter>
        <parameter>
          <name>translationVisibilitySkip</name>
          <type>boolean</type>
          <since>4.3M1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Disables the translations visibility check.</description>
        </parameter>
        <parameter>
          <name>visibleTechnicalPages</name>
          <type>java.util.List</type>
          <since>12.3RC1</since>
          <required>false</required>
          <editable>true</editable>
          <description>Explicitly define a list of pages (it&apos;s a regex) that are technical pages but that should be visible (not hidden). For example, home pages of applications. These pages must have their default langue set to empty so that a search in a given language doesn&apos;t return them as they&apos;re not content.</description>
        </parameter>
      </parameters>
      <configuration>
        <commonsVersion implementation="java.lang.String">${xar.commons.version}</commonsVersion>
        <contentPages implementation="java.util.List">${xar.contentPages}</contentPages>
        <defaultLanguage implementation="java.lang.String" default-value="en">${xar.defaultLanguage}</defaultLanguage>
        <emptyParentSkip implementation="boolean" default-value="true">${xar.verify.emptyParent.skip}</emptyParentSkip>
        <encoding implementation="java.lang.String">${project.build.sourceEncoding}</encoding>
        <excludes implementation="java.lang.String[]">${excludes}</excludes>
        <includes implementation="java.lang.String[]">${includes}</includes>
        <skip implementation="boolean" default-value="false">${xar.verify.skip}</skip>
        <skipDates implementation="boolean" default-value="false">${xar.dates.skip}</skipDates>
        <skipDatesDocumentList implementation="java.util.Set">${xar.dates.skip.documentList}</skipDatesDocumentList>
        <titles implementation="java.util.Properties">${xar.verify.titles}</titles>
        <translatablePages implementation="java.util.List" default-value=".*/.*Translations\.xml">${xar.translatablePages}</translatablePages>
        <translationVisibilitySkip implementation="boolean" default-value="false">${xar.verify.translationVisibility.skip}</translationVisibilitySkip>
        <visibleTechnicalPages implementation="java.util.List">${xar.visibleTechnicalPages}</visibleTechnicalPages>
      </configuration>
    </mojo>
    <mojo>
      <goal>xar</goal>
      <description>Gather all resources in a XAR file (which is actually a ZIP file). Also generates a XAR descriptor if none is provided.</description>
      <requiresDependencyResolution>compile</requiresDependencyResolution>
      <requiresDirectInvocation>false</requiresDirectInvocation>
      <requiresProject>true</requiresProject>
      <requiresReports>false</requiresReports>
      <aggregator>false</aggregator>
      <requiresOnline>false</requiresOnline>
      <inheritedByDefault>true</inheritedByDefault>
      <phase>package</phase>
      <implementation>org.xwiki.tool.xar.XARMojo</implementation>
      <language>java</language>
      <instantiationStrategy>per-lookup</instantiationStrategy>
      <executionStrategy>once-per-session</executionStrategy>
      <threadSafe>true</threadSafe>
      <parameters>
        <parameter>
          <name>encoding</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>The encoding to use when generating the package summary file and when storing file names.</description>
        </parameter>
        <parameter>
          <name>excludes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to exclude. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>includeDependencies</name>
          <type>boolean</type>
          <required>false</required>
          <editable>true</editable>
          <description>Indicate if XAR dependencies should be included in the produced XAR package.</description>
        </parameter>
        <parameter>
          <name>includes</name>
          <type>java.lang.String[]</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of files to include. Specified as fileset patterns.</description>
        </parameter>
        <parameter>
          <name>transformations</name>
          <type>java.util.List</type>
          <required>false</required>
          <editable>true</editable>
          <description>List of XML transformations to execute on the XML files.</description>
        </parameter>
      </parameters>
      <configuration>
        <encoding implementation="java.lang.String">${project.build.sourceEncoding}</encoding>
        <excludes implementation="java.lang.String[]">${excludes}</excludes>
        <includeDependencies implementation="boolean" default-value="false">${xar.includeDependencies}</includeDependencies>
        <includes implementation="java.lang.String[]">${includes}</includes>
      </configuration>
    </mojo>
  </mojos>
</plugin>