Compiled from "ApiManHttpGatewayHandler.java"
class io.fabric8.gateway.apiman.ApiManHttpGatewayHandler$1 implements io.apiman.gateway.engine.async.IAsyncResultHandler<io.apiman.gateway.engine.IEngineResult> {
  final org.vertx.java.core.http.HttpServerResponse val$response;

  final long val$callStart;

  final io.fabric8.gateway.apiman.ApiManHttpGatewayHandler this$0;

  io.fabric8.gateway.apiman.ApiManHttpGatewayHandler$1(io.fabric8.gateway.apiman.ApiManHttpGatewayHandler, org.vertx.java.core.http.HttpServerResponse, long);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/fabric8/gateway/apiman/ApiManHttpGatewayHandler;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
      10: aload_0
      11: lload_3
      12: putfield      #3                  // Field val$callStart:J
      15: aload_0
      16: invokespecial #4                  // Method java/lang/Object."<init>":()V
      19: return

  public void handle(io.apiman.gateway.engine.async.IAsyncResult<io.apiman.gateway.engine.IEngineResult>);
    Code:
       0: aload_1
       1: invokeinterface #5,  1            // InterfaceMethod io/apiman/gateway/engine/async/IAsyncResult.isSuccess:()Z
       6: ifne          106
       9: aload_0
      10: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
      13: sipush        500
      16: invokeinterface #6,  2            // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.setStatusCode:(I)Lorg/vertx/java/core/http/HttpServerResponse;
      21: pop
      22: aload_0
      23: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
      26: new           #7                  // class java/lang/StringBuilder
      29: dup
      30: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #9                  // String Gateway Internal Error:
      35: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: aload_1
      39: invokeinterface #11,  1           // InterfaceMethod io/apiman/gateway/engine/async/IAsyncResult.getError:()Ljava/lang/Throwable;
      44: invokevirtual #12                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      47: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: invokevirtual #13                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokeinterface #14,  2           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.setStatusMessage:(Ljava/lang/String;)Lorg/vertx/java/core/http/HttpServerResponse;
      58: pop
      59: aload_0
      60: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
      63: invokeinterface #15,  1           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.end:()V
      68: invokestatic  #16                 // Method io/fabric8/gateway/apiman/ApiManHttpGatewayHandler.access$000:()Lorg/slf4j/Logger;
      71: new           #7                  // class java/lang/StringBuilder
      74: dup
      75: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
      78: ldc           #17                 // String Gateway Internal Error
      80: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: aload_1
      84: invokeinterface #11,  1           // InterfaceMethod io/apiman/gateway/engine/async/IAsyncResult.getError:()Ljava/lang/Throwable;
      89: invokevirtual #12                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      92: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      95: invokevirtual #13                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      98: invokeinterface #18,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     103: goto          381
     106: aload_1
     107: invokeinterface #19,  1           // InterfaceMethod io/apiman/gateway/engine/async/IAsyncResult.getResult:()Ljava/lang/Object;
     112: checkcast     #20                 // class io/apiman/gateway/engine/IEngineResult
     115: astore_2
     116: aload_2
     117: invokeinterface #21,  1           // InterfaceMethod io/apiman/gateway/engine/IEngineResult.isFailure:()Z
     122: ifeq          298
     125: aload_2
     126: invokeinterface #22,  1           // InterfaceMethod io/apiman/gateway/engine/IEngineResult.getServiceResponse:()Lio/apiman/gateway/engine/beans/ServiceResponse;
     131: astore_3
     132: aload_3
     133: ifnull        154
     136: aload_3
     137: ldc           #23                 // String finalClient
     139: invokevirtual #24                 // Method io/apiman/gateway/engine/beans/ServiceResponse.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
     142: checkcast     #25                 // class org/vertx/java/core/http/HttpClient
     145: astore        4
     147: aload         4
     149: invokeinterface #26,  1           // InterfaceMethod org/vertx/java/core/http/HttpClient.close:()V
     154: aload_2
     155: invokeinterface #27,  1           // InterfaceMethod io/apiman/gateway/engine/IEngineResult.getPolicyFailure:()Lio/apiman/gateway/engine/beans/PolicyFailure;
     160: astore        4
     162: aload_0
     163: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     166: ldc           #28                 // String X-Policy-Failure-Type
     168: aload         4
     170: invokevirtual #29                 // Method io/apiman/gateway/engine/beans/PolicyFailure.getType:()Lio/apiman/gateway/engine/beans/PolicyFailureType;
     173: invokestatic  #30                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
     176: invokeinterface #31,  3           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.putHeader:(Ljava/lang/String;Ljava/lang/String;)Lorg/vertx/java/core/http/HttpServerResponse;
     181: pop
     182: aload_0
     183: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     186: ldc           #32                 // String X-Policy-Failure-Message
     188: aload         4
     190: invokevirtual #33                 // Method io/apiman/gateway/engine/beans/PolicyFailure.getMessage:()Ljava/lang/String;
     193: invokeinterface #31,  3           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.putHeader:(Ljava/lang/String;Ljava/lang/String;)Lorg/vertx/java/core/http/HttpServerResponse;
     198: pop
     199: aload_0
     200: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     203: ldc           #34                 // String X-Policy-Failure-Code
     205: aload         4
     207: invokevirtual #35                 // Method io/apiman/gateway/engine/beans/PolicyFailure.getFailureCode:()I
     210: invokestatic  #36                 // Method java/lang/String.valueOf:(I)Ljava/lang/String;
     213: invokeinterface #31,  3           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.putHeader:(Ljava/lang/String;Ljava/lang/String;)Lorg/vertx/java/core/http/HttpServerResponse;
     218: pop
     219: sipush        403
     222: istore        5
     224: aload         4
     226: invokevirtual #29                 // Method io/apiman/gateway/engine/beans/PolicyFailure.getType:()Lio/apiman/gateway/engine/beans/PolicyFailureType;
     229: getstatic     #37                 // Field io/apiman/gateway/engine/beans/PolicyFailureType.Authentication:Lio/apiman/gateway/engine/beans/PolicyFailureType;
     232: if_acmpne     243
     235: sipush        401
     238: istore        5
     240: goto          259
     243: aload         4
     245: invokevirtual #29                 // Method io/apiman/gateway/engine/beans/PolicyFailure.getType:()Lio/apiman/gateway/engine/beans/PolicyFailureType;
     248: getstatic     #38                 // Field io/apiman/gateway/engine/beans/PolicyFailureType.Authorization:Lio/apiman/gateway/engine/beans/PolicyFailureType;
     251: if_acmpne     259
     254: sipush        401
     257: istore        5
     259: aload_0
     260: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     263: iload         5
     265: invokeinterface #6,  2            // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.setStatusCode:(I)Lorg/vertx/java/core/http/HttpServerResponse;
     270: pop
     271: aload_0
     272: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     275: aload         4
     277: invokevirtual #33                 // Method io/apiman/gateway/engine/beans/PolicyFailure.getMessage:()Ljava/lang/String;
     280: invokeinterface #14,  2           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.setStatusMessage:(Ljava/lang/String;)Lorg/vertx/java/core/http/HttpServerResponse;
     285: pop
     286: aload_0
     287: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     290: invokeinterface #15,  1           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.end:()V
     295: goto          381
     298: aload_2
     299: invokeinterface #39,  1           // InterfaceMethod io/apiman/gateway/engine/IEngineResult.isResponse:()Z
     304: ifeq          381
     307: aload_2
     308: invokeinterface #22,  1           // InterfaceMethod io/apiman/gateway/engine/IEngineResult.getServiceResponse:()Lio/apiman/gateway/engine/beans/ServiceResponse;
     313: astore_3
     314: aload_0
     315: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     318: aload_3
     319: invokevirtual #40                 // Method io/apiman/gateway/engine/beans/ServiceResponse.getCode:()I
     322: invokeinterface #6,  2            // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.setStatusCode:(I)Lorg/vertx/java/core/http/HttpServerResponse;
     327: pop
     328: aload_0
     329: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     332: aload_3
     333: invokevirtual #41                 // Method io/apiman/gateway/engine/beans/ServiceResponse.getMessage:()Ljava/lang/String;
     336: invokeinterface #14,  2           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.setStatusMessage:(Ljava/lang/String;)Lorg/vertx/java/core/http/HttpServerResponse;
     341: pop
     342: aload_0
     343: getfield      #2                  // Field val$response:Lorg/vertx/java/core/http/HttpServerResponse;
     346: iconst_1
     347: invokeinterface #42,  2           // InterfaceMethod org/vertx/java/core/http/HttpServerResponse.setChunked:(Z)Lorg/vertx/java/core/http/HttpServerResponse;
     352: pop
     353: aload_2
     354: new           #43                 // class io/fabric8/gateway/apiman/ApiManHttpGatewayHandler$1$1
     357: dup
     358: aload_0
     359: invokespecial #44                 // Method io/fabric8/gateway/apiman/ApiManHttpGatewayHandler$1$1."<init>":(Lio/fabric8/gateway/apiman/ApiManHttpGatewayHandler$1;)V
     362: invokeinterface #45,  2           // InterfaceMethod io/apiman/gateway/engine/IEngineResult.bodyHandler:(Lio/apiman/gateway/engine/async/IAsyncHandler;)V
     367: aload_2
     368: new           #46                 // class io/fabric8/gateway/apiman/ApiManHttpGatewayHandler$1$2
     371: dup
     372: aload_0
     373: invokespecial #47                 // Method io/fabric8/gateway/apiman/ApiManHttpGatewayHandler$1$2."<init>":(Lio/fabric8/gateway/apiman/ApiManHttpGatewayHandler$1;)V
     376: invokeinterface #48,  2           // InterfaceMethod io/apiman/gateway/engine/IEngineResult.endHandler:(Lio/apiman/gateway/engine/async/IAsyncHandler;)V
     381: return

  public void handle(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #49                 // class io/apiman/gateway/engine/async/IAsyncResult
       5: invokevirtual #50                 // Method handle:(Lio/apiman/gateway/engine/async/IAsyncResult;)V
       8: return
}
