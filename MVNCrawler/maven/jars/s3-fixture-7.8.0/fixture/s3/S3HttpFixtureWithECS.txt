Compiled from "S3HttpFixtureWithECS.java"
public class fixture.s3.S3HttpFixtureWithECS extends fixture.s3.S3HttpFixtureWithEC2 {
  private fixture.s3.S3HttpFixtureWithECS(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method fixture/s3/S3HttpFixtureWithEC2."<init>":([Ljava/lang/String;)V
       5: return

  protected com.sun.net.httpserver.HttpHandler createHandler(java.lang.String[]);
    Code:
       0: aload_1
       1: iconst_4
       2: aaload
       3: invokestatic  #7                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
       6: checkcast     #13                 // class java/lang/String
       9: astore_2
      10: aload_1
      11: iconst_5
      12: aaload
      13: ldc           #15                 // String session token is missing
      15: invokestatic  #17                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      18: checkcast     #13                 // class java/lang/String
      21: astore_3
      22: aload_0
      23: aload_1
      24: invokespecial #20                 // Method fixture/s3/S3HttpFixtureWithEC2.createHandler:([Ljava/lang/String;)Lcom/sun/net/httpserver/HttpHandler;
      27: astore        4
      29: aload_0
      30: aload_2
      31: aload_3
      32: aload         4
      34: invokedynamic #24,  0             // InvokeDynamic #0:handle:(Lfixture/s3/S3HttpFixtureWithECS;Ljava/lang/String;Ljava/lang/String;Lcom/sun/net/httpserver/HttpHandler;)Lcom/sun/net/httpserver/HttpHandler;
      39: areturn

  public static void main(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: aload_0
       1: ifnull        11
       4: aload_0
       5: arraylength
       6: bipush        6
       8: if_icmpge     21
      11: new           #28                 // class java/lang/IllegalArgumentException
      14: dup
      15: ldc           #30                 // String S3HttpFixtureWithECS expects 6 arguments [address, port, bucket, base path, ecs access id, ecs session token]
      17: invokespecial #32                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: new           #35                 // class fixture/s3/S3HttpFixtureWithECS
      24: dup
      25: aload_0
      26: invokespecial #37                 // Method "<init>":([Ljava/lang/String;)V
      29: astore_1
      30: aload_1
      31: invokevirtual #38                 // Method start:()V
      34: return

  private void lambda$createHandler$0(java.lang.String, java.lang.String, com.sun.net.httpserver.HttpHandler, com.sun.net.httpserver.HttpExchange) throws java.io.IOException;
    Code:
       0: ldc           #42                 // String GET
       2: aload         4
       4: invokevirtual #44                 // Method com/sun/net/httpserver/HttpExchange.getRequestMethod:()Ljava/lang/String;
       7: invokevirtual #50                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      10: ifeq          86
      13: aload         4
      15: invokevirtual #54                 // Method com/sun/net/httpserver/HttpExchange.getRequestURI:()Ljava/net/URI;
      18: invokevirtual #58                 // Method java/net/URI.getPath:()Ljava/lang/String;
      21: ldc           #63                 // String /ecs_credentials_endpoint
      23: invokevirtual #50                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      26: ifeq          86
      29: aload_0
      30: aload_1
      31: aload_2
      32: invokevirtual #65                 // Method buildCredentialResponse:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      35: getstatic     #69                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      38: invokevirtual #75                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
      41: astore        5
      43: aload         4
      45: invokevirtual #79                 // Method com/sun/net/httpserver/HttpExchange.getResponseHeaders:()Lcom/sun/net/httpserver/Headers;
      48: ldc           #83                 // String Content-Type
      50: ldc           #85                 // String application/json
      52: invokevirtual #87                 // Method com/sun/net/httpserver/Headers.add:(Ljava/lang/String;Ljava/lang/String;)V
      55: aload         4
      57: getstatic     #93                 // Field org/elasticsearch/rest/RestStatus.OK:Lorg/elasticsearch/rest/RestStatus;
      60: invokevirtual #99                 // Method org/elasticsearch/rest/RestStatus.getStatus:()I
      63: aload         5
      65: arraylength
      66: i2l
      67: invokevirtual #103                // Method com/sun/net/httpserver/HttpExchange.sendResponseHeaders:(IJ)V
      70: aload         4
      72: invokevirtual #107                // Method com/sun/net/httpserver/HttpExchange.getResponseBody:()Ljava/io/OutputStream;
      75: aload         5
      77: invokevirtual #111                // Method java/io/OutputStream.write:([B)V
      80: aload         4
      82: invokevirtual #117                // Method com/sun/net/httpserver/HttpExchange.close:()V
      85: return
      86: aload_3
      87: aload         4
      89: invokeinterface #120,  2          // InterfaceMethod com/sun/net/httpserver/HttpHandler.handle:(Lcom/sun/net/httpserver/HttpExchange;)V
      94: return
}
