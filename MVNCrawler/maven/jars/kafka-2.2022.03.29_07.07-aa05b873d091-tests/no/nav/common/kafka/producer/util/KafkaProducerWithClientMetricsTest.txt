Compiled from "KafkaProducerWithClientMetricsTest.java"
public class no.nav.common.kafka.producer.util.KafkaProducerWithClientMetricsTest {
  private static final java.lang.String TEST_TOPIC_A;

  private static final java.lang.String TEST_TOPIC_B;

  public static org.testcontainers.containers.KafkaContainer kafka;

  public no.nav.common.kafka.producer.util.KafkaProducerWithClientMetricsTest();
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: return

  public void setup();
    Code:
       0: getstatic     #4                  // Field kafka:Lorg/testcontainers/containers/KafkaContainer;
       3: invokevirtual #5                  // Method org/testcontainers/containers/KafkaContainer.getBootstrapServers:()Ljava/lang/String;
       6: astore_1
       7: ldc           #7                  // String bootstrap.servers
       9: aload_1
      10: invokestatic  #8                  // InterfaceMethod java/util/Map.of:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/util/Map;
      13: invokestatic  #9                  // Method org/apache/kafka/clients/admin/KafkaAdminClient.create:(Ljava/util/Map;)Lorg/apache/kafka/clients/admin/AdminClient;
      16: astore_2
      17: aload_2
      18: ldc           #11                 // String test-topic-a
      20: ldc           #12                 // String test-topic-b
      22: invokestatic  #13                 // InterfaceMethod java/util/List.of:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/util/List;
      25: invokevirtual #14                 // Method org/apache/kafka/clients/admin/AdminClient.deleteTopics:(Ljava/util/Collection;)Lorg/apache/kafka/clients/admin/DeleteTopicsResult;
      28: pop
      29: aload_2
      30: new           #15                 // class org/apache/kafka/clients/admin/NewTopic
      33: dup
      34: ldc           #11                 // String test-topic-a
      36: iconst_1
      37: iconst_1
      38: invokespecial #16                 // Method org/apache/kafka/clients/admin/NewTopic."<init>":(Ljava/lang/String;IS)V
      41: new           #15                 // class org/apache/kafka/clients/admin/NewTopic
      44: dup
      45: ldc           #12                 // String test-topic-b
      47: iconst_1
      48: iconst_1
      49: invokespecial #16                 // Method org/apache/kafka/clients/admin/NewTopic."<init>":(Ljava/lang/String;IS)V
      52: invokestatic  #13                 // InterfaceMethod java/util/List.of:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/util/List;
      55: invokevirtual #17                 // Method org/apache/kafka/clients/admin/AdminClient.createTopics:(Ljava/util/Collection;)Lorg/apache/kafka/clients/admin/CreateTopicsResult;
      58: pop
      59: aload_2
      60: invokevirtual #18                 // Method org/apache/kafka/clients/admin/AdminClient.close:()V
      63: return

  public void should_register_status_counter_ok_metric() throws java.lang.InterruptedException;
    Code:
       0: new           #19                 // class io/micrometer/core/instrument/simple/SimpleMeterRegistry
       3: dup
       4: invokespecial #20                 // Method io/micrometer/core/instrument/simple/SimpleMeterRegistry."<init>":()V
       7: astore_1
       8: new           #1                  // class no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics
      11: dup
      12: getstatic     #4                  // Field kafka:Lorg/testcontainers/containers/KafkaContainer;
      15: invokevirtual #5                  // Method org/testcontainers/containers/KafkaContainer.getBootstrapServers:()Ljava/lang/String;
      18: invokestatic  #21                 // Method no/nav/common/kafka/utils/TestUtils.kafkaTestProducerProperties:(Ljava/lang/String;)Ljava/util/Properties;
      21: aload_1
      22: invokespecial #22                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics."<init>":(Ljava/util/Properties;Lio/micrometer/core/instrument/MeterRegistry;)V
      25: astore_2
      26: aload_2
      27: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      30: dup
      31: ldc           #11                 // String test-topic-a
      33: ldc           #24                 // String value
      35: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      38: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      41: pop
      42: aload_2
      43: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      46: dup
      47: ldc           #11                 // String test-topic-a
      49: ldc           #24                 // String value
      51: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      54: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      57: pop
      58: aload_2
      59: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      62: dup
      63: ldc           #11                 // String test-topic-a
      65: ldc           #24                 // String value
      67: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      70: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      73: pop
      74: aload_2
      75: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      78: dup
      79: ldc           #12                 // String test-topic-b
      81: ldc           #24                 // String value
      83: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      86: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      89: pop
      90: aload_2
      91: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      94: dup
      95: ldc           #12                 // String test-topic-b
      97: ldc           #24                 // String value
      99: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     102: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
     105: pop
     106: ldc2_w        #27                 // long 1000l
     109: invokestatic  #29                 // Method java/lang/Thread.sleep:(J)V
     112: ldc2_w        #30                 // double 3.0d
     115: aload_0
     116: aload_1
     117: ldc           #11                 // String test-topic-a
     119: iconst_0
     120: invokevirtual #32                 // Method getStatusCount:(Lio/micrometer/core/instrument/MeterRegistry;Ljava/lang/String;Z)D
     123: dconst_0
     124: invokestatic  #33                 // Method org/junit/Assert.assertEquals:(DDD)V
     127: ldc2_w        #34                 // double 2.0d
     130: aload_0
     131: aload_1
     132: ldc           #12                 // String test-topic-b
     134: iconst_0
     135: invokevirtual #32                 // Method getStatusCount:(Lio/micrometer/core/instrument/MeterRegistry;Ljava/lang/String;Z)D
     138: dconst_0
     139: invokestatic  #33                 // Method org/junit/Assert.assertEquals:(DDD)V
     142: return

  public void should_register_status_counter_failed_metric();
    Code:
       0: new           #19                 // class io/micrometer/core/instrument/simple/SimpleMeterRegistry
       3: dup
       4: invokespecial #20                 // Method io/micrometer/core/instrument/simple/SimpleMeterRegistry."<init>":()V
       7: astore_1
       8: new           #1                  // class no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics
      11: dup
      12: getstatic     #4                  // Field kafka:Lorg/testcontainers/containers/KafkaContainer;
      15: invokevirtual #5                  // Method org/testcontainers/containers/KafkaContainer.getBootstrapServers:()Ljava/lang/String;
      18: invokestatic  #21                 // Method no/nav/common/kafka/utils/TestUtils.kafkaTestProducerProperties:(Ljava/lang/String;)Ljava/util/Properties;
      21: aload_1
      22: invokespecial #22                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics."<init>":(Ljava/util/Properties;Lio/micrometer/core/instrument/MeterRegistry;)V
      25: astore_2
      26: aload_2
      27: invokevirtual #36                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.close:()V
      30: aload_2
      31: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      34: dup
      35: ldc           #11                 // String test-topic-a
      37: ldc           #24                 // String value
      39: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      42: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      45: pop
      46: aload_2
      47: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      50: dup
      51: ldc           #11                 // String test-topic-a
      53: ldc           #24                 // String value
      55: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      58: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      61: pop
      62: aload_2
      63: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      66: dup
      67: ldc           #11                 // String test-topic-a
      69: ldc           #24                 // String value
      71: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      74: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      77: pop
      78: aload_2
      79: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      82: dup
      83: ldc           #12                 // String test-topic-b
      85: ldc           #24                 // String value
      87: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      90: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      93: pop
      94: aload_2
      95: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      98: dup
      99: ldc           #12                 // String test-topic-b
     101: ldc           #24                 // String value
     103: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     106: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
     109: pop
     110: ldc2_w        #30                 // double 3.0d
     113: aload_0
     114: aload_1
     115: ldc           #11                 // String test-topic-a
     117: iconst_1
     118: invokevirtual #32                 // Method getStatusCount:(Lio/micrometer/core/instrument/MeterRegistry;Ljava/lang/String;Z)D
     121: dconst_0
     122: invokestatic  #33                 // Method org/junit/Assert.assertEquals:(DDD)V
     125: ldc2_w        #34                 // double 2.0d
     128: aload_0
     129: aload_1
     130: ldc           #12                 // String test-topic-b
     132: iconst_1
     133: invokevirtual #32                 // Method getStatusCount:(Lio/micrometer/core/instrument/MeterRegistry;Ljava/lang/String;Z)D
     136: dconst_0
     137: invokestatic  #33                 // Method org/junit/Assert.assertEquals:(DDD)V
     140: return

  public void should_register_current_offset_metric();
    Code:
       0: new           #19                 // class io/micrometer/core/instrument/simple/SimpleMeterRegistry
       3: dup
       4: invokespecial #20                 // Method io/micrometer/core/instrument/simple/SimpleMeterRegistry."<init>":()V
       7: astore_1
       8: new           #1                  // class no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics
      11: dup
      12: getstatic     #4                  // Field kafka:Lorg/testcontainers/containers/KafkaContainer;
      15: invokevirtual #5                  // Method org/testcontainers/containers/KafkaContainer.getBootstrapServers:()Ljava/lang/String;
      18: invokestatic  #21                 // Method no/nav/common/kafka/utils/TestUtils.kafkaTestProducerProperties:(Ljava/lang/String;)Ljava/util/Properties;
      21: aload_1
      22: invokespecial #22                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics."<init>":(Ljava/util/Properties;Lio/micrometer/core/instrument/MeterRegistry;)V
      25: astore_2
      26: aload_2
      27: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      30: dup
      31: ldc           #11                 // String test-topic-a
      33: ldc           #24                 // String value
      35: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      38: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      41: pop
      42: aload_2
      43: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      46: dup
      47: ldc           #11                 // String test-topic-a
      49: ldc           #24                 // String value
      51: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      54: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      57: pop
      58: aload_2
      59: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      62: dup
      63: ldc           #11                 // String test-topic-a
      65: ldc           #24                 // String value
      67: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      70: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      73: pop
      74: aload_2
      75: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      78: dup
      79: ldc           #12                 // String test-topic-b
      81: ldc           #24                 // String value
      83: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      86: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
      89: pop
      90: aload_2
      91: new           #23                 // class org/apache/kafka/clients/producer/ProducerRecord
      94: dup
      95: ldc           #12                 // String test-topic-b
      97: ldc           #24                 // String value
      99: invokespecial #25                 // Method org/apache/kafka/clients/producer/ProducerRecord."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     102: invokevirtual #26                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.send:(Lorg/apache/kafka/clients/producer/ProducerRecord;)Ljava/util/concurrent/Future;
     105: pop
     106: aload_2
     107: invokevirtual #36                 // Method no/nav/common/kafka/producer/util/KafkaProducerClientWithMetrics.close:()V
     110: new           #37                 // class java/util/ArrayList
     113: dup
     114: aload_1
     115: ldc           #38                 // String kafka_producer_current_offset
     117: invokevirtual #39                 // Method io/micrometer/core/instrument/MeterRegistry.get:(Ljava/lang/String;)Lio/micrometer/core/instrument/search/RequiredSearch;
     120: invokevirtual #40                 // Method io/micrometer/core/instrument/search/RequiredSearch.gauges:()Ljava/util/Collection;
     123: invokespecial #41                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     126: astore_3
     127: ldc2_w        #34                 // double 2.0d
     130: aload_3
     131: iconst_0
     132: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     137: checkcast     #43                 // class io/micrometer/core/instrument/Gauge
     140: invokeinterface #44,  1           // InterfaceMethod io/micrometer/core/instrument/Gauge.value:()D
     145: dconst_0
     146: invokestatic  #33                 // Method org/junit/Assert.assertEquals:(DDD)V
     149: dconst_1
     150: aload_3
     151: iconst_1
     152: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     157: checkcast     #43                 // class io/micrometer/core/instrument/Gauge
     160: invokeinterface #44,  1           // InterfaceMethod io/micrometer/core/instrument/Gauge.value:()D
     165: dconst_0
     166: invokestatic  #33                 // Method org/junit/Assert.assertEquals:(DDD)V
     169: return

  private double getStatusCount(io.micrometer.core.instrument.MeterRegistry, java.lang.String, boolean);
    Code:
       0: aload_1
       1: ldc           #45                 // String kafka_producer_status
       3: iconst_4
       4: anewarray     #46                 // class java/lang/String
       7: dup
       8: iconst_0
       9: ldc           #47                 // String topic
      11: aastore
      12: dup
      13: iconst_1
      14: aload_2
      15: aastore
      16: dup
      17: iconst_2
      18: ldc           #48                 // String status
      20: aastore
      21: dup
      22: iconst_3
      23: iload_3
      24: ifeq          32
      27: ldc           #49                 // String failed
      29: goto          34
      32: ldc           #50                 // String ok
      34: aastore
      35: invokevirtual #51                 // Method io/micrometer/core/instrument/MeterRegistry.counter:(Ljava/lang/String;[Ljava/lang/String;)Lio/micrometer/core/instrument/Counter;
      38: invokeinterface #52,  1           // InterfaceMethod io/micrometer/core/instrument/Counter.count:()D
      43: dreturn

  static {};
    Code:
       0: new           #53                 // class org/testcontainers/containers/KafkaContainer
       3: dup
       4: ldc           #54                 // String confluentinc/cp-kafka:5.4.3
       6: invokestatic  #55                 // Method org/testcontainers/utility/DockerImageName.parse:(Ljava/lang/String;)Lorg/testcontainers/utility/DockerImageName;
       9: invokespecial #56                 // Method org/testcontainers/containers/KafkaContainer."<init>":(Lorg/testcontainers/utility/DockerImageName;)V
      12: putstatic     #4                  // Field kafka:Lorg/testcontainers/containers/KafkaContainer;
      15: return
}
