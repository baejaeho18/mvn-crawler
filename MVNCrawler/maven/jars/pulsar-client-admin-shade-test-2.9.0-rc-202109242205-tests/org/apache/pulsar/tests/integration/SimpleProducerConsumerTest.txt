Compiled from "SimpleProducerConsumerTest.java"
public class org.apache.pulsar.tests.integration.SimpleProducerConsumerTest extends org.apache.pulsar.tests.TestRetrySupport {
  private static final org.slf4j.Logger log;

  private org.apache.pulsar.tests.integration.PulsarContainer pulsarContainer;

  private java.net.URI lookupUrl;

  private org.apache.pulsar.client.api.PulsarClient pulsarClient;

  public org.apache.pulsar.tests.integration.SimpleProducerConsumerTest();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/apache/pulsar/tests/TestRetrySupport."<init>":()V
       4: return

  public void setup() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #3                  // Method incrementSetupNumber:()V
       4: new           #4                  // class org/bouncycastle/jce/provider/BouncyCastleProvider
       7: dup
       8: invokespecial #5                  // Method org/bouncycastle/jce/provider/BouncyCastleProvider."<init>":()V
      11: invokestatic  #6                  // Method java/security/Security.addProvider:(Ljava/security/Provider;)I
      14: pop
      15: aload_0
      16: new           #7                  // class org/apache/pulsar/tests/integration/PulsarContainer
      19: dup
      20: invokespecial #8                  // Method org/apache/pulsar/tests/integration/PulsarContainer."<init>":()V
      23: putfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      26: aload_0
      27: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      30: invokevirtual #10                 // Method org/apache/pulsar/tests/integration/PulsarContainer.start:()V
      33: aload_0
      34: invokestatic  #11                 // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.builder:()Lorg/apache/pulsar/client/api/ClientBuilder;
      37: aload_0
      38: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      41: invokevirtual #12                 // Method org/apache/pulsar/tests/integration/PulsarContainer.getPlainTextPulsarBrokerUrl:()Ljava/lang/String;
      44: invokeinterface #13,  2           // InterfaceMethod org/apache/pulsar/client/api/ClientBuilder.serviceUrl:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ClientBuilder;
      49: invokeinterface #14,  1           // InterfaceMethod org/apache/pulsar/client/api/ClientBuilder.build:()Lorg/apache/pulsar/client/api/PulsarClient;
      54: putfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      57: aload_0
      58: new           #16                 // class java/net/URI
      61: dup
      62: aload_0
      63: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      66: invokevirtual #12                 // Method org/apache/pulsar/tests/integration/PulsarContainer.getPlainTextPulsarBrokerUrl:()Ljava/lang/String;
      69: invokespecial #17                 // Method java/net/URI."<init>":(Ljava/lang/String;)V
      72: putfield      #18                 // Field lookupUrl:Ljava/net/URI;
      75: invokestatic  #19                 // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdmin.builder:()Lorg/apache/pulsar/client/admin/PulsarAdminBuilder;
      78: aload_0
      79: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      82: invokevirtual #20                 // Method org/apache/pulsar/tests/integration/PulsarContainer.getPulsarAdminUrl:()Ljava/lang/String;
      85: invokeinterface #21,  2           // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdminBuilder.serviceHttpUrl:(Ljava/lang/String;)Lorg/apache/pulsar/client/admin/PulsarAdminBuilder;
      90: invokeinterface #22,  1           // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdminBuilder.build:()Lorg/apache/pulsar/client/admin/PulsarAdmin;
      95: astore_1
      96: aload_1
      97: invokeinterface #23,  1           // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdmin.tenants:()Lorg/apache/pulsar/client/admin/Tenants;
     102: ldc           #24                 // String my-property
     104: new           #25                 // class org/apache/pulsar/common/policies/data/TenantInfoImpl
     107: dup
     108: new           #26                 // class java/util/HashSet
     111: dup
     112: iconst_2
     113: anewarray     #27                 // class java/lang/String
     116: dup
     117: iconst_0
     118: ldc           #28                 // String appid1
     120: aastore
     121: dup
     122: iconst_1
     123: ldc           #29                 // String appid2
     125: aastore
     126: invokestatic  #30                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     129: invokespecial #31                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
     132: ldc           #32                 // String standalone
     134: invokestatic  #33                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
     137: invokespecial #34                 // Method org/apache/pulsar/common/policies/data/TenantInfoImpl."<init>":(Ljava/util/Set;Ljava/util/Set;)V
     140: invokeinterface #35,  3           // InterfaceMethod org/apache/pulsar/client/admin/Tenants.createTenant:(Ljava/lang/String;Lorg/apache/pulsar/common/policies/data/TenantInfo;)V
     145: aload_1
     146: invokeinterface #36,  1           // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdmin.namespaces:()Lorg/apache/pulsar/client/admin/Namespaces;
     151: ldc           #37                 // String my-property/my-ns
     153: invokeinterface #38,  2           // InterfaceMethod org/apache/pulsar/client/admin/Namespaces.createNamespace:(Ljava/lang/String;)V
     158: aload_1
     159: invokeinterface #36,  1           // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdmin.namespaces:()Lorg/apache/pulsar/client/admin/Namespaces;
     164: ldc           #37                 // String my-property/my-ns
     166: ldc           #32                 // String standalone
     168: invokestatic  #33                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
     171: invokeinterface #39,  3           // InterfaceMethod org/apache/pulsar/client/admin/Namespaces.setNamespaceReplicationClusters:(Ljava/lang/String;Ljava/util/Set;)V
     176: aload_1
     177: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     180: iconst_0
     181: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     186: ifnull        220
     189: aload_1
     190: invokeinterface #42,  1           // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdmin.close:()V
     195: goto          220
     198: astore_2
     199: aload_1
     200: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     203: iconst_0
     204: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     209: ifnull        218
     212: aload_1
     213: invokeinterface #42,  1           // InterfaceMethod org/apache/pulsar/client/admin/PulsarAdmin.close:()V
     218: aload_2
     219: athrow
     220: return
    Exception table:
       from    to  target type
          96   176   198   any

  public void cleanup() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #43                 // Method markCurrentSetupNumberCleaned:()V
       4: aload_0
       5: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
       8: ifnull        25
      11: aload_0
      12: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      15: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
      20: aload_0
      21: aconst_null
      22: putfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      25: aload_0
      26: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      29: ifnull        51
      32: aload_0
      33: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      36: invokevirtual #45                 // Method org/apache/pulsar/tests/integration/PulsarContainer.stop:()V
      39: aload_0
      40: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      43: invokevirtual #46                 // Method org/apache/pulsar/tests/integration/PulsarContainer.close:()V
      46: aload_0
      47: aconst_null
      48: putfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
      51: return

  private org.apache.pulsar.client.api.PulsarClient newPulsarClient(java.lang.String, int) throws org.apache.pulsar.client.api.PulsarClientException;
    Code:
       0: invokestatic  #11                 // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.builder:()Lorg/apache/pulsar/client/api/ClientBuilder;
       3: aload_1
       4: invokeinterface #13,  2           // InterfaceMethod org/apache/pulsar/client/api/ClientBuilder.serviceUrl:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ClientBuilder;
       9: iload_2
      10: i2l
      11: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      14: invokeinterface #48,  4           // InterfaceMethod org/apache/pulsar/client/api/ClientBuilder.statsInterval:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ClientBuilder;
      19: invokeinterface #14,  1           // InterfaceMethod org/apache/pulsar/client/api/ClientBuilder.build:()Lorg/apache/pulsar/client/api/PulsarClient;
      24: areturn

  public void testRSAEncryption() throws java.lang.Exception;
    Code:
       0: new           #49                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #51                 // String persistent://my-property/my-ns/myrsa-topic1-
       9: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: invokestatic  #53                 // Method java/lang/System.currentTimeMillis:()J
      15: invokevirtual #54                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      18: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      21: astore_1
      22: bipush        10
      24: istore_2
      25: new           #26                 // class java/util/HashSet
      28: dup
      29: invokespecial #56                 // Method java/util/HashSet."<init>":()V
      32: astore_3
      33: aload_0
      34: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      37: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
      42: iconst_1
      43: anewarray     #27                 // class java/lang/String
      46: dup
      47: iconst_0
      48: ldc           #58                 // String persistent://my-property/my-ns/myrsa-topic1
      50: aastore
      51: invokeinterface #59,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topic:([Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
      56: ldc           #60                 // String my-subscriber-name
      58: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
      63: new           #62                 // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1EncKeyReader
      66: dup
      67: aload_0
      68: invokespecial #63                 // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;)V
      71: invokeinterface #64,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
      76: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
      81: astore        4
      83: aload_0
      84: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      87: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
      92: iconst_1
      93: anewarray     #27                 // class java/lang/String
      96: dup
      97: iconst_0
      98: aload_1
      99: aastore
     100: invokeinterface #59,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topic:([Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     105: ldc           #66                 // String my-subscriber-name-normal
     107: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     112: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     117: astore        5
     119: aload_0
     120: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
     123: invokeinterface #67,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newProducer:()Lorg/apache/pulsar/client/api/ProducerBuilder;
     128: ldc           #58                 // String persistent://my-property/my-ns/myrsa-topic1
     130: invokeinterface #68,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.topic:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     135: ldc           #69                 // String client-rsa.pem
     137: invokeinterface #70,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.addEncryptionKey:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     142: new           #62                 // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1EncKeyReader
     145: dup
     146: aload_0
     147: invokespecial #63                 // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;)V
     150: invokeinterface #71,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     155: invokeinterface #72,  1           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.create:()Lorg/apache/pulsar/client/api/Producer;
     160: astore        6
     162: aload_0
     163: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
     166: invokeinterface #67,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newProducer:()Lorg/apache/pulsar/client/api/ProducerBuilder;
     171: ldc           #58                 // String persistent://my-property/my-ns/myrsa-topic1
     173: invokeinterface #68,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.topic:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     178: ldc           #69                 // String client-rsa.pem
     180: invokeinterface #70,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.addEncryptionKey:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     185: new           #62                 // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1EncKeyReader
     188: dup
     189: aload_0
     190: invokespecial #63                 // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;)V
     193: invokeinterface #71,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     198: invokeinterface #72,  1           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.create:()Lorg/apache/pulsar/client/api/Producer;
     203: astore        7
     205: iconst_0
     206: istore        8
     208: iload         8
     210: bipush        10
     212: if_icmpge     256
     215: new           #49                 // class java/lang/StringBuilder
     218: dup
     219: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     222: ldc           #73                 // String my-message-
     224: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     227: iload         8
     229: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     232: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     235: astore        9
     237: aload         6
     239: aload         9
     241: invokevirtual #75                 // Method java/lang/String.getBytes:()[B
     244: invokeinterface #76,  2           // InterfaceMethod org/apache/pulsar/client/api/Producer.send:(Ljava/lang/Object;)Lorg/apache/pulsar/client/api/MessageId;
     249: pop
     250: iinc          8, 1
     253: goto          208
     256: bipush        10
     258: istore        8
     260: iload         8
     262: bipush        20
     264: if_icmpge     308
     267: new           #49                 // class java/lang/StringBuilder
     270: dup
     271: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     274: ldc           #73                 // String my-message-
     276: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     279: iload         8
     281: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     284: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     287: astore        9
     289: aload         7
     291: aload         9
     293: invokevirtual #75                 // Method java/lang/String.getBytes:()[B
     296: invokeinterface #76,  2           // InterfaceMethod org/apache/pulsar/client/api/Producer.send:(Ljava/lang/Object;)Lorg/apache/pulsar/client/api/MessageId;
     301: pop
     302: iinc          8, 1
     305: goto          260
     308: aconst_null
     309: astore        8
     311: aload         5
     313: sipush        500
     316: getstatic     #77                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     319: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     324: checkcast     #79                 // class org/apache/pulsar/client/impl/MessageImpl
     327: astore        8
     329: aload         8
     331: invokestatic  #80                 // Method org/testng/Assert.assertNull:(Ljava/lang/Object;)V
     334: iconst_0
     335: istore        9
     337: iload         9
     339: bipush        20
     341: if_icmpge     437
     344: aload         4
     346: iconst_5
     347: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     350: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     355: checkcast     #79                 // class org/apache/pulsar/client/impl/MessageImpl
     358: astore        8
     360: aload         8
     362: invokevirtual #81                 // Method org/apache/pulsar/client/impl/MessageImpl.getEncryptionCtx:()Ljava/util/Optional;
     365: invokedynamic #82,  0             // InvokeDynamic #0:get:()Ljava/util/function/Supplier;
     370: invokevirtual #83                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
     373: pop
     374: new           #27                 // class java/lang/String
     377: dup
     378: aload         8
     380: invokevirtual #84                 // Method org/apache/pulsar/client/impl/MessageImpl.getData:()[B
     383: invokespecial #85                 // Method java/lang/String."<init>":([B)V
     386: astore        10
     388: getstatic     #1                  // Field log:Lorg/slf4j/Logger;
     391: ldc           #86                 // String Received message: [{}]
     393: aload         10
     395: invokeinterface #87,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     400: new           #49                 // class java/lang/StringBuilder
     403: dup
     404: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     407: ldc           #73                 // String my-message-
     409: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     412: iload         9
     414: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     417: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     420: astore        11
     422: aload_0
     423: aload_3
     424: aload         10
     426: aload         11
     428: invokevirtual #88                 // Method testMessageOrderAndDuplicates:(Ljava/util/Set;Ljava/lang/Object;Ljava/lang/Object;)V
     431: iinc          9, 1
     434: goto          337
     437: aload         4
     439: aload         8
     441: invokeinterface #89,  2           // InterfaceMethod org/apache/pulsar/client/api/Consumer.acknowledgeCumulative:(Lorg/apache/pulsar/client/api/Message;)V
     446: aload         4
     448: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     453: return

  protected <T> void testMessageOrderAndDuplicates(java.util.Set<T>, T, T);
    Code:
       0: aload_2
       1: aload_3
       2: new           #49                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #91                 // String Received message
      11: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_2
      15: invokevirtual #92                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      18: ldc           #93                 // String  did not match the expected message
      20: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: aload_3
      24: invokevirtual #92                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      27: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      30: invokestatic  #94                 // Method org/testng/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;)V
      33: aload_1
      34: aload_2
      35: invokeinterface #95,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      40: new           #49                 // class java/lang/StringBuilder
      43: dup
      44: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      47: ldc           #96                 // String Received duplicate message
      49: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: aload_2
      53: invokevirtual #92                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      56: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      59: invokestatic  #97                 // Method org/testng/Assert.assertTrue:(ZLjava/lang/String;)V
      62: return

  public void testRedeliveryOfFailedMessages() throws java.lang.Exception;
    Code:
       0: invokestatic  #11                 // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.builder:()Lorg/apache/pulsar/client/api/ClientBuilder;
       3: aload_0
       4: getfield      #9                  // Field pulsarContainer:Lorg/apache/pulsar/tests/integration/PulsarContainer;
       7: invokevirtual #12                 // Method org/apache/pulsar/tests/integration/PulsarContainer.getPlainTextPulsarBrokerUrl:()Ljava/lang/String;
      10: invokeinterface #13,  2           // InterfaceMethod org/apache/pulsar/client/api/ClientBuilder.serviceUrl:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ClientBuilder;
      15: invokeinterface #14,  1           // InterfaceMethod org/apache/pulsar/client/api/ClientBuilder.build:()Lorg/apache/pulsar/client/api/PulsarClient;
      20: astore_1
      21: ldc           #69                 // String client-rsa.pem
      23: astore_2
      24: ldc           #98                 // String 1.0
      26: astore_3
      27: new           #99                 // class java/util/HashMap
      30: dup
      31: invokespecial #100                // Method java/util/HashMap."<init>":()V
      34: astore        4
      36: aload         4
      38: ldc           #101                // String version
      40: ldc           #98                 // String 1.0
      42: invokeinterface #102,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      47: pop
      48: ldc           #103                // String persistent://my-property/my-ns/myrsa-topic2
      50: astore        5
      52: aload_1
      53: invokeinterface #67,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newProducer:()Lorg/apache/pulsar/client/api/ProducerBuilder;
      58: aload         5
      60: invokeinterface #68,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.topic:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      65: ldc           #69                 // String client-rsa.pem
      67: invokeinterface #70,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.addEncryptionKey:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      72: getstatic     #104                // Field org/apache/pulsar/client/api/CompressionType.LZ4:Lorg/apache/pulsar/client/api/CompressionType;
      75: invokeinterface #105,  2          // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.compressionType:(Lorg/apache/pulsar/client/api/CompressionType;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      80: new           #106                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$2EncKeyReader
      83: dup
      84: aload_0
      85: aload         4
      87: invokespecial #107                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$2EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;Ljava/util/Map;)V
      90: invokeinterface #71,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      95: invokeinterface #72,  1           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.create:()Lorg/apache/pulsar/client/api/Producer;
     100: astore        6
     102: aload_0
     103: aload_0
     104: getfield      #18                 // Field lookupUrl:Ljava/net/URI;
     107: invokevirtual #108                // Method java/net/URI.toString:()Ljava/lang/String;
     110: iconst_0
     111: invokespecial #109                // Method newPulsarClient:(Ljava/lang/String;I)Lorg/apache/pulsar/client/api/PulsarClient;
     114: astore        7
     116: aload         7
     118: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
     123: aload         5
     125: invokeinterface #110,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topicsPattern:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     130: ldc           #60                 // String my-subscriber-name
     132: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     137: new           #106                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$2EncKeyReader
     140: dup
     141: aload_0
     142: aload         4
     144: invokespecial #107                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$2EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;Ljava/util/Map;)V
     147: invokeinterface #64,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     152: getstatic     #111                // Field org/apache/pulsar/client/api/SubscriptionType.Shared:Lorg/apache/pulsar/client/api/SubscriptionType;
     155: invokeinterface #112,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionType:(Lorg/apache/pulsar/client/api/SubscriptionType;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     160: lconst_1
     161: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     164: invokeinterface #113,  4          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.ackTimeout:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     169: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     174: astore        8
     176: aload_0
     177: aload_0
     178: getfield      #18                 // Field lookupUrl:Ljava/net/URI;
     181: invokevirtual #108                // Method java/net/URI.toString:()Ljava/lang/String;
     184: iconst_0
     185: invokespecial #109                // Method newPulsarClient:(Ljava/lang/String;I)Lorg/apache/pulsar/client/api/PulsarClient;
     188: astore        9
     190: aload         9
     192: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
     197: aload         5
     199: invokeinterface #110,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topicsPattern:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     204: ldc           #60                 // String my-subscriber-name
     206: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     211: new           #114                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1InvalidKeyReader
     214: dup
     215: aload_0
     216: invokespecial #115                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$1InvalidKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;)V
     219: invokeinterface #64,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     224: getstatic     #111                // Field org/apache/pulsar/client/api/SubscriptionType.Shared:Lorg/apache/pulsar/client/api/SubscriptionType;
     227: invokeinterface #112,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionType:(Lorg/apache/pulsar/client/api/SubscriptionType;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     232: lconst_1
     233: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     236: invokeinterface #113,  4          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.ackTimeout:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     241: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     246: astore        10
     248: aload_0
     249: aload_0
     250: getfield      #18                 // Field lookupUrl:Ljava/net/URI;
     253: invokevirtual #108                // Method java/net/URI.toString:()Ljava/lang/String;
     256: iconst_0
     257: invokespecial #109                // Method newPulsarClient:(Ljava/lang/String;I)Lorg/apache/pulsar/client/api/PulsarClient;
     260: astore        11
     262: aload         11
     264: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
     269: aload         5
     271: invokeinterface #110,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topicsPattern:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     276: ldc           #60                 // String my-subscriber-name
     278: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     283: getstatic     #111                // Field org/apache/pulsar/client/api/SubscriptionType.Shared:Lorg/apache/pulsar/client/api/SubscriptionType;
     286: invokeinterface #112,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionType:(Lorg/apache/pulsar/client/api/SubscriptionType;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     291: lconst_1
     292: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     295: invokeinterface #113,  4          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.ackTimeout:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     300: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     305: astore        12
     307: bipush        100
     309: istore        13
     311: ldc           #116                // String my-message
     313: astore        14
     315: new           #26                 // class java/util/HashSet
     318: dup
     319: invokespecial #56                 // Method java/util/HashSet."<init>":()V
     322: astore        15
     324: iconst_0
     325: istore        16
     327: iload         16
     329: iload         13
     331: if_icmpge     371
     334: aload         6
     336: new           #49                 // class java/lang/StringBuilder
     339: dup
     340: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     343: aload         14
     345: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     348: iload         16
     350: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     353: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     356: invokevirtual #75                 // Method java/lang/String.getBytes:()[B
     359: invokeinterface #76,  2           // InterfaceMethod org/apache/pulsar/client/api/Producer.send:(Ljava/lang/Object;)Lorg/apache/pulsar/client/api/MessageId;
     364: pop
     365: iinc          16, 1
     368: goto          327
     371: aload         10
     373: iconst_3
     374: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     377: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     382: astore        16
     384: aload         16
     386: invokestatic  #80                 // Method org/testng/Assert.assertNull:(Ljava/lang/Object;)V
     389: aload         12
     391: iconst_3
     392: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     395: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     400: astore        16
     402: aload         16
     404: invokestatic  #80                 // Method org/testng/Assert.assertNull:(Ljava/lang/Object;)V
     407: iconst_0
     408: istore        17
     410: iload         17
     412: iload         13
     414: if_icmpge     463
     417: aload         8
     419: invokeinterface #117,  1          // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:()Lorg/apache/pulsar/client/api/Message;
     424: astore        16
     426: aload         15
     428: new           #27                 // class java/lang/String
     431: dup
     432: aload         16
     434: invokeinterface #118,  1          // InterfaceMethod org/apache/pulsar/client/api/Message.getData:()[B
     439: invokespecial #85                 // Method java/lang/String."<init>":([B)V
     442: invokeinterface #95,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     447: pop
     448: aload         8
     450: aload         16
     452: invokeinterface #119,  2          // InterfaceMethod org/apache/pulsar/client/api/Consumer.acknowledge:(Lorg/apache/pulsar/client/api/Message;)V
     457: iinc          17, 1
     460: goto          410
     463: aload         10
     465: iconst_3
     466: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     469: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     474: astore        16
     476: aload         16
     478: invokestatic  #80                 // Method org/testng/Assert.assertNull:(Ljava/lang/Object;)V
     481: aload         12
     483: iconst_3
     484: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     487: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     492: astore        16
     494: aload         16
     496: invokestatic  #80                 // Method org/testng/Assert.assertNull:(Ljava/lang/Object;)V
     499: iconst_0
     500: istore        17
     502: iload         17
     504: iload         13
     506: if_icmpge     545
     509: aload         15
     511: new           #49                 // class java/lang/StringBuilder
     514: dup
     515: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     518: aload         14
     520: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     523: iload         17
     525: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     528: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     531: invokeinterface #120,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     536: invokestatic  #121                // Method org/testng/Assert.assertTrue:(Z)V
     539: iinc          17, 1
     542: goto          502
     545: aload         8
     547: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     552: aload         10
     554: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     559: aload         12
     561: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     566: aload         7
     568: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     573: aload         9
     575: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     580: aload         11
     582: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     587: aload         11
     589: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     592: iconst_0
     593: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     598: ifnull        637
     601: aload         11
     603: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     608: goto          637
     611: astore        18
     613: aload         11
     615: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     618: iconst_0
     619: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     624: ifnull        634
     627: aload         11
     629: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     634: aload         18
     636: athrow
     637: aload         9
     639: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     642: iconst_0
     643: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     648: ifnull        687
     651: aload         9
     653: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     658: goto          687
     661: astore        19
     663: aload         9
     665: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     668: iconst_0
     669: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     674: ifnull        684
     677: aload         9
     679: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     684: aload         19
     686: athrow
     687: aload         7
     689: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     692: iconst_0
     693: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     698: ifnull        737
     701: aload         7
     703: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     708: goto          737
     711: astore        20
     713: aload         7
     715: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     718: iconst_0
     719: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     724: ifnull        734
     727: aload         7
     729: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     734: aload         20
     736: athrow
     737: aload_1
     738: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     741: iconst_0
     742: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     747: ifnull        783
     750: aload_1
     751: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     756: goto          783
     759: astore        21
     761: aload_1
     762: invokestatic  #40                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     765: iconst_0
     766: invokeinterface #41,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     771: ifnull        780
     774: aload_1
     775: invokeinterface #44,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.close:()V
     780: aload         21
     782: athrow
     783: return
    Exception table:
       from    to  target type
         262   587   611   any
         611   613   611   any
         190   637   661   any
         661   663   661   any
         116   687   711   any
         711   713   711   any
          21   737   759   any
         759   761   759   any

  public void testEncryptionFailure() throws java.lang.Exception;
    Code:
       0: bipush        10
       2: istore_1
       3: aconst_null
       4: astore_2
       5: new           #26                 // class java/util/HashSet
       8: dup
       9: invokespecial #56                 // Method java/util/HashSet."<init>":()V
      12: astore_3
      13: aload_0
      14: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      17: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
      22: iconst_1
      23: anewarray     #27                 // class java/lang/String
      26: dup
      27: iconst_0
      28: ldc           #122                // String persistent://my-property/use/myenc-ns/myenc-topic1
      30: aastore
      31: invokeinterface #59,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topic:([Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
      36: ldc           #60                 // String my-subscriber-name
      38: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
      43: lconst_0
      44: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      47: invokeinterface #123,  4          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.acknowledgmentGroupTime:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
      52: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
      57: astore        4
      59: aload_0
      60: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      63: invokeinterface #67,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newProducer:()Lorg/apache/pulsar/client/api/ProducerBuilder;
      68: ldc           #122                // String persistent://my-property/use/myenc-ns/myenc-topic1
      70: invokeinterface #68,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.topic:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      75: ldc           #124                // String client-non-existant-rsa.pem
      77: invokeinterface #70,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.addEncryptionKey:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      82: new           #125                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$3EncKeyReader
      85: dup
      86: aload_0
      87: invokespecial #126                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$3EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;)V
      90: invokeinterface #71,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      95: invokeinterface #72,  1           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.create:()Lorg/apache/pulsar/client/api/Producer;
     100: pop
     101: ldc           #127                // String Producer creation should not suceed if failing to read key
     103: invokestatic  #128                // Method org/testng/Assert.fail:(Ljava/lang/String;)V
     106: goto          111
     109: astore        5
     111: aload_0
     112: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
     115: invokeinterface #67,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newProducer:()Lorg/apache/pulsar/client/api/ProducerBuilder;
     120: ldc           #122                // String persistent://my-property/use/myenc-ns/myenc-topic1
     122: invokeinterface #68,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.topic:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     127: ldc           #69                 // String client-rsa.pem
     129: invokeinterface #70,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.addEncryptionKey:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     134: new           #125                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$3EncKeyReader
     137: dup
     138: aload_0
     139: invokespecial #126                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$3EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;)V
     142: invokeinterface #71,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     147: iconst_0
     148: invokeinterface #130,  2          // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.enableBatching:(Z)Lorg/apache/pulsar/client/api/ProducerBuilder;
     153: getstatic     #131                // Field org/apache/pulsar/client/api/MessageRoutingMode.SinglePartition:Lorg/apache/pulsar/client/api/MessageRoutingMode;
     156: invokeinterface #132,  2          // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.messageRoutingMode:(Lorg/apache/pulsar/client/api/MessageRoutingMode;)Lorg/apache/pulsar/client/api/ProducerBuilder;
     161: invokeinterface #72,  1           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.create:()Lorg/apache/pulsar/client/api/Producer;
     166: astore        5
     168: iconst_0
     169: istore        6
     171: iload         6
     173: bipush        10
     175: if_icmpge     219
     178: new           #49                 // class java/lang/StringBuilder
     181: dup
     182: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     185: ldc           #73                 // String my-message-
     187: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     190: iload         6
     192: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     195: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     198: astore        7
     200: aload         5
     202: aload         7
     204: invokevirtual #75                 // Method java/lang/String.getBytes:()[B
     207: invokeinterface #76,  2           // InterfaceMethod org/apache/pulsar/client/api/Producer.send:(Ljava/lang/Object;)Lorg/apache/pulsar/client/api/MessageId;
     212: pop
     213: iinc          6, 1
     216: goto          171
     219: aload         4
     221: iconst_5
     222: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     225: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     230: checkcast     #79                 // class org/apache/pulsar/client/impl/MessageImpl
     233: astore_2
     234: aload_2
     235: ldc           #133                // String Receive should have failed with no keyreader
     237: invokestatic  #134                // Method org/testng/Assert.assertNull:(Ljava/lang/Object;Ljava/lang/String;)V
     240: aload         4
     242: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     247: aload_0
     248: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
     251: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
     256: iconst_1
     257: anewarray     #27                 // class java/lang/String
     260: dup
     261: iconst_0
     262: ldc           #122                // String persistent://my-property/use/myenc-ns/myenc-topic1
     264: aastore
     265: invokeinterface #59,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topic:([Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     270: ldc           #60                 // String my-subscriber-name
     272: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     277: getstatic     #135                // Field org/apache/pulsar/client/api/ConsumerCryptoFailureAction.CONSUME:Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;
     280: invokeinterface #136,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoFailureAction:(Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     285: lconst_0
     286: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     289: invokeinterface #123,  4          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.acknowledgmentGroupTime:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     294: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     299: astore        4
     301: iconst_0
     302: istore        6
     304: aload         4
     306: iconst_5
     307: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     310: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     315: checkcast     #79                 // class org/apache/pulsar/client/impl/MessageImpl
     318: astore_2
     319: new           #27                 // class java/lang/String
     322: dup
     323: aload_2
     324: invokevirtual #84                 // Method org/apache/pulsar/client/impl/MessageImpl.getData:()[B
     327: invokespecial #85                 // Method java/lang/String."<init>":([B)V
     330: astore        7
     332: new           #49                 // class java/lang/StringBuilder
     335: dup
     336: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     339: ldc           #73                 // String my-message-
     341: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     344: iload         6
     346: iinc          6, 1
     349: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     352: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     355: astore        8
     357: aload         7
     359: aload         8
     361: new           #49                 // class java/lang/StringBuilder
     364: dup
     365: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     368: ldc           #137                // String Received encrypted message
     370: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     373: aload         7
     375: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     378: ldc           #138                // String  should not match the expected message
     380: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     383: aload         8
     385: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     388: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     391: invokestatic  #139                // Method org/testng/Assert.assertNotEquals:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;)V
     394: aload         4
     396: aload_2
     397: invokeinterface #89,  2           // InterfaceMethod org/apache/pulsar/client/api/Consumer.acknowledgeCumulative:(Lorg/apache/pulsar/client/api/Message;)V
     402: goto          417
     405: astore        7
     407: aload         7
     409: invokevirtual #140                // Method java/lang/Exception.printStackTrace:()V
     412: ldc           #141                // String Failed to receive message even after ConsumerCryptoFailureAction.CONSUME is set.
     414: invokestatic  #128                // Method org/testng/Assert.fail:(Ljava/lang/String;)V
     417: aload         4
     419: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     424: aload_0
     425: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
     428: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
     433: iconst_1
     434: anewarray     #27                 // class java/lang/String
     437: dup
     438: iconst_0
     439: ldc           #122                // String persistent://my-property/use/myenc-ns/myenc-topic1
     441: aastore
     442: invokeinterface #59,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topic:([Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     447: ldc           #60                 // String my-subscriber-name
     449: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     454: getstatic     #142                // Field org/apache/pulsar/client/api/ConsumerCryptoFailureAction.FAIL:Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;
     457: invokeinterface #136,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoFailureAction:(Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     462: new           #125                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$3EncKeyReader
     465: dup
     466: aload_0
     467: invokespecial #126                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$3EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;)V
     470: invokeinterface #64,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     475: lconst_0
     476: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     479: invokeinterface #123,  4          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.acknowledgmentGroupTime:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     484: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     489: astore        4
     491: iload         6
     493: istore        7
     495: iload         7
     497: bipush        9
     499: if_icmpge     592
     502: aload         4
     504: iconst_5
     505: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     508: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     513: checkcast     #79                 // class org/apache/pulsar/client/impl/MessageImpl
     516: astore_2
     517: aload_2
     518: invokevirtual #81                 // Method org/apache/pulsar/client/impl/MessageImpl.getEncryptionCtx:()Ljava/util/Optional;
     521: invokedynamic #143,  0            // InvokeDynamic #1:get:()Ljava/util/function/Supplier;
     526: invokevirtual #83                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
     529: pop
     530: new           #27                 // class java/lang/String
     533: dup
     534: aload_2
     535: invokevirtual #84                 // Method org/apache/pulsar/client/impl/MessageImpl.getData:()[B
     538: invokespecial #85                 // Method java/lang/String."<init>":([B)V
     541: astore        8
     543: getstatic     #1                  // Field log:Lorg/slf4j/Logger;
     546: ldc           #86                 // String Received message: [{}]
     548: aload         8
     550: invokeinterface #87,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     555: new           #49                 // class java/lang/StringBuilder
     558: dup
     559: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     562: ldc           #73                 // String my-message-
     564: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     567: iload         7
     569: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     572: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     575: astore        9
     577: aload_0
     578: aload_3
     579: aload         8
     581: aload         9
     583: invokevirtual #88                 // Method testMessageOrderAndDuplicates:(Ljava/util/Set;Ljava/lang/Object;Ljava/lang/Object;)V
     586: iinc          7, 1
     589: goto          495
     592: aload         4
     594: aload_2
     595: invokeinterface #89,  2           // InterfaceMethod org/apache/pulsar/client/api/Consumer.acknowledgeCumulative:(Lorg/apache/pulsar/client/api/Message;)V
     600: aload         4
     602: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     607: aload         4
     609: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     614: aload_0
     615: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
     618: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
     623: iconst_1
     624: anewarray     #27                 // class java/lang/String
     627: dup
     628: iconst_0
     629: ldc           #122                // String persistent://my-property/use/myenc-ns/myenc-topic1
     631: aastore
     632: invokeinterface #59,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topic:([Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     637: ldc           #60                 // String my-subscriber-name
     639: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     644: getstatic     #144                // Field org/apache/pulsar/client/api/ConsumerCryptoFailureAction.DISCARD:Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;
     647: invokeinterface #136,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoFailureAction:(Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     652: lconst_0
     653: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     656: invokeinterface #123,  4          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.acknowledgmentGroupTime:(JLjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     661: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     666: astore        4
     668: aload         4
     670: iconst_5
     671: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     674: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     679: checkcast     #79                 // class org/apache/pulsar/client/impl/MessageImpl
     682: astore_2
     683: aload_2
     684: ldc           #145                // String Message received even aftet ConsumerCryptoFailureAction.DISCARD is set.
     686: invokestatic  #134                // Method org/testng/Assert.assertNull:(Ljava/lang/Object;Ljava/lang/String;)V
     689: return
    Exception table:
       from    to  target type
          59   106   109   Class java/lang/Exception
         304   402   405   Class java/lang/Exception

  public void testEncryptionConsumerWithoutCryptoReader() throws java.lang.Exception;
    Code:
       0: ldc           #69                 // String client-rsa.pem
       2: astore_1
       3: ldc           #98                 // String 1.0
       5: astore_2
       6: new           #99                 // class java/util/HashMap
       9: dup
      10: invokespecial #100                // Method java/util/HashMap."<init>":()V
      13: astore_3
      14: aload_3
      15: ldc           #101                // String version
      17: ldc           #98                 // String 1.0
      19: invokeinterface #102,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      24: pop
      25: aload_0
      26: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      29: invokeinterface #67,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newProducer:()Lorg/apache/pulsar/client/api/ProducerBuilder;
      34: ldc           #146                // String persistent://my-property/my-ns/myrsa-topic3
      36: invokeinterface #68,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.topic:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      41: ldc           #69                 // String client-rsa.pem
      43: invokeinterface #70,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.addEncryptionKey:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      48: getstatic     #104                // Field org/apache/pulsar/client/api/CompressionType.LZ4:Lorg/apache/pulsar/client/api/CompressionType;
      51: invokeinterface #105,  2          // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.compressionType:(Lorg/apache/pulsar/client/api/CompressionType;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      56: new           #147                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$4EncKeyReader
      59: dup
      60: aload_0
      61: aload_3
      62: invokespecial #148                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$4EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;Ljava/util/Map;)V
      65: invokeinterface #71,  2           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.cryptoKeyReader:(Lorg/apache/pulsar/client/api/CryptoKeyReader;)Lorg/apache/pulsar/client/api/ProducerBuilder;
      70: invokeinterface #72,  1           // InterfaceMethod org/apache/pulsar/client/api/ProducerBuilder.create:()Lorg/apache/pulsar/client/api/Producer;
      75: astore        4
      77: aload_0
      78: getfield      #15                 // Field pulsarClient:Lorg/apache/pulsar/client/api/PulsarClient;
      81: invokeinterface #57,  1           // InterfaceMethod org/apache/pulsar/client/api/PulsarClient.newConsumer:()Lorg/apache/pulsar/client/api/ConsumerBuilder;
      86: ldc           #146                // String persistent://my-property/my-ns/myrsa-topic3
      88: invokeinterface #110,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.topicsPattern:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
      93: ldc           #60                 // String my-subscriber-name
      95: invokeinterface #61,  2           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscriptionName:(Ljava/lang/String;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     100: getstatic     #135                // Field org/apache/pulsar/client/api/ConsumerCryptoFailureAction.CONSUME:Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;
     103: invokeinterface #136,  2          // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.cryptoFailureAction:(Lorg/apache/pulsar/client/api/ConsumerCryptoFailureAction;)Lorg/apache/pulsar/client/api/ConsumerBuilder;
     108: invokeinterface #65,  1           // InterfaceMethod org/apache/pulsar/client/api/ConsumerBuilder.subscribe:()Lorg/apache/pulsar/client/api/Consumer;
     113: astore        5
     115: ldc           #116                // String my-message
     117: astore        6
     119: aload         4
     121: aload         6
     123: invokevirtual #75                 // Method java/lang/String.getBytes:()[B
     126: invokeinterface #76,  2           // InterfaceMethod org/apache/pulsar/client/api/Producer.send:(Ljava/lang/Object;)Lorg/apache/pulsar/client/api/MessageId;
     131: pop
     132: aload         5
     134: iconst_5
     135: getstatic     #47                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     138: invokeinterface #78,  3           // InterfaceMethod org/apache/pulsar/client/api/Consumer.receive:(ILjava/util/concurrent/TimeUnit;)Lorg/apache/pulsar/client/api/Message;
     143: checkcast     #149                // class org/apache/pulsar/client/impl/TopicMessageImpl
     146: astore        7
     148: aload_0
     149: aload         7
     151: ldc           #69                 // String client-rsa.pem
     153: new           #147                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$4EncKeyReader
     156: dup
     157: aload_0
     158: aload_3
     159: invokespecial #148                // Method org/apache/pulsar/tests/integration/SimpleProducerConsumerTest$4EncKeyReader."<init>":(Lorg/apache/pulsar/tests/integration/SimpleProducerConsumerTest;Ljava/util/Map;)V
     162: invokespecial #150                // Method decryptMessage:(Lorg/apache/pulsar/client/impl/TopicMessageImpl;Ljava/lang/String;Lorg/apache/pulsar/client/api/CryptoKeyReader;)Ljava/lang/String;
     165: astore        8
     167: aload         6
     169: aload         8
     171: invokestatic  #151                // Method org/testng/Assert.assertEquals:(Ljava/lang/String;Ljava/lang/String;)V
     174: aload         5
     176: invokeinterface #90,  1           // InterfaceMethod org/apache/pulsar/client/api/Consumer.close:()V
     181: return

  private java.lang.String decryptMessage(org.apache.pulsar.client.impl.TopicMessageImpl<byte[]>, java.lang.String, org.apache.pulsar.client.api.CryptoKeyReader) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #152                // Method org/apache/pulsar/client/impl/TopicMessageImpl.getEncryptionCtx:()Ljava/util/Optional;
       4: astore        4
       6: aload         4
       8: invokevirtual #153                // Method java/util/Optional.isPresent:()Z
      11: invokestatic  #121                // Method org/testng/Assert.assertTrue:(Z)V
      14: aload         4
      16: invokedynamic #154,  0            // InvokeDynamic #2:get:()Ljava/util/function/Supplier;
      21: invokevirtual #83                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      24: checkcast     #155                // class org/apache/pulsar/common/api/EncryptionContext
      27: astore        5
      29: aload         5
      31: invokevirtual #156                // Method org/apache/pulsar/common/api/EncryptionContext.getKeys:()Ljava/util/Map;
      34: astore        6
      36: aload         6
      38: invokeinterface #157,  1          // InterfaceMethod java/util/Map.size:()I
      43: iconst_1
      44: invokestatic  #158                // Method org/testng/Assert.assertEquals:(II)V
      47: aload         6
      49: aload_2
      50: invokeinterface #159,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      55: checkcast     #160                // class org/apache/pulsar/common/api/EncryptionContext$EncryptionKey
      58: astore        7
      60: aload         7
      62: invokevirtual #161                // Method org/apache/pulsar/common/api/EncryptionContext$EncryptionKey.getKeyValue:()[B
      65: astore        8
      67: aload         7
      69: invokevirtual #162                // Method org/apache/pulsar/common/api/EncryptionContext$EncryptionKey.getMetadata:()Ljava/util/Map;
      72: astore        9
      74: aload         9
      76: ldc           #101                // String version
      78: invokeinterface #159,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      83: checkcast     #27                 // class java/lang/String
      86: astore        10
      88: aload         10
      90: ldc           #98                 // String 1.0
      92: invokestatic  #151                // Method org/testng/Assert.assertEquals:(Ljava/lang/String;Ljava/lang/String;)V
      95: aload         5
      97: invokevirtual #163                // Method org/apache/pulsar/common/api/EncryptionContext.getCompressionType:()Lorg/apache/pulsar/client/api/CompressionType;
     100: astore        11
     102: aload         5
     104: invokevirtual #164                // Method org/apache/pulsar/common/api/EncryptionContext.getUncompressedMessageSize:()I
     107: istore        12
     109: aload         5
     111: invokevirtual #165                // Method org/apache/pulsar/common/api/EncryptionContext.getParam:()[B
     114: astore        13
     116: aload         5
     118: invokevirtual #166                // Method org/apache/pulsar/common/api/EncryptionContext.getAlgorithm:()Ljava/lang/String;
     121: astore        14
     123: aload         5
     125: invokevirtual #167                // Method org/apache/pulsar/common/api/EncryptionContext.getBatchSize:()Ljava/util/Optional;
     128: iconst_0
     129: invokestatic  #168                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     132: invokevirtual #169                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
     135: checkcast     #170                // class java/lang/Integer
     138: invokevirtual #171                // Method java/lang/Integer.intValue:()I
     141: istore        15
     143: aload_1
     144: invokevirtual #172                // Method org/apache/pulsar/client/impl/TopicMessageImpl.getData:()[B
     147: invokestatic  #173                // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     150: astore        16
     152: new           #174                // class org/apache/pulsar/client/impl/crypto/MessageCryptoBc
     155: dup
     156: ldc           #175                // String test
     158: iconst_0
     159: invokespecial #176                // Method org/apache/pulsar/client/impl/crypto/MessageCryptoBc."<init>":(Ljava/lang/String;Z)V
     162: astore        17
     164: new           #177                // class org/apache/pulsar/common/api/proto/MessageMetadata
     167: dup
     168: invokespecial #178                // Method org/apache/pulsar/common/api/proto/MessageMetadata."<init>":()V
     171: aload         13
     173: invokevirtual #179                // Method org/apache/pulsar/common/api/proto/MessageMetadata.setEncryptionParam:([B)Lorg/apache/pulsar/common/api/proto/MessageMetadata;
     176: ldc           #175                // String test
     178: invokevirtual #180                // Method org/apache/pulsar/common/api/proto/MessageMetadata.setProducerName:(Ljava/lang/String;)Lorg/apache/pulsar/common/api/proto/MessageMetadata;
     181: ldc2_w        #181                // long 123l
     184: invokevirtual #183                // Method org/apache/pulsar/common/api/proto/MessageMetadata.setSequenceId:(J)Lorg/apache/pulsar/common/api/proto/MessageMetadata;
     187: ldc2_w        #184                // long 12333453454l
     190: invokevirtual #186                // Method org/apache/pulsar/common/api/proto/MessageMetadata.setPublishTime:(J)Lorg/apache/pulsar/common/api/proto/MessageMetadata;
     193: aload         11
     195: invokestatic  #187                // Method org/apache/pulsar/common/compression/CompressionCodecProvider.convertToWireProtocol:(Lorg/apache/pulsar/client/api/CompressionType;)Lorg/apache/pulsar/common/api/proto/CompressionType;
     198: invokevirtual #188                // Method org/apache/pulsar/common/api/proto/MessageMetadata.setCompression:(Lorg/apache/pulsar/common/api/proto/CompressionType;)Lorg/apache/pulsar/common/api/proto/MessageMetadata;
     201: iload         12
     203: invokevirtual #189                // Method org/apache/pulsar/common/api/proto/MessageMetadata.setUncompressedSize:(I)Lorg/apache/pulsar/common/api/proto/MessageMetadata;
     206: astore        18
     208: aload         14
     210: ifnull        221
     213: aload         18
     215: aload         14
     217: invokevirtual #190                // Method org/apache/pulsar/common/api/proto/MessageMetadata.setEncryptionAlgo:(Ljava/lang/String;)Lorg/apache/pulsar/common/api/proto/MessageMetadata;
     220: pop
     221: aload         18
     223: invokevirtual #191                // Method org/apache/pulsar/common/api/proto/MessageMetadata.addEncryptionKey:()Lorg/apache/pulsar/common/api/proto/EncryptionKeys;
     226: aload_2
     227: invokevirtual #192                // Method org/apache/pulsar/common/api/proto/EncryptionKeys.setKey:(Ljava/lang/String;)Lorg/apache/pulsar/common/api/proto/EncryptionKeys;
     230: aload         8
     232: invokevirtual #193                // Method org/apache/pulsar/common/api/proto/EncryptionKeys.setValue:([B)Lorg/apache/pulsar/common/api/proto/EncryptionKeys;
     235: pop
     236: aload         17
     238: aload         16
     240: invokevirtual #194                // Method java/nio/ByteBuffer.remaining:()I
     243: invokeinterface #195,  2          // InterfaceMethod org/apache/pulsar/client/api/MessageCrypto.getMaxOutputSize:(I)I
     248: invokestatic  #196                // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
     251: astore        19
     253: aload         17
     255: aload         18
     257: invokedynamic #197,  0            // InvokeDynamic #3:get:(Lorg/apache/pulsar/common/api/proto/MessageMetadata;)Ljava/util/function/Supplier;
     262: aload         16
     264: aload         19
     266: aload_3
     267: invokeinterface #198,  5          // InterfaceMethod org/apache/pulsar/client/api/MessageCrypto.decrypt:(Ljava/util/function/Supplier;Ljava/nio/ByteBuffer;Ljava/nio/ByteBuffer;Lorg/apache/pulsar/client/api/CryptoKeyReader;)Z
     272: pop
     273: aload         11
     275: invokestatic  #199                // Method org/apache/pulsar/common/compression/CompressionCodecProvider.getCompressionCodec:(Lorg/apache/pulsar/client/api/CompressionType;)Lorg/apache/pulsar/common/compression/CompressionCodec;
     278: astore        20
     280: aload         20
     282: aload         19
     284: invokestatic  #200                // Method org/apache/pulsar/shade/io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lorg/apache/pulsar/shade/io/netty/buffer/ByteBuf;
     287: iload         12
     289: invokeinterface #201,  3          // InterfaceMethod org/apache/pulsar/common/compression/CompressionCodec.decode:(Lorg/apache/pulsar/shade/io/netty/buffer/ByteBuf;I)Lorg/apache/pulsar/shade/io/netty/buffer/ByteBuf;
     294: astore        21
     296: iload         15
     298: ifle          322
     301: new           #202                // class org/apache/pulsar/common/api/proto/SingleMessageMetadata
     304: dup
     305: invokespecial #203                // Method org/apache/pulsar/common/api/proto/SingleMessageMetadata."<init>":()V
     308: astore        22
     310: aload         21
     312: aload         22
     314: iconst_0
     315: iload         15
     317: invokestatic  #204                // Method org/apache/pulsar/common/protocol/Commands.deSerializeSingleMessageInBatch:(Lorg/apache/pulsar/shade/io/netty/buffer/ByteBuf;Lorg/apache/pulsar/common/api/proto/SingleMessageMetadata;II)Lorg/apache/pulsar/shade/io/netty/buffer/ByteBuf;
     320: astore        21
     322: aload         21
     324: invokevirtual #205                // Method org/apache/pulsar/shade/io/netty/buffer/ByteBuf.readableBytes:()I
     327: newarray       byte
     329: astore        22
     331: aload         21
     333: aload         22
     335: invokevirtual #206                // Method org/apache/pulsar/shade/io/netty/buffer/ByteBuf.readBytes:([B)Lorg/apache/pulsar/shade/io/netty/buffer/ByteBuf;
     338: pop
     339: aload         21
     341: invokevirtual #207                // Method org/apache/pulsar/shade/io/netty/buffer/ByteBuf.release:()Z
     344: pop
     345: new           #27                 // class java/lang/String
     348: dup
     349: aload         22
     351: invokespecial #85                 // Method java/lang/String."<init>":([B)V
     354: areturn

  private static java.lang.Object lambda$decryptMessage$3(org.apache.pulsar.common.api.proto.MessageMetadata);
    Code:
       0: aload_0
       1: areturn

  private static java.lang.IllegalStateException lambda$decryptMessage$2();
    Code:
       0: new           #208                // class java/lang/IllegalStateException
       3: dup
       4: ldc           #209                // String encryption-ctx not present for encrypted message
       6: invokespecial #210                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
       9: areturn

  private static java.lang.IllegalStateException lambda$testEncryptionFailure$1();
    Code:
       0: new           #208                // class java/lang/IllegalStateException
       3: dup
       4: ldc           #209                // String encryption-ctx not present for encrypted message
       6: invokespecial #210                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
       9: areturn

  private static java.lang.IllegalStateException lambda$testRSAEncryption$0();
    Code:
       0: new           #208                // class java/lang/IllegalStateException
       3: dup
       4: ldc           #209                // String encryption-ctx not present for encrypted message
       6: invokespecial #210                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
       9: areturn

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #1                  // Field log:Lorg/slf4j/Logger;
       3: areturn

  static {};
    Code:
       0: ldc           #211                // class org/apache/pulsar/tests/integration/SimpleProducerConsumerTest
       2: invokestatic  #212                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #1                  // Field log:Lorg/slf4j/Logger;
       8: return
}
