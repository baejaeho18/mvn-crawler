Compiled from "UpdateHandler.java"
public class net.contextfw.web.application.internal.service.UpdateHandler {
  private org.slf4j.Logger logger;

  private final net.contextfw.web.application.internal.service.WebApplicationContextHandler handler;

  private final net.contextfw.web.application.conf.WebConfiguration configuration;

  private final net.contextfw.web.application.internal.LifecycleListeners listeners;

  public net.contextfw.web.application.internal.service.UpdateHandler(net.contextfw.web.application.internal.service.WebApplicationContextHandler, net.contextfw.web.application.conf.WebConfiguration, net.contextfw.web.application.internal.LifecycleListeners);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc_w         #2                  // class net/contextfw/web/application/internal/service/UpdateHandler
       8: invokestatic  #3                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      11: putfield      #4                  // Field logger:Lorg/slf4j/Logger;
      14: aload_0
      15: aload_1
      16: putfield      #5                  // Field handler:Lnet/contextfw/web/application/internal/service/WebApplicationContextHandler;
      19: aload_0
      20: aload_2
      21: putfield      #6                  // Field configuration:Lnet/contextfw/web/application/conf/WebConfiguration;
      24: aload_0
      25: aload_3
      26: putfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
      29: return

  public final void handleRequest(javax.servlet.http.HttpServlet, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException, java.io.IOException;
    Code:
       0: aload_3
       1: ldc           #8                  // String Expires
       3: ldc           #9                  // String Sun, 19 Nov 1978 05:00:00 GMT
       5: invokeinterface #10,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.addHeader:(Ljava/lang/String;Ljava/lang/String;)V
      10: aload_3
      11: ldc           #11                 // String Last-Modified
      13: new           #12                 // class java/util/Date
      16: dup
      17: invokespecial #13                 // Method java/util/Date."<init>":()V
      20: invokevirtual #14                 // Method java/util/Date.toString:()Ljava/lang/String;
      23: invokeinterface #10,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.addHeader:(Ljava/lang/String;Ljava/lang/String;)V
      28: aload_3
      29: ldc           #15                 // String Cache-Control
      31: ldc           #16                 // String no-store, no-cache, must-revalidate
      33: invokeinterface #10,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.addHeader:(Ljava/lang/String;Ljava/lang/String;)V
      38: aload_3
      39: ldc           #17                 // String Pragma
      41: ldc           #18                 // String no-cache
      43: invokeinterface #10,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.addHeader:(Ljava/lang/String;Ljava/lang/String;)V
      48: aload_3
      49: ldc           #19                 // String Connection
      51: ldc           #20                 // String Keep-Alive
      53: invokeinterface #21,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
      58: aload_2
      59: invokeinterface #22,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRequestURI:()Ljava/lang/String;
      64: ldc           #23                 // String /
      66: invokevirtual #24                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      69: astore        4
      71: aload         4
      73: arraylength
      74: iconst_2
      75: if_icmple     450
      78: aload         4
      80: aload         4
      82: arraylength
      83: iconst_2
      84: isub
      85: aaload
      86: astore        5
      88: aload         4
      90: aload         4
      92: arraylength
      93: iconst_1
      94: isub
      95: aaload
      96: astore        6
      98: aload_0
      99: getfield      #5                  // Field handler:Lnet/contextfw/web/application/internal/service/WebApplicationContextHandler;
     102: aload         6
     104: invokevirtual #25                 // Method net/contextfw/web/application/internal/service/WebApplicationContextHandler.getContext:(Ljava/lang/String;)Lnet/contextfw/web/application/internal/service/WebApplicationContext;
     107: astore        7
     109: aload         7
     111: ifnonnull     136
     114: aload_0
     115: getfield      #6                  // Field configuration:Lnet/contextfw/web/application/conf/WebConfiguration;
     118: invokevirtual #26                 // Method net/contextfw/web/application/conf/WebConfiguration.getErrorTime:()J
     121: invokestatic  #27                 // Method java/lang/Thread.sleep:(J)V
     124: aload_3
     125: sipush        404
     128: invokeinterface #28,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
     133: goto          447
     136: aload         7
     138: dup
     139: astore        8
     141: monitorenter
     142: ldc           #29                 // String contextfw-remove
     144: aload         5
     146: invokevirtual #30                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     149: ifeq          185
     152: aload_0
     153: getfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
     156: aload         6
     158: invokevirtual #31                 // Method net/contextfw/web/application/internal/LifecycleListeners.onRemove:(Ljava/lang/String;)V
     161: aload_0
     162: getfield      #5                  // Field handler:Lnet/contextfw/web/application/internal/service/WebApplicationContextHandler;
     165: aload         7
     167: invokevirtual #32                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHandle:()Lnet/contextfw/web/application/WebApplicationHandle;
     170: invokevirtual #33                 // Method net/contextfw/web/application/internal/service/WebApplicationContextHandler.removeApplication:(Lnet/contextfw/web/application/WebApplicationHandle;)V
     173: aload_3
     174: sipush        204
     177: invokeinterface #34,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
     182: goto          433
     185: aload_0
     186: getfield      #5                  // Field handler:Lnet/contextfw/web/application/internal/service/WebApplicationContextHandler;
     189: aload         7
     191: invokevirtual #32                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHandle:()Lnet/contextfw/web/application/WebApplicationHandle;
     194: invokevirtual #35                 // Method net/contextfw/web/application/internal/service/WebApplicationContextHandler.refreshApplication:(Lnet/contextfw/web/application/WebApplicationHandle;)V
     197: aload         7
     199: invokevirtual #36                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getBeans:()Lnet/contextfw/web/application/internal/scope/WebApplicationScopedBeans;
     202: invokevirtual #37                 // Method net/contextfw/web/application/internal/scope/WebApplicationScopedBeans.setAsCurrentInstance:()V
     205: aload         7
     207: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     210: aload_1
     211: invokevirtual #39                 // Method net/contextfw/web/application/HttpContext.setServlet:(Ljavax/servlet/http/HttpServlet;)V
     214: aload         7
     216: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     219: aload_2
     220: invokevirtual #40                 // Method net/contextfw/web/application/HttpContext.setRequest:(Ljavax/servlet/http/HttpServletRequest;)V
     223: aload         7
     225: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     228: aload_3
     229: invokevirtual #41                 // Method net/contextfw/web/application/HttpContext.setResponse:(Ljavax/servlet/http/HttpServletResponse;)V
     232: ldc           #42                 // String contextfw-update
     234: aload         5
     236: invokevirtual #30                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     239: ifeq          302
     242: aload_3
     243: ldc           #43                 // String text/xml; charset=UTF-8
     245: invokeinterface #44,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setContentType:(Ljava/lang/String;)V
     250: aload         7
     252: invokevirtual #45                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getApplication:()Lnet/contextfw/web/application/internal/service/WebApplication;
     255: aload_0
     256: getfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
     259: invokevirtual #46                 // Method net/contextfw/web/application/internal/LifecycleListeners.beforeUpdate:()Z
     262: invokeinterface #47,  2           // InterfaceMethod net/contextfw/web/application/internal/service/WebApplication.updateState:(Z)V
     267: aload_0
     268: getfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
     271: invokevirtual #48                 // Method net/contextfw/web/application/internal/LifecycleListeners.afterUpdate:()V
     274: aload_0
     275: getfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
     278: invokevirtual #49                 // Method net/contextfw/web/application/internal/LifecycleListeners.beforeRender:()V
     281: aload         7
     283: invokevirtual #45                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getApplication:()Lnet/contextfw/web/application/internal/service/WebApplication;
     286: invokeinterface #50,  1           // InterfaceMethod net/contextfw/web/application/internal/service/WebApplication.sendResponse:()Z
     291: pop
     292: aload_0
     293: getfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
     296: invokevirtual #51                 // Method net/contextfw/web/application/internal/LifecycleListeners.afterRender:()V
     299: goto          330
     302: ldc           #52                 // String contextfw-refresh
     304: aload         5
     306: invokevirtual #30                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     309: ifeq          330
     312: aload_0
     313: getfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
     316: aload         6
     318: invokevirtual #53                 // Method net/contextfw/web/application/internal/LifecycleListeners.onRefresh:(Ljava/lang/String;)V
     321: aload_3
     322: sipush        204
     325: invokeinterface #34,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
     330: aload         7
     332: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     335: aconst_null
     336: invokevirtual #39                 // Method net/contextfw/web/application/HttpContext.setServlet:(Ljavax/servlet/http/HttpServlet;)V
     339: aload         7
     341: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     344: aconst_null
     345: invokevirtual #40                 // Method net/contextfw/web/application/HttpContext.setRequest:(Ljavax/servlet/http/HttpServletRequest;)V
     348: aload         7
     350: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     353: aconst_null
     354: invokevirtual #41                 // Method net/contextfw/web/application/HttpContext.setResponse:(Ljavax/servlet/http/HttpServletResponse;)V
     357: goto          433
     360: astore        9
     362: aload_0
     363: getfield      #7                  // Field listeners:Lnet/contextfw/web/application/internal/LifecycleListeners;
     366: aload         9
     368: invokevirtual #55                 // Method net/contextfw/web/application/internal/LifecycleListeners.onException:(Ljava/lang/Exception;)V
     371: aload         7
     373: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     376: aconst_null
     377: invokevirtual #39                 // Method net/contextfw/web/application/HttpContext.setServlet:(Ljavax/servlet/http/HttpServlet;)V
     380: aload         7
     382: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     385: aconst_null
     386: invokevirtual #40                 // Method net/contextfw/web/application/HttpContext.setRequest:(Ljavax/servlet/http/HttpServletRequest;)V
     389: aload         7
     391: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     394: aconst_null
     395: invokevirtual #41                 // Method net/contextfw/web/application/HttpContext.setResponse:(Ljavax/servlet/http/HttpServletResponse;)V
     398: goto          433
     401: astore        10
     403: aload         7
     405: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     408: aconst_null
     409: invokevirtual #39                 // Method net/contextfw/web/application/HttpContext.setServlet:(Ljavax/servlet/http/HttpServlet;)V
     412: aload         7
     414: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     417: aconst_null
     418: invokevirtual #40                 // Method net/contextfw/web/application/HttpContext.setRequest:(Ljavax/servlet/http/HttpServletRequest;)V
     421: aload         7
     423: invokevirtual #38                 // Method net/contextfw/web/application/internal/service/WebApplicationContext.getHttpContext:()Lnet/contextfw/web/application/HttpContext;
     426: aconst_null
     427: invokevirtual #41                 // Method net/contextfw/web/application/HttpContext.setResponse:(Ljavax/servlet/http/HttpServletResponse;)V
     430: aload         10
     432: athrow
     433: aload         8
     435: monitorexit
     436: goto          447
     439: astore        11
     441: aload         8
     443: monitorexit
     444: aload         11
     446: athrow
     447: goto          459
     450: aload_3
     451: sipush        400
     454: invokeinterface #28,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
     459: goto          477
     462: astore        4
     464: aload_0
     465: getfield      #4                  // Field logger:Lorg/slf4j/Logger;
     468: ldc           #56                 // String Exception
     470: aload         4
     472: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     477: aload_3
     478: invokeinterface #58,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getWriter:()Ljava/io/PrintWriter;
     483: invokevirtual #59                 // Method java/io/PrintWriter.close:()V
     486: return
    Exception table:
       from    to  target type
         232   330   360   Class java/lang/Exception
         232   330   401   any
         360   371   401   any
         401   403   401   any
         142   436   439   any
         439   444   439   any
           0   459   462   Class java/lang/Exception
}
