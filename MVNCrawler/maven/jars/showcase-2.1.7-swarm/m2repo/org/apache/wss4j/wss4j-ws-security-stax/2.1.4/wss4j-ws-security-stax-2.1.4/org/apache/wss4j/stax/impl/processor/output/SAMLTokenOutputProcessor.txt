Compiled from "SAMLTokenOutputProcessor.java"
public class org.apache.wss4j.stax.impl.processor.output.SAMLTokenOutputProcessor extends org.apache.xml.security.stax.ext.AbstractOutputProcessor {
  private static final org.slf4j.Logger LOG;

  public org.apache.wss4j.stax.impl.processor.output.SAMLTokenOutputProcessor() throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokespecial #3                  // Method org/apache/xml/security/stax/ext/AbstractOutputProcessor."<init>":()V
       4: aload_0
       5: ldc_w         #4                  // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor
       8: invokevirtual #5                  // Method java/lang/Class.getName:()Ljava/lang/String;
      11: invokevirtual #6                  // Method addBeforeProcessor:(Ljava/lang/Object;)V
      14: return

  public void processEvent(org.apache.xml.security.stax.ext.stax.XMLSecEvent, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: new           #7                  // class org/apache/wss4j/common/saml/SAMLCallback
       3: dup
       4: invokespecial #8                  // Method org/apache/wss4j/common/saml/SAMLCallback."<init>":()V
       7: astore_3
       8: aload_0
       9: invokevirtual #9                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      12: checkcast     #10                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      15: invokevirtual #11                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getSamlCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
      18: aload_3
      19: invokestatic  #12                 // Method org/apache/wss4j/common/saml/SAMLUtil.doSAMLCallback:(Ljavax/security/auth/callback/CallbackHandler;Lorg/apache/wss4j/common/saml/SAMLCallback;)V
      22: new           #13                 // class org/apache/wss4j/common/saml/SamlAssertionWrapper
      25: dup
      26: aload_3
      27: invokespecial #14                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper."<init>":(Lorg/apache/wss4j/common/saml/SAMLCallback;)V
      30: astore        4
      32: aload_3
      33: invokevirtual #15                 // Method org/apache/wss4j/common/saml/SAMLCallback.isSignAssertion:()Z
      36: ifeq          72
      39: aload         4
      41: aload_3
      42: invokevirtual #16                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyName:()Ljava/lang/String;
      45: aload_3
      46: invokevirtual #17                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyPassword:()Ljava/lang/String;
      49: aload_3
      50: invokevirtual #18                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
      53: aload_3
      54: invokevirtual #19                 // Method org/apache/wss4j/common/saml/SAMLCallback.isSendKeyValue:()Z
      57: aload_3
      58: invokevirtual #20                 // Method org/apache/wss4j/common/saml/SAMLCallback.getCanonicalizationAlgorithm:()Ljava/lang/String;
      61: aload_3
      62: invokevirtual #21                 // Method org/apache/wss4j/common/saml/SAMLCallback.getSignatureAlgorithm:()Ljava/lang/String;
      65: aload_3
      66: invokevirtual #22                 // Method org/apache/wss4j/common/saml/SAMLCallback.getSignatureDigestAlgorithm:()Ljava/lang/String;
      69: invokevirtual #23                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.signAssertion:(Ljava/lang/String;Ljava/lang/String;Lorg/apache/wss4j/common/crypto/Crypto;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      72: iconst_0
      73: istore        5
      75: iconst_0
      76: istore        6
      78: aload         4
      80: invokevirtual #24                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getConfirmationMethods:()Ljava/util/List;
      83: astore        7
      85: aload         7
      87: ifnull        138
      90: aload         7
      92: invokeinterface #25,  1           // InterfaceMethod java/util/List.size:()I
      97: ifle          138
     100: aload         7
     102: iconst_0
     103: invokeinterface #26,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     108: checkcast     #27                 // class java/lang/String
     111: astore        8
     113: aload         8
     115: invokestatic  #28                 // Method org/apache/wss4j/common/saml/OpenSAMLUtil.isMethodSenderVouches:(Ljava/lang/String;)Z
     118: ifeq          127
     121: iconst_1
     122: istore        5
     124: goto          138
     127: aload         8
     129: invokestatic  #29                 // Method org/apache/wss4j/common/saml/OpenSAMLUtil.isMethodHolderOfKey:(Ljava/lang/String;)Z
     132: ifeq          138
     135: iconst_1
     136: istore        6
     138: aconst_null
     139: invokestatic  #30                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     142: astore        8
     144: aload         4
     146: invokevirtual #31                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getId:()Ljava/lang/String;
     149: astore        9
     151: aload_0
     152: invokevirtual #32                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     155: astore        11
     157: iconst_0
     158: istore        12
     160: aconst_null
     161: astore        13
     163: aload_2
     164: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     169: ldc           #34                 // String PROP_USE_THIS_TOKEN_ID_FOR_SIGNATURE
     171: invokeinterface #35,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.get:(Ljava/lang/String;)Ljava/lang/Object;
     176: checkcast     #27                 // class java/lang/String
     179: astore        14
     181: aconst_null
     182: astore        15
     184: aload         14
     186: ifnull        221
     189: aload_2
     190: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     195: aload         14
     197: invokeinterface #36,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.getSecurityTokenProvider:(Ljava/lang/String;)Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;
     202: astore        15
     204: aload         15
     206: ifnull        221
     209: aload         15
     211: invokeinterface #37,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getSecurityToken:()Ljava/lang/Object;
     216: checkcast     #38                 // class org/apache/xml/security/stax/impl/securityToken/GenericOutboundSecurityToken
     219: astore        13
     221: getstatic     #39                 // Field org/apache/wss4j/stax/ext/WSSConstants.SAML_TOKEN_SIGNED:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     224: aload         11
     226: invokevirtual #40                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
     229: ifeq          475
     232: iload         5
     234: ifeq          475
     237: iconst_1
     238: istore        12
     240: aload         13
     242: ifnonnull     445
     245: new           #41                 // class org/apache/wss4j/common/crypto/CryptoType
     248: dup
     249: getstatic     #42                 // Field org/apache/wss4j/common/crypto/CryptoType$TYPE.ALIAS:Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;
     252: invokespecial #43                 // Method org/apache/wss4j/common/crypto/CryptoType."<init>":(Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;)V
     255: astore        16
     257: aload         16
     259: aload_3
     260: invokevirtual #16                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyName:()Ljava/lang/String;
     263: invokevirtual #44                 // Method org/apache/wss4j/common/crypto/CryptoType.setAlias:(Ljava/lang/String;)V
     266: aconst_null
     267: astore        17
     269: aload_3
     270: invokevirtual #18                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     273: ifnull        289
     276: aload_3
     277: invokevirtual #18                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     280: aload         16
     282: invokeinterface #45,  2           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.getX509Certificates:(Lorg/apache/wss4j/common/crypto/CryptoType;)[Ljava/security/cert/X509Certificate;
     287: astore        17
     289: aload         17
     291: ifnonnull     336
     294: new           #46                 // class org/apache/wss4j/common/ext/WSSecurityException
     297: dup
     298: getstatic     #47                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     301: ldc           #48                 // String empty
     303: iconst_1
     304: anewarray     #49                 // class java/lang/Object
     307: dup
     308: iconst_0
     309: new           #50                 // class java/lang/StringBuilder
     312: dup
     313: invokespecial #51                 // Method java/lang/StringBuilder."<init>":()V
     316: ldc           #52                 // String No issuer certs were found to sign the SAML Assertion using issuer name:
     318: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     321: aload_3
     322: invokevirtual #16                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyName:()Ljava/lang/String;
     325: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     328: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     331: aastore
     332: invokespecial #55                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
     335: athrow
     336: aload_3
     337: invokevirtual #18                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     340: aload_3
     341: invokevirtual #16                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyName:()Ljava/lang/String;
     344: aload_3
     345: invokevirtual #17                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyPassword:()Ljava/lang/String;
     348: invokeinterface #56,  3           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.getPrivateKey:(Ljava/lang/String;Ljava/lang/String;)Ljava/security/PrivateKey;
     353: astore        18
     355: goto          373
     358: astore        19
     360: new           #46                 // class org/apache/wss4j/common/ext/WSSecurityException
     363: dup
     364: getstatic     #47                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     367: aload         19
     369: invokespecial #58                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     372: athrow
     373: aconst_null
     374: invokestatic  #30                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     377: astore        19
     379: new           #38                 // class org/apache/xml/security/stax/impl/securityToken/GenericOutboundSecurityToken
     382: dup
     383: aload         19
     385: getstatic     #59                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.X509V3Token:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     388: aload         18
     390: aload         17
     392: invokespecial #60                 // Method org/apache/xml/security/stax/impl/securityToken/GenericOutboundSecurityToken."<init>":(Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;Ljava/security/Key;[Ljava/security/cert/X509Certificate;)V
     395: astore        20
     397: new           #61                 // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$1
     400: dup
     401: aload_0
     402: aload         20
     404: aload         19
     406: invokespecial #62                 // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$1."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor;Lorg/apache/xml/security/stax/impl/securityToken/GenericOutboundSecurityToken;Ljava/lang/String;)V
     409: astore        21
     411: aload_2
     412: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     417: aload         19
     419: aload         21
     421: invokeinterface #63,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.registerSecurityTokenProvider:(Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;)V
     426: aload_2
     427: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     432: ldc           #34                 // String PROP_USE_THIS_TOKEN_ID_FOR_SIGNATURE
     434: aload         19
     436: invokeinterface #64,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.put:(Ljava/lang/String;Ljava/lang/Object;)V
     441: aload         20
     443: astore        13
     445: new           #65                 // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor
     448: dup
     449: aload_0
     450: aload         13
     452: aload         4
     454: aload         8
     456: iload         5
     458: iload         12
     460: invokespecial #66                 // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor;Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;Ljava/lang/String;ZZ)V
     463: astore        10
     465: aload         13
     467: aload         10
     469: invokevirtual #67                 // Method org/apache/xml/security/stax/impl/securityToken/GenericOutboundSecurityToken.setProcessor:(Ljava/lang/Object;)V
     472: goto          1038
     475: getstatic     #39                 // Field org/apache/wss4j/stax/ext/WSSConstants.SAML_TOKEN_SIGNED:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     478: aload         11
     480: invokevirtual #40                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
     483: ifeq          850
     486: iload         6
     488: ifeq          850
     491: new           #68                 // class org/apache/wss4j/common/saml/SAMLKeyInfo
     494: dup
     495: invokespecial #69                 // Method org/apache/wss4j/common/saml/SAMLKeyInfo."<init>":()V
     498: astore        16
     500: aload_3
     501: invokevirtual #70                 // Method org/apache/wss4j/common/saml/SAMLCallback.getSubject:()Lorg/apache/wss4j/common/saml/bean/SubjectBean;
     504: astore        17
     506: aload         17
     508: ifnull        733
     511: aload         17
     513: invokevirtual #71                 // Method org/apache/wss4j/common/saml/bean/SubjectBean.getKeyInfo:()Lorg/apache/wss4j/common/saml/bean/KeyInfoBean;
     516: astore        18
     518: aload         18
     520: ifnull        733
     523: aload         18
     525: invokevirtual #72                 // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.getCertificate:()Ljava/security/cert/X509Certificate;
     528: astore        19
     530: aload         19
     532: ifnull        670
     535: aload_0
     536: invokevirtual #9                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     539: checkcast     #10                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     542: invokevirtual #73                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getSignatureCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     545: aload         19
     547: invokeinterface #74,  2           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.getX509Identifier:(Ljava/security/cert/X509Certificate;)Ljava/lang/String;
     552: astore        20
     554: aload         20
     556: ifnonnull     572
     559: new           #46                 // class org/apache/wss4j/common/ext/WSSecurityException
     562: dup
     563: getstatic     #47                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     566: ldc           #75                 // String aliasIsNull
     568: invokespecial #76                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
     571: athrow
     572: new           #77                 // class org/apache/wss4j/common/ext/WSPasswordCallback
     575: dup
     576: aload         20
     578: iconst_3
     579: invokespecial #78                 // Method org/apache/wss4j/common/ext/WSPasswordCallback."<init>":(Ljava/lang/String;I)V
     582: astore        21
     584: aload_0
     585: invokevirtual #9                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     588: checkcast     #10                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     591: invokevirtual #79                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
     594: aload         21
     596: invokestatic  #80                 // Method org/apache/wss4j/stax/utils/WSSUtils.doPasswordCallback:(Ljavax/security/auth/callback/CallbackHandler;Ljavax/security/auth/callback/Callback;)V
     599: new           #41                 // class org/apache/wss4j/common/crypto/CryptoType
     602: dup
     603: getstatic     #42                 // Field org/apache/wss4j/common/crypto/CryptoType$TYPE.ALIAS:Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;
     606: invokespecial #43                 // Method org/apache/wss4j/common/crypto/CryptoType."<init>":(Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;)V
     609: astore        22
     611: aload         22
     613: aload         20
     615: invokevirtual #44                 // Method org/apache/wss4j/common/crypto/CryptoType.setAlias:(Ljava/lang/String;)V
     618: aload         16
     620: aload_0
     621: invokevirtual #9                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     624: checkcast     #10                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     627: invokevirtual #73                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getSignatureCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     630: aload         22
     632: invokeinterface #45,  2           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.getX509Certificates:(Lorg/apache/wss4j/common/crypto/CryptoType;)[Ljava/security/cert/X509Certificate;
     637: invokevirtual #81                 // Method org/apache/wss4j/common/saml/SAMLKeyInfo.setCerts:([Ljava/security/cert/X509Certificate;)V
     640: aload         16
     642: aload_0
     643: invokevirtual #9                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     646: checkcast     #10                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     649: invokevirtual #73                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getSignatureCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     652: aload         20
     654: aload         21
     656: invokevirtual #82                 // Method org/apache/wss4j/common/ext/WSPasswordCallback.getPassword:()Ljava/lang/String;
     659: invokeinterface #56,  3           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.getPrivateKey:(Ljava/lang/String;Ljava/lang/String;)Ljava/security/PrivateKey;
     664: invokevirtual #83                 // Method org/apache/wss4j/common/saml/SAMLKeyInfo.setPrivateKey:(Ljava/security/PrivateKey;)V
     667: goto          733
     670: aload         18
     672: invokevirtual #84                 // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.getPublicKey:()Ljava/security/PublicKey;
     675: ifnull        723
     678: aload         18
     680: invokevirtual #84                 // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.getPublicKey:()Ljava/security/PublicKey;
     683: astore        20
     685: aload         16
     687: aload         20
     689: invokevirtual #85                 // Method org/apache/wss4j/common/saml/SAMLKeyInfo.setPublicKey:(Ljava/security/PublicKey;)V
     692: aload         16
     694: aload_0
     695: invokevirtual #9                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     698: checkcast     #10                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     701: invokevirtual #73                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getSignatureCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     704: aload_3
     705: invokevirtual #16                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyName:()Ljava/lang/String;
     708: aload_3
     709: invokevirtual #17                 // Method org/apache/wss4j/common/saml/SAMLCallback.getIssuerKeyPassword:()Ljava/lang/String;
     712: invokeinterface #56,  3           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.getPrivateKey:(Ljava/lang/String;Ljava/lang/String;)Ljava/security/PrivateKey;
     717: invokevirtual #83                 // Method org/apache/wss4j/common/saml/SAMLKeyInfo.setPrivateKey:(Ljava/security/PrivateKey;)V
     720: goto          733
     723: aload         16
     725: aload         18
     727: invokevirtual #86                 // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.getEphemeralKey:()[B
     730: invokevirtual #87                 // Method org/apache/wss4j/common/saml/SAMLKeyInfo.setSecret:([B)V
     733: aload         13
     735: ifnull        748
     738: aload         13
     740: invokevirtual #88                 // Method org/apache/xml/security/stax/impl/securityToken/GenericOutboundSecurityToken.getCustomTokenReference:()Lorg/w3c/dom/Element;
     743: astore        18
     745: goto          751
     748: aconst_null
     749: astore        18
     751: new           #65                 // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor
     754: dup
     755: aload_0
     756: aconst_null
     757: aload         4
     759: aload         8
     761: iload         5
     763: iload         12
     765: invokespecial #66                 // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor;Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;Ljava/lang/String;ZZ)V
     768: astore        10
     770: new           #89                 // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$2
     773: dup
     774: aload_0
     775: aload_3
     776: aload         16
     778: aload         9
     780: aload         10
     782: aload         18
     784: invokespecial #90                 // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$2."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor;Lorg/apache/wss4j/common/saml/SAMLCallback;Lorg/apache/wss4j/common/saml/SAMLKeyInfo;Ljava/lang/String;Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor;Lorg/w3c/dom/Element;)V
     787: astore        19
     789: new           #91                 // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$3
     792: dup
     793: aload_0
     794: getstatic     #92                 // Field org/apache/wss4j/stax/securityEvent/WSSecurityEventConstants.SamlToken:Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;
     797: aload         19
     799: invokespecial #93                 // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$3."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor;Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;)V
     802: astore        20
     804: aload_2
     805: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     810: aload         20
     812: invokeinterface #94,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.registerSecurityEvent:(Lorg/apache/xml/security/stax/securityEvent/SecurityEvent;)V
     817: aload_2
     818: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     823: aload         9
     825: aload         19
     827: invokeinterface #63,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.registerSecurityTokenProvider:(Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;)V
     832: aload_2
     833: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     838: ldc           #34                 // String PROP_USE_THIS_TOKEN_ID_FOR_SIGNATURE
     840: aload         9
     842: invokeinterface #64,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.put:(Ljava/lang/String;Ljava/lang/Object;)V
     847: goto          1038
     850: getstatic     #95                 // Field org/apache/wss4j/stax/ext/WSSConstants.SAML_TOKEN_UNSIGNED:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     853: aload_0
     854: invokevirtual #32                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     857: invokevirtual #40                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
     860: ifeq          1019
     863: new           #96                 // class javax/xml/namespace/QName
     866: dup
     867: ldc           #97                 // String urn:oasis:names:tc:SAML:2.0:assertion
     869: ldc           #98                 // String Assertion
     871: invokespecial #99                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     874: astore        16
     876: aload         4
     878: invokevirtual #100                // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getSamlVersion:()Lorg/opensaml/saml/common/SAMLVersion;
     881: getstatic     #101                // Field org/opensaml/saml/common/SAMLVersion.VERSION_11:Lorg/opensaml/saml/common/SAMLVersion;
     884: if_acmpne     900
     887: new           #96                 // class javax/xml/namespace/QName
     890: dup
     891: ldc           #102                // String urn:oasis:names:tc:SAML:1.0:assertion
     893: ldc           #98                 // String Assertion
     895: invokespecial #99                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     898: astore        16
     900: aload_0
     901: getfield      #103                // Field securityProperties:Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     904: invokevirtual #104                // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureSecureParts:()Ljava/util/List;
     907: invokeinterface #105,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     912: astore        17
     914: aload         17
     916: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     921: ifeq          981
     924: aload         17
     926: invokeinterface #107,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     931: checkcast     #108                // class org/apache/xml/security/stax/ext/SecurePart
     934: astore        18
     936: aload         4
     938: invokevirtual #31                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getId:()Ljava/lang/String;
     941: aload         18
     943: invokevirtual #109                // Method org/apache/xml/security/stax/ext/SecurePart.getIdToSign:()Ljava/lang/String;
     946: invokevirtual #110                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     949: ifne          965
     952: aload         16
     954: aload         18
     956: invokevirtual #111                // Method org/apache/xml/security/stax/ext/SecurePart.getName:()Ljavax/xml/namespace/QName;
     959: invokevirtual #112                // Method javax/xml/namespace/QName.equals:(Ljava/lang/Object;)Z
     962: ifeq          978
     965: iconst_1
     966: istore        12
     968: aload         17
     970: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.remove:()V
     975: goto          981
     978: goto          914
     981: new           #65                 // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor
     984: dup
     985: aload_0
     986: aconst_null
     987: aload         4
     989: aload         8
     991: iload         5
     993: iload         12
     995: invokespecial #66                 // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor;Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;Ljava/lang/String;ZZ)V
     998: astore        10
    1000: iload         12
    1002: ifeq          1016
    1005: aload         10
    1007: ldc_w         #4                  // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor
    1010: invokevirtual #5                  // Method java/lang/Class.getName:()Ljava/lang/String;
    1013: invokevirtual #114                // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor.addBeforeProcessor:(Ljava/lang/Object;)V
    1016: goto          1038
    1019: new           #65                 // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor
    1022: dup
    1023: aload_0
    1024: aconst_null
    1025: aload         4
    1027: aload         8
    1029: iload         5
    1031: iload         12
    1033: invokespecial #66                 // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor;Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;Ljava/lang/String;ZZ)V
    1036: astore        10
    1038: aload         10
    1040: aload_0
    1041: invokevirtual #9                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
    1044: invokevirtual #115                // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor.setXMLSecurityProperties:(Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;)V
    1047: aload         10
    1049: aload         11
    1051: invokevirtual #116                // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor.setAction:(Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;)V
    1054: aload         10
    1056: aload_2
    1057: invokevirtual #117                // Method org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor$FinalSAMLTokenOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
    1060: iload         12
    1062: ifeq          1107
    1065: new           #108                // class org/apache/xml/security/stax/ext/SecurePart
    1068: dup
    1069: new           #96                 // class javax/xml/namespace/QName
    1072: dup
    1073: ldc           #118                // String http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#STR-Transform
    1075: invokespecial #119                // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;)V
    1078: aload         9
    1080: aload         8
    1082: getstatic     #120                // Field org/apache/xml/security/stax/ext/SecurePart$Modifier.Element:Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
    1085: invokespecial #121                // Method org/apache/xml/security/stax/ext/SecurePart."<init>":(Ljavax/xml/namespace/QName;Ljava/lang/String;Ljava/lang/String;Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;)V
    1088: astore        16
    1090: aload_2
    1091: invokeinterface #33,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
    1096: ldc           #122                // String signatureParts
    1098: aload         9
    1100: aload         16
    1102: invokeinterface #123,  4          // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.putAsMap:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
    1107: aload_2
    1108: aload_0
    1109: invokeinterface #124,  2          // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
    1114: goto          1129
    1117: astore        23
    1119: aload_2
    1120: aload_0
    1121: invokeinterface #124,  2          // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
    1126: aload         23
    1128: athrow
    1129: aload_2
    1130: aload_1
    1131: invokeinterface #125,  2          // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.processEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)V
    1136: return
    Exception table:
       from    to  target type
         336   355   358   Class java/lang/Exception
           0  1107  1117   any
        1117  1119  1117   any

  private void outputSecurityTokenReference(org.apache.xml.security.stax.ext.OutputProcessorChain, org.apache.wss4j.common.saml.SamlAssertionWrapper, java.lang.String, java.lang.String) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: new           #126                // class java/util/ArrayList
       3: dup
       4: iconst_2
       5: invokespecial #127                // Method java/util/ArrayList."<init>":(I)V
       8: astore        5
      10: getstatic     #128                // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.Saml11Token:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
      13: astore        6
      15: aload_2
      16: invokevirtual #100                // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getSamlVersion:()Lorg/opensaml/saml/common/SAMLVersion;
      19: getstatic     #101                // Field org/opensaml/saml/common/SAMLVersion.VERSION_11:Lorg/opensaml/saml/common/SAMLVersion;
      22: if_acmpne     45
      25: aload         5
      27: aload_0
      28: getstatic     #129                // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
      31: ldc           #130                // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1
      33: invokevirtual #131                // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
      36: invokeinterface #132,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      41: pop
      42: goto          67
      45: getstatic     #133                // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.Saml20Token:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
      48: astore        6
      50: aload         5
      52: aload_0
      53: getstatic     #129                // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
      56: ldc           #134                // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0
      58: invokevirtual #131                // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
      61: invokeinterface #132,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      66: pop
      67: aload         5
      69: aload_0
      70: getstatic     #135                // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
      73: aload_3
      74: invokevirtual #131                // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
      77: invokeinterface #132,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      82: pop
      83: aload_0
      84: aload_1
      85: getstatic     #136                // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
      88: iconst_0
      89: aload         5
      91: invokevirtual #137                // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      94: pop
      95: aload_0
      96: aload_1
      97: aload         6
      99: aload         4
     101: invokestatic  #138                // Method org/apache/wss4j/stax/utils/WSSUtils.createSAMLKeyIdentifierStructure:(Lorg/apache/xml/security/stax/ext/AbstractOutputProcessor;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;Ljava/lang/String;)V
     104: aload_0
     105: aload_1
     106: getstatic     #136                // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     109: invokevirtual #139                // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     112: return

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static void access$100(org.apache.wss4j.stax.impl.processor.output.SAMLTokenOutputProcessor, org.apache.xml.security.stax.ext.OutputProcessorChain, org.apache.wss4j.common.saml.SamlAssertionWrapper, java.lang.String, java.lang.String) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: invokespecial #1                  // Method outputSecurityTokenReference:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;Ljava/lang/String;Ljava/lang/String;)V
       9: return

  static {};
    Code:
       0: ldc_w         #140                // class org/apache/wss4j/stax/impl/processor/output/SAMLTokenOutputProcessor
       3: invokestatic  #141                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       9: return
}
