Compiled from "SAMLTokenInputHandler.java"
public class org.apache.wss4j.stax.impl.processor.input.SAMLTokenInputHandler extends org.apache.xml.security.stax.ext.AbstractInputSecurityHeaderHandler {
  private static final javax.xml.parsers.DocumentBuilderFactory documentBuilderFactory;

  private static final java.util.List<javax.xml.namespace.QName> saml1TokenPath;

  private static final java.util.List<javax.xml.namespace.QName> saml2TokenPath;

  public org.apache.wss4j.stax.impl.processor.input.SAMLTokenInputHandler();
    Code:
       0: aload_0
       1: invokespecial #3                  // Method org/apache/xml/security/stax/ext/AbstractInputSecurityHeaderHandler."<init>":()V
       4: return

  public void handle(org.apache.xml.security.stax.ext.InputProcessorChain, org.apache.xml.security.stax.ext.XMLSecurityProperties, java.util.Deque<org.apache.xml.security.stax.ext.stax.XMLSecEvent>, java.lang.Integer) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_3
       2: aload         4
       4: invokevirtual #4                  // Method java/lang/Integer.intValue:()I
       7: aload_2
       8: invokevirtual #5                  // Method parseStructure:(Ljava/util/Deque;ILorg/apache/xml/security/stax/ext/XMLSecurityProperties;)Ljava/lang/Object;
      11: checkcast     #6                  // class org/w3c/dom/Document
      14: astore        5
      16: aload_2
      17: checkcast     #7                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      20: astore        6
      22: aload_1
      23: invokeinterface #8,  1            // InterfaceMethod org/apache/xml/security/stax/ext/InputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/InboundSecurityContext;
      28: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSInboundSecurityContext
      31: astore        7
      33: aload         5
      35: invokeinterface #10,  1           // InterfaceMethod org/w3c/dom/Document.getDocumentElement:()Lorg/w3c/dom/Element;
      40: astore        8
      42: new           #11                 // class org/apache/wss4j/common/saml/SamlAssertionWrapper
      45: dup
      46: aload         8
      48: invokespecial #12                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper."<init>":(Lorg/w3c/dom/Element;)V
      51: astore        9
      53: aload         6
      55: new           #13                 // class javax/xml/namespace/QName
      58: dup
      59: aload         8
      61: invokeinterface #14,  1           // InterfaceMethod org/w3c/dom/Element.getNamespaceURI:()Ljava/lang/String;
      66: aload         8
      68: invokeinterface #15,  1           // InterfaceMethod org/w3c/dom/Element.getLocalName:()Ljava/lang/String;
      73: invokespecial #16                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      76: invokevirtual #17                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getValidator:(Ljavax/xml/namespace/QName;)Lorg/apache/wss4j/stax/validate/Validator;
      79: checkcast     #18                 // class org/apache/wss4j/stax/validate/SamlTokenValidator
      82: astore        10
      84: aload         10
      86: ifnonnull     98
      89: new           #19                 // class org/apache/wss4j/stax/validate/SamlTokenValidatorImpl
      92: dup
      93: invokespecial #20                 // Method org/apache/wss4j/stax/validate/SamlTokenValidatorImpl."<init>":()V
      96: astore        10
      98: aload         9
     100: invokevirtual #21                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.isSigned:()Z
     103: ifeq          326
     106: aload         9
     108: invokevirtual #22                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getSignature:()Lorg/opensaml/xmlsec/signature/Signature;
     111: astore        11
     113: aload         11
     115: ifnonnull     140
     118: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     121: dup
     122: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     125: ldc           #25                 // String empty
     127: iconst_1
     128: anewarray     #26                 // class java/lang/Object
     131: dup
     132: iconst_0
     133: ldc           #27                 // String no signature to validate
     135: aastore
     136: invokespecial #28                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
     139: athrow
     140: aload_0
     141: aload_3
     142: invokespecial #29                 // Method getSignatureKeyInfoIndex:(Ljava/util/Deque;)I
     145: istore        12
     147: iload         12
     149: ifge          165
     152: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     155: dup
     156: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     159: ldc           #30                 // String noKeyInSAMLToken
     161: invokespecial #31                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
     164: athrow
     165: aload_0
     166: aload_1
     167: aload_2
     168: aload_3
     169: iload         12
     171: invokespecial #32                 // Method parseKeyInfo:(Lorg/apache/xml/security/stax/ext/InputProcessorChain;Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;Ljava/util/Deque;I)Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
     174: astore        13
     176: aload         13
     178: ifnonnull     194
     181: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     184: dup
     185: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     188: ldc           #30                 // String noKeyInSAMLToken
     190: invokespecial #31                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
     193: athrow
     194: aload         10
     196: aload         13
     198: aload         6
     200: invokeinterface #33,  3           // InterfaceMethod org/apache/wss4j/stax/validate/SamlTokenValidator.validate:(Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;Lorg/apache/wss4j/stax/ext/WSSSecurityProperties;)V
     205: aconst_null
     206: astore        14
     208: aload         13
     210: invokeinterface #34,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/InboundSecurityToken.getX509Certificates:()[Ljava/security/cert/X509Certificate;
     215: ifnull        239
     218: new           #35                 // class org/opensaml/security/x509/BasicX509Credential
     221: dup
     222: aload         13
     224: invokeinterface #34,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/InboundSecurityToken.getX509Certificates:()[Ljava/security/cert/X509Certificate;
     229: iconst_0
     230: aaload
     231: invokespecial #36                 // Method org/opensaml/security/x509/BasicX509Credential."<init>":(Ljava/security/cert/X509Certificate;)V
     234: astore        14
     236: goto          290
     239: aload         13
     241: invokeinterface #37,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/InboundSecurityToken.getPublicKey:()Ljava/security/PublicKey;
     246: ifnull        268
     249: new           #38                 // class org/opensaml/security/credential/BasicCredential
     252: dup
     253: aload         13
     255: invokeinterface #37,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/InboundSecurityToken.getPublicKey:()Ljava/security/PublicKey;
     260: invokespecial #39                 // Method org/opensaml/security/credential/BasicCredential."<init>":(Ljava/security/PublicKey;)V
     263: astore        14
     265: goto          290
     268: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     271: dup
     272: getstatic     #40                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     275: ldc           #41                 // String invalidSAMLsecurity
     277: iconst_1
     278: anewarray     #26                 // class java/lang/Object
     281: dup
     282: iconst_0
     283: ldc           #42                 // String cannot get certificate or key
     285: aastore
     286: invokespecial #28                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
     289: athrow
     290: aload         11
     292: aload         14
     294: invokestatic  #43                 // Method org/opensaml/xmlsec/signature/support/SignatureValidator.validate:(Lorg/opensaml/xmlsec/signature/Signature;Lorg/opensaml/security/credential/Credential;)V
     297: goto          326
     300: astore        15
     302: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     305: dup
     306: getstatic     #40                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     309: aload         15
     311: ldc           #25                 // String empty
     313: iconst_1
     314: anewarray     #26                 // class java/lang/Object
     317: dup
     318: iconst_0
     319: ldc           #45                 // String SAML signature validation failed
     321: aastore
     322: invokespecial #46                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;Ljava/lang/String;[Ljava/lang/Object;)V
     325: athrow
     326: aload         9
     328: invokevirtual #47                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getConfirmationMethods:()Ljava/util/List;
     331: astore        12
     333: iconst_0
     334: istore        13
     336: aload         12
     338: ifnull        389
     341: aload         12
     343: invokeinterface #48,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     348: astore        14
     350: aload         14
     352: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     357: ifeq          389
     360: aload         14
     362: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     367: checkcast     #51                 // class java/lang/String
     370: astore        15
     372: aload         15
     374: invokestatic  #52                 // Method org/apache/wss4j/common/saml/OpenSAMLUtil.isMethodHolderOfKey:(Ljava/lang/String;)Z
     377: ifeq          386
     380: iconst_1
     381: istore        13
     383: goto          389
     386: goto          350
     389: iload         13
     391: ifeq          502
     394: aload         9
     396: invokevirtual #53                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getId:()Ljava/lang/String;
     399: aload         6
     401: invokevirtual #54                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
     404: invokestatic  #55                 // Method org/apache/wss4j/common/saml/SAMLUtil.getSecretKeyFromCallbackHandler:(Ljava/lang/String;Ljavax/security/auth/callback/CallbackHandler;)[B
     407: astore        14
     409: aload         14
     411: ifnull        445
     414: aload         14
     416: arraylength
     417: ifle          445
     420: new           #56                 // class org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$1
     423: dup
     424: aload_0
     425: aload         7
     427: aconst_null
     428: invokestatic  #57                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     431: getstatic     #58                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.KeyIdentifier_NoKeyInfo:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;
     434: iconst_1
     435: aload         14
     437: invokespecial #59                 // Method org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$1."<init>":(Lorg/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler;Lorg/apache/xml/security/stax/ext/InboundSecurityContext;Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;Z[B)V
     440: astore        11
     442: goto          499
     445: aload_0
     446: aload_3
     447: invokespecial #60                 // Method getSubjectKeyInfoIndex:(Ljava/util/Deque;)I
     450: istore        15
     452: iload         15
     454: ifge          470
     457: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     460: dup
     461: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     464: ldc           #30                 // String noKeyInSAMLToken
     466: invokespecial #31                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
     469: athrow
     470: aload_0
     471: aload_1
     472: aload_2
     473: aload_3
     474: iload         15
     476: invokespecial #32                 // Method parseKeyInfo:(Lorg/apache/xml/security/stax/ext/InputProcessorChain;Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;Ljava/util/Deque;I)Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
     479: astore        11
     481: aload         11
     483: ifnonnull     499
     486: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     489: dup
     490: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     493: ldc           #30                 // String noKeyInSAMLToken
     495: invokespecial #31                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
     498: athrow
     499: goto          505
     502: aconst_null
     503: astore        11
     505: aload_0
     506: aload_3
     507: aload         4
     509: invokevirtual #4                  // Method java/lang/Integer.intValue:()I
     512: invokevirtual #61                 // Method getResponsibleXMLSecEvents:(Ljava/util/Deque;I)Ljava/util/List;
     515: astore        14
     517: aload_0
     518: aload_3
     519: invokevirtual #62                 // Method getElementPath:(Ljava/util/Deque;)Ljava/util/List;
     522: astore        15
     524: new           #63                 // class org/apache/wss4j/stax/validate/TokenContext
     527: dup
     528: aload         6
     530: aload         7
     532: aload         14
     534: aload         15
     536: invokespecial #64                 // Method org/apache/wss4j/stax/validate/TokenContext."<init>":(Lorg/apache/wss4j/stax/ext/WSSSecurityProperties;Lorg/apache/wss4j/stax/ext/WSInboundSecurityContext;Ljava/util/List;Ljava/util/List;)V
     539: astore        16
     541: aload         10
     543: aload         9
     545: aload         11
     547: aload         16
     549: invokeinterface #65,  4           // InterfaceMethod org/apache/wss4j/stax/validate/SamlTokenValidator.validate:(Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;Lorg/apache/wss4j/stax/validate/TokenContext;)Lorg/apache/wss4j/stax/securityToken/SamlSecurityToken;
     554: astore        17
     556: new           #66                 // class org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$2
     559: dup
     560: aload_0
     561: aload         17
     563: aload         9
     565: invokespecial #67                 // Method org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$2."<init>":(Lorg/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler;Lorg/apache/wss4j/stax/securityToken/SamlSecurityToken;Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;)V
     568: astore        18
     570: aload         7
     572: aload         9
     574: invokevirtual #53                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getId:()Ljava/lang/String;
     577: aload         18
     579: invokeinterface #68,  3           // InterfaceMethod org/apache/wss4j/stax/ext/WSInboundSecurityContext.registerSecurityTokenProvider:(Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;)V
     584: new           #69                 // class org/apache/wss4j/stax/securityEvent/SamlTokenSecurityEvent
     587: dup
     588: invokespecial #70                 // Method org/apache/wss4j/stax/securityEvent/SamlTokenSecurityEvent."<init>":()V
     591: astore        19
     593: aload         19
     595: aload         18
     597: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getSecurityToken:()Ljava/lang/Object;
     602: checkcast     #72                 // class org/apache/wss4j/stax/securityToken/SamlSecurityToken
     605: invokevirtual #73                 // Method org/apache/wss4j/stax/securityEvent/SamlTokenSecurityEvent.setSecurityToken:(Lorg/apache/xml/security/stax/securityToken/SecurityToken;)V
     608: aload         19
     610: aload         9
     612: invokevirtual #53                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getId:()Ljava/lang/String;
     615: invokevirtual #74                 // Method org/apache/wss4j/stax/securityEvent/SamlTokenSecurityEvent.setCorrelationID:(Ljava/lang/String;)V
     618: aload         7
     620: aload         19
     622: invokeinterface #75,  2           // InterfaceMethod org/apache/wss4j/stax/ext/WSInboundSecurityContext.registerSecurityEvent:(Lorg/apache/xml/security/stax/securityEvent/SecurityEvent;)V
     627: aload         6
     629: invokevirtual #76                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.isValidateSamlSubjectConfirmation:()Z
     632: ifeq          669
     635: new           #77                 // class org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$SAMLTokenVerifierInputProcessor
     638: dup
     639: aload_0
     640: aload_2
     641: aload         9
     643: aload         18
     645: aload         11
     647: invokespecial #78                 // Method org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$SAMLTokenVerifierInputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler;Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;)V
     650: astore        20
     652: aload         7
     654: aload         20
     656: invokeinterface #79,  2           // InterfaceMethod org/apache/wss4j/stax/ext/WSInboundSecurityContext.addSecurityEventListener:(Lorg/apache/xml/security/stax/securityEvent/SecurityEventListener;)V
     661: aload_1
     662: aload         20
     664: invokeinterface #80,  2           // InterfaceMethod org/apache/xml/security/stax/ext/InputProcessorChain.addProcessor:(Lorg/apache/xml/security/stax/ext/InputProcessor;)V
     669: return
    Exception table:
       from    to  target type
         290   297   300   Class org/opensaml/xmlsec/signature/support/SignatureException

  private int getSubjectKeyInfoIndex(java.util.Deque<org.apache.xml.security.stax.ext.stax.XMLSecEvent>);
    Code:
       0: iconst_m1
       1: istore_2
       2: aload_1
       3: invokeinterface #81,  1           // InterfaceMethod java/util/Deque.descendingIterator:()Ljava/util/Iterator;
       8: astore_3
       9: aload_3
      10: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          245
      18: aload_3
      19: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      24: checkcast     #82                 // class org/apache/xml/security/stax/ext/stax/XMLSecEvent
      27: astore        4
      29: iinc          2, 1
      32: aload         4
      34: invokeinterface #83,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.getEventType:()I
      39: lookupswitch  { // 1
                     1: 56
               default: 242
          }
      56: aload         4
      58: invokeinterface #84,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      63: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
      68: astore        5
      70: getstatic     #86                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_dsig_KeyInfo:Ljavax/xml/namespace/QName;
      73: aload         5
      75: invokevirtual #87                 // Method javax/xml/namespace/QName.equals:(Ljava/lang/Object;)Z
      78: ifeq          242
      81: aload         4
      83: invokeinterface #84,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      88: invokeinterface #88,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getElementPath:()Ljava/util/List;
      93: astore        6
      95: aload         6
      97: invokeinterface #89,  1           // InterfaceMethod java/util/List.size:()I
     102: iconst_4
     103: if_icmplt     242
     106: aload         6
     108: invokeinterface #89,  1           // InterfaceMethod java/util/List.size:()I
     113: iconst_2
     114: isub
     115: istore        7
     117: ldc           #90                 // String SubjectConfirmationData
     119: aload         6
     121: iload         7
     123: invokeinterface #91,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     128: checkcast     #13                 // class javax/xml/namespace/QName
     131: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     134: invokevirtual #93                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     137: ifeq          192
     140: ldc           #94                 // String SubjectConfirmation
     142: aload         6
     144: iload         7
     146: iconst_1
     147: isub
     148: invokeinterface #91,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     153: checkcast     #13                 // class javax/xml/namespace/QName
     156: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     159: invokevirtual #93                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     162: ifeq          192
     165: ldc           #95                 // String Subject
     167: aload         6
     169: iload         7
     171: iconst_2
     172: isub
     173: invokeinterface #91,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     178: checkcast     #13                 // class javax/xml/namespace/QName
     181: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     184: invokevirtual #93                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     187: ifeq          192
     190: iload_2
     191: ireturn
     192: ldc           #94                 // String SubjectConfirmation
     194: aload         6
     196: iload         7
     198: invokeinterface #91,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     203: checkcast     #13                 // class javax/xml/namespace/QName
     206: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     209: invokevirtual #93                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     212: ifeq          242
     215: ldc           #95                 // String Subject
     217: aload         6
     219: iload         7
     221: iconst_1
     222: isub
     223: invokeinterface #91,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     228: checkcast     #13                 // class javax/xml/namespace/QName
     231: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     234: invokevirtual #93                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     237: ifeq          242
     240: iload_2
     241: ireturn
     242: goto          9
     245: iload_2
     246: ireturn

  private int getSignatureKeyInfoIndex(java.util.Deque<org.apache.xml.security.stax.ext.stax.XMLSecEvent>);
    Code:
       0: iconst_m1
       1: istore_2
       2: aload_1
       3: invokeinterface #81,  1           // InterfaceMethod java/util/Deque.descendingIterator:()Ljava/util/Iterator;
       8: astore_3
       9: aload_3
      10: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          170
      18: aload_3
      19: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      24: checkcast     #82                 // class org/apache/xml/security/stax/ext/stax/XMLSecEvent
      27: astore        4
      29: iinc          2, 1
      32: aload         4
      34: invokeinterface #83,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.getEventType:()I
      39: lookupswitch  { // 1
                     1: 56
               default: 167
          }
      56: aload         4
      58: invokeinterface #84,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      63: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
      68: astore        5
      70: getstatic     #86                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_dsig_KeyInfo:Ljavax/xml/namespace/QName;
      73: aload         5
      75: invokevirtual #87                 // Method javax/xml/namespace/QName.equals:(Ljava/lang/Object;)Z
      78: ifeq          167
      81: aload         4
      83: invokeinterface #84,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      88: invokeinterface #88,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getElementPath:()Ljava/util/List;
      93: astore        6
      95: aload         6
      97: invokeinterface #89,  1           // InterfaceMethod java/util/List.size:()I
     102: iconst_4
     103: if_icmplt     167
     106: aload         6
     108: invokeinterface #89,  1           // InterfaceMethod java/util/List.size:()I
     113: iconst_2
     114: isub
     115: istore        7
     117: ldc           #96                 // String Signature
     119: aload         6
     121: iload         7
     123: invokeinterface #91,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     128: checkcast     #13                 // class javax/xml/namespace/QName
     131: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     134: invokevirtual #93                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     137: ifeq          167
     140: ldc           #97                 // String Assertion
     142: aload         6
     144: iload         7
     146: iconst_1
     147: isub
     148: invokeinterface #91,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     153: checkcast     #13                 // class javax/xml/namespace/QName
     156: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     159: invokevirtual #93                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     162: ifeq          167
     165: iload_2
     166: ireturn
     167: goto          9
     170: iload_2
     171: ireturn

  private org.apache.xml.security.stax.securityToken.InboundSecurityToken parseKeyInfo(org.apache.xml.security.stax.ext.InputProcessorChain, org.apache.xml.security.stax.ext.XMLSecurityProperties, java.util.Deque<org.apache.xml.security.stax.ext.stax.XMLSecEvent>, int) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aconst_null
       1: astore        5
       3: iconst_0
       4: istore        6
       6: aload_3
       7: invokeinterface #81,  1           // InterfaceMethod java/util/Deque.descendingIterator:()Ljava/util/Iterator;
      12: astore        7
      14: aload         7
      16: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          49
      24: iload         6
      26: iload         4
      28: if_icmpgt     49
      31: aload         7
      33: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #82                 // class org/apache/xml/security/stax/ext/stax/XMLSecEvent
      41: astore        5
      43: iinc          6, 1
      46: goto          14
      49: aload         7
      51: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      56: ifeq          90
      59: aload         7
      61: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      66: checkcast     #82                 // class org/apache/xml/security/stax/ext/stax/XMLSecEvent
      69: astore        5
      71: aload         5
      73: invokeinterface #98,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.isStartElement:()Z
      78: ifeq          84
      81: goto          90
      84: iinc          6, 1
      87: goto          49
      90: aload         5
      92: ifnull        105
      95: aload         5
      97: invokeinterface #98,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.isStartElement:()Z
     102: ifne          118
     105: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     108: dup
     109: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     112: ldc           #30                 // String noKeyInSAMLToken
     114: invokespecial #31                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
     117: athrow
     118: aload         5
     120: invokeinterface #84,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     125: astore        8
     127: aload         8
     129: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     134: astore        9
     136: getstatic     #99                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wst_BinarySecret:Ljavax/xml/namespace/QName;
     139: aload         9
     141: invokevirtual #87                 // Method javax/xml/namespace/QName.equals:(Ljava/lang/Object;)Z
     144: ifne          158
     147: getstatic     #100                // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wst0512_BinarySecret:Ljavax/xml/namespace/QName;
     150: aload         9
     152: invokevirtual #87                 // Method javax/xml/namespace/QName.equals:(Ljava/lang/Object;)Z
     155: ifeq          293
     158: new           #101                // class java/lang/StringBuilder
     161: dup
     162: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     165: astore        10
     167: aload         7
     169: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     174: ifeq          268
     177: aload         7
     179: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     184: checkcast     #82                 // class org/apache/xml/security/stax/ext/stax/XMLSecEvent
     187: astore        5
     189: aload         5
     191: invokeinterface #83,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.getEventType:()I
     196: lookupswitch  { // 2
                     2: 224
                     4: 247
               default: 265
          }
     224: aload         5
     226: invokeinterface #103,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asEndElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecEndElement;
     231: invokeinterface #104,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEndElement.getName:()Ljavax/xml/namespace/QName;
     236: aload         9
     238: invokevirtual #87                 // Method javax/xml/namespace/QName.equals:(Ljava/lang/Object;)Z
     241: ifeq          265
     244: goto          268
     247: aload         10
     249: aload         5
     251: invokeinterface #105,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asCharacters:()Lorg/apache/xml/security/stax/ext/stax/XMLSecCharacters;
     256: invokeinterface #106,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecCharacters.getText:()[C
     261: invokevirtual #107                // Method java/lang/StringBuilder.append:([C)Ljava/lang/StringBuilder;
     264: pop
     265: goto          167
     268: new           #108                // class org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$3
     271: dup
     272: aload_0
     273: aload_1
     274: invokeinterface #8,  1            // InterfaceMethod org/apache/xml/security/stax/ext/InputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/InboundSecurityContext;
     279: aconst_null
     280: invokestatic  #57                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     283: getstatic     #58                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.KeyIdentifier_NoKeyInfo:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;
     286: iconst_1
     287: aload         10
     289: invokespecial #109                // Method org/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler$3."<init>":(Lorg/apache/wss4j/stax/impl/processor/input/SAMLTokenInputHandler;Lorg/apache/xml/security/stax/ext/InboundSecurityContext;Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;ZLjava/lang/StringBuilder;)V
     292: areturn
     293: aconst_null
     294: astore        10
     296: aload_2
     297: invokevirtual #110                // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.isDisableSchemaValidation:()Z
     300: invokestatic  #111                // Method org/apache/wss4j/stax/ext/WSSConstants.getJaxbUnmarshaller:(Z)Ljavax/xml/bind/Unmarshaller;
     303: astore        11
     305: aload         11
     307: new           #112                // class org/apache/xml/security/stax/impl/XMLSecurityEventReader
     310: dup
     311: aload_3
     312: iload         6
     314: invokespecial #113                // Method org/apache/xml/security/stax/impl/XMLSecurityEventReader."<init>":(Ljava/util/Deque;I)V
     317: invokeinterface #114,  2          // InterfaceMethod javax/xml/bind/Unmarshaller.unmarshal:(Ljavax/xml/stream/XMLEventReader;)Ljava/lang/Object;
     322: astore        10
     324: goto          342
     327: astore        11
     329: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     332: dup
     333: getstatic     #116                // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.UNSUPPORTED_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     336: aload         11
     338: invokespecial #117                // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     341: athrow
     342: aload         10
     344: instanceof    #118                // class javax/xml/bind/JAXBElement
     347: ifeq          360
     350: aload         10
     352: checkcast     #118                // class javax/xml/bind/JAXBElement
     355: invokevirtual #119                // Method javax/xml/bind/JAXBElement.getValue:()Ljava/lang/Object;
     358: astore        10
     360: aconst_null
     361: astore        11
     363: aload         10
     365: instanceof    #120                // class org/apache/xml/security/binding/xmldsig/X509DataType
     368: ifeq          449
     371: new           #121                // class org/apache/xml/security/binding/xmldsig/ObjectFactory
     374: dup
     375: invokespecial #122                // Method org/apache/xml/security/binding/xmldsig/ObjectFactory."<init>":()V
     378: aload         10
     380: checkcast     #120                // class org/apache/xml/security/binding/xmldsig/X509DataType
     383: invokevirtual #123                // Method org/apache/xml/security/binding/xmldsig/ObjectFactory.createX509Data:(Lorg/apache/xml/security/binding/xmldsig/X509DataType;)Ljavax/xml/bind/JAXBElement;
     386: astore        12
     388: new           #124                // class org/apache/xml/security/binding/xmldsig/KeyInfoType
     391: dup
     392: invokespecial #125                // Method org/apache/xml/security/binding/xmldsig/KeyInfoType."<init>":()V
     395: astore        11
     397: new           #126                // class org/apache/wss4j/binding/wss10/SecurityTokenReferenceType
     400: dup
     401: invokespecial #127                // Method org/apache/wss4j/binding/wss10/SecurityTokenReferenceType."<init>":()V
     404: astore        13
     406: aload         13
     408: invokevirtual #128                // Method org/apache/wss4j/binding/wss10/SecurityTokenReferenceType.getAny:()Ljava/util/List;
     411: aload         12
     413: invokeinterface #129,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     418: pop
     419: new           #130                // class org/apache/wss4j/binding/wss10/ObjectFactory
     422: dup
     423: invokespecial #131                // Method org/apache/wss4j/binding/wss10/ObjectFactory."<init>":()V
     426: aload         13
     428: invokevirtual #132                // Method org/apache/wss4j/binding/wss10/ObjectFactory.createSecurityTokenReference:(Lorg/apache/wss4j/binding/wss10/SecurityTokenReferenceType;)Ljavax/xml/bind/JAXBElement;
     431: astore        14
     433: aload         11
     435: invokevirtual #133                // Method org/apache/xml/security/binding/xmldsig/KeyInfoType.getContent:()Ljava/util/List;
     438: aload         14
     440: invokeinterface #129,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     445: pop
     446: goto          634
     449: aload         10
     451: instanceof    #134                // class org/apache/xml/security/binding/xmlenc/EncryptedKeyType
     454: ifeq          521
     457: aload         10
     459: checkcast     #134                // class org/apache/xml/security/binding/xmlenc/EncryptedKeyType
     462: astore        12
     464: new           #135                // class org/apache/wss4j/stax/impl/processor/input/WSSEncryptedKeyInputHandler
     467: dup
     468: invokespecial #136                // Method org/apache/wss4j/stax/impl/processor/input/WSSEncryptedKeyInputHandler."<init>":()V
     471: astore        13
     473: aload         13
     475: aload_1
     476: aload         12
     478: aload         8
     480: aload_2
     481: invokevirtual #137                // Method org/apache/wss4j/stax/impl/processor/input/WSSEncryptedKeyInputHandler.handle:(Lorg/apache/xml/security/stax/ext/InputProcessorChain;Lorg/apache/xml/security/binding/xmlenc/EncryptedKeyType;Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;)V
     484: aload_1
     485: invokeinterface #8,  1            // InterfaceMethod org/apache/xml/security/stax/ext/InputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/InboundSecurityContext;
     490: aload         12
     492: invokevirtual #138                // Method org/apache/xml/security/binding/xmlenc/EncryptedKeyType.getId:()Ljava/lang/String;
     495: invokeinterface #139,  2          // InterfaceMethod org/apache/xml/security/stax/ext/InboundSecurityContext.getSecurityTokenProvider:(Ljava/lang/String;)Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;
     500: astore        14
     502: aload         14
     504: ifnull        518
     507: aload         14
     509: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getSecurityToken:()Ljava/lang/Object;
     514: checkcast     #140                // class org/apache/xml/security/stax/securityToken/InboundSecurityToken
     517: areturn
     518: goto          634
     521: aload         10
     523: instanceof    #126                // class org/apache/wss4j/binding/wss10/SecurityTokenReferenceType
     526: ifeq          571
     529: new           #130                // class org/apache/wss4j/binding/wss10/ObjectFactory
     532: dup
     533: invokespecial #131                // Method org/apache/wss4j/binding/wss10/ObjectFactory."<init>":()V
     536: aload         10
     538: checkcast     #126                // class org/apache/wss4j/binding/wss10/SecurityTokenReferenceType
     541: invokevirtual #132                // Method org/apache/wss4j/binding/wss10/ObjectFactory.createSecurityTokenReference:(Lorg/apache/wss4j/binding/wss10/SecurityTokenReferenceType;)Ljavax/xml/bind/JAXBElement;
     544: astore        12
     546: new           #124                // class org/apache/xml/security/binding/xmldsig/KeyInfoType
     549: dup
     550: invokespecial #125                // Method org/apache/xml/security/binding/xmldsig/KeyInfoType."<init>":()V
     553: astore        11
     555: aload         11
     557: invokevirtual #133                // Method org/apache/xml/security/binding/xmldsig/KeyInfoType.getContent:()Ljava/util/List;
     560: aload         12
     562: invokeinterface #129,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     567: pop
     568: goto          634
     571: aload         10
     573: instanceof    #141                // class org/apache/xml/security/binding/xmldsig/KeyValueType
     576: ifeq          621
     579: new           #121                // class org/apache/xml/security/binding/xmldsig/ObjectFactory
     582: dup
     583: invokespecial #122                // Method org/apache/xml/security/binding/xmldsig/ObjectFactory."<init>":()V
     586: aload         10
     588: checkcast     #141                // class org/apache/xml/security/binding/xmldsig/KeyValueType
     591: invokevirtual #142                // Method org/apache/xml/security/binding/xmldsig/ObjectFactory.createKeyValue:(Lorg/apache/xml/security/binding/xmldsig/KeyValueType;)Ljavax/xml/bind/JAXBElement;
     594: astore        12
     596: new           #124                // class org/apache/xml/security/binding/xmldsig/KeyInfoType
     599: dup
     600: invokespecial #125                // Method org/apache/xml/security/binding/xmldsig/KeyInfoType."<init>":()V
     603: astore        11
     605: aload         11
     607: invokevirtual #133                // Method org/apache/xml/security/binding/xmldsig/KeyInfoType.getContent:()Ljava/util/List;
     610: aload         12
     612: invokeinterface #129,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     617: pop
     618: goto          634
     621: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     624: dup
     625: getstatic     #116                // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.UNSUPPORTED_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     628: ldc           #143                // String unsupportedKeyInfo
     630: invokespecial #31                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
     633: athrow
     634: invokestatic  #144                // Method org/apache/xml/security/stax/securityToken/SecurityTokenFactory.getInstance:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenFactory;
     637: aload         11
     639: getstatic     #145                // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.KeyUsage_Signature_Verification:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyUsage;
     642: aload_2
     643: aload_1
     644: invokeinterface #8,  1            // InterfaceMethod org/apache/xml/security/stax/ext/InputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/InboundSecurityContext;
     649: invokevirtual #146                // Method org/apache/xml/security/stax/securityToken/SecurityTokenFactory.getSecurityToken:(Lorg/apache/xml/security/binding/xmldsig/KeyInfoType;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyUsage;Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;Lorg/apache/xml/security/stax/ext/InboundSecurityContext;)Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
     652: areturn
    Exception table:
       from    to  target type
         296   324   327   Class javax/xml/bind/JAXBException

  protected <T> T parseStructure(java.util.Deque<org.apache.xml.security.stax.ext.stax.XMLSecEvent>, int, org.apache.xml.security.stax.ext.XMLSecurityProperties) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: getstatic     #147                // Field documentBuilderFactory:Ljavax/xml/parsers/DocumentBuilderFactory;
       3: invokevirtual #148                // Method javax/xml/parsers/DocumentBuilderFactory.newDocumentBuilder:()Ljavax/xml/parsers/DocumentBuilder;
       6: invokevirtual #149                // Method javax/xml/parsers/DocumentBuilder.newDocument:()Lorg/w3c/dom/Document;
       9: astore        4
      11: goto          29
      14: astore        5
      16: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
      19: dup
      20: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
      23: aload         5
      25: invokespecial #117                // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
      28: athrow
      29: aload_1
      30: invokeinterface #81,  1           // InterfaceMethod java/util/Deque.descendingIterator:()Ljava/util/Iterator;
      35: astore        5
      37: iconst_0
      38: istore        6
      40: iload         6
      42: iinc          6, 1
      45: iload_2
      46: if_icmpge     60
      49: aload         5
      51: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      56: pop
      57: goto          40
      60: aload         4
      62: astore        7
      64: aload         5
      66: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      71: ifeq          101
      74: aload         5
      76: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      81: checkcast     #82                 // class org/apache/xml/security/stax/ext/stax/XMLSecEvent
      84: astore        8
      86: aload_0
      87: aload         8
      89: aload         7
      91: aload         4
      93: invokevirtual #151                // Method parseXMLEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Lorg/w3c/dom/Node;Lorg/w3c/dom/Document;)Lorg/w3c/dom/Node;
      96: astore        7
      98: goto          64
     101: aload         4
     103: areturn
    Exception table:
       from    to  target type
           0    11    14   Class javax/xml/parsers/ParserConfigurationException

  public org.w3c.dom.Node parseXMLEvent(org.apache.xml.security.stax.ext.stax.XMLSecEvent, org.w3c.dom.Node, org.w3c.dom.Document) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: aload_1
       1: invokeinterface #83,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.getEventType:()I
       6: tableswitch   { // 1 to 13
                     1: 72
                     2: 289
                     3: 308
                     4: 346
                     5: 377
                     6: 633
                     7: 406
                     8: 409
                     9: 633
                    10: 411
                    11: 528
                    12: 633
                    13: 531
               default: 633
          }
      72: aload_1
      73: invokeinterface #84,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      78: astore        4
      80: aload_3
      81: aload         4
      83: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
      88: invokevirtual #152                // Method javax/xml/namespace/QName.getNamespaceURI:()Ljava/lang/String;
      91: aload         4
      93: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
      98: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     101: invokeinterface #153,  3          // InterfaceMethod org/w3c/dom/Document.createElementNS:(Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
     106: astore        5
     108: aload         4
     110: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     115: invokevirtual #154                // Method javax/xml/namespace/QName.getPrefix:()Ljava/lang/String;
     118: ifnull        154
     121: aload         4
     123: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     128: invokevirtual #154                // Method javax/xml/namespace/QName.getPrefix:()Ljava/lang/String;
     131: invokevirtual #155                // Method java/lang/String.isEmpty:()Z
     134: ifne          154
     137: aload         5
     139: aload         4
     141: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     146: invokevirtual #154                // Method javax/xml/namespace/QName.getPrefix:()Ljava/lang/String;
     149: invokeinterface #156,  2          // InterfaceMethod org/w3c/dom/Element.setPrefix:(Ljava/lang/String;)V
     154: aload_2
     155: aload         5
     157: invokeinterface #157,  2          // InterfaceMethod org/w3c/dom/Node.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
     162: astore_2
     163: aload         4
     165: invokeinterface #158,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getNamespaces:()Ljava/util/Iterator;
     170: astore        6
     172: aload         6
     174: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     179: ifeq          206
     182: aload         6
     184: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     189: checkcast     #159                // class org/apache/xml/security/stax/ext/stax/XMLSecNamespace
     192: astore        7
     194: aload_0
     195: aload         7
     197: aload_2
     198: aload_3
     199: invokevirtual #151                // Method parseXMLEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Lorg/w3c/dom/Node;Lorg/w3c/dom/Document;)Lorg/w3c/dom/Node;
     202: pop
     203: goto          172
     206: aload         4
     208: invokeinterface #160,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributes:()Ljava/util/Iterator;
     213: astore        7
     215: aload         7
     217: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     222: ifeq          249
     225: aload         7
     227: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     232: checkcast     #161                // class org/apache/xml/security/stax/ext/stax/XMLSecAttribute
     235: astore        8
     237: aload_0
     238: aload         8
     240: aload_2
     241: aload_3
     242: invokevirtual #151                // Method parseXMLEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Lorg/w3c/dom/Node;Lorg/w3c/dom/Document;)Lorg/w3c/dom/Node;
     245: pop
     246: goto          215
     249: aload_3
     250: aload         4
     252: invokeinterface #85,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     257: invokevirtual #154                // Method javax/xml/namespace/QName.getPrefix:()Ljava/lang/String;
     260: invokeinterface #162,  2          // InterfaceMethod org/w3c/dom/Document.lookupNamespaceURI:(Ljava/lang/String;)Ljava/lang/String;
     265: astore        8
     267: aload         8
     269: ifnonnull     677
     272: aload_0
     273: aload         4
     275: invokeinterface #163,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getElementNamespace:()Lorg/apache/xml/security/stax/ext/stax/XMLSecNamespace;
     280: aload_2
     281: aload_3
     282: invokevirtual #151                // Method parseXMLEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Lorg/w3c/dom/Node;Lorg/w3c/dom/Document;)Lorg/w3c/dom/Node;
     285: pop
     286: goto          677
     289: aload_2
     290: invokeinterface #164,  1          // InterfaceMethod org/w3c/dom/Node.getParentNode:()Lorg/w3c/dom/Node;
     295: ifnull        677
     298: aload_2
     299: invokeinterface #164,  1          // InterfaceMethod org/w3c/dom/Node.getParentNode:()Lorg/w3c/dom/Node;
     304: astore_2
     305: goto          677
     308: aload_3
     309: aload_1
     310: checkcast     #165                // class javax/xml/stream/events/ProcessingInstruction
     313: invokeinterface #166,  1          // InterfaceMethod javax/xml/stream/events/ProcessingInstruction.getTarget:()Ljava/lang/String;
     318: aload_1
     319: checkcast     #165                // class javax/xml/stream/events/ProcessingInstruction
     322: invokeinterface #166,  1          // InterfaceMethod javax/xml/stream/events/ProcessingInstruction.getTarget:()Ljava/lang/String;
     327: invokeinterface #167,  3          // InterfaceMethod org/w3c/dom/Document.createProcessingInstruction:(Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/ProcessingInstruction;
     332: astore        9
     334: aload_2
     335: aload         9
     337: invokeinterface #157,  2          // InterfaceMethod org/w3c/dom/Node.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
     342: pop
     343: goto          677
     346: aload_3
     347: aload_1
     348: invokeinterface #105,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asCharacters:()Lorg/apache/xml/security/stax/ext/stax/XMLSecCharacters;
     353: invokeinterface #168,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecCharacters.getData:()Ljava/lang/String;
     358: invokeinterface #169,  2          // InterfaceMethod org/w3c/dom/Document.createTextNode:(Ljava/lang/String;)Lorg/w3c/dom/Text;
     363: astore        10
     365: aload_2
     366: aload         10
     368: invokeinterface #157,  2          // InterfaceMethod org/w3c/dom/Node.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
     373: pop
     374: goto          677
     377: aload_3
     378: aload_1
     379: checkcast     #170                // class javax/xml/stream/events/Comment
     382: invokeinterface #171,  1          // InterfaceMethod javax/xml/stream/events/Comment.getText:()Ljava/lang/String;
     387: invokeinterface #172,  2          // InterfaceMethod org/w3c/dom/Document.createComment:(Ljava/lang/String;)Lorg/w3c/dom/Comment;
     392: astore        11
     394: aload_2
     395: aload         11
     397: invokeinterface #157,  2          // InterfaceMethod org/w3c/dom/Node.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
     402: pop
     403: goto          677
     406: goto          677
     409: aload_2
     410: areturn
     411: aload_1
     412: checkcast     #161                // class org/apache/xml/security/stax/ext/stax/XMLSecAttribute
     415: astore        12
     417: aload_3
     418: aload         12
     420: invokeinterface #173,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecAttribute.getName:()Ljavax/xml/namespace/QName;
     425: invokevirtual #152                // Method javax/xml/namespace/QName.getNamespaceURI:()Ljava/lang/String;
     428: aload         12
     430: invokeinterface #173,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecAttribute.getName:()Ljavax/xml/namespace/QName;
     435: invokevirtual #92                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     438: invokeinterface #174,  3          // InterfaceMethod org/w3c/dom/Document.createAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Attr;
     443: astore        13
     445: aload         13
     447: aload         12
     449: invokeinterface #173,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecAttribute.getName:()Ljavax/xml/namespace/QName;
     454: invokevirtual #154                // Method javax/xml/namespace/QName.getPrefix:()Ljava/lang/String;
     457: invokeinterface #175,  2          // InterfaceMethod org/w3c/dom/Attr.setPrefix:(Ljava/lang/String;)V
     462: aload         13
     464: aload         12
     466: invokeinterface #176,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecAttribute.getValue:()Ljava/lang/String;
     471: invokeinterface #177,  2          // InterfaceMethod org/w3c/dom/Attr.setValue:(Ljava/lang/String;)V
     476: aload_2
     477: checkcast     #178                // class org/w3c/dom/Element
     480: aload         13
     482: invokeinterface #179,  2          // InterfaceMethod org/w3c/dom/Element.setAttributeNodeNS:(Lorg/w3c/dom/Attr;)Lorg/w3c/dom/Attr;
     487: pop
     488: aload_3
     489: aload         12
     491: invokeinterface #173,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecAttribute.getName:()Ljavax/xml/namespace/QName;
     496: invokevirtual #154                // Method javax/xml/namespace/QName.getPrefix:()Ljava/lang/String;
     499: invokeinterface #162,  2          // InterfaceMethod org/w3c/dom/Document.lookupNamespaceURI:(Ljava/lang/String;)Ljava/lang/String;
     504: astore        14
     506: aload         14
     508: ifnonnull     677
     511: aload_0
     512: aload         12
     514: invokeinterface #180,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecAttribute.getAttributeNamespace:()Lorg/apache/xml/security/stax/ext/stax/XMLSecNamespace;
     519: aload_2
     520: aload_3
     521: invokevirtual #151                // Method parseXMLEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Lorg/w3c/dom/Node;Lorg/w3c/dom/Document;)Lorg/w3c/dom/Node;
     524: pop
     525: goto          677
     528: goto          677
     531: aload_1
     532: checkcast     #181                // class javax/xml/stream/events/Namespace
     535: astore        15
     537: aload         15
     539: invokeinterface #182,  1          // InterfaceMethod javax/xml/stream/events/Namespace.getPrefix:()Ljava/lang/String;
     544: astore        17
     546: aload         17
     548: ifnull        559
     551: aload         17
     553: invokevirtual #155                // Method java/lang/String.isEmpty:()Z
     556: ifeq          574
     559: aload_3
     560: ldc           #183                // String http://www.w3.org/2000/xmlns/
     562: ldc           #184                // String xmlns
     564: invokeinterface #174,  3          // InterfaceMethod org/w3c/dom/Document.createAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Attr;
     569: astore        16
     571: goto          604
     574: aload_3
     575: ldc           #183                // String http://www.w3.org/2000/xmlns/
     577: new           #101                // class java/lang/StringBuilder
     580: dup
     581: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     584: ldc           #185                // String xmlns:
     586: invokevirtual #186                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     589: aload         17
     591: invokevirtual #186                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     594: invokevirtual #187                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     597: invokeinterface #174,  3          // InterfaceMethod org/w3c/dom/Document.createAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Attr;
     602: astore        16
     604: aload         16
     606: aload         15
     608: invokeinterface #188,  1          // InterfaceMethod javax/xml/stream/events/Namespace.getNamespaceURI:()Ljava/lang/String;
     613: invokeinterface #177,  2          // InterfaceMethod org/w3c/dom/Attr.setValue:(Ljava/lang/String;)V
     618: aload_2
     619: checkcast     #178                // class org/w3c/dom/Element
     622: aload         16
     624: invokeinterface #179,  2          // InterfaceMethod org/w3c/dom/Element.setAttributeNodeNS:(Lorg/w3c/dom/Attr;)Lorg/w3c/dom/Attr;
     629: pop
     630: goto          677
     633: new           #23                 // class org/apache/wss4j/common/ext/WSSecurityException
     636: dup
     637: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     640: ldc           #25                 // String empty
     642: iconst_1
     643: anewarray     #26                 // class java/lang/Object
     646: dup
     647: iconst_0
     648: new           #101                // class java/lang/StringBuilder
     651: dup
     652: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     655: ldc           #189                // String Illegal XMLEvent received:
     657: invokevirtual #186                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     660: aload_1
     661: invokeinterface #83,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.getEventType:()I
     666: invokevirtual #190                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     669: invokevirtual #187                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     672: aastore
     673: invokespecial #28                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
     676: athrow
     677: aload_2
     678: areturn

  static java.util.List access$000();
    Code:
       0: getstatic     #2                  // Field saml2TokenPath:Ljava/util/List;
       3: areturn

  static java.util.List access$100();
    Code:
       0: getstatic     #1                  // Field saml1TokenPath:Ljava/util/List;
       3: areturn

  static {};
    Code:
       0: invokestatic  #191                // Method javax/xml/parsers/DocumentBuilderFactory.newInstance:()Ljavax/xml/parsers/DocumentBuilderFactory;
       3: putstatic     #147                // Field documentBuilderFactory:Ljavax/xml/parsers/DocumentBuilderFactory;
       6: new           #192                // class java/util/ArrayList
       9: dup
      10: getstatic     #193                // Field org/apache/wss4j/stax/ext/WSSConstants.WSSE_SECURITY_HEADER_PATH:Ljava/util/List;
      13: invokespecial #194                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      16: putstatic     #1                  // Field saml1TokenPath:Ljava/util/List;
      19: new           #192                // class java/util/ArrayList
      22: dup
      23: getstatic     #193                // Field org/apache/wss4j/stax/ext/WSSConstants.WSSE_SECURITY_HEADER_PATH:Ljava/util/List;
      26: invokespecial #194                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      29: putstatic     #2                  // Field saml2TokenPath:Ljava/util/List;
      32: getstatic     #147                // Field documentBuilderFactory:Ljavax/xml/parsers/DocumentBuilderFactory;
      35: iconst_1
      36: invokevirtual #195                // Method javax/xml/parsers/DocumentBuilderFactory.setNamespaceAware:(Z)V
      39: getstatic     #1                  // Field saml1TokenPath:Ljava/util/List;
      42: getstatic     #196                // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_saml_Assertion:Ljavax/xml/namespace/QName;
      45: invokeinterface #129,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      50: pop
      51: getstatic     #2                  // Field saml2TokenPath:Ljava/util/List;
      54: getstatic     #197                // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_saml2_Assertion:Ljavax/xml/namespace/QName;
      57: invokeinterface #129,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      62: pop
      63: return
}
