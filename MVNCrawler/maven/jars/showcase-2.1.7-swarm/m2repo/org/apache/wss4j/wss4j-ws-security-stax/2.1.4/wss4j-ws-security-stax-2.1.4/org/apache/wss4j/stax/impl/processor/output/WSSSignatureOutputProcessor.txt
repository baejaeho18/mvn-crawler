Compiled from "WSSSignatureOutputProcessor.java"
public class org.apache.wss4j.stax.impl.processor.output.WSSSignatureOutputProcessor extends org.apache.xml.security.stax.impl.processor.output.AbstractSignatureOutputProcessor {
  private static final org.slf4j.Logger LOG;

  public org.apache.wss4j.stax.impl.processor.output.WSSSignatureOutputProcessor() throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor."<init>":()V
       4: return

  public void init(org.apache.xml.security.stax.ext.OutputProcessorChain) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
       5: new           #3                  // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureEndingOutputProcessor
       8: dup
       9: aload_0
      10: invokespecial #4                  // Method org/apache/wss4j/stax/impl/processor/output/WSSSignatureEndingOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor;)V
      13: astore_2
      14: aload_2
      15: aload_0
      16: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      19: invokevirtual #6                  // Method org/apache/wss4j/stax/impl/processor/output/WSSSignatureEndingOutputProcessor.setXMLSecurityProperties:(Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;)V
      22: aload_2
      23: aload_0
      24: invokevirtual #7                  // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      27: invokevirtual #8                  // Method org/apache/wss4j/stax/impl/processor/output/WSSSignatureEndingOutputProcessor.setAction:(Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;)V
      30: aload_2
      31: aload_1
      32: invokevirtual #9                  // Method org/apache/wss4j/stax/impl/processor/output/WSSSignatureEndingOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
      35: return

  public void processEvent(org.apache.xml.security.stax.ext.stax.XMLSecEvent, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_1
       1: invokeinterface #10,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.getEventType:()I
       6: iconst_1
       7: if_icmpne     407
      10: aload_1
      11: invokeinterface #11,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      16: astore_3
      17: aload_0
      18: invokevirtual #12                 // Method getActiveInternalSignatureOutputProcessor:()Lorg/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor$InternalSignatureOutputProcessor;
      21: ifnonnull     407
      24: aload_0
      25: aload_3
      26: aload_2
      27: ldc           #13                 // String signatureParts
      29: invokevirtual #14                 // Method securePartMatches:(Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/SecurePart;
      32: astore        4
      34: aload         4
      36: ifnull        407
      39: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      42: ldc           #16                 // String Matched securePart for signature
      44: invokeinterface #17,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      49: new           #18                 // class org/apache/xml/security/stax/impl/SignaturePartDef
      52: dup
      53: invokespecial #19                 // Method org/apache/xml/security/stax/impl/SignaturePartDef."<init>":()V
      56: astore        5
      58: aload         5
      60: aload         4
      62: invokevirtual #20                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setSecurePart:(Lorg/apache/xml/security/stax/ext/SecurePart;)V
      65: aload         5
      67: aload         4
      69: invokevirtual #21                 // Method org/apache/xml/security/stax/ext/SecurePart.getTransforms:()[Ljava/lang/String;
      72: invokevirtual #22                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setTransforms:([Ljava/lang/String;)V
      75: aload         5
      77: invokevirtual #23                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getTransforms:()[Ljava/lang/String;
      80: ifnonnull     97
      83: aload         5
      85: iconst_1
      86: anewarray     #24                 // class java/lang/String
      89: dup
      90: iconst_0
      91: ldc           #25                 // String http://www.w3.org/2001/10/xml-exc-c14n#
      93: aastore
      94: invokevirtual #22                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setTransforms:([Ljava/lang/String;)V
      97: aload         5
      99: iconst_1
     100: invokevirtual #26                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setExcludeVisibleC14Nprefixes:(Z)V
     103: aload         5
     105: aload         4
     107: invokevirtual #27                 // Method org/apache/xml/security/stax/ext/SecurePart.getDigestMethod:()Ljava/lang/String;
     110: invokevirtual #28                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setDigestAlgo:(Ljava/lang/String;)V
     113: aload         5
     115: invokevirtual #29                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getDigestAlgo:()Ljava/lang/String;
     118: ifnonnull     133
     121: aload         5
     123: aload_0
     124: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     127: invokevirtual #30                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureDigestAlgorithm:()Ljava/lang/String;
     130: invokevirtual #28                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setDigestAlgo:(Ljava/lang/String;)V
     133: aload         4
     135: invokevirtual #31                 // Method org/apache/xml/security/stax/ext/SecurePart.getIdToSign:()Ljava/lang/String;
     138: ifnonnull     232
     141: aload         5
     143: aload         4
     145: invokevirtual #32                 // Method org/apache/xml/security/stax/ext/SecurePart.isGenerateXPointer:()Z
     148: invokevirtual #33                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setGenerateXPointer:(Z)V
     151: aload         5
     153: aconst_null
     154: invokestatic  #34                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     157: invokevirtual #35                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setSigRefId:(Ljava/lang/String;)V
     160: aload_3
     161: getstatic     #36                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
     164: invokeinterface #37,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
     169: astore        6
     171: aload         6
     173: ifnull        191
     176: aload         5
     178: aload         6
     180: invokeinterface #38,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
     185: invokevirtual #35                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setSigRefId:(Ljava/lang/String;)V
     188: goto          229
     191: new           #39                 // class java/util/ArrayList
     194: dup
     195: iconst_1
     196: invokespecial #40                 // Method java/util/ArrayList."<init>":(I)V
     199: astore        7
     201: aload         7
     203: aload_0
     204: getstatic     #36                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
     207: aload         5
     209: invokevirtual #41                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getSigRefId:()Ljava/lang/String;
     212: invokevirtual #42                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     215: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     220: pop
     221: aload_0
     222: aload_3
     223: aload         7
     225: invokevirtual #44                 // Method addAttributes:(Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;Ljava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     228: astore_1
     229: goto          294
     232: ldc           #45                 // String http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#STR-Transform
     234: aload         4
     236: invokevirtual #46                 // Method org/apache/xml/security/stax/ext/SecurePart.getName:()Ljavax/xml/namespace/QName;
     239: invokevirtual #47                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     242: invokevirtual #48                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     245: ifeq          284
     248: aload         5
     250: aload         4
     252: invokevirtual #49                 // Method org/apache/xml/security/stax/ext/SecurePart.getIdToReference:()Ljava/lang/String;
     255: invokevirtual #35                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setSigRefId:(Ljava/lang/String;)V
     258: iconst_2
     259: anewarray     #24                 // class java/lang/String
     262: dup
     263: iconst_0
     264: ldc           #45                 // String http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#STR-Transform
     266: aastore
     267: dup
     268: iconst_1
     269: ldc           #25                 // String http://www.w3.org/2001/10/xml-exc-c14n#
     271: aastore
     272: astore        6
     274: aload         5
     276: aload         6
     278: invokevirtual #22                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setTransforms:([Ljava/lang/String;)V
     281: goto          294
     284: aload         5
     286: aload         4
     288: invokevirtual #31                 // Method org/apache/xml/security/stax/ext/SecurePart.getIdToSign:()Ljava/lang/String;
     291: invokevirtual #35                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setSigRefId:(Ljava/lang/String;)V
     294: aload_0
     295: invokevirtual #50                 // Method getSignaturePartDefList:()Ljava/util/List;
     298: aload         5
     300: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     305: pop
     306: new           #51                 // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor$InternalWSSSignatureOutputProcessor
     309: dup
     310: aload_0
     311: aload         5
     313: aload_3
     314: invokespecial #52                 // Method org/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor$InternalWSSSignatureOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor;Lorg/apache/xml/security/stax/impl/SignaturePartDef;Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;)V
     317: astore        6
     319: aload         6
     321: aload_0
     322: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     325: invokevirtual #53                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor$InternalSignatureOutputProcessor.setXMLSecurityProperties:(Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;)V
     328: aload         6
     330: aload_0
     331: invokevirtual #7                  // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     334: invokevirtual #54                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor$InternalSignatureOutputProcessor.setAction:(Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;)V
     337: aload         6
     339: ldc_w         #55                 // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor
     342: invokevirtual #56                 // Method java/lang/Class.getName:()Ljava/lang/String;
     345: invokevirtual #57                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor$InternalSignatureOutputProcessor.addAfterProcessor:(Ljava/lang/Object;)V
     348: aload         6
     350: ldc_w         #3                  // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureEndingOutputProcessor
     353: invokevirtual #56                 // Method java/lang/Class.getName:()Ljava/lang/String;
     356: invokevirtual #58                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor$InternalSignatureOutputProcessor.addBeforeProcessor:(Ljava/lang/Object;)V
     359: aload         6
     361: aload_2
     362: invokevirtual #59                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor$InternalSignatureOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     365: aload_0
     366: aload         6
     368: invokevirtual #60                 // Method setActiveInternalSignatureOutputProcessor:(Lorg/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor$InternalSignatureOutputProcessor;)V
     371: ldc           #61                 // String Body
     373: aload_3
     374: invokeinterface #62,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     379: invokevirtual #47                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     382: invokevirtual #48                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     385: ifeq          407
     388: aload_3
     389: invokestatic  #63                 // Method org/apache/wss4j/stax/utils/WSSUtils.isInSOAPBody:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)Z
     392: ifeq          407
     395: aload_0
     396: aload_2
     397: invokevirtual #64                 // Method doFinalInternal:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     400: aload_2
     401: aload_0
     402: invokeinterface #65,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
     407: aload_2
     408: aload_1
     409: invokeinterface #66,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.processEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)V
     414: return

  protected void digestExternalReference(org.apache.xml.security.stax.ext.OutputProcessorChain, org.apache.xml.security.stax.ext.SecurePart) throws org.apache.xml.security.exceptions.XMLSecurityException, javax.xml.stream.XMLStreamException;
    Code:
       0: aload_2
       1: invokevirtual #67                 // Method org/apache/xml/security/stax/ext/SecurePart.getExternalReference:()Ljava/lang/String;
       4: ifnull        614
       7: aload_2
       8: invokevirtual #67                 // Method org/apache/xml/security/stax/ext/SecurePart.getExternalReference:()Ljava/lang/String;
      11: ldc           #68                 // String cid:
      13: invokevirtual #69                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      16: ifeq          614
      19: aload_0
      20: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      23: checkcast     #70                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      26: invokevirtual #71                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getAttachmentCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
      29: astore_3
      30: aload_3
      31: ifnonnull     56
      34: new           #72                 // class org/apache/wss4j/common/ext/WSSecurityException
      37: dup
      38: getstatic     #73                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILED_SIGNATURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
      41: ldc           #74                 // String empty
      43: iconst_1
      44: anewarray     #75                 // class java/lang/Object
      47: dup
      48: iconst_0
      49: ldc           #76                 // String no attachment callbackhandler supplied
      51: aastore
      52: invokespecial #77                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
      55: athrow
      56: new           #78                 // class org/apache/wss4j/common/ext/AttachmentRequestCallback
      59: dup
      60: invokespecial #79                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback."<init>":()V
      63: astore        4
      65: aload_2
      66: invokevirtual #67                 // Method org/apache/xml/security/stax/ext/SecurePart.getExternalReference:()Ljava/lang/String;
      69: ldc           #68                 // String cid:
      71: invokevirtual #80                 // Method java/lang/String.length:()I
      74: invokevirtual #81                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      77: astore        5
      79: aload         4
      81: aload         5
      83: invokevirtual #82                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback.setAttachmentId:(Ljava/lang/String;)V
      86: aload_3
      87: iconst_1
      88: anewarray     #83                 // class javax/security/auth/callback/Callback
      91: dup
      92: iconst_0
      93: aload         4
      95: aastore
      96: invokeinterface #84,  2           // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
     101: goto          119
     104: astore        6
     106: new           #72                 // class org/apache/wss4j/common/ext/WSSecurityException
     109: dup
     110: getstatic     #73                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILED_SIGNATURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     113: aload         6
     115: invokespecial #86                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     118: athrow
     119: aload         4
     121: invokevirtual #87                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback.getAttachments:()Ljava/util/List;
     124: astore        6
     126: aload         6
     128: ifnull        611
     131: iconst_0
     132: istore        7
     134: iload         7
     136: aload         6
     138: invokeinterface #88,  1           // InterfaceMethod java/util/List.size:()I
     143: if_icmpge     611
     146: aload         6
     148: iload         7
     150: invokeinterface #89,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     155: checkcast     #90                 // class org/apache/wss4j/common/ext/Attachment
     158: astore        8
     160: new           #18                 // class org/apache/xml/security/stax/impl/SignaturePartDef
     163: dup
     164: invokespecial #19                 // Method org/apache/xml/security/stax/impl/SignaturePartDef."<init>":()V
     167: astore        9
     169: aload         9
     171: aload_2
     172: invokevirtual #20                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setSecurePart:(Lorg/apache/xml/security/stax/ext/SecurePart;)V
     175: aload         9
     177: new           #91                 // class java/lang/StringBuilder
     180: dup
     181: invokespecial #92                 // Method java/lang/StringBuilder."<init>":()V
     184: ldc           #68                 // String cid:
     186: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     189: aload         8
     191: invokevirtual #94                 // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
     194: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     197: invokevirtual #95                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     200: invokevirtual #35                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setSigRefId:(Ljava/lang/String;)V
     203: aload         9
     205: iconst_1
     206: invokevirtual #96                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setExternalResource:(Z)V
     209: aload         9
     211: aload_2
     212: invokevirtual #21                 // Method org/apache/xml/security/stax/ext/SecurePart.getTransforms:()[Ljava/lang/String;
     215: invokevirtual #22                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setTransforms:([Ljava/lang/String;)V
     218: aload         9
     220: invokevirtual #23                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getTransforms:()[Ljava/lang/String;
     223: ifnonnull     267
     226: aload_2
     227: invokevirtual #97                 // Method org/apache/xml/security/stax/ext/SecurePart.getModifier:()Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
     230: getstatic     #98                 // Field org/apache/xml/security/stax/ext/SecurePart$Modifier.Element:Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
     233: if_acmpne     253
     236: aload         9
     238: iconst_1
     239: anewarray     #24                 // class java/lang/String
     242: dup
     243: iconst_0
     244: ldc           #99                 // String http://docs.oasis-open.org/wss/oasis-wss-SwAProfile-1.1#Attachment-Complete-Signature-Transform
     246: aastore
     247: invokevirtual #22                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setTransforms:([Ljava/lang/String;)V
     250: goto          267
     253: aload         9
     255: iconst_1
     256: anewarray     #24                 // class java/lang/String
     259: dup
     260: iconst_0
     261: ldc           #100                // String http://docs.oasis-open.org/wss/oasis-wss-SwAProfile-1.1#Attachment-Content-Signature-Transform
     263: aastore
     264: invokevirtual #22                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setTransforms:([Ljava/lang/String;)V
     267: aload         9
     269: iconst_1
     270: invokevirtual #26                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setExcludeVisibleC14Nprefixes:(Z)V
     273: aload         9
     275: aload_2
     276: invokevirtual #27                 // Method org/apache/xml/security/stax/ext/SecurePart.getDigestMethod:()Ljava/lang/String;
     279: invokevirtual #28                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setDigestAlgo:(Ljava/lang/String;)V
     282: aload         9
     284: invokevirtual #29                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getDigestAlgo:()Ljava/lang/String;
     287: ifnonnull     302
     290: aload         9
     292: aload_0
     293: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     296: invokevirtual #30                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureDigestAlgorithm:()Ljava/lang/String;
     299: invokevirtual #28                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.setDigestAlgo:(Ljava/lang/String;)V
     302: aload_0
     303: aload         9
     305: invokevirtual #29                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getDigestAlgo:()Ljava/lang/String;
     308: invokevirtual #101                // Method createMessageDigestOutputStream:(Ljava/lang/String;)Lorg/apache/xml/security/stax/impl/util/DigestOutputStream;
     311: astore        10
     313: aload         8
     315: invokevirtual #102                // Method org/apache/wss4j/common/ext/Attachment.getSourceStream:()Ljava/io/InputStream;
     318: astore        11
     320: aload         11
     322: invokevirtual #103                // Method java/io/InputStream.markSupported:()Z
     325: ifne          339
     328: new           #104                // class java/io/BufferedInputStream
     331: dup
     332: aload         11
     334: invokespecial #105                // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
     337: astore        11
     339: aload         11
     341: ldc           #106                // int 2147483647
     343: invokevirtual #107                // Method java/io/InputStream.mark:(I)V
     346: aload_0
     347: aload         10
     349: aload         9
     351: aconst_null
     352: invokevirtual #108                // Method buildTransformerChain:(Ljava/io/OutputStream;Lorg/apache/xml/security/stax/impl/SignaturePartDef;Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;)Lorg/apache/xml/security/stax/ext/Transformer;
     355: astore        12
     357: new           #109                // class java/util/HashMap
     360: dup
     361: iconst_2
     362: invokespecial #110                // Method java/util/HashMap."<init>":(I)V
     365: astore        13
     367: aload         13
     369: ldc           #111                // String attachment
     371: aload         8
     373: invokeinterface #112,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     378: pop
     379: aload         12
     381: aload         13
     383: invokeinterface #113,  2          // InterfaceMethod org/apache/xml/security/stax/ext/Transformer.setProperties:(Ljava/util/Map;)V
     388: aload         12
     390: aload         11
     392: invokeinterface #114,  2          // InterfaceMethod org/apache/xml/security/stax/ext/Transformer.transform:(Ljava/io/InputStream;)V
     397: aload         12
     399: invokeinterface #115,  1          // InterfaceMethod org/apache/xml/security/stax/ext/Transformer.doFinal:()V
     404: aload         10
     406: invokevirtual #116                // Method org/apache/xml/security/stax/impl/util/DigestOutputStream.close:()V
     409: aload         11
     411: invokevirtual #117                // Method java/io/InputStream.reset:()V
     414: goto          432
     417: astore        12
     419: new           #72                 // class org/apache/wss4j/common/ext/WSSecurityException
     422: dup
     423: getstatic     #73                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILED_SIGNATURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     426: aload         12
     428: invokespecial #86                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     431: athrow
     432: aload         10
     434: invokevirtual #120                // Method org/apache/xml/security/stax/impl/util/DigestOutputStream.getDigestValue:()[B
     437: invokestatic  #121                // Method org/apache/xml/security/utils/Base64.encode:([B)Ljava/lang/String;
     440: astore        12
     442: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
     445: invokeinterface #122,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     450: ifeq          481
     453: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
     456: new           #91                 // class java/lang/StringBuilder
     459: dup
     460: invokespecial #92                 // Method java/lang/StringBuilder."<init>":()V
     463: ldc           #123                // String Calculated Digest:
     465: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     468: aload         12
     470: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     473: invokevirtual #95                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     476: invokeinterface #17,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     481: aload         9
     483: aload         12
     485: invokevirtual #124                // Method org/apache/xml/security/stax/impl/SignaturePartDef.setDigestValue:(Ljava/lang/String;)V
     488: new           #90                 // class org/apache/wss4j/common/ext/Attachment
     491: dup
     492: invokespecial #125                // Method org/apache/wss4j/common/ext/Attachment."<init>":()V
     495: astore        13
     497: aload         13
     499: aload         8
     501: invokevirtual #94                 // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
     504: invokevirtual #126                // Method org/apache/wss4j/common/ext/Attachment.setId:(Ljava/lang/String;)V
     507: aload         13
     509: aload         8
     511: invokevirtual #127                // Method org/apache/wss4j/common/ext/Attachment.getMimeType:()Ljava/lang/String;
     514: invokevirtual #128                // Method org/apache/wss4j/common/ext/Attachment.setMimeType:(Ljava/lang/String;)V
     517: aload         13
     519: aload         8
     521: invokevirtual #129                // Method org/apache/wss4j/common/ext/Attachment.getHeaders:()Ljava/util/Map;
     524: invokevirtual #130                // Method org/apache/wss4j/common/ext/Attachment.addHeaders:(Ljava/util/Map;)V
     527: aload         13
     529: aload         11
     531: invokevirtual #131                // Method org/apache/wss4j/common/ext/Attachment.setSourceStream:(Ljava/io/InputStream;)V
     534: new           #132                // class org/apache/wss4j/common/ext/AttachmentResultCallback
     537: dup
     538: invokespecial #133                // Method org/apache/wss4j/common/ext/AttachmentResultCallback."<init>":()V
     541: astore        14
     543: aload         14
     545: aload         13
     547: invokevirtual #94                 // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
     550: invokevirtual #134                // Method org/apache/wss4j/common/ext/AttachmentResultCallback.setAttachmentId:(Ljava/lang/String;)V
     553: aload         14
     555: aload         13
     557: invokevirtual #135                // Method org/apache/wss4j/common/ext/AttachmentResultCallback.setAttachment:(Lorg/apache/wss4j/common/ext/Attachment;)V
     560: aload_3
     561: iconst_1
     562: anewarray     #83                 // class javax/security/auth/callback/Callback
     565: dup
     566: iconst_0
     567: aload         14
     569: aastore
     570: invokeinterface #84,  2           // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
     575: goto          593
     578: astore        15
     580: new           #72                 // class org/apache/wss4j/common/ext/WSSecurityException
     583: dup
     584: getstatic     #73                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILED_SIGNATURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     587: aload         15
     589: invokespecial #86                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     592: athrow
     593: aload_0
     594: invokevirtual #50                 // Method getSignaturePartDefList:()Ljava/util/List;
     597: aload         9
     599: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     604: pop
     605: iinc          7, 1
     608: goto          134
     611: goto          620
     614: aload_0
     615: aload_1
     616: aload_2
     617: invokespecial #136                // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor.digestExternalReference:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Lorg/apache/xml/security/stax/ext/SecurePart;)V
     620: return
    Exception table:
       from    to  target type
          86   101   104   Class java/lang/Exception
         346   414   417   Class java/io/IOException
         346   414   417   Class javax/xml/stream/XMLStreamException
         560   575   578   Class java/lang/Exception

  protected org.apache.xml.security.stax.ext.SecurePart securePartMatches(org.apache.xml.security.stax.ext.stax.XMLSecStartElement, java.util.Map<java.lang.Object, org.apache.xml.security.stax.ext.SecurePart>);
    Code:
       0: aload_1
       1: invokeinterface #137,  1          // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getOnElementDeclaredAttributes:()Ljava/util/List;
       6: invokeinterface #138,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      11: ifne          170
      14: aload_1
      15: getstatic     #36                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
      18: invokeinterface #37,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
      23: astore_3
      24: aload_3
      25: ifnull        53
      28: aload_2
      29: aload_3
      30: invokeinterface #38,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
      35: invokeinterface #139,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      40: checkcast     #140                // class org/apache/xml/security/stax/ext/SecurePart
      43: astore        4
      45: aload         4
      47: ifnull        53
      50: aload         4
      52: areturn
      53: aload_1
      54: getstatic     #141                // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_Id:Ljavax/xml/namespace/QName;
      57: invokeinterface #37,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
      62: astore_3
      63: aload_3
      64: ifnull        92
      67: aload_2
      68: aload_3
      69: invokeinterface #38,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
      74: invokeinterface #139,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      79: checkcast     #140                // class org/apache/xml/security/stax/ext/SecurePart
      82: astore        4
      84: aload         4
      86: ifnull        92
      89: aload         4
      91: areturn
      92: aload_1
      93: getstatic     #142                // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ID:Ljavax/xml/namespace/QName;
      96: invokeinterface #37,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
     101: astore_3
     102: aload_3
     103: ifnull        131
     106: aload_2
     107: aload_3
     108: invokeinterface #38,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
     113: invokeinterface #139,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     118: checkcast     #140                // class org/apache/xml/security/stax/ext/SecurePart
     121: astore        4
     123: aload         4
     125: ifnull        131
     128: aload         4
     130: areturn
     131: aload_1
     132: getstatic     #143                // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_AssertionID:Ljavax/xml/namespace/QName;
     135: invokeinterface #37,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
     140: astore_3
     141: aload_3
     142: ifnull        170
     145: aload_2
     146: aload_3
     147: invokeinterface #38,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
     152: invokeinterface #139,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     157: checkcast     #140                // class org/apache/xml/security/stax/ext/SecurePart
     160: astore        4
     162: aload         4
     164: ifnull        170
     167: aload         4
     169: areturn
     170: aload_2
     171: aload_1
     172: invokeinterface #62,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     177: invokeinterface #139,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     182: checkcast     #140                // class org/apache/xml/security/stax/ext/SecurePart
     185: areturn

  static {};
    Code:
       0: ldc_w         #55                 // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor
       3: invokestatic  #144                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
