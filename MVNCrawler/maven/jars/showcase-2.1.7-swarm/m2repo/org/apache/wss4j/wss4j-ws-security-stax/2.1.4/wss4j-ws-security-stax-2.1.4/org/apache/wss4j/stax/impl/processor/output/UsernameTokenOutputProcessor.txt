Compiled from "UsernameTokenOutputProcessor.java"
public class org.apache.wss4j.stax.impl.processor.output.UsernameTokenOutputProcessor extends org.apache.xml.security.stax.ext.AbstractOutputProcessor {
  public org.apache.wss4j.stax.impl.processor.output.UsernameTokenOutputProcessor() throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/xml/security/stax/ext/AbstractOutputProcessor."<init>":()V
       4: aload_0
       5: ldc_w         #2                  // class org/apache/wss4j/stax/impl/processor/output/TimestampOutputProcessor
       8: invokevirtual #3                  // Method java/lang/Class.getName:()Ljava/lang/String;
      11: invokevirtual #4                  // Method addAfterProcessor:(Ljava/lang/Object;)V
      14: aload_0
      15: ldc_w         #5                  // class org/apache/wss4j/stax/impl/processor/output/WSSSignatureOutputProcessor
      18: invokevirtual #3                  // Method java/lang/Class.getName:()Ljava/lang/String;
      21: invokevirtual #6                  // Method addBeforeProcessor:(Ljava/lang/Object;)V
      24: aload_0
      25: ldc_w         #7                  // class org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor
      28: invokevirtual #3                  // Method java/lang/Class.getName:()Ljava/lang/String;
      31: invokevirtual #6                  // Method addBeforeProcessor:(Ljava/lang/Object;)V
      34: return

  public void processEvent(org.apache.xml.security.stax.ext.stax.XMLSecEvent, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
       4: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
       7: invokevirtual #10                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
      10: astore_3
      11: aload_0
      12: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      15: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      18: invokevirtual #11                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getUsernameTokenPasswordType:()Lorg/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType;
      21: astore        4
      23: aload_3
      24: ifnonnull     48
      27: getstatic     #12                 // Field org/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType.PASSWORD_NONE:Lorg/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType;
      30: aload         4
      32: if_acmpeq     48
      35: new           #13                 // class org/apache/wss4j/common/ext/WSSecurityException
      38: dup
      39: getstatic     #14                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
      42: ldc           #15                 // String noCallback
      44: invokespecial #16                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
      47: athrow
      48: aconst_null
      49: astore        5
      51: aload_3
      52: ifnull        88
      55: new           #17                 // class org/apache/wss4j/common/ext/WSPasswordCallback
      58: dup
      59: aload_0
      60: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      63: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      66: invokevirtual #18                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getTokenUser:()Ljava/lang/String;
      69: iconst_2
      70: invokespecial #19                 // Method org/apache/wss4j/common/ext/WSPasswordCallback."<init>":(Ljava/lang/String;I)V
      73: astore        6
      75: aload_3
      76: aload         6
      78: invokestatic  #20                 // Method org/apache/wss4j/stax/utils/WSSUtils.doPasswordCallback:(Ljavax/security/auth/callback/CallbackHandler;Ljavax/security/auth/callback/Callback;)V
      81: aload         6
      83: invokevirtual #21                 // Method org/apache/wss4j/common/ext/WSPasswordCallback.getPassword:()Ljava/lang/String;
      86: astore        5
      88: aload         5
      90: ifnonnull     112
      93: getstatic     #12                 // Field org/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType.PASSWORD_NONE:Lorg/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType;
      96: aload         4
      98: if_acmpeq     112
     101: new           #13                 // class org/apache/wss4j/common/ext/WSSecurityException
     104: dup
     105: getstatic     #14                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     108: invokespecial #22                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;)V
     111: athrow
     112: aconst_null
     113: invokestatic  #23                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     116: astore        6
     118: aload_0
     119: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     122: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     125: invokevirtual #24                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.isUseDerivedKeyForMAC:()Z
     128: istore        7
     130: aload_0
     131: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     134: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     137: invokevirtual #25                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getDerivedKeyIterations:()Ljava/lang/Integer;
     140: invokevirtual #26                 // Method java/lang/Integer.intValue:()I
     143: istore        8
     145: aconst_null
     146: astore        9
     148: getstatic     #27                 // Field org/apache/wss4j/stax/ext/WSSConstants.USERNAMETOKEN_SIGNED:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     151: aload_0
     152: invokevirtual #28                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     155: invokevirtual #29                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
     158: ifeq          168
     161: iload         7
     163: invokestatic  #30                 // Method org/apache/wss4j/common/util/UsernameTokenUtil.generateSalt:(Z)[B
     166: astore        9
     168: aconst_null
     169: astore        10
     171: aload         4
     173: getstatic     #31                 // Field org/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType.PASSWORD_DIGEST:Lorg/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType;
     176: if_acmpeq     192
     179: aload_0
     180: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     183: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     186: invokevirtual #32                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.isAddUsernameTokenNonce:()Z
     189: ifeq          199
     192: bipush        16
     194: invokestatic  #33                 // Method org/apache/wss4j/stax/ext/WSSConstants.generateBytes:(I)[B
     197: astore        10
     199: aconst_null
     200: astore        11
     202: ldc           #34                 // String
     204: astore        12
     206: aload         4
     208: getstatic     #31                 // Field org/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType.PASSWORD_DIGEST:Lorg/apache/wss4j/stax/ext/WSSConstants$UsernameTokenPasswordType;
     211: if_acmpeq     227
     214: aload_0
     215: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     218: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     221: invokevirtual #35                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.isAddUsernameTokenCreated:()Z
     224: ifeq          254
     227: getstatic     #36                 // Field org/apache/wss4j/stax/ext/WSSConstants.datatypeFactory:Ljavax/xml/datatype/DatatypeFactory;
     230: new           #37                 // class java/util/GregorianCalendar
     233: dup
     234: ldc           #38                 // String UTC
     236: invokestatic  #39                 // Method java/util/TimeZone.getTimeZone:(Ljava/lang/String;)Ljava/util/TimeZone;
     239: invokespecial #40                 // Method java/util/GregorianCalendar."<init>":(Ljava/util/TimeZone;)V
     242: invokevirtual #41                 // Method javax/xml/datatype/DatatypeFactory.newXMLGregorianCalendar:(Ljava/util/GregorianCalendar;)Ljavax/xml/datatype/XMLGregorianCalendar;
     245: astore        11
     247: aload         11
     249: invokevirtual #42                 // Method javax/xml/datatype/XMLGregorianCalendar.toXMLFormat:()Ljava/lang/String;
     252: astore        12
     254: aload_0
     255: astore        13
     257: new           #43                 // class org/apache/wss4j/stax/impl/securityToken/OutboundUsernameSecurityToken
     260: dup
     261: aload_0
     262: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     265: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     268: invokevirtual #18                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getTokenUser:()Ljava/lang/String;
     271: aload         5
     273: aload         12
     275: aload         10
     277: aload         6
     279: aload         9
     281: iload         8
     283: invokespecial #44                 // Method org/apache/wss4j/stax/impl/securityToken/OutboundUsernameSecurityToken."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;[BLjava/lang/String;[BI)V
     286: astore        14
     288: aload         14
     290: aload         13
     292: invokevirtual #45                 // Method org/apache/wss4j/stax/impl/securityToken/OutboundUsernameSecurityToken.setProcessor:(Ljava/lang/Object;)V
     295: new           #46                 // class org/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor$1
     298: dup
     299: aload_0
     300: aload         14
     302: aload         6
     304: invokespecial #47                 // Method org/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor$1."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor;Lorg/apache/wss4j/stax/impl/securityToken/OutboundUsernameSecurityToken;Ljava/lang/String;)V
     307: astore        15
     309: getstatic     #27                 // Field org/apache/wss4j/stax/ext/WSSConstants.USERNAMETOKEN_SIGNED:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     312: aload_0
     313: invokevirtual #28                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     316: invokevirtual #29                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
     319: ifeq          352
     322: aload_2
     323: invokeinterface #48,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     328: aload         6
     330: aload         15
     332: invokeinterface #49,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.registerSecurityTokenProvider:(Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;)V
     337: aload_2
     338: invokeinterface #48,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     343: ldc           #50                 // String PROP_USE_THIS_TOKEN_ID_FOR_SIGNATURE
     345: aload         6
     347: invokeinterface #51,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.put:(Ljava/lang/String;Ljava/lang/Object;)V
     352: new           #52                 // class org/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor$FinalUsernameTokenOutputProcessor
     355: dup
     356: aload_0
     357: aload         6
     359: aload         10
     361: aload         5
     363: aload         11
     365: aload         9
     367: iload         8
     369: aload_0
     370: invokevirtual #28                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     373: invokespecial #53                 // Method org/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor$FinalUsernameTokenOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor;Ljava/lang/String;[BLjava/lang/String;Ljavax/xml/datatype/XMLGregorianCalendar;[BILorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;)V
     376: astore        16
     378: aload         16
     380: aload_0
     381: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     384: invokevirtual #54                 // Method org/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor$FinalUsernameTokenOutputProcessor.setXMLSecurityProperties:(Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;)V
     387: aload         16
     389: aload_0
     390: invokevirtual #28                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     393: invokevirtual #55                 // Method org/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor$FinalUsernameTokenOutputProcessor.setAction:(Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;)V
     396: aload         16
     398: aload_2
     399: invokevirtual #56                 // Method org/apache/wss4j/stax/impl/processor/output/UsernameTokenOutputProcessor$FinalUsernameTokenOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     402: aload_2
     403: aload_0
     404: invokeinterface #57,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
     409: goto          424
     412: astore        17
     414: aload_2
     415: aload_0
     416: invokeinterface #57,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
     421: aload         17
     423: athrow
     424: aload_2
     425: aload_1
     426: invokeinterface #58,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.processEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)V
     431: return
    Exception table:
       from    to  target type
           0   402   412   any
         412   414   412   any
}
