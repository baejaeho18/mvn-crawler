Compiled from "ExternalSecurityTokenImpl.java"
public class org.apache.wss4j.stax.impl.securityToken.ExternalSecurityTokenImpl extends org.apache.xml.security.stax.impl.securityToken.AbstractInboundSecurityToken {
  private org.w3c.dom.Element tokenElement;

  private byte[] key;

  public org.apache.wss4j.stax.impl.securityToken.ExternalSecurityTokenImpl(org.apache.wss4j.stax.ext.WSInboundSecurityContext, java.lang.String, org.apache.xml.security.stax.securityToken.SecurityTokenConstants$KeyIdentifier, org.apache.wss4j.stax.ext.WSSSecurityProperties, boolean) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: iload         5
       6: invokespecial #1                  // Method org/apache/xml/security/stax/impl/securityToken/AbstractInboundSecurityToken."<init>":(Lorg/apache/xml/security/stax/ext/InboundSecurityContext;Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;Z)V
       9: aload         4
      11: invokevirtual #2                  // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
      14: ifnull        86
      17: new           #3                  // class org/apache/wss4j/common/ext/WSPasswordCallback
      20: dup
      21: aload_2
      22: bipush        7
      24: invokespecial #4                  // Method org/apache/wss4j/common/ext/WSPasswordCallback."<init>":(Ljava/lang/String;I)V
      27: astore        6
      29: aload         4
      31: invokevirtual #2                  // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
      34: iconst_1
      35: anewarray     #5                  // class javax/security/auth/callback/Callback
      38: dup
      39: iconst_0
      40: aload         6
      42: aastore
      43: invokeinterface #6,  2            // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
      48: goto          68
      51: astore        7
      53: new           #9                  // class org/apache/wss4j/common/ext/WSSecurityException
      56: dup
      57: getstatic     #10                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
      60: aload         7
      62: ldc           #11                 // String noPassword
      64: invokespecial #12                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;Ljava/lang/String;)V
      67: athrow
      68: aload_0
      69: aload         6
      71: invokevirtual #13                 // Method org/apache/wss4j/common/ext/WSPasswordCallback.getCustomToken:()Lorg/w3c/dom/Element;
      74: putfield      #14                 // Field tokenElement:Lorg/w3c/dom/Element;
      77: aload_0
      78: aload         6
      80: invokevirtual #15                 // Method org/apache/wss4j/common/ext/WSPasswordCallback.getKey:()[B
      83: putfield      #16                 // Field key:[B
      86: aload_0
      87: getfield      #14                 // Field tokenElement:Lorg/w3c/dom/Element;
      90: ifnonnull     114
      93: new           #9                  // class org/apache/wss4j/common/ext/WSSecurityException
      96: dup
      97: getstatic     #17                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.SECURITY_TOKEN_UNAVAILABLE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     100: ldc           #18                 // String noToken
     102: iconst_1
     103: anewarray     #19                 // class java/lang/Object
     106: dup
     107: iconst_0
     108: aload_2
     109: aastore
     110: invokespecial #20                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
     113: athrow
     114: return
    Exception table:
       from    to  target type
          29    48    51   Class java/io/IOException
          29    48    51   Class javax/security/auth/callback/UnsupportedCallbackException

  protected java.security.Key getKey(java.lang.String, org.apache.xml.security.stax.ext.XMLSecurityConstants$AlgorithmUsage, java.lang.String) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_1
       1: invokestatic  #21                 // Method org/apache/xml/security/algorithms/JCEMapper.getJCEKeyAlgorithmFromURI:(Ljava/lang/String;)Ljava/lang/String;
       4: astore        4
       6: new           #22                 // class javax/crypto/spec/SecretKeySpec
       9: dup
      10: aload_0
      11: getfield      #16                 // Field key:[B
      14: aload         4
      16: invokespecial #23                 // Method javax/crypto/spec/SecretKeySpec."<init>":([BLjava/lang/String;)V
      19: areturn

  public org.apache.xml.security.stax.securityToken.SecurityTokenConstants$TokenType getTokenType();
    Code:
       0: ldc           #24                 // String SecurityContextToken
       2: aload_0
       3: getfield      #14                 // Field tokenElement:Lorg/w3c/dom/Element;
       6: invokeinterface #25,  1           // InterfaceMethod org/w3c/dom/Element.getLocalName:()Ljava/lang/String;
      11: invokevirtual #26                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      14: ifeq          21
      17: getstatic     #27                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.SecurityContextToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
      20: areturn
      21: aconst_null
      22: areturn
}
