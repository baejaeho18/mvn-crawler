Compiled from "AttachmentContentSignatureTransform.java"
public class org.apache.wss4j.dom.transform.AttachmentContentSignatureTransform extends javax.xml.crypto.dsig.TransformService {
  public static final java.lang.String TRANSFORM_URI;

  public static final java.lang.String ATTACHMENT_CALLBACKHANDLER;

  private org.apache.wss4j.dom.transform.AttachmentTransformParameterSpec attachmentTransformParameterSpec;

  public org.apache.wss4j.dom.transform.AttachmentContentSignatureTransform();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/xml/crypto/dsig/TransformService."<init>":()V
       4: return

  public void init(javax.xml.crypto.dsig.spec.TransformParameterSpec) throws java.security.InvalidAlgorithmParameterException;
    Code:
       0: aload_1
       1: instanceof    #2                  // class org/apache/wss4j/dom/transform/AttachmentTransformParameterSpec
       4: ifne          17
       7: new           #3                  // class java/security/InvalidAlgorithmParameterException
      10: dup
      11: ldc           #4                  // String Expected AttachmentTransformParameterSpec
      13: invokespecial #5                  // Method java/security/InvalidAlgorithmParameterException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: aload_1
      19: checkcast     #2                  // class org/apache/wss4j/dom/transform/AttachmentTransformParameterSpec
      22: putfield      #6                  // Field attachmentTransformParameterSpec:Lorg/apache/wss4j/dom/transform/AttachmentTransformParameterSpec;
      25: return

  protected org.apache.wss4j.dom.transform.AttachmentTransformParameterSpec getAttachmentTransformParameterSpec();
    Code:
       0: aload_0
       1: getfield      #6                  // Field attachmentTransformParameterSpec:Lorg/apache/wss4j/dom/transform/AttachmentTransformParameterSpec;
       4: areturn

  public void init(javax.xml.crypto.XMLStructure, javax.xml.crypto.XMLCryptoContext) throws java.security.InvalidAlgorithmParameterException;
    Code:
       0: return

  public void marshalParams(javax.xml.crypto.XMLStructure, javax.xml.crypto.XMLCryptoContext) throws javax.xml.crypto.MarshalException;
    Code:
       0: return

  public java.security.spec.AlgorithmParameterSpec getParameterSpec();
    Code:
       0: aload_0
       1: getfield      #6                  // Field attachmentTransformParameterSpec:Lorg/apache/wss4j/dom/transform/AttachmentTransformParameterSpec;
       4: areturn

  public javax.xml.crypto.Data transform(javax.xml.crypto.Data, javax.xml.crypto.XMLCryptoContext) throws javax.xml.crypto.dsig.TransformException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: invokevirtual #7                  // Method transform:(Ljavax/xml/crypto/Data;Ljavax/xml/crypto/XMLCryptoContext;Ljava/io/OutputStream;)Ljavax/xml/crypto/Data;
       7: areturn

  public javax.xml.crypto.Data transform(javax.xml.crypto.Data, javax.xml.crypto.XMLCryptoContext, java.io.OutputStream) throws javax.xml.crypto.dsig.TransformException;
    Code:
       0: aload_1
       1: checkcast     #8                  // class org/apache/jcp/xml/dsig/internal/dom/ApacheOctetStreamData
       4: invokevirtual #9                  // Method org/apache/jcp/xml/dsig/internal/dom/ApacheOctetStreamData.getURI:()Ljava/lang/String;
       7: astore        4
       9: aload         4
      11: iconst_4
      12: invokevirtual #10                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      15: astore        5
      17: aload_0
      18: getfield      #6                  // Field attachmentTransformParameterSpec:Lorg/apache/wss4j/dom/transform/AttachmentTransformParameterSpec;
      21: ifnull        52
      24: aload_0
      25: getfield      #6                  // Field attachmentTransformParameterSpec:Lorg/apache/wss4j/dom/transform/AttachmentTransformParameterSpec;
      28: invokevirtual #11                 // Method org/apache/wss4j/dom/transform/AttachmentTransformParameterSpec.getAttachment:()Lorg/apache/wss4j/common/ext/Attachment;
      31: astore        6
      33: aload_2
      34: ldc           #12                 // String AttachmentContentTransform.attachmentCallbackHandler
      36: aload_0
      37: getfield      #6                  // Field attachmentTransformParameterSpec:Lorg/apache/wss4j/dom/transform/AttachmentTransformParameterSpec;
      40: invokevirtual #13                 // Method org/apache/wss4j/dom/transform/AttachmentTransformParameterSpec.getAttachmentCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
      43: invokeinterface #14,  3           // InterfaceMethod javax/xml/crypto/XMLCryptoContext.setProperty:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      48: pop
      49: goto          61
      52: aload_0
      53: aload_2
      54: aload         5
      56: invokevirtual #15                 // Method attachmentRequestCallback:(Ljavax/xml/crypto/XMLCryptoContext;Ljava/lang/String;)Lorg/apache/wss4j/common/ext/Attachment;
      59: astore        6
      61: aload_0
      62: aload_2
      63: aload_3
      64: aload         4
      66: aload         6
      68: invokevirtual #16                 // Method processAttachment:(Ljavax/xml/crypto/XMLCryptoContext;Ljava/io/OutputStream;Ljava/lang/String;Lorg/apache/wss4j/common/ext/Attachment;)Ljavax/xml/crypto/Data;
      71: areturn

  protected org.apache.wss4j.common.ext.Attachment attachmentRequestCallback(javax.xml.crypto.XMLCryptoContext, java.lang.String) throws javax.xml.crypto.dsig.TransformException;
    Code:
       0: aload_1
       1: ldc           #12                 // String AttachmentContentTransform.attachmentCallbackHandler
       3: invokeinterface #17,  2           // InterfaceMethod javax/xml/crypto/XMLCryptoContext.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
       8: checkcast     #18                 // class javax/security/auth/callback/CallbackHandler
      11: astore_3
      12: aload_3
      13: ifnonnull     26
      16: new           #19                 // class javax/xml/crypto/dsig/TransformException
      19: dup
      20: ldc           #20                 // String No attachment callbackhandler supplied
      22: invokespecial #21                 // Method javax/xml/crypto/dsig/TransformException."<init>":(Ljava/lang/String;)V
      25: athrow
      26: new           #22                 // class org/apache/wss4j/common/ext/AttachmentRequestCallback
      29: dup
      30: invokespecial #23                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback."<init>":()V
      33: astore        4
      35: aload         4
      37: aload_2
      38: invokevirtual #24                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback.setAttachmentId:(Ljava/lang/String;)V
      41: aload_3
      42: iconst_1
      43: anewarray     #25                 // class javax/security/auth/callback/Callback
      46: dup
      47: iconst_0
      48: aload         4
      50: aastore
      51: invokeinterface #26,  2           // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
      56: goto          71
      59: astore        5
      61: new           #19                 // class javax/xml/crypto/dsig/TransformException
      64: dup
      65: aload         5
      67: invokespecial #28                 // Method javax/xml/crypto/dsig/TransformException."<init>":(Ljava/lang/Throwable;)V
      70: athrow
      71: aload         4
      73: invokevirtual #29                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback.getAttachments:()Ljava/util/List;
      76: astore        5
      78: aload         5
      80: ifnull        114
      83: aload         5
      85: invokeinterface #30,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      90: ifne          114
      93: aload_2
      94: aload         5
      96: iconst_0
      97: invokeinterface #31,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     102: checkcast     #32                 // class org/apache/wss4j/common/ext/Attachment
     105: invokevirtual #33                 // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
     108: invokevirtual #34                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     111: ifne          124
     114: new           #19                 // class javax/xml/crypto/dsig/TransformException
     117: dup
     118: ldc           #35                 // String Attachment not found
     120: invokespecial #21                 // Method javax/xml/crypto/dsig/TransformException."<init>":(Ljava/lang/String;)V
     123: athrow
     124: aload         5
     126: iconst_0
     127: invokeinterface #31,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     132: checkcast     #32                 // class org/apache/wss4j/common/ext/Attachment
     135: areturn
    Exception table:
       from    to  target type
          41    56    59   Class java/lang/Exception

  protected void attachmentResultCallback(javax.xml.crypto.XMLCryptoContext, org.apache.wss4j.common.ext.Attachment) throws javax.xml.crypto.dsig.TransformException;
    Code:
       0: aload_1
       1: ldc           #12                 // String AttachmentContentTransform.attachmentCallbackHandler
       3: invokeinterface #17,  2           // InterfaceMethod javax/xml/crypto/XMLCryptoContext.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
       8: checkcast     #18                 // class javax/security/auth/callback/CallbackHandler
      11: astore_3
      12: aload_3
      13: ifnonnull     26
      16: new           #19                 // class javax/xml/crypto/dsig/TransformException
      19: dup
      20: ldc           #20                 // String No attachment callbackhandler supplied
      22: invokespecial #21                 // Method javax/xml/crypto/dsig/TransformException."<init>":(Ljava/lang/String;)V
      25: athrow
      26: new           #36                 // class org/apache/wss4j/common/ext/AttachmentResultCallback
      29: dup
      30: invokespecial #37                 // Method org/apache/wss4j/common/ext/AttachmentResultCallback."<init>":()V
      33: astore        4
      35: aload         4
      37: aload_2
      38: invokevirtual #33                 // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
      41: invokevirtual #38                 // Method org/apache/wss4j/common/ext/AttachmentResultCallback.setAttachmentId:(Ljava/lang/String;)V
      44: aload         4
      46: aload_2
      47: invokevirtual #39                 // Method org/apache/wss4j/common/ext/AttachmentResultCallback.setAttachment:(Lorg/apache/wss4j/common/ext/Attachment;)V
      50: aload_3
      51: iconst_1
      52: anewarray     #25                 // class javax/security/auth/callback/Callback
      55: dup
      56: iconst_0
      57: aload         4
      59: aastore
      60: invokeinterface #26,  2           // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
      65: goto          80
      68: astore        5
      70: new           #19                 // class javax/xml/crypto/dsig/TransformException
      73: dup
      74: aload         5
      76: invokespecial #28                 // Method javax/xml/crypto/dsig/TransformException."<init>":(Ljava/lang/Throwable;)V
      79: athrow
      80: return
    Exception table:
       from    to  target type
          50    65    68   Class java/lang/Exception

  protected javax.xml.crypto.Data processAttachment(javax.xml.crypto.XMLCryptoContext, java.io.OutputStream, java.lang.String, org.apache.wss4j.common.ext.Attachment) throws javax.xml.crypto.dsig.TransformException;
    Code:
       0: aload         4
       2: invokevirtual #40                 // Method org/apache/wss4j/common/ext/Attachment.getSourceStream:()Ljava/io/InputStream;
       5: astore        5
       7: aload         5
       9: invokevirtual #41                 // Method java/io/InputStream.markSupported:()Z
      12: ifne          26
      15: new           #42                 // class java/io/BufferedInputStream
      18: dup
      19: aload         5
      21: invokespecial #43                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
      24: astore        5
      26: aload         5
      28: ldc           #44                 // int 2147483647
      30: invokevirtual #45                 // Method java/io/InputStream.mark:(I)V
      33: new           #46                 // class org/apache/wss4j/dom/transform/AttachmentContentSignatureTransform$1
      36: dup
      37: aload_0
      38: aload         5
      40: invokespecial #47                 // Method org/apache/wss4j/dom/transform/AttachmentContentSignatureTransform$1."<init>":(Lorg/apache/wss4j/dom/transform/AttachmentContentSignatureTransform;Ljava/io/InputStream;)V
      43: astore        5
      45: aload_2
      46: astore        6
      48: aload         6
      50: ifnonnull     62
      53: new           #48                 // class java/io/ByteArrayOutputStream
      56: dup
      57: invokespecial #49                 // Method java/io/ByteArrayOutputStream."<init>":()V
      60: astore        6
      62: aload         4
      64: invokevirtual #50                 // Method org/apache/wss4j/common/ext/Attachment.getMimeType:()Ljava/lang/String;
      67: astore        7
      69: aconst_null
      70: astore        8
      72: aload         7
      74: ifnull        84
      77: aload         7
      79: invokevirtual #51                 // Method java/lang/String.toLowerCase:()Ljava/lang/String;
      82: astore        8
      84: aload         8
      86: ifnull        158
      89: aload         8
      91: ldc           #52                 // String text/xml
      93: invokevirtual #53                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      96: ifne          119
      99: aload         8
     101: ldc           #54                 // String application/xml
     103: invokevirtual #53                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     106: ifne          119
     109: aload         8
     111: ldc           #55                 // String (application|image)/.*\\+xml.*
     113: invokevirtual #56                 // Method java/lang/String.matches:(Ljava/lang/String;)Z
     116: ifeq          158
     119: ldc           #57                 // String http://www.w3.org/2001/10/xml-exc-c14n#
     121: invokestatic  #58                 // Method org/apache/xml/security/c14n/Canonicalizer.getInstance:(Ljava/lang/String;)Lorg/apache/xml/security/c14n/Canonicalizer;
     124: astore        9
     126: aload         9
     128: aload         6
     130: invokevirtual #59                 // Method org/apache/xml/security/c14n/Canonicalizer.setWriter:(Ljava/io/OutputStream;)V
     133: new           #60                 // class org/apache/xml/security/signature/XMLSignatureInput
     136: dup
     137: aload         5
     139: invokespecial #61                 // Method org/apache/xml/security/signature/XMLSignatureInput."<init>":(Ljava/io/InputStream;)V
     142: astore        10
     144: aload         9
     146: aload         10
     148: invokevirtual #62                 // Method org/apache/xml/security/signature/XMLSignatureInput.getNodeSet:()Ljava/util/Set;
     151: invokevirtual #63                 // Method org/apache/xml/security/c14n/Canonicalizer.canonicalizeXPathNodeSet:(Ljava/util/Set;)[B
     154: pop
     155: goto          255
     158: aload         8
     160: ifnull        221
     163: aload         8
     165: ldc           #64                 // String text/
     167: invokevirtual #53                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     170: ifeq          221
     173: new           #65                 // class org/apache/wss4j/common/util/CRLFOutputStream
     176: dup
     177: aload         6
     179: invokespecial #66                 // Method org/apache/wss4j/common/util/CRLFOutputStream."<init>":(Ljava/io/OutputStream;)V
     182: astore        9
     184: sipush        8192
     187: newarray       byte
     189: astore        11
     191: aload         5
     193: aload         11
     195: invokevirtual #67                 // Method java/io/InputStream.read:([B)I
     198: dup
     199: istore        10
     201: iconst_m1
     202: if_icmpeq     218
     205: aload         9
     207: aload         11
     209: iconst_0
     210: iload         10
     212: invokevirtual #68                 // Method org/apache/wss4j/common/util/CRLFOutputStream.write:([BII)V
     215: goto          191
     218: goto          255
     221: sipush        8192
     224: newarray       byte
     226: astore        10
     228: aload         5
     230: aload         10
     232: invokevirtual #67                 // Method java/io/InputStream.read:([B)I
     235: dup
     236: istore        9
     238: iconst_m1
     239: if_icmpeq     255
     242: aload         6
     244: aload         10
     246: iconst_0
     247: iload         9
     249: invokevirtual #69                 // Method java/io/OutputStream.write:([BII)V
     252: goto          228
     255: aload         5
     257: invokevirtual #70                 // Method java/io/InputStream.reset:()V
     260: new           #32                 // class org/apache/wss4j/common/ext/Attachment
     263: dup
     264: invokespecial #71                 // Method org/apache/wss4j/common/ext/Attachment."<init>":()V
     267: astore        9
     269: aload         9
     271: aload         4
     273: invokevirtual #33                 // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
     276: invokevirtual #72                 // Method org/apache/wss4j/common/ext/Attachment.setId:(Ljava/lang/String;)V
     279: aload         9
     281: aload         7
     283: invokevirtual #73                 // Method org/apache/wss4j/common/ext/Attachment.setMimeType:(Ljava/lang/String;)V
     286: aload         9
     288: aload         4
     290: invokevirtual #74                 // Method org/apache/wss4j/common/ext/Attachment.getHeaders:()Ljava/util/Map;
     293: invokevirtual #75                 // Method org/apache/wss4j/common/ext/Attachment.addHeaders:(Ljava/util/Map;)V
     296: aload         9
     298: aload         5
     300: invokevirtual #76                 // Method org/apache/wss4j/common/ext/Attachment.setSourceStream:(Ljava/io/InputStream;)V
     303: aload_0
     304: aload_1
     305: aload         9
     307: invokevirtual #77                 // Method attachmentResultCallback:(Ljavax/xml/crypto/XMLCryptoContext;Lorg/apache/wss4j/common/ext/Attachment;)V
     310: aload_2
     311: ifnonnull     340
     314: new           #78                 // class javax/xml/crypto/OctetStreamData
     317: dup
     318: new           #79                 // class java/io/ByteArrayInputStream
     321: dup
     322: aload         6
     324: checkcast     #48                 // class java/io/ByteArrayOutputStream
     327: invokevirtual #80                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     330: invokespecial #81                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     333: aload_3
     334: aload         7
     336: invokespecial #82                 // Method javax/xml/crypto/OctetStreamData."<init>":(Ljava/io/InputStream;Ljava/lang/String;Ljava/lang/String;)V
     339: areturn
     340: aconst_null
     341: areturn
     342: astore        5
     344: new           #19                 // class javax/xml/crypto/dsig/TransformException
     347: dup
     348: aload         5
     350: invokespecial #28                 // Method javax/xml/crypto/dsig/TransformException."<init>":(Ljava/lang/Throwable;)V
     353: athrow
    Exception table:
       from    to  target type
           0   339   342   Class java/io/IOException
           0   339   342   Class org/apache/xml/security/c14n/InvalidCanonicalizerException
           0   339   342   Class org/apache/xml/security/c14n/CanonicalizationException
           0   339   342   Class javax/xml/parsers/ParserConfigurationException
           0   339   342   Class org/xml/sax/SAXException
         340   341   342   Class java/io/IOException
         340   341   342   Class org/apache/xml/security/c14n/InvalidCanonicalizerException
         340   341   342   Class org/apache/xml/security/c14n/CanonicalizationException
         340   341   342   Class javax/xml/parsers/ParserConfigurationException
         340   341   342   Class org/xml/sax/SAXException

  public boolean isFeatureSupported(java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     12
       4: new           #88                 // class java/lang/NullPointerException
       7: dup
       8: invokespecial #89                 // Method java/lang/NullPointerException."<init>":()V
      11: athrow
      12: iconst_0
      13: ireturn
}
