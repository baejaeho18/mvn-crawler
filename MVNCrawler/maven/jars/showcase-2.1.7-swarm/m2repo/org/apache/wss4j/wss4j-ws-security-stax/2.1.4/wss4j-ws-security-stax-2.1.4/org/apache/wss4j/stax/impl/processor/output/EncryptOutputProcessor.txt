Compiled from "EncryptOutputProcessor.java"
public class org.apache.wss4j.stax.impl.processor.output.EncryptOutputProcessor extends org.apache.xml.security.stax.impl.processor.output.AbstractEncryptOutputProcessor {
  private static final org.slf4j.Logger LOG;

  public org.apache.wss4j.stax.impl.processor.output.EncryptOutputProcessor() throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor."<init>":()V
       4: return

  public void init(org.apache.xml.security.stax.ext.OutputProcessorChain) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method org/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
       5: new           #3                  // class org/apache/wss4j/stax/impl/processor/output/EncryptEndingOutputProcessor
       8: dup
       9: invokespecial #4                  // Method org/apache/wss4j/stax/impl/processor/output/EncryptEndingOutputProcessor."<init>":()V
      12: astore_2
      13: aload_2
      14: aload_0
      15: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      18: invokevirtual #6                  // Method org/apache/wss4j/stax/impl/processor/output/EncryptEndingOutputProcessor.setXMLSecurityProperties:(Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;)V
      21: aload_2
      22: aload_0
      23: invokevirtual #7                  // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      26: invokevirtual #8                  // Method org/apache/wss4j/stax/impl/processor/output/EncryptEndingOutputProcessor.setAction:(Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;)V
      29: aload_2
      30: aload_1
      31: invokevirtual #9                  // Method org/apache/wss4j/stax/impl/processor/output/EncryptEndingOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
      34: return

  public void processEvent(org.apache.xml.security.stax.ext.stax.XMLSecEvent, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_1
       1: invokeinterface #10,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.getEventType:()I
       6: iconst_1
       7: if_icmpne     346
      10: aload_1
      11: invokeinterface #11,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecEvent.asStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      16: astore_3
      17: aload_0
      18: invokevirtual #12                 // Method getActiveInternalEncryptionOutputProcessor:()Lorg/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor$AbstractInternalEncryptionOutputProcessor;
      21: ifnonnull     346
      24: aload_0
      25: aload_3
      26: aload_2
      27: ldc           #13                 // String encryptionParts
      29: invokevirtual #14                 // Method securePartMatches:(Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/SecurePart;
      32: astore        4
      34: aload         4
      36: ifnull        346
      39: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      42: ldc           #16                 // String Matched encryptionPart for encryption
      44: invokeinterface #17,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      49: aload_2
      50: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
      55: ldc           #19                 // String PROP_USE_THIS_TOKEN_ID_FOR_ENCRYPTION
      57: invokeinterface #20,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.get:(Ljava/lang/String;)Ljava/lang/Object;
      62: checkcast     #21                 // class java/lang/String
      65: astore        6
      67: aload_2
      68: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
      73: aload         6
      75: invokeinterface #22,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.getSecurityTokenProvider:(Ljava/lang/String;)Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;
      80: astore        7
      82: aload         7
      84: invokeinterface #23,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getSecurityToken:()Ljava/lang/Object;
      89: checkcast     #24                 // class org/apache/xml/security/stax/securityToken/OutboundSecurityToken
      92: astore        8
      94: new           #25                 // class org/apache/xml/security/stax/impl/EncryptionPartDef
      97: dup
      98: invokespecial #26                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef."<init>":()V
     101: astore        9
     103: aload         9
     105: aload         4
     107: invokevirtual #27                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setSecurePart:(Lorg/apache/xml/security/stax/ext/SecurePart;)V
     110: aload         9
     112: aload         4
     114: invokevirtual #28                 // Method org/apache/xml/security/stax/ext/SecurePart.getModifier:()Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
     117: invokevirtual #29                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setModifier:(Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;)V
     120: aload         9
     122: aconst_null
     123: invokestatic  #30                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     126: invokevirtual #31                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setEncRefId:(Ljava/lang/String;)V
     129: aload_2
     130: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     135: ldc           #32                 // String signatureParts
     137: invokeinterface #33,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.getAsMap:(Ljava/lang/Object;)Ljava/util/Map;
     142: astore        10
     144: aload         10
     146: ifnull        207
     149: aload         4
     151: invokevirtual #34                 // Method org/apache/xml/security/stax/ext/SecurePart.getName:()Ljavax/xml/namespace/QName;
     154: ifnull        207
     157: aload         4
     159: aload         10
     161: aload         4
     163: invokevirtual #34                 // Method org/apache/xml/security/stax/ext/SecurePart.getName:()Ljavax/xml/namespace/QName;
     166: invokeinterface #35,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     171: invokevirtual #36                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     174: ifeq          207
     177: aload         4
     179: aload         9
     181: invokevirtual #37                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getEncRefId:()Ljava/lang/String;
     184: invokevirtual #38                 // Method org/apache/xml/security/stax/ext/SecurePart.setIdToSign:(Ljava/lang/String;)V
     187: aload_2
     188: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     193: ldc           #32                 // String signatureParts
     195: aload         4
     197: invokevirtual #39                 // Method org/apache/xml/security/stax/ext/SecurePart.getIdToSign:()Ljava/lang/String;
     200: aload         4
     202: invokeinterface #40,  4           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.putAsMap:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     207: aload         9
     209: aload         7
     211: invokeinterface #41,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getId:()Ljava/lang/String;
     216: invokevirtual #42                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setKeyId:(Ljava/lang/String;)V
     219: aload         9
     221: aload         8
     223: aload_0
     224: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     227: invokevirtual #43                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getEncryptionSymAlgorithm:()Ljava/lang/String;
     230: invokeinterface #44,  2           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getSecretKey:(Ljava/lang/String;)Ljava/security/Key;
     235: invokevirtual #45                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setSymmetricKey:(Ljava/security/Key;)V
     238: aload_2
     239: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     244: ldc_w         #25                 // class org/apache/xml/security/stax/impl/EncryptionPartDef
     247: aload         9
     249: invokeinterface #46,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.putAsList:(Ljava/lang/Object;Ljava/lang/Object;)V
     254: new           #47                 // class org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor$InternalEncryptionOutputProcessor
     257: dup
     258: aload_0
     259: aload         9
     261: aload_3
     262: aload_2
     263: invokeinterface #48,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getDocumentContext:()Lorg/apache/xml/security/stax/ext/DocumentContext;
     268: invokeinterface #49,  1           // InterfaceMethod org/apache/xml/security/stax/ext/DocumentContext.getEncoding:()Ljava/lang/String;
     273: aload         8
     275: invokespecial #50                 // Method org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor$InternalEncryptionOutputProcessor."<init>":(Lorg/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor;Lorg/apache/xml/security/stax/impl/EncryptionPartDef;Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;)V
     278: astore        5
     280: aload         5
     282: aload_0
     283: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     286: invokevirtual #51                 // Method org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor$InternalEncryptionOutputProcessor.setXMLSecurityProperties:(Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;)V
     289: aload         5
     291: aload_0
     292: invokevirtual #7                  // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     295: invokevirtual #52                 // Method org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor$InternalEncryptionOutputProcessor.setAction:(Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;)V
     298: aload         5
     300: aload_2
     301: invokevirtual #53                 // Method org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor$InternalEncryptionOutputProcessor.init:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     304: aload_0
     305: aload         5
     307: invokevirtual #54                 // Method setActiveInternalEncryptionOutputProcessor:(Lorg/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor$AbstractInternalEncryptionOutputProcessor;)V
     310: ldc           #55                 // String Body
     312: aload_3
     313: invokeinterface #56,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     318: invokevirtual #57                 // Method javax/xml/namespace/QName.getLocalPart:()Ljava/lang/String;
     321: invokevirtual #58                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     324: ifeq          346
     327: aload_3
     328: invokestatic  #59                 // Method org/apache/wss4j/stax/utils/WSSUtils.isInSOAPBody:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)Z
     331: ifeq          346
     334: aload_0
     335: aload_2
     336: invokevirtual #60                 // Method doFinalInternal:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     339: aload_2
     340: aload_0
     341: invokeinterface #61,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
     346: aload_2
     347: aload_1
     348: invokeinterface #62,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.processEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)V
     353: return

  protected org.apache.xml.security.stax.ext.SecurePart securePartMatches(org.apache.xml.security.stax.ext.stax.XMLSecStartElement, java.util.Map<java.lang.Object, org.apache.xml.security.stax.ext.SecurePart>);
    Code:
       0: aload_1
       1: invokeinterface #63,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getOnElementDeclaredAttributes:()Ljava/util/List;
       6: invokeinterface #64,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      11: ifne          170
      14: aload_1
      15: getstatic     #65                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
      18: invokeinterface #66,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
      23: astore_3
      24: aload_3
      25: ifnull        53
      28: aload_2
      29: aload_3
      30: invokeinterface #67,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
      35: invokeinterface #35,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      40: checkcast     #68                 // class org/apache/xml/security/stax/ext/SecurePart
      43: astore        4
      45: aload         4
      47: ifnull        53
      50: aload         4
      52: areturn
      53: aload_1
      54: getstatic     #69                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_Id:Ljavax/xml/namespace/QName;
      57: invokeinterface #66,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
      62: astore_3
      63: aload_3
      64: ifnull        92
      67: aload_2
      68: aload_3
      69: invokeinterface #67,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
      74: invokeinterface #35,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      79: checkcast     #68                 // class org/apache/xml/security/stax/ext/SecurePart
      82: astore        4
      84: aload         4
      86: ifnull        92
      89: aload         4
      91: areturn
      92: aload_1
      93: getstatic     #70                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ID:Ljavax/xml/namespace/QName;
      96: invokeinterface #66,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
     101: astore_3
     102: aload_3
     103: ifnull        131
     106: aload_2
     107: aload_3
     108: invokeinterface #67,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
     113: invokeinterface #35,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     118: checkcast     #68                 // class org/apache/xml/security/stax/ext/SecurePart
     121: astore        4
     123: aload         4
     125: ifnull        131
     128: aload         4
     130: areturn
     131: aload_1
     132: getstatic     #71                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_AssertionID:Ljavax/xml/namespace/QName;
     135: invokeinterface #66,  2           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributeByName:(Ljavax/xml/namespace/QName;)Ljavax/xml/stream/events/Attribute;
     140: astore_3
     141: aload_3
     142: ifnull        170
     145: aload_2
     146: aload_3
     147: invokeinterface #67,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
     152: invokeinterface #35,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     157: checkcast     #68                 // class org/apache/xml/security/stax/ext/SecurePart
     160: astore        4
     162: aload         4
     164: ifnull        170
     167: aload         4
     169: areturn
     170: aload_2
     171: aload_1
     172: invokeinterface #56,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getName:()Ljavax/xml/namespace/QName;
     177: invokeinterface #35,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     182: checkcast     #68                 // class org/apache/xml/security/stax/ext/SecurePart
     185: areturn

  public void doFinalInternal(org.apache.xml.security.stax.ext.OutputProcessorChain) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #72                 // Method setupAttachmentEncryptionStreams:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
       5: aload_0
       6: aload_1
       7: invokespecial #73                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor.doFinalInternal:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
      10: return

  protected void setupAttachmentEncryptionStreams(org.apache.xml.security.stax.ext.OutputProcessorChain) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
       8: ldc           #13                 // String encryptionParts
      10: invokeinterface #33,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.getAsMap:(Ljava/lang/Object;)Ljava/util/Map;
      15: astore_3
      16: aload_3
      17: invokeinterface #74,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      22: invokeinterface #75,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      27: astore        4
      29: ldc           #76                 // String
      31: astore        5
      33: aload         4
      35: invokeinterface #77,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      40: ifeq          110
      43: aload         4
      45: invokeinterface #78,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #79                 // class java/util/Map$Entry
      53: astore        6
      55: aload         6
      57: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      62: checkcast     #68                 // class org/apache/xml/security/stax/ext/SecurePart
      65: astore        7
      67: aload         7
      69: invokevirtual #81                 // Method org/apache/xml/security/stax/ext/SecurePart.getExternalReference:()Ljava/lang/String;
      72: astore        8
      74: aload         8
      76: ifnull        107
      79: aload         8
      81: ldc           #82                 // String cid:
      83: invokevirtual #83                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      86: ifeq          107
      89: aload         7
      91: astore_2
      92: aload         8
      94: ldc           #82                 // String cid:
      96: invokevirtual #84                 // Method java/lang/String.length:()I
      99: invokevirtual #85                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     102: astore        5
     104: goto          110
     107: goto          33
     110: aload_2
     111: ifnonnull     115
     114: return
     115: aload_0
     116: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     119: checkcast     #86                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     122: invokevirtual #87                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getAttachmentCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
     125: astore        6
     127: aload         6
     129: ifnonnull     154
     132: new           #88                 // class org/apache/wss4j/common/ext/WSSecurityException
     135: dup
     136: getstatic     #89                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     139: ldc           #90                 // String empty
     141: iconst_1
     142: anewarray     #91                 // class java/lang/Object
     145: dup
     146: iconst_0
     147: ldc           #92                 // String no attachment callbackhandler supplied
     149: aastore
     150: invokespecial #93                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
     153: athrow
     154: new           #94                 // class org/apache/wss4j/common/ext/AttachmentRequestCallback
     157: dup
     158: invokespecial #95                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback."<init>":()V
     161: astore        7
     163: aload         7
     165: aload         5
     167: invokevirtual #96                 // Method org/apache/wss4j/common/ext/AttachmentRequestCallback.setAttachmentId:(Ljava/lang/String;)V
     170: aload         6
     172: iconst_1
     173: anewarray     #97                 // class javax/security/auth/callback/Callback
     176: dup
     177: iconst_0
     178: aload         7
     180: aastore
     181: invokeinterface #98,  2           // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
     186: goto          204
     189: astore        8
     191: new           #88                 // class org/apache/wss4j/common/ext/WSSecurityException
     194: dup
     195: getstatic     #89                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     198: aload         8
     200: invokespecial #100                // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     203: athrow
     204: aload         7
     206: invokevirtual #101                // Method org/apache/wss4j/common/ext/AttachmentRequestCallback.getAttachments:()Ljava/util/List;
     209: astore        8
     211: aload         8
     213: ifnull        667
     216: iconst_0
     217: istore        9
     219: iload         9
     221: aload         8
     223: invokeinterface #102,  1          // InterfaceMethod java/util/List.size:()I
     228: if_icmpge     667
     231: aload         8
     233: iload         9
     235: invokeinterface #103,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     240: checkcast     #104                // class org/apache/wss4j/common/ext/Attachment
     243: astore        10
     245: aload         10
     247: invokevirtual #105                // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
     250: astore        11
     252: aload_1
     253: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     258: ldc           #19                 // String PROP_USE_THIS_TOKEN_ID_FOR_ENCRYPTION
     260: invokeinterface #20,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.get:(Ljava/lang/String;)Ljava/lang/Object;
     265: checkcast     #21                 // class java/lang/String
     268: astore        12
     270: aload_1
     271: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     276: aload         12
     278: invokeinterface #22,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.getSecurityTokenProvider:(Ljava/lang/String;)Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;
     283: astore        13
     285: aload         13
     287: invokeinterface #23,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getSecurityToken:()Ljava/lang/Object;
     292: checkcast     #24                 // class org/apache/xml/security/stax/securityToken/OutboundSecurityToken
     295: astore        14
     297: new           #25                 // class org/apache/xml/security/stax/impl/EncryptionPartDef
     300: dup
     301: invokespecial #26                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef."<init>":()V
     304: astore        15
     306: aload         15
     308: aload_2
     309: invokevirtual #27                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setSecurePart:(Lorg/apache/xml/security/stax/ext/SecurePart;)V
     312: aload         15
     314: aload_2
     315: invokevirtual #28                 // Method org/apache/xml/security/stax/ext/SecurePart.getModifier:()Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
     318: invokevirtual #29                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setModifier:(Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;)V
     321: aload         15
     323: aload         10
     325: invokevirtual #105                // Method org/apache/wss4j/common/ext/Attachment.getId:()Ljava/lang/String;
     328: invokevirtual #106                // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setCipherReferenceId:(Ljava/lang/String;)V
     331: aload         15
     333: aload         10
     335: invokevirtual #107                // Method org/apache/wss4j/common/ext/Attachment.getMimeType:()Ljava/lang/String;
     338: invokevirtual #108                // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setMimeType:(Ljava/lang/String;)V
     341: aload         15
     343: aconst_null
     344: invokestatic  #30                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     347: invokevirtual #31                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setEncRefId:(Ljava/lang/String;)V
     350: aload         15
     352: aload         13
     354: invokeinterface #41,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getId:()Ljava/lang/String;
     359: invokevirtual #42                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setKeyId:(Ljava/lang/String;)V
     362: aload         15
     364: aload         14
     366: aload_0
     367: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     370: invokevirtual #43                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getEncryptionSymAlgorithm:()Ljava/lang/String;
     373: invokeinterface #44,  2           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getSecretKey:(Ljava/lang/String;)Ljava/security/Key;
     378: invokevirtual #45                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.setSymmetricKey:(Ljava/security/Key;)V
     381: aload_1
     382: invokeinterface #18,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     387: ldc_w         #25                 // class org/apache/xml/security/stax/impl/EncryptionPartDef
     390: aload         15
     392: invokeinterface #46,  3           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.putAsList:(Ljava/lang/Object;Ljava/lang/Object;)V
     397: new           #104                // class org/apache/wss4j/common/ext/Attachment
     400: dup
     401: invokespecial #109                // Method org/apache/wss4j/common/ext/Attachment."<init>":()V
     404: astore        16
     406: aload         16
     408: aload         11
     410: invokevirtual #110                // Method org/apache/wss4j/common/ext/Attachment.setId:(Ljava/lang/String;)V
     413: aload         16
     415: ldc           #111                // String application/octet-stream
     417: invokevirtual #112                // Method org/apache/wss4j/common/ext/Attachment.setMimeType:(Ljava/lang/String;)V
     420: aload_0
     421: invokevirtual #5                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     424: invokevirtual #43                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getEncryptionSymAlgorithm:()Ljava/lang/String;
     427: astore        17
     429: aload         17
     431: invokestatic  #113                // Method org/apache/xml/security/stax/config/JCEAlgorithmMapper.translateURItoJCEID:(Ljava/lang/String;)Ljava/lang/String;
     434: astore        18
     436: aload         18
     438: ifnonnull     460
     441: new           #114                // class org/apache/xml/security/exceptions/XMLSecurityException
     444: dup
     445: ldc           #115                // String algorithms.NoSuchMap
     447: iconst_1
     448: anewarray     #91                 // class java/lang/Object
     451: dup
     452: iconst_0
     453: aload         17
     455: aastore
     456: invokespecial #116                // Method org/apache/xml/security/exceptions/XMLSecurityException."<init>":(Ljava/lang/String;[Ljava/lang/Object;)V
     459: athrow
     460: aconst_null
     461: astore        19
     463: aload         18
     465: invokestatic  #117                // Method javax/crypto/Cipher.getInstance:(Ljava/lang/String;)Ljavax/crypto/Cipher;
     468: astore        19
     470: ldc           #118                // String AES/GCM/NoPadding
     472: aload         19
     474: invokevirtual #119                // Method javax/crypto/Cipher.getAlgorithm:()Ljava/lang/String;
     477: invokevirtual #58                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     480: ifeq          517
     483: bipush        12
     485: invokestatic  #120                // Method org/apache/xml/security/stax/ext/XMLSecurityConstants.generateBytes:(I)[B
     488: astore        20
     490: new           #121                // class javax/crypto/spec/IvParameterSpec
     493: dup
     494: aload         20
     496: invokespecial #122                // Method javax/crypto/spec/IvParameterSpec."<init>":([B)V
     499: astore        21
     501: aload         19
     503: iconst_1
     504: aload         15
     506: invokevirtual #123                // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getSymmetricKey:()Ljava/security/Key;
     509: aload         21
     511: invokevirtual #124                // Method javax/crypto/Cipher.init:(ILjava/security/Key;Ljava/security/spec/AlgorithmParameterSpec;)V
     514: goto          528
     517: aload         19
     519: iconst_1
     520: aload         15
     522: invokevirtual #123                // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getSymmetricKey:()Ljava/security/Key;
     525: invokevirtual #125                // Method javax/crypto/Cipher.init:(ILjava/security/Key;)V
     528: goto          546
     531: astore        20
     533: new           #88                 // class org/apache/wss4j/common/ext/WSSecurityException
     536: dup
     537: getstatic     #126                // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILED_ENCRYPTION:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     540: aload         20
     542: invokespecial #100                // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     545: athrow
     546: new           #127                // class java/util/HashMap
     549: dup
     550: invokespecial #128                // Method java/util/HashMap."<init>":()V
     553: astore        20
     555: aload         20
     557: aload         10
     559: invokevirtual #129                // Method org/apache/wss4j/common/ext/Attachment.getHeaders:()Ljava/util/Map;
     562: invokeinterface #130,  2          // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
     567: aload         16
     569: aload         19
     571: getstatic     #131                // Field org/apache/xml/security/stax/ext/SecurePart$Modifier.Element:Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
     574: aload         15
     576: invokevirtual #132                // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getModifier:()Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
     579: if_acmpne     586
     582: iconst_1
     583: goto          587
     586: iconst_0
     587: aload         10
     589: aload         20
     591: invokestatic  #133                // Method org/apache/wss4j/common/util/AttachmentUtils.setupAttachmentEncryptionStream:(Ljavax/crypto/Cipher;ZLorg/apache/wss4j/common/ext/Attachment;Ljava/util/Map;)Ljava/io/InputStream;
     594: invokevirtual #134                // Method org/apache/wss4j/common/ext/Attachment.setSourceStream:(Ljava/io/InputStream;)V
     597: aload         16
     599: aload         20
     601: invokevirtual #135                // Method org/apache/wss4j/common/ext/Attachment.addHeaders:(Ljava/util/Map;)V
     604: new           #136                // class org/apache/wss4j/common/ext/AttachmentResultCallback
     607: dup
     608: invokespecial #137                // Method org/apache/wss4j/common/ext/AttachmentResultCallback."<init>":()V
     611: astore        21
     613: aload         21
     615: aload         11
     617: invokevirtual #138                // Method org/apache/wss4j/common/ext/AttachmentResultCallback.setAttachmentId:(Ljava/lang/String;)V
     620: aload         21
     622: aload         16
     624: invokevirtual #139                // Method org/apache/wss4j/common/ext/AttachmentResultCallback.setAttachment:(Lorg/apache/wss4j/common/ext/Attachment;)V
     627: aload         6
     629: iconst_1
     630: anewarray     #97                 // class javax/security/auth/callback/Callback
     633: dup
     634: iconst_0
     635: aload         21
     637: aastore
     638: invokeinterface #98,  2           // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
     643: goto          661
     646: astore        22
     648: new           #88                 // class org/apache/wss4j/common/ext/WSSecurityException
     651: dup
     652: getstatic     #126                // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILED_ENCRYPTION:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     655: aload         22
     657: invokespecial #100                // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;)V
     660: athrow
     661: iinc          9, 1
     664: goto          219
     667: return
    Exception table:
       from    to  target type
         170   186   189   Class java/lang/Exception
         463   528   531   Class java/lang/Exception
         627   643   646   Class java/lang/Exception

  static {};
    Code:
       0: ldc_w         #140                // class org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor
       3: invokestatic  #141                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
