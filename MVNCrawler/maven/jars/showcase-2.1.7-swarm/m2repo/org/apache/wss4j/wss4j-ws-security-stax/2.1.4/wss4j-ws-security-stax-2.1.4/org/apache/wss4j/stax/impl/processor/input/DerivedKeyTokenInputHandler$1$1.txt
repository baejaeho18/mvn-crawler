Compiled from "DerivedKeyTokenInputHandler.java"
class org.apache.wss4j.stax.impl.processor.input.DerivedKeyTokenInputHandler$1$1 extends org.apache.xml.security.stax.impl.securityToken.AbstractInboundSecurityToken {
  private org.apache.xml.security.stax.securityToken.InboundSecurityToken referencedSecurityToken;

  final org.apache.wss4j.stax.impl.processor.input.DerivedKeyTokenInputHandler$1 this$1;

  org.apache.wss4j.stax.impl.processor.input.DerivedKeyTokenInputHandler$1$1(org.apache.wss4j.stax.impl.processor.input.DerivedKeyTokenInputHandler$1, org.apache.xml.security.stax.ext.InboundSecurityContext, java.lang.String, org.apache.xml.security.stax.securityToken.SecurityTokenConstants$KeyIdentifier, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
       5: aload_0
       6: aload_2
       7: aload_3
       8: aload         4
      10: iload         5
      12: invokespecial #2                  // Method org/apache/xml/security/stax/impl/securityToken/AbstractInboundSecurityToken."<init>":(Lorg/apache/xml/security/stax/ext/InboundSecurityContext;Ljava/lang/String;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;Z)V
      15: aload_0
      16: aconst_null
      17: putfield      #3                  // Field referencedSecurityToken:Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
      20: return

  private org.apache.xml.security.stax.securityToken.InboundSecurityToken getReferencedSecurityToken() throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field referencedSecurityToken:Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
       4: ifnull        12
       7: aload_0
       8: getfield      #3                  // Field referencedSecurityToken:Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
      11: areturn
      12: aload_0
      13: aload_0
      14: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
      17: getfield      #4                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$derivedKeyTokenType:Lorg/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType;
      20: invokevirtual #5                  // Method org/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType.getSecurityTokenReference:()Lorg/apache/wss4j/binding/wss10/SecurityTokenReferenceType;
      23: aload_0
      24: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
      27: getfield      #6                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$securityProperties:Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      30: checkcast     #7                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      33: invokevirtual #8                  // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getDecryptionCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
      36: aload_0
      37: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
      40: getfield      #6                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$securityProperties:Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      43: checkcast     #7                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      46: invokevirtual #9                  // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getCallbackHandler:()Ljavax/security/auth/callback/CallbackHandler;
      49: aload_0
      50: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
      53: getfield      #10                 // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$inputProcessorChain:Lorg/apache/xml/security/stax/ext/InputProcessorChain;
      56: invokeinterface #11,  1           // InterfaceMethod org/apache/xml/security/stax/ext/InputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/InboundSecurityContext;
      61: aload_0
      62: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
      65: getfield      #6                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$securityProperties:Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      68: checkcast     #7                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      71: invokestatic  #12                 // Method org/apache/wss4j/stax/impl/securityToken/SecurityTokenFactoryImpl.getSecurityToken:(Lorg/apache/wss4j/binding/wss10/SecurityTokenReferenceType;Lorg/apache/wss4j/common/crypto/Crypto;Ljavax/security/auth/callback/CallbackHandler;Lorg/apache/xml/security/stax/ext/InboundSecurityContext;Lorg/apache/wss4j/stax/ext/WSSSecurityProperties;)Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
      74: putfield      #3                  // Field referencedSecurityToken:Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
      77: aload_0
      78: getfield      #3                  // Field referencedSecurityToken:Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
      81: aload_0
      82: invokeinterface #13,  2           // InterfaceMethod org/apache/xml/security/stax/securityToken/InboundSecurityToken.addWrappedToken:(Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;)V
      87: aload_0
      88: getfield      #3                  // Field referencedSecurityToken:Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
      91: areturn

  protected java.security.Key getKey(java.lang.String, org.apache.xml.security.stax.ext.XMLSecurityConstants$AlgorithmUsage, java.lang.String) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokespecial #14                 // Method getReferencedSecurityToken:()Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
       4: astore        5
       6: aload         5
       8: ifnull        58
      11: aload         5
      13: instanceof    #15                 // class org/apache/wss4j/stax/securityToken/UsernameSecurityToken
      16: ifeq          38
      19: aload         5
      21: checkcast     #15                 // class org/apache/wss4j/stax/securityToken/UsernameSecurityToken
      24: astore        6
      26: aload         6
      28: invokeinterface #16,  1           // InterfaceMethod org/apache/wss4j/stax/securityToken/UsernameSecurityToken.generateDerivedKey:()[B
      33: astore        4
      35: goto          71
      38: aload         5
      40: aload_1
      41: aload_2
      42: aload_3
      43: invokeinterface #17,  4           // InterfaceMethod org/apache/xml/security/stax/securityToken/InboundSecurityToken.getSecretKey:(Ljava/lang/String;Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$AlgorithmUsage;Ljava/lang/String;)Ljava/security/Key;
      48: invokeinterface #18,  1           // InterfaceMethod java/security/Key.getEncoded:()[B
      53: astore        4
      55: goto          71
      58: new           #19                 // class org/apache/wss4j/common/ext/WSSecurityException
      61: dup
      62: getstatic     #20                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.SECURITY_TOKEN_UNAVAILABLE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
      65: ldc           #21                 // String unsupportedKeyId
      67: invokespecial #22                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;)V
      70: athrow
      71: aload_0
      72: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
      75: getfield      #4                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$derivedKeyTokenType:Lorg/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType;
      78: invokevirtual #23                 // Method org/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType.getNonce:()[B
      81: astore        6
      83: aload         6
      85: ifnull        94
      88: aload         6
      90: arraylength
      91: ifne          116
      94: new           #19                 // class org/apache/wss4j/common/ext/WSSecurityException
      97: dup
      98: getstatic     #24                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.INVALID_SECURITY_TOKEN:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     101: ldc           #25                 // String empty
     103: iconst_1
     104: anewarray     #26                 // class java/lang/Object
     107: dup
     108: iconst_0
     109: ldc           #27                 // String Missing wsc:Nonce value
     111: aastore
     112: invokespecial #28                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/String;[Ljava/lang/Object;)V
     115: athrow
     116: aload_0
     117: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
     120: getfield      #4                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$derivedKeyTokenType:Lorg/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType;
     123: invokevirtual #29                 // Method org/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType.getAlgorithm:()Ljava/lang/String;
     126: astore        7
     128: aload         7
     130: ifnonnull     137
     133: ldc           #30                 // String http://schemas.xmlsoap.org/ws/2005/02/sc/dk/p_sha1
     135: astore        7
     137: aload         7
     139: aload_0
     140: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
     143: getfield      #4                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$derivedKeyTokenType:Lorg/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType;
     146: invokevirtual #31                 // Method org/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType.getLabel:()Ljava/lang/String;
     149: aload_0
     150: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
     153: getfield      #4                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$derivedKeyTokenType:Lorg/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType;
     156: invokevirtual #32                 // Method org/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType.getLength:()Ljava/math/BigInteger;
     159: invokevirtual #33                 // Method java/math/BigInteger.intValue:()I
     162: aload         4
     164: aload         6
     166: aload_0
     167: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
     170: getfield      #4                  // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$derivedKeyTokenType:Lorg/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType;
     173: invokevirtual #34                 // Method org/apache/wss4j/binding/wssc/AbstractDerivedKeyTokenType.getOffset:()Ljava/math/BigInteger;
     176: invokevirtual #33                 // Method java/math/BigInteger.intValue:()I
     179: invokestatic  #35                 // Method org/apache/wss4j/common/derivedKey/DerivedKeyUtils.deriveKey:(Ljava/lang/String;Ljava/lang/String;I[B[BI)[B
     182: astore        8
     184: getstatic     #36                 // Field org/apache/wss4j/stax/ext/WSSConstants.Enc:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$AlgorithmUsage;
     187: aload_2
     188: invokevirtual #37                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$AlgorithmUsage.equals:(Ljava/lang/Object;)Z
     191: ifeq          202
     194: getstatic     #38                 // Field org/apache/wss4j/stax/ext/WSSConstants.Enc_KD:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$AlgorithmUsage;
     197: astore        9
     199: goto          207
     202: getstatic     #39                 // Field org/apache/wss4j/stax/ext/WSSConstants.Sig_KD:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$AlgorithmUsage;
     205: astore        9
     207: new           #40                 // class org/apache/xml/security/stax/securityEvent/AlgorithmSuiteSecurityEvent
     210: dup
     211: invokespecial #41                 // Method org/apache/xml/security/stax/securityEvent/AlgorithmSuiteSecurityEvent."<init>":()V
     214: astore        10
     216: aload         10
     218: aload         7
     220: invokevirtual #42                 // Method org/apache/xml/security/stax/securityEvent/AlgorithmSuiteSecurityEvent.setAlgorithmURI:(Ljava/lang/String;)V
     223: aload         10
     225: aload         9
     227: invokevirtual #43                 // Method org/apache/xml/security/stax/securityEvent/AlgorithmSuiteSecurityEvent.setAlgorithmUsage:(Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$AlgorithmUsage;)V
     230: aload         10
     232: aload         8
     234: arraylength
     235: bipush        8
     237: imul
     238: invokevirtual #44                 // Method org/apache/xml/security/stax/securityEvent/AlgorithmSuiteSecurityEvent.setKeyLength:(I)V
     241: aload         10
     243: aload_3
     244: invokevirtual #45                 // Method org/apache/xml/security/stax/securityEvent/AlgorithmSuiteSecurityEvent.setCorrelationID:(Ljava/lang/String;)V
     247: aload_0
     248: getfield      #1                  // Field this$1:Lorg/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1;
     251: getfield      #10                 // Field org/apache/wss4j/stax/impl/processor/input/DerivedKeyTokenInputHandler$1.val$inputProcessorChain:Lorg/apache/xml/security/stax/ext/InputProcessorChain;
     254: invokeinterface #11,  1           // InterfaceMethod org/apache/xml/security/stax/ext/InputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/InboundSecurityContext;
     259: aload         10
     261: invokeinterface #46,  2           // InterfaceMethod org/apache/xml/security/stax/ext/InboundSecurityContext.registerSecurityEvent:(Lorg/apache/xml/security/stax/securityEvent/SecurityEvent;)V
     266: aload_1
     267: invokestatic  #47                 // Method org/apache/xml/security/stax/config/JCEAlgorithmMapper.getJCEKeyAlgorithmFromURI:(Ljava/lang/String;)Ljava/lang/String;
     270: astore        11
     272: new           #48                 // class javax/crypto/spec/SecretKeySpec
     275: dup
     276: aload         8
     278: aload         11
     280: invokespecial #49                 // Method javax/crypto/spec/SecretKeySpec."<init>":([BLjava/lang/String;)V
     283: areturn

  public org.apache.xml.security.stax.securityToken.InboundSecurityToken getKeyWrappingToken() throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokespecial #14                 // Method getReferencedSecurityToken:()Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
       4: areturn

  public org.apache.xml.security.stax.securityToken.SecurityTokenConstants$TokenType getTokenType();
    Code:
       0: getstatic     #50                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.DerivedKeyToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
       3: areturn

  public org.apache.xml.security.stax.securityToken.SecurityToken getKeyWrappingToken() throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokevirtual #51                 // Method getKeyWrappingToken:()Lorg/apache/xml/security/stax/securityToken/InboundSecurityToken;
       4: areturn
}
