Compiled from "CustomTokenOutputProcessor.java"
class org.apache.wss4j.stax.impl.processor.output.CustomTokenOutputProcessor$FinalUnknownTokenOutputProcessor extends org.apache.xml.security.stax.ext.AbstractOutputProcessor {
  private final org.w3c.dom.Element token;

  final org.apache.wss4j.stax.impl.processor.output.CustomTokenOutputProcessor this$0;

  org.apache.wss4j.stax.impl.processor.output.CustomTokenOutputProcessor$FinalUnknownTokenOutputProcessor(org.apache.wss4j.stax.impl.processor.output.CustomTokenOutputProcessor, org.w3c.dom.Element) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/wss4j/stax/impl/processor/output/CustomTokenOutputProcessor;
       5: aload_0
       6: invokespecial #2                  // Method org/apache/xml/security/stax/ext/AbstractOutputProcessor."<init>":()V
       9: aload_0
      10: ldc_w         #3                  // class org/apache/wss4j/stax/impl/processor/output/CustomTokenOutputProcessor
      13: invokevirtual #4                  // Method java/lang/Class.getName:()Ljava/lang/String;
      16: invokevirtual #5                  // Method addAfterProcessor:(Ljava/lang/Object;)V
      19: aload_0
      20: aload_2
      21: putfield      #6                  // Field token:Lorg/w3c/dom/Element;
      24: return

  public void processEvent(org.apache.xml.security.stax.ext.stax.XMLSecEvent, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_2
       1: aload_1
       2: invokeinterface #7,  2            // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.processEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)V
       7: aload_1
       8: aload_0
       9: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      12: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      15: invokevirtual #10                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getActor:()Ljava/lang/String;
      18: invokestatic  #11                 // Method org/apache/wss4j/stax/utils/WSSUtils.isSecurityHeaderElement:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Ljava/lang/String;)Z
      21: ifeq          86
      24: new           #12                 // class javax/xml/namespace/QName
      27: dup
      28: aload_0
      29: getfield      #6                  // Field token:Lorg/w3c/dom/Element;
      32: invokeinterface #13,  1           // InterfaceMethod org/w3c/dom/Element.getNamespaceURI:()Ljava/lang/String;
      37: aload_0
      38: getfield      #6                  // Field token:Lorg/w3c/dom/Element;
      41: invokeinterface #14,  1           // InterfaceMethod org/w3c/dom/Element.getLocalName:()Ljava/lang/String;
      46: invokespecial #15                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      49: astore_3
      50: aload_2
      51: aload_3
      52: aload_0
      53: invokevirtual #16                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      56: iconst_0
      57: invokestatic  #17                 // Method org/apache/wss4j/stax/impl/processor/output/OutputProcessorUtils.updateSecurityHeaderOrder:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;Z)V
      60: aload_2
      61: aload_0
      62: invokeinterface #18,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.createSubChain:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)Lorg/apache/xml/security/stax/ext/OutputProcessorChain;
      67: astore        4
      69: aload_0
      70: aload_0
      71: getfield      #6                  // Field token:Lorg/w3c/dom/Element;
      74: aload         4
      76: invokespecial #19                 // Method outputToken:(Lorg/w3c/dom/Element;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
      79: aload_2
      80: aload_0
      81: invokeinterface #20,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
      86: return

  private void outputToken(org.w3c.dom.Element, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_1
       1: invokeinterface #21,  1           // InterfaceMethod org/w3c/dom/Element.getAttributes:()Lorg/w3c/dom/NamedNodeMap;
       6: astore_3
       7: new           #22                 // class java/util/ArrayList
      10: dup
      11: aload_3
      12: invokeinterface #23,  1           // InterfaceMethod org/w3c/dom/NamedNodeMap.getLength:()I
      17: invokespecial #24                 // Method java/util/ArrayList."<init>":(I)V
      20: astore        4
      22: new           #22                 // class java/util/ArrayList
      25: dup
      26: aload_3
      27: invokeinterface #23,  1           // InterfaceMethod org/w3c/dom/NamedNodeMap.getLength:()I
      32: invokespecial #24                 // Method java/util/ArrayList."<init>":(I)V
      35: astore        5
      37: iconst_0
      38: istore        6
      40: iload         6
      42: aload_3
      43: invokeinterface #23,  1           // InterfaceMethod org/w3c/dom/NamedNodeMap.getLength:()I
      48: if_icmpge     229
      51: aload_3
      52: iload         6
      54: invokeinterface #25,  2           // InterfaceMethod org/w3c/dom/NamedNodeMap.item:(I)Lorg/w3c/dom/Node;
      59: checkcast     #26                 // class org/w3c/dom/Attr
      62: astore        7
      64: aload         7
      66: invokeinterface #27,  1           // InterfaceMethod org/w3c/dom/Attr.getPrefix:()Ljava/lang/String;
      71: ifnonnull     117
      74: aload         4
      76: aload_0
      77: new           #12                 // class javax/xml/namespace/QName
      80: dup
      81: aload         7
      83: invokeinterface #28,  1           // InterfaceMethod org/w3c/dom/Attr.getNamespaceURI:()Ljava/lang/String;
      88: aload         7
      90: invokeinterface #29,  1           // InterfaceMethod org/w3c/dom/Attr.getLocalName:()Ljava/lang/String;
      95: invokespecial #15                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      98: aload         7
     100: invokeinterface #30,  1           // InterfaceMethod org/w3c/dom/Attr.getValue:()Ljava/lang/String;
     105: invokevirtual #31                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     108: invokeinterface #32,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     113: pop
     114: goto          223
     117: ldc           #33                 // String xmlns
     119: aload         7
     121: invokeinterface #27,  1           // InterfaceMethod org/w3c/dom/Attr.getPrefix:()Ljava/lang/String;
     126: invokevirtual #34                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     129: ifne          147
     132: ldc           #33                 // String xmlns
     134: aload         7
     136: invokeinterface #29,  1           // InterfaceMethod org/w3c/dom/Attr.getLocalName:()Ljava/lang/String;
     141: invokevirtual #34                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     144: ifeq          176
     147: aload         5
     149: aload_0
     150: aload         7
     152: invokeinterface #29,  1           // InterfaceMethod org/w3c/dom/Attr.getLocalName:()Ljava/lang/String;
     157: aload         7
     159: invokeinterface #30,  1           // InterfaceMethod org/w3c/dom/Attr.getValue:()Ljava/lang/String;
     164: invokevirtual #35                 // Method createNamespace:(Ljava/lang/String;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecNamespace;
     167: invokeinterface #32,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     172: pop
     173: goto          223
     176: aload         4
     178: aload_0
     179: new           #12                 // class javax/xml/namespace/QName
     182: dup
     183: aload         7
     185: invokeinterface #28,  1           // InterfaceMethod org/w3c/dom/Attr.getNamespaceURI:()Ljava/lang/String;
     190: aload         7
     192: invokeinterface #29,  1           // InterfaceMethod org/w3c/dom/Attr.getLocalName:()Ljava/lang/String;
     197: aload         7
     199: invokeinterface #27,  1           // InterfaceMethod org/w3c/dom/Attr.getPrefix:()Ljava/lang/String;
     204: invokespecial #36                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     207: aload         7
     209: invokeinterface #30,  1           // InterfaceMethod org/w3c/dom/Attr.getValue:()Ljava/lang/String;
     214: invokevirtual #31                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     217: invokeinterface #32,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     222: pop
     223: iinc          6, 1
     226: goto          40
     229: new           #12                 // class javax/xml/namespace/QName
     232: dup
     233: aload_1
     234: invokeinterface #13,  1           // InterfaceMethod org/w3c/dom/Element.getNamespaceURI:()Ljava/lang/String;
     239: aload_1
     240: invokeinterface #14,  1           // InterfaceMethod org/w3c/dom/Element.getLocalName:()Ljava/lang/String;
     245: aload_1
     246: invokeinterface #37,  1           // InterfaceMethod org/w3c/dom/Element.getPrefix:()Ljava/lang/String;
     251: invokespecial #36                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     254: astore        6
     256: aload_0
     257: aload_2
     258: aload         6
     260: aload         5
     262: aload         4
     264: invokevirtual #38                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;Ljava/util/List;Ljava/util/List;)V
     267: aload_1
     268: invokeinterface #39,  1           // InterfaceMethod org/w3c/dom/Element.getFirstChild:()Lorg/w3c/dom/Node;
     273: astore        7
     275: aload         7
     277: ifnull        352
     280: aload         7
     282: invokeinterface #40,  1           // InterfaceMethod org/w3c/dom/Node.getNodeType:()S
     287: lookupswitch  { // 2
                     1: 312
                     3: 325
               default: 340
          }
     312: aload_0
     313: aload         7
     315: checkcast     #41                 // class org/w3c/dom/Element
     318: aload_2
     319: invokespecial #19                 // Method outputToken:(Lorg/w3c/dom/Element;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     322: goto          340
     325: aload_0
     326: aload_2
     327: aload         7
     329: checkcast     #42                 // class org/w3c/dom/Text
     332: invokeinterface #43,  1           // InterfaceMethod org/w3c/dom/Text.getData:()Ljava/lang/String;
     337: invokevirtual #44                 // Method createCharactersAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)V
     340: aload         7
     342: invokeinterface #45,  1           // InterfaceMethod org/w3c/dom/Node.getNextSibling:()Lorg/w3c/dom/Node;
     347: astore        7
     349: goto          275
     352: aload_0
     353: aload_2
     354: aload         6
     356: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     359: return
}
