Compiled from "EncryptOutputProcessor.java"
class org.apache.wss4j.stax.impl.processor.output.EncryptOutputProcessor$InternalEncryptionOutputProcessor extends org.apache.xml.security.stax.impl.processor.output.AbstractEncryptOutputProcessor$AbstractInternalEncryptionOutputProcessor {
  private boolean doEncryptedHeader;

  private final org.apache.xml.security.stax.securityToken.OutboundSecurityToken securityToken;

  final org.apache.wss4j.stax.impl.processor.output.EncryptOutputProcessor this$0;

  org.apache.wss4j.stax.impl.processor.output.EncryptOutputProcessor$InternalEncryptionOutputProcessor(org.apache.wss4j.stax.impl.processor.output.EncryptOutputProcessor, org.apache.xml.security.stax.impl.EncryptionPartDef, org.apache.xml.security.stax.ext.stax.XMLSecStartElement, java.lang.String, org.apache.xml.security.stax.securityToken.OutboundSecurityToken) throws org.apache.xml.security.exceptions.XMLSecurityException, javax.xml.stream.XMLStreamException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor;
       5: aload_0
       6: aload_1
       7: aload_2
       8: aload_3
       9: aload         4
      11: invokespecial #2                  // Method org/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor$AbstractInternalEncryptionOutputProcessor."<init>":(Lorg/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor;Lorg/apache/xml/security/stax/impl/EncryptionPartDef;Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;Ljava/lang/String;)V
      14: aload_0
      15: iconst_0
      16: putfield      #3                  // Field doEncryptedHeader:Z
      19: aload_0
      20: ldc_w         #4                  // class org/apache/wss4j/stax/impl/processor/output/EncryptEndingOutputProcessor
      23: invokevirtual #5                  // Method java/lang/Class.getName:()Ljava/lang/String;
      26: invokevirtual #6                  // Method addBeforeProcessor:(Ljava/lang/Object;)V
      29: aload_0
      30: ldc_w         #7                  // class org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor$InternalEncryptionOutputProcessor
      33: invokevirtual #5                  // Method java/lang/Class.getName:()Ljava/lang/String;
      36: invokevirtual #6                  // Method addBeforeProcessor:(Ljava/lang/Object;)V
      39: aload_0
      40: ldc_w         #8                  // class org/apache/wss4j/stax/impl/processor/output/EncryptOutputProcessor
      43: invokevirtual #5                  // Method java/lang/Class.getName:()Ljava/lang/String;
      46: invokevirtual #9                  // Method addAfterProcessor:(Ljava/lang/Object;)V
      49: aload_0
      50: aload         5
      52: putfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
      55: return

  protected java.io.OutputStream applyTransforms(java.io.OutputStream) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
       4: checkcast     #12                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
       7: invokevirtual #13                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getEncryptionCompressionAlgorithm:()Ljava/lang/String;
      10: astore_2
      11: aload_2
      12: ifnull        71
      15: aload_2
      16: getstatic     #14                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants$DIRECTION.OUT:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$DIRECTION;
      19: invokestatic  #15                 // Method org/apache/xml/security/stax/config/TransformerAlgorithmMapper.getTransformerClass:(Ljava/lang/String;Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$DIRECTION;)Ljava/lang/Class;
      22: astore_3
      23: aload_3
      24: iconst_1
      25: anewarray     #16                 // class java/lang/Class
      28: dup
      29: iconst_0
      30: ldc_w         #17                 // class java/io/OutputStream
      33: aastore
      34: invokevirtual #18                 // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;
      37: astore        4
      39: aload         4
      41: iconst_1
      42: anewarray     #19                 // class java/lang/Object
      45: dup
      46: iconst_0
      47: aload_1
      48: aastore
      49: invokevirtual #20                 // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;
      52: checkcast     #17                 // class java/io/OutputStream
      55: astore_1
      56: goto          71
      59: astore        4
      61: new           #25                 // class org/apache/xml/security/exceptions/XMLSecurityException
      64: dup
      65: aload         4
      67: invokespecial #26                 // Method org/apache/xml/security/exceptions/XMLSecurityException."<init>":(Ljava/lang/Exception;)V
      70: athrow
      71: aload_1
      72: areturn
    Exception table:
       from    to  target type
          23    56    59   Class java/lang/reflect/InvocationTargetException
          23    56    59   Class java/lang/NoSuchMethodException
          23    56    59   Class java/lang/InstantiationException
          23    56    59   Class java/lang/IllegalAccessException

  protected void processEventInternal(org.apache.xml.security.stax.ext.stax.XMLSecStartElement, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_1
       1: invokeinterface #27,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getElementPath:()Ljava/util/List;
       6: astore_3
       7: aload_3
       8: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
      13: iconst_3
      14: if_icmpne     172
      17: aload_3
      18: invokestatic  #29                 // Method org/apache/wss4j/stax/utils/WSSUtils.isInSOAPHeader:(Ljava/util/List;)Z
      21: ifeq          172
      24: getstatic     #30                 // Field org/apache/xml/security/stax/ext/SecurePart$Modifier.Content:Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
      27: aload_0
      28: invokespecial #31                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor$AbstractInternalEncryptionOutputProcessor.getEncryptionPartDef:()Lorg/apache/xml/security/stax/impl/EncryptionPartDef;
      31: invokevirtual #32                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getModifier:()Lorg/apache/xml/security/stax/ext/SecurePart$Modifier;
      34: if_acmpeq     172
      37: aload_0
      38: iconst_1
      39: putfield      #3                  // Field doEncryptedHeader:Z
      42: new           #33                 // class java/util/ArrayList
      45: dup
      46: iconst_1
      47: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
      50: astore        4
      52: aload_0
      53: invokevirtual #35                 // Method getXmlSecStartElement:()Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      56: invokeinterface #36,  1           // InterfaceMethod org/apache/xml/security/stax/ext/stax/XMLSecStartElement.getAttributes:()Ljava/util/Iterator;
      61: astore        5
      63: aload         5
      65: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      70: ifeq          160
      73: aload         5
      75: invokeinterface #38,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      80: checkcast     #39                 // class javax/xml/stream/events/Attribute
      83: astore        6
      85: aload         6
      87: invokeinterface #40,  1           // InterfaceMethod javax/xml/stream/events/Attribute.isNamespace:()Z
      92: ifne          157
      95: ldc           #41                 // String http://schemas.xmlsoap.org/soap/envelope/
      97: aload         6
      99: invokeinterface #42,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getName:()Ljavax/xml/namespace/QName;
     104: invokevirtual #43                 // Method javax/xml/namespace/QName.getNamespaceURI:()Ljava/lang/String;
     107: invokevirtual #44                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     110: ifne          131
     113: ldc           #45                 // String http://www.w3.org/2003/05/soap-envelope
     115: aload         6
     117: invokeinterface #42,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getName:()Ljavax/xml/namespace/QName;
     122: invokevirtual #43                 // Method javax/xml/namespace/QName.getNamespaceURI:()Ljava/lang/String;
     125: invokevirtual #44                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     128: ifeq          157
     131: aload         4
     133: aload_0
     134: aload         6
     136: invokeinterface #42,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getName:()Ljavax/xml/namespace/QName;
     141: aload         6
     143: invokeinterface #46,  1           // InterfaceMethod javax/xml/stream/events/Attribute.getValue:()Ljava/lang/String;
     148: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     151: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     156: pop
     157: goto          63
     160: aload_0
     161: aload_2
     162: getstatic     #49                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse11_EncryptedHeader:Ljavax/xml/namespace/QName;
     165: iconst_1
     166: aload         4
     168: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     171: pop
     172: aload_0
     173: aload_1
     174: aload_2
     175: invokespecial #51                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor$AbstractInternalEncryptionOutputProcessor.processEventInternal:(Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     178: return

  protected void createKeyInfoStructure(org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #52                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_KeyInfo:Ljavax/xml/namespace/QName;
       5: iconst_1
       6: aconst_null
       7: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      10: pop
      11: aload_0
      12: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
      15: invokeinterface #53,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getCustomTokenReference:()Lorg/w3c/dom/Element;
      20: ifnull        46
      23: aload_0
      24: aload_0
      25: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
      28: invokeinterface #53,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getCustomTokenReference:()Lorg/w3c/dom/Element;
      33: aload_1
      34: invokevirtual #54                 // Method outputDOMElement:(Lorg/w3c/dom/Element;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
      37: aload_0
      38: aload_1
      39: getstatic     #52                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_KeyInfo:Ljavax/xml/namespace/QName;
      42: invokevirtual #55                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
      45: return
      46: aload_0
      47: invokevirtual #11                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      50: checkcast     #12                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      53: invokevirtual #56                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getEncryptionKeyIdentifier:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;
      56: astore_2
      57: getstatic     #57                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.KeyIdentifier_EncryptedKeySha1Identifier:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;
      60: aload_2
      61: invokevirtual #58                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier.equals:(Ljava/lang/Object;)Z
      64: ifeq          147
      67: new           #33                 // class java/util/ArrayList
      70: dup
      71: iconst_1
      72: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
      75: astore_3
      76: aload_3
      77: aload_0
      78: getstatic     #59                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
      81: ldc           #60                 // String http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#EncryptedKey
      83: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
      86: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      91: pop
      92: aload_0
      93: aload_1
      94: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
      97: iconst_0
      98: aload_3
      99: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     102: pop
     103: aload_0
     104: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     107: invokeinterface #62,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getSha1Identifier:()Ljava/lang/String;
     112: ifnull        132
     115: aload_0
     116: aload_1
     117: aload_0
     118: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     121: invokeinterface #62,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getSha1Identifier:()Ljava/lang/String;
     126: invokestatic  #63                 // Method org/apache/wss4j/stax/utils/WSSUtils.createEncryptedKeySha1IdentifierStructure:(Lorg/apache/xml/security/stax/ext/AbstractOutputProcessor;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)V
     129: goto          144
     132: aload_0
     133: aload_1
     134: aload_0
     135: invokevirtual #64                 // Method getEncryptionPartDef:()Lorg/apache/xml/security/stax/impl/EncryptionPartDef;
     138: invokevirtual #65                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getSymmetricKey:()Ljava/security/Key;
     141: invokestatic  #66                 // Method org/apache/wss4j/stax/utils/WSSUtils.createEncryptedKeySha1IdentifierStructure:(Lorg/apache/xml/security/stax/ext/AbstractOutputProcessor;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/security/Key;)V
     144: goto          918
     147: getstatic     #67                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.KeyIdentifier_KerberosSha1Identifier:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;
     150: aload_2
     151: invokevirtual #58                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier.equals:(Ljava/lang/Object;)Z
     154: ifeq          210
     157: new           #33                 // class java/util/ArrayList
     160: dup
     161: iconst_1
     162: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
     165: astore_3
     166: aload_3
     167: aload_0
     168: getstatic     #59                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
     171: ldc           #68                 // String http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#Kerberosv5_AP_REQ
     173: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     176: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     181: pop
     182: aload_0
     183: aload_1
     184: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     187: iconst_0
     188: aload_3
     189: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     192: pop
     193: aload_0
     194: aload_1
     195: aload_0
     196: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     199: invokeinterface #62,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getSha1Identifier:()Ljava/lang/String;
     204: invokestatic  #69                 // Method org/apache/wss4j/stax/utils/WSSUtils.createKerberosSha1IdentifierStructure:(Lorg/apache/xml/security/stax/ext/AbstractOutputProcessor;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)V
     207: goto          918
     210: iconst_0
     211: istore_3
     212: getstatic     #70                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.KerberosToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     215: aload_0
     216: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     219: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     224: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     227: ifeq          291
     230: new           #33                 // class java/util/ArrayList
     233: dup
     234: iconst_2
     235: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
     238: astore        4
     240: aload         4
     242: aload_0
     243: getstatic     #73                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
     246: aconst_null
     247: invokestatic  #74                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     250: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     253: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     258: pop
     259: aload         4
     261: aload_0
     262: getstatic     #59                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
     265: ldc           #75                 // String http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ
     267: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     270: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     275: pop
     276: aload_0
     277: aload_1
     278: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     281: iconst_0
     282: aload         4
     284: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     287: pop
     288: goto          561
     291: getstatic     #76                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.Saml10Token:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     294: aload_0
     295: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     298: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     303: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     306: ifne          327
     309: getstatic     #77                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.Saml11Token:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     312: aload_0
     313: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     316: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     321: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     324: ifeq          390
     327: new           #33                 // class java/util/ArrayList
     330: dup
     331: iconst_2
     332: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
     335: astore        4
     337: aload         4
     339: aload_0
     340: getstatic     #73                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
     343: aconst_null
     344: invokestatic  #74                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     347: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     350: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     355: pop
     356: aload         4
     358: aload_0
     359: getstatic     #59                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
     362: ldc           #78                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1
     364: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     367: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     372: pop
     373: aload_0
     374: aload_1
     375: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     378: iconst_0
     379: aload         4
     381: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     384: pop
     385: iconst_1
     386: istore_3
     387: goto          561
     390: getstatic     #79                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.Saml20Token:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     393: aload_0
     394: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     397: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     402: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     405: ifeq          471
     408: new           #33                 // class java/util/ArrayList
     411: dup
     412: iconst_2
     413: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
     416: astore        4
     418: aload         4
     420: aload_0
     421: getstatic     #73                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
     424: aconst_null
     425: invokestatic  #74                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     428: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     431: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     436: pop
     437: aload         4
     439: aload_0
     440: getstatic     #59                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
     443: ldc           #80                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0
     445: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     448: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     453: pop
     454: aload_0
     455: aload_1
     456: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     459: iconst_0
     460: aload         4
     462: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     465: pop
     466: iconst_1
     467: istore_3
     468: goto          561
     471: getstatic     #81                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.EncryptedKeyToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     474: aload_0
     475: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     478: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     483: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     486: ifeq          550
     489: new           #33                 // class java/util/ArrayList
     492: dup
     493: iconst_2
     494: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
     497: astore        4
     499: aload         4
     501: aload_0
     502: getstatic     #73                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
     505: aconst_null
     506: invokestatic  #74                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     509: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     512: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     517: pop
     518: aload         4
     520: aload_0
     521: getstatic     #59                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsse11_TokenType:Ljavax/xml/namespace/QName;
     524: ldc           #60                 // String http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#EncryptedKey
     526: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     529: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     534: pop
     535: aload_0
     536: aload_1
     537: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     540: iconst_0
     541: aload         4
     543: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     546: pop
     547: goto          561
     550: aload_0
     551: aload_1
     552: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     555: iconst_1
     556: aconst_null
     557: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     560: pop
     561: iload_3
     562: ifeq          589
     565: aload_0
     566: aload_1
     567: aload_0
     568: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     571: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     576: aload_0
     577: invokevirtual #64                 // Method getEncryptionPartDef:()Lorg/apache/xml/security/stax/impl/EncryptionPartDef;
     580: invokevirtual #82                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getKeyId:()Ljava/lang/String;
     583: invokestatic  #83                 // Method org/apache/wss4j/stax/utils/WSSUtils.createSAMLKeyIdentifierStructure:(Lorg/apache/xml/security/stax/ext/AbstractOutputProcessor;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;Ljava/lang/String;)V
     586: goto          918
     589: new           #33                 // class java/util/ArrayList
     592: dup
     593: iconst_1
     594: invokespecial #34                 // Method java/util/ArrayList."<init>":(I)V
     597: astore        4
     599: aload         4
     601: aload_0
     602: getstatic     #84                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_URI:Ljavax/xml/namespace/QName;
     605: new           #85                 // class java/lang/StringBuilder
     608: dup
     609: invokespecial #86                 // Method java/lang/StringBuilder."<init>":()V
     612: ldc           #87                 // String #
     614: invokevirtual #88                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     617: aload_0
     618: invokevirtual #64                 // Method getEncryptionPartDef:()Lorg/apache/xml/security/stax/impl/EncryptionPartDef;
     621: invokevirtual #82                 // Method org/apache/xml/security/stax/impl/EncryptionPartDef.getKeyId:()Ljava/lang/String;
     624: invokevirtual #88                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     627: invokevirtual #89                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     630: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     633: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     638: pop
     639: getstatic     #70                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.KerberosToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     642: aload_0
     643: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     646: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     651: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     654: ifeq          677
     657: aload         4
     659: aload_0
     660: getstatic     #90                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ValueType:Ljavax/xml/namespace/QName;
     663: ldc           #75                 // String http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ
     665: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     668: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     673: pop
     674: goto          898
     677: getstatic     #91                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.DerivedKeyToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     680: aload_0
     681: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     684: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     689: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     692: ifeq          752
     695: aload_0
     696: invokevirtual #11                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     699: checkcast     #12                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     702: invokevirtual #92                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.isUse200512Namespace:()Z
     705: istore        5
     707: iload         5
     709: ifeq          732
     712: aload         4
     714: aload_0
     715: getstatic     #90                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ValueType:Ljavax/xml/namespace/QName;
     718: ldc           #93                 // String http://docs.oasis-open.org/ws-sx/ws-secureconversation/200512/dk
     720: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     723: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     728: pop
     729: goto          749
     732: aload         4
     734: aload_0
     735: getstatic     #90                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ValueType:Ljavax/xml/namespace/QName;
     738: ldc           #94                 // String http://schemas.xmlsoap.org/ws/2005/02/sc/dk
     740: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     743: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     748: pop
     749: goto          898
     752: getstatic     #95                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.SpnegoContextToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     755: aload_0
     756: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     759: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     764: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     767: ifne          806
     770: getstatic     #96                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.SecurityContextToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     773: aload_0
     774: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     777: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     782: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     785: ifne          806
     788: getstatic     #97                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.SecureConversationToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     791: aload_0
     792: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     795: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     800: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     803: ifeq          863
     806: aload_0
     807: invokevirtual #11                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     810: checkcast     #12                 // class org/apache/wss4j/stax/ext/WSSSecurityProperties
     813: invokevirtual #92                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.isUse200512Namespace:()Z
     816: istore        5
     818: iload         5
     820: ifeq          843
     823: aload         4
     825: aload_0
     826: getstatic     #90                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ValueType:Ljavax/xml/namespace/QName;
     829: ldc           #98                 // String http://docs.oasis-open.org/ws-sx/ws-secureconversation/200512/sct
     831: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     834: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     839: pop
     840: goto          860
     843: aload         4
     845: aload_0
     846: getstatic     #90                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ValueType:Ljavax/xml/namespace/QName;
     849: ldc           #99                 // String http://schemas.xmlsoap.org/ws/2005/02/sc/sct
     851: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     854: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     859: pop
     860: goto          898
     863: getstatic     #81                 // Field org/apache/wss4j/stax/securityToken/WSSecurityTokenConstants.EncryptedKeyToken:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     866: aload_0
     867: getfield      #10                 // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     870: invokeinterface #71,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getTokenType:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType;
     875: invokevirtual #72                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$TokenType.equals:(Ljava/lang/Object;)Z
     878: ifeq          898
     881: aload         4
     883: aload_0
     884: getstatic     #90                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ValueType:Ljavax/xml/namespace/QName;
     887: ldc           #60                 // String http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#EncryptedKey
     889: invokevirtual #47                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     892: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     897: pop
     898: aload_0
     899: aload_1
     900: getstatic     #100                // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_Reference:Ljavax/xml/namespace/QName;
     903: iconst_0
     904: aload         4
     906: invokevirtual #50                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     909: pop
     910: aload_0
     911: aload_1
     912: getstatic     #100                // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_Reference:Ljavax/xml/namespace/QName;
     915: invokevirtual #55                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     918: aload_0
     919: aload_1
     920: getstatic     #61                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_SecurityTokenReference:Ljavax/xml/namespace/QName;
     923: invokevirtual #55                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     926: aload_0
     927: aload_1
     928: getstatic     #52                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_KeyInfo:Ljavax/xml/namespace/QName;
     931: invokevirtual #55                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     934: return

  protected void doFinalInternal(org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #101                // Method org/apache/xml/security/stax/impl/processor/output/AbstractEncryptOutputProcessor$AbstractInternalEncryptionOutputProcessor.doFinalInternal:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
       5: aload_0
       6: getfield      #3                  // Field doEncryptedHeader:Z
       9: ifeq          20
      12: aload_0
      13: aload_1
      14: getstatic     #49                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse11_EncryptedHeader:Ljavax/xml/namespace/QName;
      17: invokevirtual #55                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
      20: return
}
