Compiled from "KerberosClientExceptionAction.java"
public class org.apache.wss4j.common.kerberos.KerberosClientExceptionAction implements java.security.PrivilegedExceptionAction<org.apache.wss4j.common.kerberos.KerberosContext> {
  private static final java.lang.String javaVersion;

  private static final boolean isJava5Or6;

  private static final boolean isOracleJavaVendor;

  private static final boolean isIBMJavaVendor;

  private static final boolean isHPJavaVendor;

  private static final java.lang.String SUN_JGSS_INQUIRE_TYPE_CLASS;

  private static final java.lang.String SUN_JGSS_EXT_GSSCTX_CLASS;

  private static final java.lang.String IBM_JGSS_INQUIRE_TYPE_CLASS;

  private static final java.lang.String IBM_JGSS_EXT_GSSCTX_CLASS;

  private static final java.lang.String JGSS_KERBEROS_TICKET_OID;

  private static final java.lang.String JGSS_SPNEGO_TICKET_OID;

  private java.security.Principal clientPrincipal;

  private java.lang.String serviceName;

  private boolean isUsernameServiceNameForm;

  private boolean requestCredDeleg;

  private org.ietf.jgss.GSSCredential delegatedCredential;

  private boolean spnego;

  private boolean mutualAuth;

  public org.apache.wss4j.common.kerberos.KerberosClientExceptionAction(java.security.Principal, java.lang.String, boolean, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: iload         4
       6: aconst_null
       7: iconst_0
       8: iconst_0
       9: invokespecial #1                  // Method "<init>":(Ljava/security/Principal;Ljava/lang/String;ZZLorg/ietf/jgss/GSSCredential;ZZ)V
      12: return

  public org.apache.wss4j.common.kerberos.KerberosClientExceptionAction(java.security.Principal, java.lang.String, boolean, boolean, org.ietf.jgss.GSSCredential, boolean, boolean);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field clientPrincipal:Ljava/security/Principal;
       9: aload_0
      10: aload_2
      11: putfield      #4                  // Field serviceName:Ljava/lang/String;
      14: aload_0
      15: iload_3
      16: putfield      #5                  // Field isUsernameServiceNameForm:Z
      19: aload_0
      20: iload         4
      22: putfield      #6                  // Field requestCredDeleg:Z
      25: aload_0
      26: aload         5
      28: putfield      #7                  // Field delegatedCredential:Lorg/ietf/jgss/GSSCredential;
      31: aload_0
      32: iload         6
      34: putfield      #8                  // Field spnego:Z
      37: aload_0
      38: iload         7
      40: putfield      #9                  // Field mutualAuth:Z
      43: return

  public org.apache.wss4j.common.kerberos.KerberosContext run() throws org.ietf.jgss.GSSException, org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: invokestatic  #10                 // Method org/ietf/jgss/GSSManager.getInstance:()Lorg/ietf/jgss/GSSManager;
       3: astore_1
       4: aload_1
       5: aload_0
       6: getfield      #4                  // Field serviceName:Ljava/lang/String;
       9: aload_0
      10: getfield      #5                  // Field isUsernameServiceNameForm:Z
      13: ifeq          22
      16: getstatic     #11                 // Field org/ietf/jgss/GSSName.NT_USER_NAME:Lorg/ietf/jgss/Oid;
      19: goto          25
      22: getstatic     #12                 // Field org/ietf/jgss/GSSName.NT_HOSTBASED_SERVICE:Lorg/ietf/jgss/Oid;
      25: invokevirtual #13                 // Method org/ietf/jgss/GSSManager.createName:(Ljava/lang/String;Lorg/ietf/jgss/Oid;)Lorg/ietf/jgss/GSSName;
      28: astore_2
      29: aconst_null
      30: astore_3
      31: aload_0
      32: getfield      #7                  // Field delegatedCredential:Lorg/ietf/jgss/GSSCredential;
      35: astore        4
      37: aload_0
      38: getfield      #8                  // Field spnego:Z
      41: ifeq          57
      44: new           #14                 // class org/ietf/jgss/Oid
      47: dup
      48: ldc           #15                 // String 1.3.6.1.5.5.2
      50: invokespecial #16                 // Method org/ietf/jgss/Oid."<init>":(Ljava/lang/String;)V
      53: astore_3
      54: goto          101
      57: new           #14                 // class org/ietf/jgss/Oid
      60: dup
      61: ldc           #17                 // String 1.2.840.113554.1.2.2
      63: invokespecial #16                 // Method org/ietf/jgss/Oid."<init>":(Ljava/lang/String;)V
      66: astore_3
      67: aload         4
      69: ifnonnull     101
      72: aload_1
      73: aload_0
      74: getfield      #3                  // Field clientPrincipal:Ljava/security/Principal;
      77: invokeinterface #18,  1           // InterfaceMethod java/security/Principal.getName:()Ljava/lang/String;
      82: getstatic     #11                 // Field org/ietf/jgss/GSSName.NT_USER_NAME:Lorg/ietf/jgss/Oid;
      85: invokevirtual #13                 // Method org/ietf/jgss/GSSManager.createName:(Ljava/lang/String;Lorg/ietf/jgss/Oid;)Lorg/ietf/jgss/GSSName;
      88: astore        5
      90: aload_1
      91: aload         5
      93: iconst_0
      94: aload_3
      95: iconst_1
      96: invokevirtual #19                 // Method org/ietf/jgss/GSSManager.createCredential:(Lorg/ietf/jgss/GSSName;ILorg/ietf/jgss/Oid;I)Lorg/ietf/jgss/GSSCredential;
      99: astore        4
     101: aload_1
     102: aload_2
     103: aload_3
     104: aload         4
     106: iconst_0
     107: invokevirtual #20                 // Method org/ietf/jgss/GSSManager.createContext:(Lorg/ietf/jgss/GSSName;Lorg/ietf/jgss/Oid;Lorg/ietf/jgss/GSSCredential;I)Lorg/ietf/jgss/GSSContext;
     110: astore        5
     112: aload         5
     114: aload_0
     115: getfield      #9                  // Field mutualAuth:Z
     118: invokeinterface #21,  2           // InterfaceMethod org/ietf/jgss/GSSContext.requestMutualAuth:(Z)V
     123: aload         5
     125: aload_0
     126: getfield      #6                  // Field requestCredDeleg:Z
     129: invokeinterface #22,  2           // InterfaceMethod org/ietf/jgss/GSSContext.requestCredDeleg:(Z)V
     134: iconst_0
     135: newarray       byte
     137: astore        6
     139: aload         5
     141: aload         6
     143: iconst_0
     144: aload         6
     146: arraylength
     147: invokeinterface #23,  4           // InterfaceMethod org/ietf/jgss/GSSContext.initSecContext:([BII)[B
     152: astore        7
     154: new           #24                 // class org/apache/wss4j/common/kerberos/KerberosContext
     157: dup
     158: invokespecial #25                 // Method org/apache/wss4j/common/kerberos/KerberosContext."<init>":()V
     161: astore        8
     163: aload         8
     165: aload         5
     167: invokevirtual #26                 // Method org/apache/wss4j/common/kerberos/KerberosContext.setGssContext:(Lorg/ietf/jgss/GSSContext;)V
     170: aload         8
     172: aload         7
     174: invokevirtual #27                 // Method org/apache/wss4j/common/kerberos/KerberosContext.setKerberosToken:([B)V
     177: getstatic     #28                 // Field isJava5Or6:Z
     180: ifne          308
     183: getstatic     #29                 // Field isOracleJavaVendor:Z
     186: ifne          201
     189: getstatic     #30                 // Field isIBMJavaVendor:Z
     192: ifne          201
     195: getstatic     #31                 // Field isHPJavaVendor:Z
     198: ifeq          308
     201: getstatic     #30                 // Field isIBMJavaVendor:Z
     204: ifeq          212
     207: ldc           #32                 // String com.ibm.security.jgss.InquireType
     209: goto          214
     212: ldc           #33                 // String com.sun.security.jgss.InquireType
     214: invokestatic  #34                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;
     217: astore        9
     219: getstatic     #30                 // Field isIBMJavaVendor:Z
     222: ifeq          230
     225: ldc           #35                 // String com.ibm.security.jgss.ExtendedGSSContext
     227: goto          232
     230: ldc           #36                 // String com.sun.security.jgss.ExtendedGSSContext
     232: invokestatic  #34                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;
     235: astore        10
     237: aload         10
     239: ldc           #37                 // String inquireSecContext
     241: iconst_1
     242: anewarray     #38                 // class java/lang/Class
     245: dup
     246: iconst_0
     247: aload         9
     249: aastore
     250: invokevirtual #39                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
     253: astore        11
     255: aload         11
     257: aload         5
     259: iconst_1
     260: anewarray     #40                 // class java/lang/Object
     263: dup
     264: iconst_0
     265: aload         9
     267: ldc           #41                 // String KRB5_GET_SESSION_KEY
     269: invokestatic  #42                 // Method java/lang/Enum.valueOf:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;
     272: aastore
     273: invokevirtual #43                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     276: checkcast     #44                 // class java/security/Key
     279: astore        12
     281: aload         8
     283: aload         12
     285: invokevirtual #45                 // Method org/apache/wss4j/common/kerberos/KerberosContext.setSecretKey:(Ljava/security/Key;)V
     288: goto          308
     291: astore        9
     293: new           #50                 // class org/apache/wss4j/common/ext/WSSecurityException
     296: dup
     297: getstatic     #51                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     300: aload         9
     302: ldc           #52                 // String kerberosServiceTicketError
     304: invokespecial #53                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;Ljava/lang/String;)V
     307: athrow
     308: aload         8
     310: areturn
    Exception table:
       from    to  target type
         201   288   291   Class java/lang/ClassNotFoundException
         201   288   291   Class java/lang/NoSuchMethodException
         201   288   291   Class java/lang/IllegalAccessException
         201   288   291   Class java/lang/reflect/InvocationTargetException

  public java.lang.Object run() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #54                 // Method run:()Lorg/apache/wss4j/common/kerberos/KerberosContext;
       4: areturn

  static {};
    Code:
       0: ldc           #55                 // String java.version
       2: invokestatic  #56                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       5: putstatic     #57                 // Field javaVersion:Ljava/lang/String;
       8: getstatic     #57                 // Field javaVersion:Ljava/lang/String;
      11: ldc           #58                 // String 1.5
      13: invokevirtual #59                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      16: ifne          30
      19: getstatic     #57                 // Field javaVersion:Ljava/lang/String;
      22: ldc           #60                 // String 1.6
      24: invokevirtual #59                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      27: ifeq          34
      30: iconst_1
      31: goto          35
      34: iconst_0
      35: putstatic     #28                 // Field isJava5Or6:Z
      38: ldc           #61                 // String java.vendor
      40: invokestatic  #56                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      43: ldc           #62                 // String Oracle
      45: invokevirtual #59                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      48: putstatic     #29                 // Field isOracleJavaVendor:Z
      51: ldc           #61                 // String java.vendor
      53: invokestatic  #56                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      56: ldc           #63                 // String IBM
      58: invokevirtual #59                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      61: putstatic     #30                 // Field isIBMJavaVendor:Z
      64: ldc           #61                 // String java.vendor
      66: invokestatic  #56                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      69: ldc           #64                 // String Hewlett-Packard
      71: invokevirtual #59                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      74: putstatic     #31                 // Field isHPJavaVendor:Z
      77: return
}
