Compiled from "KerberosServiceExceptionAction.java"
public class org.apache.wss4j.common.kerberos.KerberosServiceExceptionAction implements java.security.PrivilegedExceptionAction<org.apache.wss4j.common.kerberos.KerberosServiceContext> {
  private static final java.lang.String javaVersion;

  private static final boolean isJava5Or6;

  private static final boolean isOracleJavaVendor;

  private static final boolean isIBMJavaVendor;

  private static final boolean isHPJavaVendor;

  private static final java.lang.String SUN_JGSS_INQUIRE_TYPE_CLASS;

  private static final java.lang.String SUN_JGSS_EXT_GSSCTX_CLASS;

  private static final java.lang.String IBM_JGSS_INQUIRE_TYPE_CLASS;

  private static final java.lang.String IBM_JGSS_EXT_GSSCTX_CLASS;

  private static final java.lang.String EXTENDED_JGSS_CONTEXT_INQUIRE_SEC_CONTEXT_METHOD_NAME;

  private static final java.lang.String EXTENDED_JGSS_CONTEXT_INQUIRE_TYPE_KRB5_GET_SESSION_KEY;

  private static final java.lang.String JGSS_KERBEROS_TICKET_OID;

  private static final java.lang.String JGSS_SPNEGO_TICKET_OID;

  private static final java.lang.String KERBEROS_TICKET_VALIDATION_ERROR_MSG_ID;

  private byte[] ticket;

  private java.lang.String serviceName;

  private boolean isUsernameServiceNameForm;

  private boolean spnego;

  public org.apache.wss4j.common.kerberos.KerberosServiceExceptionAction(byte[], java.lang.String, boolean, boolean);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field ticket:[B
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field serviceName:Ljava/lang/String;
      14: aload_0
      15: iload_3
      16: putfield      #4                  // Field isUsernameServiceNameForm:Z
      19: aload_0
      20: iload         4
      22: putfield      #5                  // Field spnego:Z
      25: return

  public org.apache.wss4j.common.kerberos.KerberosServiceContext run() throws org.ietf.jgss.GSSException, org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: invokestatic  #6                  // Method org/ietf/jgss/GSSManager.getInstance:()Lorg/ietf/jgss/GSSManager;
       3: astore_1
       4: aconst_null
       5: astore_2
       6: aload_1
       7: aload_0
       8: getfield      #3                  // Field serviceName:Ljava/lang/String;
      11: aload_0
      12: getfield      #4                  // Field isUsernameServiceNameForm:Z
      15: ifeq          24
      18: getstatic     #7                  // Field org/ietf/jgss/GSSName.NT_USER_NAME:Lorg/ietf/jgss/Oid;
      21: goto          27
      24: getstatic     #8                  // Field org/ietf/jgss/GSSName.NT_HOSTBASED_SERVICE:Lorg/ietf/jgss/Oid;
      27: invokevirtual #9                  // Method org/ietf/jgss/GSSManager.createName:(Ljava/lang/String;Lorg/ietf/jgss/Oid;)Lorg/ietf/jgss/GSSName;
      30: astore_3
      31: aload_0
      32: getfield      #5                  // Field spnego:Z
      35: ifeq          62
      38: new           #10                 // class org/ietf/jgss/Oid
      41: dup
      42: ldc           #11                 // String 1.3.6.1.5.5.2
      44: invokespecial #12                 // Method org/ietf/jgss/Oid."<init>":(Ljava/lang/String;)V
      47: astore        4
      49: aload_1
      50: aload_3
      51: aload         4
      53: aconst_null
      54: iconst_0
      55: invokevirtual #13                 // Method org/ietf/jgss/GSSManager.createContext:(Lorg/ietf/jgss/GSSName;Lorg/ietf/jgss/Oid;Lorg/ietf/jgss/GSSCredential;I)Lorg/ietf/jgss/GSSContext;
      58: astore_2
      59: goto          91
      62: new           #10                 // class org/ietf/jgss/Oid
      65: dup
      66: ldc           #14                 // String 1.2.840.113554.1.2.2
      68: invokespecial #12                 // Method org/ietf/jgss/Oid."<init>":(Ljava/lang/String;)V
      71: astore        4
      73: aload_1
      74: aload_3
      75: iconst_0
      76: aload         4
      78: iconst_2
      79: invokevirtual #15                 // Method org/ietf/jgss/GSSManager.createCredential:(Lorg/ietf/jgss/GSSName;ILorg/ietf/jgss/Oid;I)Lorg/ietf/jgss/GSSCredential;
      82: astore        5
      84: aload_1
      85: aload         5
      87: invokevirtual #16                 // Method org/ietf/jgss/GSSManager.createContext:(Lorg/ietf/jgss/GSSCredential;)Lorg/ietf/jgss/GSSContext;
      90: astore_2
      91: aconst_null
      92: astore        4
      94: aload_2
      95: aload_0
      96: getfield      #2                  // Field ticket:[B
      99: iconst_0
     100: aload_0
     101: getfield      #2                  // Field ticket:[B
     104: arraylength
     105: invokeinterface #17,  4           // InterfaceMethod org/ietf/jgss/GSSContext.acceptSecContext:([BII)[B
     110: astore        5
     112: new           #18                 // class org/apache/wss4j/common/kerberos/KerberosServiceContext
     115: dup
     116: invokespecial #19                 // Method org/apache/wss4j/common/kerberos/KerberosServiceContext."<init>":()V
     119: astore        4
     121: aload_2
     122: invokeinterface #20,  1           // InterfaceMethod org/ietf/jgss/GSSContext.getCredDelegState:()Z
     127: ifeq          141
     130: aload         4
     132: aload_2
     133: invokeinterface #21,  1           // InterfaceMethod org/ietf/jgss/GSSContext.getDelegCred:()Lorg/ietf/jgss/GSSCredential;
     138: invokevirtual #22                 // Method org/apache/wss4j/common/kerberos/KerberosServiceContext.setDelegationCredential:(Lorg/ietf/jgss/GSSCredential;)V
     141: aload_2
     142: invokeinterface #23,  1           // InterfaceMethod org/ietf/jgss/GSSContext.getSrcName:()Lorg/ietf/jgss/GSSName;
     147: astore        6
     149: aload         4
     151: new           #24                 // class javax/security/auth/kerberos/KerberosPrincipal
     154: dup
     155: aload         6
     157: invokeinterface #25,  1           // InterfaceMethod org/ietf/jgss/GSSName.toString:()Ljava/lang/String;
     162: invokespecial #26                 // Method javax/security/auth/kerberos/KerberosPrincipal."<init>":(Ljava/lang/String;)V
     165: invokevirtual #27                 // Method org/apache/wss4j/common/kerberos/KerberosServiceContext.setPrincipal:(Ljava/security/Principal;)V
     168: aload         4
     170: aload_2
     171: invokevirtual #28                 // Method org/apache/wss4j/common/kerberos/KerberosServiceContext.setGssContext:(Lorg/ietf/jgss/GSSContext;)V
     174: aload         4
     176: aload         5
     178: invokevirtual #29                 // Method org/apache/wss4j/common/kerberos/KerberosServiceContext.setKerberosToken:([B)V
     181: getstatic     #30                 // Field isJava5Or6:Z
     184: ifne          311
     187: getstatic     #31                 // Field isOracleJavaVendor:Z
     190: ifne          205
     193: getstatic     #32                 // Field isIBMJavaVendor:Z
     196: ifne          205
     199: getstatic     #33                 // Field isHPJavaVendor:Z
     202: ifeq          311
     205: getstatic     #32                 // Field isIBMJavaVendor:Z
     208: ifeq          216
     211: ldc           #34                 // String com.ibm.security.jgss.InquireType
     213: goto          218
     216: ldc           #35                 // String com.sun.security.jgss.InquireType
     218: invokestatic  #36                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;
     221: astore        7
     223: getstatic     #32                 // Field isIBMJavaVendor:Z
     226: ifeq          234
     229: ldc           #37                 // String com.ibm.security.jgss.ExtendedGSSContext
     231: goto          236
     234: ldc           #38                 // String com.sun.security.jgss.ExtendedGSSContext
     236: invokestatic  #36                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;
     239: astore        8
     241: aload         8
     243: ldc           #39                 // String inquireSecContext
     245: iconst_1
     246: anewarray     #40                 // class java/lang/Class
     249: dup
     250: iconst_0
     251: aload         7
     253: aastore
     254: invokevirtual #41                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
     257: astore        9
     259: aload         9
     261: aload_2
     262: iconst_1
     263: anewarray     #42                 // class java/lang/Object
     266: dup
     267: iconst_0
     268: aload         7
     270: ldc           #43                 // String KRB5_GET_SESSION_KEY
     272: invokestatic  #44                 // Method java/lang/Enum.valueOf:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;
     275: aastore
     276: invokevirtual #45                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     279: checkcast     #46                 // class java/security/Key
     282: astore        10
     284: aload         4
     286: aload         10
     288: invokevirtual #47                 // Method org/apache/wss4j/common/kerberos/KerberosServiceContext.setSessionKey:(Ljava/security/Key;)V
     291: goto          311
     294: astore        7
     296: new           #52                 // class org/apache/wss4j/common/ext/WSSecurityException
     299: dup
     300: getstatic     #53                 // Field org/apache/wss4j/common/ext/WSSecurityException$ErrorCode.FAILURE:Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;
     303: aload         7
     305: ldc           #54                 // String kerberosTicketValidationError
     307: invokespecial #55                 // Method org/apache/wss4j/common/ext/WSSecurityException."<init>":(Lorg/apache/wss4j/common/ext/WSSecurityException$ErrorCode;Ljava/lang/Exception;Ljava/lang/String;)V
     310: athrow
     311: aconst_null
     312: aload_2
     313: if_acmpeq     355
     316: aload_0
     317: getfield      #5                  // Field spnego:Z
     320: ifne          355
     323: aload_2
     324: invokeinterface #56,  1           // InterfaceMethod org/ietf/jgss/GSSContext.dispose:()V
     329: goto          355
     332: astore        11
     334: aconst_null
     335: aload_2
     336: if_acmpeq     352
     339: aload_0
     340: getfield      #5                  // Field spnego:Z
     343: ifne          352
     346: aload_2
     347: invokeinterface #56,  1           // InterfaceMethod org/ietf/jgss/GSSContext.dispose:()V
     352: aload         11
     354: athrow
     355: aload         4
     357: areturn
    Exception table:
       from    to  target type
         205   291   294   Class java/lang/ClassNotFoundException
         205   291   294   Class java/lang/NoSuchMethodException
         205   291   294   Class java/lang/IllegalAccessException
         205   291   294   Class java/lang/reflect/InvocationTargetException
          94   311   332   any
         332   334   332   any

  public java.lang.Object run() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #57                 // Method run:()Lorg/apache/wss4j/common/kerberos/KerberosServiceContext;
       4: areturn

  static {};
    Code:
       0: ldc           #58                 // String java.version
       2: invokestatic  #59                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       5: putstatic     #60                 // Field javaVersion:Ljava/lang/String;
       8: getstatic     #60                 // Field javaVersion:Ljava/lang/String;
      11: ldc           #61                 // String 1.5
      13: invokevirtual #62                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      16: ifne          30
      19: getstatic     #60                 // Field javaVersion:Ljava/lang/String;
      22: ldc           #63                 // String 1.6
      24: invokevirtual #62                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      27: ifeq          34
      30: iconst_1
      31: goto          35
      34: iconst_0
      35: putstatic     #30                 // Field isJava5Or6:Z
      38: ldc           #64                 // String java.vendor
      40: invokestatic  #59                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      43: ldc           #65                 // String Oracle
      45: invokevirtual #62                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      48: putstatic     #31                 // Field isOracleJavaVendor:Z
      51: ldc           #64                 // String java.vendor
      53: invokestatic  #59                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      56: ldc           #66                 // String IBM
      58: invokevirtual #62                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      61: putstatic     #32                 // Field isIBMJavaVendor:Z
      64: ldc           #64                 // String java.vendor
      66: invokestatic  #59                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      69: ldc           #67                 // String Hewlett-Packard
      71: invokevirtual #62                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      74: putstatic     #33                 // Field isHPJavaVendor:Z
      77: return
}
