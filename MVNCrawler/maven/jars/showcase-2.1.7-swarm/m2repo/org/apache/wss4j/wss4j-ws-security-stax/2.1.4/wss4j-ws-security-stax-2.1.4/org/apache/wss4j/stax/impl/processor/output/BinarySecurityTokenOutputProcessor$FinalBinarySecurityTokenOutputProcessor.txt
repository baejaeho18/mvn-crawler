Compiled from "BinarySecurityTokenOutputProcessor.java"
class org.apache.wss4j.stax.impl.processor.output.BinarySecurityTokenOutputProcessor$FinalBinarySecurityTokenOutputProcessor extends org.apache.xml.security.stax.ext.AbstractOutputProcessor {
  private final org.apache.xml.security.stax.securityToken.OutboundSecurityToken securityToken;

  final org.apache.wss4j.stax.impl.processor.output.BinarySecurityTokenOutputProcessor this$0;

  org.apache.wss4j.stax.impl.processor.output.BinarySecurityTokenOutputProcessor$FinalBinarySecurityTokenOutputProcessor(org.apache.wss4j.stax.impl.processor.output.BinarySecurityTokenOutputProcessor, org.apache.xml.security.stax.securityToken.OutboundSecurityToken) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/wss4j/stax/impl/processor/output/BinarySecurityTokenOutputProcessor;
       5: aload_0
       6: invokespecial #2                  // Method org/apache/xml/security/stax/ext/AbstractOutputProcessor."<init>":()V
       9: aload_0
      10: ldc_w         #3                  // class org/apache/wss4j/stax/impl/processor/output/BinarySecurityTokenOutputProcessor
      13: invokevirtual #4                  // Method java/lang/Class.getName:()Ljava/lang/String;
      16: invokevirtual #5                  // Method addAfterProcessor:(Ljava/lang/Object;)V
      19: aload_0
      20: aload_2
      21: putfield      #6                  // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
      24: return

  public void processEvent(org.apache.xml.security.stax.ext.stax.XMLSecEvent, org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_2
       1: aload_1
       2: invokeinterface #7,  2            // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.processEvent:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;)V
       7: aload_1
       8: aload_0
       9: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      12: checkcast     #9                  // class org/apache/wss4j/stax/ext/WSSSecurityProperties
      15: invokevirtual #10                 // Method org/apache/wss4j/stax/ext/WSSSecurityProperties.getActor:()Ljava/lang/String;
      18: invokestatic  #11                 // Method org/apache/wss4j/stax/utils/WSSUtils.isSecurityHeaderElement:(Lorg/apache/xml/security/stax/ext/stax/XMLSecEvent;Ljava/lang/String;)Z
      21: ifeq          284
      24: getstatic     #12                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_wsse_BinarySecurityToken:Ljavax/xml/namespace/QName;
      27: astore_3
      28: aload_2
      29: aload_3
      30: aload_0
      31: invokevirtual #13                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      34: iconst_0
      35: invokestatic  #14                 // Method org/apache/wss4j/stax/impl/processor/output/OutputProcessorUtils.updateSecurityHeaderOrder:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;Z)V
      38: aload_2
      39: aload_0
      40: invokeinterface #15,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.createSubChain:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)Lorg/apache/xml/security/stax/ext/OutputProcessorChain;
      45: astore        4
      47: getstatic     #16                 // Field org/apache/wss4j/stax/ext/WSSConstants.ENCRYPT_WITH_KERBEROS_TOKEN:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      50: aload_0
      51: invokevirtual #13                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      54: invokevirtual #17                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
      57: ifne          86
      60: getstatic     #18                 // Field org/apache/wss4j/stax/ext/WSSConstants.SIGNATURE_WITH_KERBEROS_TOKEN:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      63: aload_0
      64: invokevirtual #13                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      67: invokevirtual #17                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
      70: ifne          86
      73: getstatic     #19                 // Field org/apache/wss4j/stax/ext/WSSConstants.KERBEROS_TOKEN:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      76: aload_0
      77: invokevirtual #13                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
      80: invokevirtual #17                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
      83: ifeq          242
      86: new           #20                 // class java/util/ArrayList
      89: dup
      90: iconst_3
      91: invokespecial #21                 // Method java/util/ArrayList."<init>":(I)V
      94: astore        5
      96: aload         5
      98: aload_0
      99: getstatic     #22                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_EncodingType:Ljavax/xml/namespace/QName;
     102: ldc           #23                 // String http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary
     104: invokevirtual #24                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     107: invokeinterface #25,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     112: pop
     113: aload         5
     115: aload_0
     116: getstatic     #26                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_NULL_ValueType:Ljavax/xml/namespace/QName;
     119: ldc           #27                 // String http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ
     121: invokevirtual #24                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     124: invokeinterface #25,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     129: pop
     130: aload         5
     132: aload_0
     133: getstatic     #28                 // Field org/apache/wss4j/stax/ext/WSSConstants.ATT_wsu_Id:Ljavax/xml/namespace/QName;
     136: aload_0
     137: getfield      #6                  // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     140: invokeinterface #29,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getId:()Ljava/lang/String;
     145: invokevirtual #24                 // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     148: invokeinterface #25,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     153: pop
     154: aload_0
     155: aload         4
     157: aload_3
     158: iconst_0
     159: aload         5
     161: invokevirtual #30                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     164: pop
     165: aload_0
     166: aload         4
     168: new           #31                 // class org/apache/commons/codec/binary/Base64
     171: dup
     172: bipush        76
     174: iconst_1
     175: newarray       byte
     177: dup
     178: iconst_0
     179: bipush        10
     181: bastore
     182: invokespecial #32                 // Method org/apache/commons/codec/binary/Base64."<init>":(I[B)V
     185: aload_0
     186: getfield      #6                  // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     189: checkcast     #33                 // class org/apache/wss4j/stax/impl/securityToken/KerberosClientSecurityToken
     192: invokevirtual #34                 // Method org/apache/wss4j/stax/impl/securityToken/KerberosClientSecurityToken.getTicket:()[B
     195: invokevirtual #35                 // Method org/apache/commons/codec/binary/Base64.encodeToString:([B)Ljava/lang/String;
     198: invokevirtual #36                 // Method createCharactersAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)V
     201: aload_0
     202: aload         4
     204: aload_3
     205: invokevirtual #37                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     208: getstatic     #16                 // Field org/apache/wss4j/stax/ext/WSSConstants.ENCRYPT_WITH_KERBEROS_TOKEN:Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     211: aload_0
     212: invokevirtual #13                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     215: invokevirtual #17                 // Method org/apache/xml/security/stax/ext/XMLSecurityConstants$Action.equals:(Ljava/lang/Object;)Z
     218: ifeq          239
     221: aload_2
     222: getstatic     #38                 // Field org/apache/wss4j/stax/ext/WSSConstants.TAG_xenc_ReferenceList:Ljavax/xml/namespace/QName;
     225: aload_0
     226: invokevirtual #13                 // Method getAction:()Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;
     229: iconst_0
     230: invokestatic  #14                 // Method org/apache/wss4j/stax/impl/processor/output/OutputProcessorUtils.updateSecurityHeaderOrder:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;Lorg/apache/xml/security/stax/ext/XMLSecurityConstants$Action;Z)V
     233: aload_0
     234: aload         4
     236: invokestatic  #39                 // Method org/apache/wss4j/stax/utils/WSSUtils.createReferenceListStructureForEncryption:(Lorg/apache/xml/security/stax/ext/AbstractOutputProcessor;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)V
     239: goto          277
     242: aload_0
     243: invokevirtual #8                  // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     246: invokevirtual #40                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.isUseSingleCert:()Z
     249: istore        5
     251: aload_0
     252: aload         4
     254: aload_0
     255: getfield      #6                  // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     258: invokeinterface #29,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getId:()Ljava/lang/String;
     263: aload_0
     264: getfield      #6                  // Field securityToken:Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;
     267: invokeinterface #41,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getX509Certificates:()[Ljava/security/cert/X509Certificate;
     272: iload         5
     274: invokestatic  #42                 // Method org/apache/wss4j/stax/utils/WSSUtils.createBinarySecurityTokenStructure:(Lorg/apache/xml/security/stax/ext/AbstractOutputProcessor;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;[Ljava/security/cert/X509Certificate;Z)V
     277: aload_2
     278: aload_0
     279: invokeinterface #43,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
     284: return
}
