Compiled from "ClientProducerImpl.java"
public class org.apache.activemq.artemis.core.client.impl.ClientProducerImpl implements org.apache.activemq.artemis.core.client.impl.ClientProducerInternal {
  private final org.apache.activemq.artemis.api.core.SimpleString address;

  private final org.apache.activemq.artemis.core.client.impl.ClientSessionInternal session;

  private final org.apache.activemq.artemis.spi.core.remoting.SessionContext sessionContext;

  private volatile boolean closed;

  private final org.apache.activemq.artemis.utils.TokenBucketLimiter rateLimiter;

  private final boolean blockOnNonDurableSend;

  private final boolean blockOnDurableSend;

  private final org.apache.activemq.artemis.api.core.SimpleString groupID;

  private final int minLargeMessageSize;

  private final org.apache.activemq.artemis.core.client.impl.ClientProducerCredits producerCredits;

  public org.apache.activemq.artemis.core.client.impl.ClientProducerImpl(org.apache.activemq.artemis.core.client.impl.ClientSessionInternal, org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.utils.TokenBucketLimiter, boolean, boolean, boolean, org.apache.activemq.artemis.api.core.SimpleString, int, org.apache.activemq.artemis.spi.core.remoting.SessionContext);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload         9
       7: putfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
      10: aload_0
      11: aload_1
      12: putfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      15: aload_0
      16: aload_2
      17: putfield      #4                  // Field address:Lorg/apache/activemq/artemis/api/core/SimpleString;
      20: aload_0
      21: aload_3
      22: putfield      #5                  // Field rateLimiter:Lorg/apache/activemq/artemis/utils/TokenBucketLimiter;
      25: aload_0
      26: iload         4
      28: putfield      #6                  // Field blockOnNonDurableSend:Z
      31: aload_0
      32: iload         5
      34: putfield      #7                  // Field blockOnDurableSend:Z
      37: iload         6
      39: ifeq          55
      42: aload_0
      43: invokestatic  #8                  // Method org/apache/activemq/artemis/utils/UUIDGenerator.getInstance:()Lorg/apache/activemq/artemis/utils/UUIDGenerator;
      46: invokevirtual #9                  // Method org/apache/activemq/artemis/utils/UUIDGenerator.generateSimpleStringUUID:()Lorg/apache/activemq/artemis/api/core/SimpleString;
      49: putfield      #10                 // Field groupID:Lorg/apache/activemq/artemis/api/core/SimpleString;
      52: goto          61
      55: aload_0
      56: aload         7
      58: putfield      #10                 // Field groupID:Lorg/apache/activemq/artemis/api/core/SimpleString;
      61: aload_0
      62: iload         8
      64: putfield      #11                 // Field minLargeMessageSize:I
      67: aload_2
      68: ifnull        86
      71: aload_0
      72: aload_1
      73: aload_2
      74: iconst_0
      75: invokeinterface #12,  3           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.getCredits:(Lorg/apache/activemq/artemis/api/core/SimpleString;Z)Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;
      80: putfield      #13                 // Field producerCredits:Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;
      83: goto          91
      86: aload_0
      87: aconst_null
      88: putfield      #13                 // Field producerCredits:Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;
      91: return

  public org.apache.activemq.artemis.api.core.SimpleString getAddress();
    Code:
       0: aload_0
       1: getfield      #4                  // Field address:Lorg/apache/activemq/artemis/api/core/SimpleString;
       4: areturn

  public void send(org.apache.activemq.artemis.api.core.Message) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: invokespecial #14                 // Method checkClosed:()V
       4: aload_0
       5: aconst_null
       6: aload_1
       7: aconst_null
       8: iconst_0
       9: invokespecial #15                 // Method doSend:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/api/core/Message;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;Z)V
      12: return

  public void send(org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.api.core.Message) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: invokespecial #14                 // Method checkClosed:()V
       4: aload_0
       5: aload_1
       6: aload_2
       7: aconst_null
       8: iconst_0
       9: invokespecial #15                 // Method doSend:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/api/core/Message;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;Z)V
      12: return

  public void send(java.lang.String, org.apache.activemq.artemis.api.core.Message) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #16                 // Method org/apache/activemq/artemis/api/core/SimpleString.toSimpleString:(Ljava/lang/String;)Lorg/apache/activemq/artemis/api/core/SimpleString;
       5: aload_2
       6: invokevirtual #17                 // Method send:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/api/core/Message;)V
       9: return

  public void send(org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.api.core.Message, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: invokespecial #14                 // Method checkClosed:()V
       4: aload_0
       5: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
       8: invokeinterface #18,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.isConfirmationWindowEnabled:()Z
      13: istore        4
      15: iload         4
      17: ifeq          31
      20: aload_0
      21: aload_1
      22: aload_2
      23: aload_3
      24: iconst_1
      25: invokespecial #15                 // Method doSend:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/api/core/Message;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;Z)V
      28: goto          54
      31: aload_0
      32: aload_1
      33: aload_2
      34: aconst_null
      35: iconst_1
      36: invokespecial #15                 // Method doSend:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/api/core/Message;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;Z)V
      39: aload_3
      40: ifnull        54
      43: aload_0
      44: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      47: aload_3
      48: aload_2
      49: invokeinterface #19,  3           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.scheduleConfirmation:(Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;Lorg/apache/activemq/artemis/api/core/Message;)V
      54: return

  public void send(org.apache.activemq.artemis.api.core.Message, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: aconst_null
       2: aload_1
       3: aload_2
       4: invokevirtual #20                 // Method send:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/api/core/Message;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
       7: return

  public synchronized void close() throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: getfield      #21                 // Field closed:Z
       4: ifeq          8
       7: return
       8: aload_0
       9: invokespecial #22                 // Method doCleanup:()V
      12: return

  public void cleanUp();
    Code:
       0: aload_0
       1: getfield      #21                 // Field closed:Z
       4: ifeq          8
       7: return
       8: aload_0
       9: invokespecial #22                 // Method doCleanup:()V
      12: return

  public boolean isClosed();
    Code:
       0: aload_0
       1: getfield      #21                 // Field closed:Z
       4: ireturn

  public boolean isBlockOnDurableSend();
    Code:
       0: aload_0
       1: getfield      #7                  // Field blockOnDurableSend:Z
       4: ireturn

  public boolean isBlockOnNonDurableSend();
    Code:
       0: aload_0
       1: getfield      #6                  // Field blockOnNonDurableSend:Z
       4: ireturn

  public int getMaxRate();
    Code:
       0: aload_0
       1: getfield      #5                  // Field rateLimiter:Lorg/apache/activemq/artemis/utils/TokenBucketLimiter;
       4: ifnonnull     11
       7: iconst_m1
       8: goto          20
      11: aload_0
      12: getfield      #5                  // Field rateLimiter:Lorg/apache/activemq/artemis/utils/TokenBucketLimiter;
      15: invokeinterface #23,  1           // InterfaceMethod org/apache/activemq/artemis/utils/TokenBucketLimiter.getRate:()I
      20: ireturn

  public org.apache.activemq.artemis.core.client.impl.ClientProducerCredits getProducerCredits();
    Code:
       0: aload_0
       1: getfield      #13                 // Field producerCredits:Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;
       4: areturn

  private void doCleanup();
    Code:
       0: aload_0
       1: getfield      #4                  // Field address:Lorg/apache/activemq/artemis/api/core/SimpleString;
       4: ifnull        20
       7: aload_0
       8: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      11: aload_0
      12: getfield      #4                  // Field address:Lorg/apache/activemq/artemis/api/core/SimpleString;
      15: invokeinterface #24,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.returnCredits:(Lorg/apache/activemq/artemis/api/core/SimpleString;)V
      20: aload_0
      21: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      24: aload_0
      25: invokeinterface #25,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.removeProducer:(Lorg/apache/activemq/artemis/core/client/impl/ClientProducerInternal;)V
      30: aload_0
      31: iconst_1
      32: putfield      #21                 // Field closed:Z
      35: return

  private void doSend(org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.api.core.Message, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler, boolean) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
       4: invokeinterface #26,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.startCall:()V
       9: aload_2
      10: checkcast     #27                 // class org/apache/activemq/artemis/core/message/impl/MessageInternal
      13: astore        5
      15: aload_0
      16: getfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
      19: invokevirtual #28                 // Method org/apache/activemq/artemis/spi/core/remoting/SessionContext.supportsLargeMessage:()Z
      22: ifeq          80
      25: aload         5
      27: invokeinterface #29,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyInputStream:()Ljava/io/InputStream;
      32: ifnonnull     74
      35: aload         5
      37: invokeinterface #30,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.isLargeMessage:()Z
      42: ifne          74
      45: aload         5
      47: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
      52: invokeinterface #32,  1           // InterfaceMethod org/apache/activemq/artemis/api/core/ActiveMQBuffer.writerIndex:()I
      57: aload_0
      58: getfield      #11                 // Field minLargeMessageSize:I
      61: if_icmple     80
      64: aload         5
      66: invokeinterface #33,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.isServerMessage:()Z
      71: ifne          80
      74: iconst_1
      75: istore        7
      77: goto          83
      80: iconst_0
      81: istore        7
      83: aload_1
      84: ifnull        130
      87: iload         7
      89: ifne          106
      92: aload_0
      93: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      96: aload_2
      97: aload_1
      98: invokeinterface #34,  3           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.setAddress:(Lorg/apache/activemq/artemis/api/core/Message;Lorg/apache/activemq/artemis/api/core/SimpleString;)V
     103: goto          114
     106: aload_2
     107: aload_1
     108: invokeinterface #35,  2           // InterfaceMethod org/apache/activemq/artemis/api/core/Message.setAddress:(Lorg/apache/activemq/artemis/api/core/SimpleString;)Lorg/apache/activemq/artemis/api/core/Message;
     113: pop
     114: aload_0
     115: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
     118: aload_1
     119: iconst_1
     120: invokeinterface #12,  3           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.getCredits:(Lorg/apache/activemq/artemis/api/core/SimpleString;Z)Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;
     125: astore        6
     127: goto          169
     130: iload         7
     132: ifne          152
     135: aload_0
     136: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
     139: aload_2
     140: aload_0
     141: getfield      #4                  // Field address:Lorg/apache/activemq/artemis/api/core/SimpleString;
     144: invokeinterface #34,  3           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.setAddress:(Lorg/apache/activemq/artemis/api/core/Message;Lorg/apache/activemq/artemis/api/core/SimpleString;)V
     149: goto          163
     152: aload_2
     153: aload_0
     154: getfield      #4                  // Field address:Lorg/apache/activemq/artemis/api/core/SimpleString;
     157: invokeinterface #35,  2           // InterfaceMethod org/apache/activemq/artemis/api/core/Message.setAddress:(Lorg/apache/activemq/artemis/api/core/SimpleString;)Lorg/apache/activemq/artemis/api/core/Message;
     162: pop
     163: aload_0
     164: getfield      #13                 // Field producerCredits:Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;
     167: astore        6
     169: aload_0
     170: getfield      #5                  // Field rateLimiter:Lorg/apache/activemq/artemis/utils/TokenBucketLimiter;
     173: ifnull        185
     176: aload_0
     177: getfield      #5                  // Field rateLimiter:Lorg/apache/activemq/artemis/utils/TokenBucketLimiter;
     180: invokeinterface #36,  1           // InterfaceMethod org/apache/activemq/artemis/utils/TokenBucketLimiter.limit:()V
     185: aload_0
     186: getfield      #10                 // Field groupID:Lorg/apache/activemq/artemis/api/core/SimpleString;
     189: ifnull        207
     192: aload         5
     194: getstatic     #37                 // Field org/apache/activemq/artemis/api/core/Message.HDR_GROUP_ID:Lorg/apache/activemq/artemis/api/core/SimpleString;
     197: aload_0
     198: getfield      #10                 // Field groupID:Lorg/apache/activemq/artemis/api/core/SimpleString;
     201: invokeinterface #38,  3           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.putStringProperty:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/api/core/SimpleString;)Lorg/apache/activemq/artemis/api/core/Message;
     206: pop
     207: aload         5
     209: invokeinterface #39,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.isDurable:()Z
     214: ifeq          224
     217: aload_0
     218: getfield      #7                  // Field blockOnDurableSend:Z
     221: goto          228
     224: aload_0
     225: getfield      #6                  // Field blockOnNonDurableSend:Z
     228: istore        8
     230: aload_3
     231: ifnull        238
     234: iconst_1
     235: goto          239
     238: iconst_0
     239: istore        9
     241: iload         8
     243: ifeq          255
     246: iload         9
     248: ifne          255
     251: iconst_1
     252: goto          256
     255: iconst_0
     256: istore        10
     258: aload_0
     259: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
     262: invokeinterface #40,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.workDone:()V
     267: iload         7
     269: ifeq          286
     272: aload_0
     273: iload         10
     275: aload         5
     277: aload         6
     279: aload_3
     280: invokespecial #41                 // Method largeMessageSend:(ZLorg/apache/activemq/artemis/core/message/impl/MessageInternal;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
     283: goto          297
     286: aload_0
     287: aload         5
     289: iload         10
     291: aload         6
     293: aload_3
     294: invokespecial #42                 // Method sendRegularMessage:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;ZLorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
     297: aload_0
     298: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
     301: invokeinterface #43,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.endCall:()V
     306: goto          323
     309: astore        11
     311: aload_0
     312: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
     315: invokeinterface #43,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.endCall:()V
     320: aload         11
     322: athrow
     323: return
    Exception table:
       from    to  target type
           9   297   309   any
         309   311   309   any

  private void sendRegularMessage(org.apache.activemq.artemis.core.message.impl.MessageInternal, boolean, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
       4: aload_1
       5: invokevirtual #44                 // Method org/apache/activemq/artemis/spi/core/remoting/SessionContext.getCreditsOnSendingFull:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;)I
       8: istore        5
      10: aload_3
      11: iload         5
      13: invokeinterface #45,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.acquireCredits:(I)V
      18: goto          33
      21: astore        5
      23: new           #47                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
      26: dup
      27: aload         5
      29: invokespecial #48                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
      32: athrow
      33: aload_0
      34: getfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
      37: aload_1
      38: iload_2
      39: aload         4
      41: aload_0
      42: getfield      #4                  // Field address:Lorg/apache/activemq/artemis/api/core/SimpleString;
      45: invokevirtual #49                 // Method org/apache/activemq/artemis/spi/core/remoting/SessionContext.sendFullMessage:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;ZLorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;Lorg/apache/activemq/artemis/api/core/SimpleString;)V
      48: return
    Exception table:
       from    to  target type
           0    18    21   Class java/lang/InterruptedException

  private void checkClosed() throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: getfield      #21                 // Field closed:Z
       4: ifeq          16
       7: getstatic     #50                 // Field org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.BUNDLE:Lorg/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle;
      10: invokeinterface #51,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.producerClosed:()Lorg/apache/activemq/artemis/api/core/ActiveMQObjectClosedException;
      15: athrow
      16: return

  private void largeMessageSend(boolean, org.apache.activemq.artemis.core.message.impl.MessageInternal, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_2
       1: invokeinterface #52,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getHeadersAndPropertiesEncodeSize:()I
       6: istore        5
       8: aload_2
       9: invokeinterface #52,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getHeadersAndPropertiesEncodeSize:()I
      14: aload_0
      15: getfield      #11                 // Field minLargeMessageSize:I
      18: if_icmplt     35
      21: getstatic     #50                 // Field org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.BUNDLE:Lorg/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle;
      24: iload         5
      26: invokestatic  #53                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      29: invokeinterface #54,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.headerSizeTooBig:(Ljava/lang/Integer;)Lorg/apache/activemq/artemis/api/core/ActiveMQIllegalStateException;
      34: athrow
      35: aload_2
      36: invokeinterface #29,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyInputStream:()Ljava/io/InputStream;
      41: ifnonnull     65
      44: aload_2
      45: invokeinterface #55,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getWholeBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
      50: ifnull        65
      53: aload_2
      54: invokeinterface #55,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getWholeBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
      59: iconst_0
      60: invokeinterface #56,  2           // InterfaceMethod org/apache/activemq/artemis/api/core/ActiveMQBuffer.readerIndex:(I)V
      65: aload_2
      66: invokeinterface #33,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.isServerMessage:()Z
      71: ifeq          86
      74: aload_0
      75: iload_1
      76: aload_2
      77: aload_3
      78: aload         4
      80: invokespecial #57                 // Method largeMessageSendServer:(ZLorg/apache/activemq/artemis/core/message/impl/MessageInternal;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
      83: goto          121
      86: aload_2
      87: invokeinterface #29,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyInputStream:()Ljava/io/InputStream;
      92: dup
      93: astore        6
      95: ifnull        112
      98: aload_0
      99: iload_1
     100: aload_2
     101: aload         6
     103: aload_3
     104: aload         4
     106: invokespecial #58                 // Method largeMessageSendStreamed:(ZLorg/apache/activemq/artemis/core/message/impl/MessageInternal;Ljava/io/InputStream;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
     109: goto          121
     112: aload_0
     113: iload_1
     114: aload_2
     115: aload_3
     116: aload         4
     118: invokespecial #59                 // Method largeMessageSendBuffered:(ZLorg/apache/activemq/artemis/core/message/impl/MessageInternal;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
     121: return

  private void sendInitialLargeMessageHeader(org.apache.activemq.artemis.core.message.impl.MessageInternal, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
       4: aload_1
       5: invokevirtual #60                 // Method org/apache/activemq/artemis/spi/core/remoting/SessionContext.sendInitialChunkOnLargeMessage:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;)I
       8: istore_3
       9: aload_2
      10: iload_3
      11: invokeinterface #45,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.acquireCredits:(I)V
      16: goto          31
      19: astore        4
      21: new           #47                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
      24: dup
      25: aload         4
      27: invokespecial #48                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
      30: athrow
      31: return
    Exception table:
       from    to  target type
           9    16    19   Class java/lang/InterruptedException

  private void largeMessageSendServer(boolean, org.apache.activemq.artemis.core.message.impl.MessageInternal, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_3
       3: invokespecial #61                 // Method sendInitialLargeMessageHeader:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;)V
       6: aload_2
       7: invokeinterface #62,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyEncoder:()Lorg/apache/activemq/artemis/core/message/BodyEncoder;
      12: astore        5
      14: aload         5
      16: invokeinterface #63,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/BodyEncoder.getLargeBodySize:()J
      21: lstore        6
      23: aload         5
      25: invokeinterface #64,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/BodyEncoder.open:()V
      30: iconst_0
      31: istore        8
      33: iload         8
      35: i2l
      36: lload         6
      38: lcmp
      39: ifge          167
      42: lload         6
      44: iload         8
      46: i2l
      47: lsub
      48: l2i
      49: aload_0
      50: getfield      #11                 // Field minLargeMessageSize:I
      53: invokestatic  #65                 // Method java/lang/Math.min:(II)I
      56: istore        10
      58: iload         10
      60: invokestatic  #66                 // Method org/apache/activemq/artemis/api/core/ActiveMQBuffers.fixedBuffer:(I)Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
      63: astore        11
      65: aload         5
      67: aload         11
      69: iload         10
      71: invokeinterface #67,  3           // InterfaceMethod org/apache/activemq/artemis/core/message/BodyEncoder.encode:(Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;I)I
      76: pop
      77: iload         8
      79: iload         10
      81: iadd
      82: istore        8
      84: iload         8
      86: i2l
      87: lload         6
      89: lcmp
      90: iflt          97
      93: iconst_1
      94: goto          98
      97: iconst_0
      98: istore        9
     100: iload         9
     102: ifeq          110
     105: aload         4
     107: goto          111
     110: aconst_null
     111: astore        12
     113: aload_0
     114: getfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
     117: aload_2
     118: ldc2_w        #68                 // long -1l
     121: iload_1
     122: iload         9
     124: aload         11
     126: invokeinterface #70,  1           // InterfaceMethod org/apache/activemq/artemis/api/core/ActiveMQBuffer.toByteBuffer:()Ljava/nio/ByteBuffer;
     131: invokevirtual #71                 // Method java/nio/ByteBuffer.array:()[B
     134: aload         12
     136: invokevirtual #72                 // Method org/apache/activemq/artemis/spi/core/remoting/SessionContext.sendLargeMessageChunk:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;JZZ[BLorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)I
     139: istore        13
     141: aload_3
     142: iload         13
     144: invokeinterface #45,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.acquireCredits:(I)V
     149: goto          164
     152: astore        14
     154: new           #47                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
     157: dup
     158: aload         14
     160: invokespecial #48                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
     163: athrow
     164: goto          33
     167: aload         5
     169: invokeinterface #73,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/BodyEncoder.close:()V
     174: goto          189
     177: astore        15
     179: aload         5
     181: invokeinterface #73,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/BodyEncoder.close:()V
     186: aload         15
     188: athrow
     189: return
    Exception table:
       from    to  target type
         141   149   152   Class java/lang/InterruptedException
          30   167   177   any
         177   179   177   any

  private void largeMessageSendBuffered(boolean, org.apache.activemq.artemis.core.message.impl.MessageInternal, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: aload_2
       1: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
       6: iconst_0
       7: invokeinterface #56,  2           // InterfaceMethod org/apache/activemq/artemis/api/core/ActiveMQBuffer.readerIndex:(I)V
      12: aload_0
      13: iload_1
      14: aload_2
      15: new           #74                 // class org/apache/activemq/artemis/utils/ActiveMQBufferInputStream
      18: dup
      19: aload_2
      20: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
      25: invokespecial #75                 // Method org/apache/activemq/artemis/utils/ActiveMQBufferInputStream."<init>":(Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;)V
      28: aload_3
      29: aload         4
      31: invokespecial #58                 // Method largeMessageSendStreamed:(ZLorg/apache/activemq/artemis/core/message/impl/MessageInternal;Ljava/io/InputStream;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
      34: return

  private void largeMessageSendStreamed(boolean, org.apache.activemq.artemis.core.message.impl.MessageInternal, java.io.InputStream, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits, org.apache.activemq.artemis.api.core.client.SendAcknowledgementHandler) throws org.apache.activemq.artemis.api.core.ActiveMQException;
    Code:
       0: iconst_0
       1: istore        6
       3: aload_3
       4: astore        7
       6: new           #76                 // class java/util/concurrent/atomic/AtomicLong
       9: dup
      10: invokespecial #77                 // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
      13: astore        8
      15: aconst_null
      16: astore        9
      18: aload_0
      19: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      22: invokeinterface #78,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.isCompressLargeMessages:()Z
      27: ifeq          57
      30: aload_2
      31: getstatic     #79                 // Field org/apache/activemq/artemis/api/core/Message.HDR_LARGE_COMPRESSED:Lorg/apache/activemq/artemis/api/core/SimpleString;
      34: iconst_1
      35: invokeinterface #80,  3           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.putBooleanProperty:(Lorg/apache/activemq/artemis/api/core/SimpleString;Z)Lorg/apache/activemq/artemis/api/core/Message;
      40: pop
      41: new           #81                 // class org/apache/activemq/artemis/utils/DeflaterReader
      44: dup
      45: aload_3
      46: aload         8
      48: invokespecial #82                 // Method org/apache/activemq/artemis/utils/DeflaterReader."<init>":(Ljava/io/InputStream;Ljava/util/concurrent/atomic/AtomicLong;)V
      51: astore        9
      53: aload         9
      55: astore        7
      57: lconst_0
      58: lstore        10
      60: iconst_0
      61: istore        12
      63: iload         6
      65: ifne          415
      68: aload_0
      69: getfield      #11                 // Field minLargeMessageSize:I
      72: newarray       byte
      74: astore        13
      76: iconst_0
      77: istore        14
      79: aload_0
      80: getfield      #11                 // Field minLargeMessageSize:I
      83: iload         14
      85: isub
      86: istore        16
      88: aload         7
      90: aload         13
      92: iload         14
      94: iload         16
      96: invokevirtual #83                 // Method java/io/InputStream.read:([BII)I
      99: istore        15
     101: goto          117
     104: astore        17
     106: getstatic     #50                 // Field org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.BUNDLE:Lorg/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle;
     109: aload         17
     111: invokeinterface #85,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.errorReadingBody:(Ljava/lang/Exception;)Lorg/apache/activemq/artemis/api/core/ActiveMQLargeMessageException;
     116: athrow
     117: iload         15
     119: iconst_m1
     120: if_icmpne     129
     123: iconst_1
     124: istore        6
     126: goto          145
     129: iload         14
     131: iload         15
     133: iadd
     134: istore        14
     136: iload         14
     138: aload_0
     139: getfield      #11                 // Field minLargeMessageSize:I
     142: if_icmplt     79
     145: lload         10
     147: iload         14
     149: i2l
     150: ladd
     151: lstore        10
     153: iload         6
     155: ifeq          352
     158: aload_0
     159: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
     162: invokeinterface #78,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.isCompressLargeMessages:()Z
     167: ifne          177
     170: aload         8
     172: lload         10
     174: invokevirtual #86                 // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
     177: iload         14
     179: newarray       byte
     181: astore        16
     183: aload         13
     185: iconst_0
     186: aload         16
     188: iconst_0
     189: iload         14
     191: invokestatic  #87                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
     194: aload         16
     196: astore        13
     198: iload         12
     200: ifne          289
     203: aload_0
     204: getfield      #3                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
     207: invokeinterface #78,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientSessionInternal.isCompressLargeMessages:()Z
     212: ifeq          289
     215: aload         16
     217: arraylength
     218: aload_0
     219: getfield      #11                 // Field minLargeMessageSize:I
     222: if_icmpge     289
     225: aload_2
     226: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
     231: invokeinterface #88,  1           // InterfaceMethod org/apache/activemq/artemis/api/core/ActiveMQBuffer.resetReaderIndex:()V
     236: aload_2
     237: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
     242: invokeinterface #89,  1           // InterfaceMethod org/apache/activemq/artemis/api/core/ActiveMQBuffer.resetWriterIndex:()V
     247: aload_2
     248: getstatic     #90                 // Field org/apache/activemq/artemis/api/core/Message.HDR_LARGE_BODY_SIZE:Lorg/apache/activemq/artemis/api/core/SimpleString;
     251: aload         9
     253: invokevirtual #91                 // Method org/apache/activemq/artemis/utils/DeflaterReader.getTotalSize:()J
     256: invokeinterface #92,  4           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.putLongProperty:(Lorg/apache/activemq/artemis/api/core/SimpleString;J)Lorg/apache/activemq/artemis/api/core/Message;
     261: pop
     262: aload_2
     263: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/artemis/core/message/impl/MessageInternal.getBodyBuffer:()Lorg/apache/activemq/artemis/api/core/ActiveMQBuffer;
     268: aload         13
     270: iconst_0
     271: iload         14
     273: invokeinterface #93,  4           // InterfaceMethod org/apache/activemq/artemis/api/core/ActiveMQBuffer.writeBytes:([BII)V
     278: aload_0
     279: aload_2
     280: iload_1
     281: aload         4
     283: aload         5
     285: invokespecial #42                 // Method sendRegularMessage:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;ZLorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;Lorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)V
     288: return
     289: iload         12
     291: ifne          304
     294: iconst_1
     295: istore        12
     297: aload_0
     298: aload_2
     299: aload         4
     301: invokespecial #61                 // Method sendInitialLargeMessageHeader:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;)V
     304: aload_0
     305: getfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
     308: aload_2
     309: aload         8
     311: invokevirtual #94                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
     314: iload_1
     315: iconst_1
     316: aload         13
     318: aload         5
     320: invokevirtual #72                 // Method org/apache/activemq/artemis/spi/core/remoting/SessionContext.sendLargeMessageChunk:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;JZZ[BLorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)I
     323: istore        17
     325: aload         4
     327: iload         17
     329: invokeinterface #45,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.acquireCredits:(I)V
     334: goto          349
     337: astore        18
     339: new           #47                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
     342: dup
     343: aload         18
     345: invokespecial #48                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
     348: athrow
     349: goto          412
     352: iload         12
     354: ifne          367
     357: iconst_1
     358: istore        12
     360: aload_0
     361: aload_2
     362: aload         4
     364: invokespecial #61                 // Method sendInitialLargeMessageHeader:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;)V
     367: aload_0
     368: getfield      #2                  // Field sessionContext:Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;
     371: aload_2
     372: aload         8
     374: invokevirtual #94                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
     377: iload_1
     378: iconst_0
     379: aload         13
     381: aload         5
     383: invokevirtual #72                 // Method org/apache/activemq/artemis/spi/core/remoting/SessionContext.sendLargeMessageChunk:(Lorg/apache/activemq/artemis/core/message/impl/MessageInternal;JZZ[BLorg/apache/activemq/artemis/api/core/client/SendAcknowledgementHandler;)I
     386: istore        16
     388: aload         4
     390: iload         16
     392: invokeinterface #45,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.acquireCredits:(I)V
     397: goto          412
     400: astore        17
     402: new           #47                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
     405: dup
     406: aload         17
     408: invokespecial #48                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
     411: athrow
     412: goto          63
     415: aload         7
     417: invokevirtual #95                 // Method java/io/InputStream.close:()V
     420: goto          436
     423: astore        13
     425: getstatic     #50                 // Field org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.BUNDLE:Lorg/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle;
     428: aload         13
     430: invokeinterface #96,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/ActiveMQClientMessageBundle.errorClosingLargeMessage:(Ljava/lang/Exception;)Lorg/apache/activemq/artemis/api/core/ActiveMQLargeMessageException;
     435: athrow
     436: return
    Exception table:
       from    to  target type
          88   101   104   Class java/io/IOException
         325   334   337   Class java/lang/InterruptedException
         388   397   400   Class java/lang/InterruptedException
         415   420   423   Class java/io/IOException
}
