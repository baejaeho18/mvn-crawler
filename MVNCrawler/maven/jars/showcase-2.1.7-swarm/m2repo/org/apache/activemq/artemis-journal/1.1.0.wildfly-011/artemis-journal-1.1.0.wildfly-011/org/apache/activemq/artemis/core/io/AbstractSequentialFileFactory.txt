Compiled from "AbstractSequentialFileFactory.java"
public abstract class org.apache.activemq.artemis.core.io.AbstractSequentialFileFactory implements org.apache.activemq.artemis.core.io.SequentialFileFactory {
  protected static final int EXECUTOR_TIMEOUT;

  protected final java.io.File journalDir;

  protected final org.apache.activemq.artemis.core.io.buffer.TimedBuffer timedBuffer;

  protected final int bufferSize;

  protected final long bufferTimeout;

  protected final int maxIO;

  private final org.apache.activemq.artemis.core.io.IOCriticalErrorListener critialErrorListener;

  protected java.util.concurrent.ExecutorService writeExecutor;

  protected org.apache.activemq.artemis.core.io.AbstractSequentialFileFactory(java.io.File, boolean, int, int, int, boolean, org.apache.activemq.artemis.core.io.IOCriticalErrorListener);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field journalDir:Ljava/io/File;
       9: iload_2
      10: ifeq          37
      13: iload         4
      15: ifle          37
      18: aload_0
      19: new           #3                  // class org/apache/activemq/artemis/core/io/buffer/TimedBuffer
      22: dup
      23: iload_3
      24: iload         4
      26: iload         6
      28: invokespecial #4                  // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer."<init>":(IIZ)V
      31: putfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      34: goto          42
      37: aload_0
      38: aconst_null
      39: putfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      42: aload_0
      43: iload_3
      44: putfield      #6                  // Field bufferSize:I
      47: aload_0
      48: iload         4
      50: i2l
      51: putfield      #7                  // Field bufferTimeout:J
      54: aload_0
      55: aload         7
      57: putfield      #8                  // Field critialErrorListener:Lorg/apache/activemq/artemis/core/io/IOCriticalErrorListener;
      60: aload_0
      61: iload         5
      63: putfield      #9                  // Field maxIO:I
      66: return

  public void stop();
    Code:
       0: aload_0
       1: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
       4: ifnull        14
       7: aload_0
       8: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      11: invokevirtual #10                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.stop:()V
      14: aload_0
      15: invokevirtual #11                 // Method isSupportsCallbacks:()Z
      18: ifeq          85
      21: aload_0
      22: getfield      #12                 // Field writeExecutor:Ljava/util/concurrent/ExecutorService;
      25: ifnull        85
      28: aload_0
      29: getfield      #12                 // Field writeExecutor:Ljava/util/concurrent/ExecutorService;
      32: invokeinterface #13,  1           // InterfaceMethod java/util/concurrent/ExecutorService.shutdown:()V
      37: aload_0
      38: getfield      #12                 // Field writeExecutor:Ljava/util/concurrent/ExecutorService;
      41: ldc2_w        #15                 // long 60l
      44: getstatic     #17                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      47: invokeinterface #18,  4           // InterfaceMethod java/util/concurrent/ExecutorService.awaitTermination:(JLjava/util/concurrent/TimeUnit;)Z
      52: ifne          72
      55: getstatic     #19                 // Field org/apache/activemq/artemis/journal/ActiveMQJournalLogger.LOGGER:Lorg/apache/activemq/artemis/journal/ActiveMQJournalLogger;
      58: new           #20                 // class java/lang/Exception
      61: dup
      62: ldc           #21                 // String trace
      64: invokespecial #22                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
      67: invokeinterface #23,  2           // InterfaceMethod org/apache/activemq/artemis/journal/ActiveMQJournalLogger.timeoutOnWriterShutdown:(Ljava/lang/Throwable;)V
      72: goto          85
      75: astore_1
      76: new           #25                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
      79: dup
      80: aload_1
      81: invokespecial #26                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
      84: athrow
      85: return
    Exception table:
       from    to  target type
          37    72    75   Class java/lang/InterruptedException

  public java.io.File getDirectory();
    Code:
       0: aload_0
       1: getfield      #2                  // Field journalDir:Ljava/io/File;
       4: areturn

  public void start();
    Code:
       0: aload_0
       1: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
       4: ifnull        14
       7: aload_0
       8: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      11: invokevirtual #27                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.start:()V
      14: aload_0
      15: invokevirtual #11                 // Method isSupportsCallbacks:()Z
      18: ifeq          42
      21: aload_0
      22: new           #28                 // class org/apache/activemq/artemis/core/io/AbstractSequentialFileFactory$1
      25: dup
      26: aload_0
      27: invokespecial #29                 // Method org/apache/activemq/artemis/core/io/AbstractSequentialFileFactory$1."<init>":(Lorg/apache/activemq/artemis/core/io/AbstractSequentialFileFactory;)V
      30: invokestatic  #30                 // Method java/security/AccessController.doPrivileged:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      33: checkcast     #31                 // class java/util/concurrent/ThreadFactory
      36: invokestatic  #32                 // Method java/util/concurrent/Executors.newSingleThreadExecutor:(Ljava/util/concurrent/ThreadFactory;)Ljava/util/concurrent/ExecutorService;
      39: putfield      #12                 // Field writeExecutor:Ljava/util/concurrent/ExecutorService;
      42: return

  public int getMaxIO();
    Code:
       0: aload_0
       1: getfield      #9                  // Field maxIO:I
       4: ireturn

  public void onIOError(java.lang.Exception, java.lang.String, org.apache.activemq.artemis.core.io.SequentialFile);
    Code:
       0: aload_0
       1: getfield      #8                  // Field critialErrorListener:Lorg/apache/activemq/artemis/core/io/IOCriticalErrorListener;
       4: ifnull        19
       7: aload_0
       8: getfield      #8                  // Field critialErrorListener:Lorg/apache/activemq/artemis/core/io/IOCriticalErrorListener;
      11: aload_1
      12: aload_2
      13: aload_3
      14: invokeinterface #33,  4           // InterfaceMethod org/apache/activemq/artemis/core/io/IOCriticalErrorListener.onIOException:(Ljava/lang/Throwable;Ljava/lang/String;Lorg/apache/activemq/artemis/core/io/SequentialFile;)V
      19: return

  public void activateBuffer(org.apache.activemq.artemis.core.io.SequentialFile);
    Code:
       0: aload_0
       1: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
       4: ifnull        17
       7: aload_1
       8: aload_0
       9: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      12: invokeinterface #34,  2           // InterfaceMethod org/apache/activemq/artemis/core/io/SequentialFile.setTimedBuffer:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)V
      17: return

  public void flush();
    Code:
       0: aload_0
       1: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
       4: ifnull        14
       7: aload_0
       8: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      11: invokevirtual #35                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.flush:()V
      14: return

  public void deactivateBuffer();
    Code:
       0: aload_0
       1: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
       4: ifnull        22
       7: aload_0
       8: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      11: invokevirtual #35                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.flush:()V
      14: aload_0
      15: getfield      #5                  // Field timedBuffer:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      18: aconst_null
      19: invokevirtual #36                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.setObserver:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBufferObserver;)V
      22: return

  public void releaseBuffer(java.nio.ByteBuffer);
    Code:
       0: return

  public void createDirs() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #2                  // Field journalDir:Ljava/io/File;
       4: invokevirtual #37                 // Method java/io/File.mkdirs:()Z
       7: istore_1
       8: iload_1
       9: ifne          42
      12: new           #38                 // class java/io/IOException
      15: dup
      16: new           #39                 // class java/lang/StringBuilder
      19: dup
      20: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #41                 // String Failed to create directory
      25: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: getfield      #2                  // Field journalDir:Ljava/io/File;
      32: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      35: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      38: invokespecial #45                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: return

  public java.util.List<java.lang.String> listFiles(java.lang.String) throws java.lang.Exception;
    Code:
       0: new           #46                 // class org/apache/activemq/artemis/core/io/AbstractSequentialFileFactory$2
       3: dup
       4: aload_0
       5: aload_1
       6: invokespecial #47                 // Method org/apache/activemq/artemis/core/io/AbstractSequentialFileFactory$2."<init>":(Lorg/apache/activemq/artemis/core/io/AbstractSequentialFileFactory;Ljava/lang/String;)V
       9: astore_2
      10: aload_0
      11: getfield      #2                  // Field journalDir:Ljava/io/File;
      14: aload_2
      15: invokevirtual #48                 // Method java/io/File.list:(Ljava/io/FilenameFilter;)[Ljava/lang/String;
      18: astore_3
      19: aload_3
      20: ifnonnull     27
      23: getstatic     #49                 // Field java/util/Collections.EMPTY_LIST:Ljava/util/List;
      26: areturn
      27: aload_3
      28: invokestatic  #50                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      31: areturn
}
