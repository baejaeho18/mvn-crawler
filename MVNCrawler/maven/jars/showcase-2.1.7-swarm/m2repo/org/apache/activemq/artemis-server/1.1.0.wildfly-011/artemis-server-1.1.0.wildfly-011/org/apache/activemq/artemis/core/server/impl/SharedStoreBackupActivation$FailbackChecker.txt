Compiled from "SharedStoreBackupActivation.java"
class org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation$FailbackChecker implements java.lang.Runnable {
  org.apache.activemq.artemis.core.server.impl.BackupTopologyListener backupListener;

  private boolean restarting;

  final org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation this$0;

  org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation$FailbackChecker(org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field restarting:Z
      14: aload_0
      15: new           #4                  // class org/apache/activemq/artemis/core/server/impl/BackupTopologyListener
      18: dup
      19: aload_1
      20: invokestatic  #5                  // Method org/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation.access$000:(Lorg/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation;)Lorg/apache/activemq/artemis/core/server/impl/ActiveMQServerImpl;
      23: invokevirtual #6                  // Method org/apache/activemq/artemis/core/server/impl/ActiveMQServerImpl.getNodeID:()Lorg/apache/activemq/artemis/api/core/SimpleString;
      26: invokevirtual #7                  // Method org/apache/activemq/artemis/api/core/SimpleString.toString:()Ljava/lang/String;
      29: invokespecial #8                  // Method org/apache/activemq/artemis/core/server/impl/BackupTopologyListener."<init>":(Ljava/lang/String;)V
      32: putfield      #9                  // Field backupListener:Lorg/apache/activemq/artemis/core/server/impl/BackupTopologyListener;
      35: aload_1
      36: invokestatic  #5                  // Method org/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation.access$000:(Lorg/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation;)Lorg/apache/activemq/artemis/core/server/impl/ActiveMQServerImpl;
      39: invokevirtual #10                 // Method org/apache/activemq/artemis/core/server/impl/ActiveMQServerImpl.getClusterManager:()Lorg/apache/activemq/artemis/core/server/cluster/ClusterManager;
      42: aconst_null
      43: invokevirtual #11                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterManager.getDefaultConnection:(Lorg/apache/activemq/artemis/api/core/TransportConfiguration;)Lorg/apache/activemq/artemis/core/server/cluster/ClusterConnection;
      46: aload_0
      47: getfield      #9                  // Field backupListener:Lorg/apache/activemq/artemis/core/server/impl/BackupTopologyListener;
      50: invokeinterface #12,  2           // InterfaceMethod org/apache/activemq/artemis/core/server/cluster/ClusterConnection.addClusterTopologyListener:(Lorg/apache/activemq/artemis/api/core/client/ClusterTopologyListener;)V
      55: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #3                  // Field restarting:Z
       4: ifne          66
       7: aload_0
       8: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation;
      11: invokestatic  #5                  // Method org/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation.access$000:(Lorg/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation;)Lorg/apache/activemq/artemis/core/server/impl/ActiveMQServerImpl;
      14: invokevirtual #13                 // Method org/apache/activemq/artemis/core/server/impl/ActiveMQServerImpl.getNodeManager:()Lorg/apache/activemq/artemis/core/server/NodeManager;
      17: invokevirtual #14                 // Method org/apache/activemq/artemis/core/server/NodeManager.isAwaitingFailback:()Z
      20: ifeq          66
      23: aload_0
      24: getfield      #9                  // Field backupListener:Lorg/apache/activemq/artemis/core/server/impl/BackupTopologyListener;
      27: invokevirtual #15                 // Method org/apache/activemq/artemis/core/server/impl/BackupTopologyListener.waitForBackup:()Z
      30: ifeq          66
      33: getstatic     #16                 // Field org/apache/activemq/artemis/core/server/ActiveMQServerLogger.LOGGER:Lorg/apache/activemq/artemis/core/server/ActiveMQServerLogger;
      36: invokeinterface #17,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServerLogger.awaitFailBack:()V
      41: aload_0
      42: iconst_1
      43: putfield      #3                  // Field restarting:Z
      46: new           #18                 // class java/lang/Thread
      49: dup
      50: new           #19                 // class org/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation$FailbackChecker$1
      53: dup
      54: aload_0
      55: invokespecial #20                 // Method org/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation$FailbackChecker$1."<init>":(Lorg/apache/activemq/artemis/core/server/impl/SharedStoreBackupActivation$FailbackChecker;)V
      58: invokespecial #21                 // Method java/lang/Thread."<init>":(Ljava/lang/Runnable;)V
      61: astore_1
      62: aload_1
      63: invokevirtual #22                 // Method java/lang/Thread.start:()V
      66: goto          79
      69: astore_1
      70: getstatic     #16                 // Field org/apache/activemq/artemis/core/server/ActiveMQServerLogger.LOGGER:Lorg/apache/activemq/artemis/core/server/ActiveMQServerLogger;
      73: aload_1
      74: invokeinterface #24,  2           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServerLogger.serverRestartWarning:(Ljava/lang/Exception;)V
      79: return
    Exception table:
       from    to  target type
           0    66    69   Class java/lang/Exception
}
