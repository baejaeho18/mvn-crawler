Compiled from "TransactionCallback.java"
public class org.apache.activemq.artemis.core.journal.impl.TransactionCallback implements org.apache.activemq.artemis.core.io.IOCallback {
  private final org.apache.activemq.artemis.utils.ReusableLatch countLatch;

  private volatile java.lang.String errorMessage;

  private volatile int errorCode;

  private final java.util.concurrent.atomic.AtomicInteger up;

  private int done;

  private volatile org.apache.activemq.artemis.core.io.IOCallback delegateCompletion;

  public org.apache.activemq.artemis.core.journal.impl.TransactionCallback();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/apache/activemq/artemis/utils/ReusableLatch
       8: dup
       9: invokespecial #3                  // Method org/apache/activemq/artemis/utils/ReusableLatch."<init>":()V
      12: putfield      #4                  // Field countLatch:Lorg/apache/activemq/artemis/utils/ReusableLatch;
      15: aload_0
      16: aconst_null
      17: putfield      #5                  // Field errorMessage:Ljava/lang/String;
      20: aload_0
      21: iconst_0
      22: putfield      #6                  // Field errorCode:I
      25: aload_0
      26: new           #7                  // class java/util/concurrent/atomic/AtomicInteger
      29: dup
      30: invokespecial #8                  // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      33: putfield      #9                  // Field up:Ljava/util/concurrent/atomic/AtomicInteger;
      36: aload_0
      37: iconst_0
      38: putfield      #10                 // Field done:I
      41: return

  public void countUp();
    Code:
       0: aload_0
       1: getfield      #9                  // Field up:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #11                 // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
       7: pop
       8: aload_0
       9: getfield      #4                  // Field countLatch:Lorg/apache/activemq/artemis/utils/ReusableLatch;
      12: invokevirtual #12                 // Method org/apache/activemq/artemis/utils/ReusableLatch.countUp:()V
      15: return

  public void done();
    Code:
       0: aload_0
       1: getfield      #4                  // Field countLatch:Lorg/apache/activemq/artemis/utils/ReusableLatch;
       4: invokevirtual #13                 // Method org/apache/activemq/artemis/utils/ReusableLatch.countDown:()V
       7: aload_0
       8: dup
       9: getfield      #10                 // Field done:I
      12: iconst_1
      13: iadd
      14: dup_x1
      15: putfield      #10                 // Field done:I
      18: aload_0
      19: getfield      #9                  // Field up:Ljava/util/concurrent/atomic/AtomicInteger;
      22: invokevirtual #14                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      25: if_icmpne     51
      28: aload_0
      29: getfield      #15                 // Field delegateCompletion:Lorg/apache/activemq/artemis/core/io/IOCallback;
      32: ifnull        51
      35: aload_0
      36: getfield      #15                 // Field delegateCompletion:Lorg/apache/activemq/artemis/core/io/IOCallback;
      39: astore_1
      40: aload_0
      41: aconst_null
      42: putfield      #15                 // Field delegateCompletion:Lorg/apache/activemq/artemis/core/io/IOCallback;
      45: aload_1
      46: invokeinterface #16,  1           // InterfaceMethod org/apache/activemq/artemis/core/io/IOCallback.done:()V
      51: return

  public void waitCompletion() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field countLatch:Lorg/apache/activemq/artemis/utils/ReusableLatch;
       4: invokevirtual #17                 // Method org/apache/activemq/artemis/utils/ReusableLatch.await:()V
       7: aload_0
       8: getfield      #5                  // Field errorMessage:Ljava/lang/String;
      11: ifnull        56
      14: new           #18                 // class java/lang/IllegalStateException
      17: dup
      18: new           #19                 // class java/lang/StringBuilder
      21: dup
      22: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      25: ldc           #21                 // String Error on Transaction:
      27: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: aload_0
      31: getfield      #6                  // Field errorCode:I
      34: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      37: ldc           #24                 // String  -
      39: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_0
      43: getfield      #5                  // Field errorMessage:Ljava/lang/String;
      46: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      52: invokespecial #26                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      55: athrow
      56: return

  public void onError(int, java.lang.String);
    Code:
       0: aload_0
       1: aload_2
       2: putfield      #5                  // Field errorMessage:Ljava/lang/String;
       5: aload_0
       6: iload_1
       7: putfield      #6                  // Field errorCode:I
      10: aload_0
      11: getfield      #4                  // Field countLatch:Lorg/apache/activemq/artemis/utils/ReusableLatch;
      14: invokevirtual #13                 // Method org/apache/activemq/artemis/utils/ReusableLatch.countDown:()V
      17: aload_0
      18: getfield      #15                 // Field delegateCompletion:Lorg/apache/activemq/artemis/core/io/IOCallback;
      21: ifnull        35
      24: aload_0
      25: getfield      #15                 // Field delegateCompletion:Lorg/apache/activemq/artemis/core/io/IOCallback;
      28: iload_1
      29: aload_2
      30: invokeinterface #27,  3           // InterfaceMethod org/apache/activemq/artemis/core/io/IOCallback.onError:(ILjava/lang/String;)V
      35: return

  public org.apache.activemq.artemis.core.io.IOCallback getDelegateCompletion();
    Code:
       0: aload_0
       1: getfield      #15                 // Field delegateCompletion:Lorg/apache/activemq/artemis/core/io/IOCallback;
       4: areturn

  public void setDelegateCompletion(org.apache.activemq.artemis.core.io.IOCallback);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #15                 // Field delegateCompletion:Lorg/apache/activemq/artemis/core/io/IOCallback;
       5: return

  public java.lang.String getErrorMessage();
    Code:
       0: aload_0
       1: getfield      #5                  // Field errorMessage:Ljava/lang/String;
       4: areturn

  public int getErrorCode();
    Code:
       0: aload_0
       1: getfield      #6                  // Field errorCode:I
       4: ireturn
}
