Compiled from "TimedBuffer.java"
class org.apache.activemq.artemis.core.io.buffer.TimedBuffer$CheckTimer implements java.lang.Runnable {
  private volatile boolean closed;

  int checks;

  int failedChecks;

  long timeBefore;

  final int sleepMillis;

  final int sleepNanos;

  final org.apache.activemq.artemis.core.io.buffer.TimedBuffer this$0;

  private org.apache.activemq.artemis.core.io.buffer.TimedBuffer$CheckTimer(org.apache.activemq.artemis.core.io.buffer.TimedBuffer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
       5: aload_0
       6: invokespecial #4                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: iconst_0
      11: putfield      #5                  // Field closed:Z
      14: aload_0
      15: iconst_0
      16: putfield      #6                  // Field checks:I
      19: aload_0
      20: iconst_0
      21: putfield      #7                  // Field failedChecks:I
      24: aload_0
      25: lconst_0
      26: putfield      #8                  // Field timeBefore:J
      29: aload_0
      30: aload_0
      31: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      34: invokestatic  #9                  // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$400:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)I
      37: ldc           #10                 // int 1000000
      39: idiv
      40: putfield      #11                 // Field sleepMillis:I
      43: aload_0
      44: aload_0
      45: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      48: invokestatic  #9                  // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$400:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)I
      51: ldc           #10                 // int 1000000
      53: irem
      54: putfield      #12                 // Field sleepNanos:I
      57: return

  public void run();
    Code:
       0: lconst_0
       1: lstore_1
       2: aload_0
       3: getfield      #5                  // Field closed:Z
       6: ifne          121
       9: aload_0
      10: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      13: invokestatic  #13                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$500:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)Z
      16: ifeq          81
      19: aload_0
      20: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      23: invokevirtual #14                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.isUseSleep:()Z
      26: ifeq          43
      29: aload_0
      30: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      33: invokevirtual #15                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.flush:()V
      36: invokestatic  #16                 // Method java/lang/System.nanoTime:()J
      39: lstore_1
      40: goto          81
      43: aload_0
      44: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      47: invokestatic  #17                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$600:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)Lorg/apache/activemq/artemis/core/io/buffer/TimedBufferObserver;
      50: ifnull        81
      53: invokestatic  #16                 // Method java/lang/System.nanoTime:()J
      56: lload_1
      57: aload_0
      58: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      61: invokestatic  #9                  // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$400:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)I
      64: i2l
      65: ladd
      66: lcmp
      67: ifle          81
      70: aload_0
      71: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      74: invokevirtual #15                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.flush:()V
      77: invokestatic  #16                 // Method java/lang/System.nanoTime:()J
      80: lstore_1
      81: aload_0
      82: invokespecial #18                 // Method sleepIfPossible:()V
      85: aload_0
      86: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      89: invokestatic  #19                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$700:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)Ljava/util/concurrent/Semaphore;
      92: invokevirtual #20                 // Method java/util/concurrent/Semaphore.acquire:()V
      95: invokestatic  #21                 // Method java/lang/Thread.yield:()V
      98: aload_0
      99: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
     102: invokestatic  #19                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$700:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)Ljava/util/concurrent/Semaphore;
     105: invokevirtual #22                 // Method java/util/concurrent/Semaphore.release:()V
     108: goto          2
     111: astore_3
     112: new           #24                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
     115: dup
     116: aload_3
     117: invokespecial #25                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
     120: athrow
     121: return
    Exception table:
       from    to  target type
          85   108   111   Class java/lang/InterruptedException

  private void sleepIfPossible();
    Code:
       0: aload_0
       1: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
       4: invokevirtual #14                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.isUseSleep:()Z
       7: ifeq          186
      10: aload_0
      11: getfield      #6                  // Field checks:I
      14: bipush        20
      16: if_icmpge     26
      19: aload_0
      20: invokestatic  #16                 // Method java/lang/System.nanoTime:()J
      23: putfield      #8                  // Field timeBefore:J
      26: aload_0
      27: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      30: aload_0
      31: getfield      #11                 // Field sleepMillis:I
      34: aload_0
      35: getfield      #12                 // Field sleepNanos:I
      38: invokevirtual #26                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.sleep:(II)V
      41: goto          94
      44: astore_1
      45: new           #24                 // class org/apache/activemq/artemis/api/core/ActiveMQInterruptedException
      48: dup
      49: aload_1
      50: invokespecial #25                 // Method org/apache/activemq/artemis/api/core/ActiveMQInterruptedException."<init>":(Ljava/lang/Throwable;)V
      53: athrow
      54: astore_1
      55: aload_0
      56: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
      59: iconst_0
      60: invokevirtual #28                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.setUseSleep:(Z)V
      63: getstatic     #29                 // Field org/apache/activemq/artemis/journal/ActiveMQJournalLogger.LOGGER:Lorg/apache/activemq/artemis/journal/ActiveMQJournalLogger;
      66: new           #30                 // class java/lang/StringBuilder
      69: dup
      70: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
      73: aload_1
      74: invokevirtual #32                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      77: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: ldc           #34                 // String , disabling sleep on TimedBuffer, using spin now
      82: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      88: aload_1
      89: invokeinterface #36,  3           // InterfaceMethod org/apache/activemq/artemis/journal/ActiveMQJournalLogger.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      94: aload_0
      95: getfield      #6                  // Field checks:I
      98: bipush        20
     100: if_icmpge     186
     103: invokestatic  #16                 // Method java/lang/System.nanoTime:()J
     106: aload_0
     107: getfield      #8                  // Field timeBefore:J
     110: lsub
     111: lstore_1
     112: lload_1
     113: l2d
     114: aload_0
     115: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
     118: invokestatic  #9                  // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.access$400:(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)I
     121: i2d
     122: ldc2_w        #37                 // double 1.5d
     125: dmul
     126: dcmpl
     127: ifle          140
     130: aload_0
     131: dup
     132: getfield      #7                  // Field failedChecks:I
     135: iconst_1
     136: iadd
     137: putfield      #7                  // Field failedChecks:I
     140: aload_0
     141: dup
     142: getfield      #6                  // Field checks:I
     145: iconst_1
     146: iadd
     147: dup_x1
     148: putfield      #6                  // Field checks:I
     151: bipush        20
     153: if_icmplt     186
     156: aload_0
     157: getfield      #7                  // Field failedChecks:I
     160: i2d
     161: ldc2_w        #39                 // double 10.0d
     164: dcmpl
     165: ifle          186
     168: getstatic     #29                 // Field org/apache/activemq/artemis/journal/ActiveMQJournalLogger.LOGGER:Lorg/apache/activemq/artemis/journal/ActiveMQJournalLogger;
     171: ldc           #41                 // String Thread.sleep with nano seconds is not working as expected, Your kernel possibly doesn\'t support real time. the Journal TimedBuffer will spin for timeouts
     173: invokeinterface #42,  2           // InterfaceMethod org/apache/activemq/artemis/journal/ActiveMQJournalLogger.debug:(Ljava/lang/Object;)V
     178: aload_0
     179: getfield      #3                  // Field this$0:Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;
     182: iconst_0
     183: invokevirtual #28                 // Method org/apache/activemq/artemis/core/io/buffer/TimedBuffer.setUseSleep:(Z)V
     186: return
    Exception table:
       from    to  target type
          26    41    44   Class java/lang/InterruptedException
          26    41    54   Class java/lang/Exception

  public void close();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #5                  // Field closed:Z
       5: return

  org.apache.activemq.artemis.core.io.buffer.TimedBuffer$CheckTimer(org.apache.activemq.artemis.core.io.buffer.TimedBuffer, org.apache.activemq.artemis.core.io.buffer.TimedBuffer$1);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method "<init>":(Lorg/apache/activemq/artemis/core/io/buffer/TimedBuffer;)V
       5: return
}
