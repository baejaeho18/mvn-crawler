Compiled from "ClientProducerCreditManagerImpl.java"
public class org.apache.activemq.artemis.core.client.impl.ClientProducerCreditManagerImpl implements org.apache.activemq.artemis.core.client.impl.ClientProducerCreditManager {
  public static final int MAX_UNREFERENCED_CREDITS_CACHE_SIZE;

  private final java.util.Map<org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits> producerCredits;

  private final java.util.Map<org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits> unReferencedCredits;

  private final org.apache.activemq.artemis.core.client.impl.ClientSessionInternal session;

  private int windowSize;

  public org.apache.activemq.artemis.core.client.impl.ClientProducerCreditManagerImpl(org.apache.activemq.artemis.core.client.impl.ClientSessionInternal, int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/LinkedHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/LinkedHashMap."<init>":()V
      12: putfield      #4                  // Field producerCredits:Ljava/util/Map;
      15: aload_0
      16: new           #2                  // class java/util/LinkedHashMap
      19: dup
      20: invokespecial #3                  // Method java/util/LinkedHashMap."<init>":()V
      23: putfield      #5                  // Field unReferencedCredits:Ljava/util/Map;
      26: aload_0
      27: aload_1
      28: putfield      #6                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      31: aload_0
      32: iload_2
      33: putfield      #7                  // Field windowSize:I
      36: return

  public synchronized org.apache.activemq.artemis.core.client.impl.ClientProducerCredits getCredits(org.apache.activemq.artemis.api.core.SimpleString, boolean, org.apache.activemq.artemis.spi.core.remoting.SessionContext);
    Code:
       0: aload_0
       1: getfield      #7                  // Field windowSize:I
       4: iconst_m1
       5: if_icmpne     12
       8: getstatic     #8                  // Field org/apache/activemq/artemis/core/client/impl/ClientProducerCreditManagerImpl$ClientProducerCreditsNoFlowControl.instance:Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCreditManagerImpl$ClientProducerCreditsNoFlowControl;
      11: areturn
      12: iconst_0
      13: istore        4
      15: aload_0
      16: dup
      17: astore        6
      19: monitorenter
      20: aload_0
      21: getfield      #4                  // Field producerCredits:Ljava/util/Map;
      24: aload_1
      25: invokeinterface #9,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #10                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCredits
      33: astore        5
      35: aload         5
      37: ifnonnull     74
      40: new           #11                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCreditsImpl
      43: dup
      44: aload_0
      45: getfield      #6                  // Field session:Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;
      48: aload_1
      49: aload_0
      50: getfield      #7                  // Field windowSize:I
      53: invokespecial #12                 // Method org/apache/activemq/artemis/core/client/impl/ClientProducerCreditsImpl."<init>":(Lorg/apache/activemq/artemis/core/client/impl/ClientSessionInternal;Lorg/apache/activemq/artemis/api/core/SimpleString;I)V
      56: astore        5
      58: iconst_1
      59: istore        4
      61: aload_0
      62: getfield      #4                  // Field producerCredits:Ljava/util/Map;
      65: aload_1
      66: aload         5
      68: invokeinterface #13,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      73: pop
      74: iload_2
      75: ifne          99
      78: aload         5
      80: invokeinterface #14,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.incrementRefCount:()V
      85: aload_0
      86: getfield      #5                  // Field unReferencedCredits:Ljava/util/Map;
      89: aload_1
      90: invokeinterface #15,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      95: pop
      96: goto          106
      99: aload_0
     100: aload_1
     101: aload         5
     103: invokespecial #16                 // Method addToUnReferencedCache:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;)V
     106: aload         6
     108: monitorexit
     109: goto          120
     112: astore        7
     114: aload         6
     116: monitorexit
     117: aload         7
     119: athrow
     120: iload         4
     122: ifeq          133
     125: aload         5
     127: aload_3
     128: invokeinterface #17,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.init:(Lorg/apache/activemq/artemis/spi/core/remoting/SessionContext;)V
     133: aload         5
     135: areturn
    Exception table:
       from    to  target type
          20   109   112   any
         112   117   112   any

  public synchronized void returnCredits(org.apache.activemq.artemis.api.core.SimpleString);
    Code:
       0: aload_0
       1: getfield      #4                  // Field producerCredits:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #9,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #10                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCredits
      13: astore_2
      14: aload_2
      15: ifnull        33
      18: aload_2
      19: invokeinterface #18,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.decrementRefCount:()I
      24: ifne          33
      27: aload_0
      28: aload_1
      29: aload_2
      30: invokespecial #16                 // Method addToUnReferencedCache:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;)V
      33: return

  public synchronized void receiveCredits(org.apache.activemq.artemis.api.core.SimpleString, int);
    Code:
       0: aload_0
       1: getfield      #4                  // Field producerCredits:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #9,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #10                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCredits
      13: astore_3
      14: aload_3
      15: ifnull        25
      18: aload_3
      19: iload_2
      20: invokeinterface #19,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.receiveCredits:(I)V
      25: return

  public synchronized void receiveFailCredits(org.apache.activemq.artemis.api.core.SimpleString, int);
    Code:
       0: aload_0
       1: getfield      #4                  // Field producerCredits:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #9,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #10                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCredits
      13: astore_3
      14: aload_3
      15: ifnull        25
      18: aload_3
      19: iload_2
      20: invokeinterface #20,  2           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.receiveFailCredits:(I)V
      25: return

  public synchronized void reset();
    Code:
       0: aload_0
       1: getfield      #4                  // Field producerCredits:Ljava/util/Map;
       4: invokeinterface #21,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       9: invokeinterface #22,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore_1
      15: aload_1
      16: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          43
      24: aload_1
      25: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #10                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCredits
      33: astore_2
      34: aload_2
      35: invokeinterface #25,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.reset:()V
      40: goto          15
      43: return

  public synchronized void close();
    Code:
       0: aload_0
       1: iconst_m1
       2: putfield      #7                  // Field windowSize:I
       5: aload_0
       6: getfield      #4                  // Field producerCredits:Ljava/util/Map;
       9: invokeinterface #21,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      14: invokeinterface #22,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      19: astore_1
      20: aload_1
      21: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          48
      29: aload_1
      30: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #10                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCredits
      38: astore_2
      39: aload_2
      40: invokeinterface #26,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.close:()V
      45: goto          20
      48: aload_0
      49: getfield      #4                  // Field producerCredits:Ljava/util/Map;
      52: invokeinterface #27,  1           // InterfaceMethod java/util/Map.clear:()V
      57: aload_0
      58: getfield      #5                  // Field unReferencedCredits:Ljava/util/Map;
      61: invokeinterface #27,  1           // InterfaceMethod java/util/Map.clear:()V
      66: return

  public synchronized int creditsMapSize();
    Code:
       0: aload_0
       1: getfield      #4                  // Field producerCredits:Ljava/util/Map;
       4: invokeinterface #28,  1           // InterfaceMethod java/util/Map.size:()I
       9: ireturn

  public synchronized int unReferencedCreditsSize();
    Code:
       0: aload_0
       1: getfield      #5                  // Field unReferencedCredits:Ljava/util/Map;
       4: invokeinterface #28,  1           // InterfaceMethod java/util/Map.size:()I
       9: ireturn

  private void addToUnReferencedCache(org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits);
    Code:
       0: aload_0
       1: getfield      #5                  // Field unReferencedCredits:Ljava/util/Map;
       4: aload_1
       5: aload_2
       6: invokeinterface #13,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      11: pop
      12: aload_0
      13: getfield      #5                  // Field unReferencedCredits:Ljava/util/Map;
      16: invokeinterface #28,  1           // InterfaceMethod java/util/Map.size:()I
      21: sipush        1000
      24: if_icmple     83
      27: aload_0
      28: getfield      #5                  // Field unReferencedCredits:Ljava/util/Map;
      31: invokeinterface #30,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      36: invokeinterface #31,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      41: astore_3
      42: aload_3
      43: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      48: checkcast     #32                 // class java/util/Map$Entry
      51: astore        4
      53: aload_3
      54: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.remove:()V
      59: aload_0
      60: aload         4
      62: invokeinterface #34,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      67: checkcast     #35                 // class org/apache/activemq/artemis/api/core/SimpleString
      70: aload         4
      72: invokeinterface #36,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      77: checkcast     #10                 // class org/apache/activemq/artemis/core/client/impl/ClientProducerCredits
      80: invokespecial #37                 // Method removeEntry:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/core/client/impl/ClientProducerCredits;)V
      83: return

  private void removeEntry(org.apache.activemq.artemis.api.core.SimpleString, org.apache.activemq.artemis.core.client.impl.ClientProducerCredits);
    Code:
       0: aload_0
       1: getfield      #4                  // Field producerCredits:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #15,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: pop
      11: aload_2
      12: invokeinterface #38,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.releaseOutstanding:()V
      17: aload_2
      18: invokeinterface #26,  1           // InterfaceMethod org/apache/activemq/artemis/core/client/impl/ClientProducerCredits.close:()V
      23: return
}
