Compiled from "Redistributor.java"
public class org.apache.activemq.artemis.core.server.cluster.impl.Redistributor implements org.apache.activemq.artemis.core.server.Consumer {
  private boolean active;

  private final org.apache.activemq.artemis.core.persistence.StorageManager storageManager;

  private final org.apache.activemq.artemis.core.postoffice.PostOffice postOffice;

  private final java.util.concurrent.Executor executor;

  private final int batchSize;

  private final org.apache.activemq.artemis.core.server.Queue queue;

  private int count;

  private org.apache.activemq.artemis.utils.ReusableLatch pendingRuns;

  public org.apache.activemq.artemis.core.server.cluster.impl.Redistributor(org.apache.activemq.artemis.core.server.Queue, org.apache.activemq.artemis.core.persistence.StorageManager, org.apache.activemq.artemis.core.postoffice.PostOffice, java.util.concurrent.Executor, int);
    Code:
       0: aload_0
       1: invokespecial #8                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #9                  // class org/apache/activemq/artemis/utils/ReusableLatch
       8: dup
       9: invokespecial #10                 // Method org/apache/activemq/artemis/utils/ReusableLatch."<init>":()V
      12: putfield      #2                  // Field pendingRuns:Lorg/apache/activemq/artemis/utils/ReusableLatch;
      15: aload_0
      16: aload_1
      17: putfield      #3                  // Field queue:Lorg/apache/activemq/artemis/core/server/Queue;
      20: aload_0
      21: aload_2
      22: putfield      #11                 // Field storageManager:Lorg/apache/activemq/artemis/core/persistence/StorageManager;
      25: aload_0
      26: aload_3
      27: putfield      #7                  // Field postOffice:Lorg/apache/activemq/artemis/core/postoffice/PostOffice;
      30: aload_0
      31: aload         4
      33: putfield      #12                 // Field executor:Ljava/util/concurrent/Executor;
      36: aload_0
      37: iload         5
      39: putfield      #13                 // Field batchSize:I
      42: return

  public org.apache.activemq.artemis.core.filter.Filter getFilter();
    Code:
       0: aconst_null
       1: areturn

  public java.lang.String debug();
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method java/lang/Object.toString:()Ljava/lang/String;
       4: areturn

  public java.lang.String toManagementString();
    Code:
       0: new           #15                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #16                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #17                 // String Redistributor[
       9: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #3                  // Field queue:Lorg/apache/activemq/artemis/core/server/Queue;
      16: invokeinterface #19,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/Queue.getName:()Lorg/apache/activemq/artemis/api/core/SimpleString;
      21: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      24: ldc           #21                 // String /
      26: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: aload_0
      30: getfield      #3                  // Field queue:Lorg/apache/activemq/artemis/core/server/Queue;
      33: invokeinterface #22,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/Queue.getID:()J
      38: invokevirtual #23                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      41: ldc           #24                 // String ]
      43: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: areturn

  public void disconnect();
    Code:
       0: return

  public synchronized void start();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #5                  // Field active:Z
       5: return

  public synchronized void stop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #5                  // Field active:Z
       5: aload_0
       6: invokespecial #26                 // Method flushExecutor:()Z
       9: istore_1
      10: iload_1
      11: ifne          22
      14: getstatic     #27                 // Field org/apache/activemq/artemis/core/server/ActiveMQServerLogger.LOGGER:Lorg/apache/activemq/artemis/core/server/ActiveMQServerLogger;
      17: invokeinterface #28,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServerLogger.errorStoppingRedistributor:()V
      22: return

  public synchronized void close();
    Code:
       0: aload_0
       1: invokespecial #26                 // Method flushExecutor:()Z
       4: istore_1
       5: iload_1
       6: ifne          19
       9: new           #29                 // class java/lang/IllegalStateException
      12: dup
      13: ldc           #30                 // String Timed out waiting for executor to complete
      15: invokespecial #31                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      18: athrow
      19: aload_0
      20: iconst_0
      21: putfield      #5                  // Field active:Z
      24: return

  private boolean flushExecutor();
    Code:
       0: aload_0
       1: getfield      #2                  // Field pendingRuns:Lorg/apache/activemq/artemis/utils/ReusableLatch;
       4: ldc2_w        #32                 // long 10000l
       7: invokevirtual #34                 // Method org/apache/activemq/artemis/utils/ReusableLatch.await:(J)Z
      10: istore_1
      11: iload_1
      12: ireturn
      13: astore_1
      14: getstatic     #27                 // Field org/apache/activemq/artemis/core/server/ActiveMQServerLogger.LOGGER:Lorg/apache/activemq/artemis/core/server/ActiveMQServerLogger;
      17: aload_1
      18: invokevirtual #36                 // Method java/lang/InterruptedException.getMessage:()Ljava/lang/String;
      21: aload_1
      22: invokeinterface #37,  3           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServerLogger.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      27: iconst_0
      28: ireturn
    Exception table:
       from    to  target type
           0    12    13   Class java/lang/InterruptedException

  public synchronized org.apache.activemq.artemis.core.server.HandleStatus handle(org.apache.activemq.artemis.core.server.MessageReference) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field active:Z
       4: ifne          11
       7: getstatic     #38                 // Field org/apache/activemq/artemis/core/server/HandleStatus.BUSY:Lorg/apache/activemq/artemis/core/server/HandleStatus;
      10: areturn
      11: aload_1
      12: invokeinterface #39,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/MessageReference.getMessage:()Lorg/apache/activemq/artemis/core/server/ServerMessage;
      17: getstatic     #40                 // Field org/apache/activemq/artemis/api/core/Message.HDR_GROUP_ID:Lorg/apache/activemq/artemis/api/core/SimpleString;
      20: invokeinterface #41,  2           // InterfaceMethod org/apache/activemq/artemis/core/server/ServerMessage.getSimpleStringProperty:(Lorg/apache/activemq/artemis/api/core/SimpleString;)Lorg/apache/activemq/artemis/api/core/SimpleString;
      25: ifnull        32
      28: getstatic     #42                 // Field org/apache/activemq/artemis/core/server/HandleStatus.NO_MATCH:Lorg/apache/activemq/artemis/core/server/HandleStatus;
      31: areturn
      32: new           #43                 // class org/apache/activemq/artemis/core/transaction/impl/TransactionImpl
      35: dup
      36: aload_0
      37: getfield      #11                 // Field storageManager:Lorg/apache/activemq/artemis/core/persistence/StorageManager;
      40: invokespecial #44                 // Method org/apache/activemq/artemis/core/transaction/impl/TransactionImpl."<init>":(Lorg/apache/activemq/artemis/core/persistence/StorageManager;)V
      43: astore_2
      44: aload_0
      45: getfield      #7                  // Field postOffice:Lorg/apache/activemq/artemis/core/postoffice/PostOffice;
      48: aload_1
      49: invokeinterface #39,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/MessageReference.getMessage:()Lorg/apache/activemq/artemis/core/server/ServerMessage;
      54: aload_0
      55: getfield      #3                  // Field queue:Lorg/apache/activemq/artemis/core/server/Queue;
      58: aload_2
      59: invokeinterface #45,  4           // InterfaceMethod org/apache/activemq/artemis/core/postoffice/PostOffice.redistribute:(Lorg/apache/activemq/artemis/core/server/ServerMessage;Lorg/apache/activemq/artemis/core/server/Queue;Lorg/apache/activemq/artemis/core/transaction/Transaction;)Lorg/apache/activemq/artemis/api/core/Pair;
      64: astore_3
      65: aload_3
      66: ifnonnull     73
      69: getstatic     #38                 // Field org/apache/activemq/artemis/core/server/HandleStatus.BUSY:Lorg/apache/activemq/artemis/core/server/HandleStatus;
      72: areturn
      73: aload_1
      74: invokeinterface #39,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/MessageReference.getMessage:()Lorg/apache/activemq/artemis/core/server/ServerMessage;
      79: invokeinterface #46,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/ServerMessage.isLargeMessage:()Z
      84: ifne          132
      87: aload_3
      88: invokevirtual #47                 // Method org/apache/activemq/artemis/api/core/Pair.getB:()Ljava/lang/Object;
      91: checkcast     #48                 // class org/apache/activemq/artemis/core/server/ServerMessage
      94: invokeinterface #49,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/ServerMessage.finishCopy:()V
      99: aload_0
     100: getfield      #7                  // Field postOffice:Lorg/apache/activemq/artemis/core/postoffice/PostOffice;
     103: aload_3
     104: invokevirtual #47                 // Method org/apache/activemq/artemis/api/core/Pair.getB:()Ljava/lang/Object;
     107: checkcast     #48                 // class org/apache/activemq/artemis/core/server/ServerMessage
     110: aload_3
     111: invokevirtual #50                 // Method org/apache/activemq/artemis/api/core/Pair.getA:()Ljava/lang/Object;
     114: checkcast     #51                 // class org/apache/activemq/artemis/core/server/RoutingContext
     117: iconst_0
     118: invokeinterface #52,  4           // InterfaceMethod org/apache/activemq/artemis/core/postoffice/PostOffice.processRoute:(Lorg/apache/activemq/artemis/core/server/ServerMessage;Lorg/apache/activemq/artemis/core/server/RoutingContext;Z)V
     123: aload_0
     124: aload_1
     125: aload_2
     126: invokespecial #6                  // Method ackRedistribution:(Lorg/apache/activemq/artemis/core/server/MessageReference;Lorg/apache/activemq/artemis/core/transaction/Transaction;)V
     129: goto          157
     132: aload_0
     133: iconst_0
     134: putfield      #5                  // Field active:Z
     137: aload_0
     138: getfield      #12                 // Field executor:Ljava/util/concurrent/Executor;
     141: new           #53                 // class org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$1
     144: dup
     145: aload_0
     146: aload_3
     147: aload_1
     148: aload_2
     149: invokespecial #54                 // Method org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$1."<init>":(Lorg/apache/activemq/artemis/core/server/cluster/impl/Redistributor;Lorg/apache/activemq/artemis/api/core/Pair;Lorg/apache/activemq/artemis/core/server/MessageReference;Lorg/apache/activemq/artemis/core/transaction/Transaction;)V
     152: invokeinterface #55,  2           // InterfaceMethod java/util/concurrent/Executor.execute:(Ljava/lang/Runnable;)V
     157: getstatic     #56                 // Field org/apache/activemq/artemis/core/server/HandleStatus.HANDLED:Lorg/apache/activemq/artemis/core/server/HandleStatus;
     160: areturn

  public void proceedDeliver(org.apache.activemq.artemis.core.server.MessageReference);
    Code:
       0: return

  private void internalExecute(java.lang.Runnable);
    Code:
       0: aload_0
       1: getfield      #2                  // Field pendingRuns:Lorg/apache/activemq/artemis/utils/ReusableLatch;
       4: invokevirtual #57                 // Method org/apache/activemq/artemis/utils/ReusableLatch.countUp:()V
       7: aload_0
       8: getfield      #12                 // Field executor:Ljava/util/concurrent/Executor;
      11: new           #58                 // class org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$2
      14: dup
      15: aload_0
      16: aload_1
      17: invokespecial #59                 // Method org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$2."<init>":(Lorg/apache/activemq/artemis/core/server/cluster/impl/Redistributor;Ljava/lang/Runnable;)V
      20: invokeinterface #55,  2           // InterfaceMethod java/util/concurrent/Executor.execute:(Ljava/lang/Runnable;)V
      25: return

  private void ackRedistribution(org.apache.activemq.artemis.core.server.MessageReference, org.apache.activemq.artemis.core.transaction.Transaction) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokeinterface #60,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/MessageReference.handled:()V
       6: aload_0
       7: getfield      #3                  // Field queue:Lorg/apache/activemq/artemis/core/server/Queue;
      10: aload_2
      11: aload_1
      12: invokeinterface #61,  3           // InterfaceMethod org/apache/activemq/artemis/core/server/Queue.acknowledge:(Lorg/apache/activemq/artemis/core/transaction/Transaction;Lorg/apache/activemq/artemis/core/server/MessageReference;)V
      17: aload_2
      18: invokeinterface #62,  1           // InterfaceMethod org/apache/activemq/artemis/core/transaction/Transaction.commit:()V
      23: aload_0
      24: getfield      #11                 // Field storageManager:Lorg/apache/activemq/artemis/core/persistence/StorageManager;
      27: new           #63                 // class org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$3
      30: dup
      31: aload_0
      32: invokespecial #64                 // Method org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$3."<init>":(Lorg/apache/activemq/artemis/core/server/cluster/impl/Redistributor;)V
      35: invokeinterface #65,  2           // InterfaceMethod org/apache/activemq/artemis/core/persistence/StorageManager.afterCompleteOperations:(Lorg/apache/activemq/artemis/core/io/IOCallback;)V
      40: return

  private void execPrompter();
    Code:
       0: aload_0
       1: dup
       2: getfield      #4                  // Field count:I
       5: iconst_1
       6: iadd
       7: putfield      #4                  // Field count:I
      10: aload_0
      11: getfield      #4                  // Field count:I
      14: aload_0
      15: getfield      #13                 // Field batchSize:I
      18: if_icmplt     49
      21: aload_0
      22: iconst_0
      23: putfield      #5                  // Field active:Z
      26: aload_0
      27: getfield      #12                 // Field executor:Ljava/util/concurrent/Executor;
      30: new           #66                 // class org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$Prompter
      33: dup
      34: aload_0
      35: aconst_null
      36: invokespecial #67                 // Method org/apache/activemq/artemis/core/server/cluster/impl/Redistributor$Prompter."<init>":(Lorg/apache/activemq/artemis/core/server/cluster/impl/Redistributor;Lorg/apache/activemq/artemis/core/server/cluster/impl/Redistributor$1;)V
      39: invokeinterface #55,  2           // InterfaceMethod java/util/concurrent/Executor.execute:(Ljava/lang/Runnable;)V
      44: aload_0
      45: iconst_0
      46: putfield      #4                  // Field count:I
      49: return

  public java.util.List<org.apache.activemq.artemis.core.server.MessageReference> getDeliveringMessages();
    Code:
       0: invokestatic  #68                 // Method java/util/Collections.emptyList:()Ljava/util/List;
       3: areturn

  static org.apache.activemq.artemis.core.postoffice.PostOffice access$000(org.apache.activemq.artemis.core.server.cluster.impl.Redistributor);
    Code:
       0: aload_0
       1: getfield      #7                  // Field postOffice:Lorg/apache/activemq/artemis/core/postoffice/PostOffice;
       4: areturn

  static void access$100(org.apache.activemq.artemis.core.server.cluster.impl.Redistributor, org.apache.activemq.artemis.core.server.MessageReference, org.apache.activemq.artemis.core.transaction.Transaction) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #6                  // Method ackRedistribution:(Lorg/apache/activemq/artemis/core/server/MessageReference;Lorg/apache/activemq/artemis/core/transaction/Transaction;)V
       6: return

  static boolean access$202(org.apache.activemq.artemis.core.server.cluster.impl.Redistributor, boolean);
    Code:
       0: aload_0
       1: iload_1
       2: dup_x1
       3: putfield      #5                  // Field active:Z
       6: ireturn

  static int access$308(org.apache.activemq.artemis.core.server.cluster.impl.Redistributor);
    Code:
       0: aload_0
       1: dup
       2: getfield      #4                  // Field count:I
       5: dup_x1
       6: iconst_1
       7: iadd
       8: putfield      #4                  // Field count:I
      11: ireturn

  static org.apache.activemq.artemis.core.server.Queue access$400(org.apache.activemq.artemis.core.server.cluster.impl.Redistributor);
    Code:
       0: aload_0
       1: getfield      #3                  // Field queue:Lorg/apache/activemq/artemis/core/server/Queue;
       4: areturn

  static org.apache.activemq.artemis.utils.ReusableLatch access$500(org.apache.activemq.artemis.core.server.cluster.impl.Redistributor);
    Code:
       0: aload_0
       1: getfield      #2                  // Field pendingRuns:Lorg/apache/activemq/artemis/utils/ReusableLatch;
       4: areturn

  static void access$600(org.apache.activemq.artemis.core.server.cluster.impl.Redistributor);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method execPrompter:()V
       4: return
}
