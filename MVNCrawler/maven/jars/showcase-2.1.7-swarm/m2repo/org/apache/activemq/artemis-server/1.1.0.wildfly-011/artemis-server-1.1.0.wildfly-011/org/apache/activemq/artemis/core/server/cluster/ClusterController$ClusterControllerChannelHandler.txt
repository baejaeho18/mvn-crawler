Compiled from "ClusterController.java"
final class org.apache.activemq.artemis.core.server.cluster.ClusterController$ClusterControllerChannelHandler implements org.apache.activemq.artemis.core.protocol.core.ChannelHandler {
  private final org.apache.activemq.artemis.core.protocol.core.Channel clusterChannel;

  private final org.apache.activemq.artemis.spi.core.remoting.Acceptor acceptorUsed;

  private final org.apache.activemq.artemis.core.protocol.core.CoreRemotingConnection remotingConnection;

  private final org.apache.activemq.artemis.core.protocol.core.ChannelHandler channelHandler;

  boolean authorized;

  final org.apache.activemq.artemis.core.server.cluster.ClusterController this$0;

  public org.apache.activemq.artemis.core.server.cluster.ClusterController$ClusterControllerChannelHandler(org.apache.activemq.artemis.core.server.cluster.ClusterController, org.apache.activemq.artemis.core.protocol.core.Channel, org.apache.activemq.artemis.spi.core.remoting.Acceptor, org.apache.activemq.artemis.core.protocol.core.CoreRemotingConnection, org.apache.activemq.artemis.core.protocol.core.ChannelHandler);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field authorized:Z
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field clusterChannel:Lorg/apache/activemq/artemis/core/protocol/core/Channel;
      19: aload_0
      20: aload_3
      21: putfield      #5                  // Field acceptorUsed:Lorg/apache/activemq/artemis/spi/core/remoting/Acceptor;
      24: aload_0
      25: aload         4
      27: putfield      #6                  // Field remotingConnection:Lorg/apache/activemq/artemis/core/protocol/core/CoreRemotingConnection;
      30: aload_0
      31: aload         5
      33: putfield      #7                  // Field channelHandler:Lorg/apache/activemq/artemis/core/protocol/core/ChannelHandler;
      36: return

  public void handlePacket(org.apache.activemq.artemis.core.protocol.core.Packet);
    Code:
       0: aload_0
       1: getfield      #3                  // Field authorized:Z
       4: ifne          138
       7: aload_1
       8: invokeinterface #8,  1            // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/Packet.getType:()B
      13: bipush        125
      15: if_icmpne     530
      18: aload_0
      19: getfield      #5                  // Field acceptorUsed:Lorg/apache/activemq/artemis/spi/core/remoting/Acceptor;
      22: invokeinterface #10,  1           // InterfaceMethod org/apache/activemq/artemis/spi/core/remoting/Acceptor.getClusterConnection:()Lorg/apache/activemq/artemis/core/server/cluster/ClusterConnection;
      27: astore_2
      28: aload_2
      29: ifnonnull     49
      32: aload_0
      33: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
      36: invokestatic  #11                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$000:(Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;)Lorg/apache/activemq/artemis/core/server/ActiveMQServer;
      39: invokeinterface #12,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServer.getClusterManager:()Lorg/apache/activemq/artemis/core/server/cluster/ClusterManager;
      44: aconst_null
      45: invokevirtual #13                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterManager.getDefaultConnection:(Lorg/apache/activemq/artemis/api/core/TransportConfiguration;)Lorg/apache/activemq/artemis/core/server/cluster/ClusterConnection;
      48: astore_2
      49: aload_1
      50: checkcast     #14                 // class org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ClusterConnectMessage
      53: astore_3
      54: aload_0
      55: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
      58: invokestatic  #11                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$000:(Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;)Lorg/apache/activemq/artemis/core/server/ActiveMQServer;
      61: invokeinterface #15,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServer.getConfiguration:()Lorg/apache/activemq/artemis/core/config/Configuration;
      66: invokeinterface #16,  1           // InterfaceMethod org/apache/activemq/artemis/core/config/Configuration.isSecurityEnabled:()Z
      71: ifeq          112
      74: aload_2
      75: aload_3
      76: invokevirtual #17                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ClusterConnectMessage.getClusterUser:()Ljava/lang/String;
      79: aload_3
      80: invokevirtual #18                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ClusterConnectMessage.getClusterPassword:()Ljava/lang/String;
      83: invokeinterface #19,  3           // InterfaceMethod org/apache/activemq/artemis/core/server/cluster/ClusterConnection.verify:(Ljava/lang/String;Ljava/lang/String;)Z
      88: ifne          112
      91: aload_0
      92: getfield      #4                  // Field clusterChannel:Lorg/apache/activemq/artemis/core/protocol/core/Channel;
      95: new           #20                 // class org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ClusterConnectReplyMessage
      98: dup
      99: iconst_0
     100: invokespecial #21                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ClusterConnectReplyMessage."<init>":(Z)V
     103: invokeinterface #22,  2           // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/Channel.send:(Lorg/apache/activemq/artemis/core/protocol/core/Packet;)Z
     108: pop
     109: goto          135
     112: aload_0
     113: iconst_1
     114: putfield      #3                  // Field authorized:Z
     117: aload_0
     118: getfield      #4                  // Field clusterChannel:Lorg/apache/activemq/artemis/core/protocol/core/Channel;
     121: new           #20                 // class org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ClusterConnectReplyMessage
     124: dup
     125: iconst_1
     126: invokespecial #21                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ClusterConnectReplyMessage."<init>":(Z)V
     129: invokeinterface #22,  2           // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/Channel.send:(Lorg/apache/activemq/artemis/core/protocol/core/Packet;)Z
     134: pop
     135: goto          530
     138: aload_1
     139: invokeinterface #8,  1            // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/Packet.getType:()B
     144: bipush        111
     146: if_icmpne     374
     149: aload_1
     150: checkcast     #23                 // class org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage
     153: astore_2
     154: aload_2
     155: invokevirtual #24                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.isBackup:()Z
     158: ifeq          177
     161: new           #25                 // class org/apache/activemq/artemis/api/core/Pair
     164: dup
     165: aconst_null
     166: aload_2
     167: invokevirtual #26                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getConnector:()Lorg/apache/activemq/artemis/api/core/TransportConfiguration;
     170: invokespecial #27                 // Method org/apache/activemq/artemis/api/core/Pair."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
     173: astore_3
     174: goto          193
     177: new           #25                 // class org/apache/activemq/artemis/api/core/Pair
     180: dup
     181: aload_2
     182: invokevirtual #26                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getConnector:()Lorg/apache/activemq/artemis/api/core/TransportConfiguration;
     185: aload_2
     186: invokevirtual #28                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getBackupConnector:()Lorg/apache/activemq/artemis/api/core/TransportConfiguration;
     189: invokespecial #27                 // Method org/apache/activemq/artemis/api/core/Pair."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
     192: astore_3
     193: invokestatic  #29                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$100:()Z
     196: ifeq          253
     199: getstatic     #30                 // Field org/apache/activemq/artemis/core/server/ActiveMQServerLogger.LOGGER:Lorg/apache/activemq/artemis/core/server/ActiveMQServerLogger;
     202: new           #31                 // class java/lang/StringBuilder
     205: dup
     206: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     209: ldc           #33                 // String Server
     211: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     214: aload_0
     215: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
     218: invokestatic  #11                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$000:(Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;)Lorg/apache/activemq/artemis/core/server/ActiveMQServer;
     221: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     224: ldc           #36                 // String  receiving nodeUp from NodeID=
     226: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     229: aload_2
     230: invokevirtual #37                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getNodeID:()Ljava/lang/String;
     233: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     236: ldc           #38                 // String , pair=
     238: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     241: aload_3
     242: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     245: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     248: invokeinterface #40,  2           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServerLogger.trace:(Ljava/lang/Object;)V
     253: aload_0
     254: getfield      #5                  // Field acceptorUsed:Lorg/apache/activemq/artemis/spi/core/remoting/Acceptor;
     257: ifnull        344
     260: aload_0
     261: getfield      #5                  // Field acceptorUsed:Lorg/apache/activemq/artemis/spi/core/remoting/Acceptor;
     264: invokeinterface #10,  1           // InterfaceMethod org/apache/activemq/artemis/spi/core/remoting/Acceptor.getClusterConnection:()Lorg/apache/activemq/artemis/core/server/cluster/ClusterConnection;
     269: astore        4
     271: aload         4
     273: ifnull        311
     276: aload_2
     277: invokevirtual #41                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getScaleDownGroupName:()Ljava/lang/String;
     280: astore        5
     282: aload         4
     284: aload_2
     285: invokevirtual #42                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getCurrentEventID:()J
     288: aload_2
     289: invokevirtual #37                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getNodeID:()Ljava/lang/String;
     292: aload_2
     293: invokevirtual #43                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.getBackupGroupName:()Ljava/lang/String;
     296: aload         5
     298: aload_3
     299: aload_2
     300: invokevirtual #24                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/NodeAnnounceMessage.isBackup:()Z
     303: invokeinterface #44,  8           // InterfaceMethod org/apache/activemq/artemis/core/server/cluster/ClusterConnection.nodeAnnounced:(JLjava/lang/String;Ljava/lang/String;Ljava/lang/String;Lorg/apache/activemq/artemis/api/core/Pair;Z)V
     308: goto          341
     311: getstatic     #30                 // Field org/apache/activemq/artemis/core/server/ActiveMQServerLogger.LOGGER:Lorg/apache/activemq/artemis/core/server/ActiveMQServerLogger;
     314: new           #31                 // class java/lang/StringBuilder
     317: dup
     318: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     321: ldc           #45                 // String Cluster connection is null on acceptor =
     323: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     326: aload_0
     327: getfield      #5                  // Field acceptorUsed:Lorg/apache/activemq/artemis/spi/core/remoting/Acceptor;
     330: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     333: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     336: invokeinterface #46,  2           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServerLogger.debug:(Ljava/lang/Object;)V
     341: goto          371
     344: getstatic     #30                 // Field org/apache/activemq/artemis/core/server/ActiveMQServerLogger.LOGGER:Lorg/apache/activemq/artemis/core/server/ActiveMQServerLogger;
     347: new           #31                 // class java/lang/StringBuilder
     350: dup
     351: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     354: ldc           #47                 // String there is no acceptor used configured at the CoreProtocolManager
     356: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     359: aload_0
     360: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     363: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     366: invokeinterface #46,  2           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServerLogger.debug:(Ljava/lang/Object;)V
     371: goto          530
     374: aload_1
     375: invokeinterface #8,  1            // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/Packet.getType:()B
     380: bipush        -2
     382: if_icmpne     456
     385: aload_1
     386: checkcast     #48                 // class org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteMessage
     389: astore_2
     390: aload_0
     391: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
     394: invokestatic  #49                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$200:(Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;)Lorg/apache/activemq/artemis/core/server/cluster/qourum/QuorumManager;
     397: aload_2
     398: invokevirtual #50                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteMessage.getHandler:()Lorg/apache/activemq/artemis/api/core/SimpleString;
     401: invokevirtual #51                 // Method org/apache/activemq/artemis/core/server/cluster/qourum/QuorumManager.getVoteHandler:(Lorg/apache/activemq/artemis/api/core/SimpleString;)Lorg/apache/activemq/artemis/core/server/cluster/qourum/QuorumVoteHandler;
     404: astore_3
     405: aload_2
     406: aload_3
     407: invokevirtual #52                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteMessage.decode:(Lorg/apache/activemq/artemis/core/server/cluster/qourum/QuorumVoteHandler;)V
     410: aload_0
     411: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
     414: invokestatic  #49                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$200:(Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;)Lorg/apache/activemq/artemis/core/server/cluster/qourum/QuorumManager;
     417: aload_2
     418: invokevirtual #50                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteMessage.getHandler:()Lorg/apache/activemq/artemis/api/core/SimpleString;
     421: aload_2
     422: invokevirtual #53                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteMessage.getVote:()Lorg/apache/activemq/artemis/core/server/cluster/qourum/Vote;
     425: invokevirtual #54                 // Method org/apache/activemq/artemis/core/server/cluster/qourum/QuorumManager.vote:(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/core/server/cluster/qourum/Vote;)Lorg/apache/activemq/artemis/core/server/cluster/qourum/Vote;
     428: astore        4
     430: aload_0
     431: getfield      #4                  // Field clusterChannel:Lorg/apache/activemq/artemis/core/protocol/core/Channel;
     434: new           #55                 // class org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteReplyMessage
     437: dup
     438: aload_2
     439: invokevirtual #50                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteMessage.getHandler:()Lorg/apache/activemq/artemis/api/core/SimpleString;
     442: aload         4
     444: invokespecial #56                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/QuorumVoteReplyMessage."<init>":(Lorg/apache/activemq/artemis/api/core/SimpleString;Lorg/apache/activemq/artemis/core/server/cluster/qourum/Vote;)V
     447: invokeinterface #22,  2           // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/Channel.send:(Lorg/apache/activemq/artemis/core/protocol/core/Packet;)Z
     452: pop
     453: goto          530
     456: aload_1
     457: invokeinterface #8,  1            // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/Packet.getType:()B
     462: bipush        -6
     464: if_icmpne     513
     467: aload_1
     468: checkcast     #57                 // class org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ScaleDownAnnounceMessage
     471: astore_2
     472: aload_0
     473: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
     476: invokestatic  #11                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$000:(Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;)Lorg/apache/activemq/artemis/core/server/ActiveMQServer;
     479: invokeinterface #58,  1           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServer.getNodeID:()Lorg/apache/activemq/artemis/api/core/SimpleString;
     484: aload_2
     485: invokevirtual #59                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ScaleDownAnnounceMessage.getTargetNodeId:()Lorg/apache/activemq/artemis/api/core/SimpleString;
     488: invokevirtual #60                 // Method org/apache/activemq/artemis/api/core/SimpleString.equals:(Ljava/lang/Object;)Z
     491: ifeq          510
     494: aload_0
     495: getfield      #1                  // Field this$0:Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;
     498: invokestatic  #11                 // Method org/apache/activemq/artemis/core/server/cluster/ClusterController.access$000:(Lorg/apache/activemq/artemis/core/server/cluster/ClusterController;)Lorg/apache/activemq/artemis/core/server/ActiveMQServer;
     501: aload_2
     502: invokevirtual #61                 // Method org/apache/activemq/artemis/core/protocol/core/impl/wireformat/ScaleDownAnnounceMessage.getScaledDownNodeId:()Lorg/apache/activemq/artemis/api/core/SimpleString;
     505: invokeinterface #62,  2           // InterfaceMethod org/apache/activemq/artemis/core/server/ActiveMQServer.addScaledDownNode:(Lorg/apache/activemq/artemis/api/core/SimpleString;)V
     510: goto          530
     513: aload_0
     514: getfield      #7                  // Field channelHandler:Lorg/apache/activemq/artemis/core/protocol/core/ChannelHandler;
     517: ifnull        530
     520: aload_0
     521: getfield      #7                  // Field channelHandler:Lorg/apache/activemq/artemis/core/protocol/core/ChannelHandler;
     524: aload_1
     525: invokeinterface #63,  2           // InterfaceMethod org/apache/activemq/artemis/core/protocol/core/ChannelHandler.handlePacket:(Lorg/apache/activemq/artemis/core/protocol/core/Packet;)V
     530: return
}
