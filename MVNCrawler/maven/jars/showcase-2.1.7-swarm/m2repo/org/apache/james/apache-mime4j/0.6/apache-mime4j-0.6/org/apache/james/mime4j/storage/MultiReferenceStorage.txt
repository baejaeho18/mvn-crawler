Compiled from "MultiReferenceStorage.java"
public class org.apache.james.mime4j.storage.MultiReferenceStorage implements org.apache.james.mime4j.storage.Storage {
  private final org.apache.james.mime4j.storage.Storage storage;

  private int referenceCounter;

  public org.apache.james.mime4j.storage.MultiReferenceStorage(org.apache.james.mime4j.storage.Storage);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_1
       5: ifnonnull     16
       8: new           #2                  // class java/lang/IllegalArgumentException
      11: dup
      12: invokespecial #3                  // Method java/lang/IllegalArgumentException."<init>":()V
      15: athrow
      16: aload_0
      17: aload_1
      18: putfield      #4                  // Field storage:Lorg/apache/james/mime4j/storage/Storage;
      21: aload_0
      22: iconst_1
      23: putfield      #5                  // Field referenceCounter:I
      26: return

  public void addReference();
    Code:
       0: aload_0
       1: invokespecial #6                  // Method incrementCounter:()V
       4: return

  public void delete();
    Code:
       0: aload_0
       1: invokespecial #7                  // Method decrementCounter:()Z
       4: ifeq          16
       7: aload_0
       8: getfield      #4                  // Field storage:Lorg/apache/james/mime4j/storage/Storage;
      11: invokeinterface #8,  1            // InterfaceMethod org/apache/james/mime4j/storage/Storage.delete:()V
      16: return

  public java.io.InputStream getInputStream() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lorg/apache/james/mime4j/storage/Storage;
       4: invokeinterface #9,  1            // InterfaceMethod org/apache/james/mime4j/storage/Storage.getInputStream:()Ljava/io/InputStream;
       9: areturn

  private synchronized void incrementCounter();
    Code:
       0: aload_0
       1: getfield      #5                  // Field referenceCounter:I
       4: ifne          17
       7: new           #10                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #11                 // String storage has been deleted
      13: invokespecial #12                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: dup
      19: getfield      #5                  // Field referenceCounter:I
      22: iconst_1
      23: iadd
      24: putfield      #5                  // Field referenceCounter:I
      27: return

  private synchronized boolean decrementCounter();
    Code:
       0: aload_0
       1: getfield      #5                  // Field referenceCounter:I
       4: ifne          17
       7: new           #10                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #11                 // String storage has been deleted
      13: invokespecial #12                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: dup
      19: getfield      #5                  // Field referenceCounter:I
      22: iconst_1
      23: isub
      24: dup_x1
      25: putfield      #5                  // Field referenceCounter:I
      28: ifne          35
      31: iconst_1
      32: goto          36
      35: iconst_0
      36: ireturn
}
