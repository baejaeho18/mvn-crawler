Compiled from "SecureConversationInInterceptor.java"
public class org.apache.cxf.ws.security.policy.interceptors.SecureConversationInInterceptor$SecureConversationSTSInvoker extends org.apache.cxf.ws.security.policy.interceptors.STSInvoker {
  final org.apache.cxf.ws.security.policy.interceptors.SecureConversationInInterceptor this$0;

  public org.apache.cxf.ws.security.policy.interceptors.SecureConversationInInterceptor$SecureConversationSTSInvoker(org.apache.cxf.ws.security.policy.interceptors.SecureConversationInInterceptor);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/cxf/ws/security/policy/interceptors/SecureConversationInInterceptor;
       5: aload_0
       6: invokespecial #2                  // Method org/apache/cxf/ws/security/policy/interceptors/STSInvoker."<init>":()V
       9: return

  void doIssue(org.w3c.dom.Element, org.apache.cxf.message.Exchange, org.w3c.dom.Element, org.apache.cxf.staxutils.W3CDOMStreamWriter, java.lang.String, java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: aload         6
      10: aconst_null
      11: invokespecial #3                  // Method doIssueOrRenew:(Lorg/w3c/dom/Element;Lorg/apache/cxf/message/Exchange;Lorg/w3c/dom/Element;Lorg/apache/cxf/staxutils/W3CDOMStreamWriter;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      14: return

  void doRenew(org.w3c.dom.Element, org.apache.cxf.message.Exchange, org.apache.cxf.ws.security.tokenstore.SecurityToken, org.w3c.dom.Element, org.apache.cxf.staxutils.W3CDOMStreamWriter, java.lang.String, java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload         4
       5: aload         5
       7: aload         6
       9: aload         7
      11: aload_3
      12: invokevirtual #4                  // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
      15: invokespecial #3                  // Method doIssueOrRenew:(Lorg/w3c/dom/Element;Lorg/apache/cxf/message/Exchange;Lorg/w3c/dom/Element;Lorg/apache/cxf/staxutils/W3CDOMStreamWriter;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      18: return

  private void doIssueOrRenew(org.w3c.dom.Element, org.apache.cxf.message.Exchange, org.w3c.dom.Element, org.apache.cxf.staxutils.W3CDOMStreamWriter, java.lang.String, java.lang.String, java.lang.String) throws java.lang.Exception;
    Code:
       0: ldc           #5                  // String http://docs.oasis-open.org/ws-sx/ws-trust/200512
       2: aload         6
       4: invokevirtual #6                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       7: ifeq          21
      10: aload         4
      12: aload         5
      14: ldc           #7                  // String RequestSecurityTokenResponseCollection
      16: aload         6
      18: invokevirtual #8                  // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeStartElement:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      21: aload         4
      23: aload         5
      25: ldc           #9                  // String RequestSecurityTokenResponse
      27: aload         6
      29: invokevirtual #8                  // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeStartElement:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      32: aconst_null
      33: astore        8
      35: sipush        256
      38: istore        9
      40: ldc2_w        #10                 // long 300000l
      43: lstore        10
      45: aconst_null
      46: astore        12
      48: aload_1
      49: invokestatic  #12                 // Method org/apache/cxf/helpers/DOMUtils.getFirstElement:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Element;
      52: astore        13
      54: aload         13
      56: ifnull        174
      59: aload         13
      61: invokeinterface #13,  1           // InterfaceMethod org/w3c/dom/Element.getLocalName:()Ljava/lang/String;
      66: astore        14
      68: aload         6
      70: aload         13
      72: invokeinterface #14,  1           // InterfaceMethod org/w3c/dom/Element.getNamespaceURI:()Ljava/lang/String;
      77: invokevirtual #6                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      80: ifeq          164
      83: ldc           #15                 // String Entropy
      85: aload         14
      87: invokevirtual #6                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      90: ifeq          120
      93: aload         13
      95: invokestatic  #12                 // Method org/apache/cxf/helpers/DOMUtils.getFirstElement:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Element;
      98: astore        15
     100: aload         15
     102: ifnull        117
     105: aload         15
     107: invokeinterface #16,  1           // InterfaceMethod org/w3c/dom/Element.getTextContent:()Ljava/lang/String;
     112: invokestatic  #17                 // Method org/apache/xml/security/utils/Base64.decode:(Ljava/lang/String;)[B
     115: astore        8
     117: goto          164
     120: ldc           #18                 // String KeySize
     122: aload         14
     124: invokevirtual #6                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     127: ifeq          145
     130: aload         13
     132: invokeinterface #16,  1           // InterfaceMethod org/w3c/dom/Element.getTextContent:()Ljava/lang/String;
     137: invokestatic  #19                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     140: istore        9
     142: goto          164
     145: ldc           #20                 // String TokenType
     147: aload         14
     149: invokevirtual #6                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     152: ifeq          164
     155: aload         13
     157: invokeinterface #16,  1           // InterfaceMethod org/w3c/dom/Element.getTextContent:()Ljava/lang/String;
     162: astore        12
     164: aload         13
     166: invokestatic  #21                 // Method org/apache/cxf/helpers/DOMUtils.getNextElement:(Lorg/w3c/dom/Element;)Lorg/w3c/dom/Element;
     169: astore        13
     171: goto          54
     174: iload         9
     176: sipush        128
     179: if_icmplt     190
     182: iload         9
     184: sipush        512
     187: if_icmple     195
     190: sipush        256
     193: istore        9
     195: aload         4
     197: aload         5
     199: ldc           #22                 // String RequestedSecurityToken
     201: aload         6
     203: invokevirtual #8                  // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeStartElement:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     206: aload         7
     208: ifnull        296
     211: aload_2
     212: invokeinterface #23,  1           // InterfaceMethod org/apache/cxf/message/Exchange.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
     217: invokeinterface #24,  1           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.getEndpointInfo:()Lorg/apache/cxf/service/model/EndpointInfo;
     222: ldc_w         #25                 // class org/apache/cxf/ws/security/tokenstore/TokenStore
     225: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     228: invokevirtual #27                 // Method org/apache/cxf/service/model/EndpointInfo.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
     231: checkcast     #25                 // class org/apache/cxf/ws/security/tokenstore/TokenStore
     234: aload         7
     236: invokeinterface #28,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.remove:(Ljava/lang/String;)V
     241: aconst_null
     242: invokestatic  #29                 // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     245: astore        15
     247: new           #30                 // class org/apache/wss4j/dom/message/token/SecurityContextToken
     250: dup
     251: aload         12
     253: invokestatic  #31                 // Method org/apache/cxf/ws/security/policy/interceptors/NegotiationUtils.getWSCVersion:(Ljava/lang/String;)I
     256: aload         4
     258: invokevirtual #32                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.getDocument:()Lorg/w3c/dom/Document;
     261: aload         7
     263: aload         15
     265: invokespecial #33                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken."<init>":(ILorg/w3c/dom/Document;Ljava/lang/String;Ljava/lang/String;)V
     268: astore        14
     270: aload         14
     272: invokestatic  #34                 // Method org/apache/wss4j/dom/engine/WSSConfig.getNewInstance:()Lorg/apache/wss4j/dom/engine/WSSConfig;
     275: invokevirtual #35                 // Method org/apache/wss4j/dom/engine/WSSConfig.getIdAllocator:()Lorg/apache/wss4j/dom/WsuIdAllocator;
     278: ldc           #36                 // String sctId-
     280: aload         14
     282: invokevirtual #37                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getElement:()Lorg/w3c/dom/Element;
     285: invokeinterface #38,  3           // InterfaceMethod org/apache/wss4j/dom/WsuIdAllocator.createSecureId:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/String;
     290: invokevirtual #39                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.setID:(Ljava/lang/String;)V
     293: goto          338
     296: new           #30                 // class org/apache/wss4j/dom/message/token/SecurityContextToken
     299: dup
     300: aload         12
     302: invokestatic  #31                 // Method org/apache/cxf/ws/security/policy/interceptors/NegotiationUtils.getWSCVersion:(Ljava/lang/String;)I
     305: aload         4
     307: invokevirtual #32                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.getDocument:()Lorg/w3c/dom/Document;
     310: invokespecial #40                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken."<init>":(ILorg/w3c/dom/Document;)V
     313: astore        14
     315: aload         14
     317: invokestatic  #34                 // Method org/apache/wss4j/dom/engine/WSSConfig.getNewInstance:()Lorg/apache/wss4j/dom/engine/WSSConfig;
     320: invokevirtual #35                 // Method org/apache/wss4j/dom/engine/WSSConfig.getIdAllocator:()Lorg/apache/wss4j/dom/WsuIdAllocator;
     323: ldc           #36                 // String sctId-
     325: aload         14
     327: invokevirtual #37                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getElement:()Lorg/w3c/dom/Element;
     330: invokeinterface #38,  3           // InterfaceMethod org/apache/wss4j/dom/WsuIdAllocator.createSecureId:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/String;
     335: invokevirtual #39                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.setID:(Ljava/lang/String;)V
     338: new           #41                 // class java/util/Date
     341: dup
     342: invokespecial #42                 // Method java/util/Date."<init>":()V
     345: astore        15
     347: new           #41                 // class java/util/Date
     350: dup
     351: invokespecial #42                 // Method java/util/Date."<init>":()V
     354: astore        16
     356: aload         16
     358: aload         15
     360: invokevirtual #43                 // Method java/util/Date.getTime:()J
     363: lload         10
     365: ladd
     366: invokevirtual #44                 // Method java/util/Date.setTime:(J)V
     369: new           #45                 // class org/apache/cxf/ws/security/tokenstore/SecurityToken
     372: dup
     373: aload         14
     375: invokevirtual #46                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getIdentifier:()Ljava/lang/String;
     378: aload         15
     380: aload         16
     382: invokespecial #47                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken."<init>":(Ljava/lang/String;Ljava/util/Date;Ljava/util/Date;)V
     385: astore        17
     387: aload         17
     389: aload         14
     391: invokevirtual #37                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getElement:()Lorg/w3c/dom/Element;
     394: invokevirtual #48                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setToken:(Lorg/w3c/dom/Element;)V
     397: aload         17
     399: aload         14
     401: invokevirtual #49                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getTokenType:()Ljava/lang/String;
     404: invokevirtual #50                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setTokenType:(Ljava/lang/String;)V
     407: aload         4
     409: invokevirtual #51                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.getCurrentNode:()Lorg/w3c/dom/Element;
     412: aload         14
     414: invokevirtual #37                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getElement:()Lorg/w3c/dom/Element;
     417: invokeinterface #52,  2           // InterfaceMethod org/w3c/dom/Element.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
     422: pop
     423: aload         4
     425: invokevirtual #53                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeEndElement:()V
     428: aload         4
     430: aload         5
     432: ldc           #54                 // String RequestedAttachedReference
     434: aload         6
     436: invokevirtual #8                  // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeStartElement:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     439: aload         17
     441: aload_0
     442: aload         4
     444: new           #55                 // class java/lang/StringBuilder
     447: dup
     448: invokespecial #56                 // Method java/lang/StringBuilder."<init>":()V
     451: ldc           #57                 // String #
     453: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     456: aload         14
     458: invokevirtual #59                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getID:()Ljava/lang/String;
     461: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     464: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     467: aload         12
     469: invokevirtual #61                 // Method writeSecurityTokenReference:(Lorg/apache/cxf/staxutils/W3CDOMStreamWriter;Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
     472: invokevirtual #62                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setAttachedReference:(Lorg/w3c/dom/Element;)V
     475: aload         4
     477: invokevirtual #53                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeEndElement:()V
     480: aload         4
     482: aload         5
     484: ldc           #63                 // String RequestedUnattachedReference
     486: aload         6
     488: invokevirtual #8                  // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeStartElement:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     491: aload         17
     493: aload_0
     494: aload         4
     496: aload         14
     498: invokevirtual #46                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getIdentifier:()Ljava/lang/String;
     501: aload         14
     503: invokevirtual #64                 // Method org/apache/wss4j/dom/message/token/SecurityContextToken.getInstance:()Ljava/lang/String;
     506: aload         12
     508: invokevirtual #65                 // Method writeSecurityTokenReference:(Lorg/apache/cxf/staxutils/W3CDOMStreamWriter;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
     511: invokevirtual #66                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setUnattachedReference:(Lorg/w3c/dom/Element;)V
     514: aload         4
     516: invokevirtual #53                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeEndElement:()V
     519: aload_0
     520: aload         4
     522: aload         15
     524: aload         16
     526: aload         5
     528: aload         6
     530: invokevirtual #67                 // Method writeLifetime:(Lorg/apache/cxf/staxutils/W3CDOMStreamWriter;Ljava/util/Date;Ljava/util/Date;Ljava/lang/String;Ljava/lang/String;)V
     533: aload_0
     534: aload         5
     536: aload         6
     538: aload         4
     540: aload         8
     542: iload         9
     544: invokevirtual #68                 // Method writeProofToken:(Ljava/lang/String;Ljava/lang/String;Lorg/apache/cxf/staxutils/W3CDOMStreamWriter;[BI)[B
     547: astore        18
     549: aload         17
     551: aload         18
     553: invokevirtual #69                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setSecret:([B)V
     556: aload_2
     557: invokeinterface #70,  1           // InterfaceMethod org/apache/cxf/message/Exchange.getInMessage:()Lorg/apache/cxf/message/Message;
     562: ldc_w         #71                 // class org/apache/cxf/security/SecurityContext
     565: invokeinterface #72,  2           // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Class;)Ljava/lang/Object;
     570: checkcast     #71                 // class org/apache/cxf/security/SecurityContext
     573: astore        19
     575: aload         19
     577: ifnull        587
     580: aload         17
     582: aload         19
     584: invokevirtual #73                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setSecurityContext:(Lorg/apache/cxf/security/SecurityContext;)V
     587: aload_0
     588: aload_2
     589: invokeinterface #70,  1           // InterfaceMethod org/apache/cxf/message/Exchange.getInMessage:()Lorg/apache/cxf/message/Message;
     594: invokespecial #74                 // Method getBootstrapToken:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     597: astore        20
     599: aload         20
     601: ifnull        636
     604: new           #75                 // class java/util/HashMap
     607: dup
     608: iconst_1
     609: invokespecial #76                 // Method java/util/HashMap."<init>":(I)V
     612: astore        21
     614: aload         21
     616: ldc           #77                 // String bootstrap_security_token_id
     618: aload         20
     620: invokevirtual #4                  // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     623: invokeinterface #78,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     628: pop
     629: aload         17
     631: aload         21
     633: invokevirtual #79                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setProperties:(Ljava/util/Map;)V
     636: aload_2
     637: invokeinterface #23,  1           // InterfaceMethod org/apache/cxf/message/Exchange.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
     642: invokeinterface #24,  1           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.getEndpointInfo:()Lorg/apache/cxf/service/model/EndpointInfo;
     647: ldc_w         #25                 // class org/apache/cxf/ws/security/tokenstore/TokenStore
     650: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     653: invokevirtual #27                 // Method org/apache/cxf/service/model/EndpointInfo.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
     656: checkcast     #25                 // class org/apache/cxf/ws/security/tokenstore/TokenStore
     659: aload         17
     661: invokeinterface #80,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.add:(Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)V
     666: aload         4
     668: invokevirtual #53                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeEndElement:()V
     671: ldc           #5                  // String http://docs.oasis-open.org/ws-sx/ws-trust/200512
     673: aload         6
     675: invokevirtual #6                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     678: ifeq          686
     681: aload         4
     683: invokevirtual #53                 // Method org/apache/cxf/staxutils/W3CDOMStreamWriter.writeEndElement:()V
     686: return

  private org.apache.cxf.ws.security.tokenstore.SecurityToken getBootstrapToken(org.apache.cxf.message.Message);
    Code:
       0: aload_1
       1: ldc           #81                 // String ws-security.token
       3: invokeinterface #82,  2           // InterfaceMethod org/apache/cxf/message/Message.getContextualProperty:(Ljava/lang/String;)Ljava/lang/Object;
       8: checkcast     #45                 // class org/apache/cxf/ws/security/tokenstore/SecurityToken
      11: astore_2
      12: aload_2
      13: ifnonnull     43
      16: aload_1
      17: ldc           #83                 // String ws-security.token.id
      19: invokeinterface #82,  2           // InterfaceMethod org/apache/cxf/message/Message.getContextualProperty:(Ljava/lang/String;)Ljava/lang/Object;
      24: checkcast     #84                 // class java/lang/String
      27: astore_3
      28: aload_3
      29: ifnull        43
      32: aload_1
      33: invokestatic  #85                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      36: aload_3
      37: invokeinterface #86,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      42: astore_2
      43: aload_2
      44: ifnull        56
      47: aload_2
      48: invokevirtual #87                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.isExpired:()Z
      51: ifne          56
      54: aload_2
      55: areturn
      56: aconst_null
      57: areturn

  public java.lang.Object invoke(org.apache.cxf.message.Exchange, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #88                 // Method org/apache/cxf/ws/security/policy/interceptors/STSInvoker.invoke:(Lorg/apache/cxf/message/Exchange;Ljava/lang/Object;)Ljava/lang/Object;
       6: areturn
}
