Compiled from "STSTokenRetriever.java"
public final class org.apache.cxf.ws.security.trust.STSTokenRetriever {
  private static final java.util.logging.Logger LOG;

  private static final java.lang.String ASSOCIATED_TOKEN;

  private org.apache.cxf.ws.security.trust.STSTokenRetriever();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static org.apache.cxf.ws.security.tokenstore.SecurityToken getToken(org.apache.cxf.message.Message, org.apache.cxf.ws.security.trust.STSTokenRetriever$TokenRequestParams);
    Code:
       0: aload_0
       1: invokestatic  #2                  // Method retrieveCachedToken:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
       4: astore_2
       5: aload_2
       6: ifnonnull     18
       9: aload_0
      10: aload_1
      11: invokestatic  #3                  // Method issueToken:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      14: astore_2
      15: goto          25
      18: aload_0
      19: aload_2
      20: aload_1
      21: invokestatic  #4                  // Method renewToken:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      24: astore_2
      25: ldc           #5                  // String security.cache.issued.token.in.endpoint
      27: aload_0
      28: iconst_1
      29: invokestatic  #6                  // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyBoolean:(Ljava/lang/String;Lorg/apache/cxf/message/Message;Z)Z
      32: ifeq          46
      35: aload_2
      36: invokestatic  #7                  // Method isOneTimeUse:(Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)Z
      39: ifne          46
      42: iconst_1
      43: goto          47
      46: iconst_0
      47: istore_3
      48: iload_3
      49: ifeq          144
      52: aload_0
      53: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
      58: invokeinterface #9,  1            // InterfaceMethod org/apache/cxf/message/Exchange.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
      63: ldc           #10                 // String ws-security.token
      65: aload_2
      66: invokeinterface #11,  3           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      71: pop
      72: aload_0
      73: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
      78: ldc           #10                 // String ws-security.token
      80: aload_2
      81: invokeinterface #12,  3           // InterfaceMethod org/apache/cxf/message/Exchange.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      86: pop
      87: aload_0
      88: ldc           #13                 // String ws-security.token.element
      90: aload_2
      91: invokevirtual #14                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getToken:()Lorg/w3c/dom/Element;
      94: invokeinterface #15,  3           // InterfaceMethod org/apache/cxf/message/Message.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      99: pop
     100: aload_0
     101: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
     106: ldc           #16                 // String ws-security.token.id
     108: aload_2
     109: invokevirtual #17                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     112: invokeinterface #12,  3           // InterfaceMethod org/apache/cxf/message/Exchange.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     117: pop
     118: aload_0
     119: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
     124: invokeinterface #9,  1            // InterfaceMethod org/apache/cxf/message/Exchange.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
     129: ldc           #16                 // String ws-security.token.id
     131: aload_2
     132: invokevirtual #17                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     135: invokeinterface #11,  3           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     140: pop
     141: goto          180
     144: aload_0
     145: ldc           #10                 // String ws-security.token
     147: aload_2
     148: invokeinterface #15,  3           // InterfaceMethod org/apache/cxf/message/Message.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     153: pop
     154: aload_0
     155: ldc           #16                 // String ws-security.token.id
     157: aload_2
     158: invokevirtual #17                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     161: invokeinterface #15,  3           // InterfaceMethod org/apache/cxf/message/Message.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     166: pop
     167: aload_0
     168: ldc           #13                 // String ws-security.token.element
     170: aload_2
     171: invokevirtual #14                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getToken:()Lorg/w3c/dom/Element;
     174: invokeinterface #15,  3           // InterfaceMethod org/apache/cxf/message/Message.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     179: pop
     180: aload_0
     181: invokestatic  #18                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
     184: aload_2
     185: invokeinterface #19,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.add:(Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)V
     190: aload_2
     191: areturn

  private static org.apache.cxf.ws.security.tokenstore.SecurityToken retrieveCachedToken(org.apache.cxf.message.Message);
    Code:
       0: ldc           #5                  // String security.cache.issued.token.in.endpoint
       2: aload_0
       3: iconst_1
       4: invokestatic  #6                  // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyBoolean:(Ljava/lang/String;Lorg/apache/cxf/message/Message;Z)Z
       7: istore_1
       8: aconst_null
       9: astore_2
      10: iload_1
      11: ifeq          60
      14: aload_0
      15: ldc           #10                 // String ws-security.token
      17: invokeinterface #20,  2           // InterfaceMethod org/apache/cxf/message/Message.getContextualProperty:(Ljava/lang/String;)Ljava/lang/Object;
      22: checkcast     #21                 // class org/apache/cxf/ws/security/tokenstore/SecurityToken
      25: astore_2
      26: aload_2
      27: ifnonnull     103
      30: aload_0
      31: ldc           #16                 // String ws-security.token.id
      33: invokeinterface #20,  2           // InterfaceMethod org/apache/cxf/message/Message.getContextualProperty:(Ljava/lang/String;)Ljava/lang/Object;
      38: checkcast     #22                 // class java/lang/String
      41: astore_3
      42: aload_3
      43: ifnull        57
      46: aload_0
      47: invokestatic  #18                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      50: aload_3
      51: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      56: astore_2
      57: goto          103
      60: aload_0
      61: ldc           #10                 // String ws-security.token
      63: invokeinterface #24,  2           // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Object;)Ljava/lang/Object;
      68: checkcast     #21                 // class org/apache/cxf/ws/security/tokenstore/SecurityToken
      71: astore_2
      72: aload_2
      73: ifnonnull     103
      76: aload_0
      77: ldc           #16                 // String ws-security.token.id
      79: invokeinterface #24,  2           // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Object;)Ljava/lang/Object;
      84: checkcast     #22                 // class java/lang/String
      87: astore_3
      88: aload_3
      89: ifnull        103
      92: aload_0
      93: invokestatic  #18                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      96: aload_3
      97: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     102: astore_2
     103: aload_2
     104: areturn

  private static org.apache.cxf.ws.security.tokenstore.SecurityToken issueToken(org.apache.cxf.message.Message, org.apache.cxf.ws.security.trust.STSTokenRetriever$TokenRequestParams);
    Code:
       0: aload_0
       1: ldc           #25                 // String javax.xml.ws.addressing.context.outbound
       3: invokeinterface #24,  2           // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #26                 // class org/apache/cxf/ws/addressing/AddressingProperties
      11: astore_2
      12: aload_2
      13: ifnonnull     28
      16: aload_0
      17: ldc           #27                 // String javax.xml.ws.addressing.context
      19: invokeinterface #24,  2           // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Object;)Ljava/lang/Object;
      24: checkcast     #26                 // class org/apache/cxf/ws/addressing/AddressingProperties
      27: astore_2
      28: aload_0
      29: ldc           #28                 // String sts
      31: aload_1
      32: invokevirtual #29                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getIssuer:()Lorg/w3c/dom/Element;
      35: invokestatic  #30                 // Method org/apache/cxf/ws/security/trust/STSUtils.getClientWithIssuer:(Lorg/apache/cxf/message/Message;Ljava/lang/String;Lorg/w3c/dom/Element;)Lorg/apache/cxf/ws/security/trust/STSClient;
      38: astore_3
      39: aload_3
      40: dup
      41: astore        4
      43: monitorenter
      44: ldc           #31                 // String security.sts.token.act-as
      46: aload_0
      47: invokestatic  #32                 // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyValue:(Ljava/lang/String;Lorg/apache/cxf/message/Message;)Ljava/lang/Object;
      50: astore        5
      52: aload         5
      54: ifnull        63
      57: aload_3
      58: aload         5
      60: invokevirtual #33                 // Method org/apache/cxf/ws/security/trust/STSClient.setActAs:(Ljava/lang/Object;)V
      63: ldc           #34                 // String security.sts.token.on-behalf-of
      65: aload_0
      66: invokestatic  #32                 // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyValue:(Ljava/lang/String;Lorg/apache/cxf/message/Message;)Ljava/lang/Object;
      69: astore        5
      71: aload         5
      73: ifnull        82
      76: aload_3
      77: aload         5
      79: invokevirtual #35                 // Method org/apache/cxf/ws/security/trust/STSClient.setOnBehalfOf:(Ljava/lang/Object;)V
      82: aload_3
      83: invokevirtual #36                 // Method org/apache/cxf/ws/security/trust/STSClient.getRequestContext:()Ljava/util/Map;
      86: astore        6
      88: aload_0
      89: aload         6
      91: invokestatic  #37                 // Method mapSecurityProps:(Lorg/apache/cxf/message/Message;Ljava/util/Map;)V
      94: ldc           #38                 // String security.sts.applies-to
      96: aload_0
      97: invokestatic  #32                 // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyValue:(Ljava/lang/String;Lorg/apache/cxf/message/Message;)Ljava/lang/Object;
     100: astore        7
     102: aload         7
     104: ifnonnull     111
     107: aconst_null
     108: goto          116
     111: aload         7
     113: invokevirtual #39                 // Method java/lang/Object.toString:()Ljava/lang/String;
     116: astore        8
     118: aload         8
     120: ifnonnull     138
     123: aload_0
     124: getstatic     #40                 // Field org/apache/cxf/message/Message.ENDPOINT_ADDRESS:Ljava/lang/String;
     127: invokeinterface #20,  2           // InterfaceMethod org/apache/cxf/message/Message.getContextualProperty:(Ljava/lang/String;)Ljava/lang/Object;
     132: invokevirtual #39                 // Method java/lang/Object.toString:()Ljava/lang/String;
     135: goto          140
     138: aload         8
     140: astore        8
     142: aload_3
     143: invokevirtual #41                 // Method org/apache/cxf/ws/security/trust/STSClient.isEnableAppliesTo:()Z
     146: istore        9
     148: aload_3
     149: aload_0
     150: invokevirtual #42                 // Method org/apache/cxf/ws/security/trust/STSClient.setMessage:(Lorg/apache/cxf/message/Message;)V
     153: aload_3
     154: invokevirtual #43                 // Method org/apache/cxf/ws/security/trust/STSClient.getOnBehalfOfToken:()Lorg/w3c/dom/Element;
     157: astore        10
     159: aload_3
     160: invokevirtual #44                 // Method org/apache/cxf/ws/security/trust/STSClient.getActAsToken:()Lorg/w3c/dom/Element;
     163: astore        11
     165: aload_0
     166: aload         10
     168: aload         11
     170: aload         8
     172: iload         9
     174: invokestatic  #45                 // Method handleDelegation:(Lorg/apache/cxf/message/Message;Lorg/w3c/dom/Element;Lorg/w3c/dom/Element;Ljava/lang/String;Z)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     177: astore        12
     179: aload         12
     181: ifnull        196
     184: aload_0
     185: aload         12
     187: aload_1
     188: invokestatic  #4                  // Method renewToken:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     191: astore        12
     193: goto          207
     196: aload_0
     197: aload_3
     198: aload_2
     199: aload         8
     201: aload_1
     202: invokestatic  #46                 // Method getTokenFromSTS:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/trust/STSClient;Lorg/apache/cxf/ws/addressing/AddressingProperties;Ljava/lang/String;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     205: astore        12
     207: aload_0
     208: aload         12
     210: aload         10
     212: aload         11
     214: aload         8
     216: iload         9
     218: invokestatic  #47                 // Method storeDelegationTokens:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;Lorg/w3c/dom/Element;Lorg/w3c/dom/Element;Ljava/lang/String;Z)V
     221: aload         12
     223: astore        13
     225: aload_3
     226: aconst_null
     227: checkcast     #48                 // class org/apache/wss4j/policy/model/Trust10
     230: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     233: aload_3
     234: aconst_null
     235: checkcast     #50                 // class org/apache/wss4j/policy/model/Trust13
     238: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     241: aload_3
     242: aconst_null
     243: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
     246: aload_3
     247: aconst_null
     248: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
     251: aload         4
     253: monitorexit
     254: aload         13
     256: areturn
     257: astore        5
     259: aload         5
     261: athrow
     262: astore        5
     264: new           #55                 // class org/apache/cxf/interceptor/Fault
     267: dup
     268: aload         5
     270: invokespecial #56                 // Method org/apache/cxf/interceptor/Fault."<init>":(Ljava/lang/Throwable;)V
     273: athrow
     274: astore        14
     276: aload_3
     277: aconst_null
     278: checkcast     #48                 // class org/apache/wss4j/policy/model/Trust10
     281: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     284: aload_3
     285: aconst_null
     286: checkcast     #50                 // class org/apache/wss4j/policy/model/Trust13
     289: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     292: aload_3
     293: aconst_null
     294: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
     297: aload_3
     298: aconst_null
     299: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
     302: aload         14
     304: athrow
     305: astore        15
     307: aload         4
     309: monitorexit
     310: aload         15
     312: athrow
    Exception table:
       from    to  target type
          44   225   257   Class java/lang/RuntimeException
          44   225   262   Class java/lang/Exception
          44   225   274   any
         257   276   274   any
          44   254   305   any
         257   310   305   any

  private static org.apache.cxf.ws.security.tokenstore.SecurityToken renewToken(org.apache.cxf.message.Message, org.apache.cxf.ws.security.tokenstore.SecurityToken, org.apache.cxf.ws.security.trust.STSTokenRetriever$TokenRequestParams);
    Code:
       0: ldc           #57                 // String security.sts.token.imminent-expiry-value
       2: aload_0
       3: invokestatic  #32                 // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyValue:(Ljava/lang/String;Lorg/apache/cxf/message/Message;)Ljava/lang/Object;
       6: checkcast     #22                 // class java/lang/String
       9: astore_3
      10: ldc2_w        #58                 // long 10l
      13: lstore        4
      15: aload_3
      16: ifnull        25
      19: aload_3
      20: invokestatic  #60                 // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
      23: lstore        4
      25: aload_1
      26: invokevirtual #61                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.isExpired:()Z
      29: ifne          43
      32: aload_1
      33: lload         4
      35: invokevirtual #62                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.isAboutToExpire:(J)Z
      38: ifne          43
      41: aload_1
      42: areturn
      43: aload_0
      44: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
      49: invokeinterface #9,  1            // InterfaceMethod org/apache/cxf/message/Exchange.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
      54: ldc           #10                 // String ws-security.token
      56: invokeinterface #63,  2           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      61: pop
      62: aload_0
      63: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
      68: invokeinterface #9,  1            // InterfaceMethod org/apache/cxf/message/Exchange.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
      73: ldc           #16                 // String ws-security.token.id
      75: invokeinterface #63,  2           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      80: pop
      81: aload_0
      82: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
      87: ldc           #16                 // String ws-security.token.id
      89: invokeinterface #64,  2           // InterfaceMethod org/apache/cxf/message/Exchange.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      94: pop
      95: aload_0
      96: invokeinterface #8,  1            // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
     101: ldc           #10                 // String ws-security.token
     103: invokeinterface #64,  2           // InterfaceMethod org/apache/cxf/message/Exchange.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     108: pop
     109: aload_0
     110: invokestatic  #18                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
     113: aload_1
     114: invokevirtual #17                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     117: invokeinterface #65,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.remove:(Ljava/lang/String;)V
     122: aload_0
     123: ldc           #28                 // String sts
     125: aload_2
     126: invokevirtual #29                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getIssuer:()Lorg/w3c/dom/Element;
     129: invokestatic  #30                 // Method org/apache/cxf/ws/security/trust/STSUtils.getClientWithIssuer:(Lorg/apache/cxf/message/Message;Ljava/lang/String;Lorg/w3c/dom/Element;)Lorg/apache/cxf/ws/security/trust/STSClient;
     132: astore        6
     134: aload         6
     136: invokevirtual #66                 // Method org/apache/cxf/ws/security/trust/STSClient.isAllowRenewing:()Z
     139: ifne          148
     142: aload_0
     143: aload_2
     144: invokestatic  #3                  // Method issueToken:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     147: areturn
     148: aload_0
     149: ldc           #25                 // String javax.xml.ws.addressing.context.outbound
     151: invokeinterface #24,  2           // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Object;)Ljava/lang/Object;
     156: checkcast     #26                 // class org/apache/cxf/ws/addressing/AddressingProperties
     159: astore        7
     161: aload         7
     163: ifnonnull     179
     166: aload_0
     167: ldc           #27                 // String javax.xml.ws.addressing.context
     169: invokeinterface #24,  2           // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Object;)Ljava/lang/Object;
     174: checkcast     #26                 // class org/apache/cxf/ws/addressing/AddressingProperties
     177: astore        7
     179: aload         6
     181: dup
     182: astore        8
     184: monitorenter
     185: aload         6
     187: invokevirtual #36                 // Method org/apache/cxf/ws/security/trust/STSClient.getRequestContext:()Ljava/util/Map;
     190: astore        9
     192: aload_0
     193: aload         9
     195: invokestatic  #37                 // Method mapSecurityProps:(Lorg/apache/cxf/message/Message;Ljava/util/Map;)V
     198: aload         6
     200: aload_0
     201: invokevirtual #42                 // Method org/apache/cxf/ws/security/trust/STSClient.setMessage:(Lorg/apache/cxf/message/Message;)V
     204: aload         7
     206: ifnull        219
     209: aload         6
     211: aload         7
     213: invokevirtual #67                 // Method org/apache/cxf/ws/addressing/AddressingProperties.getNamespaceURI:()Ljava/lang/String;
     216: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
     219: aload         6
     221: aload_2
     222: invokevirtual #68                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getTrust10:()Lorg/apache/wss4j/policy/model/Trust10;
     225: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     228: aload         6
     230: aload_2
     231: invokevirtual #69                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getTrust13:()Lorg/apache/wss4j/policy/model/Trust13;
     234: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     237: aload         6
     239: aload_2
     240: invokevirtual #70                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getTokenTemplate:()Lorg/w3c/dom/Element;
     243: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
     246: aload         6
     248: aload_1
     249: invokevirtual #71                 // Method org/apache/cxf/ws/security/trust/STSClient.renewSecurityToken:(Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     252: astore        10
     254: aload         6
     256: aconst_null
     257: checkcast     #48                 // class org/apache/wss4j/policy/model/Trust10
     260: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     263: aload         6
     265: aconst_null
     266: checkcast     #50                 // class org/apache/wss4j/policy/model/Trust13
     269: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     272: aload         6
     274: aconst_null
     275: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
     278: aload         6
     280: aconst_null
     281: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
     284: aload         8
     286: monitorexit
     287: aload         10
     289: areturn
     290: astore        9
     292: getstatic     #72                 // Field LOG:Ljava/util/logging/Logger;
     295: getstatic     #73                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     298: ldc           #74                 // String Error renewing a token
     300: aload         9
     302: invokevirtual #75                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     305: ldc           #76                 // String security.issue.after.failed.renew
     307: aload_0
     308: iconst_1
     309: invokestatic  #6                  // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyBoolean:(Ljava/lang/String;Lorg/apache/cxf/message/Message;Z)Z
     312: istore        10
     314: iload         10
     316: ifeq          362
     319: aload_0
     320: aload_2
     321: invokestatic  #3                  // Method issueToken:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     324: astore        11
     326: aload         6
     328: aconst_null
     329: checkcast     #48                 // class org/apache/wss4j/policy/model/Trust10
     332: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     335: aload         6
     337: aconst_null
     338: checkcast     #50                 // class org/apache/wss4j/policy/model/Trust13
     341: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     344: aload         6
     346: aconst_null
     347: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
     350: aload         6
     352: aconst_null
     353: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
     356: aload         8
     358: monitorexit
     359: aload         11
     361: areturn
     362: aload         9
     364: athrow
     365: astore        9
     367: getstatic     #72                 // Field LOG:Ljava/util/logging/Logger;
     370: getstatic     #73                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     373: ldc           #74                 // String Error renewing a token
     375: aload         9
     377: invokevirtual #75                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     380: ldc           #76                 // String security.issue.after.failed.renew
     382: aload_0
     383: iconst_1
     384: invokestatic  #6                  // Method org/apache/cxf/rt/security/utils/SecurityUtils.getSecurityPropertyBoolean:(Ljava/lang/String;Lorg/apache/cxf/message/Message;Z)Z
     387: istore        10
     389: iload         10
     391: ifeq          437
     394: aload_0
     395: aload_2
     396: invokestatic  #3                  // Method issueToken:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     399: astore        11
     401: aload         6
     403: aconst_null
     404: checkcast     #48                 // class org/apache/wss4j/policy/model/Trust10
     407: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     410: aload         6
     412: aconst_null
     413: checkcast     #50                 // class org/apache/wss4j/policy/model/Trust13
     416: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     419: aload         6
     421: aconst_null
     422: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
     425: aload         6
     427: aconst_null
     428: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
     431: aload         8
     433: monitorexit
     434: aload         11
     436: areturn
     437: new           #55                 // class org/apache/cxf/interceptor/Fault
     440: dup
     441: aload         9
     443: invokespecial #56                 // Method org/apache/cxf/interceptor/Fault."<init>":(Ljava/lang/Throwable;)V
     446: athrow
     447: astore        12
     449: aload         6
     451: aconst_null
     452: checkcast     #48                 // class org/apache/wss4j/policy/model/Trust10
     455: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     458: aload         6
     460: aconst_null
     461: checkcast     #50                 // class org/apache/wss4j/policy/model/Trust13
     464: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
     467: aload         6
     469: aconst_null
     470: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
     473: aload         6
     475: aconst_null
     476: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
     479: aload         12
     481: athrow
     482: astore        13
     484: aload         8
     486: monitorexit
     487: aload         13
     489: athrow
    Exception table:
       from    to  target type
         185   254   290   Class java/lang/RuntimeException
         185   254   365   Class java/lang/Exception
         185   254   447   any
         290   326   447   any
         362   401   447   any
         437   449   447   any
         185   287   482   any
         290   359   482   any
         362   434   482   any
         437   487   482   any

  private static boolean isOneTimeUse(org.apache.cxf.ws.security.tokenstore.SecurityToken);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getToken:()Lorg/w3c/dom/Element;
       4: astore_1
       5: aload_1
       6: ifnull        90
       9: ldc           #77                 // String Assertion
      11: aload_1
      12: invokeinterface #78,  1           // InterfaceMethod org/w3c/dom/Element.getLocalName:()Ljava/lang/String;
      17: invokevirtual #79                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      20: ifeq          90
      23: ldc           #80                 // String urn:oasis:names:tc:SAML:2.0:assertion
      25: aload_1
      26: invokeinterface #81,  1           // InterfaceMethod org/w3c/dom/Element.getNamespaceURI:()Ljava/lang/String;
      31: invokevirtual #79                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      34: ifeq          90
      37: new           #82                 // class org/apache/wss4j/common/saml/SamlAssertionWrapper
      40: dup
      41: aload_1
      42: invokespecial #83                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper."<init>":(Lorg/w3c/dom/Element;)V
      45: astore_2
      46: aload_2
      47: invokevirtual #84                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getSaml2:()Lorg/opensaml/saml/saml2/core/Assertion;
      50: invokeinterface #85,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getConditions:()Lorg/opensaml/saml/saml2/core/Conditions;
      55: ifnull        77
      58: aload_2
      59: invokevirtual #84                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getSaml2:()Lorg/opensaml/saml/saml2/core/Assertion;
      62: invokeinterface #85,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getConditions:()Lorg/opensaml/saml/saml2/core/Conditions;
      67: invokeinterface #86,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Conditions.getOneTimeUse:()Lorg/opensaml/saml/saml2/core/OneTimeUse;
      72: ifnull        77
      75: iconst_1
      76: ireturn
      77: goto          90
      80: astore_2
      81: new           #55                 // class org/apache/cxf/interceptor/Fault
      84: dup
      85: aload_2
      86: invokespecial #56                 // Method org/apache/cxf/interceptor/Fault."<init>":(Ljava/lang/Throwable;)V
      89: athrow
      90: iconst_0
      91: ireturn
    Exception table:
       from    to  target type
          37    76    80   Class org/apache/wss4j/common/ext/WSSecurityException

  private static void mapSecurityProps(org.apache.cxf.message.Message, java.util.Map<java.lang.String, java.lang.Object>);
    Code:
       0: getstatic     #88                 // Field org/apache/cxf/ws/security/SecurityConstants.ALL_PROPERTIES:Ljava/util/Set;
       3: invokeinterface #89,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
       8: astore_2
       9: aload_2
      10: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          97
      18: aload_2
      19: invokeinterface #91,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      24: checkcast     #22                 // class java/lang/String
      27: astore_3
      28: aload_0
      29: new           #92                 // class java/lang/StringBuilder
      32: dup
      33: invokespecial #93                 // Method java/lang/StringBuilder."<init>":()V
      36: aload_3
      37: invokevirtual #94                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      40: ldc           #95                 // String .it
      42: invokevirtual #94                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #96                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: invokeinterface #20,  2           // InterfaceMethod org/apache/cxf/message/Message.getContextualProperty:(Ljava/lang/String;)Ljava/lang/Object;
      53: astore        4
      55: aload         4
      57: ifnonnull     69
      60: aload_0
      61: aload_3
      62: invokeinterface #20,  2           // InterfaceMethod org/apache/cxf/message/Message.getContextualProperty:(Ljava/lang/String;)Ljava/lang/Object;
      67: astore        4
      69: aload_1
      70: aload_3
      71: invokeinterface #97,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      76: ifne          94
      79: aload         4
      81: ifnull        94
      84: aload_1
      85: aload_3
      86: aload         4
      88: invokeinterface #98,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      93: pop
      94: goto          9
      97: return

  private static org.apache.cxf.ws.security.tokenstore.SecurityToken handleDelegation(org.apache.cxf.message.Message, org.w3c.dom.Element, org.w3c.dom.Element, java.lang.String, boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokestatic  #18                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
       4: astore        5
       6: aload_3
       7: astore        6
       9: iload         4
      11: ifeq          29
      14: aload         6
      16: ifnull        29
      19: ldc           #99                 // String
      21: aload         6
      23: invokevirtual #79                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      26: ifeq          34
      29: getstatic     #100                // Field ASSOCIATED_TOKEN:Ljava/lang/String;
      32: astore        6
      34: aload_1
      35: ifnull        117
      38: aload_1
      39: invokestatic  #101                // Method getIdFromToken:(Lorg/w3c/dom/Element;)Ljava/lang/String;
      42: astore        7
      44: aload         5
      46: aload         7
      48: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      53: astore        8
      55: aload         8
      57: ifnull        117
      60: aload         8
      62: invokevirtual #102                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getProperties:()Ljava/util/Map;
      65: astore        9
      67: aload         9
      69: ifnull        117
      72: aload         9
      74: aload         6
      76: invokeinterface #97,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      81: ifeq          117
      84: aload         9
      86: aload         6
      88: invokeinterface #103,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      93: checkcast     #22                 // class java/lang/String
      96: astore        10
      98: aload         5
     100: aload         10
     102: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     107: astore        11
     109: aload         11
     111: ifnull        117
     114: aload         11
     116: areturn
     117: aload_2
     118: ifnull        200
     121: aload_2
     122: invokestatic  #101                // Method getIdFromToken:(Lorg/w3c/dom/Element;)Ljava/lang/String;
     125: astore        7
     127: aload         5
     129: aload         7
     131: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     136: astore        8
     138: aload         8
     140: ifnull        200
     143: aload         8
     145: invokevirtual #102                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getProperties:()Ljava/util/Map;
     148: astore        9
     150: aload         9
     152: ifnull        200
     155: aload         9
     157: aload         6
     159: invokeinterface #97,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     164: ifeq          200
     167: aload         9
     169: aload         6
     171: invokeinterface #103,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     176: checkcast     #22                 // class java/lang/String
     179: astore        10
     181: aload         5
     183: aload         10
     185: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     190: astore        11
     192: aload         11
     194: ifnull        200
     197: aload         11
     199: areturn
     200: aconst_null
     201: areturn

  private static java.lang.String getIdFromToken(org.w3c.dom.Element);
    Code:
       0: aload_0
       1: ifnull        72
       4: aload_0
       5: ldc           #104                // String http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
       7: ldc           #105                // String Id
       9: invokeinterface #106,  3          // InterfaceMethod org/w3c/dom/Element.hasAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Z
      14: ifeq          28
      17: aload_0
      18: ldc           #104                // String http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
      20: ldc           #105                // String Id
      22: invokeinterface #107,  3          // InterfaceMethod org/w3c/dom/Element.getAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      27: areturn
      28: aload_0
      29: aconst_null
      30: ldc           #108                // String ID
      32: invokeinterface #106,  3          // InterfaceMethod org/w3c/dom/Element.hasAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Z
      37: ifeq          50
      40: aload_0
      41: aconst_null
      42: ldc           #108                // String ID
      44: invokeinterface #107,  3          // InterfaceMethod org/w3c/dom/Element.getAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      49: areturn
      50: aload_0
      51: aconst_null
      52: ldc           #109                // String AssertionID
      54: invokeinterface #106,  3          // InterfaceMethod org/w3c/dom/Element.hasAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Z
      59: ifeq          72
      62: aload_0
      63: aconst_null
      64: ldc           #109                // String AssertionID
      66: invokeinterface #107,  3          // InterfaceMethod org/w3c/dom/Element.getAttributeNS:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      71: areturn
      72: ldc           #99                 // String
      74: areturn

  private static void storeDelegationTokens(org.apache.cxf.message.Message, org.apache.cxf.ws.security.tokenstore.SecurityToken, org.w3c.dom.Element, org.w3c.dom.Element, java.lang.String, boolean) throws java.lang.Exception;
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_0
       6: invokestatic  #18                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
       9: astore        6
      11: aload         4
      13: astore        7
      15: iload         5
      17: ifeq          35
      20: aload         7
      22: ifnull        35
      25: ldc           #99                 // String
      27: aload         7
      29: invokevirtual #79                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      32: ifeq          40
      35: getstatic     #100                // Field ASSOCIATED_TOKEN:Ljava/lang/String;
      38: astore        7
      40: aload_2
      41: ifnull        134
      44: aload_2
      45: invokestatic  #101                // Method getIdFromToken:(Lorg/w3c/dom/Element;)Ljava/lang/String;
      48: astore        8
      50: aload         6
      52: aload         8
      54: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      59: astore        9
      61: aload         9
      63: ifnonnull     83
      66: new           #21                 // class org/apache/cxf/ws/security/tokenstore/SecurityToken
      69: dup
      70: aload         8
      72: invokespecial #110                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken."<init>":(Ljava/lang/String;)V
      75: astore        9
      77: aload         9
      79: aload_2
      80: invokevirtual #111                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setToken:(Lorg/w3c/dom/Element;)V
      83: aload         9
      85: invokevirtual #102                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getProperties:()Ljava/util/Map;
      88: astore        10
      90: aload         10
      92: ifnonnull     111
      95: new           #112                // class java/util/HashMap
      98: dup
      99: invokespecial #113                // Method java/util/HashMap."<init>":()V
     102: astore        10
     104: aload         9
     106: aload         10
     108: invokevirtual #114                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setProperties:(Ljava/util/Map;)V
     111: aload         10
     113: aload         7
     115: aload_1
     116: invokevirtual #17                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     119: invokeinterface #98,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     124: pop
     125: aload         6
     127: aload         9
     129: invokeinterface #19,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.add:(Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)V
     134: aload_3
     135: ifnull        228
     138: aload_3
     139: invokestatic  #101                // Method getIdFromToken:(Lorg/w3c/dom/Element;)Ljava/lang/String;
     142: astore        8
     144: aload         6
     146: aload         8
     148: invokeinterface #23,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
     153: astore        9
     155: aload         9
     157: ifnonnull     177
     160: new           #21                 // class org/apache/cxf/ws/security/tokenstore/SecurityToken
     163: dup
     164: aload         8
     166: invokespecial #110                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken."<init>":(Ljava/lang/String;)V
     169: astore        9
     171: aload         9
     173: aload_3
     174: invokevirtual #111                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setToken:(Lorg/w3c/dom/Element;)V
     177: aload         9
     179: invokevirtual #102                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getProperties:()Ljava/util/Map;
     182: astore        10
     184: aload         10
     186: ifnonnull     205
     189: new           #112                // class java/util/HashMap
     192: dup
     193: invokespecial #113                // Method java/util/HashMap."<init>":()V
     196: astore        10
     198: aload         9
     200: aload         10
     202: invokevirtual #114                // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setProperties:(Ljava/util/Map;)V
     205: aload         10
     207: aload         7
     209: aload_1
     210: invokevirtual #17                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     213: invokeinterface #98,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     218: pop
     219: aload         6
     221: aload         9
     223: invokeinterface #19,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.add:(Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)V
     228: return

  private static org.apache.cxf.ws.security.tokenstore.SecurityToken getTokenFromSTS(org.apache.cxf.message.Message, org.apache.cxf.ws.security.trust.STSClient, org.apache.cxf.ws.addressing.AddressingProperties, java.lang.String, org.apache.cxf.ws.security.trust.STSTokenRetriever$TokenRequestParams) throws java.lang.Exception;
    Code:
       0: aload_1
       1: aload         4
       3: invokevirtual #68                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getTrust10:()Lorg/apache/wss4j/policy/model/Trust10;
       6: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
       9: aload_1
      10: aload         4
      12: invokevirtual #69                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getTrust13:()Lorg/apache/wss4j/policy/model/Trust13;
      15: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setTrust:(Lorg/apache/wss4j/policy/model/Trust10;)V
      18: aload_1
      19: aload         4
      21: invokevirtual #70                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getTokenTemplate:()Lorg/w3c/dom/Element;
      24: invokevirtual #51                 // Method org/apache/cxf/ws/security/trust/STSClient.setTemplate:(Lorg/w3c/dom/Element;)V
      27: aload         4
      29: invokevirtual #115                // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getWspNamespace:()Ljava/lang/String;
      32: ifnull        44
      35: aload_1
      36: aload         4
      38: invokevirtual #115                // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getWspNamespace:()Ljava/lang/String;
      41: invokevirtual #116                // Method org/apache/cxf/ws/security/trust/STSClient.setWspNamespace:(Ljava/lang/String;)V
      44: aload_2
      45: ifnull        63
      48: aload_2
      49: invokevirtual #67                 // Method org/apache/cxf/ws/addressing/AddressingProperties.getNamespaceURI:()Ljava/lang/String;
      52: ifnull        63
      55: aload_1
      56: aload_2
      57: invokevirtual #67                 // Method org/apache/cxf/ws/addressing/AddressingProperties.getNamespaceURI:()Ljava/lang/String;
      60: invokevirtual #52                 // Method org/apache/cxf/ws/security/trust/STSClient.setAddressingNamespace:(Ljava/lang/String;)V
      63: aload         4
      65: invokevirtual #117                // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getClaims:()Lorg/w3c/dom/Element;
      68: ifnull        80
      71: aload_1
      72: aload         4
      74: invokevirtual #117                // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams.getClaims:()Lorg/w3c/dom/Element;
      77: invokevirtual #118                // Method org/apache/cxf/ws/security/trust/STSClient.setClaims:(Ljava/lang/Object;)V
      80: aload_1
      81: aload_3
      82: invokevirtual #119                // Method org/apache/cxf/ws/security/trust/STSClient.requestSecurityToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      85: areturn

  static {};
    Code:
       0: ldc_w         #120                // class org/apache/cxf/ws/security/trust/STSTokenRetriever
       3: invokestatic  #121                // Method org/apache/cxf/common/logging/LogUtils.getL7dLogger:(Ljava/lang/Class;)Ljava/util/logging/Logger;
       6: putstatic     #72                 // Field LOG:Ljava/util/logging/Logger;
       9: new           #92                 // class java/lang/StringBuilder
      12: dup
      13: invokespecial #93                 // Method java/lang/StringBuilder."<init>":()V
      16: ldc_w         #120                // class org/apache/cxf/ws/security/trust/STSTokenRetriever
      19: invokevirtual #122                // Method java/lang/Class.getName:()Ljava/lang/String;
      22: invokevirtual #94                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: ldc           #123                // String -
      27: invokevirtual #94                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #124                // String Associated_Token
      32: invokevirtual #94                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: invokevirtual #96                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      38: putstatic     #100                // Field ASSOCIATED_TOKEN:Ljava/lang/String;
      41: return
}
