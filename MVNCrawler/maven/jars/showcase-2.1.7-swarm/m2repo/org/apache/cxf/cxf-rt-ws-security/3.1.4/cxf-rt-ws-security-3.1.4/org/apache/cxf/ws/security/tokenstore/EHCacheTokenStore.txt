Compiled from "EHCacheTokenStore.java"
public class org.apache.cxf.ws.security.tokenstore.EHCacheTokenStore implements org.apache.cxf.ws.security.tokenstore.TokenStore,java.io.Closeable,org.apache.cxf.buslifecycle.BusLifeCycleListener {
  public static final long DEFAULT_TTL;

  public static final long MAX_TTL;

  private net.sf.ehcache.Ehcache cache;

  private org.apache.cxf.Bus bus;

  private net.sf.ehcache.CacheManager cacheManager;

  private long ttl;

  public org.apache.cxf.ws.security.tokenstore.EHCacheTokenStore(java.lang.String, org.apache.cxf.Bus, java.net.URL);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc2_w        #2                  // long 3600l
       8: putfield      #4                  // Field ttl:J
      11: aload_0
      12: aload_2
      13: putfield      #5                  // Field bus:Lorg/apache/cxf/Bus;
      16: aload_0
      17: getfield      #5                  // Field bus:Lorg/apache/cxf/Bus;
      20: ifnull        41
      23: aload_2
      24: ldc_w         #6                  // class org/apache/cxf/buslifecycle/BusLifeCycleManager
      27: invokeinterface #7,  2            // InterfaceMethod org/apache/cxf/Bus.getExtension:(Ljava/lang/Class;)Ljava/lang/Object;
      32: checkcast     #6                  // class org/apache/cxf/buslifecycle/BusLifeCycleManager
      35: aload_0
      36: invokeinterface #8,  2            // InterfaceMethod org/apache/cxf/buslifecycle/BusLifeCycleManager.registerLifeCycleListener:(Lorg/apache/cxf/buslifecycle/BusLifeCycleListener;)V
      41: aload_0
      42: aload_0
      43: getfield      #5                  // Field bus:Lorg/apache/cxf/Bus;
      46: aload_3
      47: invokestatic  #9                  // Method org/apache/cxf/ws/security/cache/EHCacheUtils.getCacheManager:(Lorg/apache/cxf/Bus;Ljava/net/URL;)Lnet/sf/ehcache/CacheManager;
      50: putfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
      53: aload_1
      54: aload_0
      55: getfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
      58: invokestatic  #11                 // Method org/apache/wss4j/common/cache/EHCacheManagerHolder.getCacheConfiguration:(Ljava/lang/String;Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/config/CacheConfiguration;
      61: iconst_0
      62: invokevirtual #12                 // Method net/sf/ehcache/config/CacheConfiguration.overflowToDisk:(Z)Lnet/sf/ehcache/config/CacheConfiguration;
      65: astore        4
      67: new           #13                 // class org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache
      70: dup
      71: aload         4
      73: invokespecial #14                 // Method org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache."<init>":(Lnet/sf/ehcache/config/CacheConfiguration;)V
      76: astore        5
      78: aload_0
      79: aload_0
      80: getfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
      83: aload         5
      85: invokevirtual #15                 // Method net/sf/ehcache/CacheManager.addCacheIfAbsent:(Lnet/sf/ehcache/Ehcache;)Lnet/sf/ehcache/Ehcache;
      88: putfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      91: aload_0
      92: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      95: dup
      96: astore        6
      98: monitorenter
      99: aload_0
     100: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
     103: invokeinterface #17,  1           // InterfaceMethod net/sf/ehcache/Ehcache.getStatus:()Lnet/sf/ehcache/Status;
     108: getstatic     #18                 // Field net/sf/ehcache/Status.STATUS_ALIVE:Lnet/sf/ehcache/Status;
     111: if_acmpeq     127
     114: aload_0
     115: aload_0
     116: getfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
     119: aload         5
     121: invokevirtual #15                 // Method net/sf/ehcache/CacheManager.addCacheIfAbsent:(Lnet/sf/ehcache/Ehcache;)Lnet/sf/ehcache/Ehcache;
     124: putfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
     127: aload_0
     128: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
     131: instanceof    #13                 // class org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache
     134: ifeq          148
     137: aload_0
     138: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
     141: checkcast     #13                 // class org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache
     144: invokevirtual #19                 // Method org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache.incrementAndGet:()I
     147: pop
     148: aload         6
     150: monitorexit
     151: goto          162
     154: astore        7
     156: aload         6
     158: monitorexit
     159: aload         7
     161: athrow
     162: aload_0
     163: aload         4
     165: invokevirtual #20                 // Method net/sf/ehcache/config/CacheConfiguration.getTimeToLiveSeconds:()J
     168: putfield      #4                  // Field ttl:J
     171: return
    Exception table:
       from    to  target type
          99   151   154   any
         154   159   154   any

  public void setTTL(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #4                  // Field ttl:J
       5: return

  public void add(org.apache.cxf.ws.security.tokenstore.SecurityToken);
    Code:
       0: aload_1
       1: ifnull        49
       4: aload_1
       5: invokevirtual #21                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
       8: invokestatic  #22                 // Method org/apache/cxf/common/util/StringUtils.isEmpty:(Ljava/lang/String;)Z
      11: ifne          49
      14: new           #23                 // class net/sf/ehcache/Element
      17: dup
      18: aload_1
      19: invokevirtual #21                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
      22: aload_1
      23: aload_0
      24: invokespecial #24                 // Method getTTL:()I
      27: aload_0
      28: invokespecial #24                 // Method getTTL:()I
      31: invokespecial #25                 // Method net/sf/ehcache/Element."<init>":(Ljava/lang/Object;Ljava/lang/Object;II)V
      34: astore_2
      35: aload_2
      36: invokevirtual #26                 // Method net/sf/ehcache/Element.resetAccessStatistics:()V
      39: aload_0
      40: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      43: aload_2
      44: invokeinterface #27,  2           // InterfaceMethod net/sf/ehcache/Ehcache.put:(Lnet/sf/ehcache/Element;)V
      49: return

  public void add(java.lang.String, org.apache.cxf.ws.security.tokenstore.SecurityToken);
    Code:
       0: aload_2
       1: ifnull        43
       4: aload_1
       5: invokestatic  #22                 // Method org/apache/cxf/common/util/StringUtils.isEmpty:(Ljava/lang/String;)Z
       8: ifne          43
      11: new           #23                 // class net/sf/ehcache/Element
      14: dup
      15: aload_1
      16: aload_2
      17: aload_0
      18: invokespecial #24                 // Method getTTL:()I
      21: aload_0
      22: invokespecial #24                 // Method getTTL:()I
      25: invokespecial #25                 // Method net/sf/ehcache/Element."<init>":(Ljava/lang/Object;Ljava/lang/Object;II)V
      28: astore_3
      29: aload_3
      30: invokevirtual #26                 // Method net/sf/ehcache/Element.resetAccessStatistics:()V
      33: aload_0
      34: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      37: aload_3
      38: invokeinterface #27,  2           // InterfaceMethod net/sf/ehcache/Ehcache.put:(Lnet/sf/ehcache/Element;)V
      43: return

  public void remove(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
       4: ifnull        38
       7: aload_1
       8: invokestatic  #22                 // Method org/apache/cxf/common/util/StringUtils.isEmpty:(Ljava/lang/String;)Z
      11: ifne          38
      14: aload_0
      15: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      18: aload_1
      19: invokeinterface #28,  2           // InterfaceMethod net/sf/ehcache/Ehcache.isKeyInCache:(Ljava/lang/Object;)Z
      24: ifeq          38
      27: aload_0
      28: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      31: aload_1
      32: invokeinterface #29,  2           // InterfaceMethod net/sf/ehcache/Ehcache.remove:(Ljava/io/Serializable;)Z
      37: pop
      38: return

  public java.util.Collection<java.lang.String> getTokenIdentifiers();
    Code:
       0: aload_0
       1: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
       4: ifnonnull     9
       7: aconst_null
       8: areturn
       9: aload_0
      10: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      13: invokeinterface #30,  1           // InterfaceMethod net/sf/ehcache/Ehcache.getKeysWithExpiryCheck:()Ljava/util/List;
      18: areturn

  public org.apache.cxf.ws.security.tokenstore.SecurityToken getToken(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
       4: ifnonnull     9
       7: aconst_null
       8: areturn
       9: aload_0
      10: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      13: aload_1
      14: invokeinterface #31,  2           // InterfaceMethod net/sf/ehcache/Ehcache.get:(Ljava/io/Serializable;)Lnet/sf/ehcache/Element;
      19: astore_2
      20: aload_2
      21: ifnull        45
      24: aload_0
      25: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      28: aload_2
      29: invokeinterface #32,  2           // InterfaceMethod net/sf/ehcache/Ehcache.isExpired:(Lnet/sf/ehcache/Element;)Z
      34: ifne          45
      37: aload_2
      38: invokevirtual #33                 // Method net/sf/ehcache/Element.getObjectValue:()Ljava/lang/Object;
      41: checkcast     #34                 // class org/apache/cxf/ws/security/tokenstore/SecurityToken
      44: areturn
      45: aconst_null
      46: areturn

  private int getTTL();
    Code:
       0: aload_0
       1: getfield      #4                  // Field ttl:J
       4: l2i
       5: istore_1
       6: aload_0
       7: getfield      #4                  // Field ttl:J
      10: iload_1
      11: i2l
      12: lcmp
      13: ifeq          20
      16: sipush        3600
      19: istore_1
      20: iload_1
      21: ireturn

  public void close();
    Code:
       0: aload_0
       1: getfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
       4: ifnull        115
       7: aload_0
       8: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      11: ifnull        70
      14: aload_0
      15: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      18: dup
      19: astore_1
      20: monitorenter
      21: aload_0
      22: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      25: instanceof    #13                 // class org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache
      28: ifeq          60
      31: aload_0
      32: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      35: checkcast     #13                 // class org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache
      38: invokevirtual #35                 // Method org/apache/cxf/ws/security/tokenstore/EHCacheTokenStore$RefCountCache.decrementAndGet:()I
      41: ifne          60
      44: aload_0
      45: getfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
      48: aload_0
      49: getfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      52: invokeinterface #36,  1           // InterfaceMethod net/sf/ehcache/Ehcache.getName:()Ljava/lang/String;
      57: invokevirtual #37                 // Method net/sf/ehcache/CacheManager.removeCache:(Ljava/lang/String;)V
      60: aload_1
      61: monitorexit
      62: goto          70
      65: astore_2
      66: aload_1
      67: monitorexit
      68: aload_2
      69: athrow
      70: aload_0
      71: getfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
      74: invokestatic  #38                 // Method org/apache/wss4j/common/cache/EHCacheManagerHolder.releaseCacheManger:(Lnet/sf/ehcache/CacheManager;)V
      77: aload_0
      78: aconst_null
      79: putfield      #10                 // Field cacheManager:Lnet/sf/ehcache/CacheManager;
      82: aload_0
      83: aconst_null
      84: putfield      #16                 // Field cache:Lnet/sf/ehcache/Ehcache;
      87: aload_0
      88: getfield      #5                  // Field bus:Lorg/apache/cxf/Bus;
      91: ifnull        115
      94: aload_0
      95: getfield      #5                  // Field bus:Lorg/apache/cxf/Bus;
      98: ldc_w         #6                  // class org/apache/cxf/buslifecycle/BusLifeCycleManager
     101: invokeinterface #7,  2            // InterfaceMethod org/apache/cxf/Bus.getExtension:(Ljava/lang/Class;)Ljava/lang/Object;
     106: checkcast     #6                  // class org/apache/cxf/buslifecycle/BusLifeCycleManager
     109: aload_0
     110: invokeinterface #39,  2           // InterfaceMethod org/apache/cxf/buslifecycle/BusLifeCycleManager.unregisterLifeCycleListener:(Lorg/apache/cxf/buslifecycle/BusLifeCycleListener;)V
     115: return
    Exception table:
       from    to  target type
          21    62    65   any
          65    68    65   any

  public void initComplete();
    Code:
       0: return

  public void preShutdown();
    Code:
       0: aload_0
       1: invokevirtual #40                 // Method close:()V
       4: return

  public void postShutdown();
    Code:
       0: aload_0
       1: invokevirtual #40                 // Method close:()V
       4: return
}
