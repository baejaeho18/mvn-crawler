Compiled from "STSTokenOutInterceptor.java"
public class org.apache.cxf.ws.security.policy.interceptors.STSTokenOutInterceptor extends org.apache.cxf.phase.AbstractPhaseInterceptor<org.apache.cxf.message.Message> {
  private static final java.util.logging.Logger LOG;

  private static final java.lang.String TOKEN_TYPE_SAML_2_0;

  private static final java.lang.String KEY_TYPE_X509;

  private static final java.lang.String WS_TRUST_NS;

  private static final javax.xml.namespace.QName STS_SERVICE_NAME;

  private static final javax.xml.namespace.QName X509_ENDPOINT;

  private static final javax.xml.namespace.QName TRANSPORT_ENDPOINT;

  private org.apache.cxf.ws.security.trust.STSClient stsClient;

  private org.apache.cxf.ws.security.trust.STSTokenRetriever$TokenRequestParams tokenParams;

  public org.apache.cxf.ws.security.policy.interceptors.STSTokenOutInterceptor(org.apache.cxf.ws.security.policy.interceptors.STSTokenOutInterceptor$AuthParams, java.lang.String, org.apache.cxf.Bus);
    Code:
       0: aload_0
       1: ldc           #3                  // String prepare-send
       3: invokespecial #4                  // Method org/apache/cxf/phase/AbstractPhaseInterceptor."<init>":(Ljava/lang/String;)V
       6: aload_0
       7: aload_0
       8: aload_1
       9: aload_2
      10: aload_3
      11: invokespecial #5                  // Method configureBasicSTSClient:(Lorg/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams;Ljava/lang/String;Lorg/apache/cxf/Bus;)Lorg/apache/cxf/ws/security/trust/STSClient;
      14: putfield      #6                  // Field stsClient:Lorg/apache/cxf/ws/security/trust/STSClient;
      17: aload_0
      18: new           #7                  // class org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams
      21: dup
      22: invokespecial #8                  // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams."<init>":()V
      25: putfield      #9                  // Field tokenParams:Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;
      28: return

  public org.apache.cxf.ws.security.policy.interceptors.STSTokenOutInterceptor(org.apache.cxf.ws.security.trust.STSClient);
    Code:
       0: aload_0
       1: ldc           #3                  // String prepare-send
       3: aload_1
       4: new           #7                  // class org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams
       7: dup
       8: invokespecial #8                  // Method org/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams."<init>":()V
      11: invokespecial #10                 // Method "<init>":(Ljava/lang/String;Lorg/apache/cxf/ws/security/trust/STSClient;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)V
      14: return

  public org.apache.cxf.ws.security.policy.interceptors.STSTokenOutInterceptor(org.apache.cxf.ws.security.trust.STSClient, org.apache.cxf.ws.security.trust.STSTokenRetriever$TokenRequestParams);
    Code:
       0: aload_0
       1: ldc           #3                  // String prepare-send
       3: aload_1
       4: aload_2
       5: invokespecial #10                 // Method "<init>":(Ljava/lang/String;Lorg/apache/cxf/ws/security/trust/STSClient;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)V
       8: return

  public org.apache.cxf.ws.security.policy.interceptors.STSTokenOutInterceptor(java.lang.String, org.apache.cxf.ws.security.trust.STSClient, org.apache.cxf.ws.security.trust.STSTokenRetriever$TokenRequestParams);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #4                  // Method org/apache/cxf/phase/AbstractPhaseInterceptor."<init>":(Ljava/lang/String;)V
       5: aload_0
       6: aload_2
       7: putfield      #6                  // Field stsClient:Lorg/apache/cxf/ws/security/trust/STSClient;
      10: aload_0
      11: aload_3
      12: putfield      #9                  // Field tokenParams:Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;
      15: return

  public void handleMessage(org.apache.cxf.message.Message) throws org.apache.cxf.interceptor.Fault;
    Code:
       0: aload_0
       1: getfield      #6                  // Field stsClient:Lorg/apache/cxf/ws/security/trust/STSClient;
       4: ifnull        20
       7: aload_1
       8: ldc           #11                 // String security.sts.client
      10: aload_0
      11: getfield      #6                  // Field stsClient:Lorg/apache/cxf/ws/security/trust/STSClient;
      14: invokeinterface #12,  3           // InterfaceMethod org/apache/cxf/message/Message.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      19: pop
      20: aload_1
      21: aload_0
      22: getfield      #9                  // Field tokenParams:Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;
      25: invokestatic  #13                 // Method org/apache/cxf/ws/security/trust/STSTokenRetriever.getToken:(Lorg/apache/cxf/message/Message;Lorg/apache/cxf/ws/security/trust/STSTokenRetriever$TokenRequestParams;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      28: astore_2
      29: aload_2
      30: ifnonnull     41
      33: getstatic     #14                 // Field LOG:Ljava/util/logging/Logger;
      36: ldc           #15                 // String Security token was not retrieved from STS
      38: invokevirtual #16                 // Method java/util/logging/Logger.warning:(Ljava/lang/String;)V
      41: return

  public org.apache.cxf.ws.security.trust.STSClient getSTSClient();
    Code:
       0: aload_0
       1: getfield      #6                  // Field stsClient:Lorg/apache/cxf/ws/security/trust/STSClient;
       4: areturn

  private org.apache.cxf.ws.security.trust.STSClient configureBasicSTSClient(org.apache.cxf.ws.security.policy.interceptors.STSTokenOutInterceptor$AuthParams, java.lang.String, org.apache.cxf.Bus);
    Code:
       0: new           #17                 // class org/apache/cxf/ws/security/trust/STSClient
       3: dup
       4: aload_3
       5: invokespecial #18                 // Method org/apache/cxf/ws/security/trust/STSClient."<init>":(Lorg/apache/cxf/Bus;)V
       8: astore        4
      10: aload         4
      12: aload_2
      13: invokevirtual #19                 // Method org/apache/cxf/ws/security/trust/STSClient.setWsdlLocation:(Ljava/lang/String;)V
      16: aload         4
      18: getstatic     #20                 // Field STS_SERVICE_NAME:Ljavax/xml/namespace/QName;
      21: invokevirtual #21                 // Method javax/xml/namespace/QName.toString:()Ljava/lang/String;
      24: invokevirtual #22                 // Method org/apache/cxf/ws/security/trust/STSClient.setServiceName:(Ljava/lang/String;)V
      27: aload         4
      29: aload_1
      30: invokevirtual #23                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getAuthMode:()Lorg/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthMode;
      33: invokestatic  #24                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthMode.access$200:(Lorg/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthMode;)Ljavax/xml/namespace/QName;
      36: invokevirtual #21                 // Method javax/xml/namespace/QName.toString:()Ljava/lang/String;
      39: invokevirtual #25                 // Method org/apache/cxf/ws/security/trust/STSClient.setEndpointName:(Ljava/lang/String;)V
      42: aload_1
      43: invokevirtual #23                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getAuthMode:()Lorg/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthMode;
      46: invokevirtual #26                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthMode.getKeyType:()Ljava/lang/String;
      49: ifnull        67
      52: aload         4
      54: aload_1
      55: invokevirtual #23                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getAuthMode:()Lorg/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthMode;
      58: invokevirtual #26                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthMode.getKeyType:()Ljava/lang/String;
      61: invokevirtual #27                 // Method org/apache/cxf/ws/security/trust/STSClient.setKeyType:(Ljava/lang/String;)V
      64: goto          73
      67: aload         4
      69: iconst_0
      70: invokevirtual #28                 // Method org/apache/cxf/ws/security/trust/STSClient.setSendKeyType:(Z)V
      73: aload         4
      75: ldc           #29                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0
      77: invokevirtual #30                 // Method org/apache/cxf/ws/security/trust/STSClient.setTokenType:(Ljava/lang/String;)V
      80: aload         4
      82: iconst_1
      83: invokevirtual #31                 // Method org/apache/cxf/ws/security/trust/STSClient.setAllowRenewingAfterExpiry:(Z)V
      86: aload         4
      88: iconst_1
      89: invokevirtual #32                 // Method org/apache/cxf/ws/security/trust/STSClient.setEnableLifetime:(Z)V
      92: new           #33                 // class java/util/HashMap
      95: dup
      96: invokespecial #34                 // Method java/util/HashMap."<init>":()V
      99: astore        5
     101: aload_1
     102: invokevirtual #35                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getUserName:()Ljava/lang/String;
     105: ifnull        122
     108: aload         5
     110: ldc           #36                 // String security.username
     112: aload_1
     113: invokevirtual #35                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getUserName:()Ljava/lang/String;
     116: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     121: pop
     122: aload         5
     124: ldc           #38                 // String security.callback-handler
     126: aload_1
     127: invokevirtual #39                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getCallbackHandler:()Ljava/lang/String;
     130: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     135: pop
     136: aload_1
     137: invokevirtual #40                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getKeystoreProperties:()Ljava/lang/String;
     140: ifnull        232
     143: aload_1
     144: invokevirtual #40                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getKeystoreProperties:()Ljava/lang/String;
     147: ifnull        232
     150: aload         5
     152: ldc           #41                 // String security.encryption.username
     154: aload_1
     155: invokevirtual #42                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getAlias:()Ljava/lang/String;
     158: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     163: pop
     164: aload         5
     166: ldc           #43                 // String security.encryption.properties
     168: aload_1
     169: invokevirtual #40                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getKeystoreProperties:()Ljava/lang/String;
     172: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     177: pop
     178: aload         5
     180: ldc           #44                 // String security.signature.properties
     182: aload_1
     183: invokevirtual #40                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getKeystoreProperties:()Ljava/lang/String;
     186: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     191: pop
     192: aload         5
     194: ldc           #45                 // String security.sts.token.username
     196: aload_1
     197: invokevirtual #42                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getAlias:()Ljava/lang/String;
     200: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     205: pop
     206: aload         5
     208: ldc           #46                 // String security.sts.token.properties
     210: aload_1
     211: invokevirtual #40                 // Method org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor$AuthParams.getKeystoreProperties:()Ljava/lang/String;
     214: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     219: pop
     220: aload         5
     222: ldc           #47                 // String security.sts.token.usecert
     224: ldc           #48                 // String true
     226: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     231: pop
     232: aload         4
     234: aload         5
     236: invokevirtual #49                 // Method org/apache/cxf/ws/security/trust/STSClient.setProperties:(Ljava/util/Map;)V
     239: aload         4
     241: areturn

  static javax.xml.namespace.QName access$000();
    Code:
       0: getstatic     #2                  // Field X509_ENDPOINT:Ljavax/xml/namespace/QName;
       3: areturn

  static javax.xml.namespace.QName access$100();
    Code:
       0: getstatic     #1                  // Field TRANSPORT_ENDPOINT:Ljavax/xml/namespace/QName;
       3: areturn

  static {};
    Code:
       0: ldc_w         #50                 // class org/apache/cxf/ws/security/policy/interceptors/STSTokenOutInterceptor
       3: invokestatic  #51                 // Method org/apache/cxf/common/logging/LogUtils.getL7dLogger:(Ljava/lang/Class;)Ljava/util/logging/Logger;
       6: putstatic     #14                 // Field LOG:Ljava/util/logging/Logger;
       9: new           #52                 // class javax/xml/namespace/QName
      12: dup
      13: ldc           #53                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/
      15: ldc           #54                 // String SecurityTokenService
      17: invokespecial #55                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      20: putstatic     #20                 // Field STS_SERVICE_NAME:Ljavax/xml/namespace/QName;
      23: new           #52                 // class javax/xml/namespace/QName
      26: dup
      27: ldc           #53                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/
      29: ldc           #56                 // String X509_Port
      31: invokespecial #55                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      34: putstatic     #2                  // Field X509_ENDPOINT:Ljavax/xml/namespace/QName;
      37: new           #52                 // class javax/xml/namespace/QName
      40: dup
      41: ldc           #53                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/
      43: ldc           #57                 // String Transport_Port
      45: invokespecial #55                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      48: putstatic     #1                  // Field TRANSPORT_ENDPOINT:Ljavax/xml/namespace/QName;
      51: return
}
