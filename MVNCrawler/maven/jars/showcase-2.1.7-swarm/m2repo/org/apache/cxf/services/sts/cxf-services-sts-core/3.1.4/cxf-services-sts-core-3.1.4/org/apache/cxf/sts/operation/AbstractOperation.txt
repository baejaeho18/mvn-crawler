Compiled from "AbstractOperation.java"
public abstract class org.apache.cxf.sts.operation.AbstractOperation {
  public static final javax.xml.namespace.QName TOKEN_TYPE;

  private static final java.util.logging.Logger LOG;

  protected org.apache.cxf.sts.STSPropertiesMBean stsProperties;

  protected boolean encryptIssuedToken;

  protected java.util.List<org.apache.cxf.sts.service.ServiceMBean> services;

  protected java.util.List<org.apache.cxf.sts.token.provider.TokenProvider> tokenProviders;

  protected java.util.List<org.apache.cxf.sts.token.validator.TokenValidator> tokenValidators;

  protected boolean returnReferences;

  protected org.apache.cxf.ws.security.tokenstore.TokenStore tokenStore;

  protected org.apache.cxf.sts.claims.ClaimsManager claimsManager;

  protected org.apache.cxf.sts.event.STSEventListener eventPublisher;

  protected java.util.List<org.apache.cxf.sts.token.delegation.TokenDelegationHandler> delegationHandlers;

  public org.apache.cxf.sts.operation.AbstractOperation();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/ArrayList
       8: dup
       9: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      12: putfield      #4                  // Field tokenProviders:Ljava/util/List;
      15: aload_0
      16: new           #2                  // class java/util/ArrayList
      19: dup
      20: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      23: putfield      #5                  // Field tokenValidators:Ljava/util/List;
      26: aload_0
      27: iconst_1
      28: putfield      #6                  // Field returnReferences:Z
      31: aload_0
      32: new           #7                  // class org/apache/cxf/sts/claims/ClaimsManager
      35: dup
      36: invokespecial #8                  // Method org/apache/cxf/sts/claims/ClaimsManager."<init>":()V
      39: putfield      #9                  // Field claimsManager:Lorg/apache/cxf/sts/claims/ClaimsManager;
      42: aload_0
      43: new           #2                  // class java/util/ArrayList
      46: dup
      47: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      50: putfield      #10                 // Field delegationHandlers:Ljava/util/List;
      53: return

  public boolean isReturnReferences();
    Code:
       0: aload_0
       1: getfield      #6                  // Field returnReferences:Z
       4: ireturn

  public void setReturnReferences(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #6                  // Field returnReferences:Z
       5: return

  public org.apache.cxf.ws.security.tokenstore.TokenStore getTokenStore();
    Code:
       0: aload_0
       1: getfield      #11                 // Field tokenStore:Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
       4: areturn

  public void setTokenStore(org.apache.cxf.ws.security.tokenstore.TokenStore);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #11                 // Field tokenStore:Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
       5: return

  public void setStsProperties(org.apache.cxf.sts.STSPropertiesMBean);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
       5: return

  public void setEncryptIssuedToken(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #13                 // Field encryptIssuedToken:Z
       5: return

  public void setServices(java.util.List<org.apache.cxf.sts.service.ServiceMBean>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #14                 // Field services:Ljava/util/List;
       5: return

  public void setTokenProviders(java.util.List<org.apache.cxf.sts.token.provider.TokenProvider>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field tokenProviders:Ljava/util/List;
       5: return

  public java.util.List<org.apache.cxf.sts.token.delegation.TokenDelegationHandler> getDelegationHandlers();
    Code:
       0: aload_0
       1: getfield      #10                 // Field delegationHandlers:Ljava/util/List;
       4: areturn

  public void setDelegationHandlers(java.util.List<org.apache.cxf.sts.token.delegation.TokenDelegationHandler>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #10                 // Field delegationHandlers:Ljava/util/List;
       5: return

  public java.util.List<org.apache.cxf.sts.token.provider.TokenProvider> getTokenProviders();
    Code:
       0: aload_0
       1: getfield      #4                  // Field tokenProviders:Ljava/util/List;
       4: areturn

  public void setTokenValidators(java.util.List<org.apache.cxf.sts.token.validator.TokenValidator>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field tokenValidators:Ljava/util/List;
       5: return

  public java.util.List<org.apache.cxf.sts.token.validator.TokenValidator> getTokenValidators();
    Code:
       0: aload_0
       1: getfield      #5                  // Field tokenValidators:Ljava/util/List;
       4: areturn

  public org.apache.cxf.sts.claims.ClaimsManager getClaimsManager();
    Code:
       0: aload_0
       1: getfield      #9                  // Field claimsManager:Lorg/apache/cxf/sts/claims/ClaimsManager;
       4: areturn

  public void setClaimsManager(org.apache.cxf.sts.claims.ClaimsManager);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #9                  // Field claimsManager:Lorg/apache/cxf/sts/claims/ClaimsManager;
       5: return

  protected org.apache.cxf.sts.request.RequestRequirements parseRequest(org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenType, javax.xml.ws.WebServiceContext);
    Code:
       0: aload_2
       1: ifnull        13
       4: aload_2
       5: invokeinterface #15,  1           // InterfaceMethod javax/xml/ws/WebServiceContext.getMessageContext:()Ljavax/xml/ws/handler/MessageContext;
      10: ifnonnull     23
      13: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
      16: dup
      17: ldc           #17                 // String No message context found
      19: invokespecial #18                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: aload_0
      24: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      27: ifnonnull     40
      30: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
      33: dup
      34: ldc           #19                 // String No STSProperties object found
      36: invokespecial #18                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;)V
      39: athrow
      40: aload_0
      41: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      44: invokeinterface #20,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.configureProperties:()V
      49: new           #21                 // class org/apache/cxf/sts/request/RequestParser
      52: dup
      53: invokespecial #22                 // Method org/apache/cxf/sts/request/RequestParser."<init>":()V
      56: astore_3
      57: aload_3
      58: aload_1
      59: aload_2
      60: aload_0
      61: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      64: aload_0
      65: getfield      #9                  // Field claimsManager:Lorg/apache/cxf/sts/claims/ClaimsManager;
      68: invokevirtual #23                 // Method org/apache/cxf/sts/claims/ClaimsManager.getClaimParsers:()Ljava/util/List;
      71: invokevirtual #24                 // Method org/apache/cxf/sts/request/RequestParser.parseRequest:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenType;Ljavax/xml/ws/WebServiceContext;Lorg/apache/cxf/sts/STSPropertiesMBean;Ljava/util/List;)Lorg/apache/cxf/sts/request/RequestRequirements;
      74: areturn

  protected static org.apache.cxf.ws.security.sts.provider.model.RequestedReferenceType createRequestedReference(org.apache.cxf.sts.token.provider.TokenReference, boolean);
    Code:
       0: getstatic     #25                 // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
       3: invokevirtual #26                 // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedReferenceType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;
       6: astore_2
       7: getstatic     #27                 // Field org/apache/cxf/sts/QNameConstants.WSSE_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory;
      10: invokevirtual #28                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory.createSecurityTokenReferenceType:()Lorg/apache/cxf/ws/security/sts/provider/model/secext/SecurityTokenReferenceType;
      13: astore_3
      14: aload_0
      15: invokevirtual #29                 // Method org/apache/cxf/sts/token/provider/TokenReference.getWsse11TokenType:()Ljava/lang/String;
      18: astore        4
      20: aload         4
      22: ifnull        40
      25: aload_3
      26: invokevirtual #30                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/SecurityTokenReferenceType.getOtherAttributes:()Ljava/util/Map;
      29: getstatic     #31                 // Field TOKEN_TYPE:Ljavax/xml/namespace/QName;
      32: aload         4
      34: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      39: pop
      40: aload_0
      41: invokevirtual #33                 // Method org/apache/cxf/sts/token/provider/TokenReference.isUseKeyIdentifier:()Z
      44: ifeq          114
      47: aload_0
      48: invokevirtual #34                 // Method org/apache/cxf/sts/token/provider/TokenReference.getIdentifier:()Ljava/lang/String;
      51: invokestatic  #35                 // Method org/apache/wss4j/common/util/XMLUtils.getIDFromReference:(Ljava/lang/String;)Ljava/lang/String;
      54: astore        5
      56: getstatic     #27                 // Field org/apache/cxf/sts/QNameConstants.WSSE_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory;
      59: invokevirtual #36                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory.createKeyIdentifierType:()Lorg/apache/cxf/ws/security/sts/provider/model/secext/KeyIdentifierType;
      62: astore        6
      64: aload         6
      66: aload         5
      68: invokevirtual #37                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/KeyIdentifierType.setValue:(Ljava/lang/String;)V
      71: aload_0
      72: invokevirtual #38                 // Method org/apache/cxf/sts/token/provider/TokenReference.getWsseValueType:()Ljava/lang/String;
      75: astore        7
      77: aload         7
      79: ifnull        89
      82: aload         6
      84: aload         7
      86: invokevirtual #39                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/KeyIdentifierType.setValueType:(Ljava/lang/String;)V
      89: getstatic     #27                 // Field org/apache/cxf/sts/QNameConstants.WSSE_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory;
      92: aload         6
      94: invokevirtual #40                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory.createKeyIdentifier:(Lorg/apache/cxf/ws/security/sts/provider/model/secext/KeyIdentifierType;)Ljavax/xml/bind/JAXBElement;
      97: astore        8
      99: aload_3
     100: invokevirtual #41                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/SecurityTokenReferenceType.getAny:()Ljava/util/List;
     103: aload         8
     105: invokeinterface #42,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     110: pop
     111: goto          245
     114: aload_0
     115: invokevirtual #43                 // Method org/apache/cxf/sts/token/provider/TokenReference.isUseDirectReference:()Z
     118: ifeq          245
     121: aload_0
     122: invokevirtual #34                 // Method org/apache/cxf/sts/token/provider/TokenReference.getIdentifier:()Ljava/lang/String;
     125: astore        5
     127: iload_1
     128: ifeq          167
     131: aload         5
     133: iconst_0
     134: invokevirtual #44                 // Method java/lang/String.charAt:(I)C
     137: bipush        35
     139: if_icmpeq     167
     142: new           #45                 // class java/lang/StringBuilder
     145: dup
     146: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     149: ldc           #47                 // String #
     151: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     154: aload         5
     156: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     159: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     162: astore        5
     164: goto          190
     167: iload_1
     168: ifne          190
     171: aload         5
     173: iconst_0
     174: invokevirtual #44                 // Method java/lang/String.charAt:(I)C
     177: bipush        35
     179: if_icmpne     190
     182: aload         5
     184: iconst_1
     185: invokevirtual #50                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     188: astore        5
     190: getstatic     #27                 // Field org/apache/cxf/sts/QNameConstants.WSSE_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory;
     193: invokevirtual #51                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory.createReferenceType:()Lorg/apache/cxf/ws/security/sts/provider/model/secext/ReferenceType;
     196: astore        6
     198: aload         6
     200: aload         5
     202: invokevirtual #52                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/ReferenceType.setURI:(Ljava/lang/String;)V
     205: aload_0
     206: invokevirtual #38                 // Method org/apache/cxf/sts/token/provider/TokenReference.getWsseValueType:()Ljava/lang/String;
     209: astore        7
     211: aload         7
     213: ifnull        223
     216: aload         6
     218: aload         7
     220: invokevirtual #53                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/ReferenceType.setValueType:(Ljava/lang/String;)V
     223: getstatic     #27                 // Field org/apache/cxf/sts/QNameConstants.WSSE_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory;
     226: aload         6
     228: invokevirtual #54                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/ObjectFactory.createReference:(Lorg/apache/cxf/ws/security/sts/provider/model/secext/ReferenceType;)Ljavax/xml/bind/JAXBElement;
     231: astore        8
     233: aload_3
     234: invokevirtual #41                 // Method org/apache/cxf/ws/security/sts/provider/model/secext/SecurityTokenReferenceType.getAny:()Ljava/util/List;
     237: aload         8
     239: invokeinterface #42,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     244: pop
     245: aload_2
     246: aload_3
     247: invokevirtual #55                 // Method org/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType.setSecurityTokenReference:(Lorg/apache/cxf/ws/security/sts/provider/model/secext/SecurityTokenReferenceType;)V
     250: aload_2
     251: areturn

  protected static org.apache.cxf.ws.security.sts.provider.model.RequestedReferenceType createRequestedReference(java.lang.String, java.lang.String, boolean);
    Code:
       0: new           #56                 // class org/apache/cxf/sts/token/provider/TokenReference
       3: dup
       4: invokespecial #57                 // Method org/apache/cxf/sts/token/provider/TokenReference."<init>":()V
       7: astore_3
       8: aload_3
       9: aload_0
      10: invokevirtual #58                 // Method org/apache/cxf/sts/token/provider/TokenReference.setIdentifier:(Ljava/lang/String;)V
      13: ldc           #59                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1
      15: aload_1
      16: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      19: ifne          31
      22: ldc           #61                 // String urn:oasis:names:tc:SAML:1.0:assertion
      24: aload_1
      25: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      28: ifeq          51
      31: aload_3
      32: ldc           #59                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1
      34: invokevirtual #62                 // Method org/apache/cxf/sts/token/provider/TokenReference.setWsse11TokenType:(Ljava/lang/String;)V
      37: aload_3
      38: iconst_1
      39: invokevirtual #63                 // Method org/apache/cxf/sts/token/provider/TokenReference.setUseKeyIdentifier:(Z)V
      42: aload_3
      43: ldc           #64                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.0#SAMLAssertionID
      45: invokevirtual #65                 // Method org/apache/cxf/sts/token/provider/TokenReference.setWsseValueType:(Ljava/lang/String;)V
      48: goto          99
      51: ldc           #66                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0
      53: aload_1
      54: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      57: ifne          69
      60: ldc           #67                 // String urn:oasis:names:tc:SAML:2.0:assertion
      62: aload_1
      63: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      66: ifeq          89
      69: aload_3
      70: ldc           #66                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0
      72: invokevirtual #62                 // Method org/apache/cxf/sts/token/provider/TokenReference.setWsse11TokenType:(Ljava/lang/String;)V
      75: aload_3
      76: iconst_1
      77: invokevirtual #63                 // Method org/apache/cxf/sts/token/provider/TokenReference.setUseKeyIdentifier:(Z)V
      80: aload_3
      81: ldc           #68                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID
      83: invokevirtual #65                 // Method org/apache/cxf/sts/token/provider/TokenReference.setWsseValueType:(Ljava/lang/String;)V
      86: goto          99
      89: aload_3
      90: iconst_1
      91: invokevirtual #69                 // Method org/apache/cxf/sts/token/provider/TokenReference.setUseDirectReference:(Z)V
      94: aload_3
      95: aload_1
      96: invokevirtual #65                 // Method org/apache/cxf/sts/token/provider/TokenReference.setWsseValueType:(Ljava/lang/String;)V
      99: aload_3
     100: iload_2
     101: invokestatic  #70                 // Method createRequestedReference:(Lorg/apache/cxf/sts/token/provider/TokenReference;Z)Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;
     104: areturn

  protected static org.apache.cxf.ws.security.sts.provider.model.LifetimeType createLifetime(java.util.Date, java.util.Date);
    Code:
       0: getstatic     #71                 // Field org/apache/cxf/sts/QNameConstants.UTIL_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/utility/ObjectFactory;
       3: invokevirtual #72                 // Method org/apache/cxf/ws/security/sts/provider/model/utility/ObjectFactory.createAttributedDateTime:()Lorg/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime;
       6: astore_2
       7: getstatic     #71                 // Field org/apache/cxf/sts/QNameConstants.UTIL_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/utility/ObjectFactory;
      10: invokevirtual #72                 // Method org/apache/cxf/ws/security/sts/provider/model/utility/ObjectFactory.createAttributedDateTime:()Lorg/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime;
      13: astore_3
      14: aload_0
      15: astore        4
      17: aload         4
      19: ifnonnull     31
      22: new           #73                 // class java/util/Date
      25: dup
      26: invokespecial #74                 // Method java/util/Date."<init>":()V
      29: astore        4
      31: aload_1
      32: astore        5
      34: aload         5
      36: ifnonnull     70
      39: new           #73                 // class java/util/Date
      42: dup
      43: invokespecial #74                 // Method java/util/Date."<init>":()V
      46: astore        5
      48: ldc2_w        #75                 // long 300l
      51: lstore        6
      53: aload         5
      55: aload         4
      57: invokevirtual #77                 // Method java/util/Date.getTime:()J
      60: lload         6
      62: ldc2_w        #78                 // long 1000l
      65: lmul
      66: ladd
      67: invokevirtual #80                 // Method java/util/Date.setTime:(J)V
      70: new           #81                 // class org/apache/wss4j/dom/util/XmlSchemaDateFormat
      73: dup
      74: invokespecial #82                 // Method org/apache/wss4j/dom/util/XmlSchemaDateFormat."<init>":()V
      77: astore        6
      79: aload_2
      80: aload         6
      82: aload         4
      84: invokevirtual #83                 // Method org/apache/wss4j/dom/util/XmlSchemaDateFormat.format:(Ljava/util/Date;)Ljava/lang/String;
      87: invokevirtual #84                 // Method org/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime.setValue:(Ljava/lang/String;)V
      90: aload_3
      91: aload         6
      93: aload         5
      95: invokevirtual #83                 // Method org/apache/wss4j/dom/util/XmlSchemaDateFormat.format:(Ljava/util/Date;)Ljava/lang/String;
      98: invokevirtual #84                 // Method org/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime.setValue:(Ljava/lang/String;)V
     101: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     104: getstatic     #86                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     107: invokevirtual #87                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     110: ifeq          169
     113: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     116: new           #45                 // class java/lang/StringBuilder
     119: dup
     120: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     123: ldc           #88                 // String Token lifetime creation:
     125: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload_2
     129: invokevirtual #89                 // Method org/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime.getValue:()Ljava/lang/String;
     132: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     138: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     141: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     144: new           #45                 // class java/lang/StringBuilder
     147: dup
     148: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     151: ldc           #91                 // String Token lifetime expiration:
     153: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     156: aload_3
     157: invokevirtual #89                 // Method org/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime.getValue:()Ljava/lang/String;
     160: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     163: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     166: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     169: getstatic     #25                 // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     172: invokevirtual #92                 // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createLifetimeType:()Lorg/apache/cxf/ws/security/sts/provider/model/LifetimeType;
     175: astore        7
     177: aload         7
     179: aload_2
     180: invokevirtual #93                 // Method org/apache/cxf/ws/security/sts/provider/model/LifetimeType.setCreated:(Lorg/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime;)V
     183: aload         7
     185: aload_3
     186: invokevirtual #94                 // Method org/apache/cxf/ws/security/sts/provider/model/LifetimeType.setExpires:(Lorg/apache/cxf/ws/security/sts/provider/model/utility/AttributedDateTime;)V
     189: aload         7
     191: areturn

  protected org.w3c.dom.Element encryptToken(org.w3c.dom.Element, java.lang.String, org.apache.cxf.sts.service.EncryptionProperties, org.apache.cxf.sts.request.KeyRequirements, javax.xml.ws.WebServiceContext) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: aload_3
       1: invokevirtual #95                 // Method org/apache/cxf/sts/service/EncryptionProperties.getEncryptionName:()Ljava/lang/String;
       4: astore        6
       6: aload         6
       8: ifnonnull     22
      11: aload_0
      12: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      15: invokeinterface #96,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getEncryptionUsername:()Ljava/lang/String;
      20: astore        6
      22: aload         6
      24: ifnonnull     37
      27: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      30: ldc           #97                 // String No encryption alias is configured
      32: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      35: aload_1
      36: areturn
      37: aload         4
      39: invokevirtual #98                 // Method org/apache/cxf/sts/request/KeyRequirements.getEncryptionAlgorithm:()Ljava/lang/String;
      42: astore        7
      44: aload         7
      46: ifnonnull     58
      49: aload_3
      50: invokevirtual #99                 // Method org/apache/cxf/sts/service/EncryptionProperties.getEncryptionAlgorithm:()Ljava/lang/String;
      53: astore        7
      55: goto          120
      58: aload_3
      59: invokevirtual #100                // Method org/apache/cxf/sts/service/EncryptionProperties.getAcceptedEncryptionAlgorithms:()Ljava/util/List;
      62: astore        8
      64: aload         8
      66: aload         7
      68: invokeinterface #101,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      73: ifne          120
      76: aload_3
      77: invokevirtual #99                 // Method org/apache/cxf/sts/service/EncryptionProperties.getEncryptionAlgorithm:()Ljava/lang/String;
      80: astore        7
      82: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      85: getstatic     #86                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
      88: invokevirtual #87                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      91: ifeq          120
      94: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      97: new           #45                 // class java/lang/StringBuilder
     100: dup
     101: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     104: ldc           #102                // String EncryptionAlgorithm not supported, defaulting to:
     106: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: aload         7
     111: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     117: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     120: aload         4
     122: invokevirtual #103                // Method org/apache/cxf/sts/request/KeyRequirements.getKeywrapAlgorithm:()Ljava/lang/String;
     125: astore        8
     127: aload         8
     129: ifnonnull     141
     132: aload_3
     133: invokevirtual #104                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyWrapAlgorithm:()Ljava/lang/String;
     136: astore        8
     138: goto          203
     141: aload_3
     142: invokevirtual #105                // Method org/apache/cxf/sts/service/EncryptionProperties.getAcceptedKeyWrapAlgorithms:()Ljava/util/List;
     145: astore        9
     147: aload         9
     149: aload         8
     151: invokeinterface #101,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     156: ifne          203
     159: aload_3
     160: invokevirtual #104                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyWrapAlgorithm:()Ljava/lang/String;
     163: astore        8
     165: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     168: getstatic     #86                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     171: invokevirtual #87                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     174: ifeq          203
     177: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     180: new           #45                 // class java/lang/StringBuilder
     183: dup
     184: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     187: ldc           #106                // String KeyWrapAlgorithm not supported, defaulting to:
     189: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     192: aload         8
     194: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     197: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     200: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     203: new           #107                // class org/apache/wss4j/dom/message/WSSecEncrypt
     206: dup
     207: invokespecial #108                // Method org/apache/wss4j/dom/message/WSSecEncrypt."<init>":()V
     210: astore        9
     212: ldc           #109                // String useReqSigCert
     214: aload         6
     216: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     219: ifeq          245
     222: aload_0
     223: aload         5
     225: invokeinterface #15,  1           // InterfaceMethod javax/xml/ws/WebServiceContext.getMessageContext:()Ljavax/xml/ws/handler/MessageContext;
     230: invokespecial #110                // Method getReqSigCert:(Ljavax/xml/ws/handler/MessageContext;)Ljava/security/cert/X509Certificate;
     233: astore        10
     235: aload         9
     237: aload         10
     239: invokevirtual #111                // Method org/apache/wss4j/dom/message/WSSecEncrypt.setUseThisCert:(Ljava/security/cert/X509Certificate;)V
     242: goto          252
     245: aload         9
     247: aload         6
     249: invokevirtual #112                // Method org/apache/wss4j/dom/message/WSSecEncrypt.setUserInfo:(Ljava/lang/String;)V
     252: aload         9
     254: aload_3
     255: invokevirtual #113                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyIdentifierType:()I
     258: invokevirtual #114                // Method org/apache/wss4j/dom/message/WSSecEncrypt.setKeyIdentifierType:(I)V
     261: aload         9
     263: aload         7
     265: invokevirtual #115                // Method org/apache/wss4j/dom/message/WSSecEncrypt.setSymmetricEncAlgorithm:(Ljava/lang/String;)V
     268: aload         9
     270: aload         8
     272: invokevirtual #116                // Method org/apache/wss4j/dom/message/WSSecEncrypt.setKeyEncAlgo:(Ljava/lang/String;)V
     275: aload         9
     277: iconst_1
     278: invokevirtual #117                // Method org/apache/wss4j/dom/message/WSSecEncrypt.setEmbedEncryptedKey:(Z)V
     281: new           #118                // class org/apache/wss4j/common/WSEncryptionPart
     284: dup
     285: aload_2
     286: ldc           #119                // String Element
     288: invokespecial #120                // Method org/apache/wss4j/common/WSEncryptionPart."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     291: astore        10
     293: aload         10
     295: aload_1
     296: invokevirtual #121                // Method org/apache/wss4j/common/WSEncryptionPart.setElement:(Lorg/w3c/dom/Element;)V
     299: aload_1
     300: invokeinterface #122,  1          // InterfaceMethod org/w3c/dom/Element.getOwnerDocument:()Lorg/w3c/dom/Document;
     305: astore        11
     307: aload         11
     309: aload_1
     310: invokeinterface #123,  2          // InterfaceMethod org/w3c/dom/Document.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
     315: pop
     316: aload         9
     318: aload_1
     319: invokeinterface #122,  1          // InterfaceMethod org/w3c/dom/Element.getOwnerDocument:()Lorg/w3c/dom/Document;
     324: aload_0
     325: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
     328: invokeinterface #124,  1          // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getEncryptionCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     333: invokevirtual #125                // Method org/apache/wss4j/dom/message/WSSecEncrypt.prepare:(Lorg/w3c/dom/Document;Lorg/apache/wss4j/common/crypto/Crypto;)V
     336: aload         9
     338: aconst_null
     339: aload         10
     341: invokestatic  #126                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     344: invokevirtual #127                // Method org/apache/wss4j/dom/message/WSSecEncrypt.encryptForRef:(Lorg/w3c/dom/Element;Ljava/util/List;)Lorg/w3c/dom/Element;
     347: pop
     348: aload         11
     350: invokeinterface #128,  1          // InterfaceMethod org/w3c/dom/Document.getDocumentElement:()Lorg/w3c/dom/Element;
     355: areturn

  protected org.w3c.dom.Element encryptSecret(byte[], org.apache.cxf.sts.service.EncryptionProperties, org.apache.cxf.sts.request.KeyRequirements) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: aload_2
       1: invokevirtual #95                 // Method org/apache/cxf/sts/service/EncryptionProperties.getEncryptionName:()Ljava/lang/String;
       4: astore        4
       6: aload         4
       8: ifnonnull     22
      11: aload_0
      12: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      15: invokeinterface #96,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getEncryptionUsername:()Ljava/lang/String;
      20: astore        4
      22: aload         4
      24: ifnonnull     40
      27: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
      30: dup
      31: ldc           #97                 // String No encryption alias is configured
      33: getstatic     #129                // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
      36: invokespecial #130                // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
      39: athrow
      40: aload_3
      41: invokevirtual #103                // Method org/apache/cxf/sts/request/KeyRequirements.getKeywrapAlgorithm:()Ljava/lang/String;
      44: astore        5
      46: aload         5
      48: ifnonnull     60
      51: aload_2
      52: invokevirtual #104                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyWrapAlgorithm:()Ljava/lang/String;
      55: astore        5
      57: goto          122
      60: aload_2
      61: invokevirtual #105                // Method org/apache/cxf/sts/service/EncryptionProperties.getAcceptedKeyWrapAlgorithms:()Ljava/util/List;
      64: astore        6
      66: aload         6
      68: aload         5
      70: invokeinterface #101,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      75: ifne          122
      78: aload_2
      79: invokevirtual #104                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyWrapAlgorithm:()Ljava/lang/String;
      82: astore        5
      84: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      87: getstatic     #86                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
      90: invokevirtual #87                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      93: ifeq          122
      96: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      99: new           #45                 // class java/lang/StringBuilder
     102: dup
     103: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     106: ldc           #106                // String KeyWrapAlgorithm not supported, defaulting to:
     108: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     111: aload         5
     113: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     122: new           #131                // class org/apache/wss4j/dom/message/WSSecEncryptedKey
     125: dup
     126: invokespecial #132                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey."<init>":()V
     129: astore        6
     131: aload         6
     133: aload         4
     135: invokevirtual #133                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setUserInfo:(Ljava/lang/String;)V
     138: aload         6
     140: aload_2
     141: invokevirtual #113                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyIdentifierType:()I
     144: invokevirtual #134                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setKeyIdentifierType:(I)V
     147: aload         6
     149: aload_1
     150: invokevirtual #135                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setEphemeralKey:([B)V
     153: aload         6
     155: aload         5
     157: invokevirtual #136                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setKeyEncAlgo:(Ljava/lang/String;)V
     160: invokestatic  #137                // Method org/apache/cxf/helpers/DOMUtils.createDocument:()Lorg/w3c/dom/Document;
     163: astore        7
     165: aload         6
     167: aload         7
     169: aload_0
     170: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
     173: invokeinterface #124,  1          // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getEncryptionCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     178: invokevirtual #138                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.prepare:(Lorg/w3c/dom/Document;Lorg/apache/wss4j/common/crypto/Crypto;)V
     181: aload         6
     183: invokevirtual #139                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.getEncryptedKeyElement:()Lorg/w3c/dom/Element;
     186: areturn

  protected java.lang.String extractAddressFromAppliesTo(org.w3c.dom.Element);
    Code:
       0: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
       3: ldc           #140                // String Parsing AppliesTo element
       5: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
       8: aload_1
       9: ifnull        105
      12: aload_1
      13: ldc           #141                // String http://www.w3.org/2005/08/addressing
      15: ldc           #142                // String EndpointReference
      17: invokestatic  #143                // Method org/apache/cxf/helpers/DOMUtils.getFirstChildWithName:(Lorg/w3c/dom/Element;Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
      20: astore_2
      21: aload_2
      22: ifnull        64
      25: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      28: ldc           #144                // String Found EndpointReference element
      30: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      33: aload_2
      34: ldc           #141                // String http://www.w3.org/2005/08/addressing
      36: ldc           #145                // String Address
      38: invokestatic  #143                // Method org/apache/cxf/helpers/DOMUtils.getFirstChildWithName:(Lorg/w3c/dom/Element;Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
      41: astore_3
      42: aload_3
      43: ifnull        61
      46: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      49: ldc           #146                // String Found address element
      51: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      54: aload_3
      55: invokeinterface #147,  1          // InterfaceMethod org/w3c/dom/Element.getTextContent:()Ljava/lang/String;
      60: areturn
      61: goto          105
      64: aload_1
      65: invokeinterface #148,  1          // InterfaceMethod org/w3c/dom/Element.getNamespaceURI:()Ljava/lang/String;
      70: ifnull        105
      73: aload_1
      74: aload_1
      75: invokeinterface #148,  1          // InterfaceMethod org/w3c/dom/Element.getNamespaceURI:()Ljava/lang/String;
      80: ldc           #149                // String URI
      82: invokestatic  #143                // Method org/apache/cxf/helpers/DOMUtils.getFirstChildWithName:(Lorg/w3c/dom/Element;Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
      85: astore_3
      86: aload_3
      87: ifnull        105
      90: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      93: ldc           #150                // String Found URI element
      95: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      98: aload_3
      99: invokeinterface #147,  1          // InterfaceMethod org/w3c/dom/Element.getTextContent:()Ljava/lang/String;
     104: areturn
     105: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     108: ldc           #151                // String AppliesTo element does not exist or could not be parsed
     110: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     113: aconst_null
     114: areturn

  protected org.apache.cxf.sts.token.provider.TokenProviderParameters createTokenProviderParameters(org.apache.cxf.sts.request.RequestRequirements, javax.xml.ws.WebServiceContext);
    Code:
       0: new           #152                // class org/apache/cxf/sts/token/provider/TokenProviderParameters
       3: dup
       4: invokespecial #153                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters."<init>":()V
       7: astore_3
       8: aload_3
       9: aload_0
      10: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      13: invokevirtual #154                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setStsProperties:(Lorg/apache/cxf/sts/STSPropertiesMBean;)V
      16: aload_3
      17: aload_2
      18: invokeinterface #155,  1          // InterfaceMethod javax/xml/ws/WebServiceContext.getUserPrincipal:()Ljava/security/Principal;
      23: invokevirtual #156                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setPrincipal:(Ljava/security/Principal;)V
      26: aload_3
      27: aload_2
      28: invokevirtual #157                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setWebServiceContext:(Ljavax/xml/ws/WebServiceContext;)V
      31: aload_3
      32: aload_0
      33: invokevirtual #158                // Method getTokenStore:()Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      36: invokevirtual #159                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setTokenStore:(Lorg/apache/cxf/ws/security/tokenstore/TokenStore;)V
      39: aload_1
      40: invokevirtual #160                // Method org/apache/cxf/sts/request/RequestRequirements.getKeyRequirements:()Lorg/apache/cxf/sts/request/KeyRequirements;
      43: astore        4
      45: aload_1
      46: invokevirtual #161                // Method org/apache/cxf/sts/request/RequestRequirements.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      49: astore        5
      51: aload_3
      52: aload         4
      54: invokevirtual #162                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setKeyRequirements:(Lorg/apache/cxf/sts/request/KeyRequirements;)V
      57: aload_3
      58: aload         5
      60: invokevirtual #163                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setTokenRequirements:(Lorg/apache/cxf/sts/request/TokenRequirements;)V
      63: aload_0
      64: aload         5
      66: invokevirtual #164                // Method org/apache/cxf/sts/request/TokenRequirements.getAppliesTo:()Lorg/w3c/dom/Element;
      69: invokevirtual #165                // Method extractAddressFromAppliesTo:(Lorg/w3c/dom/Element;)Ljava/lang/String;
      72: astore        6
      74: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      77: getstatic     #86                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
      80: invokevirtual #87                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      83: ifeq          112
      86: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      89: new           #45                 // class java/lang/StringBuilder
      92: dup
      93: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
      96: ldc           #166                // String The AppliesTo address that has been received is:
      98: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: aload         6
     103: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     109: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     112: aload_3
     113: aload         6
     115: invokevirtual #167                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setAppliesToAddress:(Ljava/lang/String;)V
     118: aload_0
     119: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
     122: invokeinterface #168,  1          // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getRealmParser:()Lorg/apache/cxf/sts/RealmParser;
     127: ifnull        157
     130: aload_0
     131: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
     134: invokeinterface #168,  1          // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getRealmParser:()Lorg/apache/cxf/sts/RealmParser;
     139: astore        7
     141: aload         7
     143: aload_2
     144: invokeinterface #169,  2          // InterfaceMethod org/apache/cxf/sts/RealmParser.parseRealm:(Ljavax/xml/ws/WebServiceContext;)Ljava/lang/String;
     149: astore        8
     151: aload_3
     152: aload         8
     154: invokevirtual #170                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setRealm:(Ljava/lang/String;)V
     157: aload         5
     159: invokevirtual #171                // Method org/apache/cxf/sts/request/TokenRequirements.getPrimaryClaims:()Lorg/apache/cxf/rt/security/claims/ClaimCollection;
     162: astore        7
     164: aload_3
     165: aload         7
     167: invokevirtual #172                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setRequestedPrimaryClaims:(Lorg/apache/cxf/rt/security/claims/ClaimCollection;)V
     170: aload         5
     172: invokevirtual #173                // Method org/apache/cxf/sts/request/TokenRequirements.getSecondaryClaims:()Lorg/apache/cxf/rt/security/claims/ClaimCollection;
     175: astore        7
     177: aload_3
     178: aload         7
     180: invokevirtual #174                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setRequestedSecondaryClaims:(Lorg/apache/cxf/rt/security/claims/ClaimCollection;)V
     183: aload_0
     184: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
     187: invokeinterface #175,  1          // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getEncryptionProperties:()Lorg/apache/cxf/sts/service/EncryptionProperties;
     192: astore        8
     194: aload         6
     196: ifnull        437
     199: iconst_0
     200: istore        9
     202: aload_0
     203: getfield      #14                 // Field services:Ljava/util/List;
     206: ifnull        381
     209: aload_0
     210: getfield      #14                 // Field services:Ljava/util/List;
     213: invokeinterface #176,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     218: astore        10
     220: aload         10
     222: invokeinterface #177,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     227: ifeq          381
     230: aload         10
     232: invokeinterface #178,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     237: checkcast     #179                // class org/apache/cxf/sts/service/ServiceMBean
     240: astore        11
     242: aload         11
     244: aload         6
     246: invokeinterface #180,  2          // InterfaceMethod org/apache/cxf/sts/service/ServiceMBean.isAddressInEndpoints:(Ljava/lang/String;)Z
     251: ifeq          378
     254: aload         11
     256: invokeinterface #181,  1          // InterfaceMethod org/apache/cxf/sts/service/ServiceMBean.getEncryptionProperties:()Lorg/apache/cxf/sts/service/EncryptionProperties;
     261: astore        12
     263: aload         12
     265: ifnull        272
     268: aload         12
     270: astore        8
     272: aload         5
     274: invokevirtual #182                // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
     277: ifnonnull     322
     280: aload         11
     282: invokeinterface #183,  1          // InterfaceMethod org/apache/cxf/sts/service/ServiceMBean.getTokenType:()Ljava/lang/String;
     287: astore        13
     289: aload         5
     291: aload         13
     293: invokevirtual #184                // Method org/apache/cxf/sts/request/TokenRequirements.setTokenType:(Ljava/lang/String;)V
     296: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     299: new           #45                 // class java/lang/StringBuilder
     302: dup
     303: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     306: ldc           #185                // String Using default token type of:
     308: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     311: aload         13
     313: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     316: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     319: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     322: aload         4
     324: invokevirtual #186                // Method org/apache/cxf/sts/request/KeyRequirements.getKeyType:()Ljava/lang/String;
     327: ifnonnull     372
     330: aload         11
     332: invokeinterface #187,  1          // InterfaceMethod org/apache/cxf/sts/service/ServiceMBean.getKeyType:()Ljava/lang/String;
     337: astore        13
     339: aload         4
     341: aload         13
     343: invokevirtual #188                // Method org/apache/cxf/sts/request/KeyRequirements.setKeyType:(Ljava/lang/String;)V
     346: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     349: new           #45                 // class java/lang/StringBuilder
     352: dup
     353: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     356: ldc           #189                // String Using default key type of:
     358: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     361: aload         13
     363: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     366: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     369: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     372: iconst_1
     373: istore        9
     375: goto          381
     378: goto          220
     381: iload         9
     383: ifne          437
     386: new           #45                 // class java/lang/StringBuilder
     389: dup
     390: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     393: ldc           #190                // String No service corresponding to
     395: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     398: aload         6
     400: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     403: ldc           #191                // String  is known. Check \'services\' property configuration in SecurityTokenServiceProvider
     405: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     408: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     411: astore        10
     413: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     416: getstatic     #192                // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
     419: aload         10
     421: invokevirtual #193                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     424: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
     427: dup
     428: aload         10
     430: getstatic     #129                // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     433: invokespecial #130                // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     436: athrow
     437: aload_3
     438: aload         8
     440: invokevirtual #194                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setEncryptionProperties:(Lorg/apache/cxf/sts/service/EncryptionProperties;)V
     443: aload_3
     444: areturn

  private java.security.cert.X509Certificate getReqSigCert(javax.xml.ws.handler.MessageContext);
    Code:
       0: aload_1
       1: ldc           #195                // String RECV_RESULTS
       3: invokeinterface #196,  2          // InterfaceMethod javax/xml/ws/handler/MessageContext.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #197                // class java/util/List
      11: astore_2
      12: aload_2
      13: invokestatic  #198                // Method org/apache/cxf/ws/security/wss4j/WSS4JUtils.getReqSigCert:(Ljava/util/List;)Ljava/security/cert/X509Certificate;
      16: astore_3
      17: aload_3
      18: ifnull        23
      21: aload_3
      22: areturn
      23: aload_1
      24: new           #45                 // class java/lang/StringBuilder
      27: dup
      28: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
      31: ldc_w         #199                // class org/apache/xml/security/stax/securityEvent/SecurityEvent
      34: invokevirtual #200                // Method java/lang/Class.getName:()Ljava/lang/String;
      37: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      40: ldc           #201                // String .in
      42: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: invokeinterface #196,  2          // InterfaceMethod javax/xml/ws/handler/MessageContext.get:(Ljava/lang/Object;)Ljava/lang/Object;
      53: checkcast     #197                // class java/util/List
      56: astore        4
      58: aload         4
      60: ifnull        188
      63: aload         4
      65: invokeinterface #176,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      70: astore        5
      72: aload         5
      74: invokeinterface #177,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      79: ifeq          188
      82: aload         5
      84: invokeinterface #178,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      89: checkcast     #199                // class org/apache/xml/security/stax/securityEvent/SecurityEvent
      92: astore        6
      94: getstatic     #202                // Field org/apache/wss4j/stax/securityEvent/WSSecurityEventConstants.SignedPart:Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;
      97: aload         6
      99: invokevirtual #203                // Method org/apache/xml/security/stax/securityEvent/SecurityEvent.getSecurityEventType:()Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;
     102: if_acmpeq     116
     105: getstatic     #204                // Field org/apache/wss4j/stax/securityEvent/WSSecurityEventConstants.SignedElement:Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;
     108: aload         6
     110: invokevirtual #203                // Method org/apache/xml/security/stax/securityEvent/SecurityEvent.getSecurityEventType:()Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;
     113: if_acmpne     185
     116: aload         6
     118: checkcast     #205                // class org/apache/xml/security/stax/securityEvent/AbstractSecuredElementSecurityEvent
     121: invokevirtual #206                // Method org/apache/xml/security/stax/securityEvent/AbstractSecuredElementSecurityEvent.getSecurityToken:()Lorg/apache/xml/security/stax/securityToken/SecurityToken;
     124: astore        7
     126: aload         7
     128: ifnull        162
     131: aload         7
     133: invokeinterface #207,  1          // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityToken.getX509Certificates:()[Ljava/security/cert/X509Certificate;
     138: ifnull        162
     141: aload         7
     143: invokeinterface #207,  1          // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityToken.getX509Certificates:()[Ljava/security/cert/X509Certificate;
     148: arraylength
     149: ifle          162
     152: aload         7
     154: invokeinterface #207,  1          // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityToken.getX509Certificates:()[Ljava/security/cert/X509Certificate;
     159: iconst_0
     160: aaload
     161: areturn
     162: goto          185
     165: astore        8
     167: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     170: getstatic     #86                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     173: aload         8
     175: invokevirtual #209                // Method org/apache/xml/security/exceptions/XMLSecurityException.getMessage:()Ljava/lang/String;
     178: aload         8
     180: invokevirtual #210                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     183: aconst_null
     184: areturn
     185: goto          72
     188: aconst_null
     189: areturn
    Exception table:
       from    to  target type
         126   161   165   Class org/apache/xml/security/exceptions/XMLSecurityException

  protected org.apache.cxf.sts.token.validator.TokenValidatorResponse validateReceivedToken(javax.xml.ws.WebServiceContext, java.lang.String, org.apache.cxf.sts.request.TokenRequirements, org.apache.cxf.sts.request.ReceivedToken);
    Code:
       0: aload         4
       2: getstatic     #211                // Field org/apache/cxf/sts/request/ReceivedToken$STATE.NONE:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
       5: invokevirtual #212                // Method org/apache/cxf/sts/request/ReceivedToken.setState:(Lorg/apache/cxf/sts/request/ReceivedToken$STATE;)V
       8: new           #213                // class org/apache/cxf/sts/request/TokenRequirements
      11: dup
      12: invokespecial #214                // Method org/apache/cxf/sts/request/TokenRequirements."<init>":()V
      15: astore        5
      17: aload         5
      19: aload         4
      21: invokevirtual #215                // Method org/apache/cxf/sts/request/TokenRequirements.setValidateTarget:(Lorg/apache/cxf/sts/request/ReceivedToken;)V
      24: new           #216                // class org/apache/cxf/sts/token/validator/TokenValidatorParameters
      27: dup
      28: invokespecial #217                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters."<init>":()V
      31: astore        6
      33: aload         6
      35: aload_0
      36: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      39: invokevirtual #218                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters.setStsProperties:(Lorg/apache/cxf/sts/STSPropertiesMBean;)V
      42: aload         6
      44: aload_1
      45: invokeinterface #155,  1          // InterfaceMethod javax/xml/ws/WebServiceContext.getUserPrincipal:()Ljava/security/Principal;
      50: invokevirtual #219                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters.setPrincipal:(Ljava/security/Principal;)V
      53: aload         6
      55: aload_1
      56: invokevirtual #220                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters.setWebServiceContext:(Ljavax/xml/ws/WebServiceContext;)V
      59: aload         6
      61: aload_0
      62: invokevirtual #158                // Method getTokenStore:()Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      65: invokevirtual #221                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters.setTokenStore:(Lorg/apache/cxf/ws/security/tokenstore/TokenStore;)V
      68: aload         6
      70: aconst_null
      71: invokevirtual #222                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters.setKeyRequirements:(Lorg/apache/cxf/sts/request/KeyRequirements;)V
      74: aload         6
      76: aload         5
      78: invokevirtual #223                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters.setTokenRequirements:(Lorg/apache/cxf/sts/request/TokenRequirements;)V
      81: aload         6
      83: aload         4
      85: invokevirtual #224                // Method org/apache/cxf/sts/token/validator/TokenValidatorParameters.setToken:(Lorg/apache/cxf/sts/request/ReceivedToken;)V
      88: aload_0
      89: getfield      #5                  // Field tokenValidators:Ljava/util/List;
      92: invokeinterface #225,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      97: ifeq          108
     100: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     103: ldc           #226                // String No token validators have been configured to validate the received token
     105: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     108: aconst_null
     109: astore        7
     111: aload_0
     112: getfield      #5                  // Field tokenValidators:Ljava/util/List;
     115: invokeinterface #176,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     120: astore        8
     122: aload         8
     124: invokeinterface #177,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     129: ifeq          252
     132: aload         8
     134: invokeinterface #178,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     139: checkcast     #227                // class org/apache/cxf/sts/token/validator/TokenValidator
     142: astore        9
     144: iconst_0
     145: istore        10
     147: aload_2
     148: ifnonnull     165
     151: aload         9
     153: aload         4
     155: invokeinterface #228,  2          // InterfaceMethod org/apache/cxf/sts/token/validator/TokenValidator.canHandleToken:(Lorg/apache/cxf/sts/request/ReceivedToken;)Z
     160: istore        10
     162: goto          177
     165: aload         9
     167: aload         4
     169: aload_2
     170: invokeinterface #229,  3          // InterfaceMethod org/apache/cxf/sts/token/validator/TokenValidator.canHandleToken:(Lorg/apache/cxf/sts/request/ReceivedToken;Ljava/lang/String;)Z
     175: istore        10
     177: iload         10
     179: ifeq          249
     182: aload         9
     184: aload         6
     186: invokeinterface #230,  2          // InterfaceMethod org/apache/cxf/sts/token/validator/TokenValidator.validateToken:(Lorg/apache/cxf/sts/token/validator/TokenValidatorParameters;)Lorg/apache/cxf/sts/token/validator/TokenValidatorResponse;
     191: astore        7
     193: aload         7
     195: invokevirtual #231                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getToken:()Lorg/apache/cxf/sts/request/ReceivedToken;
     198: astore        4
     200: aload         4
     202: aload         7
     204: invokevirtual #232                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getPrincipal:()Ljava/security/Principal;
     207: invokevirtual #233                // Method org/apache/cxf/sts/request/ReceivedToken.setPrincipal:(Ljava/security/Principal;)V
     210: aload         4
     212: aload         7
     214: invokevirtual #234                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getRoles:()Ljava/util/Set;
     217: invokevirtual #235                // Method org/apache/cxf/sts/request/ReceivedToken.setRoles:(Ljava/util/Set;)V
     220: goto          252
     223: astore        11
     225: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     228: getstatic     #237                // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     231: ldc           #238                // String Failed to validate the token
     233: aload         11
     235: invokevirtual #210                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     238: aload         4
     240: getstatic     #239                // Field org/apache/cxf/sts/request/ReceivedToken$STATE.INVALID:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
     243: invokevirtual #212                // Method org/apache/cxf/sts/request/ReceivedToken.setState:(Lorg/apache/cxf/sts/request/ReceivedToken$STATE;)V
     246: goto          252
     249: goto          122
     252: aload         7
     254: ifnonnull     265
     257: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     260: ldc           #240                // String No token validator has been configured to validate the received token
     262: invokevirtual #90                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     265: aload         7
     267: areturn
    Exception table:
       from    to  target type
         182   220   223   Class java/lang/RuntimeException

  protected void performDelegationHandling(org.apache.cxf.sts.request.RequestRequirements, javax.xml.ws.WebServiceContext, org.apache.cxf.sts.request.ReceivedToken, java.security.Principal, java.util.Set<java.security.Principal>);
    Code:
       0: new           #241                // class org/apache/cxf/sts/token/delegation/TokenDelegationParameters
       3: dup
       4: invokespecial #242                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters."<init>":()V
       7: astore        6
       9: aload         6
      11: aload_0
      12: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      15: invokevirtual #243                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setStsProperties:(Lorg/apache/cxf/sts/STSPropertiesMBean;)V
      18: aload         6
      20: aload_2
      21: invokeinterface #155,  1          // InterfaceMethod javax/xml/ws/WebServiceContext.getUserPrincipal:()Ljava/security/Principal;
      26: invokevirtual #244                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setPrincipal:(Ljava/security/Principal;)V
      29: aload         6
      31: aload_2
      32: invokevirtual #245                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setWebServiceContext:(Ljavax/xml/ws/WebServiceContext;)V
      35: aload         6
      37: aload_0
      38: invokevirtual #158                // Method getTokenStore:()Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      41: invokevirtual #246                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setTokenStore:(Lorg/apache/cxf/ws/security/tokenstore/TokenStore;)V
      44: aload         6
      46: aload         4
      48: invokevirtual #247                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setTokenPrincipal:(Ljava/security/Principal;)V
      51: aload         6
      53: aload         5
      55: invokevirtual #248                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setTokenRoles:(Ljava/util/Set;)V
      58: aload_1
      59: invokevirtual #160                // Method org/apache/cxf/sts/request/RequestRequirements.getKeyRequirements:()Lorg/apache/cxf/sts/request/KeyRequirements;
      62: astore        7
      64: aload_1
      65: invokevirtual #161                // Method org/apache/cxf/sts/request/RequestRequirements.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      68: astore        8
      70: aload         6
      72: aload         7
      74: invokevirtual #249                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setKeyRequirements:(Lorg/apache/cxf/sts/request/KeyRequirements;)V
      77: aload         6
      79: aload         8
      81: invokevirtual #250                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setTokenRequirements:(Lorg/apache/cxf/sts/request/TokenRequirements;)V
      84: aload_0
      85: aload         8
      87: invokevirtual #164                // Method org/apache/cxf/sts/request/TokenRequirements.getAppliesTo:()Lorg/w3c/dom/Element;
      90: invokevirtual #165                // Method extractAddressFromAppliesTo:(Lorg/w3c/dom/Element;)Ljava/lang/String;
      93: astore        9
      95: aload         6
      97: aload         9
      99: invokevirtual #251                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setAppliesToAddress:(Ljava/lang/String;)V
     102: aload         6
     104: aload_3
     105: invokevirtual #252                // Method org/apache/cxf/sts/token/delegation/TokenDelegationParameters.setToken:(Lorg/apache/cxf/sts/request/ReceivedToken;)V
     108: aconst_null
     109: astore        10
     111: aload_0
     112: getfield      #10                 // Field delegationHandlers:Ljava/util/List;
     115: invokeinterface #176,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     120: astore        11
     122: aload         11
     124: invokeinterface #177,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     129: ifeq          204
     132: aload         11
     134: invokeinterface #178,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     139: checkcast     #253                // class org/apache/cxf/sts/token/delegation/TokenDelegationHandler
     142: astore        12
     144: aload         12
     146: aload_3
     147: invokeinterface #254,  2          // InterfaceMethod org/apache/cxf/sts/token/delegation/TokenDelegationHandler.canHandleToken:(Lorg/apache/cxf/sts/request/ReceivedToken;)Z
     152: ifeq          201
     155: aload         12
     157: aload         6
     159: invokeinterface #255,  2          // InterfaceMethod org/apache/cxf/sts/token/delegation/TokenDelegationHandler.isDelegationAllowed:(Lorg/apache/cxf/sts/token/delegation/TokenDelegationParameters;)Lorg/apache/cxf/sts/token/delegation/TokenDelegationResponse;
     164: astore        10
     166: goto          204
     169: astore        13
     171: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     174: getstatic     #237                // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     177: ldc_w         #256                // String
     180: aload         13
     182: invokevirtual #210                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     185: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
     188: dup
     189: ldc_w         #257                // String Error in delegation handling
     192: aload         13
     194: getstatic     #129                // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     197: invokespecial #258                // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;Ljavax/xml/namespace/QName;)V
     200: athrow
     201: goto          122
     204: aload         10
     206: ifnull        217
     209: aload         10
     211: invokevirtual #259                // Method org/apache/cxf/sts/token/delegation/TokenDelegationResponse.isDelegationAllowed:()Z
     214: ifne          243
     217: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     220: getstatic     #237                // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     223: ldc_w         #260                // String No matching token delegation handler found
     226: invokevirtual #193                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     229: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
     232: dup
     233: ldc_w         #260                // String No matching token delegation handler found
     236: getstatic     #129                // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     239: invokespecial #130                // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     242: athrow
     243: return
    Exception table:
       from    to  target type
         155   166   169   Class java/lang/RuntimeException

  protected void checkClaimsSupport(org.apache.cxf.rt.security.claims.ClaimCollection);
    Code:
       0: aload_1
       1: ifnull        164
       4: new           #2                  // class java/util/ArrayList
       7: dup
       8: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      11: astore_2
      12: aload_1
      13: invokevirtual #261                // Method org/apache/cxf/rt/security/claims/ClaimCollection.iterator:()Ljava/util/Iterator;
      16: astore_3
      17: aload_3
      18: invokeinterface #177,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          80
      26: aload_3
      27: invokeinterface #178,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #262                // class org/apache/cxf/rt/security/claims/Claim
      35: astore        4
      37: aload_0
      38: getfield      #9                  // Field claimsManager:Lorg/apache/cxf/sts/claims/ClaimsManager;
      41: invokevirtual #263                // Method org/apache/cxf/sts/claims/ClaimsManager.getSupportedClaimTypes:()Ljava/util/List;
      44: aload         4
      46: invokevirtual #264                // Method org/apache/cxf/rt/security/claims/Claim.getClaimType:()Ljava/net/URI;
      49: invokeinterface #101,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      54: ifne          77
      57: aload         4
      59: invokevirtual #265                // Method org/apache/cxf/rt/security/claims/Claim.isOptional:()Z
      62: ifne          77
      65: aload_2
      66: aload         4
      68: invokevirtual #264                // Method org/apache/cxf/rt/security/claims/Claim.getClaimType:()Ljava/net/URI;
      71: invokeinterface #42,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      76: pop
      77: goto          17
      80: aload_2
      81: invokeinterface #266,  1          // InterfaceMethod java/util/List.size:()I
      86: ifle          164
      89: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      92: getstatic     #237                // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
      95: new           #45                 // class java/lang/StringBuilder
      98: dup
      99: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     102: ldc_w         #267                // String The requested claim
     105: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload_2
     109: invokevirtual #268                // Method java/lang/Object.toString:()Ljava/lang/String;
     112: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: ldc_w         #269                // String  cannot be fulfilled by the STS.
     118: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     121: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     124: invokevirtual #193                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     127: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
     130: dup
     131: new           #45                 // class java/lang/StringBuilder
     134: dup
     135: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     138: ldc_w         #267                // String The requested claim
     141: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: aload_2
     145: invokevirtual #268                // Method java/lang/Object.toString:()Ljava/lang/String;
     148: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: ldc_w         #269                // String  cannot be fulfilled by the STS.
     154: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     157: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     160: invokespecial #18                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;)V
     163: athrow
     164: return

  protected void processValidToken(org.apache.cxf.sts.token.provider.TokenProviderParameters, org.apache.cxf.sts.request.ReceivedToken, org.apache.cxf.sts.token.validator.TokenValidatorResponse);
    Code:
       0: aload_3
       1: invokevirtual #232                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getPrincipal:()Ljava/security/Principal;
       4: astore        4
       6: aload         4
       8: ifnull        261
      11: aload_1
      12: invokevirtual #270                // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getRealm:()Ljava/lang/String;
      15: astore        5
      17: aload_3
      18: invokevirtual #271                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getTokenRealm:()Ljava/lang/String;
      21: astore        6
      23: aload         6
      25: ifnull        261
      28: aload         6
      30: aload         5
      32: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      35: ifne          261
      38: aload_0
      39: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      42: invokeinterface #272,  1          // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getRelationshipResolver:()Lorg/apache/cxf/sts/token/realm/RelationshipResolver;
      47: astore        7
      49: aconst_null
      50: astore        8
      52: aload         7
      54: ifnull        91
      57: aload         7
      59: aload         6
      61: aload         5
      63: invokevirtual #273                // Method org/apache/cxf/sts/token/realm/RelationshipResolver.resolveRelationship:(Ljava/lang/String;Ljava/lang/String;)Lorg/apache/cxf/sts/token/realm/Relationship;
      66: astore        8
      68: aload         8
      70: ifnull        91
      73: aload_3
      74: invokevirtual #274                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getAdditionalProperties:()Ljava/util/Map;
      77: ldc_w         #275                // class org/apache/cxf/sts/token/realm/Relationship
      80: invokevirtual #200                // Method java/lang/Class.getName:()Ljava/lang/String;
      83: aload         8
      85: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      90: pop
      91: aload         8
      93: ifnull        110
      96: aload         8
      98: invokevirtual #276                // Method org/apache/cxf/sts/token/realm/Relationship.getType:()Ljava/lang/String;
     101: ldc_w         #277                // String FederatedIdentity
     104: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     107: ifeq          197
     110: aconst_null
     111: astore        9
     113: aload         8
     115: ifnonnull     132
     118: aload_0
     119: getfield      #12                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
     122: invokeinterface #278,  1          // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getIdentityMapper:()Lorg/apache/cxf/sts/IdentityMapper;
     127: astore        9
     129: goto          139
     132: aload         8
     134: invokevirtual #279                // Method org/apache/cxf/sts/token/realm/Relationship.getIdentityMapper:()Lorg/apache/cxf/sts/IdentityMapper;
     137: astore        9
     139: aload         9
     141: ifnull        168
     144: aload         9
     146: aload         6
     148: aload         4
     150: aload         5
     152: invokeinterface #280,  4          // InterfaceMethod org/apache/cxf/sts/IdentityMapper.mapPrincipal:(Ljava/lang/String;Ljava/security/Principal;Ljava/lang/String;)Ljava/security/Principal;
     157: astore        10
     159: aload_2
     160: aload         10
     162: invokevirtual #233                // Method org/apache/cxf/sts/request/ReceivedToken.setPrincipal:(Ljava/security/Principal;)V
     165: goto          194
     168: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     171: getstatic     #192                // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
     174: ldc_w         #281                // String No IdentityMapper configured in STSProperties or Relationship
     177: invokevirtual #193                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     180: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
     183: dup
     184: ldc_w         #282                // String Error in providing a token
     187: getstatic     #129                // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     190: invokespecial #130                // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     193: athrow
     194: goto          261
     197: aload         8
     199: invokevirtual #276                // Method org/apache/cxf/sts/token/realm/Relationship.getType:()Ljava/lang/String;
     202: ldc_w         #283                // String FederatedClaims
     205: invokevirtual #60                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     208: ifeq          214
     211: goto          261
     214: getstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
     217: getstatic     #192                // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
     220: new           #45                 // class java/lang/StringBuilder
     223: dup
     224: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     227: ldc_w         #284                // String Unkown federation type:
     230: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: aload         8
     235: invokevirtual #276                // Method org/apache/cxf/sts/token/realm/Relationship.getType:()Ljava/lang/String;
     238: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     241: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     244: invokevirtual #193                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     247: new           #16                 // class org/apache/cxf/ws/security/sts/provider/STSException
     250: dup
     251: ldc_w         #282                // String Error in providing a token
     254: getstatic     #285                // Field org/apache/cxf/ws/security/sts/provider/STSException.BAD_REQUEST:Ljavax/xml/namespace/QName;
     257: invokespecial #130                // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     260: athrow
     261: return

  public void setEventListener(org.apache.cxf.sts.event.STSEventListener);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #286                // Field eventPublisher:Lorg/apache/cxf/sts/event/STSEventListener;
       5: return

  protected void publishEvent(org.apache.cxf.sts.event.AbstractSTSEvent);
    Code:
       0: aload_0
       1: getfield      #286                // Field eventPublisher:Lorg/apache/cxf/sts/event/STSEventListener;
       4: ifnull        17
       7: aload_0
       8: getfield      #286                // Field eventPublisher:Lorg/apache/cxf/sts/event/STSEventListener;
      11: aload_1
      12: invokeinterface #287,  2          // InterfaceMethod org/apache/cxf/sts/event/STSEventListener.handleSTSEvent:(Lorg/apache/cxf/sts/event/AbstractSTSEvent;)V
      17: return

  protected static org.apache.xml.security.stax.securityToken.SecurityToken findInboundSecurityToken(org.apache.xml.security.stax.securityEvent.SecurityEventConstants$Event, javax.xml.ws.handler.MessageContext) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_1
       1: new           #45                 // class java/lang/StringBuilder
       4: dup
       5: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
       8: ldc_w         #199                // class org/apache/xml/security/stax/securityEvent/SecurityEvent
      11: invokevirtual #200                // Method java/lang/Class.getName:()Ljava/lang/String;
      14: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      17: ldc           #201                // String .in
      19: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      25: invokeinterface #196,  2          // InterfaceMethod javax/xml/ws/handler/MessageContext.get:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #197                // class java/util/List
      33: astore_2
      34: aload_2
      35: ifnull        90
      38: aload_2
      39: invokeinterface #176,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      44: astore_3
      45: aload_3
      46: invokeinterface #177,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      51: ifeq          90
      54: aload_3
      55: invokeinterface #178,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      60: checkcast     #199                // class org/apache/xml/security/stax/securityEvent/SecurityEvent
      63: astore        4
      65: aload_0
      66: aload         4
      68: invokevirtual #203                // Method org/apache/xml/security/stax/securityEvent/SecurityEvent.getSecurityEventType:()Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;
      71: if_acmpne     87
      74: aload         4
      76: checkcast     #288                // class org/apache/xml/security/stax/securityEvent/TokenSecurityEvent
      79: invokevirtual #289                // Method org/apache/xml/security/stax/securityEvent/TokenSecurityEvent.getSecurityToken:()Lorg/apache/xml/security/stax/securityToken/SecurityToken;
      82: astore        5
      84: aload         5
      86: areturn
      87: goto          45
      90: aconst_null
      91: areturn

  static {};
    Code:
       0: new           #290                // class javax/xml/namespace/QName
       3: dup
       4: ldc_w         #291                // String http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd
       7: ldc_w         #292                // String TokenType
      10: ldc_w         #293                // String wsse11
      13: invokespecial #294                // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      16: putstatic     #31                 // Field TOKEN_TYPE:Ljavax/xml/namespace/QName;
      19: ldc_w         #295                // class org/apache/cxf/sts/operation/AbstractOperation
      22: invokestatic  #296                // Method org/apache/cxf/common/logging/LogUtils.getL7dLogger:(Ljava/lang/Class;)Ljava/util/logging/Logger;
      25: putstatic     #85                 // Field LOG:Ljava/util/logging/Logger;
      28: return
}
