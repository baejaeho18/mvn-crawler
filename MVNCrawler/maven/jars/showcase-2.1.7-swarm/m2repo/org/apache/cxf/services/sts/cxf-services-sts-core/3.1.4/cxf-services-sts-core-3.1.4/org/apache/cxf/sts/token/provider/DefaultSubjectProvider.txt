Compiled from "DefaultSubjectProvider.java"
public class org.apache.cxf.sts.token.provider.DefaultSubjectProvider implements org.apache.cxf.sts.token.provider.SubjectProvider {
  private static final java.util.logging.Logger LOG;

  private java.lang.String subjectNameQualifier;

  private java.lang.String subjectNameIDFormat;

  public org.apache.cxf.sts.token.provider.DefaultSubjectProvider();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc           #2                  // String http://cxf.apache.org/sts
       7: putfield      #3                  // Field subjectNameQualifier:Ljava/lang/String;
      10: return

  public void setSubjectNameQualifier(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #3                  // Field subjectNameQualifier:Ljava/lang/String;
       5: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
       8: getstatic     #5                  // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
      11: invokevirtual #6                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      14: ifeq          42
      17: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
      20: new           #7                  // class java/lang/StringBuilder
      23: dup
      24: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #9                  // String Setting Subject Name Qualifier:
      29: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: aload_1
      33: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: invokevirtual #12                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      42: return

  public void setSubjectNameIDFormat(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #13                 // Field subjectNameIDFormat:Ljava/lang/String;
       5: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
       8: getstatic     #5                  // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
      11: invokevirtual #6                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      14: ifeq          42
      17: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
      20: new           #7                  // class java/lang/StringBuilder
      23: dup
      24: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #14                 // String Setting Subject Name format:
      29: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: aload_1
      33: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: invokevirtual #12                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      42: return

  public org.apache.wss4j.common.saml.bean.SubjectBean getSubject(org.apache.cxf.sts.token.provider.SubjectProviderParameters);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #15                 // Method getPrincipal:(Lorg/apache/cxf/sts/token/provider/SubjectProviderParameters;)Ljava/security/Principal;
       5: astore_2
       6: aload_2
       7: ifnonnull     31
      10: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
      13: ldc           #16                 // String Error in getting principal
      15: invokevirtual #12                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      18: new           #17                 // class org/apache/cxf/ws/security/sts/provider/STSException
      21: dup
      22: ldc           #16                 // String Error in getting principal
      24: getstatic     #18                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
      27: invokespecial #19                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
      30: athrow
      31: aload_0
      32: aload_2
      33: aload_1
      34: invokevirtual #20                 // Method createSubjectBean:(Ljava/security/Principal;Lorg/apache/cxf/sts/token/provider/SubjectProviderParameters;)Lorg/apache/wss4j/common/saml/bean/SubjectBean;
      37: astore_3
      38: aload_0
      39: aload_1
      40: invokevirtual #21                 // Method createKeyInfo:(Lorg/apache/cxf/sts/token/provider/SubjectProviderParameters;)Lorg/apache/wss4j/common/saml/bean/KeyInfoBean;
      43: astore        4
      45: aload_3
      46: aload         4
      48: invokevirtual #22                 // Method org/apache/wss4j/common/saml/bean/SubjectBean.setKeyInfo:(Lorg/apache/wss4j/common/saml/bean/KeyInfoBean;)V
      51: aload_3
      52: areturn

  protected java.security.Principal getPrincipal(org.apache.cxf.sts.token.provider.SubjectProviderParameters);
    Code:
       0: aload_1
       1: invokevirtual #23                 // Method org/apache/cxf/sts/token/provider/SubjectProviderParameters.getProviderParameters:()Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;
       4: astore_2
       5: aconst_null
       6: astore_3
       7: aload_2
       8: invokevirtual #24                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      11: invokevirtual #25                 // Method org/apache/cxf/sts/request/TokenRequirements.getOnBehalfOf:()Lorg/apache/cxf/sts/request/ReceivedToken;
      14: ifnull        49
      17: aload_2
      18: invokevirtual #24                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      21: invokevirtual #25                 // Method org/apache/cxf/sts/request/TokenRequirements.getOnBehalfOf:()Lorg/apache/cxf/sts/request/ReceivedToken;
      24: astore        4
      26: aload         4
      28: invokevirtual #26                 // Method org/apache/cxf/sts/request/ReceivedToken.getState:()Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      31: getstatic     #27                 // Field org/apache/cxf/sts/request/ReceivedToken$STATE.VALID:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      34: invokevirtual #28                 // Method org/apache/cxf/sts/request/ReceivedToken$STATE.equals:(Ljava/lang/Object;)Z
      37: ifeq          46
      40: aload         4
      42: invokevirtual #29                 // Method org/apache/cxf/sts/request/ReceivedToken.getPrincipal:()Ljava/security/Principal;
      45: astore_3
      46: goto          138
      49: aload_2
      50: invokevirtual #24                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      53: invokevirtual #30                 // Method org/apache/cxf/sts/request/TokenRequirements.getActAs:()Lorg/apache/cxf/sts/request/ReceivedToken;
      56: ifnull        91
      59: aload_2
      60: invokevirtual #24                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      63: invokevirtual #30                 // Method org/apache/cxf/sts/request/TokenRequirements.getActAs:()Lorg/apache/cxf/sts/request/ReceivedToken;
      66: astore        4
      68: aload         4
      70: invokevirtual #26                 // Method org/apache/cxf/sts/request/ReceivedToken.getState:()Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      73: getstatic     #27                 // Field org/apache/cxf/sts/request/ReceivedToken$STATE.VALID:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      76: invokevirtual #28                 // Method org/apache/cxf/sts/request/ReceivedToken$STATE.equals:(Ljava/lang/Object;)Z
      79: ifeq          88
      82: aload         4
      84: invokevirtual #29                 // Method org/apache/cxf/sts/request/ReceivedToken.getPrincipal:()Ljava/security/Principal;
      87: astore_3
      88: goto          138
      91: aload_2
      92: invokevirtual #24                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      95: invokevirtual #31                 // Method org/apache/cxf/sts/request/TokenRequirements.getValidateTarget:()Lorg/apache/cxf/sts/request/ReceivedToken;
      98: ifnull        133
     101: aload_2
     102: invokevirtual #24                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
     105: invokevirtual #31                 // Method org/apache/cxf/sts/request/TokenRequirements.getValidateTarget:()Lorg/apache/cxf/sts/request/ReceivedToken;
     108: astore        4
     110: aload         4
     112: invokevirtual #26                 // Method org/apache/cxf/sts/request/ReceivedToken.getState:()Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
     115: getstatic     #27                 // Field org/apache/cxf/sts/request/ReceivedToken$STATE.VALID:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
     118: invokevirtual #28                 // Method org/apache/cxf/sts/request/ReceivedToken$STATE.equals:(Ljava/lang/Object;)Z
     121: ifeq          130
     124: aload         4
     126: invokevirtual #29                 // Method org/apache/cxf/sts/request/ReceivedToken.getPrincipal:()Ljava/security/Principal;
     129: astore_3
     130: goto          138
     133: aload_2
     134: invokevirtual #32                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getPrincipal:()Ljava/security/Principal;
     137: astore_3
     138: aload_3
     139: areturn

  protected org.apache.wss4j.common.saml.bean.SubjectBean createSubjectBean(java.security.Principal, org.apache.cxf.sts.token.provider.SubjectProviderParameters);
    Code:
       0: aload_2
       1: invokevirtual #23                 // Method org/apache/cxf/sts/token/provider/SubjectProviderParameters.getProviderParameters:()Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;
       4: astore_3
       5: aload_3
       6: invokevirtual #24                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
       9: astore        4
      11: aload_3
      12: invokevirtual #33                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getKeyRequirements:()Lorg/apache/cxf/sts/request/KeyRequirements;
      15: astore        5
      17: aload         4
      19: invokevirtual #34                 // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
      22: astore        6
      24: aload         5
      26: invokevirtual #35                 // Method org/apache/cxf/sts/request/KeyRequirements.getKeyType:()Ljava/lang/String;
      29: astore        7
      31: aload_0
      32: aload         6
      34: aload         7
      36: invokevirtual #36                 // Method getSubjectConfirmationMethod:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      39: astore        8
      41: aload_1
      42: invokeinterface #37,  1           // InterfaceMethod java/security/Principal.getName:()Ljava/lang/String;
      47: astore        9
      49: aload_0
      50: getfield      #13                 // Field subjectNameIDFormat:Ljava/lang/String;
      53: astore        10
      55: ldc           #38                 // String urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified
      57: aload         10
      59: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      62: ifeq          129
      65: aload_1
      66: instanceof    #40                 // class javax/security/auth/x500/X500Principal
      69: ifeq          129
      72: aload_1
      73: invokeinterface #37,  1           // InterfaceMethod java/security/Principal.getName:()Ljava/lang/String;
      78: astore        11
      80: aload         11
      82: bipush        61
      84: invokevirtual #41                 // Method java/lang/String.indexOf:(I)I
      87: istore        12
      89: aload         11
      91: iload         12
      93: iconst_1
      94: iadd
      95: aload         11
      97: bipush        44
      99: iload         12
     101: invokevirtual #42                 // Method java/lang/String.indexOf:(II)I
     104: invokevirtual #43                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     107: astore        11
     109: aload         11
     111: astore        9
     113: goto          190
     116: astore        11
     118: aload_1
     119: invokeinterface #37,  1           // InterfaceMethod java/security/Principal.getName:()Ljava/lang/String;
     124: astore        9
     126: goto          190
     129: ldc           #38                 // String urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified
     131: aload         10
     133: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     136: ifne          190
     139: aload_1
     140: instanceof    #45                 // class org/apache/wss4j/common/principal/UsernameTokenPrincipal
     143: ifeq          153
     146: ldc           #46                 // String urn:oasis:names:tc:SAML:2.0:nameid-format:persistent
     148: astore        10
     150: goto          190
     153: aload_1
     154: instanceof    #40                 // class javax/security/auth/x500/X500Principal
     157: ifeq          167
     160: ldc           #47                 // String urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName
     162: astore        10
     164: goto          190
     167: aload_1
     168: instanceof    #48                 // class javax/security/auth/kerberos/KerberosPrincipal
     171: ifeq          181
     174: ldc           #49                 // String urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos
     176: astore        10
     178: goto          190
     181: aload         10
     183: ifnonnull     190
     186: ldc           #38                 // String urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified
     188: astore        10
     190: new           #50                 // class org/apache/wss4j/common/saml/bean/SubjectBean
     193: dup
     194: aload         9
     196: aload_0
     197: getfield      #3                  // Field subjectNameQualifier:Ljava/lang/String;
     200: aload         8
     202: invokespecial #51                 // Method org/apache/wss4j/common/saml/bean/SubjectBean."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     205: astore        11
     207: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
     210: getstatic     #5                  // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     213: invokevirtual #6                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     216: ifeq          249
     219: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
     222: new           #7                  // class java/lang/StringBuilder
     225: dup
     226: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
     229: ldc           #52                 // String Creating new subject with principal name:
     231: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     234: aload_1
     235: invokeinterface #37,  1           // InterfaceMethod java/security/Principal.getName:()Ljava/lang/String;
     240: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     243: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     246: invokevirtual #12                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     249: aload         11
     251: aload         10
     253: invokevirtual #53                 // Method org/apache/wss4j/common/saml/bean/SubjectBean.setSubjectNameIDFormat:(Ljava/lang/String;)V
     256: aload         11
     258: areturn
    Exception table:
       from    to  target type
          72   113   116   Class java/lang/Throwable

  protected java.lang.String getSubjectConfirmationMethod(java.lang.String, java.lang.String);
    Code:
       0: ldc           #54                 // String http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1
       2: aload_1
       3: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       6: ifne          18
       9: ldc           #55                 // String urn:oasis:names:tc:SAML:1.0:assertion
      11: aload_1
      12: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      15: ifeq          42
      18: ldc           #56                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/SymmetricKey
      20: aload_2
      21: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      24: ifne          36
      27: ldc           #57                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/PublicKey
      29: aload_2
      30: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      33: ifeq          39
      36: ldc           #58                 // String urn:oasis:names:tc:SAML:1.0:cm:holder-of-key
      38: areturn
      39: ldc           #59                 // String urn:oasis:names:tc:SAML:1.0:cm:bearer
      41: areturn
      42: ldc           #56                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/SymmetricKey
      44: aload_2
      45: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      48: ifne          60
      51: ldc           #57                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/PublicKey
      53: aload_2
      54: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      57: ifeq          63
      60: ldc           #60                 // String urn:oasis:names:tc:SAML:2.0:cm:holder-of-key
      62: areturn
      63: ldc           #61                 // String urn:oasis:names:tc:SAML:2.0:cm:bearer
      65: areturn

  protected org.apache.wss4j.common.saml.bean.KeyInfoBean createKeyInfo(org.apache.cxf.sts.token.provider.SubjectProviderParameters);
    Code:
       0: aload_1
       1: invokevirtual #23                 // Method org/apache/cxf/sts/token/provider/SubjectProviderParameters.getProviderParameters:()Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;
       4: astore_2
       5: aload_2
       6: invokevirtual #33                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getKeyRequirements:()Lorg/apache/cxf/sts/request/KeyRequirements;
       9: astore_3
      10: aload_2
      11: invokevirtual #62                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getStsProperties:()Lorg/apache/cxf/sts/STSPropertiesMBean;
      14: astore        4
      16: aload_3
      17: invokevirtual #35                 // Method org/apache/cxf/sts/request/KeyRequirements.getKeyType:()Ljava/lang/String;
      20: astore        5
      22: ldc           #56                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/SymmetricKey
      24: aload         5
      26: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      29: ifeq          279
      32: aload         4
      34: invokeinterface #63,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getEncryptionCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
      39: astore        6
      41: aload_2
      42: invokevirtual #64                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getEncryptionProperties:()Lorg/apache/cxf/sts/service/EncryptionProperties;
      45: astore        7
      47: aload         7
      49: invokevirtual #65                 // Method org/apache/cxf/sts/service/EncryptionProperties.getEncryptionName:()Ljava/lang/String;
      52: astore        8
      54: aload         8
      56: ifnonnull     68
      59: aload         4
      61: invokeinterface #66,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getEncryptionUsername:()Ljava/lang/String;
      66: astore        8
      68: aload         8
      70: ifnonnull     94
      73: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
      76: ldc           #67                 // String No encryption Name is configured for Symmetric KeyType
      78: invokevirtual #12                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      81: new           #17                 // class org/apache/cxf/ws/security/sts/provider/STSException
      84: dup
      85: ldc           #68                 // String No Encryption Name is configured
      87: getstatic     #18                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
      90: invokespecial #19                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
      93: athrow
      94: aconst_null
      95: astore        9
      97: ldc           #69                 // String useEndpointAsCertAlias
      99: aload         8
     101: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     104: ifeq          148
     107: aload_2
     108: invokevirtual #70                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getAppliesToAddress:()Ljava/lang/String;
     111: ifnonnull     124
     114: new           #17                 // class org/apache/cxf/ws/security/sts/provider/STSException
     117: dup
     118: ldc           #71                 // String AppliesTo is not initilaized for encryption name useEndpointAsCertAlias
     120: invokespecial #72                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;)V
     123: athrow
     124: new           #73                 // class org/apache/wss4j/common/crypto/CryptoType
     127: dup
     128: getstatic     #74                 // Field org/apache/wss4j/common/crypto/CryptoType$TYPE.ENDPOINT:Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;
     131: invokespecial #75                 // Method org/apache/wss4j/common/crypto/CryptoType."<init>":(Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;)V
     134: astore        9
     136: aload         9
     138: aload_2
     139: invokevirtual #70                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getAppliesToAddress:()Ljava/lang/String;
     142: invokevirtual #76                 // Method org/apache/wss4j/common/crypto/CryptoType.setEndpoint:(Ljava/lang/String;)V
     145: goto          167
     148: new           #73                 // class org/apache/wss4j/common/crypto/CryptoType
     151: dup
     152: getstatic     #77                 // Field org/apache/wss4j/common/crypto/CryptoType$TYPE.ALIAS:Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;
     155: invokespecial #75                 // Method org/apache/wss4j/common/crypto/CryptoType."<init>":(Lorg/apache/wss4j/common/crypto/CryptoType$TYPE;)V
     158: astore        9
     160: aload         9
     162: aload         8
     164: invokevirtual #78                 // Method org/apache/wss4j/common/crypto/CryptoType.setAlias:(Ljava/lang/String;)V
     167: aload         6
     169: aload         9
     171: invokeinterface #79,  2           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.getX509Certificates:(Lorg/apache/wss4j/common/crypto/CryptoType;)[Ljava/security/cert/X509Certificate;
     176: astore        10
     178: aload         10
     180: ifnull        189
     183: aload         10
     185: arraylength
     186: ifne          217
     189: new           #17                 // class org/apache/cxf/ws/security/sts/provider/STSException
     192: dup
     193: new           #7                  // class java/lang/StringBuilder
     196: dup
     197: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
     200: ldc           #80                 // String Encryption certificate is not found for alias:
     202: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     205: aload         8
     207: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     210: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     213: invokespecial #72                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;)V
     216: athrow
     217: aload_1
     218: invokevirtual #81                 // Method org/apache/cxf/sts/token/provider/SubjectProviderParameters.getDoc:()Lorg/w3c/dom/Document;
     221: astore        11
     223: aload_1
     224: invokevirtual #82                 // Method org/apache/cxf/sts/token/provider/SubjectProviderParameters.getSecret:()[B
     227: astore        12
     229: aload         10
     231: iconst_0
     232: aaload
     233: aload         12
     235: aload         11
     237: aload         7
     239: aload         6
     241: invokestatic  #83                 // Method createEncryptedKeyKeyInfo:(Ljava/security/cert/X509Certificate;[BLorg/w3c/dom/Document;Lorg/apache/cxf/sts/service/EncryptionProperties;Lorg/apache/wss4j/common/crypto/Crypto;)Lorg/apache/wss4j/common/saml/bean/KeyInfoBean;
     244: astore        13
     246: aload         13
     248: areturn
     249: astore        10
     251: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
     254: getstatic     #85                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     257: ldc           #86                 // String
     259: aload         10
     261: invokevirtual #87                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     264: new           #17                 // class org/apache/cxf/ws/security/sts/provider/STSException
     267: dup
     268: aload         10
     270: invokevirtual #88                 // Method org/apache/wss4j/common/ext/WSSecurityException.getMessage:()Ljava/lang/String;
     273: aload         10
     275: invokespecial #89                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     278: athrow
     279: ldc           #57                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/PublicKey
     281: aload         5
     283: invokevirtual #39                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     286: ifeq          456
     289: aload_3
     290: invokevirtual #90                 // Method org/apache/cxf/sts/request/KeyRequirements.getReceivedKey:()Lorg/apache/cxf/sts/request/ReceivedKey;
     293: astore        6
     295: aload         4
     297: invokeinterface #91,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.isValidateUseKey:()Z
     302: ifeq          442
     305: aload         4
     307: invokeinterface #92,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getSignatureCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     312: ifnull        442
     315: aload         6
     317: invokevirtual #93                 // Method org/apache/cxf/sts/request/ReceivedKey.getX509Cert:()Ljava/security/cert/X509Certificate;
     320: ifnull        386
     323: invokestatic  #94                 // Method java/util/Collections.emptyList:()Ljava/util/List;
     326: astore        7
     328: aload         4
     330: invokeinterface #92,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getSignatureCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     335: iconst_1
     336: anewarray     #95                 // class java/security/cert/X509Certificate
     339: dup
     340: iconst_0
     341: aload         6
     343: invokevirtual #93                 // Method org/apache/cxf/sts/request/ReceivedKey.getX509Cert:()Ljava/security/cert/X509Certificate;
     346: aastore
     347: iconst_0
     348: aload         7
     350: invokeinterface #96,  4           // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.verifyTrust:([Ljava/security/cert/X509Certificate;ZLjava/util/Collection;)V
     355: goto          386
     358: astore        7
     360: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
     363: getstatic     #5                  // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     366: ldc           #97                 // String Error in trust validation of UseKey:
     368: aload         7
     370: invokevirtual #87                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     373: new           #17                 // class org/apache/cxf/ws/security/sts/provider/STSException
     376: dup
     377: ldc           #98                 // String Error in trust validation of UseKey
     379: getstatic     #18                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     382: invokespecial #19                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     385: athrow
     386: aload         6
     388: invokevirtual #99                 // Method org/apache/cxf/sts/request/ReceivedKey.getPublicKey:()Ljava/security/PublicKey;
     391: ifnull        442
     394: aload         4
     396: invokeinterface #92,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getSignatureCrypto:()Lorg/apache/wss4j/common/crypto/Crypto;
     401: aload         6
     403: invokevirtual #99                 // Method org/apache/cxf/sts/request/ReceivedKey.getPublicKey:()Ljava/security/PublicKey;
     406: invokeinterface #100,  2          // InterfaceMethod org/apache/wss4j/common/crypto/Crypto.verifyTrust:(Ljava/security/PublicKey;)V
     411: goto          442
     414: astore        7
     416: getstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
     419: getstatic     #5                  // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     422: ldc           #97                 // String Error in trust validation of UseKey:
     424: aload         7
     426: invokevirtual #87                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     429: new           #17                 // class org/apache/cxf/ws/security/sts/provider/STSException
     432: dup
     433: ldc           #98                 // String Error in trust validation of UseKey
     435: getstatic     #18                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     438: invokespecial #19                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     441: athrow
     442: aload         6
     444: invokevirtual #93                 // Method org/apache/cxf/sts/request/ReceivedKey.getX509Cert:()Ljava/security/cert/X509Certificate;
     447: aload         6
     449: invokevirtual #99                 // Method org/apache/cxf/sts/request/ReceivedKey.getPublicKey:()Ljava/security/PublicKey;
     452: invokestatic  #101                // Method createPublicKeyKeyInfo:(Ljava/security/cert/X509Certificate;Ljava/security/PublicKey;)Lorg/apache/wss4j/common/saml/bean/KeyInfoBean;
     455: areturn
     456: aconst_null
     457: areturn
    Exception table:
       from    to  target type
         167   248   249   Class org/apache/wss4j/common/ext/WSSecurityException
         323   355   358   Class org/apache/wss4j/common/ext/WSSecurityException
         394   411   414   Class org/apache/wss4j/common/ext/WSSecurityException

  protected static org.apache.wss4j.common.saml.bean.KeyInfoBean createPublicKeyKeyInfo(java.security.cert.X509Certificate, java.security.PublicKey);
    Code:
       0: new           #102                // class org/apache/wss4j/common/saml/bean/KeyInfoBean
       3: dup
       4: invokespecial #103                // Method org/apache/wss4j/common/saml/bean/KeyInfoBean."<init>":()V
       7: astore_2
       8: aload_0
       9: ifnull        27
      12: aload_2
      13: aload_0
      14: invokevirtual #104                // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.setCertificate:(Ljava/security/cert/X509Certificate;)V
      17: aload_2
      18: getstatic     #105                // Field org/apache/wss4j/common/saml/bean/KeyInfoBean$CERT_IDENTIFIER.X509_CERT:Lorg/apache/wss4j/common/saml/bean/KeyInfoBean$CERT_IDENTIFIER;
      21: invokevirtual #106                // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.setCertIdentifer:(Lorg/apache/wss4j/common/saml/bean/KeyInfoBean$CERT_IDENTIFIER;)V
      24: goto          43
      27: aload_1
      28: ifnull        43
      31: aload_2
      32: aload_1
      33: invokevirtual #107                // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.setPublicKey:(Ljava/security/PublicKey;)V
      36: aload_2
      37: getstatic     #108                // Field org/apache/wss4j/common/saml/bean/KeyInfoBean$CERT_IDENTIFIER.KEY_VALUE:Lorg/apache/wss4j/common/saml/bean/KeyInfoBean$CERT_IDENTIFIER;
      40: invokevirtual #106                // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.setCertIdentifer:(Lorg/apache/wss4j/common/saml/bean/KeyInfoBean$CERT_IDENTIFIER;)V
      43: aload_2
      44: areturn

  protected static org.apache.wss4j.common.saml.bean.KeyInfoBean createEncryptedKeyKeyInfo(java.security.cert.X509Certificate, byte[], org.w3c.dom.Document, org.apache.cxf.sts.service.EncryptionProperties, org.apache.wss4j.common.crypto.Crypto) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: new           #102                // class org/apache/wss4j/common/saml/bean/KeyInfoBean
       3: dup
       4: invokespecial #103                // Method org/apache/wss4j/common/saml/bean/KeyInfoBean."<init>":()V
       7: astore        5
       9: new           #109                // class org/apache/wss4j/dom/message/WSSecEncryptedKey
      12: dup
      13: invokespecial #110                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey."<init>":()V
      16: astore        6
      18: aload         6
      20: aload_3
      21: invokevirtual #111                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyIdentifierType:()I
      24: invokevirtual #112                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setKeyIdentifierType:(I)V
      27: aload         6
      29: aload_1
      30: invokevirtual #113                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setEphemeralKey:([B)V
      33: aload         6
      35: aload_3
      36: invokevirtual #114                // Method org/apache/cxf/sts/service/EncryptionProperties.getEncryptionAlgorithm:()Ljava/lang/String;
      39: invokevirtual #115                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setSymmetricEncAlgorithm:(Ljava/lang/String;)V
      42: aload         6
      44: aload_0
      45: invokevirtual #116                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setUseThisCert:(Ljava/security/cert/X509Certificate;)V
      48: aload         6
      50: aload_3
      51: invokevirtual #117                // Method org/apache/cxf/sts/service/EncryptionProperties.getKeyWrapAlgorithm:()Ljava/lang/String;
      54: invokevirtual #118                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.setKeyEncAlgo:(Ljava/lang/String;)V
      57: aload         6
      59: aload_2
      60: aload         4
      62: invokevirtual #119                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.prepare:(Lorg/w3c/dom/Document;Lorg/apache/wss4j/common/crypto/Crypto;)V
      65: aload         6
      67: invokevirtual #120                // Method org/apache/wss4j/dom/message/WSSecEncryptedKey.getEncryptedKeyElement:()Lorg/w3c/dom/Element;
      70: astore        7
      72: aload_2
      73: ldc           #121                // String http://www.w3.org/2000/09/xmldsig#
      75: ldc           #122                // String ds:KeyInfo
      77: invokeinterface #123,  3          // InterfaceMethod org/w3c/dom/Document.createElementNS:(Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
      82: astore        8
      84: aload         8
      86: ldc           #124                // String http://www.w3.org/2000/xmlns/
      88: ldc           #125                // String xmlns:ds
      90: ldc           #121                // String http://www.w3.org/2000/09/xmldsig#
      92: invokeinterface #126,  4          // InterfaceMethod org/w3c/dom/Element.setAttributeNS:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      97: aload         8
      99: aload         7
     101: invokeinterface #127,  2          // InterfaceMethod org/w3c/dom/Element.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
     106: pop
     107: aload         5
     109: aload         8
     111: invokevirtual #128                // Method org/apache/wss4j/common/saml/bean/KeyInfoBean.setElement:(Lorg/w3c/dom/Element;)V
     114: aload         5
     116: areturn

  static {};
    Code:
       0: ldc_w         #129                // class org/apache/cxf/sts/token/provider/DefaultSubjectProvider
       3: invokestatic  #130                // Method org/apache/cxf/common/logging/LogUtils.getL7dLogger:(Ljava/lang/Class;)Ljava/util/logging/Logger;
       6: putstatic     #4                  // Field LOG:Ljava/util/logging/Logger;
       9: return
}
