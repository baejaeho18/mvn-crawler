Compiled from "PollingMessageListenerContainer.java"
class org.apache.cxf.transport.jms.util.PollingMessageListenerContainer$XAPoller implements java.lang.Runnable {
  final org.apache.cxf.transport.jms.util.PollingMessageListenerContainer this$0;

  private org.apache.cxf.transport.jms.util.PollingMessageListenerContainer$XAPoller(org.apache.cxf.transport.jms.util.PollingMessageListenerContainer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
       5: aload_0
       6: invokespecial #3                  // Method java/lang/Object."<init>":()V
       9: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
       4: getfield      #4                  // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.running:Z
       7: ifeq          225
      10: aconst_null
      11: astore_1
      12: aconst_null
      13: astore_2
      14: aload_0
      15: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
      18: getfield      #5                  // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.transactionManager:Ljavax/transaction/TransactionManager;
      21: invokeinterface #6,  1            // InterfaceMethod javax/transaction/TransactionManager.getTransaction:()Ljavax/transaction/Transaction;
      26: astore_3
      27: aload_3
      28: ifnull        61
      31: aload_3
      32: invokeinterface #7,  1            // InterfaceMethod javax/transaction/Transaction.getStatus:()I
      37: ifne          61
      40: invokestatic  #8                  // Method org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.access$100:()Ljava/util/logging/Logger;
      43: getstatic     #9                  // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
      46: ldc           #10                 // String External transactions are not supported in XAPoller
      48: invokevirtual #11                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
      51: new           #12                 // class java/lang/IllegalStateException
      54: dup
      55: ldc           #10                 // String External transactions are not supported in XAPoller
      57: invokespecial #13                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      60: athrow
      61: aload_0
      62: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
      65: getfield      #5                  // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.transactionManager:Ljavax/transaction/TransactionManager;
      68: invokeinterface #14,  1           // InterfaceMethod javax/transaction/TransactionManager.begin:()V
      73: aload_0
      74: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
      77: getfield      #15                 // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.connection:Ljavax/jms/Connection;
      80: aload_0
      81: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
      84: getfield      #16                 // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.transacted:Z
      87: aload_0
      88: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
      91: getfield      #17                 // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.acknowledgeMode:I
      94: invokeinterface #18,  3           // InterfaceMethod javax/jms/Connection.createSession:(ZI)Ljavax/jms/Session;
      99: astore_2
     100: aload_0
     101: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
     104: aload_2
     105: invokestatic  #19                 // Method org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.access$000:(Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;Ljavax/jms/Session;)Ljavax/jms/MessageConsumer;
     108: astore_1
     109: aload_1
     110: ldc2_w        #20                 // long 1000l
     113: invokeinterface #22,  3           // InterfaceMethod javax/jms/MessageConsumer.receive:(J)Ljavax/jms/Message;
     118: astore        4
     120: aload         4
     122: ifnull        139
     125: aload_0
     126: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
     129: getfield      #23                 // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.listenerHandler:Ljavax/jms/MessageListener;
     132: aload         4
     134: invokeinterface #24,  2           // InterfaceMethod javax/jms/MessageListener.onMessage:(Ljavax/jms/Message;)V
     139: aload_0
     140: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
     143: getfield      #5                  // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.transactionManager:Ljavax/transaction/TransactionManager;
     146: invokeinterface #25,  1           // InterfaceMethod javax/transaction/TransactionManager.commit:()V
     151: aload_1
     152: invokestatic  #26                 // Method org/apache/cxf/transport/jms/util/ResourceCloser.close:(Ljava/lang/Object;)V
     155: aload_2
     156: invokestatic  #26                 // Method org/apache/cxf/transport/jms/util/ResourceCloser.close:(Ljava/lang/Object;)V
     159: goto          206
     162: astore        5
     164: invokestatic  #8                  // Method org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.access$100:()Ljava/util/logging/Logger;
     167: getstatic     #28                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     170: ldc           #29                 // String Exception while processing jms message in cxf. Rolling back
     172: aload         5
     174: invokevirtual #30                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     177: aload_0
     178: aload_2
     179: invokespecial #31                 // Method safeRollBack:(Ljavax/jms/Session;)V
     182: aload_1
     183: invokestatic  #26                 // Method org/apache/cxf/transport/jms/util/ResourceCloser.close:(Ljava/lang/Object;)V
     186: aload_2
     187: invokestatic  #26                 // Method org/apache/cxf/transport/jms/util/ResourceCloser.close:(Ljava/lang/Object;)V
     190: goto          206
     193: astore        6
     195: aload_1
     196: invokestatic  #26                 // Method org/apache/cxf/transport/jms/util/ResourceCloser.close:(Ljava/lang/Object;)V
     199: aload_2
     200: invokestatic  #26                 // Method org/apache/cxf/transport/jms/util/ResourceCloser.close:(Ljava/lang/Object;)V
     203: aload         6
     205: athrow
     206: goto          222
     209: astore_3
     210: invokestatic  #8                  // Method org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.access$100:()Ljava/util/logging/Logger;
     213: getstatic     #28                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     216: ldc           #33                 // String Unexpected exception. Restarting session and consumer
     218: aload_3
     219: invokevirtual #30                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     222: goto          0
     225: return
    Exception table:
       from    to  target type
         120   151   162   Class java/lang/Throwable
         120   151   193   any
         162   182   193   any
         193   195   193   any
          14   206   209   Class java/lang/Exception

  private void safeRollBack(javax.jms.Session);
    Code:
       0: aload_0
       1: getfield      #2                  // Field this$0:Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;
       4: getfield      #5                  // Field org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.transactionManager:Ljavax/transaction/TransactionManager;
       7: invokeinterface #34,  1           // InterfaceMethod javax/transaction/TransactionManager.rollback:()V
      12: goto          28
      15: astore_2
      16: invokestatic  #8                  // Method org/apache/cxf/transport/jms/util/PollingMessageListenerContainer.access$100:()Ljava/util/logging/Logger;
      19: getstatic     #28                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
      22: ldc           #35                 // String Rollback of XA transaction failed
      24: aload_2
      25: invokevirtual #30                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
      28: return
    Exception table:
       from    to  target type
           0    12    15   Class java/lang/Exception

  org.apache.cxf.transport.jms.util.PollingMessageListenerContainer$XAPoller(org.apache.cxf.transport.jms.util.PollingMessageListenerContainer, org.apache.cxf.transport.jms.util.PollingMessageListenerContainer$1);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method "<init>":(Lorg/apache/cxf/transport/jms/util/PollingMessageListenerContainer;)V
       5: return
}
