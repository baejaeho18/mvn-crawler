Compiled from "TokenIssueOperation.java"
public class org.apache.cxf.sts.operation.TokenIssueOperation extends org.apache.cxf.sts.operation.AbstractOperation implements org.apache.cxf.ws.security.sts.provider.operation.IssueOperation,org.apache.cxf.ws.security.sts.provider.operation.IssueSingleOperation {
  static final java.util.logging.Logger LOG;

  public org.apache.cxf.sts.operation.TokenIssueOperation();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/cxf/sts/operation/AbstractOperation."<init>":()V
       4: return

  public org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenResponseCollectionType issue(org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenType, javax.xml.ws.WebServiceContext);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #2                  // Method issueSingle:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenType;Ljavax/xml/ws/WebServiceContext;)Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType;
       6: astore_3
       7: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
      10: invokevirtual #4                  // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestSecurityTokenResponseCollectionType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseCollectionType;
      13: astore        4
      15: aload         4
      17: invokevirtual #5                  // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseCollectionType.getRequestSecurityTokenResponse:()Ljava/util/List;
      20: aload_3
      21: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      26: pop
      27: aload         4
      29: areturn

  public org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenResponseCollectionType issue(org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenCollectionType, javax.xml.ws.WebServiceContext);
    Code:
       0: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
       3: invokevirtual #4                  // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestSecurityTokenResponseCollectionType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseCollectionType;
       6: astore_3
       7: aload_1
       8: invokevirtual #7                  // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenCollectionType.getRequestSecurityToken:()Ljava/util/List;
      11: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      16: astore        4
      18: aload         4
      20: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      25: ifeq          64
      28: aload         4
      30: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #11                 // class org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenType
      38: astore        5
      40: aload_0
      41: aload         5
      43: aload_2
      44: invokevirtual #2                  // Method issueSingle:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenType;Ljavax/xml/ws/WebServiceContext;)Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType;
      47: astore        6
      49: aload_3
      50: invokevirtual #5                  // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseCollectionType.getRequestSecurityTokenResponse:()Ljava/util/List;
      53: aload         6
      55: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      60: pop
      61: goto          18
      64: aload_3
      65: areturn

  public org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenResponseType issueSingle(org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenType, javax.xml.ws.WebServiceContext);
    Code:
       0: invokestatic  #12                 // Method java/lang/System.currentTimeMillis:()J
       3: lstore_3
       4: new           #13                 // class org/apache/cxf/sts/token/provider/TokenProviderParameters
       7: dup
       8: invokespecial #14                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters."<init>":()V
      11: astore        5
      13: aload_0
      14: aload_1
      15: aload_2
      16: invokevirtual #15                 // Method parseRequest:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenType;Ljavax/xml/ws/WebServiceContext;)Lorg/apache/cxf/sts/request/RequestRequirements;
      19: astore        6
      21: aload_0
      22: aload         6
      24: aload_2
      25: invokevirtual #16                 // Method createTokenProviderParameters:(Lorg/apache/cxf/sts/request/RequestRequirements;Ljavax/xml/ws/WebServiceContext;)Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;
      28: astore        5
      30: aload         5
      32: invokevirtual #17                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getRequestedPrimaryClaims:()Lorg/apache/cxf/rt/security/claims/ClaimCollection;
      35: astore        7
      37: aload_0
      38: aload         7
      40: invokevirtual #18                 // Method checkClaimsSupport:(Lorg/apache/cxf/rt/security/claims/ClaimCollection;)V
      43: aload         5
      45: invokevirtual #19                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getRequestedSecondaryClaims:()Lorg/apache/cxf/rt/security/claims/ClaimCollection;
      48: astore        7
      50: aload_0
      51: aload         7
      53: invokevirtual #18                 // Method checkClaimsSupport:(Lorg/apache/cxf/rt/security/claims/ClaimCollection;)V
      56: aload         5
      58: aload_0
      59: getfield      #20                 // Field claimsManager:Lorg/apache/cxf/sts/claims/ClaimsManager;
      62: invokevirtual #21                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setClaimsManager:(Lorg/apache/cxf/sts/claims/ClaimsManager;)V
      65: aload         5
      67: invokevirtual #22                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getRealm:()Ljava/lang/String;
      70: astore        8
      72: aload         6
      74: invokevirtual #23                 // Method org/apache/cxf/sts/request/RequestRequirements.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      77: astore        9
      79: aload         9
      81: invokevirtual #24                 // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
      84: astore        10
      86: aload_0
      87: getfield      #25                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      90: invokeinterface #26,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getSamlRealmCodec:()Lorg/apache/cxf/sts/token/realm/SAMLRealmCodec;
      95: ifnull        275
      98: aload_2
      99: invokestatic  #27                 // Method fetchSAMLAssertionFromWSSecuritySAMLToken:(Ljavax/xml/ws/WebServiceContext;)Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;
     102: astore        11
     104: aload         11
     106: ifnull        275
     109: aload_0
     110: getfield      #25                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
     113: invokeinterface #26,  1           // InterfaceMethod org/apache/cxf/sts/STSPropertiesMBean.getSamlRealmCodec:()Lorg/apache/cxf/sts/token/realm/SAMLRealmCodec;
     118: aload         11
     120: invokeinterface #28,  2           // InterfaceMethod org/apache/cxf/sts/token/realm/SAMLRealmCodec.getRealmFromToken:(Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;)Ljava/lang/String;
     125: astore        12
     127: new           #29                 // class org/apache/wss4j/common/principal/SAMLTokenPrincipalImpl
     130: dup
     131: aload         11
     133: invokespecial #30                 // Method org/apache/wss4j/common/principal/SAMLTokenPrincipalImpl."<init>":(Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;)V
     136: astore        13
     138: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     141: getstatic     #32                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     144: invokevirtual #33                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     147: ifeq          191
     150: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     153: new           #34                 // class java/lang/StringBuilder
     156: dup
     157: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     160: ldc           #36                 // String SAML token realm of user \'
     162: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     165: aload         13
     167: invokeinterface #38,  1           // InterfaceMethod org/apache/wss4j/common/principal/SAMLTokenPrincipal.getName:()Ljava/lang/String;
     172: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: ldc           #39                 // String \' is
     177: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     180: aload         12
     182: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     185: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     188: invokevirtual #41                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     191: new           #42                 // class org/apache/cxf/sts/request/ReceivedToken
     194: dup
     195: aload         11
     197: invokevirtual #43                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getElement:()Lorg/w3c/dom/Element;
     200: invokespecial #44                 // Method org/apache/cxf/sts/request/ReceivedToken."<init>":(Ljava/lang/Object;)V
     203: astore        14
     205: aload         14
     207: getstatic     #45                 // Field org/apache/cxf/sts/request/ReceivedToken$STATE.VALID:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
     210: invokevirtual #46                 // Method org/apache/cxf/sts/request/ReceivedToken.setState:(Lorg/apache/cxf/sts/request/ReceivedToken$STATE;)V
     213: new           #47                 // class org/apache/cxf/sts/token/validator/TokenValidatorResponse
     216: dup
     217: invokespecial #48                 // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse."<init>":()V
     220: astore        15
     222: aload         15
     224: aload         13
     226: invokevirtual #49                 // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.setPrincipal:(Ljava/security/Principal;)V
     229: aload         15
     231: aload         14
     233: invokevirtual #50                 // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.setToken:(Lorg/apache/cxf/sts/request/ReceivedToken;)V
     236: aload         15
     238: aload         12
     240: invokevirtual #51                 // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.setTokenRealm:(Ljava/lang/String;)V
     243: aload         15
     245: new           #52                 // class java/util/HashMap
     248: dup
     249: invokespecial #53                 // Method java/util/HashMap."<init>":()V
     252: invokevirtual #54                 // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.setAdditionalProperties:(Ljava/util/Map;)V
     255: aload_0
     256: aload         5
     258: aload         14
     260: aload         15
     262: invokevirtual #55                 // Method processValidToken:(Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;Lorg/apache/cxf/sts/request/ReceivedToken;Lorg/apache/cxf/sts/token/validator/TokenValidatorResponse;)V
     265: aload         5
     267: aload         14
     269: invokevirtual #56                 // Method org/apache/cxf/sts/request/ReceivedToken.getPrincipal:()Ljava/security/Principal;
     272: invokevirtual #57                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setPrincipal:(Ljava/security/Principal;)V
     275: aload         5
     277: invokevirtual #58                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
     280: invokevirtual #59                 // Method org/apache/cxf/sts/request/TokenRequirements.getOnBehalfOf:()Lorg/apache/cxf/sts/request/ReceivedToken;
     283: ifnull        309
     286: aload         5
     288: invokevirtual #58                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
     291: invokevirtual #59                 // Method org/apache/cxf/sts/request/TokenRequirements.getOnBehalfOf:()Lorg/apache/cxf/sts/request/ReceivedToken;
     294: astore        11
     296: aload_0
     297: aload         11
     299: aload         5
     301: aload_2
     302: aload         8
     304: aload         6
     306: invokespecial #60                 // Method handleDelegationToken:(Lorg/apache/cxf/sts/request/ReceivedToken;Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;Ljavax/xml/ws/WebServiceContext;Ljava/lang/String;Lorg/apache/cxf/sts/request/RequestRequirements;)V
     309: aload         5
     311: invokevirtual #58                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
     314: invokevirtual #61                 // Method org/apache/cxf/sts/request/TokenRequirements.getActAs:()Lorg/apache/cxf/sts/request/ReceivedToken;
     317: ifnull        343
     320: aload         5
     322: invokevirtual #58                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
     325: invokevirtual #61                 // Method org/apache/cxf/sts/request/TokenRequirements.getActAs:()Lorg/apache/cxf/sts/request/ReceivedToken;
     328: astore        11
     330: aload_0
     331: aload         11
     333: aload         5
     335: aload_2
     336: aload         8
     338: aload         6
     340: invokespecial #60                 // Method handleDelegationToken:(Lorg/apache/cxf/sts/request/ReceivedToken;Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;Ljavax/xml/ws/WebServiceContext;Ljava/lang/String;Lorg/apache/cxf/sts/request/RequestRequirements;)V
     343: aconst_null
     344: astore        11
     346: aload_0
     347: getfield      #62                 // Field tokenProviders:Ljava/util/List;
     350: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     355: astore        12
     357: aload         12
     359: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
     364: ifeq          484
     367: aload         12
     369: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     374: checkcast     #63                 // class org/apache/cxf/sts/token/provider/TokenProvider
     377: astore        13
     379: iconst_0
     380: istore        14
     382: aload         8
     384: ifnonnull     401
     387: aload         13
     389: aload         10
     391: invokeinterface #64,  2           // InterfaceMethod org/apache/cxf/sts/token/provider/TokenProvider.canHandleToken:(Ljava/lang/String;)Z
     396: istore        14
     398: goto          414
     401: aload         13
     403: aload         10
     405: aload         8
     407: invokeinterface #65,  3           // InterfaceMethod org/apache/cxf/sts/token/provider/TokenProvider.canHandleToken:(Ljava/lang/String;Ljava/lang/String;)Z
     412: istore        14
     414: iload         14
     416: ifeq          481
     419: aload         13
     421: aload         5
     423: invokeinterface #66,  2           // InterfaceMethod org/apache/cxf/sts/token/provider/TokenProvider.createToken:(Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;)Lorg/apache/cxf/sts/token/provider/TokenProviderResponse;
     428: astore        11
     430: goto          484
     433: astore        15
     435: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     438: getstatic     #68                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     441: ldc           #69                 // String
     443: aload         15
     445: invokevirtual #70                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     448: aload         15
     450: athrow
     451: astore        15
     453: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     456: getstatic     #68                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     459: ldc           #69                 // String
     461: aload         15
     463: invokevirtual #70                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     466: new           #67                 // class org/apache/cxf/ws/security/sts/provider/STSException
     469: dup
     470: ldc           #72                 // String Error in providing a token
     472: aload         15
     474: getstatic     #73                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     477: invokespecial #74                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;Ljavax/xml/namespace/QName;)V
     480: athrow
     481: goto          357
     484: aload         11
     486: ifnull        497
     489: aload         11
     491: invokevirtual #75                 // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getToken:()Lorg/w3c/dom/Element;
     494: ifnonnull     557
     497: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     500: getstatic     #68                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     503: new           #34                 // class java/lang/StringBuilder
     506: dup
     507: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     510: ldc           #76                 // String No token provider found for requested token type:
     512: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     515: aload         10
     517: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     520: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     523: invokevirtual #77                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     526: new           #67                 // class org/apache/cxf/ws/security/sts/provider/STSException
     529: dup
     530: new           #34                 // class java/lang/StringBuilder
     533: dup
     534: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     537: ldc           #76                 // String No token provider found for requested token type:
     539: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     542: aload         10
     544: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     547: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     550: getstatic     #73                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     553: invokespecial #78                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     556: athrow
     557: aload         6
     559: invokevirtual #79                 // Method org/apache/cxf/sts/request/RequestRequirements.getKeyRequirements:()Lorg/apache/cxf/sts/request/KeyRequirements;
     562: astore        12
     564: aload         5
     566: invokevirtual #80                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.getEncryptionProperties:()Lorg/apache/cxf/sts/service/EncryptionProperties;
     569: astore        13
     571: aload_0
     572: aload         13
     574: aload         11
     576: aload         9
     578: aload         12
     580: aload_2
     581: invokespecial #81                 // Method createResponse:(Lorg/apache/cxf/sts/service/EncryptionProperties;Lorg/apache/cxf/sts/token/provider/TokenProviderResponse;Lorg/apache/cxf/sts/request/TokenRequirements;Lorg/apache/cxf/sts/request/KeyRequirements;Ljavax/xml/ws/WebServiceContext;)Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType;
     584: astore        14
     586: new           #82                 // class org/apache/cxf/sts/event/STSIssueSuccessEvent
     589: dup
     590: aload         5
     592: invokestatic  #12                 // Method java/lang/System.currentTimeMillis:()J
     595: lload_3
     596: lsub
     597: invokespecial #83                 // Method org/apache/cxf/sts/event/STSIssueSuccessEvent."<init>":(Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;J)V
     600: astore        15
     602: aload_0
     603: aload         15
     605: invokevirtual #84                 // Method publishEvent:(Lorg/apache/cxf/sts/event/AbstractSTSEvent;)V
     608: aload         14
     610: areturn
     611: astore        12
     613: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     616: getstatic     #68                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     619: ldc           #69                 // String
     621: aload         12
     623: invokevirtual #70                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     626: new           #67                 // class org/apache/cxf/ws/security/sts/provider/STSException
     629: dup
     630: ldc           #86                 // String Error in creating the response
     632: aload         12
     634: getstatic     #73                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     637: invokespecial #74                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;Ljavax/xml/namespace/QName;)V
     640: athrow
     641: astore        6
     643: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     646: getstatic     #87                 // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
     649: new           #34                 // class java/lang/StringBuilder
     652: dup
     653: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     656: ldc           #88                 // String Cannot issue token:
     658: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     661: aload         6
     663: invokevirtual #89                 // Method java/lang/RuntimeException.getMessage:()Ljava/lang/String;
     666: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     669: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     672: aload         6
     674: invokevirtual #70                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     677: new           #90                 // class org/apache/cxf/sts/event/STSIssueFailureEvent
     680: dup
     681: aload         5
     683: invokestatic  #12                 // Method java/lang/System.currentTimeMillis:()J
     686: lload_3
     687: lsub
     688: aload         6
     690: invokespecial #91                 // Method org/apache/cxf/sts/event/STSIssueFailureEvent."<init>":(Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;JLjava/lang/Exception;)V
     693: astore        7
     695: aload_0
     696: aload         7
     698: invokevirtual #84                 // Method publishEvent:(Lorg/apache/cxf/sts/event/AbstractSTSEvent;)V
     701: aload         6
     703: athrow
    Exception table:
       from    to  target type
         419   430   433   Class org/apache/cxf/ws/security/sts/provider/STSException
         419   430   451   Class java/lang/RuntimeException
         557   610   611   Class java/lang/Throwable
          13   610   641   Class java/lang/RuntimeException
         611   641   641   Class java/lang/RuntimeException

  private void handleDelegationToken(org.apache.cxf.sts.request.ReceivedToken, org.apache.cxf.sts.token.provider.TokenProviderParameters, javax.xml.ws.WebServiceContext, java.lang.String, org.apache.cxf.sts.request.RequestRequirements);
    Code:
       0: aload_0
       1: aload_3
       2: aload         4
       4: aload         5
       6: invokevirtual #23                 // Method org/apache/cxf/sts/request/RequestRequirements.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
       9: aload_1
      10: invokevirtual #92                 // Method validateReceivedToken:(Ljavax/xml/ws/WebServiceContext;Ljava/lang/String;Lorg/apache/cxf/sts/request/TokenRequirements;Lorg/apache/cxf/sts/request/ReceivedToken;)Lorg/apache/cxf/sts/token/validator/TokenValidatorResponse;
      13: astore        6
      15: aload         6
      17: ifnonnull     31
      20: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
      23: ldc           #93                 // String No Token Validator has been found that can handle this token
      25: invokevirtual #41                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      28: goto          78
      31: aload_1
      32: invokevirtual #94                 // Method org/apache/cxf/sts/request/ReceivedToken.getState:()Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      35: getstatic     #95                 // Field org/apache/cxf/sts/request/ReceivedToken$STATE.INVALID:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      38: invokevirtual #96                 // Method org/apache/cxf/sts/request/ReceivedToken$STATE.equals:(Ljava/lang/Object;)Z
      41: ifeq          57
      44: new           #67                 // class org/apache/cxf/ws/security/sts/provider/STSException
      47: dup
      48: ldc           #97                 // String Incoming token is invalid
      50: getstatic     #73                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
      53: invokespecial #78                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
      56: athrow
      57: aload_1
      58: invokevirtual #94                 // Method org/apache/cxf/sts/request/ReceivedToken.getState:()Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      61: getstatic     #45                 // Field org/apache/cxf/sts/request/ReceivedToken$STATE.VALID:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
      64: invokevirtual #96                 // Method org/apache/cxf/sts/request/ReceivedToken$STATE.equals:(Ljava/lang/Object;)Z
      67: ifeq          78
      70: aload_0
      71: aload_2
      72: aload_1
      73: aload         6
      75: invokevirtual #55                 // Method processValidToken:(Lorg/apache/cxf/sts/token/provider/TokenProviderParameters;Lorg/apache/cxf/sts/request/ReceivedToken;Lorg/apache/cxf/sts/token/validator/TokenValidatorResponse;)V
      78: aconst_null
      79: astore        7
      81: aconst_null
      82: astore        8
      84: aload         6
      86: ifnull        121
      89: aload         6
      91: invokevirtual #98                 // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getAdditionalProperties:()Ljava/util/Map;
      94: astore        9
      96: aload         9
      98: ifnull        107
     101: aload_2
     102: aload         9
     104: invokevirtual #99                 // Method org/apache/cxf/sts/token/provider/TokenProviderParameters.setAdditionalProperties:(Ljava/util/Map;)V
     107: aload         6
     109: invokevirtual #100                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getPrincipal:()Ljava/security/Principal;
     112: astore        7
     114: aload         6
     116: invokevirtual #101                // Method org/apache/cxf/sts/token/validator/TokenValidatorResponse.getRoles:()Ljava/util/Set;
     119: astore        8
     121: aload_0
     122: aload         5
     124: aload_3
     125: aload_1
     126: aload         7
     128: aload         8
     130: invokevirtual #102                // Method performDelegationHandling:(Lorg/apache/cxf/sts/request/RequestRequirements;Ljavax/xml/ws/WebServiceContext;Lorg/apache/cxf/sts/request/ReceivedToken;Ljava/security/Principal;Ljava/util/Set;)V
     133: return

  private org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenResponseType createResponse(org.apache.cxf.sts.service.EncryptionProperties, org.apache.cxf.sts.token.provider.TokenProviderResponse, org.apache.cxf.sts.request.TokenRequirements, org.apache.cxf.sts.request.KeyRequirements, javax.xml.ws.WebServiceContext) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
       3: invokevirtual #103                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestSecurityTokenResponseType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType;
       6: astore        6
       8: aload_3
       9: invokevirtual #104                // Method org/apache/cxf/sts/request/TokenRequirements.getContext:()Ljava/lang/String;
      12: astore        7
      14: aload         7
      16: ifnull        26
      19: aload         6
      21: aload         7
      23: invokevirtual #105                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.setContext:(Ljava/lang/String;)V
      26: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
      29: aload_3
      30: invokevirtual #24                 // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
      33: invokevirtual #106                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createTokenType:(Ljava/lang/String;)Ljavax/xml/bind/JAXBElement;
      36: astore        8
      38: aload         6
      40: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
      43: aload         8
      45: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      50: pop
      51: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
      54: invokevirtual #108                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedSecurityTokenType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestedSecurityTokenType;
      57: astore        9
      59: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
      62: aload         9
      64: invokevirtual #109                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedSecurityToken:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestedSecurityTokenType;)Ljavax/xml/bind/JAXBElement;
      67: astore        10
      69: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
      72: new           #34                 // class java/lang/StringBuilder
      75: dup
      76: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
      79: ldc           #110                // String Encrypting Issued Token:
      81: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      84: aload_0
      85: getfield      #111                // Field encryptIssuedToken:Z
      88: invokevirtual #112                // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      91: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      94: invokevirtual #41                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      97: aload_0
      98: getfield      #111                // Field encryptIssuedToken:Z
     101: ifne          116
     104: aload         9
     106: aload_2
     107: invokevirtual #75                 // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getToken:()Lorg/w3c/dom/Element;
     110: invokevirtual #113                // Method org/apache/cxf/ws/security/sts/provider/model/RequestedSecurityTokenType.setAny:(Ljava/lang/Object;)V
     113: goto          138
     116: aload         9
     118: aload_0
     119: aload_2
     120: invokevirtual #75                 // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getToken:()Lorg/w3c/dom/Element;
     123: aload_2
     124: invokevirtual #114                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getTokenId:()Ljava/lang/String;
     127: aload_1
     128: aload         4
     130: aload         5
     132: invokevirtual #115                // Method encryptToken:(Lorg/w3c/dom/Element;Ljava/lang/String;Lorg/apache/cxf/sts/service/EncryptionProperties;Lorg/apache/cxf/sts/request/KeyRequirements;Ljavax/xml/ws/WebServiceContext;)Lorg/w3c/dom/Element;
     135: invokevirtual #113                // Method org/apache/cxf/ws/security/sts/provider/model/RequestedSecurityTokenType.setAny:(Ljava/lang/Object;)V
     138: aload         6
     140: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     143: aload         10
     145: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     150: pop
     151: aload_0
     152: getfield      #116                // Field returnReferences:Z
     155: ifeq          282
     158: aload_2
     159: invokevirtual #117                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getAttachedReference:()Lorg/apache/cxf/sts/token/provider/TokenReference;
     162: astore        11
     164: aconst_null
     165: astore        12
     167: aload         11
     169: ifnull        183
     172: aload         11
     174: iconst_1
     175: invokestatic  #118                // Method createRequestedReference:(Lorg/apache/cxf/sts/token/provider/TokenReference;Z)Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;
     178: astore        12
     180: goto          197
     183: aload_2
     184: invokevirtual #114                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getTokenId:()Ljava/lang/String;
     187: aload_3
     188: invokevirtual #24                 // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
     191: iconst_1
     192: invokestatic  #119                // Method createRequestedReference:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;
     195: astore        12
     197: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     200: aload         12
     202: invokevirtual #120                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedAttachedReference:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;)Ljavax/xml/bind/JAXBElement;
     205: astore        13
     207: aload         6
     209: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     212: aload         13
     214: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     219: pop
     220: aload_2
     221: invokevirtual #121                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getUnAttachedReference:()Lorg/apache/cxf/sts/token/provider/TokenReference;
     224: astore        14
     226: aconst_null
     227: astore        15
     229: aload         14
     231: ifnull        245
     234: aload         14
     236: iconst_0
     237: invokestatic  #118                // Method createRequestedReference:(Lorg/apache/cxf/sts/token/provider/TokenReference;Z)Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;
     240: astore        15
     242: goto          259
     245: aload_2
     246: invokevirtual #114                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getTokenId:()Ljava/lang/String;
     249: aload_3
     250: invokevirtual #24                 // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
     253: iconst_0
     254: invokestatic  #119                // Method createRequestedReference:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;
     257: astore        15
     259: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     262: aload         15
     264: invokevirtual #122                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedUnattachedReference:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestedReferenceType;)Ljavax/xml/bind/JAXBElement;
     267: astore        16
     269: aload         6
     271: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     274: aload         16
     276: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     281: pop
     282: aload         6
     284: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     287: aload_3
     288: invokevirtual #123                // Method org/apache/cxf/sts/request/TokenRequirements.getAppliesTo:()Lorg/w3c/dom/Element;
     291: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     296: pop
     297: aload_2
     298: invokevirtual #124                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.isComputedKey:()Z
     301: ifeq          366
     304: aload         4
     306: invokevirtual #125                // Method org/apache/cxf/sts/request/KeyRequirements.getComputedKeyAlgorithm:()Ljava/lang/String;
     309: ifnull        366
     312: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     315: aload         4
     317: invokevirtual #125                // Method org/apache/cxf/sts/request/KeyRequirements.getComputedKeyAlgorithm:()Ljava/lang/String;
     320: invokevirtual #126                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createComputedKey:(Ljava/lang/String;)Ljavax/xml/bind/JAXBElement;
     323: astore        11
     325: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     328: invokevirtual #127                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedProofTokenType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestedProofTokenType;
     331: astore        12
     333: aload         12
     335: aload         11
     337: invokevirtual #128                // Method org/apache/cxf/ws/security/sts/provider/model/RequestedProofTokenType.setAny:(Ljava/lang/Object;)V
     340: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     343: aload         12
     345: invokevirtual #129                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedProofToken:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestedProofTokenType;)Ljavax/xml/bind/JAXBElement;
     348: astore        13
     350: aload         6
     352: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     355: aload         13
     357: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     362: pop
     363: goto          424
     366: aload_2
     367: invokevirtual #130                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getEntropy:()[B
     370: ifnull        424
     373: aload_0
     374: aload_2
     375: invokevirtual #130                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getEntropy:()[B
     378: aload_1
     379: aload         4
     381: invokespecial #131                // Method constructSecretToken:([BLorg/apache/cxf/sts/service/EncryptionProperties;Lorg/apache/cxf/sts/request/KeyRequirements;)Ljava/lang/Object;
     384: astore        11
     386: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     389: invokevirtual #127                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedProofTokenType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestedProofTokenType;
     392: astore        12
     394: aload         12
     396: aload         11
     398: invokevirtual #128                // Method org/apache/cxf/ws/security/sts/provider/model/RequestedProofTokenType.setAny:(Ljava/lang/Object;)V
     401: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     404: aload         12
     406: invokevirtual #129                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedProofToken:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestedProofTokenType;)Ljavax/xml/bind/JAXBElement;
     409: astore        13
     411: aload         6
     413: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     416: aload         13
     418: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     423: pop
     424: aload_2
     425: invokevirtual #124                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.isComputedKey:()Z
     428: ifeq          495
     431: aload_2
     432: invokevirtual #130                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getEntropy:()[B
     435: ifnull        495
     438: aload_0
     439: aload_2
     440: invokevirtual #130                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getEntropy:()[B
     443: aload_1
     444: aload         4
     446: invokespecial #131                // Method constructSecretToken:([BLorg/apache/cxf/sts/service/EncryptionProperties;Lorg/apache/cxf/sts/request/KeyRequirements;)Ljava/lang/Object;
     449: astore        11
     451: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     454: invokevirtual #132                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createEntropyType:()Lorg/apache/cxf/ws/security/sts/provider/model/EntropyType;
     457: astore        12
     459: aload         12
     461: invokevirtual #133                // Method org/apache/cxf/ws/security/sts/provider/model/EntropyType.getAny:()Ljava/util/List;
     464: aload         11
     466: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     471: pop
     472: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     475: aload         12
     477: invokevirtual #134                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createEntropy:(Lorg/apache/cxf/ws/security/sts/provider/model/EntropyType;)Ljavax/xml/bind/JAXBElement;
     480: astore        13
     482: aload         6
     484: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     487: aload         13
     489: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     494: pop
     495: aload_2
     496: invokevirtual #135                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getCreated:()Ljava/util/Date;
     499: aload_2
     500: invokevirtual #136                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getExpires:()Ljava/util/Date;
     503: invokestatic  #137                // Method createLifetime:(Ljava/util/Date;Ljava/util/Date;)Lorg/apache/cxf/ws/security/sts/provider/model/LifetimeType;
     506: astore        11
     508: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     511: aload         11
     513: invokevirtual #138                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createLifetime:(Lorg/apache/cxf/ws/security/sts/provider/model/LifetimeType;)Ljavax/xml/bind/JAXBElement;
     516: astore        12
     518: aload         6
     520: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     523: aload         12
     525: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     530: pop
     531: aload_2
     532: invokevirtual #139                // Method org/apache/cxf/sts/token/provider/TokenProviderResponse.getKeySize:()J
     535: lstore        13
     537: lload         13
     539: lconst_0
     540: lcmp
     541: ifgt          551
     544: aload         4
     546: invokevirtual #140                // Method org/apache/cxf/sts/request/KeyRequirements.getKeySize:()J
     549: lstore        13
     551: aload         4
     553: invokevirtual #140                // Method org/apache/cxf/sts/request/KeyRequirements.getKeySize:()J
     556: lconst_0
     557: lcmp
     558: ifle          587
     561: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
     564: lload         13
     566: invokestatic  #141                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     569: invokevirtual #142                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createKeySize:(Ljava/lang/Long;)Ljavax/xml/bind/JAXBElement;
     572: astore        15
     574: aload         6
     576: invokevirtual #107                // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
     579: aload         15
     581: invokeinterface #6,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     586: pop
     587: aload         6
     589: areturn

  private static org.apache.wss4j.common.saml.SamlAssertionWrapper fetchSAMLAssertionFromWSSecuritySAMLToken(javax.xml.ws.WebServiceContext);
    Code:
       0: aload_0
       1: invokeinterface #143,  1          // InterfaceMethod javax/xml/ws/WebServiceContext.getMessageContext:()Ljavax/xml/ws/handler/MessageContext;
       6: astore_1
       7: aload_1
       8: ldc           #144                // String RECV_RESULTS
      10: invokeinterface #145,  2          // InterfaceMethod javax/xml/ws/handler/MessageContext.get:(Ljava/lang/Object;)Ljava/lang/Object;
      15: checkcast     #146                // class java/util/List
      18: invokestatic  #147                // Method org/apache/cxf/helpers/CastUtils.cast:(Ljava/util/List;)Ljava/util/List;
      21: astore_2
      22: aload_2
      23: ifnull        109
      26: aload_2
      27: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
      32: ifle          109
      35: aload_2
      36: iconst_0
      37: invokeinterface #149,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      42: checkcast     #150                // class org/apache/wss4j/dom/handler/WSHandlerResult
      45: astore_3
      46: aload_3
      47: invokevirtual #151                // Method org/apache/wss4j/dom/handler/WSHandlerResult.getResults:()Ljava/util/List;
      50: astore        4
      52: aload         4
      54: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      59: astore        5
      61: aload         5
      63: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      68: ifeq          109
      71: aload         5
      73: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      78: checkcast     #152                // class org/apache/wss4j/dom/engine/WSSecurityEngineResult
      81: astore        6
      83: aload         6
      85: ldc           #153                // String saml-assertion
      87: invokevirtual #154                // Method org/apache/wss4j/dom/engine/WSSecurityEngineResult.get:(Ljava/lang/Object;)Ljava/lang/Object;
      90: astore        7
      92: aload         7
      94: instanceof    #155                // class org/apache/wss4j/common/saml/SamlAssertionWrapper
      97: ifeq          106
     100: aload         7
     102: checkcast     #155                // class org/apache/wss4j/common/saml/SamlAssertionWrapper
     105: areturn
     106: goto          61
     109: getstatic     #156                // Field org/apache/wss4j/stax/securityEvent/WSSecurityEventConstants.SamlToken:Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;
     112: aload_1
     113: invokestatic  #157                // Method findInboundSecurityToken:(Lorg/apache/xml/security/stax/securityEvent/SecurityEventConstants$Event;Ljavax/xml/ws/handler/MessageContext;)Lorg/apache/xml/security/stax/securityToken/SecurityToken;
     116: astore_3
     117: aload_3
     118: instanceof    #158                // class org/apache/wss4j/stax/securityToken/SamlSecurityToken
     121: ifeq          146
     124: aload_3
     125: checkcast     #158                // class org/apache/wss4j/stax/securityToken/SamlSecurityToken
     128: invokeinterface #159,  1          // InterfaceMethod org/apache/wss4j/stax/securityToken/SamlSecurityToken.getSamlAssertionWrapper:()Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;
     133: ifnull        146
     136: aload_3
     137: checkcast     #158                // class org/apache/wss4j/stax/securityToken/SamlSecurityToken
     140: invokeinterface #159,  1          // InterfaceMethod org/apache/wss4j/stax/securityToken/SamlSecurityToken.getSamlAssertionWrapper:()Lorg/apache/wss4j/common/saml/SamlAssertionWrapper;
     145: areturn
     146: goto          166
     149: astore_3
     150: getstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
     153: getstatic     #32                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
     156: aload_3
     157: invokevirtual #161                // Method org/apache/xml/security/exceptions/XMLSecurityException.getMessage:()Ljava/lang/String;
     160: aload_3
     161: invokevirtual #70                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     164: aconst_null
     165: areturn
     166: aconst_null
     167: areturn
    Exception table:
       from    to  target type
         109   145   149   Class org/apache/xml/security/exceptions/XMLSecurityException

  private java.lang.Object constructSecretToken(byte[], org.apache.cxf.sts.service.EncryptionProperties, org.apache.cxf.sts.request.KeyRequirements) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
       3: invokevirtual #162                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createBinarySecretType:()Lorg/apache/cxf/ws/security/sts/provider/model/BinarySecretType;
       6: astore        4
       8: ldc           #163                // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/Nonce
      10: astore        5
      12: aload         4
      14: aload         5
      16: invokevirtual #164                // Method org/apache/cxf/ws/security/sts/provider/model/BinarySecretType.setType:(Ljava/lang/String;)V
      19: aload         4
      21: aload_1
      22: invokevirtual #165                // Method org/apache/cxf/ws/security/sts/provider/model/BinarySecretType.setValue:([B)V
      25: getstatic     #3                  // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
      28: aload         4
      30: invokevirtual #166                // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createBinarySecret:(Lorg/apache/cxf/ws/security/sts/provider/model/BinarySecretType;)Ljavax/xml/bind/JAXBElement;
      33: astore        6
      35: aload         6
      37: areturn

  static {};
    Code:
       0: ldc_w         #167                // class org/apache/cxf/sts/operation/TokenIssueOperation
       3: invokestatic  #168                // Method org/apache/cxf/common/logging/LogUtils.getL7dLogger:(Ljava/lang/Class;)Ljava/util/logging/Logger;
       6: putstatic     #31                 // Field LOG:Ljava/util/logging/Logger;
       9: return
}
