Compiled from "KerberosTokenInterceptorProvider.java"
class org.apache.cxf.ws.security.policy.interceptors.KerberosTokenInterceptorProvider$KerberosTokenOutInterceptor extends org.apache.cxf.phase.AbstractPhaseInterceptor<org.apache.cxf.message.Message> {
  org.apache.cxf.ws.security.policy.interceptors.KerberosTokenInterceptorProvider$KerberosTokenOutInterceptor();
    Code:
       0: aload_0
       1: ldc           #1                  // String prepare-send
       3: invokespecial #2                  // Method org/apache/cxf/phase/AbstractPhaseInterceptor."<init>":(Ljava/lang/String;)V
       6: return

  public void handleMessage(org.apache.cxf.message.Message) throws org.apache.cxf.interceptor.Fault;
    Code:
       0: aload_1
       1: ldc_w         #3                  // class org/apache/cxf/ws/policy/AssertionInfoMap
       4: invokeinterface #4,  2            // InterfaceMethod org/apache/cxf/message/Message.get:(Ljava/lang/Class;)Ljava/lang/Object;
       9: checkcast     #3                  // class org/apache/cxf/ws/policy/AssertionInfoMap
      12: astore_2
      13: aload_2
      14: ifnull        278
      17: aload_2
      18: ldc           #5                  // String KerberosToken
      20: invokestatic  #6                  // Method org/apache/cxf/ws/security/policy/PolicyUtils.getAllAssertionsByLocalname:(Lorg/apache/cxf/ws/policy/AssertionInfoMap;Ljava/lang/String;)Ljava/util/Collection;
      23: astore_3
      24: aload_3
      25: invokeinterface #7,  1            // InterfaceMethod java/util/Collection.isEmpty:()Z
      30: ifeq          34
      33: return
      34: aload_0
      35: aload_1
      36: invokevirtual #8                  // Method isRequestor:(Lorg/apache/cxf/message/Message;)Z
      39: ifeq          225
      42: aconst_null
      43: astore        4
      45: aload_1
      46: ldc           #9                  // String kerberos
      48: invokestatic  #10                 // Method org/apache/cxf/ws/security/kerberos/KerberosUtils.getClient:(Lorg/apache/cxf/message/Message;Ljava/lang/String;)Lorg/apache/cxf/ws/security/kerberos/KerberosClient;
      51: astore        5
      53: aload         5
      55: dup
      56: astore        6
      58: monitorenter
      59: aload         5
      61: invokevirtual #11                 // Method org/apache/cxf/ws/security/kerberos/KerberosClient.requestSecurityToken:()Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      64: astore        4
      66: aload         6
      68: monitorexit
      69: goto          80
      72: astore        7
      74: aload         6
      76: monitorexit
      77: aload         7
      79: athrow
      80: goto          100
      83: astore        5
      85: aload         5
      87: athrow
      88: astore        5
      90: new           #14                 // class org/apache/cxf/interceptor/Fault
      93: dup
      94: aload         5
      96: invokespecial #15                 // Method org/apache/cxf/interceptor/Fault."<init>":(Ljava/lang/Throwable;)V
      99: athrow
     100: aload         4
     102: ifnull        222
     105: aload_3
     106: invokeinterface #16,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     111: astore        5
     113: aload         5
     115: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     120: ifeq          144
     123: aload         5
     125: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     130: checkcast     #19                 // class org/apache/cxf/ws/policy/AssertionInfo
     133: astore        6
     135: aload         6
     137: iconst_1
     138: invokevirtual #20                 // Method org/apache/cxf/ws/policy/AssertionInfo.setAsserted:(Z)V
     141: goto          113
     144: aload_1
     145: invokeinterface #21,  1           // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
     150: invokeinterface #22,  1           // InterfaceMethod org/apache/cxf/message/Exchange.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
     155: ldc           #23                 // String ws-security.token.id
     157: aload         4
     159: invokevirtual #24                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     162: invokeinterface #25,  3           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     167: pop
     168: aload_1
     169: invokeinterface #21,  1           // InterfaceMethod org/apache/cxf/message/Message.getExchange:()Lorg/apache/cxf/message/Exchange;
     174: ldc           #23                 // String ws-security.token.id
     176: aload         4
     178: invokevirtual #24                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getId:()Ljava/lang/String;
     181: invokeinterface #26,  3           // InterfaceMethod org/apache/cxf/message/Exchange.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     186: pop
     187: aload_1
     188: invokestatic  #27                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
     191: aload         4
     193: invokeinterface #28,  2           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.add:(Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)V
     198: aload         4
     200: invokevirtual #29                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getSHA1:()Ljava/lang/String;
     203: ifnull        222
     206: aload_1
     207: invokestatic  #27                 // Method org/apache/cxf/ws/security/tokenstore/TokenStoreUtils.getTokenStore:(Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
     210: aload         4
     212: invokevirtual #29                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getSHA1:()Ljava/lang/String;
     215: aload         4
     217: invokeinterface #30,  3           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.add:(Ljava/lang/String;Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)V
     222: goto          264
     225: aload_3
     226: invokeinterface #16,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     231: astore        4
     233: aload         4
     235: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     240: ifeq          264
     243: aload         4
     245: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     250: checkcast     #19                 // class org/apache/cxf/ws/policy/AssertionInfo
     253: astore        5
     255: aload         5
     257: iconst_1
     258: invokevirtual #20                 // Method org/apache/cxf/ws/policy/AssertionInfo.setAsserted:(Z)V
     261: goto          233
     264: aload_2
     265: ldc           #31                 // String WssKerberosV5ApReqToken11
     267: invokestatic  #32                 // Method org/apache/cxf/ws/security/policy/PolicyUtils.assertPolicy:(Lorg/apache/cxf/ws/policy/AssertionInfoMap;Ljava/lang/String;)Z
     270: pop
     271: aload_2
     272: ldc           #33                 // String WssGssKerberosV5ApReqToken11
     274: invokestatic  #32                 // Method org/apache/cxf/ws/security/policy/PolicyUtils.assertPolicy:(Lorg/apache/cxf/ws/policy/AssertionInfoMap;Ljava/lang/String;)Z
     277: pop
     278: return
    Exception table:
       from    to  target type
          59    69    72   any
          72    77    72   any
          45    80    83   Class java/lang/RuntimeException
          45    80    88   Class java/lang/Exception
}
