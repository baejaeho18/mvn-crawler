Compiled from "TokenCancelOperation.java"
public class org.apache.cxf.sts.operation.TokenCancelOperation extends org.apache.cxf.sts.operation.AbstractOperation implements org.apache.cxf.ws.security.sts.provider.operation.CancelOperation {
  private static final java.util.logging.Logger LOG;

  private java.util.List<org.apache.cxf.sts.token.canceller.TokenCanceller> tokencancellers;

  public org.apache.cxf.sts.operation.TokenCancelOperation();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/cxf/sts/operation/AbstractOperation."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/ArrayList
       8: dup
       9: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      12: putfield      #4                  // Field tokencancellers:Ljava/util/List;
      15: return

  public void setTokenCancellers(java.util.List<org.apache.cxf.sts.token.canceller.TokenCanceller>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field tokencancellers:Ljava/util/List;
       5: return

  public java.util.List<org.apache.cxf.sts.token.canceller.TokenCanceller> getTokenCancellers();
    Code:
       0: aload_0
       1: getfield      #4                  // Field tokencancellers:Ljava/util/List;
       4: areturn

  public org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenResponseType cancel(org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenType, javax.xml.ws.WebServiceContext);
    Code:
       0: invokestatic  #5                  // Method java/lang/System.currentTimeMillis:()J
       3: lstore_3
       4: new           #6                  // class org/apache/cxf/sts/token/canceller/TokenCancellerParameters
       7: dup
       8: invokespecial #7                  // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters."<init>":()V
      11: astore        5
      13: aload_0
      14: aload_1
      15: aload_2
      16: invokevirtual #8                  // Method parseRequest:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenType;Ljavax/xml/ws/WebServiceContext;)Lorg/apache/cxf/sts/request/RequestRequirements;
      19: astore        6
      21: aload         6
      23: invokevirtual #9                  // Method org/apache/cxf/sts/request/RequestRequirements.getKeyRequirements:()Lorg/apache/cxf/sts/request/KeyRequirements;
      26: astore        7
      28: aload         6
      30: invokevirtual #10                 // Method org/apache/cxf/sts/request/RequestRequirements.getTokenRequirements:()Lorg/apache/cxf/sts/request/TokenRequirements;
      33: astore        8
      35: aload         5
      37: aload_0
      38: getfield      #11                 // Field stsProperties:Lorg/apache/cxf/sts/STSPropertiesMBean;
      41: invokevirtual #12                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters.setStsProperties:(Lorg/apache/cxf/sts/STSPropertiesMBean;)V
      44: aload         5
      46: aload_2
      47: invokeinterface #13,  1           // InterfaceMethod javax/xml/ws/WebServiceContext.getUserPrincipal:()Ljava/security/Principal;
      52: invokevirtual #14                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters.setPrincipal:(Ljava/security/Principal;)V
      55: aload         5
      57: aload_2
      58: invokevirtual #15                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters.setWebServiceContext:(Ljavax/xml/ws/WebServiceContext;)V
      61: aload         5
      63: aload_0
      64: invokevirtual #16                 // Method getTokenStore:()Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      67: invokevirtual #17                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters.setTokenStore:(Lorg/apache/cxf/ws/security/tokenstore/TokenStore;)V
      70: aload         5
      72: aload         7
      74: invokevirtual #18                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters.setKeyRequirements:(Lorg/apache/cxf/sts/request/KeyRequirements;)V
      77: aload         5
      79: aload         8
      81: invokevirtual #19                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters.setTokenRequirements:(Lorg/apache/cxf/sts/request/TokenRequirements;)V
      84: aload         8
      86: invokevirtual #20                 // Method org/apache/cxf/sts/request/TokenRequirements.getCancelTarget:()Lorg/apache/cxf/sts/request/ReceivedToken;
      89: astore        9
      91: aload         9
      93: ifnull        104
      96: aload         9
      98: invokevirtual #21                 // Method org/apache/cxf/sts/request/ReceivedToken.getToken:()Ljava/lang/Object;
     101: ifnonnull     117
     104: new           #22                 // class org/apache/cxf/ws/security/sts/provider/STSException
     107: dup
     108: ldc           #23                 // String No element presented for cancellation
     110: getstatic     #24                 // Field org/apache/cxf/ws/security/sts/provider/STSException.INVALID_REQUEST:Ljavax/xml/namespace/QName;
     113: invokespecial #25                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     116: athrow
     117: aload         5
     119: aload         9
     121: invokevirtual #26                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerParameters.setToken:(Lorg/apache/cxf/sts/request/ReceivedToken;)V
     124: aload         8
     126: invokevirtual #27                 // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
     129: ifnonnull     147
     132: aload         8
     134: ldc           #28                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/RSTR/Status
     136: invokevirtual #29                 // Method org/apache/cxf/sts/request/TokenRequirements.setTokenType:(Ljava/lang/String;)V
     139: getstatic     #30                 // Field LOG:Ljava/util/logging/Logger;
     142: ldc           #31                 // String Received TokenType is null, falling back to default token type: http://docs.oasis-open.org/ws-sx/ws-trust/200512/RSTR/Status
     144: invokevirtual #32                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     147: aconst_null
     148: astore        10
     150: aload_0
     151: getfield      #4                  // Field tokencancellers:Ljava/util/List;
     154: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     159: astore        11
     161: aload         11
     163: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     168: ifeq          242
     171: aload         11
     173: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     178: checkcast     #36                 // class org/apache/cxf/sts/token/canceller/TokenCanceller
     181: astore        12
     183: aload         12
     185: aload         9
     187: invokeinterface #37,  2           // InterfaceMethod org/apache/cxf/sts/token/canceller/TokenCanceller.canHandleToken:(Lorg/apache/cxf/sts/request/ReceivedToken;)Z
     192: ifeq          239
     195: aload         12
     197: aload         5
     199: invokeinterface #38,  2           // InterfaceMethod org/apache/cxf/sts/token/canceller/TokenCanceller.cancelToken:(Lorg/apache/cxf/sts/token/canceller/TokenCancellerParameters;)Lorg/apache/cxf/sts/token/canceller/TokenCancellerResponse;
     204: astore        10
     206: goto          242
     209: astore        13
     211: getstatic     #30                 // Field LOG:Ljava/util/logging/Logger;
     214: getstatic     #40                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     217: ldc           #41                 // String
     219: aload         13
     221: invokevirtual #42                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     224: new           #22                 // class org/apache/cxf/ws/security/sts/provider/STSException
     227: dup
     228: ldc           #43                 // String Error while cancelling a token
     230: aload         13
     232: getstatic     #44                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     235: invokespecial #45                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;Ljavax/xml/namespace/QName;)V
     238: athrow
     239: goto          161
     242: aload         10
     244: ifnull        255
     247: aload         10
     249: invokevirtual #46                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerResponse.getToken:()Lorg/apache/cxf/sts/request/ReceivedToken;
     252: ifnonnull     297
     255: getstatic     #30                 // Field LOG:Ljava/util/logging/Logger;
     258: ldc           #47                 // String No Token Canceller has been found that can handle this token
     260: invokevirtual #32                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     263: new           #22                 // class org/apache/cxf/ws/security/sts/provider/STSException
     266: dup
     267: new           #48                 // class java/lang/StringBuilder
     270: dup
     271: invokespecial #49                 // Method java/lang/StringBuilder."<init>":()V
     274: ldc           #50                 // String No token canceller found for requested token type:
     276: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     279: aload         8
     281: invokevirtual #27                 // Method org/apache/cxf/sts/request/TokenRequirements.getTokenType:()Ljava/lang/String;
     284: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     287: invokevirtual #52                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     290: getstatic     #44                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     293: invokespecial #25                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljavax/xml/namespace/QName;)V
     296: athrow
     297: aload         10
     299: invokevirtual #46                 // Method org/apache/cxf/sts/token/canceller/TokenCancellerResponse.getToken:()Lorg/apache/cxf/sts/request/ReceivedToken;
     302: invokevirtual #53                 // Method org/apache/cxf/sts/request/ReceivedToken.getState:()Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
     305: getstatic     #54                 // Field org/apache/cxf/sts/request/ReceivedToken$STATE.CANCELLED:Lorg/apache/cxf/sts/request/ReceivedToken$STATE;
     308: if_acmpeq     332
     311: getstatic     #30                 // Field LOG:Ljava/util/logging/Logger;
     314: getstatic     #40                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     317: ldc           #55                 // String Token cancellation failed.
     319: invokevirtual #56                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     322: new           #22                 // class org/apache/cxf/ws/security/sts/provider/STSException
     325: dup
     326: ldc           #55                 // String Token cancellation failed.
     328: invokespecial #57                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;)V
     331: athrow
     332: aload_0
     333: aload         8
     335: invokespecial #58                 // Method createResponse:(Lorg/apache/cxf/sts/request/TokenRequirements;)Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType;
     338: astore        11
     340: new           #59                 // class org/apache/cxf/sts/event/STSCancelSuccessEvent
     343: dup
     344: aload         5
     346: invokestatic  #5                  // Method java/lang/System.currentTimeMillis:()J
     349: lload_3
     350: lsub
     351: invokespecial #60                 // Method org/apache/cxf/sts/event/STSCancelSuccessEvent."<init>":(Lorg/apache/cxf/sts/token/canceller/TokenCancellerParameters;J)V
     354: astore        12
     356: aload_0
     357: aload         12
     359: invokevirtual #61                 // Method publishEvent:(Lorg/apache/cxf/sts/event/AbstractSTSEvent;)V
     362: aload         11
     364: areturn
     365: astore        11
     367: getstatic     #30                 // Field LOG:Ljava/util/logging/Logger;
     370: getstatic     #40                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     373: ldc           #41                 // String
     375: aload         11
     377: invokevirtual #42                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     380: new           #22                 // class org/apache/cxf/ws/security/sts/provider/STSException
     383: dup
     384: ldc           #63                 // String Error in creating the response
     386: aload         11
     388: getstatic     #44                 // Field org/apache/cxf/ws/security/sts/provider/STSException.REQUEST_FAILED:Ljavax/xml/namespace/QName;
     391: invokespecial #45                 // Method org/apache/cxf/ws/security/sts/provider/STSException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;Ljavax/xml/namespace/QName;)V
     394: athrow
     395: astore        6
     397: new           #64                 // class org/apache/cxf/sts/event/STSCancelFailureEvent
     400: dup
     401: aload         5
     403: invokestatic  #5                  // Method java/lang/System.currentTimeMillis:()J
     406: lload_3
     407: lsub
     408: aload         6
     410: invokespecial #65                 // Method org/apache/cxf/sts/event/STSCancelFailureEvent."<init>":(Lorg/apache/cxf/sts/token/canceller/TokenCancellerParameters;JLjava/lang/Exception;)V
     413: astore        7
     415: aload_0
     416: aload         7
     418: invokevirtual #61                 // Method publishEvent:(Lorg/apache/cxf/sts/event/AbstractSTSEvent;)V
     421: aload         6
     423: athrow
    Exception table:
       from    to  target type
         195   206   209   Class java/lang/RuntimeException
         332   364   365   Class java/lang/Throwable
          13   364   395   Class java/lang/RuntimeException
         365   395   395   Class java/lang/RuntimeException

  private org.apache.cxf.ws.security.sts.provider.model.RequestSecurityTokenResponseType createResponse(org.apache.cxf.sts.request.TokenRequirements) throws org.apache.wss4j.common.ext.WSSecurityException;
    Code:
       0: getstatic     #66                 // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
       3: invokevirtual #67                 // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestSecurityTokenResponseType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType;
       6: astore_2
       7: aload_1
       8: invokevirtual #68                 // Method org/apache/cxf/sts/request/TokenRequirements.getContext:()Ljava/lang/String;
      11: astore_3
      12: aload_3
      13: ifnull        21
      16: aload_2
      17: aload_3
      18: invokevirtual #69                 // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.setContext:(Ljava/lang/String;)V
      21: getstatic     #66                 // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
      24: invokevirtual #70                 // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedTokenCancelledType:()Lorg/apache/cxf/ws/security/sts/provider/model/RequestedTokenCancelledType;
      27: astore        4
      29: getstatic     #66                 // Field org/apache/cxf/sts/QNameConstants.WS_TRUST_FACTORY:Lorg/apache/cxf/ws/security/sts/provider/model/ObjectFactory;
      32: aload         4
      34: invokevirtual #71                 // Method org/apache/cxf/ws/security/sts/provider/model/ObjectFactory.createRequestedTokenCancelled:(Lorg/apache/cxf/ws/security/sts/provider/model/RequestedTokenCancelledType;)Ljavax/xml/bind/JAXBElement;
      37: astore        5
      39: aload_2
      40: invokevirtual #72                 // Method org/apache/cxf/ws/security/sts/provider/model/RequestSecurityTokenResponseType.getAny:()Ljava/util/List;
      43: aload         5
      45: invokeinterface #73,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      50: pop
      51: aload_2
      52: areturn

  static {};
    Code:
       0: ldc_w         #74                 // class org/apache/cxf/sts/operation/TokenCancelOperation
       3: invokestatic  #75                 // Method org/apache/cxf/common/logging/LogUtils.getL7dLogger:(Ljava/lang/Class;)Ljava/util/logging/Logger;
       6: putstatic     #30                 // Field LOG:Ljava/util/logging/Logger;
       9: return
}
