Compiled from "TokenStoreCallbackHandler.java"
public class org.apache.cxf.ws.security.wss4j.TokenStoreCallbackHandler implements javax.security.auth.callback.CallbackHandler {
  private javax.security.auth.callback.CallbackHandler internal;

  private org.apache.cxf.ws.security.tokenstore.TokenStore store;

  public org.apache.cxf.ws.security.wss4j.TokenStoreCallbackHandler(javax.security.auth.callback.CallbackHandler, org.apache.cxf.ws.security.tokenstore.TokenStore);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field internal:Ljavax/security/auth/callback/CallbackHandler;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field store:Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      14: return

  public void handle(javax.security.auth.callback.Callback[]) throws java.io.IOException, javax.security.auth.callback.UnsupportedCallbackException;
    Code:
       0: aload_1
       1: astore_2
       2: aload_2
       3: arraylength
       4: istore_3
       5: iconst_0
       6: istore        4
       8: iload         4
      10: iload_3
      11: if_icmpge     150
      14: aload_2
      15: iload         4
      17: aaload
      18: astore        5
      20: aload         5
      22: instanceof    #4                  // class org/apache/wss4j/common/ext/WSPasswordCallback
      25: ifeq          144
      28: aload         5
      30: checkcast     #4                  // class org/apache/wss4j/common/ext/WSPasswordCallback
      33: astore        6
      35: aload         6
      37: invokevirtual #5                  // Method org/apache/wss4j/common/ext/WSPasswordCallback.getIdentifier:()Ljava/lang/String;
      40: astore        7
      42: aload_0
      43: getfield      #3                  // Field store:Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
      46: aload         7
      48: invokeinterface #6,  2            // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.getToken:(Ljava/lang/String;)Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;
      53: astore        8
      55: aload         8
      57: ifnull        144
      60: aload         8
      62: invokevirtual #7                  // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.isExpired:()Z
      65: ifne          144
      68: aload         8
      70: invokevirtual #8                  // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getSHA1:()Ljava/lang/String;
      73: ifnonnull     113
      76: aload         6
      78: invokevirtual #9                  // Method org/apache/wss4j/common/ext/WSPasswordCallback.getKey:()[B
      81: ifnull        113
      84: aload         8
      86: aload         6
      88: invokevirtual #9                  // Method org/apache/wss4j/common/ext/WSPasswordCallback.getKey:()[B
      91: invokestatic  #10                 // Method getSHA1:([B)Ljava/lang/String;
      94: invokevirtual #11                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.setSHA1:(Ljava/lang/String;)V
      97: aload_0
      98: getfield      #3                  // Field store:Lorg/apache/cxf/ws/security/tokenstore/TokenStore;
     101: aload         8
     103: invokevirtual #8                  // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getSHA1:()Ljava/lang/String;
     106: aload         8
     108: invokeinterface #12,  3           // InterfaceMethod org/apache/cxf/ws/security/tokenstore/TokenStore.add:(Ljava/lang/String;Lorg/apache/cxf/ws/security/tokenstore/SecurityToken;)V
     113: aload         6
     115: aload         8
     117: invokevirtual #13                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getSecret:()[B
     120: invokevirtual #14                 // Method org/apache/wss4j/common/ext/WSPasswordCallback.setKey:([B)V
     123: aload         6
     125: aload         8
     127: invokevirtual #15                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getKey:()Ljava/security/Key;
     130: invokevirtual #16                 // Method org/apache/wss4j/common/ext/WSPasswordCallback.setKey:(Ljava/security/Key;)V
     133: aload         6
     135: aload         8
     137: invokevirtual #17                 // Method org/apache/cxf/ws/security/tokenstore/SecurityToken.getToken:()Lorg/w3c/dom/Element;
     140: invokevirtual #18                 // Method org/apache/wss4j/common/ext/WSPasswordCallback.setCustomToken:(Lorg/w3c/dom/Element;)V
     143: return
     144: iinc          4, 1
     147: goto          8
     150: aload_0
     151: getfield      #2                  // Field internal:Ljavax/security/auth/callback/CallbackHandler;
     154: ifnull        167
     157: aload_0
     158: getfield      #2                  // Field internal:Ljavax/security/auth/callback/CallbackHandler;
     161: aload_1
     162: invokeinterface #19,  2           // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
     167: return

  private static java.lang.String getSHA1(byte[]);
    Code:
       0: aload_0
       1: invokestatic  #20                 // Method org/apache/wss4j/common/util/KeyUtils.generateDigest:([B)[B
       4: astore_1
       5: aload_1
       6: invokestatic  #21                 // Method org/apache/xml/security/utils/Base64.encode:([B)Ljava/lang/String;
       9: areturn
      10: astore_1
      11: aconst_null
      12: areturn
    Exception table:
       from    to  target type
           0     9    10   Class org/apache/wss4j/common/ext/WSSecurityException
}
