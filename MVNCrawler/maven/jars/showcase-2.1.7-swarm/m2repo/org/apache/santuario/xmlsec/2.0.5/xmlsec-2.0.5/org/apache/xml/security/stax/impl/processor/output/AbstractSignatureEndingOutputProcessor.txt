Compiled from "AbstractSignatureEndingOutputProcessor.java"
public abstract class org.apache.xml.security.stax.impl.processor.output.AbstractSignatureEndingOutputProcessor extends org.apache.xml.security.stax.ext.AbstractBufferingOutputProcessor {
  private java.util.List<org.apache.xml.security.stax.impl.SignaturePartDef> signaturePartDefList;

  public org.apache.xml.security.stax.impl.processor.output.AbstractSignatureEndingOutputProcessor(org.apache.xml.security.stax.impl.processor.output.AbstractSignatureOutputProcessor) throws org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/xml/security/stax/ext/AbstractBufferingOutputProcessor."<init>":()V
       4: aload_0
       5: aload_1
       6: invokevirtual #2                  // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureOutputProcessor.getSignaturePartDefList:()Ljava/util/List;
       9: putfield      #3                  // Field signaturePartDefList:Ljava/util/List;
      12: return

  public void processHeaderEvent(org.apache.xml.security.stax.ext.OutputProcessorChain) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #4,  2            // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.createSubChain:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)Lorg/apache/xml/security/stax/ext/OutputProcessorChain;
       7: astore_2
       8: new           #5                  // class java/util/ArrayList
      11: dup
      12: iconst_1
      13: invokespecial #6                  // Method java/util/ArrayList."<init>":(I)V
      16: astore_3
      17: aload_3
      18: aload_0
      19: getstatic     #7                  // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.ATT_NULL_Id:Ljavax/xml/namespace/QName;
      22: aconst_null
      23: invokestatic  #8                  // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
      26: invokevirtual #9                  // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
      29: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      34: pop
      35: aload_0
      36: aload_2
      37: getstatic     #11                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_Signature:Ljavax/xml/namespace/QName;
      40: iconst_1
      41: aload_3
      42: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
      45: astore        4
      47: invokestatic  #13                 // Method org/apache/xml/security/stax/impl/algorithms/SignatureAlgorithmFactory.getInstance:()Lorg/apache/xml/security/stax/impl/algorithms/SignatureAlgorithmFactory;
      50: aload_0
      51: invokevirtual #14                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
      54: invokevirtual #15                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureAlgorithm:()Ljava/lang/String;
      57: invokevirtual #16                 // Method org/apache/xml/security/stax/impl/algorithms/SignatureAlgorithmFactory.getSignatureAlgorithm:(Ljava/lang/String;)Lorg/apache/xml/security/stax/impl/algorithms/SignatureAlgorithm;
      60: astore        5
      62: goto          89
      65: astore        6
      67: new           #18                 // class org/apache/xml/security/exceptions/XMLSecurityException
      70: dup
      71: aload         6
      73: invokespecial #19                 // Method org/apache/xml/security/exceptions/XMLSecurityException."<init>":(Ljava/lang/Exception;)V
      76: athrow
      77: astore        6
      79: new           #18                 // class org/apache/xml/security/exceptions/XMLSecurityException
      82: dup
      83: aload         6
      85: invokespecial #19                 // Method org/apache/xml/security/exceptions/XMLSecurityException."<init>":(Ljava/lang/Exception;)V
      88: athrow
      89: aload_1
      90: invokeinterface #21,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
      95: ldc           #22                 // String PROP_USE_THIS_TOKEN_ID_FOR_SIGNATURE
      97: invokeinterface #23,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.get:(Ljava/lang/String;)Ljava/lang/Object;
     102: checkcast     #24                 // class java/lang/String
     105: astore        6
     107: aload         6
     109: ifnonnull     122
     112: new           #18                 // class org/apache/xml/security/exceptions/XMLSecurityException
     115: dup
     116: ldc           #25                 // String stax.keyNotFound
     118: invokespecial #26                 // Method org/apache/xml/security/exceptions/XMLSecurityException."<init>":(Ljava/lang/String;)V
     121: athrow
     122: aload_1
     123: invokeinterface #21,  1           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.getSecurityContext:()Lorg/apache/xml/security/stax/ext/OutboundSecurityContext;
     128: aload         6
     130: invokeinterface #27,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutboundSecurityContext.getSecurityTokenProvider:(Ljava/lang/String;)Lorg/apache/xml/security/stax/securityToken/SecurityTokenProvider;
     135: astore        7
     137: aload         7
     139: ifnonnull     152
     142: new           #18                 // class org/apache/xml/security/exceptions/XMLSecurityException
     145: dup
     146: ldc           #25                 // String stax.keyNotFound
     148: invokespecial #26                 // Method org/apache/xml/security/exceptions/XMLSecurityException."<init>":(Ljava/lang/String;)V
     151: athrow
     152: aload         7
     154: invokeinterface #28,  1           // InterfaceMethod org/apache/xml/security/stax/securityToken/SecurityTokenProvider.getSecurityToken:()Ljava/lang/Object;
     159: checkcast     #29                 // class org/apache/xml/security/stax/securityToken/OutboundSecurityToken
     162: astore        8
     164: aload         8
     166: ifnonnull     179
     169: new           #18                 // class org/apache/xml/security/exceptions/XMLSecurityException
     172: dup
     173: ldc           #25                 // String stax.keyNotFound
     175: invokespecial #26                 // Method org/apache/xml/security/exceptions/XMLSecurityException."<init>":(Ljava/lang/String;)V
     178: athrow
     179: aload_0
     180: invokevirtual #14                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     183: invokevirtual #15                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureAlgorithm:()Ljava/lang/String;
     186: astore        9
     188: aload         8
     190: aload         9
     192: invokeinterface #30,  2           // InterfaceMethod org/apache/xml/security/stax/securityToken/OutboundSecurityToken.getSecretKey:(Ljava/lang/String;)Ljava/security/Key;
     197: astore        10
     199: ldc           #31                 // String http://www.w3.org/2000/09/xmldsig#hmac-sha1
     201: aload         9
     203: invokevirtual #32                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     206: ifeq          223
     209: aload         9
     211: aload         10
     213: invokeinterface #33,  1           // InterfaceMethod java/security/Key.getEncoded:()[B
     218: invokestatic  #34                 // Method org/apache/xml/security/stax/ext/XMLSecurityUtils.prepareSecretKey:(Ljava/lang/String;[B)Ljavax/crypto/SecretKey;
     221: astore        10
     223: aload         5
     225: aload         10
     227: invokeinterface #35,  2           // InterfaceMethod org/apache/xml/security/stax/impl/algorithms/SignatureAlgorithm.engineInitSign:(Ljava/security/Key;)V
     232: aload_0
     233: aload         5
     235: aload         4
     237: aload_2
     238: invokevirtual #36                 // Method newSignedInfoProcessor:(Lorg/apache/xml/security/stax/impl/algorithms/SignatureAlgorithm;Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;Lorg/apache/xml/security/stax/ext/OutputProcessorChain;)Lorg/apache/xml/security/stax/impl/processor/output/AbstractSignatureEndingOutputProcessor$SignedInfoProcessor;
     241: astore        11
     243: aload_0
     244: aload_2
     245: getstatic     #37                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_SignedInfo:Ljavax/xml/namespace/QName;
     248: iconst_0
     249: aconst_null
     250: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     253: pop
     254: new           #5                  // class java/util/ArrayList
     257: dup
     258: iconst_1
     259: invokespecial #6                  // Method java/util/ArrayList."<init>":(I)V
     262: astore_3
     263: aload_0
     264: invokevirtual #14                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     267: invokevirtual #38                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureCanonicalizationAlgorithm:()Ljava/lang/String;
     270: astore        12
     272: aload_3
     273: aload_0
     274: getstatic     #39                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.ATT_NULL_Algorithm:Ljavax/xml/namespace/QName;
     277: aload         12
     279: invokevirtual #9                  // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     282: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     287: pop
     288: aload_0
     289: aload_2
     290: getstatic     #40                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_CanonicalizationMethod:Ljavax/xml/namespace/QName;
     293: iconst_0
     294: aload_3
     295: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     298: pop
     299: aload_0
     300: invokevirtual #14                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     303: invokevirtual #41                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.isAddExcC14NInclusivePrefixes:()Z
     306: ifeq          366
     309: ldc           #42                 // String http://www.w3.org/2001/10/xml-exc-c14n#
     311: aload         12
     313: invokevirtual #32                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     316: ifeq          366
     319: new           #5                  // class java/util/ArrayList
     322: dup
     323: iconst_1
     324: invokespecial #6                  // Method java/util/ArrayList."<init>":(I)V
     327: astore_3
     328: aload_3
     329: aload_0
     330: getstatic     #43                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.ATT_NULL_PrefixList:Ljavax/xml/namespace/QName;
     333: aload         11
     335: invokevirtual #44                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureEndingOutputProcessor$SignedInfoProcessor.getInclusiveNamespacePrefixes:()Ljava/lang/String;
     338: invokevirtual #9                  // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     341: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     346: pop
     347: aload_0
     348: aload_2
     349: getstatic     #45                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_c14nExcl_InclusiveNamespaces:Ljavax/xml/namespace/QName;
     352: iconst_1
     353: aload_3
     354: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     357: pop
     358: aload_0
     359: aload_2
     360: getstatic     #45                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_c14nExcl_InclusiveNamespaces:Ljavax/xml/namespace/QName;
     363: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     366: aload_0
     367: aload_2
     368: getstatic     #40                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_CanonicalizationMethod:Ljavax/xml/namespace/QName;
     371: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     374: new           #5                  // class java/util/ArrayList
     377: dup
     378: iconst_1
     379: invokespecial #6                  // Method java/util/ArrayList."<init>":(I)V
     382: astore_3
     383: aload_3
     384: aload_0
     385: getstatic     #39                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.ATT_NULL_Algorithm:Ljavax/xml/namespace/QName;
     388: aload_0
     389: invokevirtual #14                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     392: invokevirtual #15                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureAlgorithm:()Ljava/lang/String;
     395: invokevirtual #9                  // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     398: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     403: pop
     404: aload_0
     405: aload_2
     406: getstatic     #47                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_SignatureMethod:Ljavax/xml/namespace/QName;
     409: iconst_0
     410: aload_3
     411: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     414: pop
     415: aload_0
     416: aload_2
     417: getstatic     #47                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_SignatureMethod:Ljavax/xml/namespace/QName;
     420: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     423: aload_0
     424: getfield      #3                  // Field signaturePartDefList:Ljava/util/List;
     427: invokeinterface #48,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     432: astore        13
     434: aload         13
     436: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     441: ifeq          670
     444: aload         13
     446: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     451: checkcast     #51                 // class org/apache/xml/security/stax/impl/SignaturePartDef
     454: astore        14
     456: aload         14
     458: invokevirtual #52                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.isExternalResource:()Z
     461: ifeq          474
     464: aload         14
     466: invokevirtual #53                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getSigRefId:()Ljava/lang/String;
     469: astore        15
     471: goto          540
     474: aload         14
     476: invokevirtual #54                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.isGenerateXPointer:()Z
     479: ifeq          515
     482: new           #55                 // class java/lang/StringBuilder
     485: dup
     486: invokespecial #56                 // Method java/lang/StringBuilder."<init>":()V
     489: ldc           #57                 // String #xpointer(id(\'
     491: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     494: aload         14
     496: invokevirtual #53                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getSigRefId:()Ljava/lang/String;
     499: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     502: ldc           #59                 // String \'))
     504: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     507: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     510: astore        15
     512: goto          540
     515: new           #55                 // class java/lang/StringBuilder
     518: dup
     519: invokespecial #56                 // Method java/lang/StringBuilder."<init>":()V
     522: ldc           #61                 // String #
     524: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     527: aload         14
     529: invokevirtual #53                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getSigRefId:()Ljava/lang/String;
     532: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     535: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     538: astore        15
     540: new           #5                  // class java/util/ArrayList
     543: dup
     544: iconst_1
     545: invokespecial #6                  // Method java/util/ArrayList."<init>":(I)V
     548: astore_3
     549: aload_3
     550: aload_0
     551: getstatic     #62                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.ATT_NULL_URI:Ljavax/xml/namespace/QName;
     554: aload         15
     556: invokevirtual #9                  // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     559: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     564: pop
     565: aload_0
     566: aload_2
     567: getstatic     #63                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_Reference:Ljavax/xml/namespace/QName;
     570: iconst_0
     571: aload_3
     572: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     575: pop
     576: aload_0
     577: aload_2
     578: aload         14
     580: invokevirtual #64                 // Method createTransformsStructureForSignature:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Lorg/apache/xml/security/stax/impl/SignaturePartDef;)V
     583: new           #5                  // class java/util/ArrayList
     586: dup
     587: iconst_1
     588: invokespecial #6                  // Method java/util/ArrayList."<init>":(I)V
     591: astore_3
     592: aload_3
     593: aload_0
     594: getstatic     #39                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.ATT_NULL_Algorithm:Ljavax/xml/namespace/QName;
     597: aload         14
     599: invokevirtual #65                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getDigestAlgo:()Ljava/lang/String;
     602: invokevirtual #9                  // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     605: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     610: pop
     611: aload_0
     612: aload_2
     613: getstatic     #66                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_DigestMethod:Ljavax/xml/namespace/QName;
     616: iconst_0
     617: aload_3
     618: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     621: pop
     622: aload_0
     623: aload_2
     624: getstatic     #66                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_DigestMethod:Ljavax/xml/namespace/QName;
     627: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     630: aload_0
     631: aload_2
     632: getstatic     #67                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_DigestValue:Ljavax/xml/namespace/QName;
     635: iconst_0
     636: aconst_null
     637: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     640: pop
     641: aload_0
     642: aload_2
     643: aload         14
     645: invokevirtual #68                 // Method org/apache/xml/security/stax/impl/SignaturePartDef.getDigestValue:()Ljava/lang/String;
     648: invokevirtual #69                 // Method createCharactersAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)V
     651: aload_0
     652: aload_2
     653: getstatic     #67                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_DigestValue:Ljavax/xml/namespace/QName;
     656: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     659: aload_0
     660: aload_2
     661: getstatic     #63                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_Reference:Ljavax/xml/namespace/QName;
     664: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     667: goto          434
     670: aload_0
     671: aload_2
     672: getstatic     #37                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_SignedInfo:Ljavax/xml/namespace/QName;
     675: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     678: aload_2
     679: aload         11
     681: invokeinterface #70,  2           // InterfaceMethod org/apache/xml/security/stax/ext/OutputProcessorChain.removeProcessor:(Lorg/apache/xml/security/stax/ext/OutputProcessor;)V
     686: aload_0
     687: aload_2
     688: getstatic     #71                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_SignatureValue:Ljavax/xml/namespace/QName;
     691: iconst_0
     692: aconst_null
     693: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     696: pop
     697: aload         11
     699: invokevirtual #72                 // Method org/apache/xml/security/stax/impl/processor/output/AbstractSignatureEndingOutputProcessor$SignedInfoProcessor.getSignatureValue:()[B
     702: astore        14
     704: aload_0
     705: aload_2
     706: new           #73                 // class org/apache/commons/codec/binary/Base64
     709: dup
     710: bipush        76
     712: iconst_1
     713: newarray       byte
     715: dup
     716: iconst_0
     717: bipush        10
     719: bastore
     720: invokespecial #74                 // Method org/apache/commons/codec/binary/Base64."<init>":(I[B)V
     723: aload         14
     725: invokevirtual #75                 // Method org/apache/commons/codec/binary/Base64.encodeToString:([B)Ljava/lang/String;
     728: invokevirtual #69                 // Method createCharactersAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljava/lang/String;)V
     731: aload_0
     732: aload_2
     733: getstatic     #71                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_SignatureValue:Ljavax/xml/namespace/QName;
     736: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     739: new           #5                  // class java/util/ArrayList
     742: dup
     743: iconst_1
     744: invokespecial #6                  // Method java/util/ArrayList."<init>":(I)V
     747: astore_3
     748: aload_3
     749: aload_0
     750: getstatic     #7                  // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.ATT_NULL_Id:Ljavax/xml/namespace/QName;
     753: aconst_null
     754: invokestatic  #8                  // Method org/apache/xml/security/stax/impl/util/IDGenerator.generateID:(Ljava/lang/String;)Ljava/lang/String;
     757: invokevirtual #9                  // Method createAttribute:(Ljavax/xml/namespace/QName;Ljava/lang/String;)Lorg/apache/xml/security/stax/ext/stax/XMLSecAttribute;
     760: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     765: pop
     766: getstatic     #76                 // Field org/apache/xml/security/stax/securityToken/SecurityTokenConstants.KeyIdentifier_NoKeyInfo:Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;
     769: aload_0
     770: invokevirtual #14                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     773: invokevirtual #77                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.getSignatureKeyIdentifier:()Lorg/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier;
     776: invokevirtual #78                 // Method org/apache/xml/security/stax/securityToken/SecurityTokenConstants$KeyIdentifier.equals:(Ljava/lang/Object;)Z
     779: ifne          815
     782: aload_0
     783: aload_2
     784: getstatic     #79                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_KeyInfo:Ljavax/xml/namespace/QName;
     787: iconst_0
     788: aload_3
     789: invokevirtual #12                 // Method createStartElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;ZLjava/util/List;)Lorg/apache/xml/security/stax/ext/stax/XMLSecStartElement;
     792: pop
     793: aload_0
     794: aload_2
     795: aload         8
     797: aload_0
     798: invokevirtual #14                 // Method getSecurityProperties:()Lorg/apache/xml/security/stax/ext/XMLSecurityProperties;
     801: invokevirtual #80                 // Method org/apache/xml/security/stax/ext/XMLSecurityProperties.isUseSingleCert:()Z
     804: invokevirtual #81                 // Method createKeyInfoStructureForSignature:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Lorg/apache/xml/security/stax/securityToken/OutboundSecurityToken;Z)V
     807: aload_0
     808: aload_2
     809: getstatic     #79                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_KeyInfo:Ljavax/xml/namespace/QName;
     812: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     815: aload_0
     816: aload_2
     817: getstatic     #11                 // Field org/apache/xml/security/stax/ext/XMLSecurityConstants.TAG_dsig_Signature:Ljavax/xml/namespace/QName;
     820: invokevirtual #46                 // Method createEndElementAndOutputAsEvent:(Lorg/apache/xml/security/stax/ext/OutputProcessorChain;Ljavax/xml/namespace/QName;)V
     823: return
    Exception table:
       from    to  target type
          47    62    65   Class java/security/NoSuchAlgorithmException
          47    62    77   Class java/security/NoSuchProviderException

  protected abstract org.apache.xml.security.stax.impl.processor.output.AbstractSignatureEndingOutputProcessor$SignedInfoProcessor newSignedInfoProcessor(org.apache.xml.security.stax.impl.algorithms.SignatureAlgorithm, org.apache.xml.security.stax.ext.stax.XMLSecStartElement, org.apache.xml.security.stax.ext.OutputProcessorChain) throws org.apache.xml.security.exceptions.XMLSecurityException;

  protected abstract void createTransformsStructureForSignature(org.apache.xml.security.stax.ext.OutputProcessorChain, org.apache.xml.security.stax.impl.SignaturePartDef) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;

  protected abstract void createKeyInfoStructureForSignature(org.apache.xml.security.stax.ext.OutputProcessorChain, org.apache.xml.security.stax.securityToken.OutboundSecurityToken, boolean) throws javax.xml.stream.XMLStreamException, org.apache.xml.security.exceptions.XMLSecurityException;
}
