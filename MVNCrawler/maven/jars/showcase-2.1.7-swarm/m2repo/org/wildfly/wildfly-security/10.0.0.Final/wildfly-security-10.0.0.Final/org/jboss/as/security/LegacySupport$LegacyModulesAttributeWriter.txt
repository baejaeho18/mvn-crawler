Compiled from "LegacySupport.java"
class org.jboss.as.security.LegacySupport$LegacyModulesAttributeWriter implements org.jboss.as.controller.OperationStepHandler {
  private java.lang.String newKeyName;

  org.jboss.as.security.LegacySupport$LegacyModulesAttributeWriter(java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field newKeyName:Ljava/lang/String;
       9: return

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_1
       1: getstatic     #4                  // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
       4: invokeinterface #5,  2            // InterfaceMethod org/jboss/as/controller/OperationContext.readResource:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
       9: astore_3
      10: aload_1
      11: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/controller/OperationContext.getResourceRegistration:()Lorg/jboss/as/controller/registry/ImmutableManagementResourceRegistration;
      16: getstatic     #4                  // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
      19: aload_0
      20: getfield      #3                  // Field newKeyName:Ljava/lang/String;
      23: invokevirtual #7                  // Method org/jboss/as/controller/PathAddress.append:(Ljava/lang/String;)Lorg/jboss/as/controller/PathAddress;
      26: invokeinterface #8,  2            // InterfaceMethod org/jboss/as/controller/registry/ImmutableManagementResourceRegistration.getSubModel:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/ImmutableManagementResourceRegistration;
      31: getstatic     #4                  // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
      34: ldc           #9                  // String add
      36: invokeinterface #10,  3           // InterfaceMethod org/jboss/as/controller/registry/ImmutableManagementResourceRegistration.getOperationHandler:(Lorg/jboss/as/controller/PathAddress;Ljava/lang/String;)Lorg/jboss/as/controller/OperationStepHandler;
      41: astore        4
      43: aload_2
      44: ldc           #11                 // String value
      46: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      49: astore        5
      51: aload         5
      53: invokevirtual #13                 // Method org/jboss/dmr/ModelNode.isDefined:()Z
      56: ifeq          215
      59: new           #14                 // class java/util/ArrayList
      62: dup
      63: aload         5
      65: invokevirtual #15                 // Method org/jboss/dmr/ModelNode.asList:()Ljava/util/List;
      68: invokespecial #16                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      71: astore        6
      73: aload         6
      75: invokestatic  #17                 // Method java/util/Collections.reverse:(Ljava/util/List;)V
      78: aload         6
      80: invokeinterface #18,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      85: astore        7
      87: aload         7
      89: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      94: ifeq          215
      97: aload         7
      99: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     104: checkcast     #21                 // class org/jboss/dmr/ModelNode
     107: astore        8
     109: aload         8
     111: invokevirtual #22                 // Method org/jboss/dmr/ModelNode.clone:()Lorg/jboss/dmr/ModelNode;
     114: astore        9
     116: aload         9
     118: ldc           #24                 // String code
     120: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     123: invokevirtual #25                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     126: astore        10
     128: aload_0
     129: getfield      #3                  // Field newKeyName:Ljava/lang/String;
     132: aload         10
     134: invokestatic  #26                 // Method org/jboss/as/controller/PathElement.pathElement:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/PathElement;
     137: astore        11
     139: aload_2
     140: ldc           #27                 // String address
     142: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     145: invokestatic  #28                 // Method org/jboss/as/controller/PathAddress.pathAddress:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/as/controller/PathAddress;
     148: iconst_1
     149: anewarray     #29                 // class org/jboss/as/controller/PathElement
     152: dup
     153: iconst_0
     154: aload         11
     156: aastore
     157: invokevirtual #30                 // Method org/jboss/as/controller/PathAddress.append:([Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/PathAddress;
     160: astore        12
     162: aload         9
     164: ldc           #27                 // String address
     166: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     169: aload         12
     171: invokevirtual #31                 // Method org/jboss/as/controller/PathAddress.toModelNode:()Lorg/jboss/dmr/ModelNode;
     174: invokevirtual #32                 // Method org/jboss/dmr/ModelNode.set:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     177: pop
     178: aload         9
     180: ldc           #33                 // String operation
     182: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     185: ldc           #9                  // String add
     187: invokevirtual #34                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     190: pop
     191: aload_1
     192: new           #21                 // class org/jboss/dmr/ModelNode
     195: dup
     196: invokespecial #35                 // Method org/jboss/dmr/ModelNode."<init>":()V
     199: aload         9
     201: aload         4
     203: getstatic     #36                 // Field org/jboss/as/controller/OperationContext$Stage.MODEL:Lorg/jboss/as/controller/OperationContext$Stage;
     206: iconst_1
     207: invokeinterface #37,  6           // InterfaceMethod org/jboss/as/controller/OperationContext.addStep:(Lorg/jboss/dmr/ModelNode;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/controller/OperationStepHandler;Lorg/jboss/as/controller/OperationContext$Stage;Z)V
     212: goto          87
     215: aload_3
     216: aload_0
     217: getfield      #3                  // Field newKeyName:Ljava/lang/String;
     220: invokeinterface #38,  2           // InterfaceMethod org/jboss/as/controller/registry/Resource.getChildren:(Ljava/lang/String;)Ljava/util/Set;
     225: invokeinterface #39,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     230: astore        6
     232: aload         6
     234: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     239: ifeq          318
     242: aload         6
     244: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     249: checkcast     #40                 // class org/jboss/as/controller/registry/Resource$ResourceEntry
     252: astore        7
     254: aload_2
     255: ldc           #27                 // String address
     257: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     260: invokestatic  #28                 // Method org/jboss/as/controller/PathAddress.pathAddress:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/as/controller/PathAddress;
     263: iconst_1
     264: anewarray     #29                 // class org/jboss/as/controller/PathElement
     267: dup
     268: iconst_0
     269: aload         7
     271: invokeinterface #41,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource$ResourceEntry.getPathElement:()Lorg/jboss/as/controller/PathElement;
     276: aastore
     277: invokevirtual #30                 // Method org/jboss/as/controller/PathAddress.append:([Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/PathAddress;
     280: astore        8
     282: aload         8
     284: invokestatic  #42                 // Method org/jboss/as/controller/operations/common/Util.createRemoveOperation:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/dmr/ModelNode;
     287: astore        9
     289: aload_1
     290: new           #21                 // class org/jboss/dmr/ModelNode
     293: dup
     294: invokespecial #35                 // Method org/jboss/dmr/ModelNode."<init>":()V
     297: aload         9
     299: new           #43                 // class org/jboss/as/security/SecurityDomainReloadRemoveHandler
     302: dup
     303: invokespecial #44                 // Method org/jboss/as/security/SecurityDomainReloadRemoveHandler."<init>":()V
     306: getstatic     #36                 // Field org/jboss/as/controller/OperationContext$Stage.MODEL:Lorg/jboss/as/controller/OperationContext$Stage;
     309: iconst_1
     310: invokeinterface #37,  6           // InterfaceMethod org/jboss/as/controller/OperationContext.addStep:(Lorg/jboss/dmr/ModelNode;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/controller/OperationStepHandler;Lorg/jboss/as/controller/OperationContext$Stage;Z)V
     315: goto          232
     318: return
}
