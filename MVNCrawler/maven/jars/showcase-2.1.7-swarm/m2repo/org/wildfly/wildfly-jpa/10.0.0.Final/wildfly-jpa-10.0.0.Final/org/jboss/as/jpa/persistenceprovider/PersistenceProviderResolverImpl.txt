Compiled from "PersistenceProviderResolverImpl.java"
public class org.jboss.as.jpa.persistenceprovider.PersistenceProviderResolverImpl implements javax.persistence.spi.PersistenceProviderResolver {
  private java.util.Map<java.lang.ClassLoader, java.util.List<java.lang.Class<? extends javax.persistence.spi.PersistenceProvider>>> persistenceProviderPerClassLoader;

  private java.util.List<java.lang.Class<? extends javax.persistence.spi.PersistenceProvider>> providers;

  private static final org.jboss.as.jpa.persistenceprovider.PersistenceProviderResolverImpl INSTANCE;

  public static org.jboss.as.jpa.persistenceprovider.PersistenceProviderResolverImpl getInstance();
    Code:
       0: getstatic     #1                  // Field INSTANCE:Lorg/jboss/as/jpa/persistenceprovider/PersistenceProviderResolverImpl;
       3: areturn

  public org.jboss.as.jpa.persistenceprovider.PersistenceProviderResolverImpl();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/HashMap
       8: dup
       9: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      12: putfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
      15: aload_0
      16: new           #6                  // class java/util/concurrent/CopyOnWriteArrayList
      19: dup
      20: invokespecial #7                  // Method java/util/concurrent/CopyOnWriteArrayList."<init>":()V
      23: putfield      #8                  // Field providers:Ljava/util/List;
      26: return

  public java.util.List<javax.persistence.spi.PersistenceProvider> getPersistenceProviders();
    Code:
       0: new           #9                  // class java/util/ArrayList
       3: dup
       4: aload_0
       5: getfield      #8                  // Field providers:Ljava/util/List;
       8: invokeinterface #10,  1           // InterfaceMethod java/util/List.size:()I
      13: invokespecial #11                 // Method java/util/ArrayList."<init>":(I)V
      16: astore_1
      17: aload_0
      18: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
      21: dup
      22: astore_2
      23: monitorenter
      24: aload_0
      25: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
      28: invokeinterface #12,  1           // InterfaceMethod java/util/Map.size:()I
      33: ifle          187
      36: aload_0
      37: invokestatic  #13                 // Method org/wildfly/security/manager/WildFlySecurityManager.getCurrentContextClassLoaderPrivileged:()Ljava/lang/ClassLoader;
      40: invokespecial #14                 // Method findParentModuleCl:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
      43: astore_3
      44: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      47: ldc           #16                 // String get application level Persistence Provider for classloader %s
      49: aload_3
      50: invokeinterface #17,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      55: aload_0
      56: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
      59: aload_3
      60: invokeinterface #18,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      65: checkcast     #19                 // class java/util/List
      68: astore        4
      70: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      73: ldc           #20                 // String got application level Persistence Provider list %s
      75: aload         4
      77: invokeinterface #17,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      82: aload         4
      84: ifnull        187
      87: aload         4
      89: invokeinterface #21,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      94: astore        5
      96: aload         5
      98: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     103: ifeq          187
     106: aload         5
     108: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     113: checkcast     #24                 // class java/lang/Class
     116: astore        6
     118: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     121: ldc           #25                 // String application has its own Persistence Provider %s
     123: aload         6
     125: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     128: invokeinterface #17,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     133: aload_1
     134: aload         6
     136: invokevirtual #27                 // Method java/lang/Class.newInstance:()Ljava/lang/Object;
     139: invokeinterface #28,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     144: pop
     145: goto          184
     148: astore        7
     150: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     153: aload         7
     155: aload         6
     157: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     160: invokeinterface #30,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.couldNotCreateInstanceProvider:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
     165: athrow
     166: astore        7
     168: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     171: aload         7
     173: aload         6
     175: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     178: invokeinterface #30,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.couldNotCreateInstanceProvider:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
     183: athrow
     184: goto          96
     187: aload_2
     188: monitorexit
     189: goto          199
     192: astore        8
     194: aload_2
     195: monitorexit
     196: aload         8
     198: athrow
     199: aload_0
     200: getfield      #8                  // Field providers:Ljava/util/List;
     203: invokeinterface #21,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     208: astore_2
     209: aload_2
     210: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     215: ifeq          296
     218: aload_2
     219: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     224: checkcast     #24                 // class java/lang/Class
     227: astore_3
     228: aload_1
     229: aload_3
     230: invokevirtual #27                 // Method java/lang/Class.newInstance:()Ljava/lang/Object;
     233: checkcast     #32                 // class javax/persistence/spi/PersistenceProvider
     236: invokeinterface #28,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     241: pop
     242: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     245: ldc           #33                 // String returning global (module) Persistence Provider %s
     247: aload_3
     248: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     251: invokeinterface #17,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     256: goto          293
     259: astore        4
     261: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     264: aload         4
     266: aload_3
     267: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     270: invokeinterface #30,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.couldNotCreateInstanceProvider:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
     275: athrow
     276: astore        4
     278: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     281: aload         4
     283: aload_3
     284: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     287: invokeinterface #30,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.couldNotCreateInstanceProvider:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
     292: athrow
     293: goto          209
     296: aload_1
     297: areturn
    Exception table:
       from    to  target type
         118   145   148   Class java/lang/InstantiationException
         118   145   166   Class java/lang/IllegalAccessException
          24   189   192   any
         192   196   192   any
         228   256   259   Class java/lang/InstantiationException
         228   256   276   Class java/lang/IllegalAccessException

  public void clearCachedProviders();
    Code:
       0: aload_0
       1: getfield      #8                  // Field providers:Ljava/util/List;
       4: invokeinterface #34,  1           // InterfaceMethod java/util/List.clear:()V
       9: return

  public void clearCachedDeploymentSpecificProviders(java.util.Set<java.lang.ClassLoader>);
    Code:
       0: aload_0
       1: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_1
       8: invokeinterface #35,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      13: astore_3
      14: aload_3
      15: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          49
      23: aload_3
      24: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #36                 // class java/lang/ClassLoader
      32: astore        4
      34: aload_0
      35: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
      38: aload         4
      40: invokeinterface #37,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      45: pop
      46: goto          14
      49: aload_2
      50: monitorexit
      51: goto          61
      54: astore        5
      56: aload_2
      57: monitorexit
      58: aload         5
      60: athrow
      61: return
    Exception table:
       from    to  target type
           7    51    54   any
          54    58    54   any

  public void addDeploymentSpecificPersistenceProvider(javax.persistence.spi.PersistenceProvider, java.util.Set<java.lang.ClassLoader>);
    Code:
       0: aload_0
       1: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
       4: dup
       5: astore_3
       6: monitorenter
       7: aload_2
       8: invokeinterface #35,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      13: astore        4
      15: aload         4
      17: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      22: ifeq          143
      25: aload         4
      27: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #36                 // class java/lang/ClassLoader
      35: astore        5
      37: aload_0
      38: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
      41: aload         5
      43: invokeinterface #18,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      48: checkcast     #19                 // class java/util/List
      51: astore        6
      53: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      56: ldc           #38                 // String getting persistence provider list (%s) for deployment (%s)
      58: aload         6
      60: aload         5
      62: invokeinterface #39,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      67: aload         6
      69: ifnonnull     109
      72: new           #9                  // class java/util/ArrayList
      75: dup
      76: invokespecial #40                 // Method java/util/ArrayList."<init>":()V
      79: astore        6
      81: aload_0
      82: getfield      #5                  // Field persistenceProviderPerClassLoader:Ljava/util/Map;
      85: aload         5
      87: aload         6
      89: invokeinterface #41,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      94: pop
      95: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      98: ldc           #42                 // String saving new persistence provider list (%s) for deployment (%s)
     100: aload         6
     102: aload         5
     104: invokeinterface #39,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     109: aload         6
     111: aload_1
     112: invokevirtual #43                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     115: invokeinterface #28,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     120: pop
     121: getstatic     #15                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     124: ldc           #44                 // String added new persistence provider (%s) to provider list (%s)
     126: aload_1
     127: invokevirtual #43                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     130: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     133: aload         6
     135: invokeinterface #39,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     140: goto          15
     143: aload_3
     144: monitorexit
     145: goto          155
     148: astore        7
     150: aload_3
     151: monitorexit
     152: aload         7
     154: athrow
     155: return
    Exception table:
       from    to  target type
           7   145   148   any
         148   152   148   any

  private java.lang.ClassLoader findParentModuleCl(java.lang.ClassLoader);
    Code:
       0: aload_1
       1: astore_2
       2: aload_2
       3: ifnull        21
       6: aload_2
       7: instanceof    #45                 // class org/jboss/modules/ModuleClassLoader
      10: ifne          21
      13: aload_2
      14: invokevirtual #46                 // Method java/lang/ClassLoader.getParent:()Ljava/lang/ClassLoader;
      17: astore_2
      18: goto          2
      21: aload_2
      22: areturn

  public void addPersistenceProvider(javax.persistence.spi.PersistenceProvider);
    Code:
       0: aload_0
       1: getfield      #8                  // Field providers:Ljava/util/List;
       4: aload_1
       5: invokevirtual #43                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       8: invokeinterface #28,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      13: pop
      14: return

  static {};
    Code:
       0: new           #47                 // class org/jboss/as/jpa/persistenceprovider/PersistenceProviderResolverImpl
       3: dup
       4: invokespecial #48                 // Method "<init>":()V
       7: putstatic     #1                  // Field INSTANCE:Lorg/jboss/as/jpa/persistenceprovider/PersistenceProviderResolverImpl;
      10: return
}
