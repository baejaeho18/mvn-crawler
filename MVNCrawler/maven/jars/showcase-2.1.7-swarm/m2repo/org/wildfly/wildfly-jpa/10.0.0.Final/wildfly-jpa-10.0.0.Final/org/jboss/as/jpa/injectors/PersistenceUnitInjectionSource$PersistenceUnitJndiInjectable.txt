Compiled from "PersistenceUnitInjectionSource.java"
final class org.jboss.as.jpa.injectors.PersistenceUnitInjectionSource$PersistenceUnitJndiInjectable implements org.jboss.as.naming.ManagedReferenceFactory {
  final org.jboss.msc.service.ServiceName puServiceName;

  final org.jboss.msc.service.ServiceRegistry serviceRegistry;

  final java.lang.String injectionTypeName;

  final org.jipijapa.plugin.spi.PersistenceUnitMetadata pu;

  private static final java.lang.String ENTITY_MANAGER_FACTORY_CLASS;

  public org.jboss.as.jpa.injectors.PersistenceUnitInjectionSource$PersistenceUnitJndiInjectable(org.jboss.msc.service.ServiceName, org.jboss.msc.service.ServiceRegistry, java.lang.String, org.jipijapa.plugin.spi.PersistenceUnitMetadata);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field puServiceName:Lorg/jboss/msc/service/ServiceName;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field serviceRegistry:Lorg/jboss/msc/service/ServiceRegistry;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field injectionTypeName:Ljava/lang/String;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field pu:Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;
      25: return

  public org.jboss.as.naming.ManagedReference getReference();
    Code:
       0: aload_0
       1: getfield      #3                  // Field serviceRegistry:Lorg/jboss/msc/service/ServiceRegistry;
       4: aload_0
       5: getfield      #2                  // Field puServiceName:Lorg/jboss/msc/service/ServiceName;
       8: invokeinterface #6,  2            // InterfaceMethod org/jboss/msc/service/ServiceRegistry.getRequiredService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
      13: invokeinterface #7,  1            // InterfaceMethod org/jboss/msc/service/ServiceController.getValue:()Ljava/lang/Object;
      18: checkcast     #8                  // class org/jboss/as/jpa/service/PersistenceUnitServiceImpl
      21: astore_1
      22: aload_1
      23: invokevirtual #9                  // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getEntityManagerFactory:()Ljavax/persistence/EntityManagerFactory;
      26: astore_2
      27: ldc           #11                 // String javax.persistence.EntityManagerFactory
      29: aload_0
      30: getfield      #4                  // Field injectionTypeName:Ljava/lang/String;
      33: invokevirtual #12                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      36: ifne          166
      39: aload_0
      40: getfield      #5                  // Field pu:Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;
      43: invokeinterface #13,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getClassLoader:()Ljava/lang/ClassLoader;
      48: aload_0
      49: getfield      #4                  // Field injectionTypeName:Ljava/lang/String;
      52: invokevirtual #14                 // Method java/lang/ClassLoader.loadClass:(Ljava/lang/String;)Ljava/lang/Class;
      55: astore_3
      56: goto          76
      59: astore        4
      61: getstatic     #16                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      64: aload         4
      66: aload_0
      67: getfield      #4                  // Field injectionTypeName:Ljava/lang/String;
      70: invokeinterface #17,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotLoadFromJpa:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
      75: athrow
      76: aload_2
      77: invokevirtual #18                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      80: ldc           #19                 // String getSessionFactory
      82: iconst_0
      83: anewarray     #20                 // class java/lang/Class
      86: invokevirtual #21                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      89: astore        4
      91: goto          105
      94: astore        5
      96: getstatic     #16                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      99: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.hibernateOnlyEntityManagerFactory:()Ljava/lang/RuntimeException;
     104: athrow
     105: aconst_null
     106: astore        5
     108: aload         4
     110: aload_2
     111: iconst_0
     112: anewarray     #24                 // class java/lang/Object
     115: invokevirtual #25                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     118: astore        5
     120: goto          149
     123: astore        6
     125: getstatic     #16                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     128: aload         6
     130: invokeinterface #27,  2           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotGetSessionFactory:(Ljava/lang/Throwable;)Ljava/lang/RuntimeException;
     135: athrow
     136: astore        6
     138: getstatic     #16                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     141: aload         6
     143: invokeinterface #27,  2           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotGetSessionFactory:(Ljava/lang/Throwable;)Ljava/lang/RuntimeException;
     148: athrow
     149: new           #29                 // class org/jboss/as/naming/ValueManagedReference
     152: dup
     153: new           #30                 // class org/jboss/msc/value/ImmediateValue
     156: dup
     157: aload         5
     159: invokespecial #31                 // Method org/jboss/msc/value/ImmediateValue."<init>":(Ljava/lang/Object;)V
     162: invokespecial #32                 // Method org/jboss/as/naming/ValueManagedReference."<init>":(Lorg/jboss/msc/value/Value;)V
     165: areturn
     166: new           #29                 // class org/jboss/as/naming/ValueManagedReference
     169: dup
     170: new           #30                 // class org/jboss/msc/value/ImmediateValue
     173: dup
     174: aload_2
     175: invokespecial #31                 // Method org/jboss/msc/value/ImmediateValue."<init>":(Ljava/lang/Object;)V
     178: invokespecial #32                 // Method org/jboss/as/naming/ValueManagedReference."<init>":(Lorg/jboss/msc/value/Value;)V
     181: areturn
    Exception table:
       from    to  target type
          39    56    59   Class java/lang/ClassNotFoundException
          76    91    94   Class java/lang/NoSuchMethodException
         108   120   123   Class java/lang/IllegalAccessException
         108   120   136   Class java/lang/reflect/InvocationTargetException
}
