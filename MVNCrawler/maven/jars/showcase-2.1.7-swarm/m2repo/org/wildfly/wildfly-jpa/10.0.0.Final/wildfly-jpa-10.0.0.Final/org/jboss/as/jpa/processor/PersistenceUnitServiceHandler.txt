Compiled from "PersistenceUnitServiceHandler.java"
public class org.jboss.as.jpa.processor.PersistenceUnitServiceHandler {
  private static final java.lang.String ENTITYMANAGERFACTORY_JNDI_PROPERTY;

  private static final java.lang.String ENTITYMANAGER_JNDI_PROPERTY;

  public static final org.jboss.msc.service.ServiceName BEANMANAGER_NAME;

  private static final org.jboss.as.server.deployment.AttachmentKey<java.util.Map<java.lang.String, org.jipijapa.plugin.spi.PersistenceProviderAdaptor>> providerAdaptorMapKey;

  public static final org.jboss.as.controller.AttributeDefinition SCOPED_UNIT_NAME;

  private static final java.lang.String FIRST_PHASE;

  private static final java.lang.String EE_DEFAULT_DATASOURCE;

  private static org.jboss.as.server.deployment.AttachmentKey<org.jboss.as.server.deployment.AttachmentList<org.jboss.as.jpa.processor.PersistenceUnitServiceHandler$PersistenceAdaptorRemoval>> REMOVAL_KEY;

  public org.jboss.as.jpa.processor.PersistenceUnitServiceHandler();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static void deploy(org.jboss.as.server.deployment.DeploymentPhaseContext, boolean, org.jipijapa.plugin.spi.Platform) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_0
       1: iload_1
       2: aload_2
       3: invokestatic  #2                  // Method handleWarDeployment:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;ZLorg/jipijapa/plugin/spi/Platform;)V
       6: aload_0
       7: iload_1
       8: aload_2
       9: invokestatic  #3                  // Method handleEarDeployment:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;ZLorg/jipijapa/plugin/spi/Platform;)V
      12: aload_0
      13: iload_1
      14: aload_2
      15: invokestatic  #4                  // Method handleJarDeployment:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;ZLorg/jipijapa/plugin/spi/Platform;)V
      18: iload_1
      19: ifeq          27
      22: aload_0
      23: aload_2
      24: invokestatic  #5                  // Method nextPhaseDependsOnPersistenceUnit:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Lorg/jipijapa/plugin/spi/Platform;)V
      27: return

  public static void undeploy(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: aload_0
       1: getstatic     #6                  // Field REMOVAL_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
       4: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/util/List;
       9: astore_1
      10: aload_1
      11: ifnull        57
      14: aload_1
      15: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      20: astore_2
      21: aload_2
      22: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      27: ifeq          47
      30: aload_2
      31: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      36: checkcast     #11                 // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval
      39: astore_3
      40: aload_3
      41: invokestatic  #12                 // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval.access$000:(Lorg/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval;)V
      44: goto          21
      47: aload_0
      48: getstatic     #6                  // Field REMOVAL_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
      51: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.removeAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      56: pop
      57: return

  private static void handleJarDeployment(org.jboss.as.server.deployment.DeploymentPhaseContext, boolean, org.jipijapa.plugin.spi.Platform) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_0
       1: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: astore_3
       7: aload_3
       8: invokestatic  #15                 // Method isEarDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      11: ifne          118
      14: aload_3
      15: invokestatic  #16                 // Method isWarDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      18: ifne          118
      21: aload_3
      22: invokestatic  #17                 // Method org/jboss/as/server/deployment/JPADeploymentMarker.isJPADeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      25: ifeq          118
      28: aload_3
      29: getstatic     #18                 // Field org/jboss/as/server/deployment/Attachments.DEPLOYMENT_ROOT:Lorg/jboss/as/server/deployment/AttachmentKey;
      32: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      37: checkcast     #20                 // class org/jboss/as/server/deployment/module/ResourceRoot
      40: astore        4
      42: aload         4
      44: ifnull        118
      47: aload         4
      49: getstatic     #21                 // Field org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.PERSISTENCE_UNITS:Lorg/jboss/as/server/deployment/AttachmentKey;
      52: invokevirtual #22                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      55: checkcast     #23                 // class org/jboss/as/jpa/config/PersistenceUnitMetadataHolder
      58: dup
      59: astore        5
      61: ifnull        118
      64: aload         5
      66: invokevirtual #24                 // Method org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.getPersistenceUnits:()Ljava/util/List;
      69: invokeinterface #25,  1           // InterfaceMethod java/util/List.size:()I
      74: ifle          118
      77: new           #26                 // class java/util/ArrayList
      80: dup
      81: iconst_1
      82: invokespecial #27                 // Method java/util/ArrayList."<init>":(I)V
      85: astore        6
      87: aload         6
      89: aload         5
      91: invokevirtual #28                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      94: pop
      95: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      98: ldc           #30                 // String install persistence unit definition for jar %s
     100: aload         4
     102: invokevirtual #31                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRootName:()Ljava/lang/String;
     105: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     110: aload_0
     111: aload         6
     113: iload_1
     114: aload_2
     115: invokestatic  #33                 // Method addPuService:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Ljava/util/ArrayList;ZLorg/jipijapa/plugin/spi/Platform;)V
     118: return

  private static void handleWarDeployment(org.jboss.as.server.deployment.DeploymentPhaseContext, boolean, org.jipijapa.plugin.spi.Platform) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_0
       1: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: astore_3
       7: aload_3
       8: invokestatic  #16                 // Method isWarDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      11: ifeq          243
      14: aload_3
      15: invokestatic  #17                 // Method org/jboss/as/server/deployment/JPADeploymentMarker.isJPADeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      18: ifeq          243
      21: aload_3
      22: getstatic     #18                 // Field org/jboss/as/server/deployment/Attachments.DEPLOYMENT_ROOT:Lorg/jboss/as/server/deployment/AttachmentKey;
      25: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      30: checkcast     #20                 // class org/jboss/as/server/deployment/module/ResourceRoot
      33: astore        4
      35: new           #26                 // class java/util/ArrayList
      38: dup
      39: iconst_1
      40: invokespecial #27                 // Method java/util/ArrayList."<init>":(I)V
      43: astore        6
      45: aconst_null
      46: astore        7
      48: aload         4
      50: ifnull        98
      53: aload         4
      55: getstatic     #21                 // Field org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.PERSISTENCE_UNITS:Lorg/jboss/as/server/deployment/AttachmentKey;
      58: invokevirtual #22                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      61: checkcast     #23                 // class org/jboss/as/jpa/config/PersistenceUnitMetadataHolder
      64: dup
      65: astore        5
      67: ifnull        98
      70: aload         5
      72: invokevirtual #24                 // Method org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.getPersistenceUnits:()Ljava/util/List;
      75: invokeinterface #25,  1           // InterfaceMethod java/util/List.size:()I
      80: ifle          98
      83: aload         6
      85: aload         5
      87: invokevirtual #28                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      90: pop
      91: aload         4
      93: invokevirtual #31                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRootName:()Ljava/lang/String;
      96: astore        7
      98: aload_3
      99: getstatic     #34                 // Field org/jboss/as/server/deployment/Attachments.RESOURCE_ROOTS:Lorg/jboss/as/server/deployment/AttachmentKey;
     102: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/util/List;
     107: astore        8
     109: aload         8
     111: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     116: astore        9
     118: aload         9
     120: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
     125: ifeq          203
     128: aload         9
     130: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     135: checkcast     #20                 // class org/jboss/as/server/deployment/module/ResourceRoot
     138: astore        10
     140: aload         10
     142: invokevirtual #35                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRoot:()Lorg/jboss/vfs/VirtualFile;
     145: invokevirtual #36                 // Method org/jboss/vfs/VirtualFile.getName:()Ljava/lang/String;
     148: getstatic     #37                 // Field java/util/Locale.ENGLISH:Ljava/util/Locale;
     151: invokevirtual #38                 // Method java/lang/String.toLowerCase:(Ljava/util/Locale;)Ljava/lang/String;
     154: ldc           #39                 // String .jar
     156: invokevirtual #40                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
     159: ifeq          200
     162: aload         10
     164: getstatic     #21                 // Field org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.PERSISTENCE_UNITS:Lorg/jboss/as/server/deployment/AttachmentKey;
     167: invokevirtual #22                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     170: checkcast     #23                 // class org/jboss/as/jpa/config/PersistenceUnitMetadataHolder
     173: dup
     174: astore        5
     176: ifnull        200
     179: aload         5
     181: invokevirtual #24                 // Method org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.getPersistenceUnits:()Ljava/util/List;
     184: invokeinterface #25,  1           // InterfaceMethod java/util/List.size:()I
     189: ifle          200
     192: aload         6
     194: aload         5
     196: invokevirtual #28                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
     199: pop
     200: goto          118
     203: iload_1
     204: ifeq          223
     207: aload_3
     208: getstatic     #41                 // Field org/jboss/as/ee/component/Attachments.WEB_SETUP_ACTIONS:Lorg/jboss/as/server/deployment/AttachmentKey;
     211: new           #42                 // class org/jboss/as/jpa/interceptor/WebNonTxEmCloserAction
     214: dup
     215: invokespecial #43                 // Method org/jboss/as/jpa/interceptor/WebNonTxEmCloserAction."<init>":()V
     218: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     223: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     226: ldc           #45                 // String install persistence unit definitions for war %s
     228: aload         7
     230: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     235: aload_0
     236: aload         6
     238: iload_1
     239: aload_2
     240: invokestatic  #33                 // Method addPuService:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Ljava/util/ArrayList;ZLorg/jipijapa/plugin/spi/Platform;)V
     243: return

  private static void handleEarDeployment(org.jboss.as.server.deployment.DeploymentPhaseContext, boolean, org.jipijapa.plugin.spi.Platform) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_0
       1: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: astore_3
       7: aload_3
       8: invokestatic  #15                 // Method isEarDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      11: ifeq          145
      14: aload_3
      15: invokestatic  #17                 // Method org/jboss/as/server/deployment/JPADeploymentMarker.isJPADeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      18: ifeq          145
      21: aload_3
      22: invokestatic  #46                 // Method org/jboss/as/server/deployment/DeploymentUtils.allResourceRoots:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Ljava/util/List;
      25: astore        4
      27: aload         4
      29: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      34: astore        5
      36: aload         5
      38: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      43: ifeq          145
      46: aload         5
      48: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      53: checkcast     #20                 // class org/jboss/as/server/deployment/module/ResourceRoot
      56: astore        6
      58: aload         6
      60: invokestatic  #47                 // Method org/jboss/as/server/deployment/SubDeploymentMarker.isSubDeployment:(Lorg/jboss/as/server/deployment/module/ResourceRoot;)Z
      63: ifne          142
      66: new           #26                 // class java/util/ArrayList
      69: dup
      70: iconst_1
      71: invokespecial #27                 // Method java/util/ArrayList."<init>":(I)V
      74: astore        8
      76: aload         6
      78: ifnull        119
      81: aload         6
      83: getstatic     #21                 // Field org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.PERSISTENCE_UNITS:Lorg/jboss/as/server/deployment/AttachmentKey;
      86: invokevirtual #22                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      89: checkcast     #23                 // class org/jboss/as/jpa/config/PersistenceUnitMetadataHolder
      92: dup
      93: astore        7
      95: ifnull        119
      98: aload         7
     100: invokevirtual #24                 // Method org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.getPersistenceUnits:()Ljava/util/List;
     103: invokeinterface #25,  1           // InterfaceMethod java/util/List.size:()I
     108: ifle          119
     111: aload         8
     113: aload         7
     115: invokevirtual #28                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
     118: pop
     119: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     122: ldc           #48                 // String install persistence unit definitions for ear %s
     124: aload         6
     126: invokevirtual #31                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRootName:()Ljava/lang/String;
     129: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     134: aload_0
     135: aload         8
     137: iload_1
     138: aload_2
     139: invokestatic  #33                 // Method addPuService:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Ljava/util/ArrayList;ZLorg/jipijapa/plugin/spi/Platform;)V
     142: goto          36
     145: return

  private static void addPuService(org.jboss.as.server.deployment.DeploymentPhaseContext, java.util.ArrayList<org.jboss.as.jpa.config.PersistenceUnitMetadataHolder>, boolean, org.jipijapa.plugin.spi.Platform) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_1
       1: invokevirtual #49                 // Method java/util/ArrayList.size:()I
       4: ifle          433
       7: aload_0
       8: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      13: astore        4
      15: aload         4
      17: getstatic     #50                 // Field org/jboss/as/server/deployment/Attachments.MODULE:Lorg/jboss/as/server/deployment/AttachmentKey;
      20: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      25: checkcast     #51                 // class org/jboss/modules/Module
      28: astore        5
      30: aload         4
      32: getstatic     #52                 // Field org/jboss/as/ee/component/Attachments.EE_MODULE_DESCRIPTION:Lorg/jboss/as/server/deployment/AttachmentKey;
      35: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      40: checkcast     #53                 // class org/jboss/as/ee/component/EEModuleDescription
      43: astore        6
      45: aload         6
      47: invokevirtual #54                 // Method org/jboss/as/ee/component/EEModuleDescription.getComponentDescriptions:()Ljava/util/Collection;
      50: astore        7
      52: aload         5
      54: ifnonnull     68
      57: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      60: aload         4
      62: invokeinterface #55,  2           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.failedToGetModuleAttachment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)V
      67: return
      68: aload_0
      69: invokeinterface #56,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getServiceTarget:()Lorg/jboss/msc/service/ServiceTarget;
      74: astore        8
      76: aload         5
      78: invokevirtual #57                 // Method org/jboss/modules/Module.getClassLoader:()Lorg/jboss/modules/ModuleClassLoader;
      81: astore        9
      83: aload_1
      84: invokevirtual #58                 // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      87: astore        10
      89: aload         10
      91: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      96: ifeq          433
      99: aload         10
     101: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     106: checkcast     #23                 // class org/jboss/as/jpa/config/PersistenceUnitMetadataHolder
     109: astore        11
     111: aload         11
     113: aload         4
     115: invokestatic  #59                 // Method setAnnotationIndexes:(Lorg/jboss/as/jpa/config/PersistenceUnitMetadataHolder;Lorg/jboss/as/server/deployment/DeploymentUnit;)V
     118: aload         11
     120: invokevirtual #24                 // Method org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.getPersistenceUnits:()Ljava/util/List;
     123: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     128: astore        12
     130: aload         12
     132: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
     137: ifeq          430
     140: aload         12
     142: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     147: checkcast     #60                 // class org/jipijapa/plugin/spi/PersistenceUnitMetadata
     150: astore        13
     152: aload         13
     154: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
     159: ldc           #63                 // String jboss.as.jpa.managed
     161: invokevirtual #64                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     164: astore        14
     166: aload         14
     168: ifnonnull     175
     171: iconst_1
     172: goto          180
     175: aload         14
     177: invokestatic  #65                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     180: istore        15
     182: iload         15
     184: ifeq          401
     187: aload         4
     189: invokestatic  #66                 // Method getPersistenceProviderDeploymentHolder:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/jpa/config/PersistenceProviderDeploymentHolder;
     192: astore        16
     194: aload         13
     196: aload         16
     198: aload         4
     200: invokestatic  #67                 // Method lookupProvider:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/as/jpa/config/PersistenceProviderDeploymentHolder;Lorg/jboss/as/server/deployment/DeploymentUnit;)Ljavax/persistence/spi/PersistenceProvider;
     203: astore        17
     205: aload         13
     207: aload         16
     209: aload         4
     211: aload         17
     213: aload_3
     214: invokestatic  #68                 // Method getPersistenceProviderAdaptor:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/as/jpa/config/PersistenceProviderDeploymentHolder;Lorg/jboss/as/server/deployment/DeploymentUnit;Ljavax/persistence/spi/PersistenceProvider;Lorg/jipijapa/plugin/spi/Platform;)Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;
     217: astore        18
     219: aload         18
     221: instanceof    #69                 // class org/jipijapa/plugin/spi/TwoPhaseBootstrapCapable
     224: ifeq          239
     227: aload         13
     229: invokestatic  #70                 // Method org/jboss/as/jpa/config/Configuration.allowTwoPhaseBootstrap:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     232: ifeq          239
     235: iconst_1
     236: goto          240
     239: iconst_0
     240: istore        19
     242: iload_2
     243: ifeq          336
     246: iload         19
     248: ifeq          272
     251: aload_0
     252: aload         4
     254: aload         6
     256: aload         7
     258: aload         8
     260: aload         9
     262: aload         13
     264: aload         18
     266: invokestatic  #71                 // Method deployPersistenceUnitPhaseOne:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/ee/component/EEModuleDescription;Ljava/util/Collection;Lorg/jboss/msc/service/ServiceTarget;Lorg/jboss/modules/ModuleClassLoader;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;)V
     269: goto          398
     272: iconst_0
     273: aload         13
     275: invokestatic  #72                 // Method org/jboss/as/jpa/config/Configuration.needClassFileTransformer:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     278: if_icmpne     308
     281: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     284: ldc           #73                 // String persistence unit %s in deployment %s is configured to not need class transformer to be set, no class rewriting will be allowed
     286: aload         13
     288: invokeinterface #74,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceUnitName:()Ljava/lang/String;
     293: aload         4
     295: invokeinterface #75,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
     300: invokeinterface #76,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     305: goto          398
     308: iconst_0
     309: istore        20
     311: aload_0
     312: aload         4
     314: aload         6
     316: aload         7
     318: aload         8
     320: aload         9
     322: aload         13
     324: iload_2
     325: aload         17
     327: aload         18
     329: iconst_0
     330: invokestatic  #77                 // Method deployPersistenceUnit:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/ee/component/EEModuleDescription;Ljava/util/Collection;Lorg/jboss/msc/service/ServiceTarget;Lorg/jboss/modules/ModuleClassLoader;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;ZLjavax/persistence/spi/PersistenceProvider;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;Z)V
     333: goto          398
     336: iload         19
     338: ifeq          364
     341: aload_0
     342: aload         4
     344: aload         6
     346: aload         7
     348: aload         8
     350: aload         9
     352: aload         13
     354: aload         17
     356: aload         18
     358: invokestatic  #78                 // Method deployPersistenceUnitPhaseTwo:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/ee/component/EEModuleDescription;Ljava/util/Collection;Lorg/jboss/msc/service/ServiceTarget;Lorg/jboss/modules/ModuleClassLoader;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Ljavax/persistence/spi/PersistenceProvider;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;)V
     361: goto          398
     364: iconst_0
     365: aload         13
     367: invokestatic  #72                 // Method org/jboss/as/jpa/config/Configuration.needClassFileTransformer:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     370: if_icmpne     398
     373: iconst_1
     374: istore        20
     376: aload_0
     377: aload         4
     379: aload         6
     381: aload         7
     383: aload         8
     385: aload         9
     387: aload         13
     389: iload_2
     390: aload         17
     392: aload         18
     394: iconst_1
     395: invokestatic  #77                 // Method deployPersistenceUnit:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/ee/component/EEModuleDescription;Ljava/util/Collection;Lorg/jboss/msc/service/ServiceTarget;Lorg/jboss/modules/ModuleClassLoader;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;ZLjavax/persistence/spi/PersistenceProvider;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;Z)V
     398: goto          427
     401: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     404: ldc           #79                 // String persistence unit %s in deployment %s is not container managed (%s is set to false)
     406: aload         13
     408: invokeinterface #74,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceUnitName:()Ljava/lang/String;
     413: aload         4
     415: invokeinterface #75,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
     420: ldc           #63                 // String jboss.as.jpa.managed
     422: invokeinterface #80,  5           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     427: goto          130
     430: goto          89
     433: return

  private static void deployPersistenceUnit(org.jboss.as.server.deployment.DeploymentPhaseContext, org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.ee.component.EEModuleDescription, java.util.Collection<org.jboss.as.ee.component.ComponentDescription>, org.jboss.msc.service.ServiceTarget, org.jboss.modules.ModuleClassLoader, org.jipijapa.plugin.spi.PersistenceUnitMetadata, boolean, javax.persistence.spi.PersistenceProvider, org.jipijapa.plugin.spi.PersistenceProviderAdaptor, boolean) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload         6
       2: aload         5
       4: invokeinterface #81,  2           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.setClassLoader:(Ljava/lang/ClassLoader;)V
       9: aload_1
      10: getstatic     #82                 // Field org/jboss/as/jpa/processor/JpaAttachments.TRANSACTION_MANAGER:Lorg/jboss/as/server/deployment/AttachmentKey;
      13: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      18: checkcast     #83                 // class javax/transaction/TransactionManager
      21: astore        11
      23: aload_1
      24: getstatic     #84                 // Field org/jboss/as/jpa/processor/JpaAttachments.TRANSACTION_SYNCHRONIZATION_REGISTRY:Lorg/jboss/as/server/deployment/AttachmentKey;
      27: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      32: checkcast     #85                 // class javax/transaction/TransactionSynchronizationRegistry
      35: astore        12
      37: aconst_null
      38: astore        13
      40: new           #86                 // class java/util/HashMap
      43: dup
      44: invokespecial #87                 // Method java/util/HashMap."<init>":()V
      47: astore        14
      49: getstatic     #88                 // Field javax/persistence/ValidationMode.NONE:Ljavax/persistence/ValidationMode;
      52: aload         6
      54: invokeinterface #89,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getValidationMode:()Ljavax/persistence/ValidationMode;
      59: invokevirtual #90                 // Method javax/persistence/ValidationMode.equals:(Ljava/lang/Object;)Z
      62: ifne          79
      65: aload_1
      66: getstatic     #91                 // Field org/jboss/as/ee/beanvalidation/BeanValidationAttachments.VALIDATOR_FACTORY:Lorg/jboss/as/server/deployment/AttachmentKey;
      69: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      74: checkcast     #92                 // class javax/validation/ValidatorFactory
      77: astore        13
      79: new           #93                 // class org/jboss/as/jpa/service/PersistenceUnitServiceImpl
      82: dup
      83: aload         5
      85: aload         6
      87: aload         9
      89: aload         8
      91: getstatic     #94                 // Field org/jboss/as/jpa/subsystem/PersistenceUnitRegistryImpl.INSTANCE:Lorg/jboss/as/jpa/subsystem/PersistenceUnitRegistryImpl;
      94: aload_1
      95: invokeinterface #95,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
     100: aload         13
     102: invokespecial #96                 // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl."<init>":(Ljava/lang/ClassLoader;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;Ljavax/persistence/spi/PersistenceProvider;Lorg/jboss/as/jpa/subsystem/PersistenceUnitRegistryImpl;Lorg/jboss/msc/service/ServiceName;Ljavax/validation/ValidatorFactory;)V
     105: astore        15
     107: aload_1
     108: getstatic     #6                  // Field REMOVAL_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
     111: new           #11                 // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval
     114: dup
     115: aload         6
     117: aload         9
     119: invokespecial #97                 // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval."<init>":(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;)V
     122: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     127: aload         9
     129: aload         14
     131: aload         6
     133: invokeinterface #98,  3           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.addProviderProperties:(Ljava/util/Map;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)V
     138: aload         6
     140: invokestatic  #99                 // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getPUServiceName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Lorg/jboss/msc/service/ServiceName;
     143: astore        16
     145: aload_1
     146: getstatic     #100                // Field org/jboss/as/jpa/processor/JpaAttachments.PERSISTENCE_UNIT_SERVICE_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
     149: aload         16
     151: invokeinterface #101,  3          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.putAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     156: pop
     157: aload_1
     158: getstatic     #102                // Field org/jboss/as/server/deployment/Attachments.DEPLOYMENT_COMPLETE_SERVICES:Lorg/jboss/as/server/deployment/AttachmentKey;
     161: aload         16
     163: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     168: aload_1
     169: getstatic     #103                // Field org/jboss/as/server/deployment/Attachments.WEB_DEPENDENCIES:Lorg/jboss/as/server/deployment/AttachmentKey;
     172: aload         16
     174: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     179: aload         4
     181: aload         16
     183: aload         15
     185: invokeinterface #104,  3          // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     190: astore        17
     192: aload         6
     194: invokestatic  #105                // Method org/jboss/as/jpa/config/Configuration.allowDefaultDataSourceUse:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     197: istore        18
     199: aload         6
     201: invokeinterface #106,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getJtaDataSourceName:()Ljava/lang/String;
     206: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     209: astore        19
     211: aload         6
     213: invokeinterface #108,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getNonJtaDataSourceName:()Ljava/lang/String;
     218: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     221: astore        20
     223: aload         19
     225: ifnull        298
     228: aload         19
     230: invokevirtual #109                // Method java/lang/String.length:()I
     233: ifle          298
     236: aload         19
     238: ldc           #111                // String java:comp/DefaultDataSource
     240: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     243: ifeq          252
     246: iconst_1
     247: istore        18
     249: goto          298
     252: aload         17
     254: aload_2
     255: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
     258: aload_2
     259: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     262: aload_2
     263: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     266: iconst_0
     267: aload         19
     269: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     272: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     275: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     277: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     280: dup
     281: aload         15
     283: invokevirtual #119                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     286: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     289: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     294: pop
     295: iconst_0
     296: istore        18
     298: aload         20
     300: ifnull        357
     303: aload         20
     305: invokevirtual #109                // Method java/lang/String.length:()I
     308: ifle          357
     311: aload         17
     313: aload_2
     314: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
     317: aload_2
     318: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     321: aload_2
     322: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     325: iconst_0
     326: aload         20
     328: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     331: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     334: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     336: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     339: dup
     340: aload         15
     342: invokevirtual #122                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getNonJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     345: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     348: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     353: pop
     354: iconst_0
     355: istore        18
     357: iload         18
     359: ifeq          456
     362: aconst_null
     363: astore        21
     365: aload_2
     366: ifnull        378
     369: aload_2
     370: invokevirtual #123                // Method org/jboss/as/ee/component/EEModuleDescription.getDefaultResourceJndiNames:()Lorg/jboss/as/ee/component/EEDefaultResourceJndiNames;
     373: invokevirtual #124                // Method org/jboss/as/ee/component/EEDefaultResourceJndiNames.getDataSource:()Ljava/lang/String;
     376: astore        21
     378: aload         21
     380: ifnull        391
     383: aload         21
     385: invokevirtual #125                // Method java/lang/String.isEmpty:()Z
     388: ifeq          399
     391: invokestatic  #126                // Method org/jboss/as/jpa/service/JPAService.getDefaultDataSourceName:()Ljava/lang/String;
     394: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     397: astore        21
     399: aload         21
     401: ifnull        456
     404: aload         21
     406: invokevirtual #125                // Method java/lang/String.isEmpty:()Z
     409: ifne          456
     412: aload         17
     414: aload         21
     416: invokestatic  #127                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoFor:(Ljava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     419: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     422: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     424: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     427: dup
     428: aload         15
     430: invokevirtual #119                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     433: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     436: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     441: pop
     442: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     445: ldc           #128                // String %s is using the default data source \'%s\'
     447: aload         16
     449: aload         21
     451: invokeinterface #76,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     456: iload         10
     458: ifeq          494
     461: aload_1
     462: invokestatic  #129                // Method org/jboss/as/ee/weld/WeldDeploymentMarker.isPartOfWeldDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
     465: ifeq          494
     468: aload         17
     470: aload_1
     471: invokestatic  #130                // Method beanManagerServiceName:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/msc/service/ServiceName;
     474: new           #131                // class org/jboss/msc/inject/CastingInjector
     477: dup
     478: aload         15
     480: invokevirtual #132                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getBeanManagerInjector:()Lorg/jboss/msc/inject/Injector;
     483: ldc           #133                // class javax/enterprise/inject/spi/BeanManager
     485: invokespecial #134                // Method org/jboss/msc/inject/CastingInjector."<init>":(Lorg/jboss/msc/inject/Injector;Ljava/lang/Class;)V
     488: invokeinterface #135,  3          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     493: pop
     494: aload         17
     496: invokestatic  #136                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.setInternalDeploymentServiceBuilder:(Lorg/jboss/msc/service/ServiceBuilder;)V
     499: aload         9
     501: aload         6
     503: invokeinterface #137,  2          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.addProviderDependencies:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)V
     508: invokestatic  #138                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.clearInternalDeploymentServiceBuilder:()V
     511: goto          522
     514: astore        22
     516: invokestatic  #138                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.clearInternalDeploymentServiceBuilder:()V
     519: aload         22
     521: athrow
     522: aload_2
     523: aload         4
     525: aload         6
     527: aload         16
     529: aload         11
     531: aload         12
     533: invokestatic  #139                // Method entityManagerBind:(Lorg/jboss/as/ee/component/EEModuleDescription;Lorg/jboss/msc/service/ServiceTarget;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/msc/service/ServiceName;Ljavax/transaction/TransactionManager;Ljavax/transaction/TransactionSynchronizationRegistry;)V
     536: aload_2
     537: aload         4
     539: aload         6
     541: aload         16
     543: invokestatic  #140                // Method entityManagerFactoryBind:(Lorg/jboss/as/ee/component/EEModuleDescription;Lorg/jboss/msc/service/ServiceTarget;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/msc/service/ServiceName;)V
     546: aload         17
     548: getstatic     #141                // Field org/jboss/msc/service/ServiceController$Mode.ACTIVE:Lorg/jboss/msc/service/ServiceController$Mode;
     551: invokeinterface #142,  2          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.setInitialMode:(Lorg/jboss/msc/service/ServiceController$Mode;)Lorg/jboss/msc/service/ServiceBuilder;
     556: aload         15
     558: invokevirtual #143                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getPropertiesInjector:()Lorg/jboss/msc/inject/Injector;
     561: aload         14
     563: invokeinterface #144,  3          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addInjection:(Lorg/jboss/msc/inject/Injector;Ljava/lang/Object;)Lorg/jboss/msc/service/ServiceBuilder;
     568: pop
     569: aload         17
     571: aload         15
     573: invokevirtual #145                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getExecutorInjector:()Lorg/jboss/msc/value/InjectedValue;
     576: iconst_0
     577: invokestatic  #146                // Method org/jboss/as/server/Services.addServerExecutorDependency:(Lorg/jboss/msc/service/ServiceBuilder;Lorg/jboss/msc/inject/Injector;Z)Lorg/jboss/msc/service/ServiceBuilder;
     580: pop
     581: aload         17
     583: invokeinterface #147,  1          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     588: pop
     589: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     592: ldc           #148                // String added PersistenceUnitService for \'%s\'.  PU is ready for injector action.
     594: aload         16
     596: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     601: aload_1
     602: aload         6
     604: aload         9
     606: invokestatic  #149                // Method addManagementConsole:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;)V
     609: goto          632
     612: astore        13
     614: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     617: aload         13
     619: aload         6
     621: invokeinterface #74,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceUnitName:()Ljava/lang/String;
     626: invokeinterface #151,  3          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.failedToAddPersistenceUnit:(Ljava/lang/Throwable;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     631: athrow
     632: return
    Exception table:
       from    to  target type
         494   508   514   any
         514   516   514   any
          37   609   612   Class org/jboss/msc/service/ServiceRegistryException

  private static void deployPersistenceUnitPhaseOne(org.jboss.as.server.deployment.DeploymentPhaseContext, org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.ee.component.EEModuleDescription, java.util.Collection<org.jboss.as.ee.component.ComponentDescription>, org.jboss.msc.service.ServiceTarget, org.jboss.modules.ModuleClassLoader, org.jipijapa.plugin.spi.PersistenceUnitMetadata, org.jipijapa.plugin.spi.PersistenceProviderAdaptor) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload         6
       2: aload         5
       4: invokeinterface #81,  2           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.setClassLoader:(Ljava/lang/ClassLoader;)V
       9: new           #86                 // class java/util/HashMap
      12: dup
      13: invokespecial #87                 // Method java/util/HashMap."<init>":()V
      16: astore        8
      18: aconst_null
      19: astore        9
      21: aload_1
      22: invokestatic  #129                // Method org/jboss/as/ee/weld/WeldDeploymentMarker.isPartOfWeldDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      25: ifeq          37
      28: new           #152                // class org/jboss/as/jpa/beanmanager/ProxyBeanManager
      31: dup
      32: invokespecial #153                // Method org/jboss/as/jpa/beanmanager/ProxyBeanManager."<init>":()V
      35: astore        9
      37: new           #154                // class org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl
      40: dup
      41: aload         5
      43: aload         6
      45: aload         7
      47: aload_1
      48: invokeinterface #95,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
      53: aload         9
      55: invokespecial #155                // Method org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl."<init>":(Ljava/lang/ClassLoader;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;Lorg/jboss/msc/service/ServiceName;Lorg/jboss/as/jpa/beanmanager/ProxyBeanManager;)V
      58: astore        10
      60: aload_1
      61: getstatic     #6                  // Field REMOVAL_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
      64: new           #11                 // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval
      67: dup
      68: aload         6
      70: aload         7
      72: invokespecial #97                 // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval."<init>":(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;)V
      75: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
      80: aload         7
      82: aload         8
      84: aload         6
      86: invokeinterface #98,  3           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.addProviderProperties:(Ljava/util/Map;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)V
      91: aload         6
      93: invokestatic  #99                 // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getPUServiceName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Lorg/jboss/msc/service/ServiceName;
      96: iconst_1
      97: anewarray     #156                // class java/lang/String
     100: dup
     101: iconst_0
     102: ldc           #157                // String __FIRST_PHASE__
     104: aastore
     105: invokevirtual #158                // Method org/jboss/msc/service/ServiceName.append:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     108: astore        11
     110: aload_1
     111: getstatic     #100                // Field org/jboss/as/jpa/processor/JpaAttachments.PERSISTENCE_UNIT_SERVICE_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
     114: aload         11
     116: invokeinterface #101,  3          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.putAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     121: pop
     122: aload_1
     123: getstatic     #102                // Field org/jboss/as/server/deployment/Attachments.DEPLOYMENT_COMPLETE_SERVICES:Lorg/jboss/as/server/deployment/AttachmentKey;
     126: aload         11
     128: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     133: aload_1
     134: getstatic     #103                // Field org/jboss/as/server/deployment/Attachments.WEB_DEPENDENCIES:Lorg/jboss/as/server/deployment/AttachmentKey;
     137: aload         11
     139: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     144: aload         4
     146: aload         11
     148: aload         10
     150: invokeinterface #104,  3          // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     155: astore        12
     157: aload         6
     159: invokestatic  #105                // Method org/jboss/as/jpa/config/Configuration.allowDefaultDataSourceUse:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     162: istore        13
     164: aload         6
     166: invokeinterface #106,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getJtaDataSourceName:()Ljava/lang/String;
     171: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     174: astore        14
     176: aload         6
     178: invokeinterface #108,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getNonJtaDataSourceName:()Ljava/lang/String;
     183: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     186: astore        15
     188: aload         14
     190: ifnull        263
     193: aload         14
     195: invokevirtual #109                // Method java/lang/String.length:()I
     198: ifle          263
     201: aload         14
     203: ldc           #111                // String java:comp/DefaultDataSource
     205: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     208: ifeq          217
     211: iconst_1
     212: istore        13
     214: goto          263
     217: aload         12
     219: aload_2
     220: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
     223: aload_2
     224: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     227: aload_2
     228: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     231: iconst_0
     232: aload         14
     234: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     237: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     240: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     242: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     245: dup
     246: aload         10
     248: invokevirtual #159                // Method org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl.getJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     251: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     254: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     259: pop
     260: iconst_0
     261: istore        13
     263: aload         15
     265: ifnull        322
     268: aload         15
     270: invokevirtual #109                // Method java/lang/String.length:()I
     273: ifle          322
     276: aload         12
     278: aload_2
     279: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
     282: aload_2
     283: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     286: aload_2
     287: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     290: iconst_0
     291: aload         15
     293: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     296: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     299: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     301: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     304: dup
     305: aload         10
     307: invokevirtual #160                // Method org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl.getNonJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     310: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     313: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     318: pop
     319: iconst_0
     320: istore        13
     322: iload         13
     324: ifeq          421
     327: aconst_null
     328: astore        16
     330: aload_2
     331: ifnull        343
     334: aload_2
     335: invokevirtual #123                // Method org/jboss/as/ee/component/EEModuleDescription.getDefaultResourceJndiNames:()Lorg/jboss/as/ee/component/EEDefaultResourceJndiNames;
     338: invokevirtual #124                // Method org/jboss/as/ee/component/EEDefaultResourceJndiNames.getDataSource:()Ljava/lang/String;
     341: astore        16
     343: aload         16
     345: ifnull        356
     348: aload         16
     350: invokevirtual #125                // Method java/lang/String.isEmpty:()Z
     353: ifeq          364
     356: invokestatic  #126                // Method org/jboss/as/jpa/service/JPAService.getDefaultDataSourceName:()Ljava/lang/String;
     359: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     362: astore        16
     364: aload         16
     366: ifnull        421
     369: aload         16
     371: invokevirtual #125                // Method java/lang/String.isEmpty:()Z
     374: ifne          421
     377: aload         12
     379: aload         16
     381: invokestatic  #127                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoFor:(Ljava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     384: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     387: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     389: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     392: dup
     393: aload         10
     395: invokevirtual #159                // Method org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl.getJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     398: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     401: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     406: pop
     407: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     410: ldc           #128                // String %s is using the default data source \'%s\'
     412: aload         11
     414: aload         16
     416: invokeinterface #76,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     421: aload         12
     423: invokestatic  #136                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.setInternalDeploymentServiceBuilder:(Lorg/jboss/msc/service/ServiceBuilder;)V
     426: aload         7
     428: aload         6
     430: invokeinterface #137,  2          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.addProviderDependencies:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)V
     435: invokestatic  #138                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.clearInternalDeploymentServiceBuilder:()V
     438: goto          449
     441: astore        17
     443: invokestatic  #138                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.clearInternalDeploymentServiceBuilder:()V
     446: aload         17
     448: athrow
     449: aload         12
     451: getstatic     #141                // Field org/jboss/msc/service/ServiceController$Mode.ACTIVE:Lorg/jboss/msc/service/ServiceController$Mode;
     454: invokeinterface #142,  2          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.setInitialMode:(Lorg/jboss/msc/service/ServiceController$Mode;)Lorg/jboss/msc/service/ServiceBuilder;
     459: aload         10
     461: invokevirtual #161                // Method org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl.getPropertiesInjector:()Lorg/jboss/msc/inject/Injector;
     464: aload         8
     466: invokeinterface #144,  3          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addInjection:(Lorg/jboss/msc/inject/Injector;Ljava/lang/Object;)Lorg/jboss/msc/service/ServiceBuilder;
     471: pop
     472: aload         12
     474: aload         10
     476: invokevirtual #162                // Method org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl.getExecutorInjector:()Lorg/jboss/msc/value/InjectedValue;
     479: iconst_0
     480: invokestatic  #146                // Method org/jboss/as/server/Services.addServerExecutorDependency:(Lorg/jboss/msc/service/ServiceBuilder;Lorg/jboss/msc/inject/Injector;Z)Lorg/jboss/msc/service/ServiceBuilder;
     483: pop
     484: aload         12
     486: invokeinterface #147,  1          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     491: pop
     492: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     495: ldc           #163                // String added PersistenceUnitService (phase 1 of 2) for \'%s\'.  PU is ready for injector action.
     497: aload         11
     499: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     504: goto          527
     507: astore        8
     509: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     512: aload         8
     514: aload         6
     516: invokeinterface #74,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceUnitName:()Ljava/lang/String;
     521: invokeinterface #151,  3          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.failedToAddPersistenceUnit:(Ljava/lang/Throwable;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     526: athrow
     527: return
    Exception table:
       from    to  target type
         421   435   441   any
         441   443   441   any
           9   504   507   Class org/jboss/msc/service/ServiceRegistryException

  private static void deployPersistenceUnitPhaseTwo(org.jboss.as.server.deployment.DeploymentPhaseContext, org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.ee.component.EEModuleDescription, java.util.Collection<org.jboss.as.ee.component.ComponentDescription>, org.jboss.msc.service.ServiceTarget, org.jboss.modules.ModuleClassLoader, org.jipijapa.plugin.spi.PersistenceUnitMetadata, javax.persistence.spi.PersistenceProvider, org.jipijapa.plugin.spi.PersistenceProviderAdaptor) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_1
       1: getstatic     #82                 // Field org/jboss/as/jpa/processor/JpaAttachments.TRANSACTION_MANAGER:Lorg/jboss/as/server/deployment/AttachmentKey;
       4: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
       9: checkcast     #83                 // class javax/transaction/TransactionManager
      12: astore        9
      14: aload_1
      15: getstatic     #84                 // Field org/jboss/as/jpa/processor/JpaAttachments.TRANSACTION_SYNCHRONIZATION_REGISTRY:Lorg/jboss/as/server/deployment/AttachmentKey;
      18: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      23: checkcast     #85                 // class javax/transaction/TransactionSynchronizationRegistry
      26: astore        10
      28: aload         6
      30: aload         5
      32: invokeinterface #81,  2           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.setClassLoader:(Ljava/lang/ClassLoader;)V
      37: aconst_null
      38: astore        11
      40: new           #86                 // class java/util/HashMap
      43: dup
      44: invokespecial #87                 // Method java/util/HashMap."<init>":()V
      47: astore        12
      49: getstatic     #88                 // Field javax/persistence/ValidationMode.NONE:Ljavax/persistence/ValidationMode;
      52: aload         6
      54: invokeinterface #89,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getValidationMode:()Ljavax/persistence/ValidationMode;
      59: invokevirtual #90                 // Method javax/persistence/ValidationMode.equals:(Ljava/lang/Object;)Z
      62: ifne          79
      65: aload_1
      66: getstatic     #91                 // Field org/jboss/as/ee/beanvalidation/BeanValidationAttachments.VALIDATOR_FACTORY:Lorg/jboss/as/server/deployment/AttachmentKey;
      69: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      74: checkcast     #92                 // class javax/validation/ValidatorFactory
      77: astore        11
      79: new           #93                 // class org/jboss/as/jpa/service/PersistenceUnitServiceImpl
      82: dup
      83: aload         5
      85: aload         6
      87: aload         8
      89: aload         7
      91: getstatic     #94                 // Field org/jboss/as/jpa/subsystem/PersistenceUnitRegistryImpl.INSTANCE:Lorg/jboss/as/jpa/subsystem/PersistenceUnitRegistryImpl;
      94: aload_1
      95: invokeinterface #95,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
     100: aload         11
     102: invokespecial #96                 // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl."<init>":(Ljava/lang/ClassLoader;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;Ljavax/persistence/spi/PersistenceProvider;Lorg/jboss/as/jpa/subsystem/PersistenceUnitRegistryImpl;Lorg/jboss/msc/service/ServiceName;Ljavax/validation/ValidatorFactory;)V
     105: astore        13
     107: aload_1
     108: getstatic     #6                  // Field REMOVAL_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
     111: new           #11                 // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval
     114: dup
     115: aload         6
     117: aload         8
     119: invokespecial #97                 // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval."<init>":(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;)V
     122: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     127: aload         8
     129: aload         12
     131: aload         6
     133: invokeinterface #98,  3           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.addProviderProperties:(Ljava/util/Map;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)V
     138: aload         6
     140: invokestatic  #99                 // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getPUServiceName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Lorg/jboss/msc/service/ServiceName;
     143: astore        14
     145: aload_1
     146: getstatic     #100                // Field org/jboss/as/jpa/processor/JpaAttachments.PERSISTENCE_UNIT_SERVICE_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
     149: aload         14
     151: invokeinterface #101,  3          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.putAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     156: pop
     157: aload_1
     158: getstatic     #102                // Field org/jboss/as/server/deployment/Attachments.DEPLOYMENT_COMPLETE_SERVICES:Lorg/jboss/as/server/deployment/AttachmentKey;
     161: aload         14
     163: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     168: aload_1
     169: getstatic     #103                // Field org/jboss/as/server/deployment/Attachments.WEB_DEPENDENCIES:Lorg/jboss/as/server/deployment/AttachmentKey;
     172: aload         14
     174: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     179: aload         4
     181: aload         14
     183: aload         13
     185: invokeinterface #104,  3          // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     190: astore        15
     192: aload         15
     194: invokestatic  #164                // Method org/jboss/as/jpa/util/JPAServiceNames.getJPAServiceName:()Lorg/jboss/msc/service/ServiceName;
     197: invokeinterface #165,  2          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     202: pop
     203: aload         15
     205: aload         14
     207: iconst_1
     208: anewarray     #156                // class java/lang/String
     211: dup
     212: iconst_0
     213: ldc           #157                // String __FIRST_PHASE__
     215: aastore
     216: invokevirtual #158                // Method org/jboss/msc/service/ServiceName.append:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     219: new           #131                // class org/jboss/msc/inject/CastingInjector
     222: dup
     223: aload         13
     225: invokevirtual #166                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getPhaseOnePersistenceUnitServiceImplInjector:()Lorg/jboss/msc/inject/Injector;
     228: ldc           #154                // class org/jboss/as/jpa/service/PhaseOnePersistenceUnitServiceImpl
     230: invokespecial #134                // Method org/jboss/msc/inject/CastingInjector."<init>":(Lorg/jboss/msc/inject/Injector;Ljava/lang/Class;)V
     233: invokeinterface #135,  3          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     238: pop
     239: aload         6
     241: invokestatic  #105                // Method org/jboss/as/jpa/config/Configuration.allowDefaultDataSourceUse:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     244: istore        16
     246: aload         6
     248: invokeinterface #106,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getJtaDataSourceName:()Ljava/lang/String;
     253: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     256: astore        17
     258: aload         6
     260: invokeinterface #108,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getNonJtaDataSourceName:()Ljava/lang/String;
     265: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     268: astore        18
     270: aload         17
     272: ifnull        345
     275: aload         17
     277: invokevirtual #109                // Method java/lang/String.length:()I
     280: ifle          345
     283: aload         17
     285: ldc           #111                // String java:comp/DefaultDataSource
     287: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     290: ifeq          299
     293: iconst_1
     294: istore        16
     296: goto          345
     299: aload         15
     301: aload_2
     302: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
     305: aload_2
     306: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     309: aload_2
     310: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     313: iconst_0
     314: aload         17
     316: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     319: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     322: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     324: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     327: dup
     328: aload         13
     330: invokevirtual #119                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     333: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     336: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     341: pop
     342: iconst_0
     343: istore        16
     345: aload         18
     347: ifnull        404
     350: aload         18
     352: invokevirtual #109                // Method java/lang/String.length:()I
     355: ifle          404
     358: aload         15
     360: aload_2
     361: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
     364: aload_2
     365: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     368: aload_2
     369: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
     372: iconst_0
     373: aload         18
     375: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     378: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     381: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     383: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     386: dup
     387: aload         13
     389: invokevirtual #122                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getNonJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     392: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     395: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     400: pop
     401: iconst_0
     402: istore        16
     404: iload         16
     406: ifeq          503
     409: aconst_null
     410: astore        19
     412: aload_2
     413: ifnull        425
     416: aload_2
     417: invokevirtual #123                // Method org/jboss/as/ee/component/EEModuleDescription.getDefaultResourceJndiNames:()Lorg/jboss/as/ee/component/EEDefaultResourceJndiNames;
     420: invokevirtual #124                // Method org/jboss/as/ee/component/EEDefaultResourceJndiNames.getDataSource:()Ljava/lang/String;
     423: astore        19
     425: aload         19
     427: ifnull        438
     430: aload         19
     432: invokevirtual #125                // Method java/lang/String.isEmpty:()Z
     435: ifeq          446
     438: invokestatic  #126                // Method org/jboss/as/jpa/service/JPAService.getDefaultDataSourceName:()Ljava/lang/String;
     441: invokestatic  #107                // Method adjustJndi:(Ljava/lang/String;)Ljava/lang/String;
     444: astore        19
     446: aload         19
     448: ifnull        503
     451: aload         19
     453: invokevirtual #125                // Method java/lang/String.isEmpty:()Z
     456: ifne          503
     459: aload         15
     461: aload         19
     463: invokestatic  #127                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoFor:(Ljava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
     466: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     469: ldc           #117                // class org/jboss/as/naming/ManagedReferenceFactory
     471: new           #118                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector
     474: dup
     475: aload         13
     477: invokevirtual #119                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getJtaDataSourceInjector:()Lorg/jboss/msc/inject/Injector;
     480: invokespecial #120                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$ManagedReferenceFactoryInjector."<init>":(Lorg/jboss/msc/inject/Injector;)V
     483: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     488: pop
     489: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     492: ldc           #128                // String %s is using the default data source \'%s\'
     494: aload         14
     496: aload         19
     498: invokeinterface #76,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     503: aload_1
     504: invokestatic  #129                // Method org/jboss/as/ee/weld/WeldDeploymentMarker.isPartOfWeldDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
     507: ifeq          536
     510: aload         15
     512: aload_1
     513: invokestatic  #130                // Method beanManagerServiceName:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/msc/service/ServiceName;
     516: new           #131                // class org/jboss/msc/inject/CastingInjector
     519: dup
     520: aload         13
     522: invokevirtual #132                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getBeanManagerInjector:()Lorg/jboss/msc/inject/Injector;
     525: ldc           #133                // class javax/enterprise/inject/spi/BeanManager
     527: invokespecial #134                // Method org/jboss/msc/inject/CastingInjector."<init>":(Lorg/jboss/msc/inject/Injector;Ljava/lang/Class;)V
     530: invokeinterface #135,  3          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     535: pop
     536: aload         15
     538: invokestatic  #136                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.setInternalDeploymentServiceBuilder:(Lorg/jboss/msc/service/ServiceBuilder;)V
     541: aload         8
     543: aload         6
     545: invokeinterface #137,  2          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.addProviderDependencies:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)V
     550: invokestatic  #138                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.clearInternalDeploymentServiceBuilder:()V
     553: goto          564
     556: astore        20
     558: invokestatic  #138                // Method org/jboss/as/jpa/processor/secondLevelCache/CacheDeploymentListener.clearInternalDeploymentServiceBuilder:()V
     561: aload         20
     563: athrow
     564: aload_2
     565: aload         4
     567: aload         6
     569: aload         14
     571: aload         9
     573: aload         10
     575: invokestatic  #139                // Method entityManagerBind:(Lorg/jboss/as/ee/component/EEModuleDescription;Lorg/jboss/msc/service/ServiceTarget;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/msc/service/ServiceName;Ljavax/transaction/TransactionManager;Ljavax/transaction/TransactionSynchronizationRegistry;)V
     578: aload_2
     579: aload         4
     581: aload         6
     583: aload         14
     585: invokestatic  #140                // Method entityManagerFactoryBind:(Lorg/jboss/as/ee/component/EEModuleDescription;Lorg/jboss/msc/service/ServiceTarget;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/msc/service/ServiceName;)V
     588: aload         15
     590: getstatic     #141                // Field org/jboss/msc/service/ServiceController$Mode.ACTIVE:Lorg/jboss/msc/service/ServiceController$Mode;
     593: invokeinterface #142,  2          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.setInitialMode:(Lorg/jboss/msc/service/ServiceController$Mode;)Lorg/jboss/msc/service/ServiceBuilder;
     598: aload         13
     600: invokevirtual #143                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getPropertiesInjector:()Lorg/jboss/msc/inject/Injector;
     603: aload         12
     605: invokeinterface #144,  3          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addInjection:(Lorg/jboss/msc/inject/Injector;Ljava/lang/Object;)Lorg/jboss/msc/service/ServiceBuilder;
     610: pop
     611: aload         15
     613: aload         13
     615: invokevirtual #145                // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getExecutorInjector:()Lorg/jboss/msc/value/InjectedValue;
     618: iconst_0
     619: invokestatic  #146                // Method org/jboss/as/server/Services.addServerExecutorDependency:(Lorg/jboss/msc/service/ServiceBuilder;Lorg/jboss/msc/inject/Injector;Z)Lorg/jboss/msc/service/ServiceBuilder;
     622: pop
     623: aload         15
     625: invokeinterface #147,  1          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     630: pop
     631: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     634: ldc           #167                // String added PersistenceUnitService (phase 2 of 2) for \'%s\'.  PU is ready for injector action.
     636: aload         14
     638: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     643: aload_1
     644: aload         6
     646: aload         8
     648: invokestatic  #149                // Method addManagementConsole:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;)V
     651: goto          674
     654: astore        11
     656: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     659: aload         11
     661: aload         6
     663: invokeinterface #74,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceUnitName:()Ljava/lang/String;
     668: invokeinterface #151,  3          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.failedToAddPersistenceUnit:(Ljava/lang/Throwable;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     673: athrow
     674: return
    Exception table:
       from    to  target type
         536   550   556   any
         556   558   556   any
          37   651   654   Class org/jboss/msc/service/ServiceRegistryException

  private static void entityManagerBind(org.jboss.as.ee.component.EEModuleDescription, org.jboss.msc.service.ServiceTarget, org.jipijapa.plugin.spi.PersistenceUnitMetadata, org.jboss.msc.service.ServiceName, javax.transaction.TransactionManager, javax.transaction.TransactionSynchronizationRegistry);
    Code:
       0: aload_2
       1: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
       6: ldc           #168                // String jboss.entity.manager.jndi.name
       8: invokevirtual #169                // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      11: ifeq          157
      14: aload_2
      15: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
      20: ldc           #168                // String jboss.entity.manager.jndi.name
      22: invokevirtual #170                // Method java/util/Properties.get:(Ljava/lang/Object;)Ljava/lang/Object;
      25: invokevirtual #171                // Method java/lang/Object.toString:()Ljava/lang/String;
      28: astore        6
      30: aload         6
      32: ldc           #172                // String java:
      34: invokevirtual #173                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      37: ifeq          63
      40: aload_0
      41: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
      44: aload_0
      45: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
      48: aload_0
      49: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
      52: iconst_0
      53: aload         6
      55: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
      58: astore        7
      60: goto          70
      63: aload         6
      65: invokestatic  #127                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoFor:(Ljava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
      68: astore        7
      70: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      73: ldc           #174                // String binding the transaction scoped entity manager to jndi name \'%s\'
      75: aload         7
      77: invokevirtual #175                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getAbsoluteJndiName:()Ljava/lang/String;
      80: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      85: new           #176                // class org/jboss/as/naming/service/BinderService
      88: dup
      89: aload         7
      91: invokevirtual #177                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBindName:()Ljava/lang/String;
      94: invokespecial #178                // Method org/jboss/as/naming/service/BinderService."<init>":(Ljava/lang/String;)V
      97: astore        8
      99: aload_1
     100: aload         7
     102: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     105: aload         8
     107: invokeinterface #104,  3          // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     112: aload         7
     114: invokevirtual #179                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getParentContextServiceName:()Lorg/jboss/msc/service/ServiceName;
     117: ldc           #180                // class org/jboss/as/naming/ServiceBasedNamingStore
     119: aload         8
     121: invokevirtual #181                // Method org/jboss/as/naming/service/BinderService.getNamingStoreInjector:()Lorg/jboss/msc/value/InjectedValue;
     124: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     129: aload_3
     130: ldc           #93                 // class org/jboss/as/jpa/service/PersistenceUnitServiceImpl
     132: new           #182                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$1
     135: dup
     136: aload         8
     138: aload_2
     139: aload         5
     141: aload         4
     143: invokespecial #183                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$1."<init>":(Lorg/jboss/as/naming/service/BinderService;Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Ljavax/transaction/TransactionSynchronizationRegistry;Ljavax/transaction/TransactionManager;)V
     146: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     151: invokeinterface #147,  1          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     156: pop
     157: return

  private static void entityManagerFactoryBind(org.jboss.as.ee.component.EEModuleDescription, org.jboss.msc.service.ServiceTarget, org.jipijapa.plugin.spi.PersistenceUnitMetadata, org.jboss.msc.service.ServiceName);
    Code:
       0: aload_2
       1: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
       6: ldc           #184                // String jboss.entity.manager.factory.jndi.name
       8: invokevirtual #169                // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      11: ifeq          152
      14: aload_2
      15: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
      20: ldc           #184                // String jboss.entity.manager.factory.jndi.name
      22: invokevirtual #170                // Method java/util/Properties.get:(Ljava/lang/Object;)Ljava/lang/Object;
      25: invokevirtual #171                // Method java/lang/Object.toString:()Ljava/lang/String;
      28: astore        4
      30: aload         4
      32: ldc           #172                // String java:
      34: invokevirtual #173                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      37: ifeq          63
      40: aload_0
      41: invokevirtual #113                // Method org/jboss/as/ee/component/EEModuleDescription.getApplicationName:()Ljava/lang/String;
      44: aload_0
      45: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
      48: aload_0
      49: invokevirtual #114                // Method org/jboss/as/ee/component/EEModuleDescription.getModuleName:()Ljava/lang/String;
      52: iconst_0
      53: aload         4
      55: invokestatic  #115                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoForEnvEntry:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
      58: astore        5
      60: goto          70
      63: aload         4
      65: invokestatic  #127                // Method org/jboss/as/naming/deployment/ContextNames.bindInfoFor:(Ljava/lang/String;)Lorg/jboss/as/naming/deployment/ContextNames$BindInfo;
      68: astore        5
      70: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      73: ldc           #185                // String binding the entity manager factory to jndi name \'%s\'
      75: aload         5
      77: invokevirtual #175                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getAbsoluteJndiName:()Ljava/lang/String;
      80: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      85: new           #176                // class org/jboss/as/naming/service/BinderService
      88: dup
      89: aload         5
      91: invokevirtual #177                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBindName:()Ljava/lang/String;
      94: invokespecial #178                // Method org/jboss/as/naming/service/BinderService."<init>":(Ljava/lang/String;)V
      97: astore        6
      99: aload_1
     100: aload         5
     102: invokevirtual #116                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getBinderServiceName:()Lorg/jboss/msc/service/ServiceName;
     105: aload         6
     107: invokeinterface #104,  3          // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     112: aload         5
     114: invokevirtual #179                // Method org/jboss/as/naming/deployment/ContextNames$BindInfo.getParentContextServiceName:()Lorg/jboss/msc/service/ServiceName;
     117: ldc           #180                // class org/jboss/as/naming/ServiceBasedNamingStore
     119: aload         6
     121: invokevirtual #181                // Method org/jboss/as/naming/service/BinderService.getNamingStoreInjector:()Lorg/jboss/msc/value/InjectedValue;
     124: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     129: aload_3
     130: ldc           #93                 // class org/jboss/as/jpa/service/PersistenceUnitServiceImpl
     132: new           #186                // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$2
     135: dup
     136: aload         6
     138: invokespecial #187                // Method org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$2."<init>":(Lorg/jboss/as/naming/service/BinderService;)V
     141: invokeinterface #121,  4          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     146: invokeinterface #147,  1          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     151: pop
     152: return

  private static org.jboss.msc.service.ServiceName beanManagerServiceName(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: aload_0
       1: invokeinterface #95,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
       6: getstatic     #188                // Field BEANMANAGER_NAME:Lorg/jboss/msc/service/ServiceName;
       9: invokevirtual #189                // Method org/jboss/msc/service/ServiceName.append:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceName;
      12: areturn

  private static void setAnnotationIndexes(org.jboss.as.jpa.config.PersistenceUnitMetadataHolder, org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: new           #86                 // class java/util/HashMap
       3: dup
       4: invokespecial #87                 // Method java/util/HashMap."<init>":()V
       7: astore_2
       8: aload_1
       9: invokestatic  #46                 // Method org/jboss/as/server/deployment/DeploymentUtils.allResourceRoots:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Ljava/util/List;
      12: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      17: astore_3
      18: aload_3
      19: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          109
      27: aload_3
      28: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #20                 // class org/jboss/as/server/deployment/module/ResourceRoot
      36: astore        4
      38: aload         4
      40: getstatic     #190                // Field org/jboss/as/server/deployment/Attachments.ANNOTATION_INDEX:Lorg/jboss/as/server/deployment/AttachmentKey;
      43: invokevirtual #22                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      46: checkcast     #191                // class org/jboss/jandex/Index
      49: astore        5
      51: aload         5
      53: ifnull        106
      56: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      59: ldc           #192                // String adding \'%s\' to annotation index map
      61: aload         4
      63: invokevirtual #35                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRoot:()Lorg/jboss/vfs/VirtualFile;
      66: invokevirtual #193                // Method org/jboss/vfs/VirtualFile.toURL:()Ljava/net/URL;
      69: invokeinterface #32,  3           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      74: aload_2
      75: aload         4
      77: invokevirtual #35                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRoot:()Lorg/jboss/vfs/VirtualFile;
      80: invokevirtual #193                // Method org/jboss/vfs/VirtualFile.toURL:()Ljava/net/URL;
      83: aload         5
      85: invokeinterface #194,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      90: pop
      91: goto          106
      94: astore        6
      96: new           #196                // class java/lang/RuntimeException
      99: dup
     100: aload         6
     102: invokespecial #197                // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     105: athrow
     106: goto          18
     109: aload_1
     110: invokeinterface #198,  1          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
     115: astore_1
     116: aload_1
     117: ifnonnull     8
     120: aload_0
     121: invokevirtual #24                 // Method org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.getPersistenceUnits:()Ljava/util/List;
     124: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     129: astore_3
     130: aload_3
     131: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
     136: ifeq          161
     139: aload_3
     140: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     145: checkcast     #60                 // class org/jipijapa/plugin/spi/PersistenceUnitMetadata
     148: astore        4
     150: aload         4
     152: aload_2
     153: invokeinterface #199,  2          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.setAnnotationIndex:(Ljava/util/Map;)V
     158: goto          130
     161: return
    Exception table:
       from    to  target type
          56    91    94   Class java/net/MalformedURLException

  private static java.lang.String adjustJndi(java.lang.String);
    Code:
       0: aload_0
       1: ifnull        69
       4: aload_0
       5: invokevirtual #109                // Method java/lang/String.length:()I
       8: ifle          69
      11: aload_0
      12: ldc           #172                // String java:
      14: invokevirtual #173                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      17: ifne          69
      20: aload_0
      21: ldc           #200                // String jboss/
      23: invokevirtual #173                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      26: ifeq          49
      29: new           #201                // class java/lang/StringBuilder
      32: dup
      33: invokespecial #202                // Method java/lang/StringBuilder."<init>":()V
      36: ldc           #172                // String java:
      38: invokevirtual #203                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: aload_0
      42: invokevirtual #203                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #204                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: areturn
      49: new           #201                // class java/lang/StringBuilder
      52: dup
      53: invokespecial #202                // Method java/lang/StringBuilder."<init>":()V
      56: ldc           #205                // String java:/
      58: invokevirtual #203                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: aload_0
      62: invokevirtual #203                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: invokevirtual #204                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      68: areturn
      69: aload_0
      70: areturn

  private static org.jipijapa.plugin.spi.PersistenceProviderAdaptor getPersistenceProviderAdaptor(org.jipijapa.plugin.spi.PersistenceUnitMetadata, org.jboss.as.jpa.config.PersistenceProviderDeploymentHolder, org.jboss.as.server.deployment.DeploymentUnit, javax.persistence.spi.PersistenceProvider, org.jipijapa.plugin.spi.Platform) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_0
       1: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
       6: ldc           #206                // String jboss.as.jpa.adapterClass
       8: invokevirtual #64                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      11: astore        5
      13: aload_1
      14: ifnull        81
      17: aload         5
      19: ifnull        81
      22: aload_1
      23: invokevirtual #207                // Method org/jboss/as/jpa/config/PersistenceProviderDeploymentHolder.getAdapters:()Ljava/util/List;
      26: astore        6
      28: aload         6
      30: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      35: astore        7
      37: aload         7
      39: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          81
      47: aload         7
      49: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #208                // class org/jipijapa/plugin/spi/PersistenceProviderAdaptor
      57: astore        8
      59: aload         5
      61: aload         8
      63: invokevirtual #209                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      66: invokevirtual #210                // Method java/lang/Class.getName:()Ljava/lang/String;
      69: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      72: ifeq          78
      75: aload         8
      77: areturn
      78: goto          37
      81: aload_0
      82: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
      87: ldc           #211                // String jboss.as.jpa.adapterModule
      89: invokevirtual #64                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      92: astore        6
      94: aload_2
      95: aload         6
      97: aload_3
      98: invokestatic  #212                // Method getPerDeploymentSharedPersistenceProviderAdaptor:(Lorg/jboss/as/server/deployment/DeploymentUnit;Ljava/lang/String;Ljavax/persistence/spi/PersistenceProvider;)Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;
     101: astore        7
     103: aload         7
     105: ifnonnull     170
     108: aload         6
     110: ifnull        129
     113: aload         6
     115: aload         4
     117: aload_2
     118: invokestatic  #213                // Method createManager:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/jpa/transaction/JtaManagerImpl;
     121: invokestatic  #214                // Method org/jboss/as/jpa/processor/PersistenceProviderAdaptorLoader.loadPersistenceAdapterModule:(Ljava/lang/String;Lorg/jipijapa/plugin/spi/Platform;Lorg/jboss/as/jpa/transaction/JtaManagerImpl;)Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;
     124: astore        7
     126: goto          141
     129: aload_3
     130: aload         4
     132: aload_2
     133: invokestatic  #213                // Method createManager:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/jpa/transaction/JtaManagerImpl;
     136: invokestatic  #215                // Method org/jboss/as/jpa/processor/PersistenceProviderAdaptorLoader.loadPersistenceAdapter:(Ljavax/persistence/spi/PersistenceProvider;Lorg/jipijapa/plugin/spi/Platform;Lorg/jboss/as/jpa/transaction/JtaManagerImpl;)Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;
     139: astore        7
     141: goto          159
     144: astore        8
     146: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     149: aload         8
     151: aload         6
     153: invokeinterface #217,  3          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.persistenceProviderAdaptorModuleLoadError:(Ljava/lang/Throwable;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     158: athrow
     159: aload_2
     160: aload         6
     162: aload         7
     164: aload_3
     165: invokestatic  #218                // Method savePerDeploymentSharedPersistenceProviderAdaptor:(Lorg/jboss/as/server/deployment/DeploymentUnit;Ljava/lang/String;Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;Ljavax/persistence/spi/PersistenceProvider;)Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;
     168: astore        7
     170: aload         7
     172: ifnonnull     190
     175: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     178: aload_0
     179: invokeinterface #219,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceProviderClassName:()Ljava/lang/String;
     184: invokeinterface #220,  2          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.failedToGetAdapter:(Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     189: athrow
     190: aload         7
     192: areturn
    Exception table:
       from    to  target type
         108   141   144   Class org/jboss/modules/ModuleLoadException

  private static org.jboss.as.jpa.transaction.JtaManagerImpl createManager(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: new           #221                // class org/jboss/as/jpa/transaction/JtaManagerImpl
       3: dup
       4: aload_0
       5: getstatic     #82                 // Field org/jboss/as/jpa/processor/JpaAttachments.TRANSACTION_MANAGER:Lorg/jboss/as/server/deployment/AttachmentKey;
       8: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      13: checkcast     #83                 // class javax/transaction/TransactionManager
      16: aload_0
      17: getstatic     #84                 // Field org/jboss/as/jpa/processor/JpaAttachments.TRANSACTION_SYNCHRONIZATION_REGISTRY:Lorg/jboss/as/server/deployment/AttachmentKey;
      20: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      25: checkcast     #85                 // class javax/transaction/TransactionSynchronizationRegistry
      28: invokespecial #222                // Method org/jboss/as/jpa/transaction/JtaManagerImpl."<init>":(Ljavax/transaction/TransactionManager;Ljavax/transaction/TransactionSynchronizationRegistry;)V
      31: areturn

  private static org.jipijapa.plugin.spi.PersistenceProviderAdaptor savePerDeploymentSharedPersistenceProviderAdaptor(org.jboss.as.server.deployment.DeploymentUnit, java.lang.String, org.jipijapa.plugin.spi.PersistenceProviderAdaptor, javax.persistence.spi.PersistenceProvider);
    Code:
       0: aload_0
       1: invokeinterface #198,  1          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: ifnull        16
       9: aload_0
      10: invokeinterface #198,  1          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      15: astore_0
      16: aload_0
      17: dup
      18: astore        4
      20: monitorenter
      21: aload_0
      22: getstatic     #223                // Field providerAdaptorMapKey:Lorg/jboss/as/server/deployment/AttachmentKey;
      25: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      30: checkcast     #224                // class java/util/Map
      33: astore        5
      35: aload_1
      36: ifnull        45
      39: aload_1
      40: astore        6
      42: goto          54
      45: aload_3
      46: invokevirtual #209                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      49: invokevirtual #210                // Method java/lang/Class.getName:()Ljava/lang/String;
      52: astore        6
      54: aload         5
      56: aload         6
      58: invokeinterface #225,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      63: checkcast     #208                // class org/jipijapa/plugin/spi/PersistenceProviderAdaptor
      66: astore        7
      68: aload         7
      70: ifnonnull     87
      73: aload         5
      75: aload         6
      77: aload_2
      78: invokeinterface #194,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      83: pop
      84: aload_2
      85: astore        7
      87: aload         7
      89: aload         4
      91: monitorexit
      92: areturn
      93: astore        8
      95: aload         4
      97: monitorexit
      98: aload         8
     100: athrow
    Exception table:
       from    to  target type
          21    92    93   any
          93    98    93   any

  private static org.jipijapa.plugin.spi.PersistenceProviderAdaptor getPerDeploymentSharedPersistenceProviderAdaptor(org.jboss.as.server.deployment.DeploymentUnit, java.lang.String, javax.persistence.spi.PersistenceProvider);
    Code:
       0: aload_0
       1: invokeinterface #198,  1          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: ifnull        16
       9: aload_0
      10: invokeinterface #198,  1          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      15: astore_0
      16: aload_0
      17: dup
      18: astore_3
      19: monitorenter
      20: aload_0
      21: getstatic     #223                // Field providerAdaptorMapKey:Lorg/jboss/as/server/deployment/AttachmentKey;
      24: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      29: checkcast     #224                // class java/util/Map
      32: astore        4
      34: aload         4
      36: ifnonnull     60
      39: new           #86                 // class java/util/HashMap
      42: dup
      43: invokespecial #87                 // Method java/util/HashMap."<init>":()V
      46: astore        4
      48: aload_0
      49: getstatic     #223                // Field providerAdaptorMapKey:Lorg/jboss/as/server/deployment/AttachmentKey;
      52: aload         4
      54: invokeinterface #101,  3          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.putAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
      59: pop
      60: aload_1
      61: ifnull        70
      64: aload_1
      65: astore        5
      67: goto          79
      70: aload_2
      71: invokevirtual #209                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      74: invokevirtual #210                // Method java/lang/Class.getName:()Ljava/lang/String;
      77: astore        5
      79: aload         4
      81: aload         5
      83: invokeinterface #225,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      88: checkcast     #208                // class org/jipijapa/plugin/spi/PersistenceProviderAdaptor
      91: aload_3
      92: monitorexit
      93: areturn
      94: astore        6
      96: aload_3
      97: monitorexit
      98: aload         6
     100: athrow
    Exception table:
       from    to  target type
          20    93    94   any
          94    98    94   any

  private static javax.persistence.spi.PersistenceProvider lookupProvider(org.jipijapa.plugin.spi.PersistenceUnitMetadata, org.jboss.as.jpa.config.PersistenceProviderDeploymentHolder, org.jboss.as.server.deployment.DeploymentUnit) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #226                // Method org/jboss/as/jpa/config/PersistenceProviderDeploymentHolder.getProviders:()Ljava/util/List;
       8: goto          12
      11: aconst_null
      12: astore_3
      13: aload_3
      14: ifnull        95
      17: aload_3
      18: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      23: astore        4
      25: aload         4
      27: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      32: ifeq          95
      35: aload         4
      37: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: checkcast     #227                // class javax/persistence/spi/PersistenceProvider
      45: astore        5
      47: aload         5
      49: invokevirtual #209                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      52: invokevirtual #210                // Method java/lang/Class.getName:()Ljava/lang/String;
      55: aload_0
      56: invokeinterface #219,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceProviderClassName:()Ljava/lang/String;
      61: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      64: ifeq          92
      67: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
      70: ldc           #228                // String deployment %s is using %s
      72: aload_2
      73: invokeinterface #75,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
      78: aload_0
      79: invokeinterface #219,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceProviderClassName:()Ljava/lang/String;
      84: invokeinterface #76,  4           // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      89: aload         5
      91: areturn
      92: goto          25
      95: aload_0
      96: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
     101: ldc           #229                // String jboss.as.jpa.providerModule
     103: invokevirtual #64                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     106: astore        4
     108: aload_0
     109: invokeinterface #219,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceProviderClassName:()Ljava/lang/String;
     114: astore        5
     116: aload         5
     118: ifnonnull     125
     121: ldc           #230                // String org.hibernate.jpa.HibernatePersistenceProvider
     123: astore        5
     125: aload         4
     127: ifnull        290
     130: ldc           #231                // String application
     132: aload         4
     134: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     137: ifeq          240
     140: aload_2
     141: getstatic     #50                 // Field org/jboss/as/server/deployment/Attachments.MODULE:Lorg/jboss/as/server/deployment/AttachmentKey;
     144: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     149: checkcast     #51                 // class org/jboss/modules/Module
     152: invokevirtual #57                 // Method org/jboss/modules/Module.getClassLoader:()Lorg/jboss/modules/ModuleClassLoader;
     155: astore        7
     157: aload         7
     159: aload         5
     161: invokestatic  #232                // Method org/jboss/as/jpa/persistenceprovider/PersistenceProviderLoader.loadProviderFromDeployment:(Ljava/lang/ClassLoader;Ljava/lang/String;)Ljavax/persistence/spi/PersistenceProvider;
     164: astore        8
     166: new           #26                 // class java/util/ArrayList
     169: dup
     170: invokespecial #233                // Method java/util/ArrayList."<init>":()V
     173: astore        6
     175: aload         6
     177: aload         8
     179: invokeinterface #234,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     184: pop
     185: aload_2
     186: aload         6
     188: aconst_null
     189: invokestatic  #235                // Method org/jboss/as/jpa/config/PersistenceProviderDeploymentHolder.savePersistenceProviderInDeploymentUnit:(Lorg/jboss/as/server/deployment/DeploymentUnit;Ljava/util/List;Ljava/util/List;)V
     192: aload         8
     194: areturn
     195: astore        7
     197: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     200: aload         7
     202: aload         5
     204: invokeinterface #237,  3          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotDeployApp:(Ljava/lang/Throwable;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     209: athrow
     210: astore        7
     212: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     215: aload         7
     217: aload         5
     219: invokeinterface #237,  3          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotDeployApp:(Ljava/lang/Throwable;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     224: athrow
     225: astore        7
     227: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     230: aload         7
     232: aload         5
     234: invokeinterface #237,  3          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotDeployApp:(Ljava/lang/Throwable;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     239: athrow
     240: aload         4
     242: invokestatic  #240                // Method org/jboss/as/jpa/persistenceprovider/PersistenceProviderLoader.loadProviderModuleByName:(Ljava/lang/String;)Ljava/util/List;
     245: astore        6
     247: aload_2
     248: aload         6
     250: aconst_null
     251: invokestatic  #235                // Method org/jboss/as/jpa/config/PersistenceProviderDeploymentHolder.savePersistenceProviderInDeploymentUnit:(Lorg/jboss/as/server/deployment/DeploymentUnit;Ljava/util/List;Ljava/util/List;)V
     254: aload_0
     255: aload         6
     257: invokestatic  #241                // Method getProviderByName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Ljava/util/List;)Ljavax/persistence/spi/PersistenceProvider;
     260: astore        7
     262: aload         7
     264: ifnull        270
     267: aload         7
     269: areturn
     270: goto          290
     273: astore        7
     275: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     278: aload         7
     280: aload         4
     282: aload         5
     284: invokeinterface #242,  4          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotLoadPersistenceProviderModule:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     289: athrow
     290: aload         5
     292: invokestatic  #243                // Method org/jboss/as/jpa/config/Configuration.getProviderModuleNameFromProviderClassName:(Ljava/lang/String;)Ljava/lang/String;
     295: astore        6
     297: aload_0
     298: invokestatic  #244                // Method getProviderByName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Ljavax/persistence/spi/PersistenceProvider;
     301: astore        7
     303: aload         7
     305: ifnonnull     355
     308: aload         6
     310: ifnull        355
     313: aload         6
     315: invokestatic  #240                // Method org/jboss/as/jpa/persistenceprovider/PersistenceProviderLoader.loadProviderModuleByName:(Ljava/lang/String;)Ljava/util/List;
     318: astore        8
     320: aload_2
     321: aload         8
     323: aconst_null
     324: invokestatic  #235                // Method org/jboss/as/jpa/config/PersistenceProviderDeploymentHolder.savePersistenceProviderInDeploymentUnit:(Lorg/jboss/as/server/deployment/DeploymentUnit;Ljava/util/List;Ljava/util/List;)V
     327: aload_0
     328: aload         8
     330: invokestatic  #241                // Method getProviderByName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Ljava/util/List;)Ljavax/persistence/spi/PersistenceProvider;
     333: astore        7
     335: goto          355
     338: astore        8
     340: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     343: aload         8
     345: aload         6
     347: aload         5
     349: invokeinterface #242,  4          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.cannotLoadPersistenceProviderModule:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     354: athrow
     355: aload         7
     357: ifnonnull     371
     360: getstatic     #29                 // Field org/jboss/as/jpa/messages/JpaLogger.ROOT_LOGGER:Lorg/jboss/as/jpa/messages/JpaLogger;
     363: aload         5
     365: invokeinterface #245,  2          // InterfaceMethod org/jboss/as/jpa/messages/JpaLogger.persistenceProviderNotFound:(Ljava/lang/String;)Ljavax/persistence/PersistenceException;
     370: athrow
     371: aload         7
     373: areturn
    Exception table:
       from    to  target type
         140   194   195   Class java/lang/ClassNotFoundException
         140   194   210   Class java/lang/InstantiationException
         140   194   225   Class java/lang/IllegalAccessException
         240   269   273   Class org/jboss/modules/ModuleLoadException
         313   335   338   Class org/jboss/modules/ModuleLoadException

  private static javax.persistence.spi.PersistenceProvider getProviderByName(org.jipijapa.plugin.spi.PersistenceUnitMetadata);
    Code:
       0: aload_0
       1: invokestatic  #246                // Method javax/persistence/spi/PersistenceProviderResolverHolder.getPersistenceProviderResolver:()Ljavax/persistence/spi/PersistenceProviderResolver;
       4: invokeinterface #247,  1          // InterfaceMethod javax/persistence/spi/PersistenceProviderResolver.getPersistenceProviders:()Ljava/util/List;
       9: invokestatic  #241                // Method getProviderByName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Ljava/util/List;)Ljavax/persistence/spi/PersistenceProvider;
      12: areturn

  private static javax.persistence.spi.PersistenceProvider getProviderByName(org.jipijapa.plugin.spi.PersistenceUnitMetadata, java.util.List<javax.persistence.spi.PersistenceProvider>);
    Code:
       0: aload_0
       1: invokeinterface #219,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getPersistenceProviderClassName:()Ljava/lang/String;
       6: astore_2
       7: aload_1
       8: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      13: astore_3
      14: aload_3
      15: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          84
      23: aload_3
      24: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #227                // class javax/persistence/spi/PersistenceProvider
      32: astore        4
      34: aload_2
      35: ifnull        78
      38: aload         4
      40: invokevirtual #209                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      43: invokevirtual #210                // Method java/lang/Class.getName:()Ljava/lang/String;
      46: aload_2
      47: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      50: ifne          78
      53: aload         4
      55: invokevirtual #209                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      58: invokevirtual #210                // Method java/lang/Class.getName:()Ljava/lang/String;
      61: ldc           #230                // String org.hibernate.jpa.HibernatePersistenceProvider
      63: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      66: ifeq          81
      69: aload_2
      70: ldc           #248                // String org.hibernate.ejb.HibernatePersistence
      72: invokevirtual #112                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      75: ifeq          81
      78: aload         4
      80: areturn
      81: goto          14
      84: aconst_null
      85: areturn

  private static void nextPhaseDependsOnPersistenceUnit(org.jboss.as.server.deployment.DeploymentPhaseContext, org.jipijapa.plugin.spi.Platform) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_0
       1: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: invokestatic  #249                // Method org/jboss/as/server/deployment/DeploymentUtils.getTopDeploymentUnit:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/server/deployment/DeploymentUnit;
       9: astore_2
      10: aload_2
      11: getstatic     #250                // Field org/jboss/as/jpa/config/PersistenceUnitsInApplication.PERSISTENCE_UNITS_IN_APPLICATION:Lorg/jboss/as/server/deployment/AttachmentKey;
      14: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      19: checkcast     #251                // class org/jboss/as/jpa/config/PersistenceUnitsInApplication
      22: astore_3
      23: aload_3
      24: invokevirtual #252                // Method org/jboss/as/jpa/config/PersistenceUnitsInApplication.getPersistenceUnitHolders:()Ljava/util/List;
      27: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      32: astore        4
      34: aload         4
      36: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      41: ifeq          246
      44: aload         4
      46: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      51: checkcast     #23                 // class org/jboss/as/jpa/config/PersistenceUnitMetadataHolder
      54: astore        5
      56: aload         5
      58: invokevirtual #24                 // Method org/jboss/as/jpa/config/PersistenceUnitMetadataHolder.getPersistenceUnits:()Ljava/util/List;
      61: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      66: astore        6
      68: aload         6
      70: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      75: ifeq          243
      78: aload         6
      80: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      85: checkcast     #60                 // class org/jipijapa/plugin/spi/PersistenceUnitMetadata
      88: astore        7
      90: aload         7
      92: invokeinterface #61,  1           // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getProperties:()Ljava/util/Properties;
      97: ldc           #63                 // String jboss.as.jpa.managed
      99: invokevirtual #64                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     102: astore        8
     104: aload         8
     106: ifnonnull     113
     109: iconst_1
     110: goto          118
     113: aload         8
     115: invokestatic  #65                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     118: istore        9
     120: iload         9
     122: ifeq          240
     125: aload         7
     127: invokestatic  #99                 // Method org/jboss/as/jpa/service/PersistenceUnitServiceImpl.getPUServiceName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Lorg/jboss/msc/service/ServiceName;
     130: astore        10
     132: aload_0
     133: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
     138: invokestatic  #66                 // Method getPersistenceProviderDeploymentHolder:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/jpa/config/PersistenceProviderDeploymentHolder;
     141: astore        11
     143: aload         7
     145: aload         11
     147: aload_0
     148: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
     153: invokestatic  #67                 // Method lookupProvider:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/as/jpa/config/PersistenceProviderDeploymentHolder;Lorg/jboss/as/server/deployment/DeploymentUnit;)Ljavax/persistence/spi/PersistenceProvider;
     156: astore        12
     158: aload         7
     160: aload         11
     162: aload_0
     163: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
     168: aload         12
     170: aload_1
     171: invokestatic  #68                 // Method getPersistenceProviderAdaptor:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;Lorg/jboss/as/jpa/config/PersistenceProviderDeploymentHolder;Lorg/jboss/as/server/deployment/DeploymentUnit;Ljavax/persistence/spi/PersistenceProvider;Lorg/jipijapa/plugin/spi/Platform;)Lorg/jipijapa/plugin/spi/PersistenceProviderAdaptor;
     174: astore        13
     176: aload         13
     178: instanceof    #69                 // class org/jipijapa/plugin/spi/TwoPhaseBootstrapCapable
     181: ifeq          196
     184: aload         7
     186: invokestatic  #70                 // Method org/jboss/as/jpa/config/Configuration.allowTwoPhaseBootstrap:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     189: ifeq          196
     192: iconst_1
     193: goto          197
     196: iconst_0
     197: istore        14
     199: aload         7
     201: invokestatic  #72                 // Method org/jboss/as/jpa/config/Configuration.needClassFileTransformer:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
     204: ifeq          240
     207: aload_0
     208: getstatic     #253                // Field org/jboss/as/server/deployment/Attachments.NEXT_PHASE_DEPS:Lorg/jboss/as/server/deployment/AttachmentKey;
     211: iload         14
     213: ifeq          233
     216: aload         10
     218: iconst_1
     219: anewarray     #156                // class java/lang/String
     222: dup
     223: iconst_0
     224: ldc           #157                // String __FIRST_PHASE__
     226: aastore
     227: invokevirtual #158                // Method org/jboss/msc/service/ServiceName.append:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     230: goto          235
     233: aload         10
     235: invokeinterface #254,  3          // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     240: goto          68
     243: goto          34
     246: return

  static boolean isEarDeployment(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: getstatic     #255                // Field org/jboss/as/ee/structure/DeploymentType.EAR:Lorg/jboss/as/ee/structure/DeploymentType;
       3: aload_0
       4: invokestatic  #256                // Method org/jboss/as/ee/structure/DeploymentTypeMarker.isType:(Lorg/jboss/as/ee/structure/DeploymentType;Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
       7: ireturn

  static boolean isWarDeployment(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: getstatic     #257                // Field org/jboss/as/ee/structure/DeploymentType.WAR:Lorg/jboss/as/ee/structure/DeploymentType;
       3: aload_0
       4: invokestatic  #256                // Method org/jboss/as/ee/structure/DeploymentTypeMarker.isType:(Lorg/jboss/as/ee/structure/DeploymentType;Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
       7: ireturn

  private static void addManagementConsole(org.jboss.as.server.deployment.DeploymentUnit, org.jipijapa.plugin.spi.PersistenceUnitMetadata, org.jipijapa.plugin.spi.PersistenceProviderAdaptor);
    Code:
       0: aload_2
       1: invokeinterface #258,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.getManagementAdaptor:()Lorg/jipijapa/plugin/spi/ManagementAdaptor;
       6: astore_3
       7: aload_3
       8: ifnull        162
      11: aload_2
      12: aload_1
      13: invokeinterface #259,  2          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceProviderAdaptor.doesScopedPersistenceUnitNameIdentifyCacheRegionName:(Lorg/jipijapa/plugin/spi/PersistenceUnitMetadata;)Z
      18: ifeq          162
      21: aload_3
      22: invokeinterface #260,  1          // InterfaceMethod org/jipijapa/plugin/spi/ManagementAdaptor.getIdentificationLabel:()Ljava/lang/String;
      27: astore        4
      29: aload_1
      30: invokeinterface #261,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getScopedPersistenceUnitName:()Ljava/lang/String;
      35: astore        5
      37: aload_3
      38: aload         5
      40: aload_0
      41: invokestatic  #262                // Method org/jboss/as/jpa/service/JPAService.createManagementStatisticsResource:(Lorg/jipijapa/plugin/spi/ManagementAdaptor;Ljava/lang/String;Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/controller/registry/Resource;
      44: astore        6
      46: aload         6
      48: invokeinterface #263,  1          // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
      53: astore        7
      55: aload         7
      57: getstatic     #264                // Field SCOPED_UNIT_NAME:Lorg/jboss/as/controller/AttributeDefinition;
      60: invokevirtual #265                // Method org/jboss/as/controller/AttributeDefinition.getName:()Ljava/lang/String;
      63: invokevirtual #266                // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      66: aload_1
      67: invokeinterface #261,  1          // InterfaceMethod org/jipijapa/plugin/spi/PersistenceUnitMetadata.getScopedPersistenceUnitName:()Ljava/lang/String;
      72: invokevirtual #267                // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      75: pop
      76: aload_0
      77: getstatic     #268                // Field org/jboss/as/server/deployment/DeploymentModelUtils.DEPLOYMENT_RESOURCE:Lorg/jboss/as/server/deployment/AttachmentKey;
      80: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      85: checkcast     #269                // class org/jboss/as/controller/registry/Resource
      88: astore        8
      90: aload         8
      92: dup
      93: astore        10
      95: monitorenter
      96: aload         8
      98: ldc_w         #271                // String subsystem
     101: ldc_w         #272                // String jpa
     104: invokestatic  #273                // Method org/jboss/as/controller/PathElement.pathElement:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/PathElement;
     107: invokestatic  #274                // Method getOrCreateResource:(Lorg/jboss/as/controller/registry/Resource;Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/registry/Resource;
     110: astore        9
     112: aload         10
     114: monitorexit
     115: goto          126
     118: astore        11
     120: aload         10
     122: monitorexit
     123: aload         11
     125: athrow
     126: aload         9
     128: dup
     129: astore        10
     131: monitorenter
     132: aload         9
     134: aload         4
     136: aload         5
     138: invokestatic  #273                // Method org/jboss/as/controller/PathElement.pathElement:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/PathElement;
     141: aload         6
     143: invokeinterface #275,  3          // InterfaceMethod org/jboss/as/controller/registry/Resource.registerChild:(Lorg/jboss/as/controller/PathElement;Lorg/jboss/as/controller/registry/Resource;)V
     148: aload         10
     150: monitorexit
     151: goto          162
     154: astore        12
     156: aload         10
     158: monitorexit
     159: aload         12
     161: athrow
     162: return
    Exception table:
       from    to  target type
          96   115   118   any
         118   123   118   any
         132   151   154   any
         154   159   154   any

  private static org.jboss.as.controller.registry.Resource getOrCreateResource(org.jboss.as.controller.registry.Resource, org.jboss.as.controller.PathElement);
    Code:
       0: aload_0
       1: dup
       2: astore_2
       3: monitorenter
       4: aload_0
       5: aload_1
       6: invokeinterface #276,  2          // InterfaceMethod org/jboss/as/controller/registry/Resource.hasChild:(Lorg/jboss/as/controller/PathElement;)Z
      11: ifeq          24
      14: aload_0
      15: aload_1
      16: invokeinterface #277,  2          // InterfaceMethod org/jboss/as/controller/registry/Resource.requireChild:(Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/registry/Resource;
      21: aload_2
      22: monitorexit
      23: areturn
      24: invokestatic  #278                // Method org/jboss/as/controller/registry/Resource$Factory.create:()Lorg/jboss/as/controller/registry/Resource;
      27: astore_3
      28: aload_0
      29: aload_1
      30: aload_3
      31: invokeinterface #275,  3          // InterfaceMethod org/jboss/as/controller/registry/Resource.registerChild:(Lorg/jboss/as/controller/PathElement;Lorg/jboss/as/controller/registry/Resource;)V
      36: aload_3
      37: aload_2
      38: monitorexit
      39: areturn
      40: astore        4
      42: aload_2
      43: monitorexit
      44: aload         4
      46: athrow
    Exception table:
       from    to  target type
           4    23    40   any
          24    39    40   any
          40    44    40   any

  private static org.jboss.as.jpa.config.PersistenceProviderDeploymentHolder getPersistenceProviderDeploymentHolder(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: aload_0
       1: invokestatic  #249                // Method org/jboss/as/server/deployment/DeploymentUtils.getTopDeploymentUnit:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/server/deployment/DeploymentUnit;
       4: astore_0
       5: aload_0
       6: getstatic     #279                // Field org/jboss/as/jpa/processor/JpaAttachments.DEPLOYED_PERSISTENCE_PROVIDER:Lorg/jboss/as/server/deployment/AttachmentKey;
       9: invokeinterface #19,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      14: checkcast     #280                // class org/jboss/as/jpa/config/PersistenceProviderDeploymentHolder
      17: areturn

  static {};
    Code:
       0: iconst_1
       1: anewarray     #156                // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc_w         #281                // String beanmanager
       9: aastore
      10: invokestatic  #282                // Method org/jboss/msc/service/ServiceName.of:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
      13: putstatic     #188                // Field BEANMANAGER_NAME:Lorg/jboss/msc/service/ServiceName;
      16: ldc           #224                // class java/util/Map
      18: invokestatic  #283                // Method org/jboss/as/server/deployment/AttachmentKey.create:(Ljava/lang/Class;)Lorg/jboss/as/server/deployment/AttachmentKey;
      21: putstatic     #223                // Field providerAdaptorMapKey:Lorg/jboss/as/server/deployment/AttachmentKey;
      24: new           #284                // class org/jboss/as/controller/SimpleAttributeDefinitionBuilder
      27: dup
      28: ldc_w         #285                // String scoped-unit-name
      31: getstatic     #286                // Field org/jboss/dmr/ModelType.STRING:Lorg/jboss/dmr/ModelType;
      34: iconst_1
      35: invokespecial #287                // Method org/jboss/as/controller/SimpleAttributeDefinitionBuilder."<init>":(Ljava/lang/String;Lorg/jboss/dmr/ModelType;Z)V
      38: invokevirtual #288                // Method org/jboss/as/controller/SimpleAttributeDefinitionBuilder.setStorageRuntime:()Lorg/jboss/as/controller/AbstractAttributeDefinitionBuilder;
      41: checkcast     #284                // class org/jboss/as/controller/SimpleAttributeDefinitionBuilder
      44: invokevirtual #289                // Method org/jboss/as/controller/SimpleAttributeDefinitionBuilder.build:()Lorg/jboss/as/controller/SimpleAttributeDefinition;
      47: putstatic     #264                // Field SCOPED_UNIT_NAME:Lorg/jboss/as/controller/AttributeDefinition;
      50: ldc           #11                 // class org/jboss/as/jpa/processor/PersistenceUnitServiceHandler$PersistenceAdaptorRemoval
      52: invokestatic  #290                // Method org/jboss/as/server/deployment/AttachmentKey.createList:(Ljava/lang/Class;)Lorg/jboss/as/server/deployment/AttachmentKey;
      55: putstatic     #6                  // Field REMOVAL_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
      58: return
}
