Compiled from "XidTransactionCommitTask.java"
class org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionCommitTask extends org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask {
  private final boolean onePhaseCommit;

  org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionCommitTask(org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler, org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository, org.jboss.marshalling.MarshallerFactory, org.jboss.ejb.client.XidTransactionID, org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, short, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: iload         6
      10: invokespecial #1                  // Method org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionManagementTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/XidTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
      13: aload_0
      14: iload         7
      16: putfield      #2                  // Field onePhaseCommit:Z
      19: return

  protected void manageTransaction() throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
       4: aload_0
       5: getfield      #4                  // Field xidTransactionID:Lorg/jboss/ejb/client/XidTransactionID;
       8: invokevirtual #5                  // Method org/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository.getImportedTransaction:(Lorg/jboss/ejb/client/XidTransactionID;)Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction;
      11: astore_1
      12: aload_1
      13: ifnonnull     72
      16: aload_0
      17: invokevirtual #6                  // Method tryRecoveryForImportedTransaction:()Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction;
      20: astore_2
      21: aload_2
      22: ifnonnull     72
      25: getstatic     #7                  // Field org/jboss/as/ejb3/logging/EjbLogger.EJB3_INVOCATION_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      28: invokeinterface #8,  1            // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isDebugEnabled:()Z
      33: ifeq          71
      36: getstatic     #7                  // Field org/jboss/as/ejb3/logging/EjbLogger.EJB3_INVOCATION_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      39: new           #9                  // class java/lang/StringBuilder
      42: dup
      43: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      46: ldc           #11                 // String Not committing
      48: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: aload_0
      52: getfield      #4                  // Field xidTransactionID:Lorg/jboss/ejb/client/XidTransactionID;
      55: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      58: ldc           #14                 // String  as is was not found on the server
      60: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      66: invokeinterface #16,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debug:(Ljava/lang/Object;)V
      71: return
      72: aload_0
      73: aload_1
      74: invokevirtual #17                 // Method resumeTransaction:(Ljavax/transaction/Transaction;)V
      77: aload_0
      78: getfield      #4                  // Field xidTransactionID:Lorg/jboss/ejb/client/XidTransactionID;
      81: invokevirtual #18                 // Method org/jboss/ejb/client/XidTransactionID.getXid:()Ljavax/transaction/xa/Xid;
      84: astore_2
      85: invokestatic  #19                 // Method com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinationManager.getTransactionImporter:()Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter;
      88: aload_2
      89: invokeinterface #20,  2           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter.getImportedTransaction:(Ljavax/transaction/xa/Xid;)Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction;
      94: astore_3
      95: aload_3
      96: ifnonnull     109
      99: new           #21                 // class javax/transaction/xa/XAException
     102: dup
     103: bipush        -5
     105: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     108: athrow
     109: aload_3
     110: invokeinterface #23,  1           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction.activated:()Z
     115: ifeq          153
     118: aload_0
     119: getfield      #2                  // Field onePhaseCommit:Z
     122: ifeq          134
     125: aload_3
     126: invokeinterface #24,  1           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction.doOnePhaseCommit:()V
     131: goto          141
     134: aload_3
     135: invokeinterface #25,  1           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction.doCommit:()Z
     140: pop
     141: invokestatic  #19                 // Method com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinationManager.getTransactionImporter:()Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter;
     144: aload_2
     145: invokeinterface #26,  2           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter.removeImportedTransaction:(Ljavax/transaction/xa/Xid;)V
     150: goto          162
     153: new           #21                 // class javax/transaction/xa/XAException
     156: dup
     157: iconst_4
     158: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     161: athrow
     162: aload_0
     163: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     166: invokevirtual #27                 // Method org/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository.getTransactionManager:()Ljavax/transaction/TransactionManager;
     169: invokeinterface #28,  1           // InterfaceMethod javax/transaction/TransactionManager.suspend:()Ljavax/transaction/Transaction;
     174: pop
     175: goto          374
     178: astore_3
     179: invokestatic  #19                 // Method com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinationManager.getTransactionImporter:()Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter;
     182: aload_2
     183: invokeinterface #26,  2           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter.removeImportedTransaction:(Ljavax/transaction/xa/Xid;)V
     188: new           #21                 // class javax/transaction/xa/XAException
     191: dup
     192: bipush        100
     194: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     197: astore        4
     199: aload         4
     201: aload_3
     202: invokevirtual #30                 // Method javax/transaction/xa/XAException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     205: pop
     206: aload         4
     208: athrow
     209: astore_3
     210: aload_3
     211: getfield      #31                 // Field javax/transaction/xa/XAException.errorCode:I
     214: iconst_4
     215: if_icmpeq     227
     218: invokestatic  #19                 // Method com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinationManager.getTransactionImporter:()Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter;
     221: aload_2
     222: invokeinterface #26,  2           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter.removeImportedTransaction:(Ljavax/transaction/xa/Xid;)V
     227: aload_3
     228: athrow
     229: astore_3
     230: new           #21                 // class javax/transaction/xa/XAException
     233: dup
     234: bipush        6
     236: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     239: astore        4
     241: aload         4
     243: aload_3
     244: invokevirtual #30                 // Method javax/transaction/xa/XAException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     247: pop
     248: aload         4
     250: athrow
     251: astore_3
     252: new           #21                 // class javax/transaction/xa/XAException
     255: dup
     256: iconst_5
     257: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     260: astore        4
     262: aload         4
     264: aload_3
     265: invokevirtual #30                 // Method javax/transaction/xa/XAException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     268: pop
     269: aload         4
     271: athrow
     272: astore_3
     273: new           #21                 // class javax/transaction/xa/XAException
     276: dup
     277: bipush        7
     279: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     282: astore        4
     284: aload         4
     286: aload_3
     287: invokevirtual #30                 // Method javax/transaction/xa/XAException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     290: pop
     291: aload         4
     293: athrow
     294: astore_3
     295: invokestatic  #19                 // Method com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinationManager.getTransactionImporter:()Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter;
     298: aload_2
     299: invokeinterface #26,  2           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter.removeImportedTransaction:(Ljavax/transaction/xa/Xid;)V
     304: new           #21                 // class javax/transaction/xa/XAException
     307: dup
     308: bipush        -4
     310: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     313: astore        4
     315: aload         4
     317: aload_3
     318: invokevirtual #30                 // Method javax/transaction/xa/XAException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     321: pop
     322: aload         4
     324: athrow
     325: astore_3
     326: invokestatic  #19                 // Method com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinationManager.getTransactionImporter:()Lcom/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter;
     329: aload_2
     330: invokeinterface #26,  2           // InterfaceMethod com/arjuna/ats/internal/jta/transaction/arjunacore/jca/TransactionImporter.removeImportedTransaction:(Ljavax/transaction/xa/Xid;)V
     335: new           #21                 // class javax/transaction/xa/XAException
     338: dup
     339: bipush        -3
     341: invokespecial #22                 // Method javax/transaction/xa/XAException."<init>":(I)V
     344: astore        4
     346: aload         4
     348: aload_3
     349: invokevirtual #30                 // Method javax/transaction/xa/XAException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     352: pop
     353: aload         4
     355: athrow
     356: astore        5
     358: aload_0
     359: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     362: invokevirtual #27                 // Method org/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository.getTransactionManager:()Ljavax/transaction/TransactionManager;
     365: invokeinterface #28,  1           // InterfaceMethod javax/transaction/TransactionManager.suspend:()Ljavax/transaction/Transaction;
     370: pop
     371: aload         5
     373: athrow
     374: return
    Exception table:
       from    to  target type
          85   162   178   Class javax/transaction/RollbackException
          85   162   209   Class javax/transaction/xa/XAException
          85   162   229   Class javax/transaction/HeuristicRollbackException
          85   162   251   Class javax/transaction/HeuristicMixedException
          85   162   272   Class javax/transaction/HeuristicCommitException
          85   162   294   Class java/lang/IllegalStateException
          85   162   325   Class javax/transaction/SystemException
          85   162   356   any
         178   358   356   any
}
