Compiled from "MdbDeliveryDependenciesProcessor.java"
public class org.jboss.as.ejb3.deployment.processors.MdbDeliveryDependenciesProcessor implements org.jboss.as.server.deployment.DeploymentUnitProcessor {
  public org.jboss.as.ejb3.deployment.processors.MdbDeliveryDependenciesProcessor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void deploy(org.jboss.as.server.deployment.DeploymentPhaseContext) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_1
       1: invokeinterface #2,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: astore_2
       7: aload_2
       8: getstatic     #3                  // Field org/jboss/as/ee/component/Attachments.EE_MODULE_CONFIGURATION:Lorg/jboss/as/server/deployment/AttachmentKey;
      11: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      16: checkcast     #5                  // class org/jboss/as/ee/component/EEModuleConfiguration
      19: astore_3
      20: aload_3
      21: ifnonnull     25
      24: return
      25: aload_1
      26: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getServiceTarget:()Lorg/jboss/msc/service/ServiceTarget;
      31: astore        4
      33: iconst_0
      34: istore        5
      36: aload_3
      37: invokevirtual #7                  // Method org/jboss/as/ee/component/EEModuleConfiguration.getComponentConfigurations:()Ljava/util/Collection;
      40: invokeinterface #8,  1            // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      45: astore        6
      47: aload         6
      49: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          255
      57: aload         6
      59: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      64: checkcast     #11                 // class org/jboss/as/ee/component/ComponentConfiguration
      67: astore        7
      69: aload         7
      71: invokevirtual #12                 // Method org/jboss/as/ee/component/ComponentConfiguration.getComponentDescription:()Lorg/jboss/as/ee/component/ComponentDescription;
      74: astore        8
      76: aload         8
      78: instanceof    #13                 // class org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription
      81: ifeq          252
      84: aload         8
      86: checkcast     #13                 // class org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription
      89: astore        9
      91: aload         9
      93: invokevirtual #14                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.isDeliveryControlled:()Z
      96: ifeq          252
      99: new           #15                 // class org/jboss/as/ejb3/component/messagedriven/MdbDeliveryControllerService
     102: dup
     103: invokespecial #16                 // Method org/jboss/as/ejb3/component/messagedriven/MdbDeliveryControllerService."<init>":()V
     106: astore        10
     108: aload         4
     110: aload         9
     112: invokevirtual #17                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.getDeliveryControllerName:()Lorg/jboss/msc/service/ServiceName;
     115: aload         10
     117: invokeinterface #18,  3           // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     122: aload         8
     124: invokevirtual #19                 // Method org/jboss/as/ee/component/ComponentDescription.getCreateServiceName:()Lorg/jboss/msc/service/ServiceName;
     127: ldc           #20                 // class org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponent
     129: aload         10
     131: invokevirtual #21                 // Method org/jboss/as/ejb3/component/messagedriven/MdbDeliveryControllerService.getMdbComponent:()Lorg/jboss/msc/value/InjectedValue;
     134: invokeinterface #22,  4           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     139: getstatic     #23                 // Field org/jboss/msc/service/ServiceController$Mode.PASSIVE:Lorg/jboss/msc/service/ServiceController$Mode;
     142: invokeinterface #24,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.setInitialMode:(Lorg/jboss/msc/service/ServiceController$Mode;)Lorg/jboss/msc/service/ServiceBuilder;
     147: astore        11
     149: aload         9
     151: invokevirtual #25                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.isClusteredSingleton:()Z
     154: ifeq          186
     157: iconst_1
     158: istore        5
     160: aload         11
     162: getstatic     #26                 // Field org/jboss/as/ejb3/subsystem/EJB3SubsystemRootResourceDefinition.CLUSTERED_SINGLETON_CAPABILITY:Lorg/jboss/as/controller/capability/RuntimeCapability;
     165: invokevirtual #27                 // Method org/jboss/as/controller/capability/RuntimeCapability.getCapabilityServiceName:()Lorg/jboss/msc/service/ServiceName;
     168: iconst_1
     169: anewarray     #28                 // class java/lang/String
     172: dup
     173: iconst_0
     174: ldc           #29                 // String service
     176: aastore
     177: invokevirtual #30                 // Method org/jboss/msc/service/ServiceName.append:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     180: invokeinterface #31,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     185: pop
     186: aload         9
     188: invokevirtual #32                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.getDeliveryGroup:()Ljava/lang/String;
     191: ifnull        244
     194: aload         9
     196: invokevirtual #32                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.getDeliveryGroup:()Ljava/lang/String;
     199: invokestatic  #33                 // Method org/jboss/as/ejb3/subsystem/MdbDeliveryGroupResourceDefinition.getDeliveryGroupServiceName:(Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     202: astore        12
     204: aload_1
     205: invokeinterface #34,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getServiceRegistry:()Lorg/jboss/msc/service/ServiceRegistry;
     210: aload         12
     212: invokeinterface #35,  2           // InterfaceMethod org/jboss/msc/service/ServiceRegistry.getService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
     217: ifnonnull     234
     220: getstatic     #36                 // Field org/jboss/as/ejb3/logging/EjbLogger.DEPLOYMENT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     223: aload         9
     225: invokevirtual #32                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.getDeliveryGroup:()Ljava/lang/String;
     228: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.missingMdbDeliveryGroup:(Ljava/lang/String;)Lorg/jboss/as/server/deployment/DeploymentUnitProcessingException;
     233: athrow
     234: aload         11
     236: aload         12
     238: invokeinterface #31,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     243: pop
     244: aload         11
     246: invokeinterface #38,  1           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     251: pop
     252: goto          47
     255: iload         5
     257: ifeq          292
     260: aload         4
     262: aload_0
     263: aload_2
     264: invokespecial #39                 // Method createClusteredSingletonDemanderServiceName:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/msc/service/ServiceName;
     267: getstatic     #40                 // Field org/jboss/msc/service/Service.NULL:Lorg/jboss/msc/service/Service;
     270: invokeinterface #18,  3           // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     275: getstatic     #26                 // Field org/jboss/as/ejb3/subsystem/EJB3SubsystemRootResourceDefinition.CLUSTERED_SINGLETON_CAPABILITY:Lorg/jboss/as/controller/capability/RuntimeCapability;
     278: invokevirtual #27                 // Method org/jboss/as/controller/capability/RuntimeCapability.getCapabilityServiceName:()Lorg/jboss/msc/service/ServiceName;
     281: invokeinterface #31,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     286: invokeinterface #38,  1           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     291: pop
     292: return

  public void undeploy(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: aload_1
       1: getstatic     #3                  // Field org/jboss/as/ee/component/Attachments.EE_MODULE_CONFIGURATION:Lorg/jboss/as/server/deployment/AttachmentKey;
       4: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
       9: checkcast     #5                  // class org/jboss/as/ee/component/EEModuleConfiguration
      12: astore_2
      13: aload_2
      14: ifnonnull     18
      17: return
      18: aload_1
      19: invokeinterface #41,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceRegistry:()Lorg/jboss/msc/service/ServiceRegistry;
      24: astore_3
      25: iconst_0
      26: istore        4
      28: aload_2
      29: invokevirtual #7                  // Method org/jboss/as/ee/component/EEModuleConfiguration.getComponentConfigurations:()Ljava/util/Collection;
      32: invokeinterface #8,  1            // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      37: astore        5
      39: aload         5
      41: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      46: ifeq          141
      49: aload         5
      51: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      56: checkcast     #11                 // class org/jboss/as/ee/component/ComponentConfiguration
      59: astore        6
      61: aload         6
      63: invokevirtual #12                 // Method org/jboss/as/ee/component/ComponentConfiguration.getComponentDescription:()Lorg/jboss/as/ee/component/ComponentDescription;
      66: astore        7
      68: aload         7
      70: instanceof    #13                 // class org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription
      73: ifeq          138
      76: aload         7
      78: checkcast     #13                 // class org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription
      81: astore        8
      83: iload         4
      85: ifne          96
      88: aload         8
      90: invokevirtual #25                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.isClusteredSingleton:()Z
      93: ifeq          100
      96: iconst_1
      97: goto          101
     100: iconst_0
     101: istore        4
     103: aload         8
     105: invokevirtual #25                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.isClusteredSingleton:()Z
     108: ifne          119
     111: aload         8
     113: invokevirtual #32                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.getDeliveryGroup:()Ljava/lang/String;
     116: ifnull        138
     119: aload_3
     120: aload         8
     122: invokevirtual #17                 // Method org/jboss/as/ejb3/component/messagedriven/MessageDrivenComponentDescription.getDeliveryControllerName:()Lorg/jboss/msc/service/ServiceName;
     125: invokeinterface #42,  2           // InterfaceMethod org/jboss/msc/service/ServiceRegistry.getRequiredService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
     130: getstatic     #43                 // Field org/jboss/msc/service/ServiceController$Mode.REMOVE:Lorg/jboss/msc/service/ServiceController$Mode;
     133: invokeinterface #44,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.setMode:(Lorg/jboss/msc/service/ServiceController$Mode;)V
     138: goto          39
     141: iload         4
     143: ifeq          165
     146: aload_3
     147: aload_0
     148: aload_1
     149: invokespecial #39                 // Method createClusteredSingletonDemanderServiceName:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/msc/service/ServiceName;
     152: invokeinterface #42,  2           // InterfaceMethod org/jboss/msc/service/ServiceRegistry.getRequiredService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
     157: getstatic     #43                 // Field org/jboss/msc/service/ServiceController$Mode.REMOVE:Lorg/jboss/msc/service/ServiceController$Mode;
     160: invokeinterface #44,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.setMode:(Lorg/jboss/msc/service/ServiceController$Mode;)V
     165: return

  private org.jboss.msc.service.ServiceName createClusteredSingletonDemanderServiceName(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: aload_1
       1: invokeinterface #45,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
       6: iconst_3
       7: anewarray     #28                 // class java/lang/String
      10: dup
      11: iconst_0
      12: ldc           #46                 // String clustered
      14: aastore
      15: dup
      16: iconst_1
      17: ldc           #47                 // String singleton
      19: aastore
      20: dup
      21: iconst_2
      22: ldc           #48                 // String dependency
      24: aastore
      25: invokevirtual #30                 // Method org/jboss/msc/service/ServiceName.append:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
      28: areturn
}
