Compiled from "UserTransactionManagementTask.java"
abstract class org.jboss.as.ejb3.remote.protocol.versionone.UserTransactionManagementTask implements java.lang.Runnable {
  protected final short invocationId;

  protected final org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation channelAssociation;

  protected final org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository transactionsRepository;

  protected final org.jboss.ejb.client.UserTransactionID userTransactionID;

  protected final org.jboss.marshalling.MarshallerFactory marshallerFactory;

  protected final org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler transactionRequestHandler;

  org.jboss.as.ejb3.remote.protocol.versionone.UserTransactionManagementTask(org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler, org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository, org.jboss.marshalling.MarshallerFactory, org.jboss.ejb.client.UserTransactionID, org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, short);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field transactionRequestHandler:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;
       9: aload_0
      10: aload         5
      12: putfield      #3                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      15: aload_0
      16: aload_3
      17: putfield      #4                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
      20: aload_0
      21: iload         6
      23: putfield      #5                  // Field invocationId:S
      26: aload_0
      27: aload_2
      28: putfield      #6                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
      31: aload_0
      32: aload         4
      34: putfield      #7                  // Field userTransactionID:Lorg/jboss/ejb/client/UserTransactionID;
      37: return

  public final void run();
    Code:
       0: aload_0
       1: invokevirtual #8                  // Method manageTransaction:()V
       4: goto          53
       7: astore_1
       8: aload_0
       9: getfield      #2                  // Field transactionRequestHandler:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;
      12: aload_0
      13: getfield      #3                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      16: aload_0
      17: getfield      #4                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
      20: aload_0
      21: getfield      #5                  // Field invocationId:S
      24: aload_1
      25: aconst_null
      26: invokevirtual #10                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler.writeException:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;Lorg/jboss/marshalling/MarshallerFactory;SLjava/lang/Throwable;Ljava/util/Map;)V
      29: goto          52
      32: astore_2
      33: getstatic     #12                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      36: aload_2
      37: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.couldNotWriteOutToChannel:(Ljava/lang/Throwable;)V
      42: aload_0
      43: getfield      #3                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      46: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      49: invokestatic  #15                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      52: return
      53: aload_0
      54: getfield      #2                  // Field transactionRequestHandler:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;
      57: aload_0
      58: getfield      #3                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      61: aload_0
      62: getfield      #5                  // Field invocationId:S
      65: invokevirtual #16                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler.writeTxInvocationResponseMessage:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
      68: goto          91
      71: astore_1
      72: getstatic     #12                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      75: aload_1
      76: invokeinterface #17,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.couldNotWriteInvocationSuccessMessage:(Ljava/lang/Throwable;)V
      81: aload_0
      82: getfield      #3                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      85: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      88: invokestatic  #15                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      91: return
    Exception table:
       from    to  target type
           0     4     7   Class java/lang/Throwable
           8    29    32   Class java/io/IOException
          53    68    71   Class java/io/IOException

  protected abstract void manageTransaction() throws java.lang.Throwable;

  protected void resumeTransaction(javax.transaction.Transaction) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #6                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
       4: invokevirtual #18                 // Method org/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository.getTransactionManager:()Ljavax/transaction/TransactionManager;
       7: astore_2
       8: aload_2
       9: aload_1
      10: invokeinterface #19,  2           // InterfaceMethod javax/transaction/TransactionManager.resume:(Ljavax/transaction/Transaction;)V
      15: return
}
