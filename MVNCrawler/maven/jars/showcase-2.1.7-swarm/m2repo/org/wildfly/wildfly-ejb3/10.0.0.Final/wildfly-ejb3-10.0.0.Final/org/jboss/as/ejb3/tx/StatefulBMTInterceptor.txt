Compiled from "StatefulBMTInterceptor.java"
public class org.jboss.as.ejb3.tx.StatefulBMTInterceptor extends org.jboss.as.ejb3.tx.BMTInterceptor {
  static final boolean $assertionsDisabled;

  public org.jboss.as.ejb3.tx.StatefulBMTInterceptor(org.jboss.as.ejb3.component.EJBComponent);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method org/jboss/as/ejb3/tx/BMTInterceptor."<init>":(Lorg/jboss/as/ejb3/component/EJBComponent;)V
       5: return

  private void checkBadStateful();
    Code:
       0: bipush        6
       2: istore_1
       3: aload_0
       4: invokevirtual #3                  // Method getComponent:()Lorg/jboss/as/ejb3/component/EJBComponent;
       7: invokevirtual #4                  // Method org/jboss/as/ejb3/component/EJBComponent.getTransactionManager:()Ljavax/transaction/TransactionManager;
      10: astore_2
      11: aload_2
      12: invokeinterface #5,  1            // InterfaceMethod javax/transaction/TransactionManager.getStatus:()I
      17: istore_1
      18: goto          31
      21: astore_3
      22: getstatic     #7                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      25: aload_3
      26: invokeinterface #8,  2            // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToGetStatus:(Ljava/lang/Throwable;)V
      31: iload_1
      32: tableswitch   { // 1 to 9
                     1: 84
                     2: 122
                     3: 122
                     4: 122
                     5: 122
                     6: 122
                     7: 84
                     8: 84
                     9: 84
               default: 122
          }
      84: aload_2
      85: invokeinterface #9,  1            // InterfaceMethod javax/transaction/TransactionManager.rollback:()V
      90: goto          103
      93: astore_3
      94: getstatic     #7                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      97: aload_3
      98: invokeinterface #11,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToRollback:(Ljava/lang/Throwable;)V
     103: getstatic     #7                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     106: aload_0
     107: invokevirtual #3                  // Method getComponent:()Lorg/jboss/as/ejb3/component/EJBComponent;
     110: invokevirtual #12                 // Method org/jboss/as/ejb3/component/EJBComponent.getComponentName:()Ljava/lang/String;
     113: iload_1
     114: invokestatic  #13                 // Method org/jboss/as/ejb3/tx/util/StatusHelper.statusAsString:(I)Ljava/lang/String;
     117: invokeinterface #14,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.transactionNotComplete:(Ljava/lang/String;Ljava/lang/String;)V
     122: return
    Exception table:
       from    to  target type
          11    18    21   Class javax/transaction/SystemException
          84    90    93   Class java/lang/Exception

  protected java.lang.Object handleInvocation(org.jboss.invocation.InterceptorContext) throws java.lang.Exception;
    Code:
       0: aload_1
       1: ldc           #15                 // class org/jboss/as/ee/component/ComponentInstance
       3: invokevirtual #16                 // Method org/jboss/invocation/InterceptorContext.getPrivateData:(Ljava/lang/Class;)Ljava/lang/Object;
       6: checkcast     #17                 // class org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance
       9: astore_2
      10: aload_0
      11: invokevirtual #3                  // Method getComponent:()Lorg/jboss/as/ejb3/component/EJBComponent;
      14: invokevirtual #4                  // Method org/jboss/as/ejb3/component/EJBComponent.getTransactionManager:()Ljavax/transaction/TransactionManager;
      17: astore_3
      18: getstatic     #18                 // Field $assertionsDisabled:Z
      21: ifne          43
      24: aload_3
      25: invokeinterface #19,  1           // InterfaceMethod javax/transaction/TransactionManager.getTransaction:()Ljavax/transaction/Transaction;
      30: ifnull        43
      33: new           #20                 // class java/lang/AssertionError
      36: dup
      37: ldc           #21                 // String can\'t handle BMT transaction, there is a transaction active
      39: invokespecial #22                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      42: athrow
      43: aload_2
      44: invokevirtual #23                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getTransaction:()Ljavax/transaction/Transaction;
      47: astore        4
      49: aload         4
      51: ifnull        67
      54: aload_2
      55: aconst_null
      56: invokevirtual #24                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.setTransaction:(Ljavax/transaction/Transaction;)V
      59: aload_3
      60: aload         4
      62: invokeinterface #25,  2           // InterfaceMethod javax/transaction/TransactionManager.resume:(Ljavax/transaction/Transaction;)V
      67: aload_1
      68: invokevirtual #26                 // Method org/jboss/invocation/InterceptorContext.proceed:()Ljava/lang/Object;
      71: astore        5
      73: aload_0
      74: invokespecial #27                 // Method checkBadStateful:()V
      77: aload_3
      78: invokeinterface #19,  1           // InterfaceMethod javax/transaction/TransactionManager.getTransaction:()Ljavax/transaction/Transaction;
      83: astore        6
      85: aload_2
      86: aload         6
      88: invokevirtual #24                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.setTransaction:(Ljavax/transaction/Transaction;)V
      91: aload         6
      93: ifnull        103
      96: aload_3
      97: invokeinterface #28,  1           // InterfaceMethod javax/transaction/TransactionManager.suspend:()Ljavax/transaction/Transaction;
     102: pop
     103: aload         5
     105: areturn
     106: astore        5
     108: aload_0
     109: aload_1
     110: aload         5
     112: invokevirtual #30                 // Method handleException:(Lorg/jboss/invocation/InterceptorContext;Ljava/lang/Throwable;)Ljava/lang/Exception;
     115: athrow
     116: astore        7
     118: aload_0
     119: invokespecial #27                 // Method checkBadStateful:()V
     122: aload_3
     123: invokeinterface #19,  1           // InterfaceMethod javax/transaction/TransactionManager.getTransaction:()Ljavax/transaction/Transaction;
     128: astore        8
     130: aload_2
     131: aload         8
     133: invokevirtual #24                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.setTransaction:(Ljavax/transaction/Transaction;)V
     136: aload         8
     138: ifnull        148
     141: aload_3
     142: invokeinterface #28,  1           // InterfaceMethod javax/transaction/TransactionManager.suspend:()Ljavax/transaction/Transaction;
     147: pop
     148: aload         7
     150: athrow
    Exception table:
       from    to  target type
          67    73   106   Class java/lang/Throwable
          67    73   116   any
         106   118   116   any

  static {};
    Code:
       0: ldc           #31                 // class org/jboss/as/ejb3/tx/StatefulBMTInterceptor
       2: invokevirtual #32                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #18                 // Field $assertionsDisabled:Z
      16: return
}
