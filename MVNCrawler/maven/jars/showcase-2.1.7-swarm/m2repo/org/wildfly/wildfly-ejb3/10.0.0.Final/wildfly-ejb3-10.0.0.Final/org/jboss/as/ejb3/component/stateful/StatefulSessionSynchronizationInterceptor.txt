Compiled from "StatefulSessionSynchronizationInterceptor.java"
public class org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor extends org.jboss.as.ejb3.component.interceptors.AbstractEJBInterceptor {
  private final boolean containerManagedTransactions;

  private static final org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$Factory CONTAINER_MANAGED;

  private static final org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$Factory BEAN_MANAGED;

  public static org.jboss.invocation.InterceptorFactory factory(javax.ejb.TransactionManagementType);
    Code:
       0: aload_0
       1: getstatic     #1                  // Field javax/ejb/TransactionManagementType.CONTAINER:Ljavax/ejb/TransactionManagementType;
       4: if_acmpne     13
       7: getstatic     #2                  // Field CONTAINER_MANAGED:Lorg/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory;
      10: goto          16
      13: getstatic     #3                  // Field BEAN_MANAGED:Lorg/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory;
      16: areturn

  public org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor(boolean);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method org/jboss/as/ejb3/component/interceptors/AbstractEJBInterceptor."<init>":()V
       4: aload_0
       5: iload_1
       6: putfield      #5                  // Field containerManagedTransactions:Z
       9: return

  public java.lang.Object processInvocation(org.jboss.invocation.InterceptorContext) throws java.lang.Exception;
    Code:
       0: aload_1
       1: ldc           #6                  // class org/jboss/as/ejb3/component/stateful/StatefulSessionComponent
       3: invokestatic  #7                  // Method getComponent:(Lorg/jboss/invocation/InterceptorContext;Ljava/lang/Class;)Lorg/jboss/as/ejb3/component/EJBComponent;
       6: checkcast     #6                  // class org/jboss/as/ejb3/component/stateful/StatefulSessionComponent
       9: astore_2
      10: aload_1
      11: invokestatic  #8                  // Method org/jboss/as/ejb3/component/stateful/StatefulComponentInstanceInterceptor.getComponentInstance:(Lorg/jboss/invocation/InterceptorContext;)Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;
      14: astore_3
      15: aload_3
      16: invokevirtual #9                  // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getLock:()Lorg/jboss/as/ejb3/tx/OwnableReentrantLock;
      19: astore        4
      21: aload_3
      22: invokevirtual #10                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getThreadLock:()Ljava/lang/Object;
      25: astore        5
      27: aload_2
      28: invokevirtual #11                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponent.getTransactionSynchronizationRegistry:()Ljavax/transaction/TransactionSynchronizationRegistry;
      31: astore        6
      33: aload         6
      35: invokestatic  #12                 // Method getLockOwner:(Ljavax/transaction/TransactionSynchronizationRegistry;)Ljava/lang/Object;
      38: astore        7
      40: aload_2
      41: aload_1
      42: invokevirtual #13                 // Method org/jboss/invocation/InterceptorContext.getMethod:()Ljava/lang/reflect/Method;
      45: invokevirtual #14                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponent.getAccessTimeout:(Ljava/lang/reflect/Method;)Lorg/jboss/as/ejb3/concurrency/AccessTimeoutDetails;
      48: astore        8
      50: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      53: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isTraceEnabled:()Z
      58: ifeq          107
      61: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      64: new           #17                 // class java/lang/StringBuilder
      67: dup
      68: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      71: ldc           #19                 // String Trying to acquire lock:
      73: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: aload         4
      78: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      81: ldc           #22                 // String  for stateful component instance:
      83: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: aload_3
      87: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      90: ldc           #23                 // String  during invocation:
      92: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      95: aload_1
      96: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      99: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     102: invokeinterface #25,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.trace:(Ljava/lang/Object;)V
     107: aload         4
     109: aload         8
     111: invokevirtual #26                 // Method org/jboss/as/ejb3/concurrency/AccessTimeoutDetails.getValue:()J
     114: aload         8
     116: invokevirtual #27                 // Method org/jboss/as/ejb3/concurrency/AccessTimeoutDetails.getTimeUnit:()Ljava/util/concurrent/TimeUnit;
     119: aload         7
     121: invokevirtual #28                 // Method org/jboss/as/ejb3/tx/OwnableReentrantLock.tryLock:(JLjava/util/concurrent/TimeUnit;Ljava/lang/Object;)Z
     124: istore        9
     126: iload         9
     128: ifne          154
     131: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     134: aload_2
     135: invokevirtual #29                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponent.getComponentName:()Ljava/lang/String;
     138: aload         8
     140: invokevirtual #26                 // Method org/jboss/as/ejb3/concurrency/AccessTimeoutDetails.getValue:()J
     143: aload         8
     145: invokevirtual #27                 // Method org/jboss/as/ejb3/concurrency/AccessTimeoutDetails.getTimeUnit:()Ljava/util/concurrent/TimeUnit;
     148: invokeinterface #30,  5           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToObtainLock:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Ljavax/ejb/ConcurrentAccessTimeoutException;
     153: athrow
     154: aload         5
     156: dup
     157: astore        10
     159: monitorenter
     160: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     163: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isTraceEnabled:()Z
     168: ifeq          217
     171: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     174: new           #17                 // class java/lang/StringBuilder
     177: dup
     178: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     181: ldc           #31                 // String Acquired lock:
     183: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     186: aload         4
     188: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     191: ldc           #22                 // String  for stateful component instance:
     193: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     196: aload_3
     197: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     200: ldc           #23                 // String  during invocation:
     202: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     205: aload_1
     206: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     209: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     212: invokeinterface #25,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.trace:(Ljava/lang/Object;)V
     217: aconst_null
     218: astore        11
     220: iconst_0
     221: istore        12
     223: aload_0
     224: getfield      #5                  // Field containerManagedTransactions:Z
     227: ifeq          389
     230: aload_3
     231: invokevirtual #32                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.isSynchronizationRegistered:()Z
     234: ifne          378
     237: aload         6
     239: invokeinterface #33,  1           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.getTransactionKey:()Ljava/lang/Object;
     244: astore        11
     246: aload         6
     248: invokeinterface #34,  1           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.getTransactionStatus:()I
     253: istore        13
     255: aload         11
     257: ifnull        375
     260: iload         13
     262: iconst_3
     263: if_icmpeq     375
     266: iload         13
     268: iconst_4
     269: if_icmpeq     375
     272: new           #36                 // class org/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization
     275: dup
     276: aload_0
     277: aload_3
     278: aload         7
     280: invokespecial #37                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization."<init>":(Lorg/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor;Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;Ljava/lang/Object;)V
     283: astore        14
     285: aload         6
     287: aload         14
     289: invokeinterface #38,  2           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.registerInterposedSynchronization:(Ljavax/transaction/Synchronization;)V
     294: iconst_1
     295: istore        12
     297: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     300: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isTraceEnabled:()Z
     305: ifeq          355
     308: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     311: new           #17                 // class java/lang/StringBuilder
     314: dup
     315: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     318: ldc           #39                 // String Registered tx synchronization:
     320: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     323: aload         14
     325: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     328: ldc           #40                 // String  for tx:
     330: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     333: aload         11
     335: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     338: ldc           #41                 // String  associated with stateful component instance:
     340: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     343: aload_3
     344: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     347: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     350: invokeinterface #25,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.trace:(Ljava/lang/Object;)V
     355: aload_3
     356: invokevirtual #42                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.afterBegin:()V
     359: aload_3
     360: iconst_1
     361: invokevirtual #43                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.setSynchronizationRegistered:(Z)V
     364: aload_1
     365: ldc           #44                 // class org/jboss/as/ejb3/component/stateful/StatefulTransactionMarker
     367: iconst_1
     368: invokestatic  #45                 // Method org/jboss/as/ejb3/component/stateful/StatefulTransactionMarker.of:(Z)Lorg/jboss/as/ejb3/component/stateful/StatefulTransactionMarker;
     371: invokevirtual #46                 // Method org/jboss/invocation/InterceptorContext.putPrivateData:(Ljava/lang/Class;Ljava/lang/Object;)Ljava/lang/Object;
     374: pop
     375: goto          389
     378: aload_1
     379: ldc           #44                 // class org/jboss/as/ejb3/component/stateful/StatefulTransactionMarker
     381: iconst_0
     382: invokestatic  #45                 // Method org/jboss/as/ejb3/component/stateful/StatefulTransactionMarker.of:(Z)Lorg/jboss/as/ejb3/component/stateful/StatefulTransactionMarker;
     385: invokevirtual #46                 // Method org/jboss/invocation/InterceptorContext.putPrivateData:(Ljava/lang/Class;Ljava/lang/Object;)Ljava/lang/Object;
     388: pop
     389: aload_1
     390: invokevirtual #47                 // Method org/jboss/invocation/InterceptorContext.proceed:()Ljava/lang/Object;
     393: astore        13
     395: iload         12
     397: ifne          415
     400: aload_3
     401: invokevirtual #32                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.isSynchronizationRegistered:()Z
     404: ifne          415
     407: aload_0
     408: aload_3
     409: invokevirtual #48                 // Method releaseInstance:(Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;)V
     412: goto          445
     415: iload         12
     417: ifne          445
     420: aload_0
     421: aload_3
     422: invokevirtual #49                 // Method releaseLock:(Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;)V
     425: aload_3
     426: invokevirtual #50                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.isDiscarded:()Z
     429: ifne          445
     432: aload_3
     433: invokevirtual #51                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getComponent:()Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponent;
     436: invokevirtual #52                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponent.getCache:()Lorg/jboss/as/ejb3/cache/Cache;
     439: aload_3
     440: invokeinterface #53,  2           // InterfaceMethod org/jboss/as/ejb3/cache/Cache.release:(Lorg/jboss/as/ejb3/cache/Identifiable;)V
     445: aload         10
     447: monitorexit
     448: aload         13
     450: areturn
     451: astore        15
     453: iload         12
     455: ifne          473
     458: aload_3
     459: invokevirtual #32                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.isSynchronizationRegistered:()Z
     462: ifne          473
     465: aload_0
     466: aload_3
     467: invokevirtual #48                 // Method releaseInstance:(Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;)V
     470: goto          503
     473: iload         12
     475: ifne          503
     478: aload_0
     479: aload_3
     480: invokevirtual #49                 // Method releaseLock:(Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;)V
     483: aload_3
     484: invokevirtual #50                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.isDiscarded:()Z
     487: ifne          503
     490: aload_3
     491: invokevirtual #51                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getComponent:()Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponent;
     494: invokevirtual #52                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponent.getCache:()Lorg/jboss/as/ejb3/cache/Cache;
     497: aload_3
     498: invokeinterface #53,  2           // InterfaceMethod org/jboss/as/ejb3/cache/Cache.release:(Lorg/jboss/as/ejb3/cache/Identifiable;)V
     503: aload         15
     505: athrow
     506: astore        16
     508: aload         10
     510: monitorexit
     511: aload         16
     513: athrow
    Exception table:
       from    to  target type
         223   395   451   any
         451   453   451   any
         160   448   506   any
         451   511   506   any

  private static java.lang.Object getLockOwner(javax.transaction.TransactionSynchronizationRegistry);
    Code:
       0: aload_0
       1: invokeinterface #33,  1           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.getTransactionKey:()Ljava/lang/Object;
       6: astore_1
       7: aload_1
       8: ifnull        15
      11: aload_1
      12: goto          18
      15: invokestatic  #54                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      18: areturn

  void releaseInstance(org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance);
    Code:
       0: aload_1
       1: invokevirtual #50                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.isDiscarded:()Z
       4: ifne          20
       7: aload_1
       8: invokevirtual #51                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getComponent:()Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponent;
      11: invokevirtual #52                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponent.getCache:()Lorg/jboss/as/ejb3/cache/Cache;
      14: aload_1
      15: invokeinterface #53,  2           // InterfaceMethod org/jboss/as/ejb3/cache/Cache.release:(Lorg/jboss/as/ejb3/cache/Identifiable;)V
      20: aload_1
      21: iconst_0
      22: invokevirtual #43                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.setSynchronizationRegistered:(Z)V
      25: aload_0
      26: aload_1
      27: invokevirtual #49                 // Method releaseLock:(Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;)V
      30: goto          46
      33: astore_2
      34: aload_1
      35: iconst_0
      36: invokevirtual #43                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.setSynchronizationRegistered:(Z)V
      39: aload_0
      40: aload_1
      41: invokevirtual #49                 // Method releaseLock:(Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance;)V
      44: aload_2
      45: athrow
      46: return
    Exception table:
       from    to  target type
           0    20    33   any

  void releaseLock(org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance);
    Code:
       0: aload_1
       1: invokevirtual #9                  // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getLock:()Lorg/jboss/as/ejb3/tx/OwnableReentrantLock;
       4: aload_1
       5: invokevirtual #51                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getComponent:()Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponent;
       8: invokevirtual #11                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponent.getTransactionSynchronizationRegistry:()Ljavax/transaction/TransactionSynchronizationRegistry;
      11: invokestatic  #12                 // Method getLockOwner:(Ljavax/transaction/TransactionSynchronizationRegistry;)Ljava/lang/Object;
      14: invokevirtual #55                 // Method org/jboss/as/ejb3/tx/OwnableReentrantLock.unlock:(Ljava/lang/Object;)V
      17: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      20: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isTraceEnabled:()Z
      25: ifeq          42
      28: getstatic     #15                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      31: ldc           #56                 // String Released lock: %s
      33: aload_1
      34: invokevirtual #9                  // Method org/jboss/as/ejb3/component/stateful/StatefulSessionComponentInstance.getLock:()Lorg/jboss/as/ejb3/tx/OwnableReentrantLock;
      37: invokeinterface #57,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      42: return

  static {};
    Code:
       0: new           #58                 // class org/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory
       3: dup
       4: getstatic     #1                  // Field javax/ejb/TransactionManagementType.CONTAINER:Ljavax/ejb/TransactionManagementType;
       7: invokespecial #59                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory."<init>":(Ljavax/ejb/TransactionManagementType;)V
      10: putstatic     #2                  // Field CONTAINER_MANAGED:Lorg/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory;
      13: new           #58                 // class org/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory
      16: dup
      17: getstatic     #60                 // Field javax/ejb/TransactionManagementType.BEAN:Ljavax/ejb/TransactionManagementType;
      20: invokespecial #59                 // Method org/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory."<init>":(Ljavax/ejb/TransactionManagementType;)V
      23: putstatic     #3                  // Field BEAN_MANAGED:Lorg/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor$Factory;
      26: return
}
