Compiled from "SecurityContextInterceptorFactory.java"
public class org.jboss.as.ejb3.security.SecurityContextInterceptorFactory extends org.jboss.as.ee.component.ComponentInterceptorFactory {
  private static final java.lang.String DEFAULT_DOMAIN;

  private final boolean securityRequired;

  private final boolean propagateSecurity;

  private final java.lang.String policyContextID;

  public static java.lang.String contextIdForDeployment(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: aload_0
       1: invokeinterface #1,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
       6: astore_1
       7: aload_0
       8: invokeinterface #2,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      13: ifnull        50
      16: new           #3                  // class java/lang/StringBuilder
      19: dup
      20: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      23: aload_0
      24: invokeinterface #2,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      29: invokeinterface #1,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
      34: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: ldc           #6                  // String !
      39: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_1
      43: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: invokevirtual #7                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: astore_1
      50: aload_1
      51: areturn

  public org.jboss.as.ejb3.security.SecurityContextInterceptorFactory(boolean, java.lang.String);
    Code:
       0: aload_0
       1: iload_1
       2: iconst_1
       3: aload_2
       4: invokespecial #8                  // Method "<init>":(ZZLjava/lang/String;)V
       7: return

  public org.jboss.as.ejb3.security.SecurityContextInterceptorFactory(boolean, boolean);
    Code:
       0: aload_0
       1: iload_1
       2: iload_2
       3: aconst_null
       4: invokespecial #8                  // Method "<init>":(ZZLjava/lang/String;)V
       7: return

  public org.jboss.as.ejb3.security.SecurityContextInterceptorFactory(boolean, boolean, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #9                  // Method org/jboss/as/ee/component/ComponentInterceptorFactory."<init>":()V
       4: aload_0
       5: iload_1
       6: putfield      #10                 // Field securityRequired:Z
       9: aload_0
      10: iload_2
      11: putfield      #11                 // Field propagateSecurity:Z
      14: aload_0
      15: aload_3
      16: putfield      #12                 // Field policyContextID:Ljava/lang/String;
      19: return

  protected org.jboss.invocation.Interceptor create(org.jboss.as.ee.component.Component, org.jboss.invocation.InterceptorFactoryContext);
    Code:
       0: aload_1
       1: instanceof    #13                 // class org/jboss/as/ejb3/component/EJBComponent
       4: ifne          19
       7: getstatic     #14                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      10: aload_1
      11: ldc           #13                 // class org/jboss/as/ejb3/component/EJBComponent
      13: invokeinterface #15,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.unexpectedComponent:(Lorg/jboss/as/ee/component/Component;Ljava/lang/Class;)Ljava/lang/IllegalStateException;
      18: athrow
      19: aload_1
      20: checkcast     #13                 // class org/jboss/as/ejb3/component/EJBComponent
      23: astore_3
      24: aload_0
      25: getfield      #11                 // Field propagateSecurity:Z
      28: ifeq          40
      31: aload_3
      32: invokevirtual #16                 // Method org/jboss/as/ejb3/component/EJBComponent.getSecurityManager:()Lorg/jboss/as/core/security/ServerSecurityManager;
      35: astore        4
      37: goto          56
      40: new           #17                 // class org/jboss/as/security/service/SimpleSecurityManager
      43: dup
      44: aload_3
      45: invokevirtual #16                 // Method org/jboss/as/ejb3/component/EJBComponent.getSecurityManager:()Lorg/jboss/as/core/security/ServerSecurityManager;
      48: checkcast     #17                 // class org/jboss/as/security/service/SimpleSecurityManager
      51: invokespecial #18                 // Method org/jboss/as/security/service/SimpleSecurityManager."<init>":(Lorg/jboss/as/security/service/SimpleSecurityManager;)V
      54: astore        4
      56: aload_3
      57: invokevirtual #19                 // Method org/jboss/as/ejb3/component/EJBComponent.getSecurityMetaData:()Lorg/jboss/as/ejb3/security/EJBSecurityMetaData;
      60: astore        5
      62: aload         5
      64: invokevirtual #20                 // Method org/jboss/as/ejb3/security/EJBSecurityMetaData.getSecurityDomain:()Ljava/lang/String;
      67: astore        6
      69: aload         6
      71: ifnonnull     78
      74: ldc           #22                 // String other
      76: astore        6
      78: getstatic     #14                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      81: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isTraceEnabled:()Z
      86: ifeq          129
      89: getstatic     #14                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      92: new           #3                  // class java/lang/StringBuilder
      95: dup
      96: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      99: ldc           #24                 // String Using security domain:
     101: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     104: aload         6
     106: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: ldc           #25                 // String  for EJB
     111: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: aload_3
     115: invokevirtual #26                 // Method org/jboss/as/ejb3/component/EJBComponent.getComponentName:()Ljava/lang/String;
     118: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     121: invokevirtual #7                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     124: invokeinterface #27,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.trace:(Ljava/lang/Object;)V
     129: aload         5
     131: invokevirtual #28                 // Method org/jboss/as/ejb3/security/EJBSecurityMetaData.getRunAs:()Ljava/lang/String;
     134: astore        7
     136: aload         5
     138: invokevirtual #29                 // Method org/jboss/as/ejb3/security/EJBSecurityMetaData.getRunAsPrincipal:()Ljava/lang/String;
     141: astore        8
     143: aload         5
     145: invokevirtual #30                 // Method org/jboss/as/ejb3/security/EJBSecurityMetaData.getSecurityRoles:()Lorg/jboss/metadata/javaee/spec/SecurityRolesMetaData;
     148: astore        9
     150: aconst_null
     151: astore        10
     153: aconst_null
     154: astore        11
     156: aload         9
     158: ifnull        182
     161: aload         9
     163: invokevirtual #31                 // Method org/jboss/metadata/javaee/spec/SecurityRolesMetaData.getPrincipalVersusRolesMap:()Ljava/util/Map;
     166: astore        11
     168: aload         8
     170: ifnull        182
     173: aload         9
     175: aload         8
     177: invokevirtual #32                 // Method org/jboss/metadata/javaee/spec/SecurityRolesMetaData.getSecurityRoleNamesByPrincipal:(Ljava/lang/String;)Ljava/util/Set;
     180: astore        10
     182: new           #33                 // class org/jboss/as/ejb3/security/SecurityContextInterceptorHolder
     185: dup
     186: invokespecial #34                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder."<init>":()V
     189: astore        12
     191: aload         12
     193: aload         4
     195: invokevirtual #35                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setSecurityManager:(Lorg/jboss/as/core/security/ServerSecurityManager;)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     198: aload         6
     200: invokevirtual #36                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setSecurityDomain:(Ljava/lang/String;)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     203: aload         7
     205: invokevirtual #37                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setRunAs:(Ljava/lang/String;)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     208: aload         8
     210: invokevirtual #38                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setRunAsPrincipal:(Ljava/lang/String;)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     213: aload_0
     214: getfield      #12                 // Field policyContextID:Ljava/lang/String;
     217: invokevirtual #39                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setPolicyContextID:(Ljava/lang/String;)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     220: aload         10
     222: invokevirtual #40                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setExtraRoles:(Ljava/util/Set;)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     225: aload         11
     227: invokevirtual #41                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setPrincipalVsRolesMap:(Ljava/util/Map;)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     230: aload_0
     231: getfield      #10                 // Field securityRequired:Z
     234: ifne          241
     237: iconst_1
     238: goto          242
     241: iconst_0
     242: invokevirtual #42                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.setSkipAuthentication:(Z)Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     245: pop
     246: new           #43                 // class org/jboss/as/ejb3/security/SecurityContextInterceptor
     249: dup
     250: aload         12
     252: invokespecial #44                 // Method org/jboss/as/ejb3/security/SecurityContextInterceptor."<init>":(Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;)V
     255: areturn
}
