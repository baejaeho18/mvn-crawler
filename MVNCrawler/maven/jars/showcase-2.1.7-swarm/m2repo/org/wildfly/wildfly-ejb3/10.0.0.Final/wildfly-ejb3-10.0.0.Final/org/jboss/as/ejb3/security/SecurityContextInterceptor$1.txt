Compiled from "SecurityContextInterceptor.java"
class org.jboss.as.ejb3.security.SecurityContextInterceptor$1 implements java.security.PrivilegedAction<java.lang.Void> {
  final org.jboss.as.ejb3.security.SecurityContextInterceptorHolder val$holder;

  final org.jboss.as.ejb3.security.SecurityContextInterceptor this$0;

  org.jboss.as.ejb3.security.SecurityContextInterceptor$1(org.jboss.as.ejb3.security.SecurityContextInterceptor, org.jboss.as.ejb3.security.SecurityContextInterceptorHolder);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/as/ejb3/security/SecurityContextInterceptor;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      10: aload_0
      11: invokespecial #3                  // Method java/lang/Object."<init>":()V
      14: return

  public java.lang.Void run();
    Code:
       0: aload_0
       1: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
       4: getfield      #4                  // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.securityManager:Lorg/jboss/as/core/security/ServerSecurityManager;
       7: aload_0
       8: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      11: getfield      #5                  // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.securityDomain:Ljava/lang/String;
      14: invokeinterface #6,  2            // InterfaceMethod org/jboss/as/core/security/ServerSecurityManager.push:(Ljava/lang/String;)V
      19: aload_0
      20: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      23: getfield      #7                  // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.skipAuthentication:Z
      26: ifne          62
      29: aload_0
      30: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      33: getfield      #4                  // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.securityManager:Lorg/jboss/as/core/security/ServerSecurityManager;
      36: aload_0
      37: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      40: getfield      #8                  // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.runAs:Ljava/lang/String;
      43: aload_0
      44: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      47: getfield      #9                  // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.runAsPrincipal:Ljava/lang/String;
      50: aload_0
      51: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      54: getfield      #10                 // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.extraRoles:Ljava/util/Set;
      57: invokeinterface #11,  4           // InterfaceMethod org/jboss/as/core/security/ServerSecurityManager.authenticate:(Ljava/lang/String;Ljava/lang/String;Ljava/util/Set;)V
      62: aload_0
      63: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      66: getfield      #12                 // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.principalVsRolesMap:Ljava/util/Map;
      69: ifnull        82
      72: aload_0
      73: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      76: getfield      #12                 // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.principalVsRolesMap:Ljava/util/Map;
      79: invokestatic  #13                 // Method org/jboss/security/SecurityRolesAssociation.setSecurityRoles:(Ljava/util/Map;)V
      82: goto          133
      85: astore_1
      86: aload_0
      87: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
      90: getfield      #12                 // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.principalVsRolesMap:Ljava/util/Map;
      93: ifnull        100
      96: aconst_null
      97: invokestatic  #13                 // Method org/jboss/security/SecurityRolesAssociation.setSecurityRoles:(Ljava/util/Map;)V
     100: aload_0
     101: getfield      #2                  // Field val$holder:Lorg/jboss/as/ejb3/security/SecurityContextInterceptorHolder;
     104: getfield      #4                  // Field org/jboss/as/ejb3/security/SecurityContextInterceptorHolder.securityManager:Lorg/jboss/as/core/security/ServerSecurityManager;
     107: invokeinterface #15,  1           // InterfaceMethod org/jboss/as/core/security/ServerSecurityManager.pop:()V
     112: aload_1
     113: instanceof    #16                 // class java/lang/SecurityException
     116: ifeq          131
     119: new           #17                 // class javax/ejb/EJBAccessException
     122: dup
     123: aload_1
     124: invokevirtual #18                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
     127: invokespecial #19                 // Method javax/ejb/EJBAccessException."<init>":(Ljava/lang/String;)V
     130: athrow
     131: aload_1
     132: athrow
     133: aconst_null
     134: areturn
    Exception table:
       from    to  target type
          19    82    85   Class java/lang/Throwable

  public java.lang.Object run();
    Code:
       0: aload_0
       1: invokevirtual #20                 // Method run:()Ljava/lang/Void;
       4: areturn
}
