Compiled from "FileTimerPersistence.java"
public class org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence implements org.jboss.as.ejb3.timerservice.persistence.TimerPersistence, org.jboss.msc.service.Service<org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence> {
  private static final java.io.FilePermission FILE_PERMISSION;

  private static final javax.xml.stream.XMLInputFactory INPUT_FACTORY;

  private final boolean createIfNotExists;

  private org.jboss.marshalling.MarshallerFactory factory;

  private org.jboss.marshalling.MarshallingConfiguration configuration;

  private final org.jboss.msc.value.InjectedValue<javax.transaction.TransactionManager> transactionManager;

  private final org.jboss.msc.value.InjectedValue<javax.transaction.TransactionSynchronizationRegistry> transactionSynchronizationRegistry;

  private final org.jboss.msc.value.InjectedValue<org.jboss.modules.ModuleLoader> moduleLoader;

  private final org.jboss.msc.value.InjectedValue<org.jboss.as.controller.services.path.PathManager> pathManager;

  private final java.lang.String path;

  private final java.lang.String pathRelativeTo;

  private java.io.File baseDir;

  private org.jboss.as.controller.services.path.PathManager$Callback$Handle callbackHandle;

  private final java.util.concurrent.ConcurrentMap<java.lang.String, java.util.concurrent.locks.Lock> locks;

  private final java.util.concurrent.ConcurrentMap<java.lang.String, java.lang.String> directories;

  public org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence(boolean, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #6                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #7                  // class org/jboss/msc/value/InjectedValue
       8: dup
       9: invokespecial #8                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      12: putfield      #9                  // Field transactionManager:Lorg/jboss/msc/value/InjectedValue;
      15: aload_0
      16: new           #7                  // class org/jboss/msc/value/InjectedValue
      19: dup
      20: invokespecial #8                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      23: putfield      #3                  // Field transactionSynchronizationRegistry:Lorg/jboss/msc/value/InjectedValue;
      26: aload_0
      27: new           #7                  // class org/jboss/msc/value/InjectedValue
      30: dup
      31: invokespecial #8                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      34: putfield      #10                 // Field moduleLoader:Lorg/jboss/msc/value/InjectedValue;
      37: aload_0
      38: new           #7                  // class org/jboss/msc/value/InjectedValue
      41: dup
      42: invokespecial #8                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      45: putfield      #11                 // Field pathManager:Lorg/jboss/msc/value/InjectedValue;
      48: aload_0
      49: new           #12                 // class java/util/concurrent/ConcurrentHashMap
      52: dup
      53: invokespecial #13                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      56: putfield      #14                 // Field locks:Ljava/util/concurrent/ConcurrentMap;
      59: aload_0
      60: new           #12                 // class java/util/concurrent/ConcurrentHashMap
      63: dup
      64: invokespecial #13                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      67: putfield      #15                 // Field directories:Ljava/util/concurrent/ConcurrentMap;
      70: invokestatic  #16                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
      73: astore        4
      75: aload         4
      77: ifnull        88
      80: aload         4
      82: getstatic     #17                 // Field FILE_PERMISSION:Ljava/io/FilePermission;
      85: invokevirtual #18                 // Method java/lang/SecurityManager.checkPermission:(Ljava/security/Permission;)V
      88: aload_0
      89: iload_1
      90: putfield      #19                 // Field createIfNotExists:Z
      93: aload_0
      94: aload_2
      95: putfield      #20                 // Field path:Ljava/lang/String;
      98: aload_0
      99: aload_3
     100: putfield      #21                 // Field pathRelativeTo:Ljava/lang/String;
     103: return

  public void start(org.jboss.msc.service.StartContext);
    Code:
       0: invokestatic  #22                 // Method org/wildfly/security/manager/WildFlySecurityManager.isChecking:()Z
       3: ifeq          21
       6: new           #23                 // class org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$1
       9: dup
      10: aload_0
      11: invokespecial #24                 // Method org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$1."<init>":(Lorg/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence;)V
      14: invokestatic  #25                 // Method org/wildfly/security/manager/WildFlySecurityManager.doUnchecked:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      17: pop
      18: goto          25
      21: aload_0
      22: invokespecial #5                  // Method doStart:()V
      25: return

  private void doStart();
    Code:
       0: new           #26                 // class org/jboss/marshalling/river/RiverMarshallerFactory
       3: dup
       4: invokespecial #27                 // Method org/jboss/marshalling/river/RiverMarshallerFactory."<init>":()V
       7: astore_1
       8: new           #28                 // class org/jboss/marshalling/MarshallingConfiguration
      11: dup
      12: invokespecial #29                 // Method org/jboss/marshalling/MarshallingConfiguration."<init>":()V
      15: astore_2
      16: aload_2
      17: aload_0
      18: getfield      #10                 // Field moduleLoader:Lorg/jboss/msc/value/InjectedValue;
      21: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      24: checkcast     #31                 // class org/jboss/modules/ModuleLoader
      27: invokestatic  #32                 // Method org/jboss/marshalling/ModularClassResolver.getInstance:(Lorg/jboss/modules/ModuleLoader;)Lorg/jboss/marshalling/ModularClassResolver;
      30: invokevirtual #33                 // Method org/jboss/marshalling/MarshallingConfiguration.setClassResolver:(Lorg/jboss/marshalling/ClassResolver;)V
      33: aload_0
      34: aload_2
      35: putfield      #34                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
      38: aload_0
      39: aload_1
      40: putfield      #35                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
      43: aload_0
      44: getfield      #21                 // Field pathRelativeTo:Ljava/lang/String;
      47: ifnull        92
      50: aload_0
      51: aload_0
      52: getfield      #11                 // Field pathManager:Lorg/jboss/msc/value/InjectedValue;
      55: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      58: checkcast     #36                 // class org/jboss/as/controller/services/path/PathManager
      61: aload_0
      62: getfield      #21                 // Field pathRelativeTo:Ljava/lang/String;
      65: invokestatic  #37                 // Method org/jboss/as/controller/services/path/PathManager$ReloadServerCallback.create:()Lorg/jboss/as/controller/services/path/PathManager$Callback;
      68: iconst_2
      69: anewarray     #38                 // class org/jboss/as/controller/services/path/PathManager$Event
      72: dup
      73: iconst_0
      74: getstatic     #39                 // Field org/jboss/as/controller/services/path/PathManager$Event.UPDATED:Lorg/jboss/as/controller/services/path/PathManager$Event;
      77: aastore
      78: dup
      79: iconst_1
      80: getstatic     #40                 // Field org/jboss/as/controller/services/path/PathManager$Event.REMOVED:Lorg/jboss/as/controller/services/path/PathManager$Event;
      83: aastore
      84: invokeinterface #41,  4           // InterfaceMethod org/jboss/as/controller/services/path/PathManager.registerCallback:(Ljava/lang/String;Lorg/jboss/as/controller/services/path/PathManager$Callback;[Lorg/jboss/as/controller/services/path/PathManager$Event;)Lorg/jboss/as/controller/services/path/PathManager$Callback$Handle;
      89: putfield      #42                 // Field callbackHandle:Lorg/jboss/as/controller/services/path/PathManager$Callback$Handle;
      92: aload_0
      93: new           #43                 // class java/io/File
      96: dup
      97: aload_0
      98: getfield      #11                 // Field pathManager:Lorg/jboss/msc/value/InjectedValue;
     101: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     104: checkcast     #36                 // class org/jboss/as/controller/services/path/PathManager
     107: aload_0
     108: getfield      #20                 // Field path:Ljava/lang/String;
     111: aload_0
     112: getfield      #21                 // Field pathRelativeTo:Ljava/lang/String;
     115: invokeinterface #44,  3           // InterfaceMethod org/jboss/as/controller/services/path/PathManager.resolveRelativePathEntry:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     120: invokespecial #45                 // Method java/io/File."<init>":(Ljava/lang/String;)V
     123: putfield      #46                 // Field baseDir:Ljava/io/File;
     126: aload_0
     127: getfield      #46                 // Field baseDir:Ljava/io/File;
     130: invokevirtual #47                 // Method java/io/File.exists:()Z
     133: ifne          179
     136: aload_0
     137: getfield      #19                 // Field createIfNotExists:Z
     140: ifeq          166
     143: aload_0
     144: getfield      #46                 // Field baseDir:Ljava/io/File;
     147: invokevirtual #48                 // Method java/io/File.mkdirs:()Z
     150: ifne          179
     153: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     156: aload_0
     157: getfield      #46                 // Field baseDir:Ljava/io/File;
     160: invokeinterface #50,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCreateTimerFileStoreDir:(Ljava/io/File;)Ljava/lang/RuntimeException;
     165: athrow
     166: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     169: aload_0
     170: getfield      #46                 // Field baseDir:Ljava/io/File;
     173: invokeinterface #51,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.timerFileStoreDirNotExist:(Ljava/io/File;)Ljava/lang/RuntimeException;
     178: athrow
     179: aload_0
     180: getfield      #46                 // Field baseDir:Ljava/io/File;
     183: invokevirtual #52                 // Method java/io/File.isDirectory:()Z
     186: ifne          202
     189: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     192: aload_0
     193: getfield      #46                 // Field baseDir:Ljava/io/File;
     196: invokeinterface #53,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.invalidTimerFileStoreDir:(Ljava/io/File;)Ljava/lang/RuntimeException;
     201: athrow
     202: return

  public void stop(org.jboss.msc.service.StopContext);
    Code:
       0: aload_0
       1: getfield      #14                 // Field locks:Ljava/util/concurrent/ConcurrentMap;
       4: invokeinterface #54,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.clear:()V
       9: aload_0
      10: getfield      #15                 // Field directories:Ljava/util/concurrent/ConcurrentMap;
      13: invokeinterface #54,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.clear:()V
      18: aload_0
      19: getfield      #42                 // Field callbackHandle:Lorg/jboss/as/controller/services/path/PathManager$Callback$Handle;
      22: ifnull        34
      25: aload_0
      26: getfield      #42                 // Field callbackHandle:Lorg/jboss/as/controller/services/path/PathManager$Callback$Handle;
      29: invokeinterface #55,  1           // InterfaceMethod org/jboss/as/controller/services/path/PathManager$Callback$Handle.remove:()V
      34: aload_0
      35: aconst_null
      36: putfield      #35                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
      39: aload_0
      40: aconst_null
      41: putfield      #34                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
      44: return

  public org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: areturn

  public void addTimer(org.jboss.as.ejb3.timerservice.TimerImpl);
    Code:
       0: invokestatic  #22                 // Method org/wildfly/security/manager/WildFlySecurityManager.isChecking:()Z
       3: ifeq          22
       6: new           #56                 // class org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$2
       9: dup
      10: aload_0
      11: aload_1
      12: invokespecial #57                 // Method org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$2."<init>":(Lorg/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence;Lorg/jboss/as/ejb3/timerservice/TimerImpl;)V
      15: invokestatic  #25                 // Method org/wildfly/security/manager/WildFlySecurityManager.doUnchecked:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      18: pop
      19: goto          28
      22: aload_0
      23: aload_1
      24: iconst_1
      25: invokespecial #4                  // Method persistTimer:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;Z)V
      28: return

  public void persistTimer(org.jboss.as.ejb3.timerservice.TimerImpl);
    Code:
       0: invokestatic  #22                 // Method org/wildfly/security/manager/WildFlySecurityManager.isChecking:()Z
       3: ifeq          22
       6: new           #58                 // class org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$3
       9: dup
      10: aload_0
      11: aload_1
      12: invokespecial #59                 // Method org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$3."<init>":(Lorg/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence;Lorg/jboss/as/ejb3/timerservice/TimerImpl;)V
      15: invokestatic  #25                 // Method org/wildfly/security/manager/WildFlySecurityManager.doUnchecked:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      18: pop
      19: goto          28
      22: aload_0
      23: aload_1
      24: iconst_0
      25: invokespecial #4                  // Method persistTimer:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;Z)V
      28: return

  public boolean shouldRun(org.jboss.as.ejb3.timerservice.TimerImpl, javax.transaction.TransactionManager);
    Code:
       0: iconst_1
       1: ireturn

  private void persistTimer(org.jboss.as.ejb3.timerservice.TimerImpl, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #60                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getTimedObjectId:()Ljava/lang/String;
       5: invokespecial #61                 // Method getLock:(Ljava/lang/String;)Ljava/util/concurrent/locks/Lock;
       8: astore_3
       9: aload_0
      10: getfield      #9                  // Field transactionManager:Lorg/jboss/msc/value/InjectedValue;
      13: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      16: checkcast     #62                 // class javax/transaction/TransactionManager
      19: invokeinterface #63,  1           // InterfaceMethod javax/transaction/TransactionManager.getStatus:()I
      24: istore        4
      26: iload         4
      28: iconst_1
      29: if_icmpeq     45
      32: iload         4
      34: iconst_4
      35: if_icmpeq     45
      38: iload         4
      40: bipush        9
      42: if_icmpne     52
      45: aload_3
      46: invokeinterface #65,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      51: return
      52: aload_3
      53: invokeinterface #66,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      58: iload         4
      60: bipush        6
      62: if_icmpeq     84
      65: iload         4
      67: iconst_5
      68: if_icmpeq     84
      71: aload_0
      72: invokespecial #67                 // Method isBeforeCompletion:()Z
      75: ifne          84
      78: iload         4
      80: iconst_3
      81: if_icmpne     177
      84: aload_0
      85: aload_1
      86: invokevirtual #60                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getTimedObjectId:()Ljava/lang/String;
      89: aload_1
      90: invokevirtual #68                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getTimerService:()Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;
      93: invokespecial #2                  // Method getTimers:(Ljava/lang/String;Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;)Ljava/util/Map;
      96: astore        5
      98: aload_1
      99: invokevirtual #69                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getState:()Lorg/jboss/as/ejb3/timerservice/TimerState;
     102: getstatic     #70                 // Field org/jboss/as/ejb3/timerservice/TimerState.CANCELED:Lorg/jboss/as/ejb3/timerservice/TimerState;
     105: if_acmpeq     118
     108: aload_1
     109: invokevirtual #69                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getState:()Lorg/jboss/as/ejb3/timerservice/TimerState;
     112: getstatic     #71                 // Field org/jboss/as/ejb3/timerservice/TimerState.EXPIRED:Lorg/jboss/as/ejb3/timerservice/TimerState;
     115: if_acmpne     138
     118: aload         5
     120: aload_1
     121: invokevirtual #72                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getId:()Ljava/lang/String;
     124: invokeinterface #73,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     129: pop
     130: aload_0
     131: aload_1
     132: invokespecial #1                  // Method writeFile:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;)V
     135: goto          174
     138: iload_2
     139: ifne          156
     142: aload         5
     144: aload_1
     145: invokevirtual #72                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getId:()Ljava/lang/String;
     148: invokeinterface #74,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     153: ifeq          174
     156: aload         5
     158: aload_1
     159: invokevirtual #72                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getId:()Ljava/lang/String;
     162: aload_1
     163: invokeinterface #75,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     168: pop
     169: aload_0
     170: aload_1
     171: invokespecial #1                  // Method writeFile:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;)V
     174: goto          253
     177: aload_0
     178: aload_1
     179: invokespecial #76                 // Method timerTransactionKey:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;)Ljava/lang/String;
     182: astore        5
     184: aload_0
     185: getfield      #3                  // Field transactionSynchronizationRegistry:Lorg/jboss/msc/value/InjectedValue;
     188: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     191: checkcast     #77                 // class javax/transaction/TransactionSynchronizationRegistry
     194: aload         5
     196: invokeinterface #78,  2           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.getResource:(Ljava/lang/Object;)Ljava/lang/Object;
     201: astore        6
     203: aload         6
     205: ifnonnull     235
     208: aload_0
     209: getfield      #3                  // Field transactionSynchronizationRegistry:Lorg/jboss/msc/value/InjectedValue;
     212: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     215: checkcast     #77                 // class javax/transaction/TransactionSynchronizationRegistry
     218: new           #79                 // class org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$PersistTransactionSynchronization
     221: dup
     222: aload_0
     223: aload_3
     224: aload         5
     226: iload_2
     227: invokespecial #80                 // Method org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$PersistTransactionSynchronization."<init>":(Lorg/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence;Ljava/util/concurrent/locks/Lock;Ljava/lang/String;Z)V
     230: invokeinterface #81,  2           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.registerInterposedSynchronization:(Ljavax/transaction/Synchronization;)V
     235: aload_0
     236: getfield      #3                  // Field transactionSynchronizationRegistry:Lorg/jboss/msc/value/InjectedValue;
     239: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     242: checkcast     #77                 // class javax/transaction/TransactionSynchronizationRegistry
     245: aload         5
     247: aload_1
     248: invokeinterface #82,  3           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.putResource:(Ljava/lang/Object;Ljava/lang/Object;)V
     253: aload_3
     254: invokeinterface #65,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     259: goto          285
     262: astore        4
     264: new           #84                 // class java/lang/RuntimeException
     267: dup
     268: aload         4
     270: invokespecial #85                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     273: athrow
     274: astore        7
     276: aload_3
     277: invokeinterface #65,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     282: aload         7
     284: athrow
     285: return
    Exception table:
       from    to  target type
           9    45   262   Class javax/transaction/SystemException
          52   253   262   Class javax/transaction/SystemException
           9    45   274   any
          52   253   274   any
         262   276   274   any

  private java.lang.String timerTransactionKey(org.jboss.as.ejb3.timerservice.TimerImpl);
    Code:
       0: new           #86                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #88                 // String org.jboss.as.ejb3.timerTransactionKey.
       9: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_1
      13: invokevirtual #72                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getId:()Ljava/lang/String;
      16: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: invokevirtual #90                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      22: areturn

  public void timerUndeployed(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #61                 // Method getLock:(Ljava/lang/String;)Ljava/util/concurrent/locks/Lock;
       5: astore_2
       6: aload_2
       7: invokeinterface #66,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      12: aload_0
      13: getfield      #14                 // Field locks:Ljava/util/concurrent/ConcurrentMap;
      16: aload_1
      17: invokeinterface #91,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      22: pop
      23: aload_0
      24: getfield      #15                 // Field directories:Ljava/util/concurrent/ConcurrentMap;
      27: aload_1
      28: invokeinterface #91,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      33: pop
      34: aload_2
      35: invokeinterface #65,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      40: goto          52
      43: astore_3
      44: aload_2
      45: invokeinterface #65,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      50: aload_3
      51: athrow
      52: return
    Exception table:
       from    to  target type
           6    34    43   any

  private boolean isBeforeCompletion();
    Code:
       0: invokestatic  #92                 // Method org/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback.get:()Lorg/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback$CallbackType;
       3: astore_1
       4: aload_1
       5: ifnull        21
       8: aload_1
       9: getstatic     #93                 // Field org/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback$CallbackType.BEFORE_COMPLETION:Lorg/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback$CallbackType;
      12: if_acmpne     19
      15: iconst_1
      16: goto          20
      19: iconst_0
      20: ireturn
      21: iconst_0
      22: ireturn

  public java.util.List<org.jboss.as.ejb3.timerservice.TimerImpl> loadActiveTimers(java.lang.String, org.jboss.as.ejb3.timerservice.TimerServiceImpl);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #61                 // Method getLock:(Ljava/lang/String;)Ljava/util/concurrent/locks/Lock;
       5: astore_3
       6: aload_3
       7: invokeinterface #66,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      12: aload_0
      13: aload_1
      14: aload_2
      15: invokespecial #2                  // Method getTimers:(Ljava/lang/String;Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;)Ljava/util/Map;
      18: astore        4
      20: new           #94                 // class java/util/ArrayList
      23: dup
      24: invokespecial #95                 // Method java/util/ArrayList."<init>":()V
      27: astore        5
      29: aload         4
      31: invokeinterface #96,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      36: invokeinterface #97,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      41: astore        6
      43: aload         6
      45: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      50: ifeq          90
      53: aload         6
      55: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      60: checkcast     #100                // class java/util/Map$Entry
      63: astore        7
      65: aload         5
      67: aload_0
      68: aload         7
      70: invokeinterface #101,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      75: checkcast     #102                // class org/jboss/as/ejb3/timerservice/TimerImpl
      78: invokespecial #103                // Method mostRecentEntityVersion:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;)Lorg/jboss/as/ejb3/timerservice/TimerImpl;
      81: invokeinterface #104,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      86: pop
      87: goto          43
      90: aload         5
      92: astore        6
      94: aload_3
      95: invokeinterface #65,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     100: aload         6
     102: areturn
     103: astore        8
     105: aload_3
     106: invokeinterface #65,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     111: aload         8
     113: athrow
    Exception table:
       from    to  target type
           6    94   103   any
         103   105   103   any

  public java.io.Closeable registerChangeListener(java.lang.String, org.jboss.as.ejb3.timerservice.persistence.TimerPersistence$TimerChangeListener);
    Code:
       0: new           #105                // class org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$4
       3: dup
       4: aload_0
       5: invokespecial #106                // Method org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence$4."<init>":(Lorg/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence;)V
       8: areturn

  private org.jboss.as.ejb3.timerservice.TimerImpl mostRecentEntityVersion(org.jboss.as.ejb3.timerservice.TimerImpl);
    Code:
       0: aload_0
       1: getfield      #9                  // Field transactionManager:Lorg/jboss/msc/value/InjectedValue;
       4: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
       7: checkcast     #62                 // class javax/transaction/TransactionManager
      10: invokeinterface #63,  1           // InterfaceMethod javax/transaction/TransactionManager.getStatus:()I
      15: istore_2
      16: iload_2
      17: iconst_5
      18: if_icmpeq     27
      21: iload_2
      22: bipush        6
      24: if_icmpne     29
      27: aload_1
      28: areturn
      29: aload_0
      30: aload_1
      31: invokespecial #76                 // Method timerTransactionKey:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;)Ljava/lang/String;
      34: astore_3
      35: aload_0
      36: getfield      #3                  // Field transactionSynchronizationRegistry:Lorg/jboss/msc/value/InjectedValue;
      39: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      42: checkcast     #77                 // class javax/transaction/TransactionSynchronizationRegistry
      45: aload_3
      46: invokeinterface #78,  2           // InterfaceMethod javax/transaction/TransactionSynchronizationRegistry.getResource:(Ljava/lang/Object;)Ljava/lang/Object;
      51: checkcast     #102                // class org/jboss/as/ejb3/timerservice/TimerImpl
      54: astore        4
      56: aload         4
      58: ifnull        66
      61: aload         4
      63: goto          67
      66: aload_1
      67: areturn
      68: astore_2
      69: new           #84                 // class java/lang/RuntimeException
      72: dup
      73: aload_2
      74: invokespecial #85                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      77: athrow
    Exception table:
       from    to  target type
           0    28    68   Class javax/transaction/SystemException
          29    67    68   Class javax/transaction/SystemException

  private java.util.concurrent.locks.Lock getLock(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #14                 // Field locks:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #107,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #108                // class java/util/concurrent/locks/Lock
      13: astore_2
      14: aload_2
      15: ifnonnull     47
      18: new           #109                // class java/util/concurrent/locks/ReentrantLock
      21: dup
      22: invokespecial #110                // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      25: astore_3
      26: aload_0
      27: getfield      #14                 // Field locks:Ljava/util/concurrent/ConcurrentMap;
      30: aload_1
      31: aload_3
      32: invokeinterface #111,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      37: checkcast     #108                // class java/util/concurrent/locks/Lock
      40: astore_2
      41: aload_2
      42: ifnonnull     47
      45: aload_3
      46: astore_2
      47: aload_2
      48: areturn

  private java.util.Map<java.lang.String, org.jboss.as.ejb3.timerservice.TimerImpl> getTimers(java.lang.String, org.jboss.as.ejb3.timerservice.TimerServiceImpl);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #112                // Method loadTimersFromFile:(Ljava/lang/String;Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;)Ljava/util/Map;
       6: areturn

  private java.util.Map<java.lang.String, org.jboss.as.ejb3.timerservice.TimerImpl> loadTimersFromFile(java.lang.String, org.jboss.as.ejb3.timerservice.TimerServiceImpl);
    Code:
       0: new           #113                // class java/util/HashMap
       3: dup
       4: invokespecial #114                // Method java/util/HashMap."<init>":()V
       7: astore_3
       8: aload_0
       9: aload_1
      10: invokespecial #115                // Method getDirectory:(Ljava/lang/String;)Ljava/lang/String;
      13: astore        4
      15: aload_3
      16: aload_1
      17: aload_2
      18: aload         4
      20: aload_0
      21: getfield      #35                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
      24: aload_0
      25: getfield      #34                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
      28: invokestatic  #116                // Method org/jboss/as/ejb3/timerservice/persistence/filestore/LegacyFileStore.loadTimersFromFile:(Ljava/lang/String;Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;Ljava/lang/String;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/marshalling/MarshallingConfiguration;)Ljava/util/Map;
      31: invokeinterface #117,  2          // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
      36: aload_3
      37: invokeinterface #96,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      42: invokeinterface #97,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      47: astore        5
      49: aload         5
      51: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      56: ifeq          88
      59: aload         5
      61: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      66: checkcast     #100                // class java/util/Map$Entry
      69: astore        6
      71: aload_0
      72: aload         6
      74: invokeinterface #101,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      79: checkcast     #102                // class org/jboss/as/ejb3/timerservice/TimerImpl
      82: invokespecial #1                  // Method writeFile:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;)V
      85: goto          49
      88: new           #43                 // class java/io/File
      91: dup
      92: aload         4
      94: invokespecial #45                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      97: astore        5
      99: aload         5
     101: invokevirtual #47                 // Method java/io/File.exists:()Z
     104: ifne          109
     107: aload_3
     108: areturn
     109: aload         5
     111: invokevirtual #52                 // Method java/io/File.isDirectory:()Z
     114: ifne          129
     117: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     120: aload         5
     122: invokeinterface #118,  2          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToRestoreTimers:(Ljava/io/File;)V
     127: aload_3
     128: areturn
     129: aload_0
     130: aload_2
     131: invokespecial #119                // Method createMapper:(Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;)Lorg/jboss/staxmapper/XMLMapper;
     134: astore        6
     136: aload         5
     138: invokevirtual #120                // Method java/io/File.listFiles:()[Ljava/io/File;
     141: astore        7
     143: aload         7
     145: arraylength
     146: istore        8
     148: iconst_0
     149: istore        9
     151: iload         9
     153: iload         8
     155: if_icmpge     423
     158: aload         7
     160: iload         9
     162: aaload
     163: astore        10
     165: aload         10
     167: invokevirtual #121                // Method java/io/File.getName:()Ljava/lang/String;
     170: ldc           #122                // String .xml
     172: invokevirtual #123                // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
     175: ifne          181
     178: goto          417
     181: aconst_null
     182: astore        11
     184: new           #124                // class java/io/FileInputStream
     187: dup
     188: aload         10
     190: invokespecial #125                // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
     193: astore        11
     195: getstatic     #126                // Field INPUT_FACTORY:Ljavax/xml/stream/XMLInputFactory;
     198: astore        12
     200: aload_0
     201: aload         12
     203: ldc           #128                // String javax.xml.stream.isValidating
     205: getstatic     #129                // Field java/lang/Boolean.FALSE:Ljava/lang/Boolean;
     208: invokespecial #130                // Method setIfSupported:(Ljavax/xml/stream/XMLInputFactory;Ljava/lang/String;Ljava/lang/Object;)V
     211: aload_0
     212: aload         12
     214: ldc           #131                // String javax.xml.stream.supportDTD
     216: getstatic     #129                // Field java/lang/Boolean.FALSE:Ljava/lang/Boolean;
     219: invokespecial #130                // Method setIfSupported:(Ljavax/xml/stream/XMLInputFactory;Ljava/lang/String;Ljava/lang/Object;)V
     222: aload         12
     224: aload         11
     226: invokevirtual #132                // Method javax/xml/stream/XMLInputFactory.createXMLStreamReader:(Ljava/io/InputStream;)Ljavax/xml/stream/XMLStreamReader;
     229: astore        13
     231: new           #94                 // class java/util/ArrayList
     234: dup
     235: invokespecial #95                 // Method java/util/ArrayList."<init>":()V
     238: astore        14
     240: aload         6
     242: aload         14
     244: aload         13
     246: invokeinterface #133,  3          // InterfaceMethod org/jboss/staxmapper/XMLMapper.parseDocument:(Ljava/lang/Object;Ljavax/xml/stream/XMLStreamReader;)V
     251: aload         14
     253: invokeinterface #134,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     258: astore        15
     260: aload         15
     262: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     267: ifeq          299
     270: aload         15
     272: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     277: checkcast     #102                // class org/jboss/as/ejb3/timerservice/TimerImpl
     280: astore        16
     282: aload_3
     283: aload         16
     285: invokevirtual #72                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getId:()Ljava/lang/String;
     288: aload         16
     290: invokeinterface #75,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     295: pop
     296: goto          260
     299: aload         11
     301: invokestatic  #135                // Method safeClose:(Ljava/io/Closeable;)V
     304: goto          317
     307: astore        17
     309: aload         11
     311: invokestatic  #135                // Method safeClose:(Ljava/io/Closeable;)V
     314: aload         17
     316: athrow
     317: aload         11
     319: ifnull        417
     322: aload         11
     324: invokevirtual #136                // Method java/io/FileInputStream.close:()V
     327: goto          417
     330: astore        12
     332: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     335: aload         12
     337: invokeinterface #138,  2          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCloseFile:(Ljava/lang/Throwable;)V
     342: goto          417
     345: astore        12
     347: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     350: aload         10
     352: aload         12
     354: invokeinterface #140,  3          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToRestoreTimersFromFile:(Ljava/io/File;Ljava/lang/Throwable;)V
     359: aload         11
     361: ifnull        417
     364: aload         11
     366: invokevirtual #136                // Method java/io/FileInputStream.close:()V
     369: goto          417
     372: astore        12
     374: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     377: aload         12
     379: invokeinterface #138,  2          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCloseFile:(Ljava/lang/Throwable;)V
     384: goto          417
     387: astore        18
     389: aload         11
     391: ifnull        414
     394: aload         11
     396: invokevirtual #136                // Method java/io/FileInputStream.close:()V
     399: goto          414
     402: astore        19
     404: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     407: aload         19
     409: invokeinterface #138,  2          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCloseFile:(Ljava/lang/Throwable;)V
     414: aload         18
     416: athrow
     417: iinc          9, 1
     420: goto          151
     423: aload_3
     424: areturn
    Exception table:
       from    to  target type
         231   299   307   any
         307   309   307   any
         322   327   330   Class java/io/IOException
         184   317   345   Class java/lang/Exception
         364   369   372   Class java/io/IOException
         184   317   387   any
         345   359   387   any
         394   399   402   Class java/io/IOException
         387   389   387   any

  private org.jboss.staxmapper.XMLMapper createMapper(org.jboss.as.ejb3.timerservice.TimerServiceImpl);
    Code:
       0: invokestatic  #141                // Method org/jboss/staxmapper/XMLMapper$Factory.create:()Lorg/jboss/staxmapper/XMLMapper;
       3: astore_2
       4: aload_2
       5: new           #142                // class javax/xml/namespace/QName
       8: dup
       9: ldc           #144                // String urn:jboss:wildfly:ejb-timers:1.0
      11: ldc           #146                // String timers
      13: invokespecial #147                // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      16: new           #143                // class org/jboss/as/ejb3/timerservice/persistence/filestore/EjbTimerXmlParser_1_0
      19: dup
      20: aload_1
      21: aload_0
      22: getfield      #35                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
      25: aload_0
      26: getfield      #34                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
      29: aload_1
      30: invokevirtual #148                // Method org/jboss/as/ejb3/timerservice/TimerServiceImpl.getTimedObjectInvoker:()Lorg/jboss/msc/value/InjectedValue;
      33: invokevirtual #30                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      36: checkcast     #149                // class org/jboss/as/ejb3/timerservice/spi/TimedObjectInvoker
      39: invokeinterface #150,  1          // InterfaceMethod org/jboss/as/ejb3/timerservice/spi/TimedObjectInvoker.getClassLoader:()Ljava/lang/ClassLoader;
      44: invokespecial #151                // Method org/jboss/as/ejb3/timerservice/persistence/filestore/EjbTimerXmlParser_1_0."<init>":(Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/marshalling/MarshallingConfiguration;Ljava/lang/ClassLoader;)V
      47: invokeinterface #152,  3          // InterfaceMethod org/jboss/staxmapper/XMLMapper.registerRootElement:(Ljavax/xml/namespace/QName;Lorg/jboss/staxmapper/XMLElementReader;)V
      52: aload_2
      53: areturn

  private java.io.File fileName(java.lang.String, java.lang.String);
    Code:
       0: new           #43                 // class java/io/File
       3: dup
       4: new           #86                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
      11: aload_0
      12: aload_1
      13: invokespecial #115                // Method getDirectory:(Ljava/lang/String;)Ljava/lang/String;
      16: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: getstatic     #153                // Field java/io/File.separator:Ljava/lang/String;
      22: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_2
      26: getstatic     #153                // Field java/io/File.separator:Ljava/lang/String;
      29: ldc           #154                // String -
      31: invokevirtual #155                // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
      34: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: ldc           #122                // String .xml
      39: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #90                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokespecial #45                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      48: areturn

  private java.lang.String getDirectory(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #15                 // Field directories:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #107,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #156                // class java/lang/String
      13: astore_2
      14: aload_2
      15: ifnonnull     101
      18: new           #86                 // class java/lang/StringBuilder
      21: dup
      22: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
      25: aload_0
      26: getfield      #46                 // Field baseDir:Ljava/io/File;
      29: invokevirtual #157                // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      32: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: getstatic     #153                // Field java/io/File.separator:Ljava/lang/String;
      38: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: aload_1
      42: getstatic     #153                // Field java/io/File.separator:Ljava/lang/String;
      45: ldc           #154                // String -
      47: invokevirtual #155                // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
      50: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: invokevirtual #90                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      56: astore_2
      57: new           #43                 // class java/io/File
      60: dup
      61: aload_2
      62: invokespecial #45                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      65: astore_3
      66: aload_3
      67: invokevirtual #47                 // Method java/io/File.exists:()Z
      70: ifne          89
      73: aload_3
      74: invokevirtual #48                 // Method java/io/File.mkdirs:()Z
      77: ifne          89
      80: getstatic     #49                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      83: aload_3
      84: invokeinterface #158,  2          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCreateDirectoryForPersistTimers:(Ljava/io/File;)V
      89: aload_0
      90: getfield      #15                 // Field directories:Ljava/util/concurrent/ConcurrentMap;
      93: aload_1
      94: aload_2
      95: invokeinterface #159,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     100: pop
     101: aload_2
     102: areturn

  private void writeFile(org.jboss.as.ejb3.timerservice.TimerImpl);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #60                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getTimedObjectId:()Ljava/lang/String;
       5: aload_1
       6: invokevirtual #72                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getId:()Ljava/lang/String;
       9: invokespecial #160                // Method fileName:(Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
      12: astore_2
      13: aload_1
      14: invokevirtual #69                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getState:()Lorg/jboss/as/ejb3/timerservice/TimerState;
      17: getstatic     #70                 // Field org/jboss/as/ejb3/timerservice/TimerState.CANCELED:Lorg/jboss/as/ejb3/timerservice/TimerState;
      20: if_acmpeq     33
      23: aload_1
      24: invokevirtual #69                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getState:()Lorg/jboss/as/ejb3/timerservice/TimerState;
      27: getstatic     #71                 // Field org/jboss/as/ejb3/timerservice/TimerState.EXPIRED:Lorg/jboss/as/ejb3/timerservice/TimerState;
      30: if_acmpne     46
      33: aload_2
      34: invokevirtual #47                 // Method java/io/File.exists:()Z
      37: ifeq          45
      40: aload_2
      41: invokevirtual #161                // Method java/io/File.delete:()Z
      44: pop
      45: return
      46: new           #162                // class java/io/FileOutputStream
      49: dup
      50: aload_2
      51: invokespecial #163                // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
      54: astore_3
      55: invokestatic  #164                // Method javax/xml/stream/XMLOutputFactory.newInstance:()Ljavax/xml/stream/XMLOutputFactory;
      58: aload_3
      59: invokevirtual #165                // Method javax/xml/stream/XMLOutputFactory.createXMLStreamWriter:(Ljava/io/OutputStream;)Ljavax/xml/stream/XMLStreamWriter;
      62: astore        4
      64: aload_0
      65: aload_1
      66: invokevirtual #68                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.getTimerService:()Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;
      69: invokespecial #119                // Method createMapper:(Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;)Lorg/jboss/staxmapper/XMLMapper;
      72: astore        5
      74: aload         5
      76: new           #145                // class org/jboss/as/ejb3/timerservice/persistence/filestore/EjbTimerXmlPersister
      79: dup
      80: aload_0
      81: getfield      #35                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
      84: aload_0
      85: getfield      #34                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
      88: invokespecial #166                // Method org/jboss/as/ejb3/timerservice/persistence/filestore/EjbTimerXmlPersister."<init>":(Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/marshalling/MarshallingConfiguration;)V
      91: aload_1
      92: invokestatic  #167                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
      95: aload         4
      97: invokeinterface #168,  4          // InterfaceMethod org/jboss/staxmapper/XMLMapper.deparseDocument:(Lorg/jboss/staxmapper/XMLElementWriter;Ljava/lang/Object;Ljavax/xml/stream/XMLStreamWriter;)V
     102: aload         4
     104: invokeinterface #169,  1          // InterfaceMethod javax/xml/stream/XMLStreamWriter.flush:()V
     109: aload         4
     111: invokeinterface #170,  1          // InterfaceMethod javax/xml/stream/XMLStreamWriter.close:()V
     116: aload_3
     117: invokestatic  #135                // Method safeClose:(Ljava/io/Closeable;)V
     120: goto          132
     123: astore        6
     125: aload_3
     126: invokestatic  #135                // Method safeClose:(Ljava/io/Closeable;)V
     129: aload         6
     131: athrow
     132: goto          145
     135: astore_3
     136: new           #84                 // class java/lang/RuntimeException
     139: dup
     140: aload_3
     141: invokespecial #85                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     144: athrow
     145: return
    Exception table:
       from    to  target type
          55   116   123   any
         123   125   123   any
          46   132   135   Class java/lang/Exception

  public org.jboss.msc.value.InjectedValue<javax.transaction.TransactionManager> getTransactionManager();
    Code:
       0: aload_0
       1: getfield      #9                  // Field transactionManager:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  public org.jboss.msc.value.InjectedValue<javax.transaction.TransactionSynchronizationRegistry> getTransactionSynchronizationRegistry();
    Code:
       0: aload_0
       1: getfield      #3                  // Field transactionSynchronizationRegistry:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  public org.jboss.msc.value.InjectedValue<org.jboss.modules.ModuleLoader> getModuleLoader();
    Code:
       0: aload_0
       1: getfield      #10                 // Field moduleLoader:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  public org.jboss.msc.value.InjectedValue<org.jboss.as.controller.services.path.PathManager> getPathManager();
    Code:
       0: aload_0
       1: getfield      #11                 // Field pathManager:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  private void setIfSupported(javax.xml.stream.XMLInputFactory, java.lang.String, java.lang.Object);
    Code:
       0: aload_1
       1: aload_2
       2: invokevirtual #171                // Method javax/xml/stream/XMLInputFactory.isPropertySupported:(Ljava/lang/String;)Z
       5: ifeq          14
       8: aload_1
       9: aload_2
      10: aload_3
      11: invokevirtual #172                // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      14: return

  private static void safeClose(java.io.Closeable);
    Code:
       0: aload_0
       1: ifnull        14
       4: aload_0
       5: invokeinterface #173,  1          // InterfaceMethod java/io/Closeable.close:()V
      10: goto          14
      13: astore_1
      14: return
    Exception table:
       from    to  target type
           4    10    13   Class java/io/IOException

  public static org.jboss.staxmapper.XMLExtendedStreamWriter create(javax.xml.stream.XMLStreamWriter) throws java.lang.Exception;
    Code:
       0: ldc           #174                // String org.jboss.staxmapper.FormattingXMLStreamWriter
       2: invokestatic  #175                // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;
       5: astore_1
       6: aload_1
       7: iconst_1
       8: anewarray     #176                // class java/lang/Class
      11: dup
      12: iconst_0
      13: ldc           #177                // class javax/xml/stream/XMLStreamWriter
      15: aastore
      16: invokevirtual #178                // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;
      19: astore_2
      20: aload_2
      21: iconst_1
      22: invokevirtual #179                // Method java/lang/reflect/Constructor.setAccessible:(Z)V
      25: aload_2
      26: iconst_1
      27: anewarray     #180                // class java/lang/Object
      30: dup
      31: iconst_0
      32: aload_0
      33: aastore
      34: invokevirtual #181                // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;
      37: checkcast     #182                // class org/jboss/staxmapper/XMLExtendedStreamWriter
      40: areturn

  public java.lang.Object getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: invokevirtual #183                // Method getValue:()Lorg/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence;
       4: areturn

  static void access$000(org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence);
    Code:
       0: aload_0
       1: invokespecial #5                  // Method doStart:()V
       4: return

  static void access$100(org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence, org.jboss.as.ejb3.timerservice.TimerImpl, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: invokespecial #4                  // Method persistTimer:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;Z)V
       6: return

  static org.jboss.msc.value.InjectedValue access$200(org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence);
    Code:
       0: aload_0
       1: getfield      #3                  // Field transactionSynchronizationRegistry:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  static java.util.Map access$500(org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence, java.lang.String, org.jboss.as.ejb3.timerservice.TimerServiceImpl);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #2                  // Method getTimers:(Ljava/lang/String;Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;)Ljava/util/Map;
       6: areturn

  static void access$700(org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence, org.jboss.as.ejb3.timerservice.TimerImpl);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method writeFile:(Lorg/jboss/as/ejb3/timerservice/TimerImpl;)V
       5: return

  static {};
    Code:
       0: new           #184                // class java/io/FilePermission
       3: dup
       4: ldc           #185                // String <<ALL FILES>>
       6: ldc           #186                // String read,write,delete
       8: invokespecial #187                // Method java/io/FilePermission."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      11: putstatic     #17                 // Field FILE_PERMISSION:Ljava/io/FilePermission;
      14: invokestatic  #188                // Method javax/xml/stream/XMLInputFactory.newInstance:()Ljavax/xml/stream/XMLInputFactory;
      17: putstatic     #126                // Field INPUT_FACTORY:Ljavax/xml/stream/XMLInputFactory;
      20: return
}
