Compiled from "LegacyFileStore.java"
public class org.jboss.as.ejb3.timerservice.persistence.filestore.LegacyFileStore {
  public static final java.lang.String MIGRATION_MARKER;

  public org.jboss.as.ejb3.timerservice.persistence.filestore.LegacyFileStore();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  static java.util.Map<java.lang.String, org.jboss.as.ejb3.timerservice.TimerImpl> loadTimersFromFile(java.lang.String, org.jboss.as.ejb3.timerservice.TimerServiceImpl, java.lang.String, org.jboss.marshalling.MarshallerFactory, org.jboss.marshalling.MarshallingConfiguration);
    Code:
       0: new           #2                  // class java/util/HashMap
       3: dup
       4: invokespecial #3                  // Method java/util/HashMap."<init>":()V
       7: astore        5
       9: new           #4                  // class java/io/File
      12: dup
      13: aload_2
      14: invokespecial #5                  // Method java/io/File."<init>":(Ljava/lang/String;)V
      17: astore        6
      19: aload         6
      21: invokevirtual #6                  // Method java/io/File.exists:()Z
      24: ifne          30
      27: aload         5
      29: areturn
      30: aload         6
      32: invokevirtual #7                  // Method java/io/File.isDirectory:()Z
      35: ifne          51
      38: getstatic     #8                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      41: aload         6
      43: invokeinterface #9,  2            // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToRestoreTimers:(Ljava/io/File;)V
      48: aload         5
      50: areturn
      51: new           #4                  // class java/io/File
      54: dup
      55: aload         6
      57: ldc           #11                 // String migrated-to-xml.marker
      59: invokespecial #12                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      62: astore        7
      64: aload         7
      66: invokevirtual #6                  // Method java/io/File.exists:()Z
      69: ifeq          75
      72: aload         5
      74: areturn
      75: aload_3
      76: aload         4
      78: invokeinterface #13,  2           // InterfaceMethod org/jboss/marshalling/MarshallerFactory.createUnmarshaller:(Lorg/jboss/marshalling/MarshallingConfiguration;)Lorg/jboss/marshalling/Unmarshaller;
      83: astore        8
      85: aload         6
      87: invokevirtual #14                 // Method java/io/File.listFiles:()[Ljava/io/File;
      90: astore        9
      92: aload         9
      94: arraylength
      95: istore        10
      97: iconst_0
      98: istore        11
     100: iload         11
     102: iload         10
     104: if_icmpge     527
     107: aload         9
     109: iload         11
     111: aaload
     112: astore        12
     114: aload         12
     116: invokevirtual #15                 // Method java/io/File.getName:()Ljava/lang/String;
     119: ldc           #16                 // String .xml
     121: invokevirtual #17                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
     124: ifeq          130
     127: goto          521
     130: aconst_null
     131: astore        13
     133: new           #18                 // class java/io/FileInputStream
     136: dup
     137: aload         12
     139: invokespecial #19                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
     142: astore        13
     144: aload         8
     146: new           #20                 // class org/jboss/marshalling/InputStreamByteInput
     149: dup
     150: aload         13
     152: invokespecial #21                 // Method org/jboss/marshalling/InputStreamByteInput."<init>":(Ljava/io/InputStream;)V
     155: invokeinterface #22,  2           // InterfaceMethod org/jboss/marshalling/Unmarshaller.start:(Lorg/jboss/marshalling/ByteInput;)V
     160: aload         8
     162: ldc           #23                 // class org/jboss/as/ejb3/timerservice/persistence/TimerEntity
     164: invokeinterface #24,  2           // InterfaceMethod org/jboss/marshalling/Unmarshaller.readObject:(Ljava/lang/Class;)Ljava/lang/Object;
     169: checkcast     #23                 // class org/jboss/as/ejb3/timerservice/persistence/TimerEntity
     172: astore        14
     174: aload         14
     176: instanceof    #25                 // class org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity
     179: ifeq          311
     182: aload         14
     184: checkcast     #25                 // class org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity
     187: astore        16
     189: invokestatic  #26                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer.builder:()Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     192: aload         16
     194: invokevirtual #27                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getSecond:()Ljava/lang/String;
     197: invokevirtual #28                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprSecond:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     200: aload         16
     202: invokevirtual #29                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getMinute:()Ljava/lang/String;
     205: invokevirtual #30                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprMinute:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     208: aload         16
     210: invokevirtual #31                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getHour:()Ljava/lang/String;
     213: invokevirtual #32                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprHour:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     216: aload         16
     218: invokevirtual #33                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getDayOfWeek:()Ljava/lang/String;
     221: invokevirtual #34                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprDayOfWeek:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     224: aload         16
     226: invokevirtual #35                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getDayOfMonth:()Ljava/lang/String;
     229: invokevirtual #36                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprDayOfMonth:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     232: aload         16
     234: invokevirtual #37                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getMonth:()Ljava/lang/String;
     237: invokevirtual #38                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprMonth:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     240: aload         16
     242: invokevirtual #39                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getYear:()Ljava/lang/String;
     245: invokevirtual #40                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprYear:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     248: aload         16
     250: invokevirtual #41                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getStartDate:()Ljava/util/Date;
     253: invokevirtual #42                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprStartDate:(Ljava/util/Date;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     256: aload         16
     258: invokevirtual #43                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getEndDate:()Ljava/util/Date;
     261: invokevirtual #44                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprEndDate:(Ljava/util/Date;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     264: aload         16
     266: invokevirtual #45                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getTimezone:()Ljava/lang/String;
     269: invokevirtual #46                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setScheduleExprTimezone:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     272: aload         16
     274: invokevirtual #47                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.isAutoTimer:()Z
     277: invokevirtual #48                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setAutoTimer:(Z)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     280: aload         16
     282: invokevirtual #49                 // Method org/jboss/as/ejb3/timerservice/persistence/CalendarTimerEntity.getTimeoutMethod:()Lorg/jboss/as/ejb3/timerservice/persistence/TimeoutMethod;
     285: aload_1
     286: invokevirtual #50                 // Method org/jboss/as/ejb3/timerservice/TimerServiceImpl.getTimedObjectInvoker:()Lorg/jboss/msc/value/InjectedValue;
     289: invokevirtual #51                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     292: checkcast     #52                 // class org/jboss/as/ejb3/timerservice/spi/TimedObjectInvoker
     295: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/ejb3/timerservice/spi/TimedObjectInvoker.getClassLoader:()Ljava/lang/ClassLoader;
     300: invokestatic  #54                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer.getTimeoutMethod:(Lorg/jboss/as/ejb3/timerservice/persistence/TimeoutMethod;Ljava/lang/ClassLoader;)Ljava/lang/reflect/Method;
     303: invokevirtual #55                 // Method org/jboss/as/ejb3/timerservice/CalendarTimer$Builder.setTimeoutMethod:(Ljava/lang/reflect/Method;)Lorg/jboss/as/ejb3/timerservice/CalendarTimer$Builder;
     306: astore        15
     308: goto          316
     311: invokestatic  #56                 // Method org/jboss/as/ejb3/timerservice/TimerImpl.builder:()Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     314: astore        15
     316: aload         15
     318: aload         14
     320: invokevirtual #57                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getId:()Ljava/lang/String;
     323: invokevirtual #58                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setId:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     326: aload         14
     328: invokevirtual #59                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getTimedObjectId:()Ljava/lang/String;
     331: invokevirtual #60                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setTimedObjectId:(Ljava/lang/String;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     334: aload         14
     336: invokevirtual #61                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getInitialDate:()Ljava/util/Date;
     339: invokevirtual #62                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setInitialDate:(Ljava/util/Date;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     342: aload         14
     344: invokevirtual #63                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getInterval:()J
     347: invokevirtual #64                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setRepeatInterval:(J)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     350: aload         14
     352: invokevirtual #65                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getNextDate:()Ljava/util/Date;
     355: invokevirtual #66                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setNextDate:(Ljava/util/Date;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     358: aload         14
     360: invokevirtual #67                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getPreviousRun:()Ljava/util/Date;
     363: invokevirtual #68                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setPreviousRun:(Ljava/util/Date;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     366: aload         14
     368: invokevirtual #69                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getInfo:()Ljava/io/Serializable;
     371: invokevirtual #70                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setInfo:(Ljava/io/Serializable;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     374: aload         14
     376: invokevirtual #71                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getPrimaryKey:()Ljava/lang/Object;
     379: invokevirtual #72                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setPrimaryKey:(Ljava/lang/Object;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     382: aload         14
     384: invokevirtual #73                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getTimerState:()Lorg/jboss/as/ejb3/timerservice/TimerState;
     387: invokevirtual #74                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setTimerState:(Lorg/jboss/as/ejb3/timerservice/TimerState;)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     390: iconst_1
     391: invokevirtual #75                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.setPersistent:(Z)Lorg/jboss/as/ejb3/timerservice/TimerImpl$Builder;
     394: pop
     395: aload         5
     397: aload         14
     399: invokevirtual #57                 // Method org/jboss/as/ejb3/timerservice/persistence/TimerEntity.getId:()Ljava/lang/String;
     402: aload         15
     404: aload_1
     405: invokevirtual #76                 // Method org/jboss/as/ejb3/timerservice/TimerImpl$Builder.build:(Lorg/jboss/as/ejb3/timerservice/TimerServiceImpl;)Lorg/jboss/as/ejb3/timerservice/TimerImpl;
     408: invokeinterface #77,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     413: pop
     414: aload         8
     416: invokeinterface #78,  1           // InterfaceMethod org/jboss/marshalling/Unmarshaller.finish:()V
     421: aload         13
     423: ifnull        521
     426: aload         13
     428: invokevirtual #79                 // Method java/io/FileInputStream.close:()V
     431: goto          521
     434: astore        14
     436: getstatic     #8                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     439: aload         14
     441: invokeinterface #81,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCloseFile:(Ljava/lang/Throwable;)V
     446: goto          521
     449: astore        14
     451: getstatic     #8                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     454: aload         12
     456: aload         14
     458: invokeinterface #83,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToRestoreTimersFromFile:(Ljava/io/File;Ljava/lang/Throwable;)V
     463: aload         13
     465: ifnull        521
     468: aload         13
     470: invokevirtual #79                 // Method java/io/FileInputStream.close:()V
     473: goto          521
     476: astore        14
     478: getstatic     #8                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     481: aload         14
     483: invokeinterface #81,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCloseFile:(Ljava/lang/Throwable;)V
     488: goto          521
     491: astore        17
     493: aload         13
     495: ifnull        518
     498: aload         13
     500: invokevirtual #79                 // Method java/io/FileInputStream.close:()V
     503: goto          518
     506: astore        18
     508: getstatic     #8                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     511: aload         18
     513: invokeinterface #81,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToCloseFile:(Ljava/lang/Throwable;)V
     518: aload         17
     520: athrow
     521: iinc          11, 1
     524: goto          100
     527: aload         5
     529: invokeinterface #84,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     534: ifne          584
     537: new           #85                 // class java/io/FileOutputStream
     540: dup
     541: aload         7
     543: invokespecial #86                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     546: astore        9
     548: aload         9
     550: new           #87                 // class java/util/Date
     553: dup
     554: invokespecial #88                 // Method java/util/Date."<init>":()V
     557: invokevirtual #89                 // Method java/util/Date.toString:()Ljava/lang/String;
     560: invokevirtual #90                 // Method java/lang/String.getBytes:()[B
     563: invokevirtual #91                 // Method java/io/FileOutputStream.write:([B)V
     566: aload         9
     568: invokevirtual #92                 // Method java/io/FileOutputStream.close:()V
     571: goto          584
     574: astore        19
     576: aload         9
     578: invokevirtual #92                 // Method java/io/FileOutputStream.close:()V
     581: aload         19
     583: athrow
     584: goto          600
     587: astore        6
     589: getstatic     #8                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     592: aload_0
     593: aload         6
     595: invokeinterface #93,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failToRestoreTimersForObjectId:(Ljava/lang/String;Ljava/lang/Throwable;)V
     600: aload         5
     602: areturn
    Exception table:
       from    to  target type
         426   431   434   Class java/io/IOException
         133   421   449   Class java/lang/Exception
         468   473   476   Class java/io/IOException
         133   421   491   any
         449   463   491   any
         498   503   506   Class java/io/IOException
         491   493   491   any
         548   566   574   any
         574   576   574   any
           9    29   587   Class java/lang/Exception
          30    50   587   Class java/lang/Exception
          51    74   587   Class java/lang/Exception
          75   584   587   Class java/lang/Exception
}
