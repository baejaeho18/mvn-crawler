Compiled from "TransactionRequestHandler.java"
class org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler extends org.jboss.as.ejb3.remote.protocol.AbstractMessageHandler {
  private static final byte HEADER_TX_INVOCATION_RESPONSE;

  private final java.util.concurrent.ExecutorService executorService;

  private final org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository transactionsRepository;

  private final org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler$TransactionRequestType txRequestType;

  private final org.jboss.marshalling.MarshallerFactory marshallerFactory;

  org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler(org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository, org.jboss.marshalling.MarshallerFactory, java.util.concurrent.ExecutorService, org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler$TransactionRequestType);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/as/ejb3/remote/protocol/AbstractMessageHandler."<init>":()V
       4: aload_0
       5: aload_3
       6: putfield      #2                  // Field executorService:Ljava/util/concurrent/ExecutorService;
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
      14: aload_0
      15: aload         4
      17: putfield      #4                  // Field txRequestType:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
      20: aload_0
      21: aload_2
      22: putfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
      25: return

  public void processMessage(org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, java.io.InputStream) throws java.io.IOException;
    Code:
       0: new           #6                  // class java/io/DataInputStream
       3: dup
       4: aload_2
       5: invokespecial #7                  // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
       8: astore_3
       9: aload_3
      10: invokevirtual #8                  // Method java/io/DataInputStream.readShort:()S
      13: istore        4
      15: aload_3
      16: invokestatic  #9                  // Method org/jboss/ejb/client/remoting/PackedInteger.readPackedInteger:(Ljava/io/DataInput;)I
      19: istore        5
      21: iload         5
      23: newarray       byte
      25: astore        6
      27: aload_3
      28: aload         6
      30: invokevirtual #10                 // Method java/io/DataInputStream.read:([B)I
      33: pop
      34: aload         6
      36: invokestatic  #11                 // Method org/jboss/ejb/client/TransactionID.createTransactionID:([B)Lorg/jboss/ejb/client/TransactionID;
      39: astore        7
      41: iconst_0
      42: istore        8
      44: aload_0
      45: getfield      #4                  // Field txRequestType:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
      48: getstatic     #12                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.COMMIT:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
      51: if_acmpne     60
      54: aload_3
      55: invokevirtual #13                 // Method java/io/DataInputStream.readBoolean:()Z
      58: istore        8
      60: aload         7
      62: instanceof    #14                 // class org/jboss/ejb/client/UserTransactionID
      65: ifeq          208
      68: getstatic     #15                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$1.$SwitchMap$org$jboss$as$ejb3$remote$protocol$versionone$TransactionRequestHandler$TransactionRequestType:[I
      71: aload_0
      72: getfield      #4                  // Field txRequestType:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
      75: invokevirtual #16                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.ordinal:()I
      78: iaload
      79: lookupswitch  { // 2
                     1: 104
                     2: 133
               default: 162
          }
     104: new           #17                 // class org/jboss/as/ejb3/remote/protocol/versionone/UserTransactionCommitTask
     107: dup
     108: aload_0
     109: aload_0
     110: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     113: aload_0
     114: getfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     117: aload         7
     119: checkcast     #14                 // class org/jboss/ejb/client/UserTransactionID
     122: aload_1
     123: iload         4
     125: invokespecial #18                 // Method org/jboss/as/ejb3/remote/protocol/versionone/UserTransactionCommitTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/UserTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
     128: astore        9
     130: goto          178
     133: new           #19                 // class org/jboss/as/ejb3/remote/protocol/versionone/UserTransactionRollbackTask
     136: dup
     137: aload_0
     138: aload_0
     139: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     142: aload_0
     143: getfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     146: aload         7
     148: checkcast     #14                 // class org/jboss/ejb/client/UserTransactionID
     151: aload_1
     152: iload         4
     154: invokespecial #20                 // Method org/jboss/as/ejb3/remote/protocol/versionone/UserTransactionRollbackTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/UserTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
     157: astore        9
     159: goto          178
     162: getstatic     #21                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     165: aload_0
     166: getfield      #4                  // Field txRequestType:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     169: invokevirtual #22                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.name:()Ljava/lang/String;
     172: invokeinterface #23,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.unknownTransactionRequestType:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
     177: athrow
     178: aload_0
     179: getfield      #2                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     182: ifnull        200
     185: aload_0
     186: getfield      #2                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     189: aload         9
     191: invokeinterface #24,  2           // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
     196: pop
     197: goto          205
     200: aload         9
     202: invokevirtual #25                 // Method org/jboss/as/ejb3/remote/protocol/versionone/UserTransactionManagementTask.run:()V
     205: goto          443
     208: aload         7
     210: instanceof    #26                 // class org/jboss/ejb/client/XidTransactionID
     213: ifeq          443
     216: aload         7
     218: checkcast     #26                 // class org/jboss/ejb/client/XidTransactionID
     221: astore        9
     223: getstatic     #15                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$1.$SwitchMap$org$jboss$as$ejb3$remote$protocol$versionone$TransactionRequestHandler$TransactionRequestType:[I
     226: aload_0
     227: getfield      #4                  // Field txRequestType:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     230: invokevirtual #16                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.ordinal:()I
     233: iaload
     234: tableswitch   { // 1 to 5
                     1: 268
                     2: 322
                     3: 296
                     4: 348
                     5: 374
               default: 400
          }
     268: new           #27                 // class org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionCommitTask
     271: dup
     272: aload_0
     273: aload_0
     274: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     277: aload_0
     278: getfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     281: aload         9
     283: aload_1
     284: iload         4
     286: iload         8
     288: invokespecial #28                 // Method org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionCommitTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/XidTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;SZ)V
     291: astore        10
     293: goto          416
     296: new           #29                 // class org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionPrepareTask
     299: dup
     300: aload_0
     301: aload_0
     302: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     305: aload_0
     306: getfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     309: aload         9
     311: aload_1
     312: iload         4
     314: invokespecial #30                 // Method org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionPrepareTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/XidTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
     317: astore        10
     319: goto          416
     322: new           #31                 // class org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionRollbackTask
     325: dup
     326: aload_0
     327: aload_0
     328: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     331: aload_0
     332: getfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     335: aload         9
     337: aload_1
     338: iload         4
     340: invokespecial #32                 // Method org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionRollbackTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/XidTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
     343: astore        10
     345: goto          416
     348: new           #33                 // class org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionForgetTask
     351: dup
     352: aload_0
     353: aload_0
     354: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     357: aload_0
     358: getfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     361: aload         9
     363: aload_1
     364: iload         4
     366: invokespecial #34                 // Method org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionForgetTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/XidTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
     369: astore        10
     371: goto          416
     374: new           #35                 // class org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionBeforeCompletionTask
     377: dup
     378: aload_0
     379: aload_0
     380: getfield      #3                  // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     383: aload_0
     384: getfield      #5                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     387: aload         9
     389: aload_1
     390: iload         4
     392: invokespecial #36                 // Method org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionBeforeCompletionTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler;Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Lorg/jboss/ejb/client/XidTransactionID;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
     395: astore        10
     397: goto          416
     400: getstatic     #21                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     403: aload_0
     404: getfield      #4                  // Field txRequestType:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     407: invokevirtual #22                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.name:()Ljava/lang/String;
     410: invokeinterface #23,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.unknownTransactionRequestType:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
     415: athrow
     416: aload_0
     417: getfield      #2                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     420: ifnull        438
     423: aload_0
     424: getfield      #2                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     427: aload         10
     429: invokeinterface #24,  2           // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
     434: pop
     435: goto          443
     438: aload         10
     440: invokevirtual #37                 // Method org/jboss/as/ejb3/remote/protocol/versionone/XidTransactionManagementTask.run:()V
     443: return

  protected void writeTxPrepareResponseMessage(org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, short, int) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokevirtual #38                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.acquireChannelMessageOutputStream:()Lorg/jboss/remoting3/MessageOutputStream;
       4: astore        5
       6: goto          22
       9: astore        6
      11: getstatic     #21                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      14: aload         6
      16: invokeinterface #40,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToOpenMessageOutputStream:(Ljava/lang/Throwable;)Ljava/io/IOException;
      21: athrow
      22: new           #41                 // class java/io/DataOutputStream
      25: dup
      26: aload         5
      28: invokespecial #42                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      31: astore        4
      33: aload         4
      35: bipush        20
      37: invokevirtual #44                 // Method java/io/DataOutputStream.writeByte:(I)V
      40: aload         4
      42: iload_2
      43: invokevirtual #45                 // Method java/io/DataOutputStream.writeShort:(I)V
      46: aload         4
      48: iconst_1
      49: invokevirtual #46                 // Method java/io/DataOutputStream.writeBoolean:(Z)V
      52: aload         4
      54: iload_3
      55: invokestatic  #47                 // Method org/jboss/ejb/client/remoting/PackedInteger.writePackedInteger:(Ljava/io/DataOutput;I)V
      58: aload_1
      59: aload         5
      61: invokevirtual #48                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      64: aload         4
      66: invokevirtual #49                 // Method java/io/DataOutputStream.close:()V
      69: goto          88
      72: astore        7
      74: aload_1
      75: aload         5
      77: invokevirtual #48                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      80: aload         4
      82: invokevirtual #49                 // Method java/io/DataOutputStream.close:()V
      85: aload         7
      87: athrow
      88: return
    Exception table:
       from    to  target type
           0     6     9   Class java/lang/Exception
          33    58    72   any
          72    74    72   any

  protected void writeTxInvocationResponseMessage(org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, short) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokevirtual #38                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.acquireChannelMessageOutputStream:()Lorg/jboss/remoting3/MessageOutputStream;
       4: astore        4
       6: goto          22
       9: astore        5
      11: getstatic     #21                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      14: aload         5
      16: invokeinterface #40,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToOpenMessageOutputStream:(Ljava/lang/Throwable;)Ljava/io/IOException;
      21: athrow
      22: new           #41                 // class java/io/DataOutputStream
      25: dup
      26: aload         4
      28: invokespecial #42                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      31: astore_3
      32: aload_3
      33: bipush        20
      35: invokevirtual #44                 // Method java/io/DataOutputStream.writeByte:(I)V
      38: aload_3
      39: iload_2
      40: invokevirtual #45                 // Method java/io/DataOutputStream.writeShort:(I)V
      43: aload_3
      44: iconst_0
      45: invokevirtual #46                 // Method java/io/DataOutputStream.writeBoolean:(Z)V
      48: aload_1
      49: aload         4
      51: invokevirtual #48                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      54: aload_3
      55: invokevirtual #49                 // Method java/io/DataOutputStream.close:()V
      58: goto          76
      61: astore        6
      63: aload_1
      64: aload         4
      66: invokevirtual #48                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      69: aload_3
      70: invokevirtual #49                 // Method java/io/DataOutputStream.close:()V
      73: aload         6
      75: athrow
      76: return
    Exception table:
       from    to  target type
           0     6     9   Class java/lang/Exception
          32    48    61   any
          61    63    61   any

  protected void writeException(org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, org.jboss.marshalling.MarshallerFactory, short, java.lang.Throwable, java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: aload         4
       6: aload         5
       8: invokespecial #50                 // Method org/jboss/as/ejb3/remote/protocol/AbstractMessageHandler.writeException:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;Lorg/jboss/marshalling/MarshallerFactory;SLjava/lang/Throwable;Ljava/util/Map;)V
      11: return
}
