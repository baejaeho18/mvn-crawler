Compiled from "SessionOpenRequestHandler.java"
class org.jboss.as.ejb3.remote.protocol.versionone.SessionOpenRequestHandler extends org.jboss.as.ejb3.remote.protocol.versionone.EJBIdentifierBasedMessageHandler {
  private static final byte HEADER_SESSION_OPEN_RESPONSE;

  private static final byte HEADER_EJB_NOT_STATEFUL;

  private final java.util.concurrent.ExecutorService executorService;

  private final org.jboss.marshalling.MarshallerFactory marshallerFactory;

  org.jboss.as.ejb3.remote.protocol.versionone.SessionOpenRequestHandler(org.jboss.as.ejb3.deployment.DeploymentRepository, org.jboss.marshalling.MarshallerFactory, java.util.concurrent.ExecutorService);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #4                  // Method org/jboss/as/ejb3/remote/protocol/versionone/EJBIdentifierBasedMessageHandler."<init>":(Lorg/jboss/as/ejb3/deployment/DeploymentRepository;)V
       5: aload_0
       6: aload_2
       7: putfield      #3                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
      10: aload_0
      11: aload_3
      12: putfield      #5                  // Field executorService:Ljava/util/concurrent/ExecutorService;
      15: return

  public void processMessage(org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, java.io.InputStream) throws java.io.IOException;
    Code:
       0: aload_2
       1: ifnonnull     13
       4: getstatic     #6                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
       7: invokeinterface #7,  1            // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.messageInputStreamCannotBeNull:()Ljava/lang/IllegalArgumentException;
      12: athrow
      13: new           #8                  // class java/io/DataInputStream
      16: dup
      17: aload_2
      18: invokespecial #9                  // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      21: astore_3
      22: aload_3
      23: invokevirtual #10                 // Method java/io/DataInputStream.readShort:()S
      26: istore        4
      28: aload_3
      29: invokevirtual #11                 // Method java/io/DataInputStream.readUTF:()Ljava/lang/String;
      32: astore        5
      34: aload_3
      35: invokevirtual #11                 // Method java/io/DataInputStream.readUTF:()Ljava/lang/String;
      38: astore        6
      40: aload_3
      41: invokevirtual #11                 // Method java/io/DataInputStream.readUTF:()Ljava/lang/String;
      44: astore        7
      46: aload_3
      47: invokevirtual #11                 // Method java/io/DataInputStream.readUTF:()Ljava/lang/String;
      50: astore        8
      52: aload_0
      53: aload         5
      55: aload         6
      57: aload         7
      59: aload         8
      61: invokevirtual #12                 // Method findEJB:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/ejb3/deployment/EjbDeploymentInformation;
      64: astore        9
      66: aload         9
      68: ifnonnull     88
      71: aload_0
      72: aload_1
      73: iload         4
      75: aload         5
      77: aload         6
      79: aload         7
      81: aload         8
      83: aconst_null
      84: invokevirtual #13                 // Method writeNoSuchEJBFailureMessage:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;SLjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      87: return
      88: aload         9
      90: invokevirtual #14                 // Method org/jboss/as/ejb3/deployment/EjbDeploymentInformation.getEjbComponent:()Lorg/jboss/as/ejb3/component/EJBComponent;
      93: astore        10
      95: aload         10
      97: instanceof    #15                 // class org/jboss/as/ejb3/component/stateful/StatefulSessionComponent
     100: ifne          136
     103: getstatic     #6                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     106: aload         8
     108: aload         5
     110: aload         6
     112: aload         7
     114: invokeinterface #16,  5           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.notStatefulSessionBean:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
     119: invokevirtual #17                 // Method java/lang/IllegalArgumentException.getLocalizedMessage:()Ljava/lang/String;
     122: astore        11
     124: aload_0
     125: aload_1
     126: bipush        13
     128: iload         4
     130: aload         11
     132: invokevirtual #19                 // Method writeInvocationFailure:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;BSLjava/lang/String;)V
     135: return
     136: aload         10
     138: checkcast     #15                 // class org/jboss/as/ejb3/component/stateful/StatefulSessionComponent
     141: astore        11
     143: new           #20                 // class org/jboss/as/ejb3/remote/protocol/versionone/SessionOpenRequestHandler$SessionIDGeneratorTask
     146: dup
     147: aload_0
     148: aload         11
     150: aload_1
     151: iload         4
     153: invokespecial #21                 // Method org/jboss/as/ejb3/remote/protocol/versionone/SessionOpenRequestHandler$SessionIDGeneratorTask."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/SessionOpenRequestHandler;Lorg/jboss/as/ejb3/component/stateful/StatefulSessionComponent;Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;S)V
     156: astore        12
     158: aload_0
     159: getfield      #5                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     162: ifnull        180
     165: aload_0
     166: getfield      #5                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     169: aload         12
     171: invokeinterface #22,  2           // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
     176: pop
     177: goto          185
     180: aload         12
     182: invokevirtual #23                 // Method org/jboss/as/ejb3/remote/protocol/versionone/SessionOpenRequestHandler$SessionIDGeneratorTask.run:()V
     185: return

  private void writeSessionId(org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, short, org.jboss.ejb.client.SessionID, org.jboss.ejb.client.Affinity) throws java.io.IOException;
    Code:
       0: aload_3
       1: invokevirtual #24                 // Method org/jboss/ejb/client/SessionID.getEncodedForm:()[B
       4: astore        5
       6: aload_1
       7: invokevirtual #25                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.acquireChannelMessageOutputStream:()Lorg/jboss/remoting3/MessageOutputStream;
      10: astore        7
      12: goto          28
      15: astore        8
      17: getstatic     #6                  // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      20: aload         8
      22: invokeinterface #27,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToOpenMessageOutputStream:(Ljava/lang/Throwable;)Ljava/io/IOException;
      27: athrow
      28: new           #28                 // class java/io/DataOutputStream
      31: dup
      32: aload         7
      34: invokespecial #29                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      37: astore        6
      39: aload         6
      41: iconst_2
      42: invokevirtual #30                 // Method java/io/DataOutputStream.writeByte:(I)V
      45: aload         6
      47: iload_2
      48: invokevirtual #31                 // Method java/io/DataOutputStream.writeShort:(I)V
      51: aload         6
      53: aload         5
      55: arraylength
      56: invokestatic  #32                 // Method org/jboss/ejb/client/remoting/PackedInteger.writePackedInteger:(Ljava/io/DataOutput;I)V
      59: aload         6
      61: aload         5
      63: invokevirtual #33                 // Method java/io/DataOutputStream.write:([B)V
      66: aload_0
      67: aload_0
      68: getfield      #3                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
      71: aload         6
      73: invokevirtual #34                 // Method prepareForMarshalling:(Lorg/jboss/marshalling/MarshallerFactory;Ljava/io/DataOutput;)Lorg/jboss/marshalling/Marshaller;
      76: astore        8
      78: aload         8
      80: aload         4
      82: invokeinterface #35,  2           // InterfaceMethod org/jboss/marshalling/Marshaller.writeObject:(Ljava/lang/Object;)V
      87: aload         8
      89: invokeinterface #36,  1           // InterfaceMethod org/jboss/marshalling/Marshaller.finish:()V
      94: aload_1
      95: aload         7
      97: invokevirtual #37                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
     100: aload         6
     102: invokevirtual #38                 // Method java/io/DataOutputStream.close:()V
     105: goto          124
     108: astore        9
     110: aload_1
     111: aload         7
     113: invokevirtual #37                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
     116: aload         6
     118: invokevirtual #38                 // Method java/io/DataOutputStream.close:()V
     121: aload         9
     123: athrow
     124: return
    Exception table:
       from    to  target type
           6    12    15   Class java/lang/Exception
          39    94   108   any
         108   110   108   any

  static org.jboss.marshalling.MarshallerFactory access$000(org.jboss.as.ejb3.remote.protocol.versionone.SessionOpenRequestHandler);
    Code:
       0: aload_0
       1: getfield      #3                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
       4: areturn

  static void access$100(org.jboss.as.ejb3.remote.protocol.versionone.SessionOpenRequestHandler, org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, org.jboss.marshalling.MarshallerFactory, short, java.lang.Throwable, java.util.Map) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: aload         4
       6: aload         5
       8: invokevirtual #2                  // Method writeException:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;Lorg/jboss/marshalling/MarshallerFactory;SLjava/lang/Throwable;Ljava/util/Map;)V
      11: return

  static void access$200(org.jboss.as.ejb3.remote.protocol.versionone.SessionOpenRequestHandler, org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, short, org.jboss.ejb.client.SessionID, org.jboss.ejb.client.Affinity) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_3
       4: aload         4
       6: invokespecial #1                  // Method writeSessionId:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;SLorg/jboss/ejb/client/SessionID;Lorg/jboss/ejb/client/Affinity;)V
       9: return
}
