Compiled from "VersionOneProtocolChannelReceiver.java"
public class org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver implements org.jboss.remoting3.Channel$Receiver, org.jboss.as.ejb3.deployment.DeploymentRepositoryListener, org.jboss.as.ejb3.remote.RegistryCollector$Listener<java.lang.String, java.util.List<org.jboss.as.network.ClientMapping>>, org.jboss.as.server.suspend.ServerActivity {
  private static final byte HEADER_SESSION_OPEN_REQUEST;

  private static final byte HEADER_INVOCATION_REQUEST;

  private static final byte HEADER_INVOCATION_CANCELLATION_REQUEST;

  private static final byte HEADER_TX_COMMIT_REQUEST;

  private static final byte HEADER_TX_ROLLBACK_REQUEST;

  private static final byte HEADER_TX_PREPARE_REQUEST;

  private static final byte HEADER_TX_FORGET_REQUEST;

  private static final byte HEADER_TX_BEFORE_COMPLETION_REQUEST;

  protected final org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation channelAssociation;

  protected final org.jboss.as.ejb3.deployment.DeploymentRepository deploymentRepository;

  protected final org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository transactionsRepository;

  protected final org.jboss.marshalling.MarshallerFactory marshallerFactory;

  protected final java.util.concurrent.ExecutorService executorService;

  protected final org.jboss.as.ejb3.remote.RegistryCollector<java.lang.String, java.util.List<org.jboss.as.network.ClientMapping>> clientMappingRegistryCollector;

  protected final java.util.Set<org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener> clusterTopologyUpdateListeners;

  protected final org.jboss.as.ejb3.remote.RemoteAsyncInvocationCancelStatusService remoteAsyncInvocationCancelStatus;

  protected final org.jboss.as.server.suspend.SuspendController suspendController;

  public org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver(org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation, org.jboss.as.ejb3.deployment.DeploymentRepository, org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository, org.jboss.as.ejb3.remote.RegistryCollector<java.lang.String, java.util.List<org.jboss.as.network.ClientMapping>>, org.jboss.marshalling.MarshallerFactory, java.util.concurrent.ExecutorService, org.jboss.as.ejb3.remote.RemoteAsyncInvocationCancelStatusService, org.jboss.as.server.suspend.SuspendController);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/HashSet
       8: dup
       9: invokespecial #3                  // Method java/util/HashSet."<init>":()V
      12: invokestatic  #4                  // Method java/util/Collections.synchronizedSet:(Ljava/util/Set;)Ljava/util/Set;
      15: putfield      #5                  // Field clusterTopologyUpdateListeners:Ljava/util/Set;
      18: aload_0
      19: aload         5
      21: putfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
      24: aload_0
      25: aload_1
      26: putfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      29: aload_0
      30: aload         6
      32: putfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
      35: aload_0
      36: aload_2
      37: putfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
      40: aload_0
      41: aload_3
      42: putfield      #10                 // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
      45: aload_0
      46: aload         4
      48: putfield      #11                 // Field clientMappingRegistryCollector:Lorg/jboss/as/ejb3/remote/RegistryCollector;
      51: aload_0
      52: aload         7
      54: putfield      #12                 // Field remoteAsyncInvocationCancelStatus:Lorg/jboss/as/ejb3/remote/RemoteAsyncInvocationCancelStatusService;
      57: aload_0
      58: aload         8
      60: putfield      #13                 // Field suspendController:Lorg/jboss/as/server/suspend/SuspendController;
      63: return

  public void startReceiving();
    Code:
       0: aload_0
       1: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
       4: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
       7: astore_1
       8: aload_1
       9: new           #15                 // class org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ChannelCloseHandler
      12: dup
      13: aload_0
      14: invokespecial #16                 // Method org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ChannelCloseHandler."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;)V
      17: invokeinterface #17,  2           // InterfaceMethod org/jboss/remoting3/Channel.addCloseHandler:(Lorg/jboss/remoting3/CloseHandler;)Lorg/jboss/remoting3/HandleableCloseable$Key;
      22: pop
      23: aload_1
      24: aload_0
      25: invokeinterface #18,  2           // InterfaceMethod org/jboss/remoting3/Channel.receiveMessage:(Lorg/jboss/remoting3/Channel$Receiver;)V
      30: aload_0
      31: getfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
      34: aload_0
      35: invokevirtual #19                 // Method org/jboss/as/ejb3/deployment/DeploymentRepository.addListener:(Lorg/jboss/as/ejb3/deployment/DeploymentRepositoryListener;)V
      38: aload_0
      39: getfield      #11                 // Field clientMappingRegistryCollector:Lorg/jboss/as/ejb3/remote/RegistryCollector;
      42: aload_0
      43: invokeinterface #20,  2           // InterfaceMethod org/jboss/as/ejb3/remote/RegistryCollector.addListener:(Lorg/jboss/as/ejb3/remote/RegistryCollector$Listener;)V
      48: aload_0
      49: getfield      #13                 // Field suspendController:Lorg/jboss/as/server/suspend/SuspendController;
      52: aload_0
      53: invokevirtual #21                 // Method org/jboss/as/server/suspend/SuspendController.registerActivity:(Lorg/jboss/as/server/suspend/ServerActivity;)V
      56: aload_0
      57: getfield      #11                 // Field clientMappingRegistryCollector:Lorg/jboss/as/ejb3/remote/RegistryCollector;
      60: invokeinterface #22,  1           // InterfaceMethod org/jboss/as/ejb3/remote/RegistryCollector.getRegistries:()Ljava/util/Collection;
      65: astore_2
      66: aload_2
      67: ifnull        84
      70: aload_2
      71: invokeinterface #23,  1           // InterfaceMethod java/util/Collection.size:()I
      76: ifle          84
      79: aload_0
      80: aload_2
      81: invokespecial #24                 // Method sendNewClusterFormedMessage:(Ljava/util/Collection;)V
      84: goto          98
      87: astore_3
      88: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      91: aload_3
      92: aload_1
      93: invokeinterface #27,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToSendClusterFormationMessageToClient:(Ljava/lang/Exception;Lorg/jboss/remoting3/Channel;)V
      98: aload_2
      99: invokeinterface #28,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     104: astore_3
     105: aload_3
     106: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     111: ifeq          162
     114: aload_3
     115: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     120: checkcast     #31                 // class org/wildfly/clustering/registry/Registry
     123: astore        4
     125: new           #32                 // class org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener
     128: dup
     129: aload_0
     130: aload         4
     132: aload_0
     133: invokespecial #33                 // Method org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;Lorg/wildfly/clustering/registry/Registry;Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;)V
     136: astore        5
     138: aload         4
     140: aload         5
     142: invokeinterface #34,  2           // InterfaceMethod org/wildfly/clustering/registry/Registry.addListener:(Lorg/wildfly/clustering/registry/Registry$Listener;)V
     147: aload_0
     148: getfield      #5                  // Field clusterTopologyUpdateListeners:Ljava/util/Set;
     151: aload         5
     153: invokeinterface #35,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     158: pop
     159: goto          105
     162: return
    Exception table:
       from    to  target type
          66    84    87   Class java/io/IOException

  public void handleError(org.jboss.remoting3.Channel, java.io.IOException);
    Code:
       0: aload_1
       1: invokeinterface #36,  1           // InterfaceMethod org/jboss/remoting3/Channel.close:()V
       6: aload_0
       7: invokevirtual #37                 // Method cleanupOnChannelDown:()V
      10: goto          33
      13: astore_3
      14: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      17: aload_3
      18: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.couldNotCloseChannel:(Ljava/io/IOException;)Ljava/lang/RuntimeException;
      23: athrow
      24: astore        4
      26: aload_0
      27: invokevirtual #37                 // Method cleanupOnChannelDown:()V
      30: aload         4
      32: athrow
      33: return
    Exception table:
       from    to  target type
           0     6    13   Class java/io/IOException
           0     6    24   any
          13    26    24   any

  public void handleEnd(org.jboss.remoting3.Channel);
    Code:
       0: aload_1
       1: invokeinterface #36,  1           // InterfaceMethod org/jboss/remoting3/Channel.close:()V
       6: aload_0
       7: invokevirtual #37                 // Method cleanupOnChannelDown:()V
      10: goto          28
      13: astore_2
      14: aload_0
      15: invokevirtual #37                 // Method cleanupOnChannelDown:()V
      18: goto          28
      21: astore_3
      22: aload_0
      23: invokevirtual #37                 // Method cleanupOnChannelDown:()V
      26: aload_3
      27: athrow
      28: return
    Exception table:
       from    to  target type
           0     6    13   Class java/io/IOException
           0     6    21   any

  public void handleMessage(org.jboss.remoting3.Channel, org.jboss.remoting3.MessageInputStream);
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #18,  2           // InterfaceMethod org/jboss/remoting3/Channel.receiveMessage:(Lorg/jboss/remoting3/Channel$Receiver;)V
       7: aload_0
       8: aload_1
       9: aload_2
      10: invokevirtual #40                 // Method processMessage:(Lorg/jboss/remoting3/Channel;Ljava/io/InputStream;)V
      13: aload_2
      14: invokestatic  #41                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      17: goto          52
      20: astore_3
      21: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      24: aload_3
      25: aload_1
      26: aload_2
      27: invokeinterface #43,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.exceptionOnChannel:(Ljava/lang/Throwable;Lorg/jboss/remoting3/Channel;Lorg/jboss/remoting3/MessageInputStream;)V
      32: aload_1
      33: invokestatic  #41                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      36: aload_2
      37: invokestatic  #41                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      40: goto          52
      43: astore        4
      45: aload_2
      46: invokestatic  #41                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      49: aload         4
      51: athrow
      52: return
    Exception table:
       from    to  target type
           0    13    20   Class java/lang/Throwable
           0    13    43   any
          20    36    43   any
          43    45    43   any

  protected org.jboss.as.ejb3.remote.protocol.MessageHandler getMessageHandler(byte);
    Code:
       0: iload_1
       1: tableswitch   { // 1 to 19
                     1: 128
                     2: 263
                     3: 92
                     4: 116
                     5: 263
                     6: 263
                     7: 263
                     8: 263
                     9: 263
                    10: 263
                    11: 263
                    12: 263
                    13: 263
                    14: 263
                    15: 148
                    16: 171
                    17: 217
                    18: 194
                    19: 240
               default: 263
          }
      92: new           #44                 // class org/jboss/as/ejb3/remote/protocol/versionone/MethodInvocationMessageHandler
      95: dup
      96: aload_0
      97: getfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
     100: aload_0
     101: getfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     104: aload_0
     105: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     108: aload_0
     109: getfield      #12                 // Field remoteAsyncInvocationCancelStatus:Lorg/jboss/as/ejb3/remote/RemoteAsyncInvocationCancelStatusService;
     112: invokespecial #45                 // Method org/jboss/as/ejb3/remote/protocol/versionone/MethodInvocationMessageHandler."<init>":(Lorg/jboss/as/ejb3/deployment/DeploymentRepository;Lorg/jboss/marshalling/MarshallerFactory;Ljava/util/concurrent/ExecutorService;Lorg/jboss/as/ejb3/remote/RemoteAsyncInvocationCancelStatusService;)V
     115: areturn
     116: new           #46                 // class org/jboss/as/ejb3/remote/protocol/versionone/InvocationCancellationMessageHandler
     119: dup
     120: aload_0
     121: getfield      #12                 // Field remoteAsyncInvocationCancelStatus:Lorg/jboss/as/ejb3/remote/RemoteAsyncInvocationCancelStatusService;
     124: invokespecial #47                 // Method org/jboss/as/ejb3/remote/protocol/versionone/InvocationCancellationMessageHandler."<init>":(Lorg/jboss/as/ejb3/remote/RemoteAsyncInvocationCancelStatusService;)V
     127: areturn
     128: new           #48                 // class org/jboss/as/ejb3/remote/protocol/versionone/SessionOpenRequestHandler
     131: dup
     132: aload_0
     133: getfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
     136: aload_0
     137: getfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     140: aload_0
     141: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     144: invokespecial #49                 // Method org/jboss/as/ejb3/remote/protocol/versionone/SessionOpenRequestHandler."<init>":(Lorg/jboss/as/ejb3/deployment/DeploymentRepository;Lorg/jboss/marshalling/MarshallerFactory;Ljava/util/concurrent/ExecutorService;)V
     147: areturn
     148: new           #50                 // class org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler
     151: dup
     152: aload_0
     153: getfield      #10                 // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     156: aload_0
     157: getfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     160: aload_0
     161: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     164: getstatic     #51                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.COMMIT:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     167: invokespecial #52                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler."<init>":(Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Ljava/util/concurrent/ExecutorService;Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;)V
     170: areturn
     171: new           #50                 // class org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler
     174: dup
     175: aload_0
     176: getfield      #10                 // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     179: aload_0
     180: getfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     183: aload_0
     184: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     187: getstatic     #53                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.ROLLBACK:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     190: invokespecial #52                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler."<init>":(Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Ljava/util/concurrent/ExecutorService;Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;)V
     193: areturn
     194: new           #50                 // class org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler
     197: dup
     198: aload_0
     199: getfield      #10                 // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     202: aload_0
     203: getfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     206: aload_0
     207: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     210: getstatic     #54                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.FORGET:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     213: invokespecial #52                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler."<init>":(Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Ljava/util/concurrent/ExecutorService;Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;)V
     216: areturn
     217: new           #50                 // class org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler
     220: dup
     221: aload_0
     222: getfield      #10                 // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     225: aload_0
     226: getfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     229: aload_0
     230: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     233: getstatic     #55                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.PREPARE:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     236: invokespecial #52                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler."<init>":(Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Ljava/util/concurrent/ExecutorService;Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;)V
     239: areturn
     240: new           #50                 // class org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler
     243: dup
     244: aload_0
     245: getfield      #10                 // Field transactionsRepository:Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;
     248: aload_0
     249: getfield      #6                  // Field marshallerFactory:Lorg/jboss/marshalling/MarshallerFactory;
     252: aload_0
     253: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
     256: getstatic     #56                 // Field org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType.BEFORE_COMPLETION:Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;
     259: invokespecial #52                 // Method org/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler."<init>":(Lorg/jboss/as/ejb3/remote/EJBRemoteTransactionsRepository;Lorg/jboss/marshalling/MarshallerFactory;Ljava/util/concurrent/ExecutorService;Lorg/jboss/as/ejb3/remote/protocol/versionone/TransactionRequestHandler$TransactionRequestType;)V
     262: areturn
     263: aconst_null
     264: areturn

  protected void processMessage(org.jboss.remoting3.Channel, java.io.InputStream) throws java.io.IOException;
    Code:
       0: aload_2
       1: invokevirtual #57                 // Method java/io/InputStream.read:()I
       4: istore_3
       5: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
       8: ldc           #58                 // String Got message with header 0x%x on channel %s
      10: iload_3
      11: aload_1
      12: invokeinterface #59,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.tracef:(Ljava/lang/String;ILjava/lang/Object;)V
      17: aload_0
      18: iload_3
      19: i2b
      20: invokevirtual #60                 // Method getMessageHandler:(B)Lorg/jboss/as/ejb3/remote/protocol/MessageHandler;
      23: astore        4
      25: aload         4
      27: ifnonnull     48
      30: aload_1
      31: aload_0
      32: invokeinterface #18,  2           // InterfaceMethod org/jboss/remoting3/Channel.receiveMessage:(Lorg/jboss/remoting3/Channel$Receiver;)V
      37: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      40: iload_3
      41: aload_1
      42: invokeinterface #61,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.unsupportedMessageHeader:(ILorg/jboss/remoting3/Channel;)V
      47: return
      48: aload         4
      50: aload_0
      51: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      54: aload_2
      55: invokeinterface #62,  3           // InterfaceMethod org/jboss/as/ejb3/remote/protocol/MessageHandler.processMessage:(Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;Ljava/io/InputStream;)V
      60: return

  public void listenerAdded(org.jboss.as.ejb3.deployment.DeploymentRepository);
    Code:
       0: aload_0
       1: getfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
       4: invokevirtual #63                 // Method org/jboss/as/ejb3/deployment/DeploymentRepository.getStartedModules:()Ljava/util/Map;
       7: astore_2
       8: aload_2
       9: ifnull        91
      12: aload_2
      13: invokeinterface #64,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      18: ifne          91
      21: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      24: ldc           #65                 // String Sending initial module availability message, containing %s module(s) to channel %s
      26: aload_2
      27: invokeinterface #66,  1           // InterfaceMethod java/util/Map.size:()I
      32: aload_0
      33: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      36: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      39: invokeinterface #67,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debugf:(Ljava/lang/String;ILjava/lang/Object;)V
      44: aload_0
      45: aload_2
      46: invokeinterface #68,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      51: aload_2
      52: invokeinterface #66,  1           // InterfaceMethod java/util/Map.size:()I
      57: anewarray     #69                 // class org/jboss/as/ejb3/deployment/DeploymentModuleIdentifier
      60: invokeinterface #70,  2           // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      65: checkcast     #71                 // class "[Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;"
      68: invokespecial #72                 // Method sendModuleAvailability:([Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;)V
      71: goto          91
      74: astore_3
      75: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      78: aload_3
      79: aload_0
      80: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      83: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      86: invokeinterface #73,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToSendModuleAvailabilityMessageToClient:(Ljava/lang/Exception;Lorg/jboss/remoting3/Channel;)V
      91: return
    Exception table:
       from    to  target type
          21    71    74   Class java/io/IOException

  public void deploymentAvailable(org.jboss.as.ejb3.deployment.DeploymentModuleIdentifier, org.jboss.as.ejb3.deployment.ModuleDeployment);
    Code:
       0: return

  public void deploymentStarted(org.jboss.as.ejb3.deployment.DeploymentModuleIdentifier, org.jboss.as.ejb3.deployment.ModuleDeployment);
    Code:
       0: aload_0
       1: iconst_1
       2: anewarray     #69                 // class org/jboss/as/ejb3/deployment/DeploymentModuleIdentifier
       5: dup
       6: iconst_0
       7: aload_1
       8: aastore
       9: invokespecial #72                 // Method sendModuleAvailability:([Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;)V
      12: goto          33
      15: astore_3
      16: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      19: aload_3
      20: aload_1
      21: aload_0
      22: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      25: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      28: invokeinterface #74,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToSendModuleAvailabilityMessageToClient:(Ljava/lang/Exception;Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;Lorg/jboss/remoting3/Channel;)V
      33: return
    Exception table:
       from    to  target type
           0    12    15   Class java/io/IOException

  public void deploymentRemoved(org.jboss.as.ejb3.deployment.DeploymentModuleIdentifier);
    Code:
       0: aload_0
       1: iconst_1
       2: anewarray     #69                 // class org/jboss/as/ejb3/deployment/DeploymentModuleIdentifier
       5: dup
       6: iconst_0
       7: aload_1
       8: aastore
       9: invokespecial #75                 // Method sendModuleUnAvailability:([Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;)V
      12: goto          33
      15: astore_2
      16: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      19: aload_2
      20: aload_1
      21: aload_0
      22: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      25: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      28: invokeinterface #76,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToSendModuleUnavailabilityMessageToClient:(Ljava/lang/Exception;Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;Lorg/jboss/remoting3/Channel;)V
      33: return
    Exception table:
       from    to  target type
           0    12    15   Class java/io/IOException

  private void sendModuleAvailability(org.jboss.as.ejb3.deployment.DeploymentModuleIdentifier[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
       4: invokevirtual #77                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.acquireChannelMessageOutputStream:()Lorg/jboss/remoting3/MessageOutputStream;
       7: astore_3
       8: goto          24
      11: astore        4
      13: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      16: aload         4
      18: invokeinterface #79,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToOpenMessageOutputStream:(Ljava/lang/Throwable;)Ljava/io/IOException;
      23: athrow
      24: new           #80                 // class java/io/DataOutputStream
      27: dup
      28: aload_3
      29: invokespecial #81                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      32: astore_2
      33: new           #82                 // class org/jboss/as/ejb3/remote/protocol/versionone/ModuleAvailabilityWriter
      36: dup
      37: invokespecial #83                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ModuleAvailabilityWriter."<init>":()V
      40: astore        4
      42: aload         4
      44: aload_2
      45: aload_1
      46: invokevirtual #84                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ModuleAvailabilityWriter.writeModuleAvailability:(Ljava/io/DataOutput;[Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;)V
      49: aload_0
      50: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      53: aload_3
      54: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      57: aload_2
      58: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
      61: goto          81
      64: astore        5
      66: aload_0
      67: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      70: aload_3
      71: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      74: aload_2
      75: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
      78: aload         5
      80: athrow
      81: return
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/Exception
          42    49    64   any
          64    66    64   any

  private void sendModuleUnAvailability(org.jboss.as.ejb3.deployment.DeploymentModuleIdentifier[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
       4: invokevirtual #77                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.acquireChannelMessageOutputStream:()Lorg/jboss/remoting3/MessageOutputStream;
       7: astore_3
       8: goto          24
      11: astore        4
      13: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      16: aload         4
      18: invokeinterface #79,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToOpenMessageOutputStream:(Ljava/lang/Throwable;)Ljava/io/IOException;
      23: athrow
      24: new           #80                 // class java/io/DataOutputStream
      27: dup
      28: aload_3
      29: invokespecial #81                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      32: astore_2
      33: new           #82                 // class org/jboss/as/ejb3/remote/protocol/versionone/ModuleAvailabilityWriter
      36: dup
      37: invokespecial #83                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ModuleAvailabilityWriter."<init>":()V
      40: astore        4
      42: aload         4
      44: aload_2
      45: aload_1
      46: invokevirtual #87                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ModuleAvailabilityWriter.writeModuleUnAvailability:(Ljava/io/DataOutput;[Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;)V
      49: aload_0
      50: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      53: aload_3
      54: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      57: aload_2
      58: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
      61: goto          81
      64: astore        5
      66: aload_0
      67: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      70: aload_3
      71: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      74: aload_2
      75: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
      78: aload         5
      80: athrow
      81: return
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/Exception
          42    49    64   any
          64    66    64   any

  public void registryAdded(org.wildfly.clustering.registry.Registry<java.lang.String, java.util.List<org.jboss.as.network.ClientMapping>>);
    Code:
       0: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
       3: invokeinterface #88,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isDebugEnabled:()Z
       8: ifeq          32
      11: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      14: ldc           #89                 // String Received new cluster formation notification for cluster %s
      16: aload_1
      17: invokeinterface #90,  1           // InterfaceMethod org/wildfly/clustering/registry/Registry.getGroup:()Lorg/wildfly/clustering/group/Group;
      22: invokeinterface #91,  1           // InterfaceMethod org/wildfly/clustering/group/Group.getName:()Ljava/lang/String;
      27: invokeinterface #92,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
      32: aload_0
      33: aload_1
      34: invokestatic  #93                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      37: invokespecial #24                 // Method sendNewClusterFormedMessage:(Ljava/util/Collection;)V
      40: new           #32                 // class org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener
      43: dup
      44: aload_0
      45: aload_1
      46: aload_0
      47: invokespecial #33                 // Method org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;Lorg/wildfly/clustering/registry/Registry;Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;)V
      50: astore_2
      51: aload_1
      52: aload_2
      53: invokeinterface #34,  2           // InterfaceMethod org/wildfly/clustering/registry/Registry.addListener:(Lorg/wildfly/clustering/registry/Registry$Listener;)V
      58: aload_0
      59: getfield      #5                  // Field clusterTopologyUpdateListeners:Ljava/util/Set;
      62: aload_2
      63: invokeinterface #35,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      68: pop
      69: goto          167
      72: astore_2
      73: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      76: aload_2
      77: aload_1
      78: invokeinterface #90,  1           // InterfaceMethod org/wildfly/clustering/registry/Registry.getGroup:()Lorg/wildfly/clustering/group/Group;
      83: invokeinterface #91,  1           // InterfaceMethod org/wildfly/clustering/group/Group.getName:()Ljava/lang/String;
      88: aload_0
      89: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      92: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      95: invokeinterface #94,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToSendClusterFormationMessageToClient:(Ljava/lang/Exception;Ljava/lang/String;Lorg/jboss/remoting3/Channel;)V
     100: new           #32                 // class org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener
     103: dup
     104: aload_0
     105: aload_1
     106: aload_0
     107: invokespecial #33                 // Method org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;Lorg/wildfly/clustering/registry/Registry;Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;)V
     110: astore_2
     111: aload_1
     112: aload_2
     113: invokeinterface #34,  2           // InterfaceMethod org/wildfly/clustering/registry/Registry.addListener:(Lorg/wildfly/clustering/registry/Registry$Listener;)V
     118: aload_0
     119: getfield      #5                  // Field clusterTopologyUpdateListeners:Ljava/util/Set;
     122: aload_2
     123: invokeinterface #35,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     128: pop
     129: goto          167
     132: astore_3
     133: new           #32                 // class org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener
     136: dup
     137: aload_0
     138: aload_1
     139: aload_0
     140: invokespecial #33                 // Method org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener."<init>":(Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;Lorg/wildfly/clustering/registry/Registry;Lorg/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver;)V
     143: astore        4
     145: aload_1
     146: aload         4
     148: invokeinterface #34,  2           // InterfaceMethod org/wildfly/clustering/registry/Registry.addListener:(Lorg/wildfly/clustering/registry/Registry$Listener;)V
     153: aload_0
     154: getfield      #5                  // Field clusterTopologyUpdateListeners:Ljava/util/Set;
     157: aload         4
     159: invokeinterface #35,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     164: pop
     165: aload_3
     166: athrow
     167: return
    Exception table:
       from    to  target type
           0    40    72   Class java/io/IOException
           0    40   132   any
          72   100   132   any

  public void registryRemoved(org.wildfly.clustering.registry.Registry<java.lang.String, java.util.List<org.jboss.as.network.ClientMapping>>);
    Code:
       0: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
       3: invokeinterface #88,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isDebugEnabled:()Z
       8: ifeq          27
      11: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      14: ldc           #95                 // String Received cluster removal notification for cluster %s
      16: aload_1
      17: invokeinterface #90,  1           // InterfaceMethod org/wildfly/clustering/registry/Registry.getGroup:()Lorg/wildfly/clustering/group/Group;
      22: invokeinterface #92,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
      27: aload_1
      28: aload_1
      29: invokeinterface #90,  1           // InterfaceMethod org/wildfly/clustering/registry/Registry.getGroup:()Lorg/wildfly/clustering/group/Group;
      34: invokeinterface #96,  1           // InterfaceMethod org/wildfly/clustering/group/Group.getLocalNode:()Lorg/wildfly/clustering/group/Node;
      39: invokeinterface #97,  2           // InterfaceMethod org/wildfly/clustering/registry/Registry.getEntry:(Lorg/wildfly/clustering/group/Node;)Ljava/util/Map$Entry;
      44: astore_2
      45: aload_1
      46: invokeinterface #98,  1           // InterfaceMethod org/wildfly/clustering/registry/Registry.getEntries:()Ljava/util/Map;
      51: astore_3
      52: aload_2
      53: ifnull        84
      56: aload_3
      57: invokeinterface #66,  1           // InterfaceMethod java/util/Map.size:()I
      62: iconst_1
      63: if_icmpne     98
      66: aload_3
      67: aload_2
      68: invokeinterface #99,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      73: invokeinterface #100,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      78: ifeq          98
      81: goto          93
      84: aload_3
      85: invokeinterface #64,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      90: ifeq          98
      93: aload_0
      94: aload_1
      95: invokespecial #101                // Method sendClusterRemovedMessage:(Lorg/wildfly/clustering/registry/Registry;)V
      98: goto          124
     101: astore_2
     102: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
     105: aload_2
     106: aload_1
     107: invokeinterface #90,  1           // InterfaceMethod org/wildfly/clustering/registry/Registry.getGroup:()Lorg/wildfly/clustering/group/Group;
     112: aload_0
     113: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
     116: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
     119: invokeinterface #102,  4          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.couldNotSendClusterRemovalMessage:(Ljava/lang/Throwable;Lorg/wildfly/clustering/group/Group;Lorg/jboss/remoting3/Channel;)V
     124: return
    Exception table:
       from    to  target type
           0    98   101   Class java/io/IOException

  private void sendNewClusterFormedMessage(java.util.Collection<org.wildfly.clustering.registry.Registry<java.lang.String, java.util.List<org.jboss.as.network.ClientMapping>>>) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
       4: invokevirtual #77                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.acquireChannelMessageOutputStream:()Lorg/jboss/remoting3/MessageOutputStream;
       7: astore_3
       8: goto          24
      11: astore        4
      13: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      16: aload         4
      18: invokeinterface #79,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToOpenMessageOutputStream:(Ljava/lang/Throwable;)Ljava/io/IOException;
      23: athrow
      24: new           #80                 // class java/io/DataOutputStream
      27: dup
      28: aload_3
      29: invokespecial #81                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      32: astore_2
      33: new           #103                // class org/jboss/as/ejb3/remote/protocol/versionone/ClusterTopologyWriter
      36: dup
      37: invokespecial #104                // Method org/jboss/as/ejb3/remote/protocol/versionone/ClusterTopologyWriter."<init>":()V
      40: astore        4
      42: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      45: ldc           #105                // String Writing out cluster formation message for %d clusters, to channel %s
      47: aload_1
      48: invokeinterface #23,  1           // InterfaceMethod java/util/Collection.size:()I
      53: aload_0
      54: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      57: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      60: invokeinterface #67,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debugf:(Ljava/lang/String;ILjava/lang/Object;)V
      65: aload         4
      67: aload_2
      68: aload_1
      69: invokevirtual #106                // Method org/jboss/as/ejb3/remote/protocol/versionone/ClusterTopologyWriter.writeCompleteClusterTopology:(Ljava/io/DataOutput;Ljava/util/Collection;)V
      72: aload_0
      73: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      76: aload_3
      77: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      80: aload_2
      81: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
      84: goto          104
      87: astore        5
      89: aload_0
      90: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      93: aload_3
      94: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      97: aload_2
      98: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
     101: aload         5
     103: athrow
     104: return
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/Exception
          42    72    87   any
          87    89    87   any

  private void sendClusterRemovedMessage(org.wildfly.clustering.registry.Registry<java.lang.String, java.util.List<org.jboss.as.network.ClientMapping>>) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
       4: invokevirtual #77                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.acquireChannelMessageOutputStream:()Lorg/jboss/remoting3/MessageOutputStream;
       7: astore_3
       8: goto          24
      11: astore        4
      13: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      16: aload         4
      18: invokeinterface #79,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToOpenMessageOutputStream:(Ljava/lang/Throwable;)Ljava/io/IOException;
      23: athrow
      24: new           #80                 // class java/io/DataOutputStream
      27: dup
      28: aload_3
      29: invokespecial #81                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      32: astore_2
      33: new           #103                // class org/jboss/as/ejb3/remote/protocol/versionone/ClusterTopologyWriter
      36: dup
      37: invokespecial #104                // Method org/jboss/as/ejb3/remote/protocol/versionone/ClusterTopologyWriter."<init>":()V
      40: astore        4
      42: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      45: invokeinterface #88,  1           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.isDebugEnabled:()Z
      50: ifeq          81
      53: getstatic     #26                 // Field org/jboss/as/ejb3/logging/EjbLogger.REMOTE_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      56: ldc           #107                // String Cluster Ts removed, writing cluster removal message to channel %s
      58: aload_1
      59: invokeinterface #90,  1           // InterfaceMethod org/wildfly/clustering/registry/Registry.getGroup:()Lorg/wildfly/clustering/group/Group;
      64: invokeinterface #91,  1           // InterfaceMethod org/wildfly/clustering/group/Group.getName:()Ljava/lang/String;
      69: aload_0
      70: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      73: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      76: invokeinterface #108,  4          // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      81: aload         4
      83: aload_2
      84: aload_1
      85: invokestatic  #93                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      88: invokevirtual #109                // Method org/jboss/as/ejb3/remote/protocol/versionone/ClusterTopologyWriter.writeClusterRemoved:(Ljava/io/DataOutput;Ljava/util/Collection;)V
      91: aload_0
      92: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      95: aload_3
      96: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
      99: aload_2
     100: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
     103: goto          123
     106: astore        5
     108: aload_0
     109: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
     112: aload_3
     113: invokevirtual #85                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.releaseChannelMessageOutputStream:(Lorg/jboss/remoting3/MessageOutputStream;)V
     116: aload_2
     117: invokevirtual #86                 // Method java/io/DataOutputStream.close:()V
     120: aload         5
     122: athrow
     123: return
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/Exception
          42    91   106   any
         106   108   106   any

  void cleanupOnChannelDown();
    Code:
       0: aload_0
       1: getfield      #5                  // Field clusterTopologyUpdateListeners:Ljava/util/Set;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #5                  // Field clusterTopologyUpdateListeners:Ljava/util/Set;
      11: invokeinterface #110,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      16: astore_2
      17: aload_2
      18: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          43
      26: aload_2
      27: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #32                 // class org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener
      35: astore_3
      36: aload_3
      37: invokevirtual #111                // Method org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver$ClusterTopologyUpdateListener.unregisterListener:()V
      40: goto          17
      43: aload_1
      44: monitorexit
      45: goto          55
      48: astore        4
      50: aload_1
      51: monitorexit
      52: aload         4
      54: athrow
      55: aload_0
      56: getfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
      59: aload_0
      60: invokevirtual #112                // Method org/jboss/as/ejb3/deployment/DeploymentRepository.removeListener:(Lorg/jboss/as/ejb3/deployment/DeploymentRepositoryListener;)V
      63: aload_0
      64: getfield      #11                 // Field clientMappingRegistryCollector:Lorg/jboss/as/ejb3/remote/RegistryCollector;
      67: aload_0
      68: invokeinterface #113,  2          // InterfaceMethod org/jboss/as/ejb3/remote/RegistryCollector.removeListener:(Lorg/jboss/as/ejb3/remote/RegistryCollector$Listener;)V
      73: aload_0
      74: getfield      #13                 // Field suspendController:Lorg/jboss/as/server/suspend/SuspendController;
      77: aload_0
      78: invokevirtual #114                // Method org/jboss/as/server/suspend/SuspendController.unRegisterActivity:(Lorg/jboss/as/server/suspend/ServerActivity;)V
      81: return
    Exception table:
       from    to  target type
           7    45    48   any
          48    52    48   any

  public void preSuspend(org.jboss.as.server.suspend.ServerActivityCallback);
    Code:
       0: aload_0
       1: getfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
       4: invokevirtual #63                 // Method org/jboss/as/ejb3/deployment/DeploymentRepository.getStartedModules:()Ljava/util/Map;
       7: astore_2
       8: aload_2
       9: ifnull        117
      12: aload_2
      13: invokeinterface #64,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      18: ifne          117
      21: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      24: ldc           #115                // String Sending module unavailability message on suspend of server, containing %s module(s) to channel %s
      26: aload_2
      27: invokeinterface #66,  1           // InterfaceMethod java/util/Map.size:()I
      32: aload_0
      33: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      36: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      39: invokeinterface #67,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debugf:(Ljava/lang/String;ILjava/lang/Object;)V
      44: aload_0
      45: aload_2
      46: invokeinterface #68,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      51: aload_2
      52: invokeinterface #66,  1           // InterfaceMethod java/util/Map.size:()I
      57: anewarray     #69                 // class org/jboss/as/ejb3/deployment/DeploymentModuleIdentifier
      60: invokeinterface #70,  2           // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      65: checkcast     #71                 // class "[Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;"
      68: invokespecial #75                 // Method sendModuleUnAvailability:([Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;)V
      71: aload_1
      72: invokeinterface #116,  1          // InterfaceMethod org/jboss/as/server/suspend/ServerActivityCallback.done:()V
      77: goto          117
      80: astore_3
      81: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      84: aload_3
      85: aload_0
      86: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      89: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      92: invokeinterface #73,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToSendModuleAvailabilityMessageToClient:(Ljava/lang/Exception;Lorg/jboss/remoting3/Channel;)V
      97: aload_1
      98: invokeinterface #116,  1          // InterfaceMethod org/jboss/as/server/suspend/ServerActivityCallback.done:()V
     103: goto          117
     106: astore        4
     108: aload_1
     109: invokeinterface #116,  1          // InterfaceMethod org/jboss/as/server/suspend/ServerActivityCallback.done:()V
     114: aload         4
     116: athrow
     117: return
    Exception table:
       from    to  target type
          21    71    80   Class java/io/IOException
          21    71   106   any
          80    97   106   any
         106   108   106   any

  public void suspended(org.jboss.as.server.suspend.ServerActivityCallback);
    Code:
       0: aload_1
       1: invokeinterface #116,  1          // InterfaceMethod org/jboss/as/server/suspend/ServerActivityCallback.done:()V
       6: return

  public void resume();
    Code:
       0: aload_0
       1: getfield      #9                  // Field deploymentRepository:Lorg/jboss/as/ejb3/deployment/DeploymentRepository;
       4: invokevirtual #63                 // Method org/jboss/as/ejb3/deployment/DeploymentRepository.getStartedModules:()Ljava/util/Map;
       7: astore_1
       8: aload_1
       9: ifnull        91
      12: aload_1
      13: invokeinterface #64,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      18: ifne          91
      21: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      24: ldc           #117                // String Sending module availability message on resume of server, containing %s module(s) to channel %s
      26: aload_1
      27: invokeinterface #66,  1           // InterfaceMethod java/util/Map.size:()I
      32: aload_0
      33: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      36: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      39: invokeinterface #67,  4           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.debugf:(Ljava/lang/String;ILjava/lang/Object;)V
      44: aload_0
      45: aload_1
      46: invokeinterface #68,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      51: aload_1
      52: invokeinterface #66,  1           // InterfaceMethod java/util/Map.size:()I
      57: anewarray     #69                 // class org/jboss/as/ejb3/deployment/DeploymentModuleIdentifier
      60: invokeinterface #70,  2           // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      65: checkcast     #71                 // class "[Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;"
      68: invokespecial #72                 // Method sendModuleAvailability:([Lorg/jboss/as/ejb3/deployment/DeploymentModuleIdentifier;)V
      71: goto          91
      74: astore_2
      75: getstatic     #38                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      78: aload_2
      79: aload_0
      80: getfield      #7                  // Field channelAssociation:Lorg/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation;
      83: invokevirtual #14                 // Method org/jboss/as/ejb3/remote/protocol/versionone/ChannelAssociation.getChannel:()Lorg/jboss/remoting3/Channel;
      86: invokeinterface #73,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.failedToSendModuleAvailabilityMessageToClient:(Ljava/lang/Exception;Lorg/jboss/remoting3/Channel;)V
      91: return
    Exception table:
       from    to  target type
          21    71    74   Class java/io/IOException
}
