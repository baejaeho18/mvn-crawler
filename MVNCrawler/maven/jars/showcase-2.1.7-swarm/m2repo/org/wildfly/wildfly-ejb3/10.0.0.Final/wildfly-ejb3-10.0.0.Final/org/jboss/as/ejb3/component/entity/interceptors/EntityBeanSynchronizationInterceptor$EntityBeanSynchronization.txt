Compiled from "EntityBeanSynchronizationInterceptor.java"
class org.jboss.as.ejb3.component.entity.interceptors.EntityBeanSynchronizationInterceptor$EntityBeanSynchronization implements javax.transaction.Synchronization {
  private final org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance componentInstance;

  private final java.lang.Object lockOwner;

  final org.jboss.as.ejb3.component.entity.interceptors.EntityBeanSynchronizationInterceptor this$0;

  org.jboss.as.ejb3.component.entity.interceptors.EntityBeanSynchronizationInterceptor$EntityBeanSynchronization(org.jboss.as.ejb3.component.entity.interceptors.EntityBeanSynchronizationInterceptor, org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field lockOwner:Ljava/lang/Object;
      19: return

  public void beforeCompletion();
    Code:
       0: getstatic     #5                  // Field org/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback$CallbackType.BEFORE_COMPLETION:Lorg/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback$CallbackType;
       3: invokestatic  #6                  // Method org/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback.set:(Lorg/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback$CallbackType;)V
       6: aload_0
       7: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      10: invokevirtual #7                  // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getThreadLock:()Ljava/lang/Object;
      13: dup
      14: astore_1
      15: monitorenter
      16: aload_0
      17: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      20: invokevirtual #8                  // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isRemoved:()Z
      23: ifne          53
      26: aload_0
      27: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      30: invokevirtual #9                  // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isDiscarded:()Z
      33: ifne          53
      36: aload_0
      37: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      40: invokevirtual #10                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      43: ifnull        53
      46: aload_0
      47: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      50: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.store:()V
      53: goto          66
      56: astore_2
      57: aload_0
      58: aload_0
      59: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      62: aload_2
      63: invokespecial #13                 // Method handleThrowableInTxSync:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;Ljava/lang/Throwable;)V
      66: aload_1
      67: monitorexit
      68: goto          76
      71: astore_3
      72: aload_1
      73: monitorexit
      74: aload_3
      75: athrow
      76: invokestatic  #14                 // Method org/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback.clear:()V
      79: goto          90
      82: astore        4
      84: invokestatic  #14                 // Method org/jboss/as/ejb3/component/stateful/CurrentSynchronizationCallback.clear:()V
      87: aload         4
      89: athrow
      90: return
    Exception table:
       from    to  target type
          16    53    56   Class java/lang/Throwable
          16    68    71   any
          71    74    71   any
           0    76    82   any
          82    84    82   any

  public void afterCompletion(int);
    Code:
       0: iload_1
       1: iconst_1
       2: if_icmpeq     20
       5: iload_1
       6: iconst_4
       7: if_icmpeq     20
      10: iload_1
      11: bipush        9
      13: if_icmpeq     20
      16: iconst_1
      17: goto          21
      20: iconst_0
      21: istore_2
      22: iload_2
      23: ifne          34
      26: aload_0
      27: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      30: iconst_1
      31: invokevirtual #16                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.setReloadRequired:(Z)V
      34: aload_0
      35: getfield      #1                  // Field this$0:Lorg/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor;
      38: aload_0
      39: getfield      #3                  // Field componentInstance:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      42: iload_2
      43: invokestatic  #17                 // Method org/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor.access$000:(Lorg/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;Z)V
      46: goto          59
      49: astore_2
      50: getstatic     #19                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      53: aload_2
      54: invokeinterface #20,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.exceptionReleasingEntity:(Ljava/lang/Throwable;)V
      59: return
    Exception table:
       from    to  target type
           0    46    49   Class java/lang/Exception

  private void handleThrowableInTxSync(org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance, java.lang.Throwable);
    Code:
       0: getstatic     #19                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
       3: aload_1
       4: aload_2
       5: invokeinterface #21,  3           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.discardingEntityComponent:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;Ljava/lang/Throwable;)V
      10: aload_1
      11: invokevirtual #22                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.discard:()V
      14: aload_0
      15: getfield      #1                  // Field this$0:Lorg/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor;
      18: aload_1
      19: invokestatic  #23                 // Method org/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor.access$100:(Lorg/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)V
      22: goto          36
      25: astore_3
      26: aload_0
      27: getfield      #1                  // Field this$0:Lorg/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor;
      30: aload_1
      31: invokestatic  #23                 // Method org/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor.access$100:(Lorg/jboss/as/ejb3/component/entity/interceptors/EntityBeanSynchronizationInterceptor;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)V
      34: aload_3
      35: athrow
      36: aload_2
      37: instanceof    #24                 // class java/lang/RuntimeException
      40: ifeq          48
      43: aload_2
      44: checkcast     #24                 // class java/lang/RuntimeException
      47: athrow
      48: aload_2
      49: instanceof    #25                 // class java/lang/Error
      52: ifeq          60
      55: aload_2
      56: checkcast     #25                 // class java/lang/Error
      59: athrow
      60: new           #26                 // class javax/ejb/EJBException
      63: dup
      64: invokespecial #27                 // Method javax/ejb/EJBException."<init>":()V
      67: aload_2
      68: invokevirtual #28                 // Method javax/ejb/EJBException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
      71: checkcast     #26                 // class javax/ejb/EJBException
      74: athrow
    Exception table:
       from    to  target type
          10    14    25   any
}
