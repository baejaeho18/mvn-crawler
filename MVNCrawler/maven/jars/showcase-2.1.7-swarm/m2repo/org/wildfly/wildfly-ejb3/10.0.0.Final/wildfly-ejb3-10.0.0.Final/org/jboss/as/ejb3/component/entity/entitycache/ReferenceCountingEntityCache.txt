Compiled from "ReferenceCountingEntityCache.java"
public class org.jboss.as.ejb3.component.entity.entitycache.ReferenceCountingEntityCache implements org.jboss.as.ejb3.component.entity.entitycache.ReadyEntityCache {
  private final java.util.concurrent.ConcurrentMap<java.lang.Object, org.jboss.as.ejb3.component.entity.entitycache.ReferenceCountingEntityCache$CacheEntry> cache;

  private final org.jboss.as.ejb3.component.entity.EntityBeanComponent component;

  public org.jboss.as.ejb3.component.entity.entitycache.ReferenceCountingEntityCache(org.jboss.as.ejb3.component.entity.EntityBeanComponent);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field component:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponent;
      20: return

  public synchronized void create(org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #6                  // Method realCreate:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;
       5: astore_2
       6: aload_2
       7: invokestatic  #7                  // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$000:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Ljava/util/concurrent/atomic/AtomicInteger;
      10: invokevirtual #8                  // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      13: pop
      14: return

  private org.jboss.as.ejb3.component.entity.entitycache.ReferenceCountingEntityCache$CacheEntry realCreate(org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance);
    Code:
       0: new           #9                  // class org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry
       3: dup
       4: aload_0
       5: aload_1
       6: aconst_null
       7: invokespecial #10                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry."<init>":(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$1;)V
      10: astore_2
      11: aload_0
      12: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      15: aload_1
      16: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      19: aload_2
      20: invokeinterface #12,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #9                  // class org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry
      28: astore_3
      29: aload_3
      30: ifnull        65
      33: aload_3
      34: invokestatic  #13                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$200:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      37: invokevirtual #14                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isRemoved:()Z
      40: ifeq          52
      43: aload_3
      44: aload_1
      45: invokestatic  #15                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$302:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      48: pop
      49: goto          65
      52: getstatic     #16                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      55: aload_1
      56: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      59: invokeinterface #17,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.instanceAlreadyRegisteredForPK:(Ljava/lang/Object;)Ljava/lang/IllegalStateException;
      64: athrow
      65: aload_2
      66: areturn

  public synchronized boolean contains(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #18,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      10: ifeq          29
      13: aload_0
      14: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      17: aload_1
      18: invokeinterface #19,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #9                  // class org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry
      26: astore_2
      27: iconst_1
      28: ireturn
      29: iconst_0
      30: ireturn

  public synchronized boolean containsNotRemoved(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #18,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      10: ifeq          66
      13: aload_0
      14: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      17: aload_1
      18: invokeinterface #19,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #9                  // class org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry
      26: astore_2
      27: aload_2
      28: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      31: ifnull        50
      34: aload_2
      35: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      38: invokevirtual #14                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isRemoved:()Z
      41: ifne          48
      44: iconst_1
      45: goto          49
      48: iconst_0
      49: ireturn
      50: aload_2
      51: invokestatic  #13                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$200:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      54: invokevirtual #14                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isRemoved:()Z
      57: ifne          64
      60: iconst_1
      61: goto          65
      64: iconst_0
      65: ireturn
      66: iconst_0
      67: ireturn

  public synchronized org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance get(java.lang.Object) throws javax.ejb.NoSuchEntityException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #18,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      10: ifne          25
      13: aload_0
      14: aload_1
      15: invokespecial #21                 // Method createInstance:(Ljava/lang/Object;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      18: astore_2
      19: aload_0
      20: aload_2
      21: invokespecial #6                  // Method realCreate:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;
      24: pop
      25: aload_0
      26: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      29: aload_1
      30: invokeinterface #19,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      35: checkcast     #9                  // class org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry
      38: astore_2
      39: aload_2
      40: invokestatic  #7                  // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$000:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Ljava/util/concurrent/atomic/AtomicInteger;
      43: invokevirtual #8                  // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      46: pop
      47: aload_2
      48: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      51: ifnull        59
      54: aload_2
      55: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      58: areturn
      59: aload_2
      60: invokestatic  #13                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$200:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      63: areturn

  public synchronized void release(org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance, boolean);
    Code:
       0: aload_1
       1: invokevirtual #22                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isDiscarded:()Z
       4: ifeq          8
       7: return
       8: aload_1
       9: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      12: ifnonnull     16
      15: return
      16: aload_0
      17: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      20: aload_1
      21: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      24: invokeinterface #19,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      29: checkcast     #9                  // class org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry
      32: astore_3
      33: aload_3
      34: ifnonnull     47
      37: getstatic     #16                 // Field org/jboss/as/ejb3/logging/EjbLogger.ROOT_LOGGER:Lorg/jboss/as/ejb3/logging/EjbLogger;
      40: aload_1
      41: invokeinterface #23,  2           // InterfaceMethod org/jboss/as/ejb3/logging/EjbLogger.entityBeanInstanceNotFoundInCache:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)Ljava/lang/IllegalStateException;
      46: athrow
      47: aload_3
      48: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      51: ifnull        109
      54: aload_1
      55: aload_3
      56: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      59: if_acmpne     109
      62: iload_2
      63: ifeq          78
      66: aload_3
      67: aload_3
      68: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      71: invokestatic  #24                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$202:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      74: pop
      75: goto          103
      78: aload_3
      79: invokestatic  #13                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$200:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      82: invokevirtual #22                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isDiscarded:()Z
      85: ifeq          103
      88: aload_0
      89: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      92: aload_1
      93: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      96: invokeinterface #25,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     101: pop
     102: return
     103: aload_3
     104: aconst_null
     105: invokestatic  #15                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$302:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
     108: pop
     109: iload_2
     110: ifne          125
     113: aload_1
     114: invokevirtual #14                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.isRemoved:()Z
     117: ifeq          125
     120: aload_1
     121: iconst_0
     122: invokevirtual #26                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.setRemoved:(Z)V
     125: aload_3
     126: invokestatic  #7                  // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$000:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Ljava/util/concurrent/atomic/AtomicInteger;
     129: invokevirtual #27                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
     132: ifne          185
     135: aload_1
     136: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
     139: astore        4
     141: aload_1
     142: invokevirtual #28                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.passivate:()V
     145: aload_0
     146: getfield      #5                  // Field component:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponent;
     149: aload_1
     150: invokevirtual #29                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponent.releaseEntityBeanInstance:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)V
     153: aload_0
     154: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
     157: aload         4
     159: invokeinterface #25,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     164: pop
     165: goto          185
     168: astore        5
     170: aload_0
     171: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
     174: aload         4
     176: invokeinterface #25,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     181: pop
     182: aload         5
     184: athrow
     185: return
    Exception table:
       from    to  target type
         141   153   168   any
         168   170   168   any

  public synchronized void discard(org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance);
    Code:
       0: aload_1
       1: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
       4: ifnonnull     8
       7: return
       8: aload_0
       9: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      12: aload_1
      13: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      16: invokeinterface #19,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      21: checkcast     #9                  // class org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry
      24: astore_2
      25: aload_2
      26: ifnull        75
      29: aload_1
      30: aload_2
      31: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      34: if_acmpne     46
      37: aload_2
      38: aconst_null
      39: invokestatic  #15                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$302:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      42: pop
      43: goto          67
      46: aload_2
      47: invokestatic  #20                 // Method org/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry.access$300:(Lorg/jboss/as/ejb3/component/entity/entitycache/ReferenceCountingEntityCache$CacheEntry;)Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
      50: ifnonnull     67
      53: aload_0
      54: getfield      #4                  // Field cache:Ljava/util/concurrent/ConcurrentMap;
      57: aload_1
      58: invokevirtual #11                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.getPrimaryKey:()Ljava/lang/Object;
      61: invokeinterface #25,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      66: pop
      67: aload_0
      68: getfield      #5                  // Field component:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponent;
      71: aload_1
      72: invokevirtual #30                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponent.discardEntityBeanInstance:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)V
      75: return

  public void start();
    Code:
       0: return

  public void stop();
    Code:
       0: return

  private org.jboss.as.ejb3.component.entity.EntityBeanComponentInstance createInstance(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #5                  // Field component:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponent;
       4: invokevirtual #31                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponent.acquireUnAssociatedInstance:()Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;
       7: astore_2
       8: iconst_1
       9: istore_3
      10: aload_2
      11: aload_1
      12: invokevirtual #32                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponentInstance.activate:(Ljava/lang/Object;)V
      15: iconst_0
      16: istore_3
      17: aload_2
      18: astore        4
      20: iload_3
      21: ifeq          32
      24: aload_0
      25: getfield      #5                  // Field component:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponent;
      28: aload_2
      29: invokevirtual #30                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponent.discardEntityBeanInstance:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)V
      32: aload         4
      34: areturn
      35: astore        5
      37: iload_3
      38: ifeq          49
      41: aload_0
      42: getfield      #5                  // Field component:Lorg/jboss/as/ejb3/component/entity/EntityBeanComponent;
      45: aload_2
      46: invokevirtual #30                 // Method org/jboss/as/ejb3/component/entity/EntityBeanComponent.discardEntityBeanInstance:(Lorg/jboss/as/ejb3/component/entity/EntityBeanComponentInstance;)V
      49: aload         5
      51: athrow
    Exception table:
       from    to  target type
          10    20    35   any
          35    37    35   any
}
