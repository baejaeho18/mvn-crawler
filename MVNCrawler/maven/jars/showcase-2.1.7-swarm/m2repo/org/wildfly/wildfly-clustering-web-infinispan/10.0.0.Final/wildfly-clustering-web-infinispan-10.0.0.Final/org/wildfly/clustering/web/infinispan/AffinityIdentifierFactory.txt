Compiled from "AffinityIdentifierFactory.java"
public class org.wildfly.clustering.web.infinispan.AffinityIdentifierFactory<K> implements org.wildfly.clustering.web.IdentifierFactory<K>, org.infinispan.affinity.KeyGenerator<org.wildfly.clustering.infinispan.spi.distribution.Key<K>> {
  private final org.wildfly.clustering.web.IdentifierFactory<K> factory;

  private final org.infinispan.affinity.KeyAffinityService<? extends org.wildfly.clustering.infinispan.spi.distribution.Key<K>> affinity;

  private final org.infinispan.manager.EmbeddedCacheManager manager;

  public org.wildfly.clustering.web.infinispan.AffinityIdentifierFactory(org.wildfly.clustering.web.IdentifierFactory<K>, org.infinispan.Cache<org.wildfly.clustering.infinispan.spi.distribution.Key<K>, ?>, org.wildfly.clustering.infinispan.spi.affinity.KeyAffinityServiceFactory);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field factory:Lorg/wildfly/clustering/web/IdentifierFactory;
       9: aload_0
      10: aload_3
      11: aload_2
      12: aload_0
      13: invokeinterface #3,  3            // InterfaceMethod org/wildfly/clustering/infinispan/spi/affinity/KeyAffinityServiceFactory.createService:(Lorg/infinispan/Cache;Lorg/infinispan/affinity/KeyGenerator;)Lorg/infinispan/affinity/KeyAffinityService;
      18: putfield      #4                  // Field affinity:Lorg/infinispan/affinity/KeyAffinityService;
      21: aload_0
      22: aload_2
      23: invokeinterface #5,  1            // InterfaceMethod org/infinispan/Cache.getCacheManager:()Lorg/infinispan/manager/EmbeddedCacheManager;
      28: putfield      #6                  // Field manager:Lorg/infinispan/manager/EmbeddedCacheManager;
      31: return

  public K createIdentifier();
    Code:
       0: aload_0
       1: getfield      #4                  // Field affinity:Lorg/infinispan/affinity/KeyAffinityService;
       4: aload_0
       5: getfield      #6                  // Field manager:Lorg/infinispan/manager/EmbeddedCacheManager;
       8: invokeinterface #7,  1            // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      13: invokeinterface #8,  2            // InterfaceMethod org/infinispan/affinity/KeyAffinityService.getKeyForAddress:(Lorg/infinispan/remoting/transport/Address;)Ljava/lang/Object;
      18: checkcast     #9                  // class org/wildfly/clustering/infinispan/spi/distribution/Key
      21: invokevirtual #10                 // Method org/wildfly/clustering/infinispan/spi/distribution/Key.getValue:()Ljava/lang/Object;
      24: areturn

  public org.wildfly.clustering.infinispan.spi.distribution.Key<K> getKey();
    Code:
       0: new           #9                  // class org/wildfly/clustering/infinispan/spi/distribution/Key
       3: dup
       4: aload_0
       5: getfield      #2                  // Field factory:Lorg/wildfly/clustering/web/IdentifierFactory;
       8: invokeinterface #11,  1           // InterfaceMethod org/wildfly/clustering/web/IdentifierFactory.createIdentifier:()Ljava/lang/Object;
      13: invokespecial #12                 // Method org/wildfly/clustering/infinispan/spi/distribution/Key."<init>":(Ljava/lang/Object;)V
      16: areturn

  public void start();
    Code:
       0: aload_0
       1: getfield      #2                  // Field factory:Lorg/wildfly/clustering/web/IdentifierFactory;
       4: invokeinterface #13,  1           // InterfaceMethod org/wildfly/clustering/web/IdentifierFactory.start:()V
       9: aload_0
      10: getfield      #4                  // Field affinity:Lorg/infinispan/affinity/KeyAffinityService;
      13: invokeinterface #14,  1           // InterfaceMethod org/infinispan/affinity/KeyAffinityService.start:()V
      18: return

  public void stop();
    Code:
       0: aload_0
       1: getfield      #4                  // Field affinity:Lorg/infinispan/affinity/KeyAffinityService;
       4: invokeinterface #15,  1           // InterfaceMethod org/infinispan/affinity/KeyAffinityService.stop:()V
       9: aload_0
      10: getfield      #2                  // Field factory:Lorg/wildfly/clustering/web/IdentifierFactory;
      13: invokeinterface #16,  1           // InterfaceMethod org/wildfly/clustering/web/IdentifierFactory.stop:()V
      18: return

  public java.lang.Object getKey();
    Code:
       0: aload_0
       1: invokevirtual #17                 // Method getKey:()Lorg/wildfly/clustering/infinispan/spi/distribution/Key;
       4: areturn
}
