Compiled from "VFSResourceLoader.java"
class org.jboss.as.server.deployment.module.VFSResourceLoader$2 implements java.security.PrivilegedExceptionAction<org.jboss.modules.ClassSpec> {
  final java.lang.String val$name;

  final org.jboss.as.server.deployment.module.VFSResourceLoader this$0;

  org.jboss.as.server.deployment.module.VFSResourceLoader$2(org.jboss.as.server.deployment.module.VFSResourceLoader, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/as/server/deployment/module/VFSResourceLoader;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$name:Ljava/lang/String;
      10: aload_0
      11: invokespecial #3                  // Method java/lang/Object."<init>":()V
      14: return

  public org.jboss.modules.ClassSpec run() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jboss/as/server/deployment/module/VFSResourceLoader;
       4: invokestatic  #4                  // Method org/jboss/as/server/deployment/module/VFSResourceLoader.access$000:(Lorg/jboss/as/server/deployment/module/VFSResourceLoader;)Lorg/jboss/vfs/VirtualFile;
       7: aload_0
       8: getfield      #2                  // Field val$name:Ljava/lang/String;
      11: invokevirtual #5                  // Method org/jboss/vfs/VirtualFile.getChild:(Ljava/lang/String;)Lorg/jboss/vfs/VirtualFile;
      14: astore_1
      15: aload_1
      16: invokevirtual #6                  // Method org/jboss/vfs/VirtualFile.exists:()Z
      19: ifne          24
      22: aconst_null
      23: areturn
      24: aload_1
      25: invokevirtual #7                  // Method org/jboss/vfs/VirtualFile.getSize:()J
      28: lstore_2
      29: new           #8                  // class org/jboss/modules/ClassSpec
      32: dup
      33: invokespecial #9                  // Method org/jboss/modules/ClassSpec."<init>":()V
      36: astore        4
      38: aload_0
      39: getfield      #1                  // Field this$0:Lorg/jboss/as/server/deployment/module/VFSResourceLoader;
      42: dup
      43: astore        5
      45: monitorenter
      46: aload_1
      47: invokevirtual #10                 // Method org/jboss/vfs/VirtualFile.openStream:()Ljava/io/InputStream;
      50: astore        6
      52: lload_2
      53: ldc2_w        #12                 // long 2147483647l
      56: lcmp
      57: ifgt          241
      60: lload_2
      61: l2i
      62: istore        7
      64: iload         7
      66: newarray       byte
      68: astore        8
      70: iconst_0
      71: istore        9
      73: aload         6
      75: aload         8
      77: iload         9
      79: iload         7
      81: iload         9
      83: isub
      84: invokevirtual #14                 // Method java/io/InputStream.read:([BII)I
      87: dup
      88: istore        10
      90: ifle          103
      93: iload         9
      95: iload         10
      97: iadd
      98: istore        9
     100: goto          73
     103: aload         6
     105: invokevirtual #15                 // Method java/io/InputStream.read:()I
     108: iconst_m1
     109: if_icmpeq     115
     112: goto          103
     115: aload         6
     117: invokevirtual #16                 // Method java/io/InputStream.close:()V
     120: aload         4
     122: aload         8
     124: invokevirtual #17                 // Method org/jboss/modules/ClassSpec.setBytes:([B)V
     127: aload_1
     128: invokevirtual #18                 // Method org/jboss/vfs/VirtualFile.getCodeSigners:()[Ljava/security/CodeSigner;
     131: astore        11
     133: aload         11
     135: ifnull        144
     138: aload         11
     140: arraylength
     141: ifne          150
     144: getstatic     #19                 // Field org/jboss/as/server/deployment/module/VFSResourceLoader.EMPTY_CODE_SIGNERS:Lorg/jboss/as/server/deployment/module/VFSResourceLoader$CodeSigners;
     147: goto          159
     150: new           #20                 // class org/jboss/as/server/deployment/module/VFSResourceLoader$CodeSigners
     153: dup
     154: aload         11
     156: invokespecial #21                 // Method org/jboss/as/server/deployment/module/VFSResourceLoader$CodeSigners."<init>":([Ljava/security/CodeSigner;)V
     159: astore        12
     161: aload_0
     162: getfield      #1                  // Field this$0:Lorg/jboss/as/server/deployment/module/VFSResourceLoader;
     165: invokestatic  #22                 // Method org/jboss/as/server/deployment/module/VFSResourceLoader.access$100:(Lorg/jboss/as/server/deployment/module/VFSResourceLoader;)Ljava/util/Map;
     168: aload         12
     170: invokeinterface #23,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     175: checkcast     #24                 // class java/security/CodeSource
     178: astore        13
     180: aload         13
     182: ifnonnull     219
     185: aload_0
     186: getfield      #1                  // Field this$0:Lorg/jboss/as/server/deployment/module/VFSResourceLoader;
     189: invokestatic  #22                 // Method org/jboss/as/server/deployment/module/VFSResourceLoader.access$100:(Lorg/jboss/as/server/deployment/module/VFSResourceLoader;)Ljava/util/Map;
     192: aload         12
     194: new           #24                 // class java/security/CodeSource
     197: dup
     198: aload_0
     199: getfield      #1                  // Field this$0:Lorg/jboss/as/server/deployment/module/VFSResourceLoader;
     202: invokestatic  #25                 // Method org/jboss/as/server/deployment/module/VFSResourceLoader.access$200:(Lorg/jboss/as/server/deployment/module/VFSResourceLoader;)Ljava/net/URL;
     205: aload         11
     207: invokespecial #26                 // Method java/security/CodeSource."<init>":(Ljava/net/URL;[Ljava/security/CodeSigner;)V
     210: dup
     211: astore        13
     213: invokeinterface #27,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     218: pop
     219: aload         4
     221: aload         13
     223: invokevirtual #28                 // Method org/jboss/modules/ClassSpec.setCodeSource:(Ljava/security/CodeSource;)V
     226: aload         4
     228: astore        14
     230: aload         6
     232: invokestatic  #29                 // Method org/jboss/vfs/VFSUtils.safeClose:(Ljava/io/Closeable;)V
     235: aload         5
     237: monitorexit
     238: aload         14
     240: areturn
     241: getstatic     #30                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     244: invokeinterface #31,  1           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.resourceTooLarge:()Ljava/io/IOException;
     249: athrow
     250: astore        15
     252: aload         6
     254: invokestatic  #29                 // Method org/jboss/vfs/VFSUtils.safeClose:(Ljava/io/Closeable;)V
     257: aload         15
     259: athrow
     260: astore        16
     262: aload         5
     264: monitorexit
     265: aload         16
     267: athrow
    Exception table:
       from    to  target type
          52   230   250   any
         241   252   250   any
          46   238   260   any
         241   265   260   any

  public java.lang.Object run() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #32                 // Method run:()Lorg/jboss/modules/ClassSpec;
       4: areturn
}
