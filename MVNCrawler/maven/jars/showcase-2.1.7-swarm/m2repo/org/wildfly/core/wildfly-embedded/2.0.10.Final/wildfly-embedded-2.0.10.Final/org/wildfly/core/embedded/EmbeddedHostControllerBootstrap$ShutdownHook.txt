Compiled from "EmbeddedHostControllerBootstrap.java"
class org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$ShutdownHook extends java.lang.Thread {
  private boolean down;

  private org.jboss.as.controller.ControlledProcessState processState;

  private org.jboss.msc.service.ServiceContainer container;

  private org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$ShutdownHook();
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Thread."<init>":()V
       4: return

  private org.jboss.msc.service.ServiceContainer register();
    Code:
       0: invokestatic  #5                  // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
       3: aload_0
       4: invokevirtual #6                  // Method java/lang/Runtime.addShutdownHook:(Ljava/lang/Thread;)V
       7: aload_0
       8: dup
       9: astore_1
      10: monitorenter
      11: aload_0
      12: getfield      #7                  // Field down:Z
      15: ifne          35
      18: aload_0
      19: ldc           #8                  // String host-controller
      21: iconst_0
      22: invokestatic  #9                  // Method org/jboss/msc/service/ServiceContainer$Factory.create:(Ljava/lang/String;Z)Lorg/jboss/msc/service/ServiceContainer;
      25: putfield      #10                 // Field container:Lorg/jboss/msc/service/ServiceContainer;
      28: aload_0
      29: getfield      #10                 // Field container:Lorg/jboss/msc/service/ServiceContainer;
      32: aload_1
      33: monitorexit
      34: areturn
      35: new           #11                 // class java/lang/IllegalStateException
      38: dup
      39: invokespecial #12                 // Method java/lang/IllegalStateException."<init>":()V
      42: athrow
      43: astore_2
      44: aload_1
      45: monitorexit
      46: aload_2
      47: athrow
    Exception table:
       from    to  target type
          11    34    43   any
          35    46    43   any

  private synchronized void setControlledProcessState(org.jboss.as.controller.ControlledProcessState);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #13                 // Field processState:Lorg/jboss/as/controller/ControlledProcessState;
       5: return

  public void run();
    Code:
       0: aload_0
       1: dup
       2: astore_3
       3: monitorenter
       4: aload_0
       5: iconst_1
       6: putfield      #7                  // Field down:Z
       9: aload_0
      10: getfield      #10                 // Field container:Lorg/jboss/msc/service/ServiceContainer;
      13: astore_1
      14: aload_0
      15: getfield      #13                 // Field processState:Lorg/jboss/as/controller/ControlledProcessState;
      18: astore_2
      19: aload_3
      20: monitorexit
      21: goto          31
      24: astore        4
      26: aload_3
      27: monitorexit
      28: aload         4
      30: athrow
      31: aload_2
      32: ifnull        39
      35: aload_2
      36: invokevirtual #14                 // Method org/jboss/as/controller/ControlledProcessState.setStopping:()V
      39: aload_1
      40: ifnull        142
      43: new           #15                 // class java/util/concurrent/CountDownLatch
      46: dup
      47: iconst_1
      48: invokespecial #16                 // Method java/util/concurrent/CountDownLatch."<init>":(I)V
      51: astore_3
      52: aload_1
      53: new           #17                 // class org/wildfly/core/embedded/EmbeddedHostControllerBootstrap$ShutdownHook$1
      56: dup
      57: aload_0
      58: aload_3
      59: invokespecial #18                 // Method org/wildfly/core/embedded/EmbeddedHostControllerBootstrap$ShutdownHook$1."<init>":(Lorg/wildfly/core/embedded/EmbeddedHostControllerBootstrap$ShutdownHook;Ljava/util/concurrent/CountDownLatch;)V
      62: invokeinterface #19,  2           // InterfaceMethod org/jboss/msc/service/ServiceContainer.addTerminateListener:(Lorg/jboss/msc/service/ServiceContainer$TerminateListener;)V
      67: aload_1
      68: invokeinterface #20,  1           // InterfaceMethod org/jboss/msc/service/ServiceContainer.shutdown:()V
      73: aload_3
      74: invokevirtual #21                 // Method java/util/concurrent/CountDownLatch.await:()V
      77: goto          85
      80: astore        4
      82: goto          73
      85: goto          142
      88: astore        5
      90: aload_1
      91: ifnull        139
      94: new           #15                 // class java/util/concurrent/CountDownLatch
      97: dup
      98: iconst_1
      99: invokespecial #16                 // Method java/util/concurrent/CountDownLatch."<init>":(I)V
     102: astore        6
     104: aload_1
     105: new           #17                 // class org/wildfly/core/embedded/EmbeddedHostControllerBootstrap$ShutdownHook$1
     108: dup
     109: aload_0
     110: aload         6
     112: invokespecial #18                 // Method org/wildfly/core/embedded/EmbeddedHostControllerBootstrap$ShutdownHook$1."<init>":(Lorg/wildfly/core/embedded/EmbeddedHostControllerBootstrap$ShutdownHook;Ljava/util/concurrent/CountDownLatch;)V
     115: invokeinterface #19,  2           // InterfaceMethod org/jboss/msc/service/ServiceContainer.addTerminateListener:(Lorg/jboss/msc/service/ServiceContainer$TerminateListener;)V
     120: aload_1
     121: invokeinterface #20,  1           // InterfaceMethod org/jboss/msc/service/ServiceContainer.shutdown:()V
     126: aload         6
     128: invokevirtual #21                 // Method java/util/concurrent/CountDownLatch.await:()V
     131: goto          139
     134: astore        7
     136: goto          126
     139: aload         5
     141: athrow
     142: return
    Exception table:
       from    to  target type
           4    21    24   any
          24    28    24   any
          73    77    80   Class java/lang/InterruptedException
          31    39    88   any
         126   131   134   Class java/lang/InterruptedException
          88    90    88   any

  org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$ShutdownHook(org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$1);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method "<init>":()V
       4: return

  static org.jboss.msc.service.ServiceContainer access$100(org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$ShutdownHook);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method register:()Lorg/jboss/msc/service/ServiceContainer;
       4: areturn

  static void access$200(org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$ShutdownHook, org.jboss.as.controller.ControlledProcessState);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method setControlledProcessState:(Lorg/jboss/as/controller/ControlledProcessState;)V
       5: return
}
