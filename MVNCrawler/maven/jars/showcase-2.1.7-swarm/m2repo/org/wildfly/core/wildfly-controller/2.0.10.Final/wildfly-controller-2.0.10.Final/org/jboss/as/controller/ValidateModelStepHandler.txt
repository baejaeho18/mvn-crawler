Compiled from "ValidateModelStepHandler.java"
class org.jboss.as.controller.ValidateModelStepHandler implements org.jboss.as.controller.OperationStepHandler {
  private static volatile org.jboss.as.controller.ValidateModelStepHandler INSTANCE;

  private final org.jboss.as.controller.OperationStepHandler extraValidationStepHandler;

  private org.jboss.as.controller.ValidateModelStepHandler(org.jboss.as.controller.OperationStepHandler);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field extraValidationStepHandler:Lorg/jboss/as/controller/OperationStepHandler;
       9: return

  static org.jboss.as.controller.ValidateModelStepHandler getInstance(org.jboss.as.controller.OperationStepHandler);
    Code:
       0: getstatic     #3                  // Field INSTANCE:Lorg/jboss/as/controller/ValidateModelStepHandler;
       3: ifnonnull     38
       6: ldc           #4                  // class org/jboss/as/controller/ValidateModelStepHandler
       8: dup
       9: astore_1
      10: monitorenter
      11: getstatic     #3                  // Field INSTANCE:Lorg/jboss/as/controller/ValidateModelStepHandler;
      14: ifnonnull     28
      17: new           #4                  // class org/jboss/as/controller/ValidateModelStepHandler
      20: dup
      21: aload_0
      22: invokespecial #5                  // Method "<init>":(Lorg/jboss/as/controller/OperationStepHandler;)V
      25: putstatic     #3                  // Field INSTANCE:Lorg/jboss/as/controller/ValidateModelStepHandler;
      28: aload_1
      29: monitorexit
      30: goto          38
      33: astore_2
      34: aload_1
      35: monitorexit
      36: aload_2
      37: athrow
      38: getstatic     #3                  // Field INSTANCE:Lorg/jboss/as/controller/ValidateModelStepHandler;
      41: areturn
    Exception table:
       from    to  target type
          11    30    33   any
          33    36    33   any

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #6                  // Method loadResource:(Lorg/jboss/as/controller/OperationContext;)Lorg/jboss/as/controller/registry/Resource;
       5: astore_3
       6: aload_3
       7: ifnonnull     11
      10: return
      11: aload_0
      12: getfield      #2                  // Field extraValidationStepHandler:Lorg/jboss/as/controller/OperationStepHandler;
      15: ifnull        32
      18: aload_1
      19: aload_2
      20: aload_0
      21: getfield      #2                  // Field extraValidationStepHandler:Lorg/jboss/as/controller/OperationStepHandler;
      24: getstatic     #7                  // Field org/jboss/as/controller/OperationContext$Stage.MODEL:Lorg/jboss/as/controller/OperationContext$Stage;
      27: invokeinterface #8,  4            // InterfaceMethod org/jboss/as/controller/OperationContext.addStep:(Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/controller/OperationStepHandler;Lorg/jboss/as/controller/OperationContext$Stage;)V
      32: aload_3
      33: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
      38: astore        4
      40: aload_1
      41: invokeinterface #10,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getResourceRegistration:()Lorg/jboss/as/controller/registry/ImmutableManagementResourceRegistration;
      46: astore        5
      48: aload         5
      50: getstatic     #11                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
      53: invokeinterface #12,  2           // InterfaceMethod org/jboss/as/controller/registry/ImmutableManagementResourceRegistration.getAttributeNames:(Lorg/jboss/as/controller/PathAddress;)Ljava/util/Set;
      58: astore        6
      60: aload         6
      62: invokeinterface #13,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      67: astore        7
      69: aload         7
      71: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      76: ifeq          380
      79: aload         7
      81: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      86: checkcast     #16                 // class java/lang/String
      89: astore        8
      91: aload         4
      93: aload         8
      95: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      98: istore        9
     100: aload_1
     101: invokeinterface #10,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getResourceRegistration:()Lorg/jboss/as/controller/registry/ImmutableManagementResourceRegistration;
     106: getstatic     #11                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
     109: aload         8
     111: invokeinterface #18,  3           // InterfaceMethod org/jboss/as/controller/registry/ImmutableManagementResourceRegistration.getAttributeAccess:(Lorg/jboss/as/controller/PathAddress;Ljava/lang/String;)Lorg/jboss/as/controller/registry/AttributeAccess;
     116: astore        10
     118: aload         10
     120: invokevirtual #19                 // Method org/jboss/as/controller/registry/AttributeAccess.getStorageType:()Lorg/jboss/as/controller/registry/AttributeAccess$Storage;
     123: getstatic     #20                 // Field org/jboss/as/controller/registry/AttributeAccess$Storage.CONFIGURATION:Lorg/jboss/as/controller/registry/AttributeAccess$Storage;
     126: if_acmpeq     132
     129: goto          69
     132: aload         10
     134: invokevirtual #21                 // Method org/jboss/as/controller/registry/AttributeAccess.getAttributeDefinition:()Lorg/jboss/as/controller/AttributeDefinition;
     137: astore        11
     139: iload         9
     141: ifne          174
     144: aload_0
     145: aload         11
     147: aload         4
     149: invokespecial #22                 // Method isRequired:(Lorg/jboss/as/controller/AttributeDefinition;Lorg/jboss/dmr/ModelNode;)Z
     152: ifeq          174
     155: aload_0
     156: aload_1
     157: aload         10
     159: aload         8
     161: new           #23                 // class org/jboss/as/controller/ValidateModelStepHandler$1
     164: dup
     165: aload_0
     166: aload         8
     168: invokespecial #24                 // Method org/jboss/as/controller/ValidateModelStepHandler$1."<init>":(Lorg/jboss/as/controller/ValidateModelStepHandler;Ljava/lang/String;)V
     171: invokespecial #25                 // Method attemptReadMissingAttributeValueFromHandler:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/as/controller/registry/AttributeAccess;Ljava/lang/String;Lorg/jboss/as/controller/ValidateModelStepHandler$ErrorHandler;)V
     174: iload         9
     176: ifne          182
     179: goto          69
     182: aload         11
     184: invokevirtual #26                 // Method org/jboss/as/controller/AttributeDefinition.getRequires:()[Ljava/lang/String;
     187: ifnull        256
     190: aload         11
     192: invokevirtual #26                 // Method org/jboss/as/controller/AttributeDefinition.getRequires:()[Ljava/lang/String;
     195: astore        12
     197: aload         12
     199: arraylength
     200: istore        13
     202: iconst_0
     203: istore        14
     205: iload         14
     207: iload         13
     209: if_icmpge     256
     212: aload         12
     214: iload         14
     216: aaload
     217: astore        15
     219: aload         4
     221: aload         15
     223: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     226: ifne          250
     229: aload_0
     230: aload_1
     231: aload         10
     233: aload         8
     235: new           #27                 // class org/jboss/as/controller/ValidateModelStepHandler$2
     238: dup
     239: aload_0
     240: aload         15
     242: aload         11
     244: invokespecial #28                 // Method org/jboss/as/controller/ValidateModelStepHandler$2."<init>":(Lorg/jboss/as/controller/ValidateModelStepHandler;Ljava/lang/String;Lorg/jboss/as/controller/AttributeDefinition;)V
     247: invokespecial #25                 // Method attemptReadMissingAttributeValueFromHandler:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/as/controller/registry/AttributeAccess;Ljava/lang/String;Lorg/jboss/as/controller/ValidateModelStepHandler$ErrorHandler;)V
     250: iinc          14, 1
     253: goto          205
     256: aload_0
     257: aload         11
     259: aload         4
     261: invokespecial #29                 // Method isAllowed:(Lorg/jboss/as/controller/AttributeDefinition;Lorg/jboss/dmr/ModelNode;)Z
     264: ifne          377
     267: aload         11
     269: invokevirtual #30                 // Method org/jboss/as/controller/AttributeDefinition.getAlternatives:()[Ljava/lang/String;
     272: astore        12
     274: aconst_null
     275: astore        13
     277: aload         12
     279: ifnull        357
     282: aload         12
     284: astore        14
     286: aload         14
     288: arraylength
     289: istore        15
     291: iconst_0
     292: istore        16
     294: iload         16
     296: iload         15
     298: if_icmpge     357
     301: aload         14
     303: iload         16
     305: aaload
     306: astore        17
     308: aload         4
     310: aload         17
     312: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     315: ifeq          351
     318: aload         13
     320: ifnonnull     335
     323: new           #31                 // class java/lang/StringBuilder
     326: dup
     327: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     330: astore        13
     332: goto          343
     335: aload         13
     337: ldc           #33                 // String ,
     339: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     342: pop
     343: aload         13
     345: aload         17
     347: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     350: pop
     351: iinc          16, 1
     354: goto          294
     357: new           #35                 // class org/jboss/as/controller/OperationFailedException
     360: dup
     361: getstatic     #36                 // Field org/jboss/as/controller/logging/ControllerLogger.ROOT_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
     364: aload         8
     366: aload         13
     368: invokeinterface #37,  3           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.invalidAttributeCombo:(Ljava/lang/String;Ljava/lang/StringBuilder;)Ljava/lang/String;
     373: invokespecial #38                 // Method org/jboss/as/controller/OperationFailedException."<init>":(Ljava/lang/String;)V
     376: athrow
     377: goto          69
     380: aload_1
     381: getstatic     #39                 // Field org/jboss/as/controller/OperationContext$RollbackHandler.NOOP_ROLLBACK_HANDLER:Lorg/jboss/as/controller/OperationContext$RollbackHandler;
     384: invokeinterface #40,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.completeStep:(Lorg/jboss/as/controller/OperationContext$RollbackHandler;)V
     389: return

  private void attemptReadMissingAttributeValueFromHandler(org.jboss.as.controller.OperationContext, org.jboss.as.controller.registry.AttributeAccess, java.lang.String, org.jboss.as.controller.ValidateModelStepHandler$ErrorHandler) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_2
       1: invokevirtual #41                 // Method org/jboss/as/controller/registry/AttributeAccess.getReadHandler:()Lorg/jboss/as/controller/OperationStepHandler;
       4: astore        5
       6: aload         5
       8: ifnonnull     21
      11: aload         4
      13: invokeinterface #42,  1           // InterfaceMethod org/jboss/as/controller/ValidateModelStepHandler$ErrorHandler.throwError:()V
      18: goto          79
      21: aload_1
      22: invokeinterface #43,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getCurrentAddress:()Lorg/jboss/as/controller/PathAddress;
      27: aload_3
      28: invokestatic  #44                 // Method org/jboss/as/controller/operations/common/Util.getReadAttributeOperation:(Lorg/jboss/as/controller/PathAddress;Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      31: astore        6
      33: new           #45                 // class org/jboss/dmr/ModelNode
      36: dup
      37: invokespecial #46                 // Method org/jboss/dmr/ModelNode."<init>":()V
      40: astore        7
      42: aload_1
      43: aload         7
      45: aload         6
      47: aload         5
      49: getstatic     #7                  // Field org/jboss/as/controller/OperationContext$Stage.MODEL:Lorg/jboss/as/controller/OperationContext$Stage;
      52: iconst_1
      53: invokeinterface #47,  6           // InterfaceMethod org/jboss/as/controller/OperationContext.addStep:(Lorg/jboss/dmr/ModelNode;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/controller/OperationStepHandler;Lorg/jboss/as/controller/OperationContext$Stage;Z)V
      58: aload_1
      59: new           #48                 // class org/jboss/as/controller/ValidateModelStepHandler$3
      62: dup
      63: aload_0
      64: aload         7
      66: aload         4
      68: invokespecial #49                 // Method org/jboss/as/controller/ValidateModelStepHandler$3."<init>":(Lorg/jboss/as/controller/ValidateModelStepHandler;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/controller/ValidateModelStepHandler$ErrorHandler;)V
      71: getstatic     #7                  // Field org/jboss/as/controller/OperationContext$Stage.MODEL:Lorg/jboss/as/controller/OperationContext$Stage;
      74: invokeinterface #50,  3           // InterfaceMethod org/jboss/as/controller/OperationContext.addStep:(Lorg/jboss/as/controller/OperationStepHandler;Lorg/jboss/as/controller/OperationContext$Stage;)V
      79: return

  private boolean isRequired(org.jboss.as.controller.AttributeDefinition, org.jboss.dmr.ModelNode);
    Code:
       0: aload_1
       1: invokevirtual #51                 // Method org/jboss/as/controller/AttributeDefinition.isAllowNull:()Z
       4: ifne          18
       7: aload_1
       8: invokevirtual #52                 // Method org/jboss/as/controller/AttributeDefinition.isResourceOnly:()Z
      11: ifne          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: istore_3
      20: iload_3
      21: ifeq          44
      24: aload_0
      25: aload_1
      26: invokevirtual #30                 // Method org/jboss/as/controller/AttributeDefinition.getAlternatives:()[Ljava/lang/String;
      29: aload_2
      30: invokespecial #53                 // Method hasAlternative:([Ljava/lang/String;Lorg/jboss/dmr/ModelNode;)Z
      33: ifne          40
      36: iconst_1
      37: goto          45
      40: iconst_0
      41: goto          45
      44: iload_3
      45: ireturn

  private boolean isAllowed(org.jboss.as.controller.AttributeDefinition, org.jboss.dmr.ModelNode);
    Code:
       0: aload_1
       1: invokevirtual #30                 // Method org/jboss/as/controller/AttributeDefinition.getAlternatives:()[Ljava/lang/String;
       4: astore_3
       5: aload_3
       6: ifnull        51
       9: aload_3
      10: astore        4
      12: aload         4
      14: arraylength
      15: istore        5
      17: iconst_0
      18: istore        6
      20: iload         6
      22: iload         5
      24: if_icmpge     51
      27: aload         4
      29: iload         6
      31: aaload
      32: astore        7
      34: aload_2
      35: aload         7
      37: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      40: ifeq          45
      43: iconst_0
      44: ireturn
      45: iinc          6, 1
      48: goto          20
      51: iconst_1
      52: ireturn

  private boolean hasAlternative(java.lang.String[], org.jboss.dmr.ModelNode);
    Code:
       0: aload_1
       1: ifnull        43
       4: aload_1
       5: astore_3
       6: aload_3
       7: arraylength
       8: istore        4
      10: iconst_0
      11: istore        5
      13: iload         5
      15: iload         4
      17: if_icmpge     43
      20: aload_3
      21: iload         5
      23: aaload
      24: astore        6
      26: aload_2
      27: aload         6
      29: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      32: ifeq          37
      35: iconst_1
      36: ireturn
      37: iinc          5, 1
      40: goto          13
      43: iconst_0
      44: ireturn

  private org.jboss.as.controller.registry.Resource loadResource(org.jboss.as.controller.OperationContext);
    Code:
       0: aload_1
       1: invokeinterface #43,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getCurrentAddress:()Lorg/jboss/as/controller/PathAddress;
       6: astore_2
       7: getstatic     #11                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
      10: astore_3
      11: aload_1
      12: getstatic     #11                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
      15: iconst_0
      16: invokeinterface #54,  3           // InterfaceMethod org/jboss/as/controller/OperationContext.readResourceFromRoot:(Lorg/jboss/as/controller/PathAddress;Z)Lorg/jboss/as/controller/registry/Resource;
      21: astore        4
      23: aload_2
      24: invokevirtual #55                 // Method org/jboss/as/controller/PathAddress.iterator:()Ljava/util/ListIterator;
      27: astore        5
      29: aload         5
      31: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      36: ifeq          104
      39: aload         5
      41: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: checkcast     #56                 // class org/jboss/as/controller/PathElement
      49: astore        6
      51: aload         4
      53: invokeinterface #57,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource.isRuntime:()Z
      58: ifeq          63
      61: aconst_null
      62: areturn
      63: aload         4
      65: aload         6
      67: invokeinterface #58,  2           // InterfaceMethod org/jboss/as/controller/registry/Resource.hasChild:(Lorg/jboss/as/controller/PathElement;)Z
      72: ifne          77
      75: aconst_null
      76: areturn
      77: aload_3
      78: iconst_1
      79: anewarray     #56                 // class org/jboss/as/controller/PathElement
      82: dup
      83: iconst_0
      84: aload         6
      86: aastore
      87: invokevirtual #59                 // Method org/jboss/as/controller/PathAddress.append:([Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/PathAddress;
      90: astore_3
      91: aload_1
      92: aload_3
      93: iconst_0
      94: invokeinterface #54,  3           // InterfaceMethod org/jboss/as/controller/OperationContext.readResourceFromRoot:(Lorg/jboss/as/controller/PathAddress;Z)Lorg/jboss/as/controller/registry/Resource;
      99: astore        4
     101: goto          29
     104: aload         4
     106: invokeinterface #57,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource.isRuntime:()Z
     111: ifeq          116
     114: aconst_null
     115: areturn
     116: aload         4
     118: areturn
}
