Compiled from "RemoteFileRequestAndHandler.java"
public abstract class org.jboss.as.repository.RemoteFileRequestAndHandler {
  private final org.jboss.as.repository.RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper protocol;

  private final java.util.concurrent.Executor asyncExecutor;

  protected org.jboss.as.repository.RemoteFileRequestAndHandler(org.jboss.as.repository.RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper);
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokespecial #2                  // Method "<init>":(Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;Ljava/util/concurrent/Executor;)V
       6: return

  protected org.jboss.as.repository.RemoteFileRequestAndHandler(org.jboss.as.repository.RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper, java.util.concurrent.Executor);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
       9: aload_0
      10: aload_2
      11: putfield      #5                  // Field asyncExecutor:Ljava/util/concurrent/Executor;
      14: return

  public void sendRequest(org.jboss.as.protocol.mgmt.FlushableDataOutput, byte, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
       5: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramRootId:()B
      10: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
      15: aload_1
      16: iload_2
      17: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
      22: aload_1
      23: aload_0
      24: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
      27: invokeinterface #8,  1            // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramFilePath:()B
      32: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
      37: aload_1
      38: aload_3
      39: invokeinterface #9,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeUTF:(Ljava/lang/String;)V
      44: return

  public void handleResponse(java.io.DataInput, java.io.File, org.jboss.logging.BasicLogger, org.jboss.as.protocol.mgmt.ActiveOperation$ResultHandler<java.io.File>, org.jboss.as.protocol.mgmt.ManagementRequestContext<java.lang.Void>) throws java.io.IOException, org.jboss.as.repository.RemoteFileRequestAndHandler$CannotCreateLocalDirectoryException, org.jboss.as.repository.RemoteFileRequestAndHandler$DidNotReadEntireFileException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
       5: invokeinterface #10,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramNumFiles:()B
      10: invokestatic  #11                 // Method org/jboss/as/protocol/mgmt/ProtocolUtils.expectHeader:(Ljava/io/DataInput;I)V
      13: aload_1
      14: invokeinterface #12,  1           // InterfaceMethod java/io/DataInput.readInt:()I
      19: istore        6
      21: aload_3
      22: ldc           #13                 // String Received %d files for %s
      24: iload         6
      26: aload_2
      27: invokeinterface #14,  4           // InterfaceMethod org/jboss/logging/BasicLogger.debugf:(Ljava/lang/String;ILjava/lang/Object;)V
      32: iload         6
      34: lookupswitch  { // 2
                    -1: 60
                     0: 63
               default: 80
          }
      60: goto          361
      63: aload_2
      64: invokevirtual #15                 // Method java/io/File.mkdirs:()Z
      67: ifne          361
      70: new           #16                 // class org/jboss/as/repository/RemoteFileRequestAndHandler$CannotCreateLocalDirectoryException
      73: dup
      74: aload_2
      75: aconst_null
      76: invokespecial #17                 // Method org/jboss/as/repository/RemoteFileRequestAndHandler$CannotCreateLocalDirectoryException."<init>":(Ljava/io/File;Lorg/jboss/as/repository/RemoteFileRequestAndHandler$1;)V
      79: athrow
      80: iconst_0
      81: istore        7
      83: iload         7
      85: iload         6
      87: if_icmpge     361
      90: aload_1
      91: aload_0
      92: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
      95: invokeinterface #18,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.fileStart:()B
     100: invokestatic  #11                 // Method org/jboss/as/protocol/mgmt/ProtocolUtils.expectHeader:(Ljava/io/DataInput;I)V
     103: aload_1
     104: aload_0
     105: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
     108: invokeinterface #8,  1            // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramFilePath:()B
     113: invokestatic  #11                 // Method org/jboss/as/protocol/mgmt/ProtocolUtils.expectHeader:(Ljava/io/DataInput;I)V
     116: aload_1
     117: invokeinterface #19,  1           // InterfaceMethod java/io/DataInput.readUTF:()Ljava/lang/String;
     122: astore        8
     124: aload_1
     125: aload_0
     126: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
     129: invokeinterface #20,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramFileSize:()B
     134: invokestatic  #11                 // Method org/jboss/as/protocol/mgmt/ProtocolUtils.expectHeader:(Ljava/io/DataInput;I)V
     137: aload_1
     138: invokeinterface #21,  1           // InterfaceMethod java/io/DataInput.readLong:()J
     143: lstore        9
     145: aload_3
     146: ldc           #22                 // String Received file [%s] of length %d
     148: aload         8
     150: lload         9
     152: invokestatic  #23                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     155: invokeinterface #24,  4           // InterfaceMethod org/jboss/logging/BasicLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     160: new           #25                 // class java/io/File
     163: dup
     164: aload_2
     165: aload         8
     167: invokespecial #26                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     170: astore        11
     172: aload         11
     174: invokevirtual #27                 // Method java/io/File.getParentFile:()Ljava/io/File;
     177: invokevirtual #28                 // Method java/io/File.exists:()Z
     180: ifne          207
     183: aload         11
     185: invokevirtual #27                 // Method java/io/File.getParentFile:()Ljava/io/File;
     188: invokevirtual #15                 // Method java/io/File.mkdirs:()Z
     191: ifne          207
     194: new           #16                 // class org/jboss/as/repository/RemoteFileRequestAndHandler$CannotCreateLocalDirectoryException
     197: dup
     198: aload_2
     199: invokevirtual #27                 // Method java/io/File.getParentFile:()Ljava/io/File;
     202: aconst_null
     203: invokespecial #17                 // Method org/jboss/as/repository/RemoteFileRequestAndHandler$CannotCreateLocalDirectoryException."<init>":(Ljava/io/File;Lorg/jboss/as/repository/RemoteFileRequestAndHandler$1;)V
     206: athrow
     207: lconst_0
     208: lstore        12
     210: aconst_null
     211: astore        14
     213: new           #29                 // class java/io/BufferedOutputStream
     216: dup
     217: new           #30                 // class java/io/FileOutputStream
     220: dup
     221: aload         11
     223: invokespecial #31                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     226: invokespecial #32                 // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;)V
     229: astore        14
     231: sipush        8192
     234: newarray       byte
     236: astore        15
     238: lload         12
     240: lload         9
     242: lcmp
     243: ifge          292
     246: lload         9
     248: lload         12
     250: lsub
     251: l2i
     252: aload         15
     254: arraylength
     255: invokestatic  #33                 // Method java/lang/Math.min:(II)I
     258: istore        16
     260: aload_1
     261: aload         15
     263: iconst_0
     264: iload         16
     266: invokeinterface #34,  4           // InterfaceMethod java/io/DataInput.readFully:([BII)V
     271: aload         14
     273: aload         15
     275: iconst_0
     276: iload         16
     278: invokevirtual #35                 // Method java/io/OutputStream.write:([BII)V
     281: lload         12
     283: iload         16
     285: i2l
     286: ladd
     287: lstore        12
     289: goto          238
     292: aload         14
     294: ifnull        320
     297: aload         14
     299: invokevirtual #36                 // Method java/io/OutputStream.close:()V
     302: goto          320
     305: astore        17
     307: aload         14
     309: ifnull        317
     312: aload         14
     314: invokevirtual #36                 // Method java/io/OutputStream.close:()V
     317: aload         17
     319: athrow
     320: lload         12
     322: lload         9
     324: lcmp
     325: ifeq          342
     328: new           #37                 // class org/jboss/as/repository/RemoteFileRequestAndHandler$DidNotReadEntireFileException
     331: dup
     332: lload         9
     334: lload         12
     336: lsub
     337: aconst_null
     338: invokespecial #38                 // Method org/jboss/as/repository/RemoteFileRequestAndHandler$DidNotReadEntireFileException."<init>":(JLorg/jboss/as/repository/RemoteFileRequestAndHandler$1;)V
     341: athrow
     342: aload_1
     343: aload_0
     344: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
     347: invokeinterface #39,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.fileEnd:()B
     352: invokestatic  #11                 // Method org/jboss/as/protocol/mgmt/ProtocolUtils.expectHeader:(Ljava/io/DataInput;I)V
     355: iinc          7, 1
     358: goto          83
     361: aload         4
     363: aload_2
     364: invokeinterface #40,  2           // InterfaceMethod org/jboss/as/protocol/mgmt/ActiveOperation$ResultHandler.done:(Ljava/lang/Object;)Z
     369: pop
     370: return
    Exception table:
       from    to  target type
         213   292   305   any
         305   307   305   any

  public void handleRequest(java.io.DataInput, org.jboss.as.repository.RemoteFileRequestAndHandler$RootFileReader, org.jboss.as.protocol.mgmt.ActiveOperation$ResultHandler<java.lang.Void>, org.jboss.as.protocol.mgmt.ManagementRequestContext<java.lang.Void>) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
       5: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramRootId:()B
      10: invokestatic  #11                 // Method org/jboss/as/protocol/mgmt/ProtocolUtils.expectHeader:(Ljava/io/DataInput;I)V
      13: aload_1
      14: invokeinterface #41,  1           // InterfaceMethod java/io/DataInput.readByte:()B
      19: istore        5
      21: aload_1
      22: aload_0
      23: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
      26: invokeinterface #8,  1            // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramFilePath:()B
      31: invokestatic  #11                 // Method org/jboss/as/protocol/mgmt/ProtocolUtils.expectHeader:(Ljava/io/DataInput;I)V
      34: aload_1
      35: invokeinterface #19,  1           // InterfaceMethod java/io/DataInput.readUTF:()Ljava/lang/String;
      40: astore        6
      42: new           #42                 // class org/jboss/as/repository/RemoteFileRequestAndHandler$1
      45: dup
      46: aload_0
      47: aload_2
      48: iload         5
      50: aload         6
      52: aload_3
      53: invokespecial #43                 // Method org/jboss/as/repository/RemoteFileRequestAndHandler$1."<init>":(Lorg/jboss/as/repository/RemoteFileRequestAndHandler;Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RootFileReader;BLjava/lang/String;Lorg/jboss/as/protocol/mgmt/ActiveOperation$ResultHandler;)V
      56: astore        7
      58: aload_0
      59: getfield      #5                  // Field asyncExecutor:Ljava/util/concurrent/Executor;
      62: ifnonnull     78
      65: aload         4
      67: aload         7
      69: invokeinterface #44,  2           // InterfaceMethod org/jboss/as/protocol/mgmt/ManagementRequestContext.executeAsync:(Lorg/jboss/as/protocol/mgmt/ManagementRequestContext$AsyncTask;)Z
      74: pop
      75: goto          92
      78: aload         4
      80: aload         7
      82: aload_0
      83: getfield      #5                  // Field asyncExecutor:Ljava/util/concurrent/Executor;
      86: invokeinterface #45,  3           // InterfaceMethod org/jboss/as/protocol/mgmt/ManagementRequestContext.executeAsync:(Lorg/jboss/as/protocol/mgmt/ManagementRequestContext$AsyncTask;Ljava/util/concurrent/Executor;)Z
      91: pop
      92: return

  private void writeResponse(java.io.File, org.jboss.as.protocol.mgmt.FlushableDataOutput) throws java.io.IOException;
    Code:
       0: aload_2
       1: aload_0
       2: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
       5: invokeinterface #10,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramNumFiles:()B
      10: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
      15: aload_1
      16: ifnull        26
      19: aload_1
      20: invokevirtual #28                 // Method java/io/File.exists:()Z
      23: ifne          36
      26: aload_2
      27: iconst_m1
      28: invokeinterface #46,  2           // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeInt:(I)V
      33: goto          119
      36: aload_1
      37: invokevirtual #47                 // Method java/io/File.isFile:()Z
      40: ifeq          60
      43: aload_2
      44: iconst_1
      45: invokeinterface #46,  2           // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeInt:(I)V
      50: aload_0
      51: aload_1
      52: aload_1
      53: aload_2
      54: invokespecial #48                 // Method writeFile:(Ljava/io/File;Ljava/io/File;Lorg/jboss/as/protocol/mgmt/FlushableDataOutput;)V
      57: goto          119
      60: aload_0
      61: aload_1
      62: invokespecial #49                 // Method getChildFiles:(Ljava/io/File;)Ljava/util/List;
      65: astore_3
      66: aload_2
      67: aload_3
      68: invokeinterface #50,  1           // InterfaceMethod java/util/List.size:()I
      73: invokeinterface #46,  2           // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeInt:(I)V
      78: aload_3
      79: invokeinterface #51,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      84: astore        4
      86: aload         4
      88: invokeinterface #52,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      93: ifeq          119
      96: aload         4
      98: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     103: checkcast     #25                 // class java/io/File
     106: astore        5
     108: aload_0
     109: aload_1
     110: aload         5
     112: aload_2
     113: invokespecial #48                 // Method writeFile:(Ljava/io/File;Ljava/io/File;Lorg/jboss/as/protocol/mgmt/FlushableDataOutput;)V
     116: goto          86
     119: return

  private java.util.List<java.io.File> getChildFiles(java.io.File);
    Code:
       0: new           #54                 // class java/util/ArrayList
       3: dup
       4: invokespecial #55                 // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: aload_1
      10: aload_2
      11: invokespecial #56                 // Method getChildFiles:(Ljava/io/File;Ljava/util/List;)V
      14: aload_2
      15: areturn

  private void getChildFiles(java.io.File, java.util.List<java.io.File>);
    Code:
       0: aload_1
       1: invokevirtual #57                 // Method java/io/File.listFiles:()[Ljava/io/File;
       4: astore_3
       5: aload_3
       6: arraylength
       7: istore        4
       9: iconst_0
      10: istore        5
      12: iload         5
      14: iload         4
      16: if_icmpge     58
      19: aload_3
      20: iload         5
      22: aaload
      23: astore        6
      25: aload         6
      27: invokevirtual #47                 // Method java/io/File.isFile:()Z
      30: ifeq          45
      33: aload_2
      34: aload         6
      36: invokeinterface #58,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      41: pop
      42: goto          52
      45: aload_0
      46: aload         6
      48: aload_2
      49: invokespecial #56                 // Method getChildFiles:(Ljava/io/File;Ljava/util/List;)V
      52: iinc          5, 1
      55: goto          12
      58: return

  private java.lang.String getRelativePath(java.io.File, java.io.File);
    Code:
       0: aload_2
       1: invokevirtual #59                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
       4: aload_1
       5: invokevirtual #59                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
       8: invokevirtual #60                 // Method java/lang/String.length:()I
      11: iconst_1
      12: iadd
      13: invokevirtual #61                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      16: areturn

  private void writeFile(java.io.File, java.io.File, org.jboss.as.protocol.mgmt.FlushableDataOutput) throws java.io.IOException;
    Code:
       0: aload_3
       1: aload_0
       2: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
       5: invokeinterface #18,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.fileStart:()B
      10: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
      15: aload_3
      16: aload_0
      17: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
      20: invokeinterface #8,  1            // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramFilePath:()B
      25: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
      30: aload_3
      31: aload_0
      32: aload_1
      33: aload_2
      34: invokespecial #62                 // Method getRelativePath:(Ljava/io/File;Ljava/io/File;)Ljava/lang/String;
      37: invokeinterface #9,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeUTF:(Ljava/lang/String;)V
      42: aload_3
      43: aload_0
      44: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
      47: invokeinterface #20,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.paramFileSize:()B
      52: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
      57: aload_3
      58: aload_2
      59: invokevirtual #63                 // Method java/io/File.length:()J
      62: invokeinterface #64,  3           // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeLong:(J)V
      67: aconst_null
      68: astore        4
      70: new           #65                 // class java/io/FileInputStream
      73: dup
      74: aload_2
      75: invokespecial #66                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      78: astore        4
      80: sipush        8192
      83: newarray       byte
      85: astore        5
      87: aload         4
      89: aload         5
      91: invokevirtual #67                 // Method java/io/InputStream.read:([B)I
      94: dup
      95: istore        6
      97: iconst_m1
      98: if_icmpeq     115
     101: aload_3
     102: aload         5
     104: iconst_0
     105: iload         6
     107: invokeinterface #68,  4           // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.write:([BII)V
     112: goto          87
     115: aload         4
     117: ifnull        153
     120: aload         4
     122: invokevirtual #69                 // Method java/io/InputStream.close:()V
     125: goto          153
     128: astore        5
     130: goto          153
     133: astore        7
     135: aload         4
     137: ifnull        150
     140: aload         4
     142: invokevirtual #69                 // Method java/io/InputStream.close:()V
     145: goto          150
     148: astore        8
     150: aload         7
     152: athrow
     153: aload_3
     154: aload_0
     155: getfield      #4                  // Field protocol:Lorg/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper;
     158: invokeinterface #39,  1           // InterfaceMethod org/jboss/as/repository/RemoteFileRequestAndHandler$RemoteFileProtocolIdMapper.fileEnd:()B
     163: invokeinterface #7,  2            // InterfaceMethod org/jboss/as/protocol/mgmt/FlushableDataOutput.writeByte:(I)V
     168: return
    Exception table:
       from    to  target type
         120   125   128   Class java/io/IOException
          70   115   133   any
         140   145   148   Class java/io/IOException
         133   135   133   any

  static void access$200(org.jboss.as.repository.RemoteFileRequestAndHandler, java.io.File, org.jboss.as.protocol.mgmt.FlushableDataOutput) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method writeResponse:(Ljava/io/File;Lorg/jboss/as/protocol/mgmt/FlushableDataOutput;)V
       6: return
}
