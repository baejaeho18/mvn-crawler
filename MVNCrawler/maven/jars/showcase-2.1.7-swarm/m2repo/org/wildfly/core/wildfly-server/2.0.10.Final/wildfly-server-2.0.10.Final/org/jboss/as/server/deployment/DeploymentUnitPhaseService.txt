Compiled from "DeploymentUnitPhaseService.java"
final class org.jboss.as.server.deployment.DeploymentUnitPhaseService<T> implements org.jboss.msc.service.Service<T> {
  private static final org.jboss.as.server.deployment.AttachmentKey<org.jboss.as.server.deployment.AttachmentList<org.jboss.as.server.deployment.DeploymentUnit>> UNVISITED_DEFERRED_MODULES;

  private final org.jboss.msc.value.InjectedValue<org.jboss.as.server.deployment.DeployerChains> deployerChainsInjector;

  private final org.jboss.as.server.deployment.DeploymentUnit deploymentUnit;

  private final org.jboss.as.server.deployment.Phase phase;

  private final org.jboss.as.server.deployment.AttachmentKey<T> valueKey;

  private final java.util.List<org.jboss.as.server.deployment.AttachedDependency> injectedAttachedDependencies;

  private final java.util.concurrent.atomic.AtomicBoolean runOnce;

  private org.jboss.as.server.deployment.DeploymentUnitPhaseService(org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.server.deployment.Phase, org.jboss.as.server.deployment.AttachmentKey<T>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/jboss/msc/value/InjectedValue
       8: dup
       9: invokespecial #3                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      12: putfield      #4                  // Field deployerChainsInjector:Lorg/jboss/msc/value/InjectedValue;
      15: aload_0
      16: new           #5                  // class java/util/ArrayList
      19: dup
      20: invokespecial #6                  // Method java/util/ArrayList."<init>":()V
      23: putfield      #7                  // Field injectedAttachedDependencies:Ljava/util/List;
      26: aload_0
      27: new           #8                  // class java/util/concurrent/atomic/AtomicBoolean
      30: dup
      31: invokespecial #9                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      34: putfield      #10                 // Field runOnce:Ljava/util/concurrent/atomic/AtomicBoolean;
      37: aload_0
      38: aload_1
      39: putfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
      42: aload_0
      43: aload_2
      44: putfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
      47: aload_0
      48: aload_3
      49: putfield      #13                 // Field valueKey:Lorg/jboss/as/server/deployment/AttachmentKey;
      52: return

  private static <T> org.jboss.as.server.deployment.DeploymentUnitPhaseService<T> create(org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.server.deployment.Phase, org.jboss.as.server.deployment.AttachmentKey<T>);
    Code:
       0: new           #14                 // class org/jboss/as/server/deployment/DeploymentUnitPhaseService
       3: dup
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokespecial #15                 // Method "<init>":(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/Phase;Lorg/jboss/as/server/deployment/AttachmentKey;)V
      10: areturn

  static org.jboss.as.server.deployment.DeploymentUnitPhaseService<?> create(org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.server.deployment.Phase);
    Code:
       0: aload_0
       1: aload_1
       2: aload_1
       3: invokevirtual #16                 // Method org/jboss/as/server/deployment/Phase.getPhaseKey:()Lorg/jboss/as/server/deployment/AttachmentKey;
       6: invokestatic  #17                 // Method create:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/Phase;Lorg/jboss/as/server/deployment/AttachmentKey;)Lorg/jboss/as/server/deployment/DeploymentUnitPhaseService;
       9: areturn

  public synchronized void start(org.jboss.msc.service.StartContext) throws org.jboss.msc.service.StartException;
    Code:
       0: aload_0
       1: invokespecial #18                 // Method restartAllowed:()Ljava/lang/Boolean;
       4: invokevirtual #19                 // Method java/lang/Boolean.booleanValue:()Z
       7: istore_2
       8: aload_0
       9: getfield      #10                 // Field runOnce:Ljava/util/concurrent/atomic/AtomicBoolean;
      12: invokevirtual #20                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      15: ifeq          124
      18: iload_2
      19: ifne          124
      22: getstatic     #21                 // Field org/jboss/as/server/logging/ServerLogger.DEPLOYMENT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      25: aload_0
      26: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
      29: invokeinterface #22,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
      34: invokeinterface #23,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.deploymentRestartDetected:(Ljava/lang/String;)V
      39: aload_0
      40: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
      43: invokeinterface #24,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      48: ifnonnull     64
      51: aload_0
      52: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
      55: invokeinterface #25,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
      60: astore_3
      61: goto          79
      64: aload_0
      65: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
      68: invokeinterface #24,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      73: invokeinterface #25,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
      78: astore_3
      79: aload_1
      80: invokeinterface #26,  1           // InterfaceMethod org/jboss/msc/service/StartContext.getController:()Lorg/jboss/msc/service/ServiceController;
      85: invokeinterface #27,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getServiceContainer:()Lorg/jboss/msc/service/ServiceContainer;
      90: aload_3
      91: invokeinterface #28,  2           // InterfaceMethod org/jboss/msc/service/ServiceContainer.getRequiredService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
      96: astore        4
      98: aload         4
     100: new           #29                 // class org/jboss/as/server/deployment/DeploymentUnitPhaseService$1
     103: dup
     104: aload_0
     105: invokespecial #30                 // Method org/jboss/as/server/deployment/DeploymentUnitPhaseService$1."<init>":(Lorg/jboss/as/server/deployment/DeploymentUnitPhaseService;)V
     108: invokeinterface #31,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.addListener:(Lorg/jboss/msc/service/ServiceListener;)V
     113: aload         4
     115: getstatic     #32                 // Field org/jboss/msc/service/ServiceController$Mode.NEVER:Lorg/jboss/msc/service/ServiceController$Mode;
     118: invokeinterface #33,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.setMode:(Lorg/jboss/msc/service/ServiceController$Mode;)V
     123: return
     124: aload_0
     125: getfield      #10                 // Field runOnce:Ljava/util/concurrent/atomic/AtomicBoolean;
     128: iconst_1
     129: invokevirtual #34                 // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
     132: aload_0
     133: getfield      #4                  // Field deployerChainsInjector:Lorg/jboss/msc/value/InjectedValue;
     136: invokevirtual #35                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     139: checkcast     #36                 // class org/jboss/as/server/deployment/DeployerChains
     142: astore_3
     143: aload_0
     144: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
     147: astore        4
     149: aload_3
     150: aload_0
     151: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
     154: invokevirtual #37                 // Method org/jboss/as/server/deployment/DeployerChains.getChain:(Lorg/jboss/as/server/deployment/Phase;)Ljava/util/List;
     157: astore        5
     159: aload         5
     161: invokeinterface #38,  1           // InterfaceMethod java/util/List.listIterator:()Ljava/util/ListIterator;
     166: astore        6
     168: aload_1
     169: invokeinterface #26,  1           // InterfaceMethod org/jboss/msc/service/StartContext.getController:()Lorg/jboss/msc/service/ServiceController;
     174: invokeinterface #27,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getServiceContainer:()Lorg/jboss/msc/service/ServiceContainer;
     179: astore        7
     181: aload_1
     182: invokeinterface #39,  1           // InterfaceMethod org/jboss/msc/service/StartContext.getChildTarget:()Lorg/jboss/msc/service/ServiceTarget;
     187: invokeinterface #40,  1           // InterfaceMethod org/jboss/msc/service/ServiceTarget.subTarget:()Lorg/jboss/msc/service/ServiceTarget;
     192: astore        8
     194: aload         4
     196: invokeinterface #22,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
     201: astore        9
     203: aload         4
     205: invokeinterface #24,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
     210: astore        10
     212: new           #41                 // class java/util/LinkedList
     215: dup
     216: invokespecial #42                 // Method java/util/LinkedList."<init>":()V
     219: astore        11
     221: new           #43                 // class org/jboss/as/server/deployment/DeploymentPhaseContextImpl
     224: dup
     225: aload         8
     227: new           #44                 // class org/jboss/msc/service/DelegatingServiceRegistry
     230: dup
     231: aload         7
     233: invokespecial #45                 // Method org/jboss/msc/service/DelegatingServiceRegistry."<init>":(Lorg/jboss/msc/service/ServiceRegistry;)V
     236: aload         11
     238: aload         4
     240: aload_0
     241: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
     244: invokespecial #46                 // Method org/jboss/as/server/deployment/DeploymentPhaseContextImpl."<init>":(Lorg/jboss/msc/service/ServiceTarget;Lorg/jboss/msc/service/ServiceRegistry;Ljava/util/List;Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/Phase;)V
     247: astore        12
     249: aload_0
     250: getfield      #7                  // Field injectedAttachedDependencies:Ljava/util/List;
     253: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     258: astore        13
     260: aload         13
     262: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     267: ifeq          359
     270: aload         13
     272: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     277: checkcast     #50                 // class org/jboss/as/server/deployment/AttachedDependency
     280: astore        14
     282: aload         14
     284: invokevirtual #51                 // Method org/jboss/as/server/deployment/AttachedDependency.isDeploymentUnit:()Z
     287: ifeq          297
     290: aload         4
     292: astore        15
     294: goto          301
     297: aload         12
     299: astore        15
     301: aload         14
     303: invokevirtual #52                 // Method org/jboss/as/server/deployment/AttachedDependency.getAttachmentKey:()Lorg/jboss/as/server/deployment/AttachmentKey;
     306: instanceof    #53                 // class org/jboss/as/server/deployment/ListAttachmentKey
     309: ifeq          335
     312: aload         15
     314: aload         14
     316: invokevirtual #52                 // Method org/jboss/as/server/deployment/AttachedDependency.getAttachmentKey:()Lorg/jboss/as/server/deployment/AttachmentKey;
     319: aload         14
     321: invokevirtual #54                 // Method org/jboss/as/server/deployment/AttachedDependency.getValue:()Lorg/jboss/msc/value/InjectedValue;
     324: invokevirtual #35                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     327: invokeinterface #55,  3           // InterfaceMethod org/jboss/as/server/deployment/Attachable.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     332: goto          356
     335: aload         15
     337: aload         14
     339: invokevirtual #52                 // Method org/jboss/as/server/deployment/AttachedDependency.getAttachmentKey:()Lorg/jboss/as/server/deployment/AttachmentKey;
     342: aload         14
     344: invokevirtual #54                 // Method org/jboss/as/server/deployment/AttachedDependency.getValue:()Lorg/jboss/msc/value/InjectedValue;
     347: invokevirtual #35                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     350: invokeinterface #56,  3           // InterfaceMethod org/jboss/as/server/deployment/Attachable.putAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     355: pop
     356: goto          260
     359: aload         6
     361: invokeinterface #57,  1           // InterfaceMethod java/util/ListIterator.hasNext:()Z
     366: ifeq          464
     369: aload         6
     371: invokeinterface #58,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
     376: checkcast     #59                 // class org/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor
     379: astore        13
     381: aload         4
     383: aload         13
     385: invokestatic  #60                 // Method shouldRun:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor;)Z
     388: ifeq          403
     391: aload         13
     393: invokevirtual #61                 // Method org/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor.getProcessor:()Lorg/jboss/as/server/deployment/DeploymentUnitProcessor;
     396: aload         12
     398: invokeinterface #62,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnitProcessor.deploy:(Lorg/jboss/as/server/deployment/DeploymentPhaseContext;)V
     403: goto          461
     406: astore        14
     408: aload         6
     410: invokeinterface #64,  1           // InterfaceMethod java/util/ListIterator.hasPrevious:()Z
     415: ifeq          444
     418: aload         6
     420: invokeinterface #65,  1           // InterfaceMethod java/util/ListIterator.previous:()Ljava/lang/Object;
     425: checkcast     #59                 // class org/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor
     428: astore        15
     430: aload         4
     432: aload_0
     433: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
     436: aload         15
     438: invokestatic  #66                 // Method safeUndeploy:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/Phase;Lorg/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor;)V
     441: goto          408
     444: getstatic     #67                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     447: aload_0
     448: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
     451: aload         4
     453: aload         14
     455: invokeinterface #68,  4           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.deploymentPhaseFailed:(Lorg/jboss/as/server/deployment/Phase;Lorg/jboss/as/server/deployment/DeploymentUnit;Ljava/lang/Throwable;)Lorg/jboss/msc/service/StartException;
     460: athrow
     461: goto          359
     464: aload_0
     465: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
     468: invokevirtual #69                 // Method org/jboss/as/server/deployment/Phase.next:()Lorg/jboss/as/server/deployment/Phase;
     471: astore        13
     473: aload         13
     475: ifnull        941
     478: aload         4
     480: aload         13
     482: invokestatic  #70                 // Method org/jboss/as/server/deployment/DeploymentUtils.getDeploymentUnitPhaseServiceName:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/Phase;)Lorg/jboss/msc/service/ServiceName;
     485: astore        14
     487: aload         4
     489: aload         13
     491: invokestatic  #71                 // Method create:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/Phase;)Lorg/jboss/as/server/deployment/DeploymentUnitPhaseService;
     494: astore        15
     496: aload         12
     498: getstatic     #72                 // Field org/jboss/as/server/deployment/Attachments.DEPLOYMENT_UNIT_PHASE_BUILDER:Lorg/jboss/as/server/deployment/AttachmentKey;
     501: invokeinterface #73,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     506: checkcast     #74                 // class org/jboss/as/server/deployment/DeploymentUnitPhaseBuilder
     509: astore        16
     511: aload         16
     513: ifnull        532
     516: aload         16
     518: aload         8
     520: aload         14
     522: aload         15
     524: invokeinterface #75,  4           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnitPhaseBuilder.build:(Lorg/jboss/msc/service/ServiceTarget;Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     529: goto          543
     532: aload         8
     534: aload         14
     536: aload         15
     538: invokeinterface #76,  3           // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     543: astore        17
     545: aload         11
     547: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     552: astore        18
     554: aload         18
     556: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     561: ifeq          588
     564: aload         18
     566: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     571: checkcast     #77                 // class org/jboss/as/server/deployment/DeploymentUnitPhaseDependency
     574: astore        19
     576: aload         19
     578: aload         17
     580: invokeinterface #78,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnitPhaseDependency.register:(Lorg/jboss/msc/service/ServiceBuilder;)V
     585: goto          554
     588: aload         17
     590: getstatic     #79                 // Field org/jboss/as/server/deployment/Services.JBOSS_DEPLOYMENT_CHAINS:Lorg/jboss/msc/service/ServiceName;
     593: ldc           #36                 // class org/jboss/as/server/deployment/DeployerChains
     595: aload         15
     597: invokevirtual #80                 // Method getDeployerChainsInjector:()Lorg/jboss/msc/value/InjectedValue;
     600: invokeinterface #81,  4           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     605: pop
     606: aload         17
     608: aload_1
     609: invokeinterface #26,  1           // InterfaceMethod org/jboss/msc/service/StartContext.getController:()Lorg/jboss/msc/service/ServiceController;
     614: invokeinterface #82,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getName:()Lorg/jboss/msc/service/ServiceName;
     619: invokeinterface #83,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     624: pop
     625: aload         12
     627: getstatic     #84                 // Field org/jboss/as/server/deployment/Attachments.NEXT_PHASE_DEPS:Lorg/jboss/as/server/deployment/AttachmentKey;
     630: invokeinterface #73,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     635: checkcast     #85                 // class java/util/List
     638: astore        18
     640: aload         18
     642: ifnull        655
     645: aload         17
     647: aload         18
     649: invokeinterface #86,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependencies:(Ljava/lang/Iterable;)Lorg/jboss/msc/service/ServiceBuilder;
     654: pop
     655: aload         12
     657: getstatic     #87                 // Field org/jboss/as/server/deployment/Attachments.NEXT_PHASE_ATTACHABLE_DEPS:Lorg/jboss/as/server/deployment/AttachmentKey;
     660: invokeinterface #73,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     665: checkcast     #85                 // class java/util/List
     668: astore        19
     670: aload         19
     672: ifnull        759
     675: aload         19
     677: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     682: astore        20
     684: aload         20
     686: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     691: ifeq          759
     694: aload         20
     696: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     701: checkcast     #88                 // class org/jboss/as/server/deployment/AttachableDependency
     704: astore        21
     706: new           #50                 // class org/jboss/as/server/deployment/AttachedDependency
     709: dup
     710: aload         21
     712: invokevirtual #89                 // Method org/jboss/as/server/deployment/AttachableDependency.getAttachmentKey:()Lorg/jboss/as/server/deployment/AttachmentKey;
     715: aload         21
     717: invokevirtual #90                 // Method org/jboss/as/server/deployment/AttachableDependency.isDeploymentUnit:()Z
     720: invokespecial #91                 // Method org/jboss/as/server/deployment/AttachedDependency."<init>":(Lorg/jboss/as/server/deployment/AttachmentKey;Z)V
     723: astore        22
     725: aload         17
     727: aload         21
     729: invokevirtual #92                 // Method org/jboss/as/server/deployment/AttachableDependency.getServiceName:()Lorg/jboss/msc/service/ServiceName;
     732: aload         22
     734: invokevirtual #54                 // Method org/jboss/as/server/deployment/AttachedDependency.getValue:()Lorg/jboss/msc/value/InjectedValue;
     737: invokeinterface #93,  3           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     742: pop
     743: aload         15
     745: getfield      #7                  // Field injectedAttachedDependencies:Ljava/util/List;
     748: aload         22
     750: invokeinterface #94,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     755: pop
     756: goto          684
     759: aload         10
     761: ifnull        791
     764: aload         17
     766: iconst_1
     767: anewarray     #95                 // class org/jboss/msc/service/ServiceName
     770: dup
     771: iconst_0
     772: aload         10
     774: invokeinterface #22,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
     779: aload         13
     781: invokestatic  #96                 // Method org/jboss/as/server/deployment/Services.deploymentUnitName:(Ljava/lang/String;Lorg/jboss/as/server/deployment/Phase;)Lorg/jboss/msc/service/ServiceName;
     784: aastore
     785: invokeinterface #97,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependencies:([Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     790: pop
     791: aload         4
     793: getstatic     #98                 // Field org/jboss/as/server/deployment/Attachments.SUB_DEPLOYMENTS:Lorg/jboss/as/server/deployment/AttachmentKey;
     796: invokeinterface #99,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/util/List;
     801: astore        20
     803: aload         20
     805: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     810: astore        21
     812: aload         21
     814: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     819: ifeq          876
     822: aload         21
     824: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     829: checkcast     #100                // class org/jboss/as/server/deployment/DeploymentUnit
     832: astore        22
     834: aload         17
     836: iconst_1
     837: anewarray     #95                 // class org/jboss/msc/service/ServiceName
     840: dup
     841: iconst_0
     842: aload         22
     844: invokeinterface #25,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceName:()Lorg/jboss/msc/service/ServiceName;
     849: iconst_1
     850: anewarray     #101                // class java/lang/String
     853: dup
     854: iconst_0
     855: aload_0
     856: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
     859: invokevirtual #102                // Method org/jboss/as/server/deployment/Phase.name:()Ljava/lang/String;
     862: aastore
     863: invokevirtual #103                // Method org/jboss/msc/service/ServiceName.append:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     866: aastore
     867: invokeinterface #97,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependencies:([Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     872: pop
     873: goto          812
     876: aload         4
     878: invokestatic  #104                // Method org/jboss/as/server/deployment/DeploymentUtils.getDeferredModules:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Ljava/util/List;
     881: astore        21
     883: aload         13
     885: getstatic     #105                // Field org/jboss/as/server/deployment/Phase.FIRST_MODULE_USE:Lorg/jboss/as/server/deployment/Phase;
     888: if_acmpne     933
     891: aload_0
     892: aload         4
     894: aload         21
     896: invokespecial #106                // Method getDeferableInitialMode:(Lorg/jboss/as/server/deployment/DeploymentUnit;Ljava/util/List;)Lorg/jboss/msc/service/ServiceController$Mode;
     899: astore        22
     901: aload         22
     903: getstatic     #107                // Field org/jboss/msc/service/ServiceController$Mode.ACTIVE:Lorg/jboss/msc/service/ServiceController$Mode;
     906: if_acmpeq     933
     909: getstatic     #21                 // Field org/jboss/as/server/logging/ServerLogger.DEPLOYMENT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     912: aload         13
     914: aload         9
     916: aload         22
     918: invokeinterface #108,  4          // InterfaceMethod org/jboss/as/server/logging/ServerLogger.infoDeferDeploymentPhase:(Lorg/jboss/as/server/deployment/Phase;Ljava/lang/String;Lorg/jboss/msc/service/ServiceController$Mode;)V
     923: aload         17
     925: aload         22
     927: invokeinterface #109,  2          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.setInitialMode:(Lorg/jboss/msc/service/ServiceController$Mode;)Lorg/jboss/msc/service/ServiceBuilder;
     932: pop
     933: aload         17
     935: invokeinterface #110,  1          // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     940: pop
     941: return
    Exception table:
       from    to  target type
         381   403   406   Class java/lang/Throwable

  private java.lang.Boolean restartAllowed();
    Code:
       0: aload_0
       1: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
       4: invokeinterface #24,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       9: ifnonnull     20
      12: aload_0
      13: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
      16: astore_1
      17: goto          30
      20: aload_0
      21: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
      24: invokeinterface #24,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      29: astore_1
      30: aload_1
      31: getstatic     #111                // Field org/jboss/as/server/deployment/Attachments.ALLOW_PHASE_RESTART:Lorg/jboss/as/server/deployment/AttachmentKey;
      34: invokeinterface #112,  2          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      39: checkcast     #113                // class java/lang/Boolean
      42: astore_2
      43: aload_2
      44: ifnull        58
      47: aload_2
      48: invokevirtual #19                 // Method java/lang/Boolean.booleanValue:()Z
      51: ifeq          58
      54: iconst_1
      55: goto          59
      58: iconst_0
      59: invokestatic  #114                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      62: areturn

  public synchronized void stop(org.jboss.msc.service.StopContext);
    Code:
       0: aload_0
       1: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
       4: astore_2
       5: aload_0
       6: getfield      #4                  // Field deployerChainsInjector:Lorg/jboss/msc/value/InjectedValue;
       9: invokevirtual #35                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      12: checkcast     #36                 // class org/jboss/as/server/deployment/DeployerChains
      15: astore_3
      16: aload_3
      17: aload_0
      18: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
      21: invokevirtual #37                 // Method org/jboss/as/server/deployment/DeployerChains.getChain:(Lorg/jboss/as/server/deployment/Phase;)Ljava/util/List;
      24: astore        4
      26: aload         4
      28: aload         4
      30: invokeinterface #115,  1          // InterfaceMethod java/util/List.size:()I
      35: invokeinterface #116,  2          // InterfaceMethod java/util/List.listIterator:(I)Ljava/util/ListIterator;
      40: astore        5
      42: aload         5
      44: invokeinterface #64,  1           // InterfaceMethod java/util/ListIterator.hasPrevious:()Z
      49: ifeq          77
      52: aload         5
      54: invokeinterface #65,  1           // InterfaceMethod java/util/ListIterator.previous:()Ljava/lang/Object;
      59: checkcast     #59                 // class org/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor
      62: astore        6
      64: aload_2
      65: aload_0
      66: getfield      #12                 // Field phase:Lorg/jboss/as/server/deployment/Phase;
      69: aload         6
      71: invokestatic  #66                 // Method safeUndeploy:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/Phase;Lorg/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor;)V
      74: goto          42
      77: return

  private org.jboss.msc.service.ServiceController$Mode getDeferableInitialMode(org.jboss.as.server.deployment.DeploymentUnit, java.util.List<java.lang.String>);
    Code:
       0: aload_2
       1: aload_1
       2: invokeinterface #22,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
       7: invokeinterface #117,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      12: ifeq          19
      15: getstatic     #32                 // Field org/jboss/msc/service/ServiceController$Mode.NEVER:Lorg/jboss/msc/service/ServiceController$Mode;
      18: areturn
      19: getstatic     #107                // Field org/jboss/msc/service/ServiceController$Mode.ACTIVE:Lorg/jboss/msc/service/ServiceController$Mode;
      22: astore_3
      23: aload_1
      24: invokestatic  #118                // Method org/jboss/as/server/deployment/DeploymentUtils.getTopDeploymentUnit:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/server/deployment/DeploymentUnit;
      27: astore        4
      29: aload         4
      31: aload_1
      32: if_acmpne     157
      35: aload         4
      37: getstatic     #98                 // Field org/jboss/as/server/deployment/Attachments.SUB_DEPLOYMENTS:Lorg/jboss/as/server/deployment/AttachmentKey;
      40: invokeinterface #99,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/util/List;
      45: astore        5
      47: aload         5
      49: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      54: astore        6
      56: aload         6
      58: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      63: ifeq          101
      66: aload         6
      68: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      73: checkcast     #100                // class org/jboss/as/server/deployment/DeploymentUnit
      76: astore        7
      78: aload         7
      80: getstatic     #119                // Field org/jboss/as/server/deployment/Attachments.OSGI_MANIFEST:Lorg/jboss/as/server/deployment/AttachmentKey;
      83: invokeinterface #120,  2          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.hasAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Z
      88: ifeq          98
      91: getstatic     #121                // Field org/jboss/msc/service/ServiceController$Mode.LAZY:Lorg/jboss/msc/service/ServiceController$Mode;
      94: astore_3
      95: goto          101
      98: goto          56
     101: aload_3
     102: getstatic     #121                // Field org/jboss/msc/service/ServiceController$Mode.LAZY:Lorg/jboss/msc/service/ServiceController$Mode;
     105: if_acmpne     154
     108: aload         5
     110: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     115: astore        6
     117: aload         6
     119: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     124: ifeq          154
     127: aload         6
     129: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     134: checkcast     #100                // class org/jboss/as/server/deployment/DeploymentUnit
     137: astore        7
     139: aload         4
     141: getstatic     #122                // Field UNVISITED_DEFERRED_MODULES:Lorg/jboss/as/server/deployment/AttachmentKey;
     144: aload         7
     146: invokeinterface #123,  3          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     151: goto          117
     154: goto          221
     157: aload         4
     159: getstatic     #122                // Field UNVISITED_DEFERRED_MODULES:Lorg/jboss/as/server/deployment/AttachmentKey;
     162: invokeinterface #99,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/util/List;
     167: astore        5
     169: aload         5
     171: dup
     172: astore        6
     174: monitorenter
     175: aload         5
     177: aload_1
     178: invokeinterface #124,  2          // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
     183: pop
     184: aload_2
     185: invokeinterface #125,  1          // InterfaceMethod java/util/List.isEmpty:()Z
     190: ifeq          203
     193: aload         5
     195: invokeinterface #125,  1          // InterfaceMethod java/util/List.isEmpty:()Z
     200: ifne          207
     203: getstatic     #126                // Field org/jboss/msc/service/ServiceController$Mode.PASSIVE:Lorg/jboss/msc/service/ServiceController$Mode;
     206: astore_3
     207: aload         6
     209: monitorexit
     210: goto          221
     213: astore        8
     215: aload         6
     217: monitorexit
     218: aload         8
     220: athrow
     221: aload_3
     222: areturn
    Exception table:
       from    to  target type
         175   210   213   any
         213   218   213   any

  private static void safeUndeploy(org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.server.deployment.Phase, org.jboss.as.server.deployment.RegisteredDeploymentUnitProcessor);
    Code:
       0: aload_0
       1: aload_2
       2: invokestatic  #60                 // Method shouldRun:(Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor;)Z
       5: ifeq          18
       8: aload_2
       9: invokevirtual #61                 // Method org/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor.getProcessor:()Lorg/jboss/as/server/deployment/DeploymentUnitProcessor;
      12: aload_0
      13: invokeinterface #127,  2          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnitProcessor.undeploy:(Lorg/jboss/as/server/deployment/DeploymentUnit;)V
      18: goto          37
      21: astore_3
      22: getstatic     #21                 // Field org/jboss/as/server/logging/ServerLogger.DEPLOYMENT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      25: aload_3
      26: aload_2
      27: invokevirtual #61                 // Method org/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor.getProcessor:()Lorg/jboss/as/server/deployment/DeploymentUnitProcessor;
      30: aload_1
      31: aload_0
      32: invokeinterface #128,  5          // InterfaceMethod org/jboss/as/server/logging/ServerLogger.caughtExceptionUndeploying:(Ljava/lang/Throwable;Lorg/jboss/as/server/deployment/DeploymentUnitProcessor;Lorg/jboss/as/server/deployment/Phase;Lorg/jboss/as/server/deployment/DeploymentUnit;)V
      37: return
    Exception table:
       from    to  target type
           0    18    21   Class java/lang/Throwable

  public synchronized T getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: getfield      #11                 // Field deploymentUnit:Lorg/jboss/as/server/deployment/DeploymentUnit;
       4: aload_0
       5: getfield      #13                 // Field valueKey:Lorg/jboss/as/server/deployment/AttachmentKey;
       8: invokeinterface #112,  2          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      13: areturn

  org.jboss.msc.value.InjectedValue<org.jboss.as.server.deployment.DeployerChains> getDeployerChainsInjector();
    Code:
       0: aload_0
       1: getfield      #4                  // Field deployerChainsInjector:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  private static boolean shouldRun(org.jboss.as.server.deployment.DeploymentUnit, org.jboss.as.server.deployment.RegisteredDeploymentUnitProcessor);
    Code:
       0: aload_0
       1: getstatic     #129                // Field org/jboss/as/server/deployment/Attachments.EXCLUDED_SUBSYSTEMS:Lorg/jboss/as/server/deployment/AttachmentKey;
       4: invokeinterface #112,  2          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
       9: checkcast     #130                // class java/util/Set
      12: astore_2
      13: aload_2
      14: ifnonnull     50
      17: aload_0
      18: invokeinterface #24,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      23: ifnull        44
      26: aload_0
      27: invokeinterface #24,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      32: getstatic     #129                // Field org/jboss/as/server/deployment/Attachments.EXCLUDED_SUBSYSTEMS:Lorg/jboss/as/server/deployment/AttachmentKey;
      35: invokeinterface #112,  2          // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      40: checkcast     #130                // class java/util/Set
      43: astore_2
      44: aload_2
      45: ifnonnull     50
      48: iconst_1
      49: ireturn
      50: aload_2
      51: aload_1
      52: invokevirtual #131                // Method org/jboss/as/server/deployment/RegisteredDeploymentUnitProcessor.getSubsystemName:()Ljava/lang/String;
      55: invokeinterface #132,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      60: ifne          67
      63: iconst_1
      64: goto          68
      67: iconst_0
      68: ireturn

  static {};
    Code:
       0: ldc           #100                // class org/jboss/as/server/deployment/DeploymentUnit
       2: invokestatic  #133                // Method org/jboss/as/server/deployment/AttachmentKey.createList:(Ljava/lang/Class;)Lorg/jboss/as/server/deployment/AttachmentKey;
       5: putstatic     #122                // Field UNVISITED_DEFERRED_MODULES:Lorg/jboss/as/server/deployment/AttachmentKey;
       8: return
}
