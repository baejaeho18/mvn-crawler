Compiled from "SubjectDoAsHandler.java"
public class org.jboss.as.domain.http.server.security.SubjectDoAsHandler implements io.undertow.server.HttpHandler {
  private final io.undertow.server.HttpHandler wrapped;

  public org.jboss.as.domain.http.server.security.SubjectDoAsHandler(io.undertow.server.HttpHandler);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #1                  // Field wrapped:Lio/undertow/server/HttpHandler;
       9: return

  public void handleRequest(io.undertow.server.HttpServerExchange) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #3                  // Method io/undertow/server/HttpServerExchange.getSecurityContext:()Lio/undertow/security/api/SecurityContext;
       4: astore_2
       5: aload_2
       6: ifnull        50
       9: aload_2
      10: invokeinterface #4,  1            // InterfaceMethod io/undertow/security/api/SecurityContext.getAuthenticatedAccount:()Lio/undertow/security/idm/Account;
      15: astore        4
      17: aload         4
      19: instanceof    #5                  // class org/jboss/as/domain/http/server/security/SubjectAccount
      22: ifeq          39
      25: aload         4
      27: checkcast     #5                  // class org/jboss/as/domain/http/server/security/SubjectAccount
      30: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/domain/http/server/security/SubjectAccount.getSubject:()Ljavax/security/auth/Subject;
      35: astore_3
      36: goto          47
      39: new           #7                  // class javax/security/auth/Subject
      42: dup
      43: invokespecial #8                  // Method javax/security/auth/Subject."<init>":()V
      46: astore_3
      47: goto          58
      50: new           #7                  // class javax/security/auth/Subject
      53: dup
      54: invokespecial #8                  // Method javax/security/auth/Subject."<init>":()V
      57: astore_3
      58: aload_0
      59: aload_1
      60: aload_3
      61: invokevirtual #9                  // Method handleRequest:(Lio/undertow/server/HttpServerExchange;Ljavax/security/auth/Subject;)V
      64: return

  void handleRequest(io.undertow.server.HttpServerExchange, javax.security.auth.Subject) throws java.lang.Exception;
    Code:
       0: aload_2
       1: new           #10                 // class org/jboss/as/domain/http/server/security/SubjectDoAsHandler$1
       4: dup
       5: aload_0
       6: aload_1
       7: invokespecial #11                 // Method org/jboss/as/domain/http/server/security/SubjectDoAsHandler$1."<init>":(Lorg/jboss/as/domain/http/server/security/SubjectDoAsHandler;Lio/undertow/server/HttpServerExchange;)V
      10: invokestatic  #12                 // Method org/jboss/as/controller/AccessAuditContext.doAs:(Ljavax/security/auth/Subject;Ljava/security/PrivilegedExceptionAction;)Ljava/lang/Object;
      13: pop
      14: goto          23
      17: astore_3
      18: aload_3
      19: invokevirtual #14                 // Method java/security/PrivilegedActionException.getException:()Ljava/lang/Exception;
      22: athrow
      23: return
    Exception table:
       from    to  target type
           0    14    17   Class java/security/PrivilegedActionException

  static io.undertow.server.HttpHandler access$000(org.jboss.as.domain.http.server.security.SubjectDoAsHandler);
    Code:
       0: aload_0
       1: getfield      #1                  // Field wrapped:Lio/undertow/server/HttpHandler;
       4: areturn
}
