Compiled from "CommandContextImpl.java"
class org.jboss.as.cli.impl.CommandContextImpl$LazyDelagatingTrustManager implements javax.net.ssl.X509TrustManager {
  private final java.lang.String trustStore;

  private final java.lang.String trustStorePassword;

  private final boolean modifyTrustStore;

  private java.util.Set<java.security.cert.X509Certificate> temporarilyTrusted;

  private javax.net.ssl.X509TrustManager delegate;

  final org.jboss.as.cli.impl.CommandContextImpl this$0;

  org.jboss.as.cli.impl.CommandContextImpl$LazyDelagatingTrustManager(org.jboss.as.cli.impl.CommandContextImpl, java.lang.String, java.lang.String, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/as/cli/impl/CommandContextImpl;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #3                  // class java/util/HashSet
      13: dup
      14: invokespecial #4                  // Method java/util/HashSet."<init>":()V
      17: putfield      #5                  // Field temporarilyTrusted:Ljava/util/Set;
      20: aload_0
      21: aload_2
      22: putfield      #6                  // Field trustStore:Ljava/lang/String;
      25: aload_0
      26: aload_3
      27: putfield      #7                  // Field trustStorePassword:Ljava/lang/String;
      30: aload_0
      31: iload         4
      33: putfield      #8                  // Field modifyTrustStore:Z
      36: return

  boolean isModifyTrustStore();
    Code:
       0: aload_0
       1: getfield      #8                  // Field modifyTrustStore:Z
       4: ireturn

  synchronized void storeChainTemporarily(java.security.cert.Certificate[]);
    Code:
       0: aload_1
       1: astore_2
       2: aload_2
       3: arraylength
       4: istore_3
       5: iconst_0
       6: istore        4
       8: iload         4
      10: iload_3
      11: if_icmpge     49
      14: aload_2
      15: iload         4
      17: aaload
      18: astore        5
      20: aload         5
      22: instanceof    #9                  // class java/security/cert/X509Certificate
      25: ifeq          43
      28: aload_0
      29: getfield      #5                  // Field temporarilyTrusted:Ljava/util/Set;
      32: aload         5
      34: checkcast     #9                  // class java/security/cert/X509Certificate
      37: invokeinterface #10,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      42: pop
      43: iinc          4, 1
      46: goto          8
      49: aload_0
      50: aconst_null
      51: putfield      #11                 // Field delegate:Ljavax/net/ssl/X509TrustManager;
      54: return

  synchronized void storeChainPermenantly(java.security.cert.Certificate[]);
    Code:
       0: aconst_null
       1: astore_2
       2: aconst_null
       3: astore_3
       4: ldc           #12                 // String JKS
       6: invokestatic  #13                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
       9: astore        4
      11: new           #14                 // class java/io/File
      14: dup
      15: aload_0
      16: getfield      #6                  // Field trustStore:Ljava/lang/String;
      19: invokespecial #15                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      22: astore        5
      24: aload         5
      26: invokevirtual #16                 // Method java/io/File.exists:()Z
      29: ifeq          64
      32: new           #17                 // class java/io/FileInputStream
      35: dup
      36: aload         5
      38: invokespecial #18                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      41: astore_2
      42: aload         4
      44: aload_2
      45: aload_0
      46: getfield      #7                  // Field trustStorePassword:Ljava/lang/String;
      49: invokevirtual #19                 // Method java/lang/String.toCharArray:()[C
      52: invokevirtual #20                 // Method java/security/KeyStore.load:(Ljava/io/InputStream;[C)V
      55: aload_2
      56: invokestatic  #21                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
      59: aconst_null
      60: astore_2
      61: goto          70
      64: aload         4
      66: aconst_null
      67: invokevirtual #22                 // Method java/security/KeyStore.load:(Ljava/security/KeyStore$LoadStoreParameter;)V
      70: aload_1
      71: astore        6
      73: aload         6
      75: arraylength
      76: istore        7
      78: iconst_0
      79: istore        8
      81: iload         8
      83: iload         7
      85: if_icmpge     131
      88: aload         6
      90: iload         8
      92: aaload
      93: astore        9
      95: aload         9
      97: instanceof    #9                  // class java/security/cert/X509Certificate
     100: ifeq          125
     103: aload         9
     105: checkcast     #9                  // class java/security/cert/X509Certificate
     108: astore        10
     110: aload         4
     112: aload         10
     114: invokevirtual #23                 // Method java/security/cert/X509Certificate.getSubjectX500Principal:()Ljavax/security/auth/x500/X500Principal;
     117: invokevirtual #24                 // Method javax/security/auth/x500/X500Principal.getName:()Ljava/lang/String;
     120: aload         10
     122: invokevirtual #25                 // Method java/security/KeyStore.setCertificateEntry:(Ljava/lang/String;Ljava/security/cert/Certificate;)V
     125: iinc          8, 1
     128: goto          81
     131: new           #26                 // class java/io/FileOutputStream
     134: dup
     135: aload         5
     137: invokespecial #27                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     140: astore_3
     141: aload         4
     143: aload_3
     144: aload_0
     145: getfield      #7                  // Field trustStorePassword:Ljava/lang/String;
     148: invokevirtual #19                 // Method java/lang/String.toCharArray:()[C
     151: invokevirtual #28                 // Method java/security/KeyStore.store:(Ljava/io/OutputStream;[C)V
     154: aload_2
     155: invokestatic  #21                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
     158: aload_3
     159: invokestatic  #21                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
     162: goto          206
     165: astore        4
     167: new           #30                 // class java/lang/IllegalStateException
     170: dup
     171: ldc           #31                 // String Unable to operate on trust store.
     173: aload         4
     175: invokespecial #32                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     178: athrow
     179: astore        4
     181: new           #30                 // class java/lang/IllegalStateException
     184: dup
     185: ldc           #31                 // String Unable to operate on trust store.
     187: aload         4
     189: invokespecial #32                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     192: athrow
     193: astore        11
     195: aload_2
     196: invokestatic  #21                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
     199: aload_3
     200: invokestatic  #21                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
     203: aload         11
     205: athrow
     206: aload_0
     207: aconst_null
     208: putfield      #11                 // Field delegate:Ljavax/net/ssl/X509TrustManager;
     211: return
    Exception table:
       from    to  target type
           4   154   165   Class java/security/GeneralSecurityException
           4   154   179   Class java/io/IOException
           4   154   193   any
         165   195   193   any

  private synchronized javax.net.ssl.X509TrustManager getDelegate();
    Code:
       0: aload_0
       1: getfield      #11                 // Field delegate:Ljavax/net/ssl/X509TrustManager;
       4: ifnonnull     226
       7: aconst_null
       8: astore_1
       9: ldc           #12                 // String JKS
      11: invokestatic  #13                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
      14: astore_2
      15: new           #14                 // class java/io/File
      18: dup
      19: aload_0
      20: getfield      #6                  // Field trustStore:Ljava/lang/String;
      23: invokespecial #15                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      26: astore_3
      27: aload_3
      28: invokevirtual #16                 // Method java/io/File.exists:()Z
      31: ifeq          58
      34: new           #17                 // class java/io/FileInputStream
      37: dup
      38: aload_3
      39: invokespecial #18                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      42: astore_1
      43: aload_2
      44: aload_1
      45: aload_0
      46: getfield      #7                  // Field trustStorePassword:Ljava/lang/String;
      49: invokevirtual #19                 // Method java/lang/String.toCharArray:()[C
      52: invokevirtual #20                 // Method java/security/KeyStore.load:(Ljava/io/InputStream;[C)V
      55: goto          63
      58: aload_2
      59: aconst_null
      60: invokevirtual #22                 // Method java/security/KeyStore.load:(Ljava/security/KeyStore$LoadStoreParameter;)V
      63: aload_0
      64: getfield      #5                  // Field temporarilyTrusted:Ljava/util/Set;
      67: invokeinterface #34,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      72: astore        4
      74: aload         4
      76: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      81: ifeq          113
      84: aload         4
      86: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      91: checkcast     #9                  // class java/security/cert/X509Certificate
      94: astore        5
      96: aload_2
      97: aload         5
      99: invokevirtual #23                 // Method java/security/cert/X509Certificate.getSubjectX500Principal:()Ljavax/security/auth/x500/X500Principal;
     102: invokevirtual #24                 // Method javax/security/auth/x500/X500Principal.getName:()Ljava/lang/String;
     105: aload         5
     107: invokevirtual #25                 // Method java/security/KeyStore.setCertificateEntry:(Ljava/lang/String;Ljava/security/cert/Certificate;)V
     110: goto          74
     113: invokestatic  #37                 // Method javax/net/ssl/KeyManagerFactory.getDefaultAlgorithm:()Ljava/lang/String;
     116: invokestatic  #38                 // Method javax/net/ssl/TrustManagerFactory.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/TrustManagerFactory;
     119: astore        4
     121: aload         4
     123: aload_2
     124: invokevirtual #39                 // Method javax/net/ssl/TrustManagerFactory.init:(Ljava/security/KeyStore;)V
     127: aload         4
     129: invokevirtual #40                 // Method javax/net/ssl/TrustManagerFactory.getTrustManagers:()[Ljavax/net/ssl/TrustManager;
     132: astore        5
     134: aload         5
     136: astore        6
     138: aload         6
     140: arraylength
     141: istore        7
     143: iconst_0
     144: istore        8
     146: iload         8
     148: iload         7
     150: if_icmpge     186
     153: aload         6
     155: iload         8
     157: aaload
     158: astore        9
     160: aload         9
     162: instanceof    #41                 // class javax/net/ssl/X509TrustManager
     165: ifeq          180
     168: aload_0
     169: aload         9
     171: checkcast     #41                 // class javax/net/ssl/X509TrustManager
     174: putfield      #11                 // Field delegate:Ljavax/net/ssl/X509TrustManager;
     177: goto          186
     180: iinc          8, 1
     183: goto          146
     186: aload_1
     187: invokestatic  #21                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
     190: goto          226
     193: astore_2
     194: new           #30                 // class java/lang/IllegalStateException
     197: dup
     198: ldc           #31                 // String Unable to operate on trust store.
     200: aload_2
     201: invokespecial #32                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     204: athrow
     205: astore_2
     206: new           #30                 // class java/lang/IllegalStateException
     209: dup
     210: ldc           #31                 // String Unable to operate on trust store.
     212: aload_2
     213: invokespecial #32                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     216: athrow
     217: astore        10
     219: aload_1
     220: invokestatic  #21                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
     223: aload         10
     225: athrow
     226: aload_0
     227: getfield      #11                 // Field delegate:Ljavax/net/ssl/X509TrustManager;
     230: ifnonnull     243
     233: new           #30                 // class java/lang/IllegalStateException
     236: dup
     237: ldc           #42                 // String Unable to create delegate trust manager.
     239: invokespecial #43                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     242: athrow
     243: aload_0
     244: getfield      #11                 // Field delegate:Ljavax/net/ssl/X509TrustManager;
     247: areturn
    Exception table:
       from    to  target type
           9   186   193   Class java/security/GeneralSecurityException
           9   186   205   Class java/io/IOException
           9   186   217   any
         193   219   217   any

  public void checkClientTrusted(java.security.cert.X509Certificate[], java.lang.String) throws java.security.cert.CertificateException;
    Code:
       0: aload_0
       1: invokespecial #44                 // Method getDelegate:()Ljavax/net/ssl/X509TrustManager;
       4: aload_1
       5: aload_2
       6: invokeinterface #45,  3           // InterfaceMethod javax/net/ssl/X509TrustManager.checkClientTrusted:([Ljava/security/cert/X509Certificate;Ljava/lang/String;)V
      11: return

  public void checkServerTrusted(java.security.cert.X509Certificate[], java.lang.String) throws java.security.cert.CertificateException;
    Code:
       0: iconst_0
       1: istore_3
       2: aload_0
       3: invokespecial #44                 // Method getDelegate:()Ljavax/net/ssl/X509TrustManager;
       6: aload_1
       7: aload_2
       8: invokeinterface #46,  3           // InterfaceMethod javax/net/ssl/X509TrustManager.checkServerTrusted:([Ljava/security/cert/X509Certificate;Ljava/lang/String;)V
      13: aload_0
      14: getfield      #1                  // Field this$0:Lorg/jboss/as/cli/impl/CommandContextImpl;
      17: invokestatic  #47                 // Method org/jboss/as/cli/impl/CommandContextImpl.access$1300:(Lorg/jboss/as/cli/impl/CommandContextImpl;)Lorg/jboss/as/cli/impl/ConnectionInfoBean;
      20: aload_1
      21: invokevirtual #48                 // Method org/jboss/as/cli/impl/ConnectionInfoBean.setServerCertificates:([Ljava/security/cert/X509Certificate;)V
      24: goto          70
      27: astore        4
      29: iload_3
      30: ifne          67
      33: aload_0
      34: getfield      #1                  // Field this$0:Lorg/jboss/as/cli/impl/CommandContextImpl;
      37: invokestatic  #50                 // Method org/jboss/as/cli/impl/CommandContextImpl.access$1000:(Lorg/jboss/as/cli/impl/CommandContextImpl;)Lorg/jboss/as/protocol/GeneralTimeoutHandler;
      40: new           #51                 // class org/jboss/as/cli/impl/CommandContextImpl$LazyDelagatingTrustManager$1
      43: dup
      44: aload_0
      45: aload_1
      46: invokespecial #52                 // Method org/jboss/as/cli/impl/CommandContextImpl$LazyDelagatingTrustManager$1."<init>":(Lorg/jboss/as/cli/impl/CommandContextImpl$LazyDelagatingTrustManager;[Ljava/security/cert/X509Certificate;)V
      49: invokevirtual #53                 // Method org/jboss/as/protocol/GeneralTimeoutHandler.suspendAndExecute:(Ljava/lang/Runnable;)V
      52: aload_0
      53: getfield      #11                 // Field delegate:Ljavax/net/ssl/X509TrustManager;
      56: ifnonnull     64
      59: iconst_1
      60: istore_3
      61: goto          70
      64: aload         4
      66: athrow
      67: aload         4
      69: athrow
      70: iload_3
      71: ifne          0
      74: return
    Exception table:
       from    to  target type
           2    24    27   Class java/security/cert/CertificateException

  public java.security.cert.X509Certificate[] getAcceptedIssuers();
    Code:
       0: aload_0
       1: invokespecial #44                 // Method getDelegate:()Ljavax/net/ssl/X509TrustManager;
       4: invokeinterface #54,  1           // InterfaceMethod javax/net/ssl/X509TrustManager.getAcceptedIssuers:()[Ljava/security/cert/X509Certificate;
       9: areturn
}
