Compiled from "DeploymentAddHandler.java"
public class org.jboss.as.domain.controller.operations.deployment.DeploymentAddHandler implements org.jboss.as.controller.OperationStepHandler {
  public static final java.lang.String OPERATION_NAME;

  private final org.jboss.as.repository.ContentRepository contentRepository;

  private final org.jboss.as.repository.HostFileRepository fileRepository;

  public org.jboss.as.domain.controller.operations.deployment.DeploymentAddHandler(org.jboss.as.repository.HostFileRepository, org.jboss.as.repository.ContentRepository);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_2
       6: putfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
       9: aload_0
      10: aload_1
      11: putfield      #4                  // Field fileRepository:Lorg/jboss/as/repository/HostFileRepository;
      14: return

  public org.jboss.as.domain.controller.operations.deployment.DeploymentAddHandler(org.jboss.as.repository.ContentRepository);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
       9: aload_0
      10: aconst_null
      11: putfield      #4                  // Field fileRepository:Lorg/jboss/as/repository/HostFileRepository;
      14: return

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_1
       1: getstatic     #5                  // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
       4: invokeinterface #6,  2            // InterfaceMethod org/jboss/as/controller/OperationContext.createResource:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
       9: astore_3
      10: aload_3
      11: invokeinterface #7,  1            // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
      16: astore        4
      18: aload_2
      19: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.clone:()Lorg/jboss/dmr/ModelNode;
      22: astore        5
      24: getstatic     #9                  // Field org/jboss/as/server/controller/resources/DeploymentAttributes.DOMAIN_ADD_ATTRIBUTES:[Lorg/jboss/as/controller/AttributeDefinition;
      27: astore        6
      29: aload         6
      31: arraylength
      32: istore        7
      34: iconst_0
      35: istore        8
      37: iload         8
      39: iload         7
      41: if_icmpge     90
      44: aload         6
      46: iload         8
      48: aaload
      49: astore        9
      51: aload         9
      53: aload         5
      55: aload         4
      57: invokevirtual #10                 // Method org/jboss/as/controller/AttributeDefinition.validateAndSet:(Lorg/jboss/dmr/ModelNode;Lorg/jboss/dmr/ModelNode;)V
      60: aload         5
      62: aload         9
      64: invokevirtual #11                 // Method org/jboss/as/controller/AttributeDefinition.getName:()Ljava/lang/String;
      67: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      70: aload         4
      72: aload         9
      74: invokevirtual #11                 // Method org/jboss/as/controller/AttributeDefinition.getName:()Ljava/lang/String;
      77: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      80: invokevirtual #13                 // Method org/jboss/dmr/ModelNode.set:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      83: pop
      84: iinc          8, 1
      87: goto          37
      90: aload         4
      92: getstatic     #14                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.CONTENT_ALL:Lorg/jboss/as/controller/ObjectListAttributeDefinition;
      95: invokevirtual #15                 // Method org/jboss/as/controller/ObjectListAttributeDefinition.getName:()Ljava/lang/String;
      98: invokevirtual #16                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     101: astore        6
     103: aload         6
     105: iconst_0
     106: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.require:(I)Lorg/jboss/dmr/ModelNode;
     109: astore        7
     111: aload         5
     113: ldc           #18                 // String address
     115: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     118: astore        8
     120: aload         8
     122: invokestatic  #19                 // Method org/jboss/as/controller/PathAddress.pathAddress:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/as/controller/PathAddress;
     125: astore        9
     127: aload         9
     129: invokevirtual #20                 // Method org/jboss/as/controller/PathAddress.getLastElement:()Lorg/jboss/as/controller/PathElement;
     132: invokevirtual #21                 // Method org/jboss/as/controller/PathElement.getValue:()Ljava/lang/String;
     135: astore        10
     137: aload         4
     139: getstatic     #22                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.RUNTIME_NAME:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     142: invokevirtual #23                 // Method org/jboss/as/controller/SimpleAttributeDefinition.getName:()Ljava/lang/String;
     145: invokevirtual #24                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     148: ifne          168
     151: aload         4
     153: getstatic     #22                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.RUNTIME_NAME:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     156: invokevirtual #23                 // Method org/jboss/as/controller/SimpleAttributeDefinition.getName:()Ljava/lang/String;
     159: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     162: aload         10
     164: invokevirtual #25                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     167: pop
     168: aconst_null
     169: astore        11
     171: aload         7
     173: getstatic     #26                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.CONTENT_HASH:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     176: invokevirtual #23                 // Method org/jboss/as/controller/SimpleAttributeDefinition.getName:()Ljava/lang/String;
     179: invokevirtual #24                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     182: ifeq          331
     185: aload         7
     187: getstatic     #26                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.CONTENT_HASH:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     190: invokevirtual #23                 // Method org/jboss/as/controller/SimpleAttributeDefinition.getName:()Ljava/lang/String;
     193: invokevirtual #16                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     196: invokevirtual #27                 // Method org/jboss/dmr/ModelNode.asBytes:()[B
     199: astore        11
     201: aload_0
     202: getfield      #4                  // Field fileRepository:Lorg/jboss/as/repository/HostFileRepository;
     205: ifnonnull     304
     208: aload_0
     209: getfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
     212: ifnull        304
     215: aload_0
     216: getfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
     219: aload         11
     221: invokeinterface #28,  2           // InterfaceMethod org/jboss/as/repository/ContentRepository.hasContent:([B)Z
     226: ifne          304
     229: aload_1
     230: invokeinterface #29,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.isBooting:()Z
     235: ifeq          287
     238: aload_1
     239: invokeinterface #30,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getRunningMode:()Lorg/jboss/as/controller/RunningMode;
     244: getstatic     #31                 // Field org/jboss/as/controller/RunningMode.ADMIN_ONLY:Lorg/jboss/as/controller/RunningMode;
     247: if_acmpne     268
     250: getstatic     #32                 // Field org/jboss/as/domain/controller/logging/DomainControllerLogger.ROOT_LOGGER:Lorg/jboss/as/domain/controller/logging/DomainControllerLogger;
     253: aload         11
     255: invokestatic  #33                 // Method org/jboss/as/controller/HashUtil.bytesToHexString:([B)Ljava/lang/String;
     258: aload         10
     260: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/controller/logging/DomainControllerLogger.reportAdminOnlyMissingDeploymentContent:(Ljava/lang/String;Ljava/lang/String;)V
     265: goto          451
     268: getstatic     #32                 // Field org/jboss/as/domain/controller/logging/DomainControllerLogger.ROOT_LOGGER:Lorg/jboss/as/domain/controller/logging/DomainControllerLogger;
     271: aload         11
     273: invokestatic  #33                 // Method org/jboss/as/controller/HashUtil.bytesToHexString:([B)Ljava/lang/String;
     276: aload         10
     278: invokeinterface #35,  3           // InterfaceMethod org/jboss/as/domain/controller/logging/DomainControllerLogger.noDeploymentContentWithHashAtBoot:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     283: invokestatic  #36                 // Method createFailureException:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     286: athrow
     287: getstatic     #32                 // Field org/jboss/as/domain/controller/logging/DomainControllerLogger.ROOT_LOGGER:Lorg/jboss/as/domain/controller/logging/DomainControllerLogger;
     290: aload         11
     292: invokestatic  #33                 // Method org/jboss/as/controller/HashUtil.bytesToHexString:([B)Ljava/lang/String;
     295: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/domain/controller/logging/DomainControllerLogger.noDeploymentContentWithHash:(Ljava/lang/String;)Ljava/lang/String;
     300: invokestatic  #36                 // Method createFailureException:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     303: athrow
     304: aload_0
     305: getfield      #4                  // Field fileRepository:Lorg/jboss/as/repository/HostFileRepository;
     308: ifnull        451
     311: aload_0
     312: getfield      #4                  // Field fileRepository:Lorg/jboss/as/repository/HostFileRepository;
     315: aload         9
     317: aload         11
     319: invokestatic  #38                 // Method org/jboss/as/server/deployment/ModelContentReference.fromModelAddress:(Lorg/jboss/as/controller/PathAddress;[B)Lorg/jboss/as/repository/ContentReference;
     322: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/repository/HostFileRepository.getDeploymentFiles:(Lorg/jboss/as/repository/ContentReference;)[Ljava/io/File;
     327: pop
     328: goto          451
     331: aload         7
     333: invokestatic  #40                 // Method org/jboss/as/server/deployment/DeploymentHandlerUtils.hasValidContentAdditionParameterDefined:(Lorg/jboss/dmr/ModelNode;)Z
     336: ifeq          451
     339: aload_0
     340: getfield      #4                  // Field fileRepository:Lorg/jboss/as/repository/HostFileRepository;
     343: ifnonnull     353
     346: aload_0
     347: getfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
     350: ifnonnull     365
     353: getstatic     #32                 // Field org/jboss/as/domain/controller/logging/DomainControllerLogger.ROOT_LOGGER:Lorg/jboss/as/domain/controller/logging/DomainControllerLogger;
     356: invokeinterface #41,  1           // InterfaceMethod org/jboss/as/domain/controller/logging/DomainControllerLogger.slaveCannotAcceptUploads:()Ljava/lang/String;
     361: invokestatic  #36                 // Method createFailureException:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     364: athrow
     365: aload_1
     366: aload         5
     368: aload_0
     369: getfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
     372: invokestatic  #42                 // Method org/jboss/as/domain/controller/operations/deployment/DeploymentUploadUtil.storeContentAndTransformOperation:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/repository/ContentRepository;)[B
     375: astore        11
     377: goto          391
     380: astore        12
     382: aload         12
     384: invokevirtual #44                 // Method java/io/IOException.toString:()Ljava/lang/String;
     387: invokestatic  #36                 // Method createFailureException:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     390: athrow
     391: new           #45                 // class org/jboss/dmr/ModelNode
     394: dup
     395: invokespecial #46                 // Method org/jboss/dmr/ModelNode."<init>":()V
     398: astore        7
     400: aload         7
     402: getstatic     #26                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.CONTENT_HASH:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     405: invokevirtual #23                 // Method org/jboss/as/controller/SimpleAttributeDefinition.getName:()Ljava/lang/String;
     408: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     411: aload         11
     413: invokevirtual #47                 // Method org/jboss/dmr/ModelNode.set:([B)Lorg/jboss/dmr/ModelNode;
     416: pop
     417: new           #45                 // class org/jboss/dmr/ModelNode
     420: dup
     421: invokespecial #46                 // Method org/jboss/dmr/ModelNode."<init>":()V
     424: astore        6
     426: aload         6
     428: aload         7
     430: invokevirtual #48                 // Method org/jboss/dmr/ModelNode.add:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     433: pop
     434: aload         4
     436: getstatic     #14                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.CONTENT_ALL:Lorg/jboss/as/controller/ObjectListAttributeDefinition;
     439: invokevirtual #15                 // Method org/jboss/as/controller/ObjectListAttributeDefinition.getName:()Ljava/lang/String;
     442: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     445: aload         6
     447: invokevirtual #13                 // Method org/jboss/dmr/ModelNode.set:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     450: pop
     451: aload_0
     452: getfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
     455: ifnull        485
     458: aload         11
     460: ifnull        485
     463: aload         11
     465: astore        12
     467: aload_1
     468: new           #49                 // class org/jboss/as/domain/controller/operations/deployment/DeploymentAddHandler$1
     471: dup
     472: aload_0
     473: aload         9
     475: aload         12
     477: invokespecial #50                 // Method org/jboss/as/domain/controller/operations/deployment/DeploymentAddHandler$1."<init>":(Lorg/jboss/as/domain/controller/operations/deployment/DeploymentAddHandler;Lorg/jboss/as/controller/PathAddress;[B)V
     480: invokeinterface #51,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.completeStep:(Lorg/jboss/as/controller/OperationContext$ResultHandler;)V
     485: return
    Exception table:
       from    to  target type
         365   377   380   Class java/io/IOException

  private static org.jboss.as.controller.OperationFailedException createFailureException(java.lang.String);
    Code:
       0: new           #52                 // class org/jboss/as/controller/OperationFailedException
       3: dup
       4: aload_0
       5: invokespecial #53                 // Method org/jboss/as/controller/OperationFailedException."<init>":(Ljava/lang/String;)V
       8: areturn

  static org.jboss.as.repository.ContentRepository access$000(org.jboss.as.domain.controller.operations.deployment.DeploymentAddHandler);
    Code:
       0: aload_0
       1: getfield      #2                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
       4: areturn
}
