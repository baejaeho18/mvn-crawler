Compiled from "LoggingResourceDefinition.java"
class org.jboss.as.logging.LoggingResourceDefinition$ReadLogFileOperation implements org.jboss.as.controller.OperationStepHandler {
  final org.jboss.as.logging.LoggingResourceDefinition this$0;

  private org.jboss.as.logging.LoggingResourceDefinition$ReadLogFileOperation(org.jboss.as.logging.LoggingResourceDefinition);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lorg/jboss/as/logging/LoggingResourceDefinition;
       5: aload_0
       6: invokespecial #3                  // Method java/lang/Object."<init>":()V
       9: return

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: getstatic     #4                  // Field org/jboss/as/logging/LoggingResourceDefinition.READ_LOG_FILE:Lorg/jboss/as/controller/SimpleOperationDefinition;
       3: invokevirtual #5                  // Method org/jboss/as/controller/SimpleOperationDefinition.getParameters:()[Lorg/jboss/as/controller/AttributeDefinition;
       6: astore_3
       7: aload_3
       8: arraylength
       9: istore        4
      11: iconst_0
      12: istore        5
      14: iload         5
      16: iload         4
      18: if_icmpge     40
      21: aload_3
      22: iload         5
      24: aaload
      25: astore        6
      27: aload         6
      29: aload_2
      30: invokevirtual #6                  // Method org/jboss/as/controller/AttributeDefinition.validateOperation:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      33: pop
      34: iinc          5, 1
      37: goto          14
      40: getstatic     #7                  // Field org/jboss/as/logging/LoggingResourceDefinition.NAME:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      43: aload_1
      44: aload_2
      45: invokevirtual #8                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      48: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
      51: astore_3
      52: getstatic     #10                 // Field org/jboss/as/logging/LoggingResourceDefinition.LINES:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      55: aload_1
      56: aload_2
      57: invokevirtual #8                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      60: invokevirtual #11                 // Method org/jboss/dmr/ModelNode.asInt:()I
      63: istore        4
      65: getstatic     #12                 // Field org/jboss/as/logging/LoggingResourceDefinition.SKIP:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      68: aload_1
      69: aload_2
      70: invokevirtual #8                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      73: invokevirtual #11                 // Method org/jboss/dmr/ModelNode.asInt:()I
      76: istore        5
      78: getstatic     #13                 // Field org/jboss/as/logging/LoggingResourceDefinition.TAIL:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      81: aload_1
      82: aload_2
      83: invokevirtual #8                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      86: invokevirtual #14                 // Method org/jboss/dmr/ModelNode.asBoolean:()Z
      89: istore        6
      91: getstatic     #15                 // Field org/jboss/as/logging/CommonAttributes.ENCODING:Lorg/jboss/as/logging/PropertyAttributeDefinition;
      94: aload_1
      95: aload_2
      96: invokevirtual #16                 // Method org/jboss/as/logging/PropertyAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      99: astore        7
     101: aload         7
     103: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.isDefined:()Z
     106: ifeq          117
     109: aload         7
     111: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     114: goto          118
     117: aconst_null
     118: astore        8
     120: new           #18                 // class java/io/File
     123: dup
     124: aload_0
     125: getfield      #2                  // Field this$0:Lorg/jboss/as/logging/LoggingResourceDefinition;
     128: invokestatic  #19                 // Method org/jboss/as/logging/LoggingResourceDefinition.access$200:(Lorg/jboss/as/logging/LoggingResourceDefinition;)Lorg/jboss/as/controller/services/path/PathManager;
     131: aload_3
     132: ldc           #21                 // String jboss.server.log.dir
     134: invokeinterface #22,  3           // InterfaceMethod org/jboss/as/controller/services/path/PathManager.resolveRelativePathEntry:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     139: invokespecial #23                 // Method java/io/File."<init>":(Ljava/lang/String;)V
     142: astore        9
     144: aload         9
     146: invokevirtual #24                 // Method java/io/File.exists:()Z
     149: ifne          164
     152: getstatic     #25                 // Field org/jboss/as/logging/logging/LoggingLogger.ROOT_LOGGER:Lorg/jboss/as/logging/logging/LoggingLogger;
     155: aload_3
     156: ldc           #21                 // String jboss.server.log.dir
     158: invokeinterface #26,  3           // InterfaceMethod org/jboss/as/logging/logging/LoggingLogger.logFileNotFound:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/registry/Resource$NoSuchResourceException;
     163: athrow
     164: aload_1
     165: getstatic     #27                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
     168: invokeinterface #28,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.readResource:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
     173: invokestatic  #29                 // Method org/jboss/as/controller/registry/Resource$Tools.readModel:(Lorg/jboss/as/controller/registry/Resource;)Lorg/jboss/dmr/ModelNode;
     176: astore        10
     178: aload_0
     179: getfield      #2                  // Field this$0:Lorg/jboss/as/logging/LoggingResourceDefinition;
     182: invokestatic  #19                 // Method org/jboss/as/logging/LoggingResourceDefinition.access$200:(Lorg/jboss/as/logging/LoggingResourceDefinition;)Lorg/jboss/as/controller/services/path/PathManager;
     185: ldc           #21                 // String jboss.server.log.dir
     187: invokeinterface #30,  2           // InterfaceMethod org/jboss/as/controller/services/path/PathManager.getPathEntry:(Ljava/lang/String;)Lorg/jboss/as/controller/services/path/PathEntry;
     192: invokevirtual #31                 // Method org/jboss/as/controller/services/path/PathEntry.resolvePath:()Ljava/lang/String;
     195: aload         10
     197: invokestatic  #32                 // Method org/jboss/as/logging/LoggingResourceDefinition.access$300:(Ljava/lang/String;Lorg/jboss/dmr/ModelNode;)Ljava/util/List;
     200: astore        11
     202: goto          219
     205: astore        12
     207: getstatic     #25                 // Field org/jboss/as/logging/logging/LoggingLogger.ROOT_LOGGER:Lorg/jboss/as/logging/logging/LoggingLogger;
     210: aload         12
     212: aload_3
     213: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/logging/logging/LoggingLogger.failedToReadLogFile:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
     218: athrow
     219: aload         9
     221: invokevirtual #35                 // Method java/io/File.canRead:()Z
     224: ifeq          239
     227: aload         11
     229: aload         9
     231: invokeinterface #36,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     236: ifne          249
     239: getstatic     #25                 // Field org/jboss/as/logging/logging/LoggingLogger.ROOT_LOGGER:Lorg/jboss/as/logging/logging/LoggingLogger;
     242: aload_3
     243: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/logging/logging/LoggingLogger.readNotAllowed:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     248: athrow
     249: iload         4
     251: ifne          262
     254: invokestatic  #38                 // Method java/util/Collections.emptyList:()Ljava/util/List;
     257: astore        12
     259: goto          278
     262: aload_0
     263: aload         9
     265: aload         8
     267: iload         6
     269: iload         5
     271: iload         4
     273: invokespecial #39                 // Method readLines:(Ljava/io/File;Ljava/lang/String;ZII)Ljava/util/List;
     276: astore        12
     278: aload_1
     279: invokeinterface #40,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getResult:()Lorg/jboss/dmr/ModelNode;
     284: invokevirtual #41                 // Method org/jboss/dmr/ModelNode.setEmptyList:()Lorg/jboss/dmr/ModelNode;
     287: astore        13
     289: aload         12
     291: invokeinterface #42,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     296: astore        14
     298: aload         14
     300: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     305: ifeq          331
     308: aload         14
     310: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     315: checkcast     #45                 // class java/lang/String
     318: astore        15
     320: aload         13
     322: aload         15
     324: invokevirtual #46                 // Method org/jboss/dmr/ModelNode.add:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     327: pop
     328: goto          298
     331: goto          348
     334: astore        12
     336: getstatic     #25                 // Field org/jboss/as/logging/logging/LoggingLogger.ROOT_LOGGER:Lorg/jboss/as/logging/logging/LoggingLogger;
     339: aload         12
     341: aload_3
     342: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/logging/logging/LoggingLogger.failedToReadLogFile:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
     347: athrow
     348: aload_1
     349: getstatic     #47                 // Field org/jboss/as/controller/OperationContext$ResultHandler.NOOP_RESULT_HANDLER:Lorg/jboss/as/controller/OperationContext$ResultHandler;
     352: invokeinterface #48,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.completeStep:(Lorg/jboss/as/controller/OperationContext$ResultHandler;)V
     357: return
    Exception table:
       from    to  target type
         178   202   205   Class java/io/IOException
         249   331   334   Class java/io/IOException

  private java.util.List<java.lang.String> readLines(java.io.File, java.lang.String, boolean, int, int) throws java.io.IOException;
    Code:
       0: iload         5
       2: ifge          17
       5: new           #49                 // class java/util/ArrayList
       8: dup
       9: invokespecial #50                 // Method java/util/ArrayList."<init>":()V
      12: astore        6
      14: goto          28
      17: new           #49                 // class java/util/ArrayList
      20: dup
      21: iload         5
      23: invokespecial #51                 // Method java/util/ArrayList."<init>":(I)V
      26: astore        6
      28: aconst_null
      29: astore        8
      31: iload_3
      32: ifeq          48
      35: new           #52                 // class org/jboss/as/logging/LogFileResourceDefinition$LifoFileInputStream
      38: dup
      39: aload_1
      40: invokespecial #53                 // Method org/jboss/as/logging/LogFileResourceDefinition$LifoFileInputStream."<init>":(Ljava/io/File;)V
      43: astore        7
      45: goto          58
      48: new           #54                 // class java/io/FileInputStream
      51: dup
      52: aload_1
      53: invokespecial #55                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      56: astore        7
      58: aload_2
      59: ifnonnull     83
      62: new           #56                 // class java/io/BufferedReader
      65: dup
      66: new           #57                 // class java/io/InputStreamReader
      69: dup
      70: aload         7
      72: invokespecial #58                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;)V
      75: invokespecial #59                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      78: astore        8
      80: goto          102
      83: new           #56                 // class java/io/BufferedReader
      86: dup
      87: new           #57                 // class java/io/InputStreamReader
      90: dup
      91: aload         7
      93: aload_2
      94: invokespecial #60                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/lang/String;)V
      97: invokespecial #59                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     100: astore        8
     102: iconst_0
     103: istore        9
     105: aload         8
     107: invokevirtual #61                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     110: dup
     111: astore        10
     113: ifnull        157
     116: iinc          9, 1
     119: iload         9
     121: iload         4
     123: if_icmpgt     129
     126: goto          105
     129: aload         6
     131: invokeinterface #62,  1           // InterfaceMethod java/util/List.size:()I
     136: iload         5
     138: if_icmpne     144
     141: goto          157
     144: aload         6
     146: aload         10
     148: invokeinterface #63,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     153: pop
     154: goto          105
     157: iload_3
     158: ifeq          166
     161: aload         6
     163: invokestatic  #64                 // Method java/util/Collections.reverse:(Ljava/util/List;)V
     166: aload         6
     168: astore        11
     170: aload         8
     172: invokestatic  #65                 // Method org/jboss/as/logging/LoggingResourceDefinition.access$400:(Ljava/io/Closeable;)V
     175: aload         11
     177: areturn
     178: astore        12
     180: aload         8
     182: invokestatic  #65                 // Method org/jboss/as/logging/LoggingResourceDefinition.access$400:(Ljava/io/Closeable;)V
     185: aload         12
     187: athrow
    Exception table:
       from    to  target type
          31   170   178   any
         178   180   178   any

  org.jboss.as.logging.LoggingResourceDefinition$ReadLogFileOperation(org.jboss.as.logging.LoggingResourceDefinition, org.jboss.as.logging.LoggingResourceDefinition$1);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method "<init>":(Lorg/jboss/as/logging/LoggingResourceDefinition;)V
       5: return
}
