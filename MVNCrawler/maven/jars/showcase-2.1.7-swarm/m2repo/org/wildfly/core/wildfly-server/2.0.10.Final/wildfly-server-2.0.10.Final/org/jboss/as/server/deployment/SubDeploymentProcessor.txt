Compiled from "SubDeploymentProcessor.java"
public class org.jboss.as.server.deployment.SubDeploymentProcessor implements org.jboss.as.server.deployment.DeploymentUnitProcessor {
  public org.jboss.as.server.deployment.SubDeploymentProcessor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void deploy(org.jboss.as.server.deployment.DeploymentPhaseContext) throws org.jboss.as.server.deployment.DeploymentUnitProcessingException;
    Code:
       0: aload_1
       1: invokeinterface #2,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getDeploymentUnit:()Lorg/jboss/as/server/deployment/DeploymentUnit;
       6: astore_2
       7: aload_2
       8: getstatic     #3                  // Field org/jboss/as/server/deployment/Attachments.DEPLOYMENT_ROOT:Lorg/jboss/as/server/deployment/AttachmentKey;
      11: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
      16: checkcast     #5                  // class org/jboss/as/server/deployment/module/ResourceRoot
      19: astore_3
      20: aload_2
      21: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      26: ifnull        55
      29: aload_2
      30: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getParent:()Lorg/jboss/as/server/deployment/DeploymentUnit;
      35: invokestatic  #7                  // Method org/jboss/as/server/deployment/ExplodedDeploymentMarker.isExplodedDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)Z
      38: ifeq          55
      41: aload_3
      42: invokevirtual #8                  // Method org/jboss/as/server/deployment/module/ResourceRoot.getRoot:()Lorg/jboss/vfs/VirtualFile;
      45: invokevirtual #9                  // Method org/jboss/vfs/VirtualFile.isDirectory:()Z
      48: ifeq          55
      51: aload_2
      52: invokestatic  #10                 // Method org/jboss/as/server/deployment/ExplodedDeploymentMarker.markAsExplodedDeployment:(Lorg/jboss/as/server/deployment/DeploymentUnit;)V
      55: aload_1
      56: invokeinterface #11,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.getServiceTarget:()Lorg/jboss/msc/service/ServiceTarget;
      61: astore        4
      63: aload_2
      64: getstatic     #12                 // Field org/jboss/as/server/deployment/Attachments.RESOURCE_ROOTS:Lorg/jboss/as/server/deployment/AttachmentKey;
      67: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/util/List;
      72: astore        5
      74: aload         5
      76: invokeinterface #14,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      81: astore        6
      83: aload         6
      85: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      90: ifeq          327
      93: aload         6
      95: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     100: checkcast     #5                  // class org/jboss/as/server/deployment/module/ResourceRoot
     103: astore        7
     105: aload         7
     107: aload_3
     108: if_acmpeq     83
     111: aload         7
     113: invokestatic  #17                 // Method org/jboss/as/server/deployment/SubDeploymentMarker.isSubDeployment:(Lorg/jboss/as/server/deployment/module/ResourceRoot;)Z
     116: ifne          122
     119: goto          83
     122: aload         7
     124: invokevirtual #18                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRootName:()Ljava/lang/String;
     127: aload_2
     128: invokestatic  #19                 // Method org/jboss/as/server/deployment/DeploymentResourceSupport.getOrCreateSubDeployment:(Ljava/lang/String;Lorg/jboss/as/server/deployment/DeploymentUnit;)Lorg/jboss/as/controller/registry/Resource;
     131: astore        8
     133: aload_2
     134: getstatic     #20                 // Field org/jboss/as/server/deployment/DeploymentResourceSupport.REGISTRATION_ATTACHMENT:Lorg/jboss/as/server/deployment/AttachmentKey;
     137: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     142: checkcast     #21                 // class org/jboss/as/controller/registry/ImmutableManagementResourceRegistration
     145: astore        9
     147: aload_2
     148: getstatic     #22                 // Field org/jboss/as/server/deployment/DeploymentResourceSupport.MUTABLE_REGISTRATION_ATTACHMENT:Lorg/jboss/as/server/deployment/AttachmentKey;
     151: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     156: checkcast     #23                 // class org/jboss/as/controller/registry/ManagementResourceRegistration
     159: astore        10
     161: aload_2
     162: getstatic     #24                 // Field org/jboss/as/server/deployment/Attachments.CAPABILITY_SERVICE_SUPPORT:Lorg/jboss/as/server/deployment/AttachmentKey;
     165: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     170: checkcast     #25                 // class org/jboss/as/controller/capability/CapabilityServiceSupport
     173: astore        11
     175: aload_2
     176: getstatic     #26                 // Field org/jboss/as/server/deployment/Attachments.VAULT_READER_ATTACHMENT_KEY:Lorg/jboss/as/server/deployment/AttachmentKey;
     179: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     184: checkcast     #27                 // class org/jboss/as/server/services/security/AbstractVaultReader
     187: astore        12
     189: aload_2
     190: getstatic     #28                 // Field org/jboss/as/server/deployment/Attachments.PATH_MANAGER:Lorg/jboss/as/server/deployment/AttachmentKey;
     193: invokeinterface #4,  2            // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachment:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/lang/Object;
     198: checkcast     #29                 // class org/jboss/as/controller/services/path/PathManager
     201: astore        13
     203: new           #30                 // class org/jboss/as/server/deployment/SubDeploymentUnitService
     206: dup
     207: aload         7
     209: aload_2
     210: aload         9
     212: aload         10
     214: aload         8
     216: aload         11
     218: aload         12
     220: aload         13
     222: invokespecial #31                 // Method org/jboss/as/server/deployment/SubDeploymentUnitService."<init>":(Lorg/jboss/as/server/deployment/module/ResourceRoot;Lorg/jboss/as/server/deployment/DeploymentUnit;Lorg/jboss/as/controller/registry/ImmutableManagementResourceRegistration;Lorg/jboss/as/controller/registry/ManagementResourceRegistration;Lorg/jboss/as/controller/registry/Resource;Lorg/jboss/as/controller/capability/CapabilityServiceSupport;Lorg/jboss/as/server/services/security/AbstractVaultReader;Lorg/jboss/as/controller/services/path/PathManager;)V
     225: astore        14
     227: aload_2
     228: invokeinterface #32,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
     233: aload         7
     235: invokevirtual #18                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRootName:()Ljava/lang/String;
     238: invokestatic  #33                 // Method org/jboss/as/server/deployment/Services.deploymentUnitName:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     241: astore        15
     243: aload         4
     245: aload         15
     247: aload         14
     249: invokeinterface #34,  3           // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
     254: getstatic     #35                 // Field org/jboss/as/server/deployment/Services.JBOSS_DEPLOYMENT_CHAINS:Lorg/jboss/msc/service/ServiceName;
     257: ldc           #36                 // class org/jboss/as/server/deployment/DeployerChains
     259: aload         14
     261: invokevirtual #37                 // Method org/jboss/as/server/deployment/SubDeploymentUnitService.getDeployerChainsInjector:()Lorg/jboss/msc/inject/Injector;
     264: invokeinterface #38,  4           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
     269: getstatic     #39                 // Field org/jboss/msc/service/ServiceController$Mode.ACTIVE:Lorg/jboss/msc/service/ServiceController$Mode;
     272: invokeinterface #40,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.setInitialMode:(Lorg/jboss/msc/service/ServiceController$Mode;)Lorg/jboss/msc/service/ServiceBuilder;
     277: invokeinterface #41,  1           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     282: pop
     283: aload_1
     284: aload         15
     286: getstatic     #42                 // Field org/jboss/as/server/deployment/Attachments.SUB_DEPLOYMENTS:Lorg/jboss/as/server/deployment/AttachmentKey;
     289: invokeinterface #43,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.addDeploymentDependency:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/as/server/deployment/AttachmentKey;)V
     294: aload_1
     295: getstatic     #44                 // Field org/jboss/as/server/deployment/Attachments.NEXT_PHASE_DEPS:Lorg/jboss/as/server/deployment/AttachmentKey;
     298: aload         15
     300: iconst_1
     301: anewarray     #45                 // class java/lang/String
     304: dup
     305: iconst_0
     306: getstatic     #46                 // Field org/jboss/as/server/deployment/Phase.STRUCTURE:Lorg/jboss/as/server/deployment/Phase;
     309: invokevirtual #47                 // Method org/jboss/as/server/deployment/Phase.name:()Ljava/lang/String;
     312: aastore
     313: invokestatic  #48                 // Method org/jboss/msc/service/ServiceName.of:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
     316: invokevirtual #49                 // Method org/jboss/msc/service/ServiceName.append:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceName;
     319: invokeinterface #50,  3           // InterfaceMethod org/jboss/as/server/deployment/DeploymentPhaseContext.addToAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;Ljava/lang/Object;)V
     324: goto          83
     327: return

  public void undeploy(org.jboss.as.server.deployment.DeploymentUnit);
    Code:
       0: aload_1
       1: invokeinterface #51,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getServiceRegistry:()Lorg/jboss/msc/service/ServiceRegistry;
       6: astore_2
       7: aload_1
       8: getstatic     #12                 // Field org/jboss/as/server/deployment/Attachments.RESOURCE_ROOTS:Lorg/jboss/as/server/deployment/AttachmentKey;
      11: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getAttachmentList:(Lorg/jboss/as/server/deployment/AttachmentKey;)Ljava/util/List;
      16: astore_3
      17: aload_3
      18: invokeinterface #14,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      23: astore        4
      25: aload         4
      27: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      32: ifeq          102
      35: aload         4
      37: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: checkcast     #5                  // class org/jboss/as/server/deployment/module/ResourceRoot
      45: astore        5
      47: aload         5
      49: invokestatic  #17                 // Method org/jboss/as/server/deployment/SubDeploymentMarker.isSubDeployment:(Lorg/jboss/as/server/deployment/module/ResourceRoot;)Z
      52: ifne          58
      55: goto          25
      58: aload_1
      59: invokeinterface #32,  1           // InterfaceMethod org/jboss/as/server/deployment/DeploymentUnit.getName:()Ljava/lang/String;
      64: aload         5
      66: invokevirtual #18                 // Method org/jboss/as/server/deployment/module/ResourceRoot.getRootName:()Ljava/lang/String;
      69: invokestatic  #33                 // Method org/jboss/as/server/deployment/Services.deploymentUnitName:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
      72: astore        6
      74: aload_2
      75: aload         6
      77: invokeinterface #52,  2           // InterfaceMethod org/jboss/msc/service/ServiceRegistry.getService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
      82: astore        7
      84: aload         7
      86: ifnull        99
      89: aload         7
      91: getstatic     #53                 // Field org/jboss/msc/service/ServiceController$Mode.REMOVE:Lorg/jboss/msc/service/ServiceController$Mode;
      94: invokeinterface #54,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.setMode:(Lorg/jboss/msc/service/ServiceController$Mode;)V
      99: goto          25
     102: return
}
