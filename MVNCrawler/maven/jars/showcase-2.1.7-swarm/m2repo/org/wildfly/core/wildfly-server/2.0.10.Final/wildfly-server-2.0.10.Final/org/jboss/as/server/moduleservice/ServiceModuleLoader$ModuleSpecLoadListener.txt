Compiled from "ServiceModuleLoader.java"
class org.jboss.as.server.moduleservice.ServiceModuleLoader$ModuleSpecLoadListener extends org.jboss.msc.service.AbstractServiceListener<org.jboss.as.server.moduleservice.ModuleDefinition> {
  private final java.util.concurrent.CountDownLatch latch;

  private volatile org.jboss.msc.service.StartException startException;

  private volatile org.jboss.modules.ModuleSpec moduleSpec;

  final org.jboss.as.server.moduleservice.ServiceModuleLoader this$0;

  private org.jboss.as.server.moduleservice.ServiceModuleLoader$ModuleSpecLoadListener(org.jboss.as.server.moduleservice.ServiceModuleLoader, org.jboss.modules.ModuleIdentifier);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lorg/jboss/as/server/moduleservice/ServiceModuleLoader;
       5: aload_0
       6: invokespecial #3                  // Method org/jboss/msc/service/AbstractServiceListener."<init>":()V
       9: aload_0
      10: new           #4                  // class java/util/concurrent/CountDownLatch
      13: dup
      14: iconst_1
      15: invokespecial #5                  // Method java/util/concurrent/CountDownLatch."<init>":(I)V
      18: putfield      #6                  // Field latch:Ljava/util/concurrent/CountDownLatch;
      21: return

  public void listenerAdded(org.jboss.msc.service.ServiceController<? extends org.jboss.as.server.moduleservice.ModuleDefinition>);
    Code:
       0: invokestatic  #7                  // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.access$000:()Lorg/jboss/as/server/logging/ServerLogger;
       3: ldc           #8                  // String listenerAdded: %s
       5: aload_1
       6: invokeinterface #9,  3            // InterfaceMethod org/jboss/as/server/logging/ServerLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      11: aload_1
      12: invokeinterface #10,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getState:()Lorg/jboss/msc/service/ServiceController$State;
      17: astore_2
      18: aload_2
      19: getstatic     #11                 // Field org/jboss/msc/service/ServiceController$State.UP:Lorg/jboss/msc/service/ServiceController$State;
      22: if_acmpeq     32
      25: aload_2
      26: getstatic     #12                 // Field org/jboss/msc/service/ServiceController$State.START_FAILED:Lorg/jboss/msc/service/ServiceController$State;
      29: if_acmpne     43
      32: aload_0
      33: aload_1
      34: aload_1
      35: invokeinterface #13,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getStartException:()Lorg/jboss/msc/service/StartException;
      40: invokespecial #14                 // Method done:(Lorg/jboss/msc/service/ServiceController;Lorg/jboss/msc/service/StartException;)V
      43: return

  public void transition(org.jboss.msc.service.ServiceController<? extends org.jboss.as.server.moduleservice.ModuleDefinition>, org.jboss.msc.service.ServiceController$Transition);
    Code:
       0: getstatic     #15                 // Field org/jboss/as/server/moduleservice/ServiceModuleLoader$1.$SwitchMap$org$jboss$msc$service$ServiceController$Transition:[I
       3: aload_2
       4: invokevirtual #16                 // Method org/jboss/msc/service/ServiceController$Transition.ordinal:()I
       7: iaload
       8: tableswitch   { // 1 to 3
                     1: 36
                     2: 56
                     3: 87
               default: 144
          }
      36: invokestatic  #7                  // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.access$000:()Lorg/jboss/as/server/logging/ServerLogger;
      39: ldc           #17                 // String serviceStarted: %s
      41: aload_1
      42: invokeinterface #9,  3            // InterfaceMethod org/jboss/as/server/logging/ServerLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      47: aload_0
      48: aload_1
      49: aconst_null
      50: invokespecial #14                 // Method done:(Lorg/jboss/msc/service/ServiceController;Lorg/jboss/msc/service/StartException;)V
      53: goto          144
      56: invokestatic  #7                  // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.access$000:()Lorg/jboss/as/server/logging/ServerLogger;
      59: aload_1
      60: invokeinterface #13,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getStartException:()Lorg/jboss/msc/service/StartException;
      65: ldc           #18                 // String serviceFailed: %s
      67: aload_1
      68: invokeinterface #19,  4           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.tracef:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/Object;)V
      73: aload_0
      74: aload_1
      75: aload_1
      76: invokeinterface #13,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getStartException:()Lorg/jboss/msc/service/StartException;
      81: invokespecial #14                 // Method done:(Lorg/jboss/msc/service/ServiceController;Lorg/jboss/msc/service/StartException;)V
      84: goto          144
      87: invokestatic  #7                  // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.access$000:()Lorg/jboss/as/server/logging/ServerLogger;
      90: ldc           #20                 // String serviceStopping: %s
      92: aload_1
      93: invokeinterface #9,  3            // InterfaceMethod org/jboss/as/server/logging/ServerLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      98: aload_0
      99: getfield      #21                 // Field moduleSpec:Lorg/jboss/modules/ModuleSpec;
     102: astore_3
     103: aload_3
     104: invokevirtual #22                 // Method org/jboss/modules/ModuleSpec.getModuleIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
     107: astore        4
     109: aload_0
     110: getfield      #2                  // Field this$0:Lorg/jboss/as/server/moduleservice/ServiceModuleLoader;
     113: aload         4
     115: invokestatic  #23                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.access$100:(Lorg/jboss/as/server/moduleservice/ServiceModuleLoader;Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/modules/Module;
     118: astore        5
     120: aload         5
     122: ifnull        134
     125: aload_0
     126: getfield      #2                  // Field this$0:Lorg/jboss/as/server/moduleservice/ServiceModuleLoader;
     129: aload         5
     131: invokestatic  #24                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.access$200:(Lorg/jboss/as/server/moduleservice/ServiceModuleLoader;Lorg/jboss/modules/Module;)V
     134: aload_1
     135: aload_0
     136: invokeinterface #25,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.removeListener:(Lorg/jboss/msc/service/ServiceListener;)V
     141: goto          144
     144: return

  private void done(org.jboss.msc.service.ServiceController<? extends org.jboss.as.server.moduleservice.ModuleDefinition>, org.jboss.msc.service.StartException);
    Code:
       0: aload_0
       1: aload_2
       2: putfield      #26                 // Field startException:Lorg/jboss/msc/service/StartException;
       5: aload_0
       6: getfield      #26                 // Field startException:Lorg/jboss/msc/service/StartException;
       9: ifnonnull     28
      12: aload_0
      13: aload_1
      14: invokeinterface #27,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getValue:()Ljava/lang/Object;
      19: checkcast     #28                 // class org/jboss/as/server/moduleservice/ModuleDefinition
      22: invokevirtual #29                 // Method org/jboss/as/server/moduleservice/ModuleDefinition.getModuleSpec:()Lorg/jboss/modules/ModuleSpec;
      25: putfield      #21                 // Field moduleSpec:Lorg/jboss/modules/ModuleSpec;
      28: aload_0
      29: getfield      #6                  // Field latch:Ljava/util/concurrent/CountDownLatch;
      32: invokevirtual #30                 // Method java/util/concurrent/CountDownLatch.countDown:()V
      35: return

  public org.jboss.modules.ModuleSpec getModuleSpec() throws org.jboss.modules.ModuleLoadException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field startException:Lorg/jboss/msc/service/StartException;
       4: ifnull        22
       7: new           #31                 // class org/jboss/modules/ModuleLoadException
      10: dup
      11: aload_0
      12: getfield      #26                 // Field startException:Lorg/jboss/msc/service/StartException;
      15: invokevirtual #32                 // Method org/jboss/msc/service/StartException.getCause:()Ljava/lang/Throwable;
      18: invokespecial #33                 // Method org/jboss/modules/ModuleLoadException."<init>":(Ljava/lang/Throwable;)V
      21: athrow
      22: aload_0
      23: getfield      #21                 // Field moduleSpec:Lorg/jboss/modules/ModuleSpec;
      26: areturn

  org.jboss.as.server.moduleservice.ServiceModuleLoader$ModuleSpecLoadListener(org.jboss.as.server.moduleservice.ServiceModuleLoader, org.jboss.modules.ModuleIdentifier, org.jboss.as.server.moduleservice.ServiceModuleLoader$1);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method "<init>":(Lorg/jboss/as/server/moduleservice/ServiceModuleLoader;Lorg/jboss/modules/ModuleIdentifier;)V
       6: return
}
