Compiled from "WhoAmIOperation.java"
public class org.jboss.as.domain.management.security.WhoAmIOperation implements org.jboss.as.controller.OperationStepHandler {
  private static final org.jboss.as.controller.SimpleAttributeDefinition VERBOSE;

  public static final org.jboss.as.controller.SimpleOperationDefinition DEFINITION;

  private final org.jboss.as.controller.access.Authorizer authorizer;

  private org.jboss.as.domain.management.security.WhoAmIOperation(org.jboss.as.controller.access.Authorizer);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field authorizer:Lorg/jboss/as/controller/access/Authorizer;
       9: return

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: getstatic     #4                  // Field VERBOSE:Lorg/jboss/as/controller/SimpleAttributeDefinition;
       3: aload_1
       4: aload_2
       5: invokevirtual #5                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
       8: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.asBoolean:()Z
      11: istore_3
      12: aload_1
      13: invokeinterface #7,  1            // InterfaceMethod org/jboss/as/controller/OperationContext.getCaller:()Lorg/jboss/as/controller/access/Caller;
      18: astore        4
      20: aload         4
      22: ifnonnull     41
      25: new           #8                  // class org/jboss/as/controller/OperationFailedException
      28: dup
      29: getstatic     #9                  // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
      32: invokeinterface #10,  1           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.noSecurityContextEstablished:()Ljava/lang/String;
      37: invokespecial #11                 // Method org/jboss/as/controller/OperationFailedException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: aload_1
      42: invokeinterface #12,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getResult:()Lorg/jboss/dmr/ModelNode;
      47: astore        5
      49: aload         5
      51: ldc           #13                 // String identity
      53: invokevirtual #14                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      56: astore        6
      58: aload         6
      60: ldc           #15                 // String username
      62: invokevirtual #14                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      65: aload         4
      67: invokevirtual #16                 // Method org/jboss/as/controller/access/Caller.getName:()Ljava/lang/String;
      70: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      73: pop
      74: aload         4
      76: invokevirtual #18                 // Method org/jboss/as/controller/access/Caller.getRealm:()Ljava/lang/String;
      79: astore        7
      81: aload         7
      83: ifnull        99
      86: aload         6
      88: ldc           #19                 // String realm
      90: invokevirtual #14                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      93: aload         7
      95: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      98: pop
      99: iload_3
     100: ifeq          333
     103: aload         4
     105: invokevirtual #20                 // Method org/jboss/as/controller/access/Caller.getAssociatedGroups:()Ljava/util/Set;
     108: astore        8
     110: aload         8
     112: invokeinterface #21,  1           // InterfaceMethod java/util/Set.size:()I
     117: ifle          171
     120: aload         5
     122: ldc           #22                 // String groups
     124: invokevirtual #14                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     127: astore        9
     129: aload         8
     131: invokeinterface #23,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     136: astore        10
     138: aload         10
     140: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     145: ifeq          171
     148: aload         10
     150: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     155: checkcast     #26                 // class java/lang/String
     158: astore        11
     160: aload         9
     162: aload         11
     164: invokevirtual #27                 // Method org/jboss/dmr/ModelNode.add:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     167: pop
     168: goto          138
     171: aload         4
     173: invokevirtual #28                 // Method org/jboss/as/controller/access/Caller.getAssociatedRoles:()Ljava/util/Set;
     176: astore        9
     178: aload         9
     180: invokeinterface #21,  1           // InterfaceMethod java/util/Set.size:()I
     185: ifle          239
     188: aload         5
     190: ldc           #29                 // String roles
     192: invokevirtual #14                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     195: astore        10
     197: aload         9
     199: invokeinterface #23,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     204: astore        11
     206: aload         11
     208: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     213: ifeq          239
     216: aload         11
     218: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     223: checkcast     #26                 // class java/lang/String
     226: astore        12
     228: aload         10
     230: aload         12
     232: invokevirtual #27                 // Method org/jboss/dmr/ModelNode.add:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     235: pop
     236: goto          206
     239: aload_0
     240: getfield      #3                  // Field authorizer:Lorg/jboss/as/controller/access/Authorizer;
     243: ifnonnull     250
     246: aconst_null
     247: goto          275
     250: aload_0
     251: getfield      #3                  // Field authorizer:Lorg/jboss/as/controller/access/Authorizer;
     254: aload_1
     255: invokeinterface #7,  1            // InterfaceMethod org/jboss/as/controller/OperationContext.getCaller:()Lorg/jboss/as/controller/access/Caller;
     260: aload_1
     261: invokeinterface #30,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getCallEnvironment:()Lorg/jboss/as/controller/access/Environment;
     266: aload_2
     267: invokestatic  #31                 // Method org/jboss/as/controller/access/rbac/RunAsRoleMapper.getOperationHeaderRoles:(Lorg/jboss/dmr/ModelNode;)Ljava/util/Set;
     270: invokeinterface #32,  4           // InterfaceMethod org/jboss/as/controller/access/Authorizer.getCallerRoles:(Lorg/jboss/as/controller/access/Caller;Lorg/jboss/as/controller/access/Environment;Ljava/util/Set;)Ljava/util/Set;
     275: astore        10
     277: aload         10
     279: ifnull        333
     282: aload         5
     284: ldc           #33                 // String mapped-roles
     286: invokevirtual #14                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     289: astore        11
     291: aload         10
     293: invokeinterface #23,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     298: astore        12
     300: aload         12
     302: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     307: ifeq          333
     310: aload         12
     312: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     317: checkcast     #26                 // class java/lang/String
     320: astore        13
     322: aload         11
     324: aload         13
     326: invokevirtual #27                 // Method org/jboss/dmr/ModelNode.add:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     329: pop
     330: goto          300
     333: aload_1
     334: getstatic     #34                 // Field org/jboss/as/controller/OperationContext$RollbackHandler.NOOP_ROLLBACK_HANDLER:Lorg/jboss/as/controller/OperationContext$RollbackHandler;
     337: invokeinterface #35,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.completeStep:(Lorg/jboss/as/controller/OperationContext$RollbackHandler;)V
     342: return

  public static org.jboss.as.controller.OperationStepHandler createOperation(org.jboss.as.controller.access.Authorizer);
    Code:
       0: new           #36                 // class org/jboss/as/domain/management/security/WhoAmIOperation
       3: dup
       4: aload_0
       5: invokespecial #37                 // Method "<init>":(Lorg/jboss/as/controller/access/Authorizer;)V
       8: areturn

  static {};
    Code:
       0: new           #38                 // class org/jboss/as/controller/SimpleAttributeDefinitionBuilder
       3: dup
       4: ldc           #39                 // String verbose
       6: getstatic     #40                 // Field org/jboss/dmr/ModelType.BOOLEAN:Lorg/jboss/dmr/ModelType;
       9: invokespecial #41                 // Method org/jboss/as/controller/SimpleAttributeDefinitionBuilder."<init>":(Ljava/lang/String;Lorg/jboss/dmr/ModelType;)V
      12: iconst_1
      13: invokevirtual #42                 // Method org/jboss/as/controller/SimpleAttributeDefinitionBuilder.setAllowNull:(Z)Lorg/jboss/as/controller/AbstractAttributeDefinitionBuilder;
      16: checkcast     #38                 // class org/jboss/as/controller/SimpleAttributeDefinitionBuilder
      19: new           #43                 // class org/jboss/dmr/ModelNode
      22: dup
      23: iconst_0
      24: invokespecial #44                 // Method org/jboss/dmr/ModelNode."<init>":(Z)V
      27: invokevirtual #45                 // Method org/jboss/as/controller/SimpleAttributeDefinitionBuilder.setDefaultValue:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/as/controller/AbstractAttributeDefinitionBuilder;
      30: checkcast     #38                 // class org/jboss/as/controller/SimpleAttributeDefinitionBuilder
      33: invokevirtual #46                 // Method org/jboss/as/controller/SimpleAttributeDefinitionBuilder.build:()Lorg/jboss/as/controller/SimpleAttributeDefinition;
      36: putstatic     #4                  // Field VERBOSE:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      39: new           #47                 // class org/jboss/as/controller/SimpleOperationDefinitionBuilder
      42: dup
      43: ldc           #48                 // String whoami
      45: iconst_2
      46: anewarray     #26                 // class java/lang/String
      49: dup
      50: iconst_0
      51: ldc           #49                 // String core
      53: aastore
      54: dup
      55: iconst_1
      56: ldc           #50                 // String management
      58: aastore
      59: invokestatic  #51                 // Method org/jboss/as/controller/descriptions/common/ControllerResolver.getResolver:([Ljava/lang/String;)Lorg/jboss/as/controller/descriptions/ResourceDescriptionResolver;
      62: invokespecial #52                 // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder."<init>":(Ljava/lang/String;Lorg/jboss/as/controller/descriptions/ResourceDescriptionResolver;)V
      65: iconst_1
      66: anewarray     #53                 // class org/jboss/as/controller/AttributeDefinition
      69: dup
      70: iconst_0
      71: getstatic     #4                  // Field VERBOSE:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      74: aastore
      75: invokevirtual #54                 // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder.setParameters:([Lorg/jboss/as/controller/AttributeDefinition;)Lorg/jboss/as/controller/SimpleOperationDefinitionBuilder;
      78: invokevirtual #55                 // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder.setReadOnly:()Lorg/jboss/as/controller/SimpleOperationDefinitionBuilder;
      81: getstatic     #56                 // Field org/jboss/dmr/ModelType.STRING:Lorg/jboss/dmr/ModelType;
      84: invokevirtual #57                 // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder.setReplyType:(Lorg/jboss/dmr/ModelType;)Lorg/jboss/as/controller/SimpleOperationDefinitionBuilder;
      87: invokevirtual #58                 // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder.build:()Lorg/jboss/as/controller/SimpleOperationDefinition;
      90: putstatic     #59                 // Field DEFINITION:Lorg/jboss/as/controller/SimpleOperationDefinition;
      93: return
}
