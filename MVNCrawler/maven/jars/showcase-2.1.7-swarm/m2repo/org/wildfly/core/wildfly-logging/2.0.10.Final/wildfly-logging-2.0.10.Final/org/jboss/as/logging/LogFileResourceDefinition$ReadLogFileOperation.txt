Compiled from "LogFileResourceDefinition.java"
class org.jboss.as.logging.LogFileResourceDefinition$ReadLogFileOperation implements org.jboss.as.controller.OperationStepHandler {
  private final org.jboss.as.controller.services.path.PathManager pathManager;

  private org.jboss.as.logging.LogFileResourceDefinition$ReadLogFileOperation(org.jboss.as.controller.services.path.PathManager);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field pathManager:Lorg/jboss/as/controller/services/path/PathManager;
       9: return

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: getstatic     #4                  // Field org/jboss/as/logging/LogFileResourceDefinition.READ_LOG_FILE:Lorg/jboss/as/controller/SimpleOperationDefinition;
       3: invokevirtual #5                  // Method org/jboss/as/controller/SimpleOperationDefinition.getParameters:()[Lorg/jboss/as/controller/AttributeDefinition;
       6: astore_3
       7: aload_3
       8: arraylength
       9: istore        4
      11: iconst_0
      12: istore        5
      14: iload         5
      16: iload         4
      18: if_icmpge     40
      21: aload_3
      22: iload         5
      24: aaload
      25: astore        6
      27: aload         6
      29: aload_2
      30: invokevirtual #6                  // Method org/jboss/as/controller/AttributeDefinition.validateOperation:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      33: pop
      34: iinc          5, 1
      37: goto          14
      40: getstatic     #7                  // Field org/jboss/as/logging/LogFileResourceDefinition.LINES:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      43: aload_1
      44: aload_2
      45: invokevirtual #8                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      48: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.asInt:()I
      51: istore_3
      52: getstatic     #10                 // Field org/jboss/as/logging/LogFileResourceDefinition.SKIP:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      55: aload_1
      56: aload_2
      57: invokevirtual #8                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      60: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.asInt:()I
      63: istore        4
      65: getstatic     #11                 // Field org/jboss/as/logging/LogFileResourceDefinition.TAIL:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      68: aload_1
      69: aload_2
      70: invokevirtual #8                  // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      73: invokevirtual #12                 // Method org/jboss/dmr/ModelNode.asBoolean:()Z
      76: istore        5
      78: getstatic     #13                 // Field org/jboss/as/logging/CommonAttributes.ENCODING:Lorg/jboss/as/logging/PropertyAttributeDefinition;
      81: aload_1
      82: aload_2
      83: invokevirtual #14                 // Method org/jboss/as/logging/PropertyAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      86: astore        6
      88: aload         6
      90: invokevirtual #15                 // Method org/jboss/dmr/ModelNode.isDefined:()Z
      93: ifeq          104
      96: aload         6
      98: invokevirtual #16                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     101: goto          105
     104: aconst_null
     105: astore        7
     107: aload_2
     108: invokestatic  #17                 // Method org/jboss/as/logging/LoggingOperations.getAddressName:(Lorg/jboss/dmr/ModelNode;)Ljava/lang/String;
     111: astore        8
     113: new           #18                 // class java/io/File
     116: dup
     117: aload_0
     118: getfield      #3                  // Field pathManager:Lorg/jboss/as/controller/services/path/PathManager;
     121: aload         8
     123: ldc           #20                 // String jboss.server.log.dir
     125: invokeinterface #21,  3           // InterfaceMethod org/jboss/as/controller/services/path/PathManager.resolveRelativePathEntry:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     130: invokespecial #22                 // Method java/io/File."<init>":(Ljava/lang/String;)V
     133: astore        9
     135: aload         9
     137: invokevirtual #23                 // Method java/io/File.exists:()Z
     140: ifne          156
     143: getstatic     #24                 // Field org/jboss/as/logging/logging/LoggingLogger.ROOT_LOGGER:Lorg/jboss/as/logging/logging/LoggingLogger;
     146: aload         8
     148: ldc           #20                 // String jboss.server.log.dir
     150: invokeinterface #25,  3           // InterfaceMethod org/jboss/as/logging/logging/LoggingLogger.logFileNotFound:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/registry/Resource$NoSuchResourceException;
     155: athrow
     156: iload_3
     157: ifne          168
     160: invokestatic  #26                 // Method java/util/Collections.emptyList:()Ljava/util/List;
     163: astore        10
     165: goto          183
     168: aload_0
     169: aload         9
     171: aload         7
     173: iload         5
     175: iload         4
     177: iload_3
     178: invokespecial #27                 // Method readLines:(Ljava/io/File;Ljava/lang/String;ZII)Ljava/util/List;
     181: astore        10
     183: aload_1
     184: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getResult:()Lorg/jboss/dmr/ModelNode;
     189: invokevirtual #29                 // Method org/jboss/dmr/ModelNode.setEmptyList:()Lorg/jboss/dmr/ModelNode;
     192: astore        11
     194: aload         10
     196: invokeinterface #30,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     201: astore        12
     203: aload         12
     205: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     210: ifeq          236
     213: aload         12
     215: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     220: checkcast     #33                 // class java/lang/String
     223: astore        13
     225: aload         11
     227: aload         13
     229: invokevirtual #34                 // Method org/jboss/dmr/ModelNode.add:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     232: pop
     233: goto          203
     236: goto          254
     239: astore        10
     241: getstatic     #24                 // Field org/jboss/as/logging/logging/LoggingLogger.ROOT_LOGGER:Lorg/jboss/as/logging/logging/LoggingLogger;
     244: aload         10
     246: aload         8
     248: invokeinterface #36,  3           // InterfaceMethod org/jboss/as/logging/logging/LoggingLogger.failedToReadLogFile:(Ljava/lang/Throwable;Ljava/lang/String;)Ljava/lang/RuntimeException;
     253: athrow
     254: aload_1
     255: getstatic     #37                 // Field org/jboss/as/controller/OperationContext$ResultHandler.NOOP_RESULT_HANDLER:Lorg/jboss/as/controller/OperationContext$ResultHandler;
     258: invokeinterface #38,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.completeStep:(Lorg/jboss/as/controller/OperationContext$ResultHandler;)V
     263: return
    Exception table:
       from    to  target type
         156   236   239   Class java/io/IOException

  private java.util.List<java.lang.String> readLines(java.io.File, java.lang.String, boolean, int, int) throws java.io.IOException;
    Code:
       0: iload         5
       2: ifge          17
       5: new           #39                 // class java/util/ArrayList
       8: dup
       9: invokespecial #40                 // Method java/util/ArrayList."<init>":()V
      12: astore        6
      14: goto          28
      17: new           #39                 // class java/util/ArrayList
      20: dup
      21: iload         5
      23: invokespecial #41                 // Method java/util/ArrayList."<init>":(I)V
      26: astore        6
      28: iload_3
      29: ifeq          43
      32: new           #42                 // class org/jboss/as/logging/LogFileResourceDefinition$LifoFileInputStream
      35: dup
      36: aload_1
      37: invokespecial #43                 // Method org/jboss/as/logging/LogFileResourceDefinition$LifoFileInputStream."<init>":(Ljava/io/File;)V
      40: goto          54
      43: aload_1
      44: invokevirtual #44                 // Method java/io/File.toPath:()Ljava/nio/file/Path;
      47: iconst_0
      48: anewarray     #45                 // class java/nio/file/OpenOption
      51: invokestatic  #46                 // Method java/nio/file/Files.newInputStream:(Ljava/nio/file/Path;[Ljava/nio/file/OpenOption;)Ljava/io/InputStream;
      54: astore        7
      56: aconst_null
      57: astore        8
      59: aload_2
      60: ifnonnull     75
      63: new           #47                 // class java/io/InputStreamReader
      66: dup
      67: aload         7
      69: invokespecial #48                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;)V
      72: goto          85
      75: new           #47                 // class java/io/InputStreamReader
      78: dup
      79: aload         7
      81: aload_2
      82: invokespecial #49                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/lang/String;)V
      85: astore        9
      87: aconst_null
      88: astore        10
      90: new           #50                 // class java/io/BufferedReader
      93: dup
      94: aload         9
      96: invokespecial #51                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      99: astore        11
     101: aconst_null
     102: astore        12
     104: iconst_0
     105: istore        13
     107: aload         11
     109: invokevirtual #52                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     112: dup
     113: astore        14
     115: ifnull        159
     118: iinc          13, 1
     121: iload         13
     123: iload         4
     125: if_icmpgt     131
     128: goto          107
     131: aload         6
     133: invokeinterface #53,  1           // InterfaceMethod java/util/List.size:()I
     138: iload         5
     140: if_icmpne     146
     143: goto          159
     146: aload         6
     148: aload         14
     150: invokeinterface #54,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     155: pop
     156: goto          107
     159: iload_3
     160: ifeq          168
     163: aload         6
     165: invokestatic  #55                 // Method java/util/Collections.reverse:(Ljava/util/List;)V
     168: aload         6
     170: astore        15
     172: aload         11
     174: ifnull        207
     177: aload         12
     179: ifnull        202
     182: aload         11
     184: invokevirtual #56                 // Method java/io/BufferedReader.close:()V
     187: goto          207
     190: astore        16
     192: aload         12
     194: aload         16
     196: invokevirtual #58                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     199: goto          207
     202: aload         11
     204: invokevirtual #56                 // Method java/io/BufferedReader.close:()V
     207: aload         9
     209: ifnull        242
     212: aload         10
     214: ifnull        237
     217: aload         9
     219: invokevirtual #59                 // Method java/io/InputStreamReader.close:()V
     222: goto          242
     225: astore        16
     227: aload         10
     229: aload         16
     231: invokevirtual #58                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     234: goto          242
     237: aload         9
     239: invokevirtual #59                 // Method java/io/InputStreamReader.close:()V
     242: aload         7
     244: ifnull        277
     247: aload         8
     249: ifnull        272
     252: aload         7
     254: invokevirtual #60                 // Method java/io/InputStream.close:()V
     257: goto          277
     260: astore        16
     262: aload         8
     264: aload         16
     266: invokevirtual #58                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     269: goto          277
     272: aload         7
     274: invokevirtual #60                 // Method java/io/InputStream.close:()V
     277: aload         15
     279: areturn
     280: astore        13
     282: aload         13
     284: astore        12
     286: aload         13
     288: athrow
     289: astore        17
     291: aload         11
     293: ifnull        326
     296: aload         12
     298: ifnull        321
     301: aload         11
     303: invokevirtual #56                 // Method java/io/BufferedReader.close:()V
     306: goto          326
     309: astore        18
     311: aload         12
     313: aload         18
     315: invokevirtual #58                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     318: goto          326
     321: aload         11
     323: invokevirtual #56                 // Method java/io/BufferedReader.close:()V
     326: aload         17
     328: athrow
     329: astore        11
     331: aload         11
     333: astore        10
     335: aload         11
     337: athrow
     338: astore        19
     340: aload         9
     342: ifnull        375
     345: aload         10
     347: ifnull        370
     350: aload         9
     352: invokevirtual #59                 // Method java/io/InputStreamReader.close:()V
     355: goto          375
     358: astore        20
     360: aload         10
     362: aload         20
     364: invokevirtual #58                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     367: goto          375
     370: aload         9
     372: invokevirtual #59                 // Method java/io/InputStreamReader.close:()V
     375: aload         19
     377: athrow
     378: astore        9
     380: aload         9
     382: astore        8
     384: aload         9
     386: athrow
     387: astore        21
     389: aload         7
     391: ifnull        424
     394: aload         8
     396: ifnull        419
     399: aload         7
     401: invokevirtual #60                 // Method java/io/InputStream.close:()V
     404: goto          424
     407: astore        22
     409: aload         8
     411: aload         22
     413: invokevirtual #58                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     416: goto          424
     419: aload         7
     421: invokevirtual #60                 // Method java/io/InputStream.close:()V
     424: aload         21
     426: athrow
    Exception table:
       from    to  target type
         182   187   190   Class java/lang/Throwable
         217   222   225   Class java/lang/Throwable
         252   257   260   Class java/lang/Throwable
         104   172   280   Class java/lang/Throwable
         104   172   289   any
         301   306   309   Class java/lang/Throwable
         280   291   289   any
          90   207   329   Class java/lang/Throwable
         280   329   329   Class java/lang/Throwable
          90   207   338   any
         350   355   358   Class java/lang/Throwable
         280   340   338   any
          59   242   378   Class java/lang/Throwable
         280   378   378   Class java/lang/Throwable
          59   242   387   any
         399   404   407   Class java/lang/Throwable
         280   389   387   any

  org.jboss.as.logging.LogFileResourceDefinition$ReadLogFileOperation(org.jboss.as.controller.services.path.PathManager, org.jboss.as.logging.LogFileResourceDefinition$1);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method "<init>":(Lorg/jboss/as/controller/services/path/PathManager;)V
       5: return
}
