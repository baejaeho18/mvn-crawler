Compiled from "FileKeystore.java"
final class org.jboss.as.domain.management.security.FileKeystore {
  private java.security.KeyStore keyStore;

  private final java.lang.String provider;

  private final java.lang.String path;

  private long lastModificationTime;

  private final char[] keystorePassword;

  private final boolean isKeyStore;

  private final char[] keyPassword;

  private final java.lang.String alias;

  private org.jboss.as.domain.management.security.FileKeystore(java.lang.String, java.lang.String, char[]);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field provider:Ljava/lang/String;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field path:Ljava/lang/String;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field keystorePassword:[C
      19: aload_0
      20: aconst_null
      21: putfield      #5                  // Field keyPassword:[C
      24: aload_0
      25: aconst_null
      26: putfield      #6                  // Field alias:Ljava/lang/String;
      29: aload_0
      30: lconst_0
      31: putfield      #7                  // Field lastModificationTime:J
      34: aload_0
      35: iconst_0
      36: putfield      #8                  // Field isKeyStore:Z
      39: return

  private org.jboss.as.domain.management.security.FileKeystore(java.lang.String, java.lang.String, char[], char[], java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field provider:Ljava/lang/String;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field path:Ljava/lang/String;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field keystorePassword:[C
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field keyPassword:[C
      25: aload_0
      26: aload         5
      28: putfield      #6                  // Field alias:Ljava/lang/String;
      31: aload_0
      32: lconst_0
      33: putfield      #7                  // Field lastModificationTime:J
      36: aload_0
      37: iconst_1
      38: putfield      #8                  // Field isKeyStore:Z
      41: return

  static org.jboss.as.domain.management.security.FileKeystore newKeyStore(java.lang.String, java.lang.String, char[], char[], java.lang.String);
    Code:
       0: new           #9                  // class org/jboss/as/domain/management/security/FileKeystore
       3: dup
       4: aload_0
       5: aload_1
       6: aload_2
       7: aload_3
       8: aload         4
      10: invokespecial #10                 // Method "<init>":(Ljava/lang/String;Ljava/lang/String;[C[CLjava/lang/String;)V
      13: areturn

  static org.jboss.as.domain.management.security.FileKeystore newTrustStore(java.lang.String, java.lang.String, char[]);
    Code:
       0: new           #9                  // class org/jboss/as/domain/management/security/FileKeystore
       3: dup
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokespecial #11                 // Method "<init>":(Ljava/lang/String;Ljava/lang/String;[C)V
      10: areturn

  boolean isModified();
    Code:
       0: new           #12                 // class java/io/File
       3: dup
       4: aload_0
       5: getfield      #3                  // Field path:Ljava/lang/String;
       8: invokespecial #13                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      11: invokevirtual #14                 // Method java/io/File.lastModified:()J
      14: lstore_1
      15: lload_1
      16: aload_0
      17: getfield      #7                  // Field lastModificationTime:J
      20: lcmp
      21: ifle          26
      24: iconst_1
      25: ireturn
      26: lload_1
      27: lconst_0
      28: lcmp
      29: ifne          34
      32: iconst_1
      33: ireturn
      34: iconst_0
      35: ireturn

  void load() throws org.jboss.msc.service.StartException;
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: getfield      #2                  // Field provider:Ljava/lang/String;
       6: invokestatic  #15                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
       9: astore_2
      10: new           #12                 // class java/io/File
      13: dup
      14: aload_0
      15: getfield      #3                  // Field path:Ljava/lang/String;
      18: invokespecial #13                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      21: invokevirtual #16                 // Method java/io/File.exists:()Z
      24: ifeq          51
      27: new           #17                 // class java/io/FileInputStream
      30: dup
      31: aload_0
      32: getfield      #3                  // Field path:Ljava/lang/String;
      35: invokespecial #18                 // Method java/io/FileInputStream."<init>":(Ljava/lang/String;)V
      38: astore_1
      39: aload_2
      40: aload_1
      41: aload_0
      42: getfield      #4                  // Field keystorePassword:[C
      45: invokevirtual #19                 // Method java/security/KeyStore.load:(Ljava/io/InputStream;[C)V
      48: goto          76
      51: aload_0
      52: getfield      #8                  // Field isKeyStore:Z
      55: ifeq          71
      58: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
      61: aload_0
      62: getfield      #3                  // Field path:Ljava/lang/String;
      65: invokeinterface #21,  2           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.keyStoreNotFound:(Ljava/lang/String;)Lorg/jboss/msc/service/StartException;
      70: athrow
      71: aload_2
      72: aconst_null
      73: invokevirtual #22                 // Method java/security/KeyStore.load:(Ljava/security/KeyStore$LoadStoreParameter;)V
      76: aload_0
      77: getfield      #8                  // Field isKeyStore:Z
      80: ifeq          88
      83: aload_0
      84: aload_2
      85: invokespecial #23                 // Method assertContainsKey:(Ljava/security/KeyStore;)V
      88: aload_0
      89: getfield      #6                  // Field alias:Ljava/lang/String;
      92: ifnonnull     103
      95: aload_0
      96: aload_2
      97: invokespecial #24                 // Method setKeyStore:(Ljava/security/KeyStore;)V
     100: goto          231
     103: ldc           #25                 // String JKS
     105: invokestatic  #15                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
     108: astore_3
     109: aload_3
     110: aconst_null
     111: invokevirtual #22                 // Method java/security/KeyStore.load:(Ljava/security/KeyStore$LoadStoreParameter;)V
     114: new           #26                 // class java/security/KeyStore$PasswordProtection
     117: dup
     118: aload_0
     119: getfield      #5                  // Field keyPassword:[C
     122: ifnonnull     132
     125: aload_0
     126: getfield      #4                  // Field keystorePassword:[C
     129: goto          136
     132: aload_0
     133: getfield      #5                  // Field keyPassword:[C
     136: invokespecial #27                 // Method java/security/KeyStore$PasswordProtection."<init>":([C)V
     139: astore        4
     141: aload_2
     142: aload_0
     143: getfield      #6                  // Field alias:Ljava/lang/String;
     146: invokevirtual #28                 // Method java/security/KeyStore.containsAlias:(Ljava/lang/String;)Z
     149: ifeq          208
     152: aload_2
     153: aload_0
     154: getfield      #6                  // Field alias:Ljava/lang/String;
     157: invokevirtual #29                 // Method java/security/KeyStore.isKeyEntry:(Ljava/lang/String;)Z
     160: ifeq          190
     163: aload_2
     164: aload_0
     165: getfield      #6                  // Field alias:Ljava/lang/String;
     168: aload         4
     170: invokevirtual #30                 // Method java/security/KeyStore.getEntry:(Ljava/lang/String;Ljava/security/KeyStore$ProtectionParameter;)Ljava/security/KeyStore$Entry;
     173: astore        5
     175: aload_3
     176: aload_0
     177: getfield      #6                  // Field alias:Ljava/lang/String;
     180: aload         5
     182: aload         4
     184: invokevirtual #31                 // Method java/security/KeyStore.setEntry:(Ljava/lang/String;Ljava/security/KeyStore$Entry;Ljava/security/KeyStore$ProtectionParameter;)V
     187: goto          226
     190: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     193: aload_0
     194: getfield      #6                  // Field alias:Ljava/lang/String;
     197: aload_0
     198: aload_2
     199: invokespecial #32                 // Method validAliasList:(Ljava/security/KeyStore;)Ljava/lang/String;
     202: invokeinterface #33,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.aliasNotKey:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/msc/service/StartException;
     207: athrow
     208: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     211: aload_0
     212: getfield      #6                  // Field alias:Ljava/lang/String;
     215: aload_0
     216: aload_2
     217: invokespecial #32                 // Method validAliasList:(Ljava/security/KeyStore;)Ljava/lang/String;
     220: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.aliasNotFound:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/msc/service/StartException;
     225: athrow
     226: aload_0
     227: aload_3
     228: invokespecial #24                 // Method setKeyStore:(Ljava/security/KeyStore;)V
     231: aload_0
     232: new           #12                 // class java/io/File
     235: dup
     236: aload_0
     237: getfield      #3                  // Field path:Ljava/lang/String;
     240: invokespecial #13                 // Method java/io/File."<init>":(Ljava/lang/String;)V
     243: invokevirtual #14                 // Method java/io/File.lastModified:()J
     246: putfield      #7                  // Field lastModificationTime:J
     249: aload_0
     250: aload_1
     251: invokespecial #35                 // Method safeClose:(Ljava/io/Closeable;)V
     254: goto          322
     257: astore_2
     258: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     261: aload_2
     262: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.unableToStart:(Ljava/lang/Throwable;)Lorg/jboss/msc/service/StartException;
     267: athrow
     268: astore_2
     269: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     272: aload_2
     273: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.unableToStart:(Ljava/lang/Throwable;)Lorg/jboss/msc/service/StartException;
     278: athrow
     279: astore_2
     280: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     283: aload_2
     284: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.unableToStart:(Ljava/lang/Throwable;)Lorg/jboss/msc/service/StartException;
     289: athrow
     290: astore_2
     291: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     294: aload_2
     295: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.unableToStart:(Ljava/lang/Throwable;)Lorg/jboss/msc/service/StartException;
     300: athrow
     301: astore_2
     302: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     305: aload_2
     306: invokeinterface #37,  2           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.unableToStart:(Ljava/lang/Throwable;)Lorg/jboss/msc/service/StartException;
     311: athrow
     312: astore        6
     314: aload_0
     315: aload_1
     316: invokespecial #35                 // Method safeClose:(Ljava/io/Closeable;)V
     319: aload         6
     321: athrow
     322: return
    Exception table:
       from    to  target type
           2   249   257   Class java/security/KeyStoreException
           2   249   268   Class java/security/NoSuchAlgorithmException
           2   249   279   Class java/security/cert/CertificateException
           2   249   290   Class java/io/IOException
           2   249   301   Class java/security/UnrecoverableEntryException
           2   249   312   any
         257   314   312   any

  private void assertContainsKey(java.security.KeyStore) throws org.jboss.msc.service.StartException, java.security.KeyStoreException;
    Code:
       0: aload_1
       1: invokevirtual #42                 // Method java/security/KeyStore.aliases:()Ljava/util/Enumeration;
       4: astore_2
       5: aload_2
       6: invokeinterface #43,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      11: ifeq          31
      14: aload_1
      15: aload_2
      16: invokeinterface #44,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      21: checkcast     #45                 // class java/lang/String
      24: invokevirtual #29                 // Method java/security/KeyStore.isKeyEntry:(Ljava/lang/String;)Z
      27: ifeq          5
      30: return
      31: getstatic     #20                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
      34: aload_0
      35: getfield      #3                  // Field path:Ljava/lang/String;
      38: invokeinterface #46,  2           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.noKey:(Ljava/lang/String;)Lorg/jboss/msc/service/StartException;
      43: athrow

  private java.lang.String validAliasList(java.security.KeyStore) throws java.security.KeyStoreException;
    Code:
       0: aload_1
       1: invokevirtual #42                 // Method java/security/KeyStore.aliases:()Ljava/util/Enumeration;
       4: astore_2
       5: new           #47                 // class java/lang/StringBuilder
       8: dup
       9: ldc           #48                 // String {
      11: invokespecial #49                 // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
      14: astore_3
      15: aload_2
      16: invokeinterface #43,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      21: ifeq          69
      24: aload_2
      25: invokeinterface #44,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      30: checkcast     #45                 // class java/lang/String
      33: astore        4
      35: aload_1
      36: aload         4
      38: invokevirtual #29                 // Method java/security/KeyStore.isKeyEntry:(Ljava/lang/String;)Z
      41: ifeq          66
      44: aload_3
      45: invokevirtual #50                 // Method java/lang/StringBuilder.length:()I
      48: iconst_1
      49: if_icmple     59
      52: aload_3
      53: ldc           #51                 // String ,
      55: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: pop
      59: aload_3
      60: aload         4
      62: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: pop
      66: goto          15
      69: aload_3
      70: ldc           #53                 // String }
      72: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      78: areturn

  java.security.KeyStore getKeyStore();
    Code:
       0: aload_0
       1: getfield      #55                 // Field keyStore:Ljava/security/KeyStore;
       4: areturn

  private void setKeyStore(java.security.KeyStore);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #55                 // Field keyStore:Ljava/security/KeyStore;
       5: return

  private void safeClose(java.io.Closeable);
    Code:
       0: aload_1
       1: ifnull        14
       4: aload_1
       5: invokeinterface #56,  1           // InterfaceMethod java/io/Closeable.close:()V
      10: goto          14
      13: astore_2
      14: return
    Exception table:
       from    to  target type
           4    10    13   Class java/io/IOException
}
