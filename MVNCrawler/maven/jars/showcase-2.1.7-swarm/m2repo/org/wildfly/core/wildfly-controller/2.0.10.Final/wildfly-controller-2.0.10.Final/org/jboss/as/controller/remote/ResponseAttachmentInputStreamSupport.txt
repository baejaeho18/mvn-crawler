Compiled from "ResponseAttachmentInputStreamSupport.java"
public class org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport {
  private static final int STREAM_TIMEOUT;

  private static final int CLEANUP_INTERVAL;

  private final java.util.Map<org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport$InputStreamKey, org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport$TimedStreamEntry> streamMap;

  private final java.util.concurrent.ScheduledFuture<?> cleanupTaskFuture;

  private final int timeout;

  private volatile boolean stopped;

  public static void handleDomainOperationResponseStreams(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode, java.util.List<org.jboss.as.controller.client.OperationResponse$StreamEntry>);
    Code:
       0: aload_1
       1: ldc           #3                  // String response-headers
       3: invokevirtual #4                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
       6: ifeq          37
       9: aload_1
      10: ldc           #3                  // String response-headers
      12: invokevirtual #5                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      15: astore_3
      16: aload_3
      17: ldc           #6                  // String attached-streams
      19: invokevirtual #7                  // Method org/jboss/dmr/ModelNode.remove:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      22: pop
      23: aload_3
      24: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.asInt:()I
      27: ifne          37
      30: aload_1
      31: ldc           #3                  // String response-headers
      33: invokevirtual #7                  // Method org/jboss/dmr/ModelNode.remove:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      36: pop
      37: aload_2
      38: invokeinterface #9,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      43: astore_3
      44: aload_3
      45: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      50: ifeq          94
      53: aload_3
      54: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      59: checkcast     #12                 // class org/jboss/as/controller/client/OperationResponse$StreamEntry
      62: astore        4
      64: aload_0
      65: aload         4
      67: invokeinterface #13,  1           // InterfaceMethod org/jboss/as/controller/client/OperationResponse$StreamEntry.getUUID:()Ljava/lang/String;
      72: aload         4
      74: invokeinterface #14,  1           // InterfaceMethod org/jboss/as/controller/client/OperationResponse$StreamEntry.getMimeType:()Ljava/lang/String;
      79: aload         4
      81: invokeinterface #15,  1           // InterfaceMethod org/jboss/as/controller/client/OperationResponse$StreamEntry.getStream:()Ljava/io/InputStream;
      86: invokeinterface #16,  4           // InterfaceMethod org/jboss/as/controller/OperationContext.attachResultStream:(Ljava/lang/String;Ljava/lang/String;Ljava/io/InputStream;)V
      91: goto          44
      94: return

  public org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport();
    Code:
       0: aload_0
       1: sipush        30000
       4: invokespecial #18                 // Method "<init>":(I)V
       7: return

  org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport(int);
    Code:
       0: aload_0
       1: invokespecial #19                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #20                 // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #21                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #2                  // Field streamMap:Ljava/util/Map;
      15: aload_0
      16: iload_1
      17: putfield      #22                 // Field timeout:I
      20: aload_0
      21: aconst_null
      22: putfield      #23                 // Field cleanupTaskFuture:Ljava/util/concurrent/ScheduledFuture;
      25: return

  public org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport(java.util.concurrent.ScheduledExecutorService);
    Code:
       0: aload_0
       1: aload_1
       2: sipush        30000
       5: sipush        10000
       8: invokespecial #24                 // Method "<init>":(Ljava/util/concurrent/ScheduledExecutorService;II)V
      11: return

  org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport(java.util.concurrent.ScheduledExecutorService, int, int);
    Code:
       0: aload_0
       1: invokespecial #19                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #20                 // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #21                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #2                  // Field streamMap:Ljava/util/Map;
      15: aload_0
      16: iload_2
      17: putfield      #22                 // Field timeout:I
      20: aload_0
      21: aload_1
      22: new           #25                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$CleanupTask
      25: dup
      26: aload_0
      27: aconst_null
      28: invokespecial #26                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$CleanupTask."<init>":(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport;Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$1;)V
      31: iload_3
      32: i2l
      33: iload_3
      34: i2l
      35: getstatic     #27                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      38: invokeinterface #28,  7           // InterfaceMethod java/util/concurrent/ScheduledExecutorService.scheduleWithFixedDelay:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
      43: putfield      #23                 // Field cleanupTaskFuture:Ljava/util/concurrent/ScheduledFuture;
      46: return

  synchronized void registerStreams(int, java.util.List<org.jboss.as.controller.client.OperationResponse$StreamEntry>);
    Code:
       0: aload_0
       1: getfield      #29                 // Field stopped:Z
       4: ifne          89
       7: new           #30                 // class java/util/concurrent/atomic/AtomicLong
      10: dup
      11: invokestatic  #31                 // Method java/lang/System.currentTimeMillis:()J
      14: invokespecial #32                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      17: astore_3
      18: iconst_0
      19: istore        4
      21: iload         4
      23: aload_2
      24: invokeinterface #33,  1           // InterfaceMethod java/util/List.size:()I
      29: if_icmpge     86
      32: aload_2
      33: iload         4
      35: invokeinterface #34,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      40: checkcast     #12                 // class org/jboss/as/controller/client/OperationResponse$StreamEntry
      43: astore        5
      45: new           #35                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey
      48: dup
      49: iload_1
      50: iload         4
      52: invokespecial #36                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey."<init>":(II)V
      55: astore        6
      57: aload_0
      58: getfield      #2                  // Field streamMap:Ljava/util/Map;
      61: aload         6
      63: new           #37                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$TimedStreamEntry
      66: dup
      67: aload         5
      69: aload_3
      70: aconst_null
      71: invokespecial #38                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$TimedStreamEntry."<init>":(Lorg/jboss/as/controller/client/OperationResponse$StreamEntry;Ljava/util/concurrent/atomic/AtomicLong;Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$1;)V
      74: invokeinterface #39,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      79: pop
      80: iinc          4, 1
      83: goto          21
      86: goto          122
      89: iconst_0
      90: istore_3
      91: iload_3
      92: aload_2
      93: invokeinterface #33,  1           // InterfaceMethod java/util/List.size:()I
      98: if_icmpge     122
     101: aload_2
     102: iload_3
     103: invokeinterface #34,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     108: checkcast     #40                 // class java/io/Closeable
     111: iload_1
     112: iload_3
     113: invokestatic  #41                 // Method closeStreamEntry:(Ljava/io/Closeable;II)V
     116: iinc          3, 1
     119: goto          91
     122: return

  org.jboss.as.protocol.mgmt.ManagementRequestHandler<java.lang.Void, java.lang.Void> getReadHandler();
    Code:
       0: new           #42                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$ReadHandler
       3: dup
       4: aload_0
       5: aconst_null
       6: invokespecial #43                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$ReadHandler."<init>":(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport;Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$1;)V
       9: areturn

  org.jboss.as.protocol.mgmt.ManagementRequestHandler<java.lang.Void, java.lang.Void> getCloseHandler();
    Code:
       0: new           #44                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$1
       3: dup
       4: aload_0
       5: invokespecial #45                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$1."<init>":(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport;)V
       8: areturn

  public final synchronized void shutdown();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #29                 // Field stopped:Z
       5: aload_0
       6: getfield      #23                 // Field cleanupTaskFuture:Ljava/util/concurrent/ScheduledFuture;
       9: ifnull        23
      12: aload_0
      13: getfield      #23                 // Field cleanupTaskFuture:Ljava/util/concurrent/ScheduledFuture;
      16: iconst_0
      17: invokeinterface #46,  2           // InterfaceMethod java/util/concurrent/ScheduledFuture.cancel:(Z)Z
      22: pop
      23: aload_0
      24: getfield      #2                  // Field streamMap:Ljava/util/Map;
      27: invokeinterface #47,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      32: invokeinterface #48,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      37: astore_1
      38: aload_1
      39: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          114
      47: aload_1
      48: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      53: checkcast     #49                 // class java/util/Map$Entry
      56: astore_2
      57: aload_2
      58: invokeinterface #50,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      63: checkcast     #35                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey
      66: astore_3
      67: aload_2
      68: invokeinterface #51,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      73: checkcast     #37                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$TimedStreamEntry
      76: astore        4
      78: aload         4
      80: dup
      81: astore        5
      83: monitorenter
      84: aload         4
      86: aload_3
      87: invokestatic  #52                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey.access$400:(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey;)I
      90: aload_3
      91: invokestatic  #53                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey.access$500:(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey;)I
      94: invokestatic  #41                 // Method closeStreamEntry:(Ljava/io/Closeable;II)V
      97: aload         5
      99: monitorexit
     100: goto          111
     103: astore        6
     105: aload         5
     107: monitorexit
     108: aload         6
     110: athrow
     111: goto          38
     114: return
    Exception table:
       from    to  target type
          84   100   103   any
         103   108   103   any

  void gc();
    Code:
       0: aload_0
       1: getfield      #29                 // Field stopped:Z
       4: ifeq          8
       7: return
       8: invokestatic  #31                 // Method java/lang/System.currentTimeMillis:()J
      11: aload_0
      12: getfield      #22                 // Field timeout:I
      15: i2l
      16: lsub
      17: lstore_1
      18: aload_0
      19: getfield      #2                  // Field streamMap:Ljava/util/Map;
      22: invokeinterface #47,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      27: invokeinterface #48,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      32: astore_3
      33: aload_3
      34: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      39: ifeq          142
      42: aload_0
      43: getfield      #29                 // Field stopped:Z
      46: ifeq          50
      49: return
      50: aload_3
      51: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      56: checkcast     #49                 // class java/util/Map$Entry
      59: astore        4
      61: aload         4
      63: invokeinterface #51,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      68: checkcast     #37                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$TimedStreamEntry
      71: astore        5
      73: aload         5
      75: invokestatic  #54                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$TimedStreamEntry.access$600:(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$TimedStreamEntry;)Ljava/util/concurrent/atomic/AtomicLong;
      78: invokevirtual #55                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
      81: lload_1
      82: lcmp
      83: ifgt          139
      86: aload_3
      87: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.remove:()V
      92: aload         4
      94: invokeinterface #50,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      99: checkcast     #35                 // class org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey
     102: astore        6
     104: aload         5
     106: dup
     107: astore        7
     109: monitorenter
     110: aload         5
     112: aload         6
     114: invokestatic  #52                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey.access$400:(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey;)I
     117: aload         6
     119: invokestatic  #53                 // Method org/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey.access$500:(Lorg/jboss/as/controller/remote/ResponseAttachmentInputStreamSupport$InputStreamKey;)I
     122: invokestatic  #41                 // Method closeStreamEntry:(Ljava/io/Closeable;II)V
     125: aload         7
     127: monitorexit
     128: goto          139
     131: astore        8
     133: aload         7
     135: monitorexit
     136: aload         8
     138: athrow
     139: goto          33
     142: return
    Exception table:
       from    to  target type
         110   128   131   any
         131   136   131   any

  private static void closeStreamEntry(java.io.Closeable, int, int);
    Code:
       0: aload_0
       1: invokeinterface #57,  1           // InterfaceMethod java/io/Closeable.close:()V
       6: goto          23
       9: astore_3
      10: getstatic     #59                 // Field org/jboss/as/controller/logging/ControllerLogger.ROOT_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
      13: aload_3
      14: ldc           #60                 // String Caught exception closing attached response stream at index %d for operation %d
      16: iload_2
      17: iload_1
      18: invokeinterface #61,  5           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.debugf:(Ljava/lang/Throwable;Ljava/lang/String;II)V
      23: return
    Exception table:
       from    to  target type
           0     6     9   Class java/io/IOException

  static java.util.Map access$700(org.jboss.as.controller.remote.ResponseAttachmentInputStreamSupport);
    Code:
       0: aload_0
       1: getfield      #2                  // Field streamMap:Ljava/util/Map;
       4: areturn
}
