Compiled from "ConfigurationFilePersistenceResource.java"
public class org.jboss.as.controller.persistence.ConfigurationFilePersistenceResource extends org.jboss.as.controller.persistence.AbstractFilePersistenceResource {
  private final org.jboss.as.controller.persistence.ConfigurationFile configurationFile;

  protected final java.io.File fileName;

  org.jboss.as.controller.persistence.ConfigurationFilePersistenceResource(org.jboss.dmr.ModelNode, org.jboss.as.controller.persistence.ConfigurationFile, org.jboss.as.controller.persistence.AbstractConfigurationPersister) throws org.jboss.as.controller.persistence.ConfigurationPersistenceException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_3
       3: invokespecial #1                  // Method org/jboss/as/controller/persistence/AbstractFilePersistenceResource."<init>":(Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/controller/persistence/AbstractConfigurationPersister;)V
       6: aload_0
       7: aload_2
       8: putfield      #2                  // Field configurationFile:Lorg/jboss/as/controller/persistence/ConfigurationFile;
      11: aload_0
      12: aload_2
      13: invokevirtual #3                  // Method org/jboss/as/controller/persistence/ConfigurationFile.getMainFile:()Ljava/io/File;
      16: putfield      #4                  // Field fileName:Ljava/io/File;
      19: return

  public void doCommit(org.jboss.as.controller.persistence.ExposedByteArrayOutputStream);
    Code:
       0: aload_0
       1: getfield      #4                  // Field fileName:Ljava/io/File;
       4: invokestatic  #5                  // Method org/jboss/as/controller/persistence/FilePersistenceUtils.createTempFile:(Ljava/io/File;)Ljava/io/File;
       7: astore_2
       8: aload_1
       9: aload_2
      10: aload_0
      11: getfield      #4                  // Field fileName:Ljava/io/File;
      14: invokestatic  #6                  // Method org/jboss/as/controller/persistence/FilePersistenceUtils.writeToTempFile:(Lorg/jboss/as/controller/persistence/ExposedByteArrayOutputStream;Ljava/io/File;Ljava/io/File;)Ljava/io/File;
      17: pop
      18: goto          69
      21: astore_3
      22: getstatic     #8                  // Field org/jboss/as/controller/logging/ControllerLogger.MGMT_OP_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
      25: aload_3
      26: aload_0
      27: getfield      #4                  // Field fileName:Ljava/io/File;
      30: invokevirtual #9                  // Method java/io/File.getName:()Ljava/lang/String;
      33: invokeinterface #10,  3           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.failedToStoreConfiguration:(Ljava/lang/Throwable;Ljava/lang/String;)V
      38: aload_2
      39: invokevirtual #11                 // Method java/io/File.exists:()Z
      42: ifeq          68
      45: aload_2
      46: invokevirtual #12                 // Method java/io/File.delete:()Z
      49: ifne          68
      52: getstatic     #8                  // Field org/jboss/as/controller/logging/ControllerLogger.MGMT_OP_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
      55: aload_2
      56: invokevirtual #9                  // Method java/io/File.getName:()Ljava/lang/String;
      59: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.cannotDeleteTempFile:(Ljava/lang/String;)V
      64: aload_2
      65: invokevirtual #14                 // Method java/io/File.deleteOnExit:()V
      68: return
      69: aload_0
      70: getfield      #2                  // Field configurationFile:Lorg/jboss/as/controller/persistence/ConfigurationFile;
      73: invokevirtual #15                 // Method org/jboss/as/controller/persistence/ConfigurationFile.backup:()V
      76: aload_0
      77: getfield      #2                  // Field configurationFile:Lorg/jboss/as/controller/persistence/ConfigurationFile;
      80: aload_2
      81: invokevirtual #16                 // Method org/jboss/as/controller/persistence/ConfigurationFile.commitTempFile:(Ljava/io/File;)V
      84: goto          100
      87: astore        4
      89: aload_0
      90: getfield      #2                  // Field configurationFile:Lorg/jboss/as/controller/persistence/ConfigurationFile;
      93: aload_2
      94: invokevirtual #16                 // Method org/jboss/as/controller/persistence/ConfigurationFile.commitTempFile:(Ljava/io/File;)V
      97: aload         4
      99: athrow
     100: aload_0
     101: getfield      #2                  // Field configurationFile:Lorg/jboss/as/controller/persistence/ConfigurationFile;
     104: invokevirtual #17                 // Method org/jboss/as/controller/persistence/ConfigurationFile.fileWritten:()V
     107: aload_2
     108: invokevirtual #11                 // Method java/io/File.exists:()Z
     111: ifeq          226
     114: aload_2
     115: invokevirtual #12                 // Method java/io/File.delete:()Z
     118: ifne          226
     121: getstatic     #8                  // Field org/jboss/as/controller/logging/ControllerLogger.MGMT_OP_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
     124: aload_2
     125: invokevirtual #9                  // Method java/io/File.getName:()Ljava/lang/String;
     128: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.cannotDeleteTempFile:(Ljava/lang/String;)V
     133: aload_2
     134: invokevirtual #14                 // Method java/io/File.deleteOnExit:()V
     137: goto          226
     140: astore_3
     141: getstatic     #8                  // Field org/jboss/as/controller/logging/ControllerLogger.MGMT_OP_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
     144: aload_3
     145: aload_3
     146: invokevirtual #19                 // Method org/jboss/as/controller/persistence/ConfigurationPersistenceException.toString:()Ljava/lang/String;
     149: iconst_0
     150: anewarray     #20                 // class java/lang/Object
     153: invokeinterface #21,  4           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.errorf:(Ljava/lang/Throwable;Ljava/lang/String;[Ljava/lang/Object;)V
     158: aload_2
     159: invokevirtual #11                 // Method java/io/File.exists:()Z
     162: ifeq          226
     165: aload_2
     166: invokevirtual #12                 // Method java/io/File.delete:()Z
     169: ifne          226
     172: getstatic     #8                  // Field org/jboss/as/controller/logging/ControllerLogger.MGMT_OP_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
     175: aload_2
     176: invokevirtual #9                  // Method java/io/File.getName:()Ljava/lang/String;
     179: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.cannotDeleteTempFile:(Ljava/lang/String;)V
     184: aload_2
     185: invokevirtual #14                 // Method java/io/File.deleteOnExit:()V
     188: goto          226
     191: astore        5
     193: aload_2
     194: invokevirtual #11                 // Method java/io/File.exists:()Z
     197: ifeq          223
     200: aload_2
     201: invokevirtual #12                 // Method java/io/File.delete:()Z
     204: ifne          223
     207: getstatic     #8                  // Field org/jboss/as/controller/logging/ControllerLogger.MGMT_OP_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
     210: aload_2
     211: invokevirtual #9                  // Method java/io/File.getName:()Ljava/lang/String;
     214: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.cannotDeleteTempFile:(Ljava/lang/String;)V
     219: aload_2
     220: invokevirtual #14                 // Method java/io/File.deleteOnExit:()V
     223: aload         5
     225: athrow
     226: return
    Exception table:
       from    to  target type
           8    18    21   Class java/lang/Exception
          69    76    87   any
          87    89    87   any
           8    38   140   Class org/jboss/as/controller/persistence/ConfigurationPersistenceException
          69   107   140   Class org/jboss/as/controller/persistence/ConfigurationPersistenceException
           8    38   191   any
          69   107   191   any
         140   158   191   any
         191   193   191   any
}
