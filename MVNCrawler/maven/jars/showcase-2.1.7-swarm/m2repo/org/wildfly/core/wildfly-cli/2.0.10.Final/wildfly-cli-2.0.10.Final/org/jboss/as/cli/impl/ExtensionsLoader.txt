Compiled from "ExtensionsLoader.java"
class org.jboss.as.cli.impl.ExtensionsLoader {
  private final org.jboss.modules.ModuleLoader moduleLoader;

  private final org.jboss.as.cli.CommandContext ctx;

  private final org.jboss.as.cli.CommandRegistry registry;

  private org.jboss.as.cli.ControllerAddress currentAddress;

  private java.util.List<java.lang.String> loadedCommands;

  private java.util.List<java.lang.String> errors;

  static final boolean $assertionsDisabled;

  org.jboss.as.cli.impl.ExtensionsLoader(org.jboss.as.cli.CommandRegistry, org.jboss.as.cli.CommandContext) throws org.jboss.as.cli.CommandLineException;
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #4                  // Method java/util/Collections.emptyList:()Ljava/util/List;
       8: putfield      #5                  // Field loadedCommands:Ljava/util/List;
      11: aload_0
      12: invokestatic  #4                  // Method java/util/Collections.emptyList:()Ljava/util/List;
      15: putfield      #2                  // Field errors:Ljava/util/List;
      18: getstatic     #6                  // Field $assertionsDisabled:Z
      21: ifne          38
      24: aload_1
      25: ifnonnull     38
      28: new           #7                  // class java/lang/AssertionError
      31: dup
      32: ldc           #8                  // String command registry is null
      34: invokespecial #9                  // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      37: athrow
      38: getstatic     #6                  // Field $assertionsDisabled:Z
      41: ifne          58
      44: aload_2
      45: ifnonnull     58
      48: new           #7                  // class java/lang/AssertionError
      51: dup
      52: ldc           #10                 // String command context is null
      54: invokespecial #9                  // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      57: athrow
      58: aload_0
      59: invokevirtual #11                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      62: invokevirtual #12                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      65: instanceof    #13                 // class org/jboss/modules/ModuleClassLoader
      68: ifeq          88
      71: aload_0
      72: aload_0
      73: invokevirtual #11                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      76: invokevirtual #12                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      79: invokestatic  #14                 // Method org/jboss/modules/ModuleLoader.forClassLoader:(Ljava/lang/ClassLoader;)Lorg/jboss/modules/ModuleLoader;
      82: putfield      #15                 // Field moduleLoader:Lorg/jboss/modules/ModuleLoader;
      85: goto          93
      88: aload_0
      89: aconst_null
      90: putfield      #15                 // Field moduleLoader:Lorg/jboss/modules/ModuleLoader;
      93: aload_0
      94: aload_2
      95: putfield      #16                 // Field ctx:Lorg/jboss/as/cli/CommandContext;
      98: aload_0
      99: aload_1
     100: putfield      #17                 // Field registry:Lorg/jboss/as/cli/CommandRegistry;
     103: aload_1
     104: new           #1                  // class org/jboss/as/cli/impl/ExtensionsLoader$ExtensionCommandsHandler
     107: dup
     108: aload_0
     109: invokespecial #18                 // Method org/jboss/as/cli/impl/ExtensionsLoader$ExtensionCommandsHandler."<init>":(Lorg/jboss/as/cli/impl/ExtensionsLoader;)V
     112: iconst_0
     113: iconst_1
     114: anewarray     #19                 // class java/lang/String
     117: dup
     118: iconst_0
     119: ldc           #20                 // String extension-commands
     121: aastore
     122: invokevirtual #21                 // Method org/jboss/as/cli/CommandRegistry.registerHandler:(Lorg/jboss/as/cli/CommandHandler;Z[Ljava/lang/String;)V
     125: return

  void resetHandlers();
    Code:
       0: aload_0
       1: getfield      #5                  // Field loadedCommands:Ljava/util/List;
       4: invokeinterface #22,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          41
      19: aload_1
      20: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #19                 // class java/lang/String
      28: astore_2
      29: aload_0
      30: getfield      #17                 // Field registry:Lorg/jboss/as/cli/CommandRegistry;
      33: aload_2
      34: invokevirtual #25                 // Method org/jboss/as/cli/CommandRegistry.remove:(Ljava/lang/String;)Lorg/jboss/as/cli/CommandHandler;
      37: pop
      38: goto          10
      41: aload_0
      42: aconst_null
      43: putfield      #26                 // Field currentAddress:Lorg/jboss/as/cli/ControllerAddress;
      46: aload_0
      47: invokestatic  #4                  // Method java/util/Collections.emptyList:()Ljava/util/List;
      50: putfield      #2                  // Field errors:Ljava/util/List;
      53: aload_0
      54: invokestatic  #4                  // Method java/util/Collections.emptyList:()Ljava/util/List;
      57: putfield      #5                  // Field loadedCommands:Ljava/util/List;
      60: return

  void loadHandlers(org.jboss.as.cli.ControllerAddress) throws org.jboss.as.cli.CommandLineException;
    Code:
       0: aload_0
       1: getfield      #16                 // Field ctx:Lorg/jboss/as/cli/CommandContext;
       4: invokeinterface #27,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.getModelControllerClient:()Lorg/jboss/as/controller/client/ModelControllerClient;
       9: astore_2
      10: getstatic     #6                  // Field $assertionsDisabled:Z
      13: ifne          30
      16: aload_2
      17: ifnonnull     30
      20: new           #7                  // class java/lang/AssertionError
      23: dup
      24: ldc           #28                 // String client is null
      26: invokespecial #9                  // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      29: athrow
      30: aload_0
      31: getfield      #15                 // Field moduleLoader:Lorg/jboss/modules/ModuleLoader;
      34: ifnonnull     49
      37: aload_0
      38: getfield      #16                 // Field ctx:Lorg/jboss/as/cli/CommandContext;
      41: ldc           #29                 // String Warning! The CLI is running in a non-modular environment and cannot load commands from management extensions.
      43: invokeinterface #30,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.printLine:(Ljava/lang/String;)V
      48: return
      49: aload_1
      50: ifnull        72
      53: aload_0
      54: getfield      #26                 // Field currentAddress:Lorg/jboss/as/cli/ControllerAddress;
      57: ifnull        72
      60: aload_1
      61: aload_0
      62: getfield      #26                 // Field currentAddress:Lorg/jboss/as/cli/ControllerAddress;
      65: invokevirtual #31                 // Method org/jboss/as/cli/ControllerAddress.equals:(Lorg/jboss/as/cli/ControllerAddress;)Z
      68: ifeq          72
      71: return
      72: aload_0
      73: invokevirtual #32                 // Method resetHandlers:()V
      76: aload_0
      77: aload_1
      78: putfield      #26                 // Field currentAddress:Lorg/jboss/as/cli/ControllerAddress;
      81: new           #33                 // class org/jboss/dmr/ModelNode
      84: dup
      85: invokespecial #34                 // Method org/jboss/dmr/ModelNode."<init>":()V
      88: astore_3
      89: aload_3
      90: ldc           #36                 // String address
      92: invokevirtual #37                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      95: invokevirtual #38                 // Method org/jboss/dmr/ModelNode.setEmptyList:()Lorg/jboss/dmr/ModelNode;
      98: pop
      99: aload_3
     100: ldc           #39                 // String operation
     102: invokevirtual #37                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     105: ldc           #40                 // String read-children-resources
     107: invokevirtual #41                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     110: pop
     111: aload_3
     112: ldc           #42                 // String child-type
     114: invokevirtual #37                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     117: ldc           #43                 // String extension
     119: invokevirtual #41                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     122: pop
     123: aload_2
     124: aload_3
     125: invokeinterface #44,  2           // InterfaceMethod org/jboss/as/controller/client/ModelControllerClient.execute:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     130: astore        4
     132: goto          149
     135: astore        5
     137: new           #46                 // class org/jboss/as/cli/CommandLineException
     140: dup
     141: ldc           #47                 // String Extensions loader failed to read extensions
     143: aload         5
     145: invokespecial #48                 // Method org/jboss/as/cli/CommandLineException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     148: athrow
     149: aload         4
     151: invokestatic  #49                 // Method org/jboss/as/cli/Util.isSuccess:(Lorg/jboss/dmr/ModelNode;)Z
     154: ifne          188
     157: new           #46                 // class org/jboss/as/cli/CommandLineException
     160: dup
     161: new           #50                 // class java/lang/StringBuilder
     164: dup
     165: invokespecial #51                 // Method java/lang/StringBuilder."<init>":()V
     168: ldc           #52                 // String Extensions loader failed to read extensions:
     170: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: aload         4
     175: invokestatic  #54                 // Method org/jboss/as/cli/Util.getFailureDescription:(Lorg/jboss/dmr/ModelNode;)Ljava/lang/String;
     178: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     181: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     184: invokespecial #56                 // Method org/jboss/as/cli/CommandLineException."<init>":(Ljava/lang/String;)V
     187: athrow
     188: aload         4
     190: ldc           #57                 // String result
     192: invokevirtual #37                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     195: astore        5
     197: aload         5
     199: invokevirtual #58                 // Method org/jboss/dmr/ModelNode.isDefined:()Z
     202: ifne          236
     205: new           #46                 // class org/jboss/as/cli/CommandLineException
     208: dup
     209: new           #50                 // class java/lang/StringBuilder
     212: dup
     213: invokespecial #51                 // Method java/lang/StringBuilder."<init>":()V
     216: ldc           #52                 // String Extensions loader failed to read extensions:
     218: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     221: aload         5
     223: invokevirtual #59                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     226: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     229: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     232: invokespecial #56                 // Method org/jboss/as/cli/CommandLineException."<init>":(Ljava/lang/String;)V
     235: athrow
     236: aload         5
     238: invokevirtual #60                 // Method org/jboss/dmr/ModelNode.asPropertyList:()Ljava/util/List;
     241: invokeinterface #22,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     246: astore        6
     248: aload         6
     250: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     255: ifeq          549
     258: aload         6
     260: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     265: checkcast     #61                 // class org/jboss/dmr/Property
     268: astore        7
     270: aload         7
     272: invokevirtual #62                 // Method org/jboss/dmr/Property.getValue:()Lorg/jboss/dmr/ModelNode;
     275: ldc           #63                 // String module
     277: invokevirtual #37                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     280: astore        8
     282: aload         8
     284: invokevirtual #58                 // Method org/jboss/dmr/ModelNode.isDefined:()Z
     287: ifne          325
     290: aload_0
     291: new           #50                 // class java/lang/StringBuilder
     294: dup
     295: invokespecial #51                 // Method java/lang/StringBuilder."<init>":()V
     298: ldc           #64                 // String Extension
     300: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     303: aload         7
     305: invokevirtual #65                 // Method org/jboss/dmr/Property.getName:()Ljava/lang/String;
     308: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     311: ldc           #66                 // String  is missing module attribute
     313: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     316: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     319: invokespecial #67                 // Method addError:(Ljava/lang/String;)V
     322: goto          546
     325: aload         8
     327: invokevirtual #59                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     330: invokestatic  #68                 // Method org/jboss/modules/ModuleIdentifier.create:(Ljava/lang/String;)Lorg/jboss/modules/ModuleIdentifier;
     333: astore        9
     335: aload_0
     336: getfield      #15                 // Field moduleLoader:Lorg/jboss/modules/ModuleLoader;
     339: aload         9
     341: invokevirtual #69                 // Method org/jboss/modules/ModuleLoader.loadModule:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/modules/Module;
     344: invokevirtual #70                 // Method org/jboss/modules/Module.getClassLoader:()Lorg/jboss/modules/ModuleClassLoader;
     347: astore        10
     349: ldc           #71                 // class org/jboss/as/cli/CommandHandlerProvider
     351: aload         10
     353: invokestatic  #72                 // Method java/util/ServiceLoader.load:(Ljava/lang/Class;Ljava/lang/ClassLoader;)Ljava/util/ServiceLoader;
     356: astore        11
     358: aload         11
     360: invokevirtual #73                 // Method java/util/ServiceLoader.iterator:()Ljava/util/Iterator;
     363: astore        12
     365: aload         12
     367: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     372: ifeq          488
     375: aload         12
     377: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     382: checkcast     #71                 // class org/jboss/as/cli/CommandHandlerProvider
     385: astore        13
     387: aload_0
     388: getfield      #17                 // Field registry:Lorg/jboss/as/cli/CommandRegistry;
     391: aload         13
     393: aload_0
     394: getfield      #16                 // Field ctx:Lorg/jboss/as/cli/CommandContext;
     397: invokeinterface #74,  2           // InterfaceMethod org/jboss/as/cli/CommandHandlerProvider.createCommandHandler:(Lorg/jboss/as/cli/CommandContext;)Lorg/jboss/as/cli/CommandHandler;
     402: aload         13
     404: invokeinterface #75,  1           // InterfaceMethod org/jboss/as/cli/CommandHandlerProvider.isTabComplete:()Z
     409: aload         13
     411: invokeinterface #76,  1           // InterfaceMethod org/jboss/as/cli/CommandHandlerProvider.getNames:()[Ljava/lang/String;
     416: invokevirtual #21                 // Method org/jboss/as/cli/CommandRegistry.registerHandler:(Lorg/jboss/as/cli/CommandHandler;Z[Ljava/lang/String;)V
     419: aload_0
     420: aload         13
     422: invokeinterface #76,  1           // InterfaceMethod org/jboss/as/cli/CommandHandlerProvider.getNames:()[Ljava/lang/String;
     427: invokestatic  #77                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     430: invokespecial #78                 // Method addCommands:(Ljava/util/List;)V
     433: goto          485
     436: astore        14
     438: aload_0
     439: aload         14
     441: invokevirtual #80                 // Method org/jboss/as/cli/CommandRegistry$RegisterHandlerException.getLocalizedMessage:()Ljava/lang/String;
     444: invokespecial #67                 // Method addError:(Ljava/lang/String;)V
     447: new           #81                 // class java/util/ArrayList
     450: dup
     451: aload         13
     453: invokeinterface #76,  1           // InterfaceMethod org/jboss/as/cli/CommandHandlerProvider.getNames:()[Ljava/lang/String;
     458: invokestatic  #77                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     461: invokespecial #82                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     464: astore        15
     466: aload         15
     468: aload         14
     470: invokevirtual #83                 // Method org/jboss/as/cli/CommandRegistry$RegisterHandlerException.getNotAddedNames:()Ljava/util/List;
     473: invokeinterface #84,  2           // InterfaceMethod java/util/List.removeAll:(Ljava/util/Collection;)Z
     478: pop
     479: aload_0
     480: aload         15
     482: invokespecial #78                 // Method addCommands:(Ljava/util/List;)V
     485: goto          365
     488: goto          546
     491: astore        11
     493: aload_0
     494: new           #50                 // class java/lang/StringBuilder
     497: dup
     498: invokespecial #51                 // Method java/lang/StringBuilder."<init>":()V
     501: ldc           #86                 // String Module
     503: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     506: aload         8
     508: invokevirtual #59                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     511: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     514: ldc           #87                 // String  from extension
     516: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     519: aload         7
     521: invokevirtual #65                 // Method org/jboss/dmr/Property.getName:()Ljava/lang/String;
     524: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     527: ldc           #88                 // String  available on the server couldn\'t be loaded locally:
     529: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     532: aload         11
     534: invokevirtual #89                 // Method org/jboss/modules/ModuleLoadException.getLocalizedMessage:()Ljava/lang/String;
     537: invokevirtual #53                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     540: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     543: invokespecial #67                 // Method addError:(Ljava/lang/String;)V
     546: goto          248
     549: aload_0
     550: getfield      #2                  // Field errors:Ljava/util/List;
     553: invokeinterface #90,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     558: ifne          572
     561: aload_0
     562: getfield      #16                 // Field ctx:Lorg/jboss/as/cli/CommandContext;
     565: ldc           #91                 // String Warning! There were errors trying to load extensions. For more details, please, execute \'extension-commands --errors\'
     567: invokeinterface #30,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.printLine:(Ljava/lang/String;)V
     572: return
    Exception table:
       from    to  target type
         123   132   135   Class java/io/IOException
         387   433   436   Class org/jboss/as/cli/CommandRegistry$RegisterHandlerException
         335   488   491   Class org/jboss/modules/ModuleLoadException

  private void addCommands(java.util.List<java.lang.String>);
    Code:
       0: aload_0
       1: getfield      #5                  // Field loadedCommands:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.isEmpty:()Z
       9: ifeq          23
      12: aload_0
      13: new           #81                 // class java/util/ArrayList
      16: dup
      17: invokespecial #92                 // Method java/util/ArrayList."<init>":()V
      20: putfield      #5                  // Field loadedCommands:Ljava/util/List;
      23: aload_0
      24: getfield      #5                  // Field loadedCommands:Ljava/util/List;
      27: aload_1
      28: invokeinterface #93,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      33: pop
      34: return

  private void addError(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field errors:Ljava/util/List;
       4: invokeinterface #94,  1           // InterfaceMethod java/util/List.size:()I
       9: lookupswitch  { // 2
                     0: 36
                     1: 47
               default: 62
          }
      36: aload_0
      37: aload_1
      38: invokestatic  #95                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
      41: putfield      #2                  // Field errors:Ljava/util/List;
      44: goto          73
      47: aload_0
      48: new           #81                 // class java/util/ArrayList
      51: dup
      52: aload_0
      53: getfield      #2                  // Field errors:Ljava/util/List;
      56: invokespecial #82                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      59: putfield      #2                  // Field errors:Ljava/util/List;
      62: aload_0
      63: getfield      #2                  // Field errors:Ljava/util/List;
      66: aload_1
      67: invokeinterface #96,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      72: pop
      73: return

  static java.util.List access$000(org.jboss.as.cli.impl.ExtensionsLoader);
    Code:
       0: aload_0
       1: getfield      #2                  // Field errors:Ljava/util/List;
       4: areturn

  static {};
    Code:
       0: ldc           #97                 // class org/jboss/as/cli/impl/ExtensionsLoader
       2: invokevirtual #98                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #6                  // Field $assertionsDisabled:Z
      16: return
}
