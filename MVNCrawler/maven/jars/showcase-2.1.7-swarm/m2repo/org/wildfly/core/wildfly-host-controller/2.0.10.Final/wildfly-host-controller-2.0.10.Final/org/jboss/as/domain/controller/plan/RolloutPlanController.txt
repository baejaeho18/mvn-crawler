Compiled from "RolloutPlanController.java"
public class org.jboss.as.domain.controller.plan.RolloutPlanController {
  private final boolean rollbackAcrossGroups;

  private final org.jboss.as.domain.controller.plan.RollingUpdateTask rootTask;

  private final java.util.Map<java.lang.String, org.jboss.as.domain.controller.plan.ServerUpdatePolicy> updatePolicies;

  private final boolean shutdown;

  private final long gracefulShutdownPeriod;

  private final org.jboss.as.domain.controller.operations.coordination.MultiphaseOverallContext domainOperationContext;

  public org.jboss.as.domain.controller.plan.RolloutPlanController(java.util.Map<java.lang.String, java.util.Map<org.jboss.as.domain.controller.ServerIdentity, org.jboss.dmr.ModelNode>>, org.jboss.dmr.ModelNode, org.jboss.as.domain.controller.operations.coordination.MultiphaseOverallContext, org.jboss.as.domain.controller.plan.ServerTaskExecutor, java.util.concurrent.ExecutorService, org.jboss.as.controller.BlockingTimeout);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/HashMap
       8: dup
       9: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      12: putfield      #5                  // Field updatePolicies:Ljava/util/Map;
      15: aload_0
      16: aload_3
      17: putfield      #6                  // Field domainOperationContext:Lorg/jboss/as/domain/controller/operations/coordination/MultiphaseOverallContext;
      20: aload_0
      21: aload_2
      22: ldc           #7                  // String rollback-across-groups
      24: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      27: ifeq          42
      30: aload_2
      31: ldc           #7                  // String rollback-across-groups
      33: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      36: invokevirtual #10                 // Method org/jboss/dmr/ModelNode.asBoolean:()Z
      39: ifeq          46
      42: iconst_1
      43: goto          47
      46: iconst_0
      47: putfield      #11                 // Field rollbackAcrossGroups:Z
      50: aload_0
      51: aload_2
      52: ldc           #12                 // String shutdown
      54: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      57: ifeq          76
      60: aload_2
      61: ldc           #12                 // String shutdown
      63: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      66: invokevirtual #10                 // Method org/jboss/dmr/ModelNode.asBoolean:()Z
      69: ifeq          76
      72: iconst_1
      73: goto          77
      76: iconst_0
      77: putfield      #13                 // Field shutdown:Z
      80: aload_0
      81: aload_2
      82: ldc           #14                 // String graceful-shutdown-timeout
      84: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      87: ifeq          103
      90: aload_2
      91: ldc           #14                 // String graceful-shutdown-timeout
      93: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      96: invokevirtual #15                 // Method org/jboss/dmr/ModelNode.asInt:()I
      99: i2l
     100: goto          106
     103: ldc2_w        #16                 // long -1l
     106: putfield      #18                 // Field gracefulShutdownPeriod:J
     109: new           #19                 // class java/util/ArrayList
     112: dup
     113: invokespecial #20                 // Method java/util/ArrayList."<init>":()V
     116: astore        7
     118: aload_0
     119: new           #21                 // class org/jboss/as/domain/controller/plan/RollingUpdateTask
     122: dup
     123: aload         7
     125: invokespecial #22                 // Method org/jboss/as/domain/controller/plan/RollingUpdateTask."<init>":(Ljava/util/List;)V
     128: putfield      #23                 // Field rootTask:Lorg/jboss/as/domain/controller/plan/RollingUpdateTask;
     131: aload_2
     132: ldc           #24                 // String in-series
     134: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     137: ifeq          697
     140: aconst_null
     141: astore        8
     143: invokestatic  #25                 // Method org/jboss/as/domain/controller/plan/SecurityActions.getCurrentSubject:()Ljavax/security/auth/Subject;
     146: astore        9
     148: aload_2
     149: ldc           #24                 // String in-series
     151: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     154: invokevirtual #26                 // Method org/jboss/dmr/ModelNode.asList:()Ljava/util/List;
     157: invokeinterface #27,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     162: astore        10
     164: aload         10
     166: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     171: ifeq          697
     174: aload         10
     176: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     181: checkcast     #30                 // class org/jboss/dmr/ModelNode
     184: astore        11
     186: new           #19                 // class java/util/ArrayList
     189: dup
     190: invokespecial #20                 // Method java/util/ArrayList."<init>":()V
     193: astore        12
     195: aload         7
     197: new           #31                 // class org/jboss/as/domain/controller/plan/ConcurrentUpdateTask
     200: dup
     201: aload         12
     203: aload         5
     205: invokespecial #32                 // Method org/jboss/as/domain/controller/plan/ConcurrentUpdateTask."<init>":(Ljava/util/List;Ljava/util/concurrent/ExecutorService;)V
     208: invokeinterface #33,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     213: pop
     214: new           #34                 // class java/util/HashSet
     217: dup
     218: invokespecial #35                 // Method java/util/HashSet."<init>":()V
     221: astore        13
     223: new           #19                 // class java/util/ArrayList
     226: dup
     227: invokespecial #20                 // Method java/util/ArrayList."<init>":()V
     230: astore        14
     232: aload         11
     234: ldc           #36                 // String concurrent-groups
     236: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     239: ifeq          310
     242: aload         11
     244: ldc           #36                 // String concurrent-groups
     246: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     249: invokevirtual #37                 // Method org/jboss/dmr/ModelNode.asPropertyList:()Ljava/util/List;
     252: invokeinterface #27,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     257: astore        15
     259: aload         15
     261: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     266: ifeq          307
     269: aload         15
     271: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     276: checkcast     #38                 // class org/jboss/dmr/Property
     279: astore        16
     281: aload         13
     283: aload         16
     285: invokevirtual #39                 // Method org/jboss/dmr/Property.getName:()Ljava/lang/String;
     288: invokeinterface #40,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     293: pop
     294: aload         14
     296: aload         16
     298: invokeinterface #33,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     303: pop
     304: goto          259
     307: goto          345
     310: aload         11
     312: ldc           #41                 // String server-group
     314: invokevirtual #42                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     317: invokevirtual #43                 // Method org/jboss/dmr/ModelNode.asProperty:()Lorg/jboss/dmr/Property;
     320: astore        15
     322: aload         13
     324: aload         15
     326: invokevirtual #39                 // Method org/jboss/dmr/Property.getName:()Ljava/lang/String;
     329: invokeinterface #40,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     334: pop
     335: aload         14
     337: aload         15
     339: invokeinterface #33,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     344: pop
     345: new           #44                 // class org/jboss/as/domain/controller/plan/ConcurrentGroupServerUpdatePolicy
     348: dup
     349: aload         8
     351: aload         13
     353: invokespecial #45                 // Method org/jboss/as/domain/controller/plan/ConcurrentGroupServerUpdatePolicy."<init>":(Lorg/jboss/as/domain/controller/plan/ConcurrentGroupServerUpdatePolicy;Ljava/util/Set;)V
     356: astore        15
     358: aload         14
     360: invokeinterface #27,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     365: astore        16
     367: aload         16
     369: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     374: ifeq          694
     377: aload         16
     379: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     384: checkcast     #38                 // class org/jboss/dmr/Property
     387: astore        17
     389: aload         17
     391: invokevirtual #39                 // Method org/jboss/dmr/Property.getName:()Ljava/lang/String;
     394: astore        18
     396: aload_1
     397: aload         18
     399: invokeinterface #46,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     404: checkcast     #47                 // class java/util/Map
     407: astore        19
     409: aload         19
     411: ifnonnull     417
     414: goto          367
     417: new           #19                 // class java/util/ArrayList
     420: dup
     421: invokespecial #20                 // Method java/util/ArrayList."<init>":()V
     424: astore        20
     426: aload         17
     428: invokevirtual #48                 // Method org/jboss/dmr/Property.getValue:()Lorg/jboss/dmr/ModelNode;
     431: astore        21
     433: aload         21
     435: ldc           #49                 // String rolling-to-servers
     437: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     440: ifeq          460
     443: aload         21
     445: ldc           #49                 // String rolling-to-servers
     447: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     450: invokevirtual #10                 // Method org/jboss/dmr/ModelNode.asBoolean:()Z
     453: ifeq          460
     456: iconst_1
     457: goto          461
     460: iconst_0
     461: istore        22
     463: aload         19
     465: invokeinterface #50,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     470: astore        23
     472: iconst_0
     473: istore        24
     475: aload         21
     477: ldc           #51                 // String max-failure-percentage
     479: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     482: ifeq          515
     485: aload         21
     487: ldc           #51                 // String max-failure-percentage
     489: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     492: invokevirtual #15                 // Method org/jboss/dmr/ModelNode.asInt:()I
     495: istore        25
     497: aload         23
     499: invokeinterface #52,  1           // InterfaceMethod java/util/Set.size:()I
     504: iload         25
     506: imul
     507: bipush        100
     509: idiv
     510: istore        24
     512: goto          537
     515: aload         21
     517: ldc           #53                 // String max-failed-servers
     519: invokevirtual #8                  // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     522: ifeq          537
     525: aload         21
     527: ldc           #53                 // String max-failed-servers
     529: invokevirtual #9                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     532: invokevirtual #15                 // Method org/jboss/dmr/ModelNode.asInt:()I
     535: istore        24
     537: new           #54                 // class org/jboss/as/domain/controller/plan/ServerUpdatePolicy
     540: dup
     541: aload         15
     543: aload         18
     545: aload         23
     547: iload         24
     549: invokespecial #55                 // Method org/jboss/as/domain/controller/plan/ServerUpdatePolicy."<init>":(Lorg/jboss/as/domain/controller/plan/ConcurrentGroupServerUpdatePolicy;Ljava/lang/String;Ljava/util/Set;I)V
     552: astore        25
     554: aload         12
     556: iload         22
     558: ifeq          581
     561: new           #56                 // class org/jboss/as/domain/controller/plan/RollingServerGroupUpdateTask
     564: dup
     565: aload         20
     567: aload         25
     569: aload         4
     571: aload         9
     573: aload         6
     575: invokespecial #57                 // Method org/jboss/as/domain/controller/plan/RollingServerGroupUpdateTask."<init>":(Ljava/util/List;Lorg/jboss/as/domain/controller/plan/ServerUpdatePolicy;Lorg/jboss/as/domain/controller/plan/ServerTaskExecutor;Ljavax/security/auth/Subject;Lorg/jboss/as/controller/BlockingTimeout;)V
     578: goto          598
     581: new           #58                 // class org/jboss/as/domain/controller/plan/ConcurrentServerGroupUpdateTask
     584: dup
     585: aload         20
     587: aload         25
     589: aload         4
     591: aload         9
     593: aload         6
     595: invokespecial #59                 // Method org/jboss/as/domain/controller/plan/ConcurrentServerGroupUpdateTask."<init>":(Ljava/util/List;Lorg/jboss/as/domain/controller/plan/ServerUpdatePolicy;Lorg/jboss/as/domain/controller/plan/ServerTaskExecutor;Ljavax/security/auth/Subject;Lorg/jboss/as/controller/BlockingTimeout;)V
     598: invokeinterface #33,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     603: pop
     604: aload_0
     605: getfield      #5                  // Field updatePolicies:Ljava/util/Map;
     608: aload         18
     610: aload         25
     612: invokeinterface #60,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     617: pop
     618: aload         19
     620: invokeinterface #61,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     625: invokeinterface #62,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     630: astore        26
     632: aload         26
     634: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     639: ifeq          691
     642: aload         26
     644: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     649: checkcast     #63                 // class java/util/Map$Entry
     652: astore        27
     654: aload         20
     656: aload_0
     657: aload         27
     659: invokeinterface #64,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     664: checkcast     #65                 // class org/jboss/as/domain/controller/ServerIdentity
     667: aload         27
     669: invokeinterface #66,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     674: checkcast     #30                 // class org/jboss/dmr/ModelNode
     677: aload         25
     679: invokespecial #67                 // Method createServerTask:(Lorg/jboss/as/domain/controller/ServerIdentity;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/domain/controller/plan/ServerUpdatePolicy;)Lorg/jboss/as/domain/controller/plan/ServerUpdateTask;
     682: invokeinterface #33,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     687: pop
     688: goto          632
     691: goto          367
     694: goto          164
     697: return

  public org.jboss.as.domain.controller.plan.RolloutPlanController$Result execute();
    Code:
       0: aload_0
       1: getfield      #23                 // Field rootTask:Lorg/jboss/as/domain/controller/plan/RollingUpdateTask;
       4: invokevirtual #68                 // Method org/jboss/as/domain/controller/plan/RollingUpdateTask.run:()V
       7: aconst_null
       8: astore_1
       9: aload_0
      10: getfield      #5                  // Field updatePolicies:Ljava/util/Map;
      13: invokeinterface #69,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      18: invokeinterface #70,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      23: astore_2
      24: aload_2
      25: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      30: ifeq          137
      33: aload_2
      34: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      39: checkcast     #54                 // class org/jboss/as/domain/controller/plan/ServerUpdatePolicy
      42: astore_3
      43: aload_3
      44: invokevirtual #71                 // Method org/jboss/as/domain/controller/plan/ServerUpdatePolicy.isFailed:()Z
      47: ifeq          101
      50: aload_0
      51: getfield      #6                  // Field domainOperationContext:Lorg/jboss/as/domain/controller/operations/coordination/MultiphaseOverallContext;
      54: aload_3
      55: invokevirtual #72                 // Method org/jboss/as/domain/controller/plan/ServerUpdatePolicy.getServerGroupName:()Ljava/lang/String;
      58: iconst_1
      59: invokevirtual #73                 // Method org/jboss/as/domain/controller/operations/coordination/MultiphaseOverallContext.setServerGroupRollback:(Ljava/lang/String;Z)V
      62: aload_0
      63: getfield      #11                 // Field rollbackAcrossGroups:Z
      66: ifeq          77
      69: aload_0
      70: getfield      #6                  // Field domainOperationContext:Lorg/jboss/as/domain/controller/operations/coordination/MultiphaseOverallContext;
      73: iconst_1
      74: invokevirtual #74                 // Method org/jboss/as/domain/controller/operations/coordination/MultiphaseOverallContext.setCompleteRollback:(Z)V
      77: aload_1
      78: ifnull        88
      81: aload_1
      82: getstatic     #75                 // Field org/jboss/as/domain/controller/plan/RolloutPlanController$Result.FAILED:Lorg/jboss/as/domain/controller/plan/RolloutPlanController$Result;
      85: if_acmpne     94
      88: getstatic     #75                 // Field org/jboss/as/domain/controller/plan/RolloutPlanController$Result.FAILED:Lorg/jboss/as/domain/controller/plan/RolloutPlanController$Result;
      91: goto          97
      94: getstatic     #76                 // Field org/jboss/as/domain/controller/plan/RolloutPlanController$Result.PARTIAL:Lorg/jboss/as/domain/controller/plan/RolloutPlanController$Result;
      97: astore_1
      98: goto          134
     101: aload_0
     102: getfield      #6                  // Field domainOperationContext:Lorg/jboss/as/domain/controller/operations/coordination/MultiphaseOverallContext;
     105: aload_3
     106: invokevirtual #72                 // Method org/jboss/as/domain/controller/plan/ServerUpdatePolicy.getServerGroupName:()Ljava/lang/String;
     109: iconst_0
     110: invokevirtual #73                 // Method org/jboss/as/domain/controller/operations/coordination/MultiphaseOverallContext.setServerGroupRollback:(Ljava/lang/String;Z)V
     113: aload_1
     114: ifnull        124
     117: aload_1
     118: getstatic     #77                 // Field org/jboss/as/domain/controller/plan/RolloutPlanController$Result.SUCCESS:Lorg/jboss/as/domain/controller/plan/RolloutPlanController$Result;
     121: if_acmpne     130
     124: getstatic     #77                 // Field org/jboss/as/domain/controller/plan/RolloutPlanController$Result.SUCCESS:Lorg/jboss/as/domain/controller/plan/RolloutPlanController$Result;
     127: goto          133
     130: getstatic     #76                 // Field org/jboss/as/domain/controller/plan/RolloutPlanController$Result.PARTIAL:Lorg/jboss/as/domain/controller/plan/RolloutPlanController$Result;
     133: astore_1
     134: goto          24
     137: aload_1
     138: areturn

  private org.jboss.as.domain.controller.plan.ServerUpdateTask createServerTask(org.jboss.as.domain.controller.ServerIdentity, org.jboss.dmr.ModelNode, org.jboss.as.domain.controller.plan.ServerUpdatePolicy);
    Code:
       0: aload_0
       1: getfield      #13                 // Field shutdown:Z
       4: ifeq          25
       7: new           #78                 // class org/jboss/as/domain/controller/plan/ServerRestartTask
      10: dup
      11: aload_1
      12: aload_3
      13: aload_0
      14: getfield      #18                 // Field gracefulShutdownPeriod:J
      17: invokespecial #79                 // Method org/jboss/as/domain/controller/plan/ServerRestartTask."<init>":(Lorg/jboss/as/domain/controller/ServerIdentity;Lorg/jboss/as/domain/controller/plan/ServerUpdatePolicy;J)V
      20: astore        4
      22: goto          37
      25: new           #80                 // class org/jboss/as/domain/controller/plan/RunningServerUpdateTask
      28: dup
      29: aload_1
      30: aload_2
      31: aload_3
      32: invokespecial #81                 // Method org/jboss/as/domain/controller/plan/RunningServerUpdateTask."<init>":(Lorg/jboss/as/domain/controller/ServerIdentity;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/domain/controller/plan/ServerUpdatePolicy;)V
      35: astore        4
      37: aload         4
      39: areturn
}
