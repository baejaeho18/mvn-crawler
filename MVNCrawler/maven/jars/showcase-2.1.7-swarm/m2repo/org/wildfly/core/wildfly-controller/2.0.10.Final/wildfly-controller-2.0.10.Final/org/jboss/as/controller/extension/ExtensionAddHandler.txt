Compiled from "ExtensionAddHandler.java"
public class org.jboss.as.controller.extension.ExtensionAddHandler implements org.jboss.as.controller.OperationStepHandler {
  public static final java.lang.String OPERATION_NAME;

  private final org.jboss.as.controller.extension.ExtensionRegistry extensionRegistry;

  private final boolean parallelBoot;

  private final org.jboss.as.controller.extension.ExtensionRegistryType extensionRegistryType;

  private final org.jboss.as.controller.extension.MutableRootResourceRegistrationProvider rootResourceRegistrationProvider;

  static final boolean $assertionsDisabled;

  public org.jboss.as.controller.extension.ExtensionAddHandler(org.jboss.as.controller.extension.ExtensionRegistry, boolean, org.jboss.as.controller.extension.ExtensionRegistryType, org.jboss.as.controller.extension.MutableRootResourceRegistrationProvider);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: getstatic     #4                  // Field $assertionsDisabled:Z
       7: ifne          24
      10: aload_1
      11: ifnonnull     24
      14: new           #5                  // class java/lang/AssertionError
      17: dup
      18: ldc           #6                  // String extensionRegistry is null
      20: invokespecial #7                  // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      23: athrow
      24: aload_0
      25: aload_1
      26: putfield      #2                  // Field extensionRegistry:Lorg/jboss/as/controller/extension/ExtensionRegistry;
      29: aload_0
      30: iload_2
      31: putfield      #8                  // Field parallelBoot:Z
      34: aload_0
      35: aload_3
      36: putfield      #9                  // Field extensionRegistryType:Lorg/jboss/as/controller/extension/ExtensionRegistryType;
      39: aload_0
      40: aload         4
      42: putfield      #10                 // Field rootResourceRegistrationProvider:Lorg/jboss/as/controller/extension/MutableRootResourceRegistrationProvider;
      45: return

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_1
       1: invokeinterface #11,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getCurrentAddressValue:()Ljava/lang/String;
       6: astore_3
       7: new           #12                 // class org/jboss/as/controller/extension/ExtensionResource
      10: dup
      11: aload_3
      12: aload_0
      13: getfield      #2                  // Field extensionRegistry:Lorg/jboss/as/controller/extension/ExtensionRegistry;
      16: invokespecial #13                 // Method org/jboss/as/controller/extension/ExtensionResource."<init>":(Ljava/lang/String;Lorg/jboss/as/controller/extension/ExtensionRegistry;)V
      19: astore        4
      21: aload_1
      22: getstatic     #14                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
      25: aload         4
      27: invokeinterface #15,  3           // InterfaceMethod org/jboss/as/controller/OperationContext.addResource:(Lorg/jboss/as/controller/PathAddress;Lorg/jboss/as/controller/registry/Resource;)V
      32: aload_0
      33: getfield      #8                  // Field parallelBoot:Z
      36: ifeq          48
      39: aload_1
      40: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.isBooting:()Z
      45: ifne          52
      48: iconst_1
      49: goto          53
      52: iconst_0
      53: istore        5
      55: iload         5
      57: ifeq          139
      60: aload_0
      61: getfield      #10                 // Field rootResourceRegistrationProvider:Lorg/jboss/as/controller/extension/MutableRootResourceRegistrationProvider;
      64: aload_1
      65: invokeinterface #17,  2           // InterfaceMethod org/jboss/as/controller/extension/MutableRootResourceRegistrationProvider.getRootResourceRegistrationForUpdate:(Lorg/jboss/as/controller/OperationContext;)Lorg/jboss/as/controller/registry/ManagementResourceRegistration;
      70: astore        6
      72: aload_0
      73: getfield      #2                  // Field extensionRegistry:Lorg/jboss/as/controller/extension/ExtensionRegistry;
      76: aload_3
      77: aload         6
      79: aload_0
      80: getfield      #9                  // Field extensionRegistryType:Lorg/jboss/as/controller/extension/ExtensionRegistryType;
      83: invokestatic  #18                 // Method initializeExtension:(Lorg/jboss/as/controller/extension/ExtensionRegistry;Ljava/lang/String;Lorg/jboss/as/controller/registry/ManagementResourceRegistration;Lorg/jboss/as/controller/extension/ExtensionRegistryType;)V
      86: aload_0
      87: getfield      #9                  // Field extensionRegistryType:Lorg/jboss/as/controller/extension/ExtensionRegistryType;
      90: getstatic     #19                 // Field org/jboss/as/controller/extension/ExtensionRegistryType.SLAVE:Lorg/jboss/as/controller/extension/ExtensionRegistryType;
      93: if_acmpne     142
      96: aload_1
      97: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.isBooting:()Z
     102: ifne          142
     105: new           #20                 // class org/jboss/dmr/ModelNode
     108: dup
     109: invokespecial #21                 // Method org/jboss/dmr/ModelNode."<init>":()V
     112: astore        7
     114: aload_0
     115: getfield      #2                  // Field extensionRegistry:Lorg/jboss/as/controller/extension/ExtensionRegistry;
     118: aload_3
     119: aload         7
     121: invokevirtual #22                 // Method org/jboss/as/controller/extension/ExtensionRegistry.recordSubsystemVersions:(Ljava/lang/String;Lorg/jboss/dmr/ModelNode;)V
     124: aload_1
     125: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getResult:()Lorg/jboss/dmr/ModelNode;
     130: aload         7
     132: invokevirtual #24                 // Method org/jboss/dmr/ModelNode.set:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     135: pop
     136: goto          142
     139: aconst_null
     140: astore        6
     142: aload_1
     143: new           #25                 // class org/jboss/as/controller/extension/ExtensionAddHandler$1
     146: dup
     147: aload_0
     148: iload         5
     150: aload         4
     152: aload_3
     153: aload         6
     155: invokespecial #26                 // Method org/jboss/as/controller/extension/ExtensionAddHandler$1."<init>":(Lorg/jboss/as/controller/extension/ExtensionAddHandler;ZLorg/jboss/as/controller/extension/ExtensionResource;Ljava/lang/String;Lorg/jboss/as/controller/registry/ManagementResourceRegistration;)V
     158: invokeinterface #27,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.completeStep:(Lorg/jboss/as/controller/OperationContext$RollbackHandler;)V
     163: return

  void initializeExtension(java.lang.String, org.jboss.as.controller.registry.ManagementResourceRegistration);
    Code:
       0: aload_0
       1: getfield      #2                  // Field extensionRegistry:Lorg/jboss/as/controller/extension/ExtensionRegistry;
       4: aload_1
       5: aload_2
       6: aload_0
       7: getfield      #9                  // Field extensionRegistryType:Lorg/jboss/as/controller/extension/ExtensionRegistryType;
      10: invokestatic  #18                 // Method initializeExtension:(Lorg/jboss/as/controller/extension/ExtensionRegistry;Ljava/lang/String;Lorg/jboss/as/controller/registry/ManagementResourceRegistration;Lorg/jboss/as/controller/extension/ExtensionRegistryType;)V
      13: return

  static void initializeExtension(org.jboss.as.controller.extension.ExtensionRegistry, java.lang.String, org.jboss.as.controller.registry.ManagementResourceRegistration, org.jboss.as.controller.extension.ExtensionRegistryType);
    Code:
       0: iconst_0
       1: istore        4
       3: aload_1
       4: invokestatic  #28                 // Method org/jboss/modules/ModuleIdentifier.fromString:(Ljava/lang/String;)Lorg/jboss/modules/ModuleIdentifier;
       7: ldc           #29                 // class org/jboss/as/controller/Extension
       9: invokestatic  #30                 // Method org/jboss/modules/Module.loadServiceFromCallerModuleLoader:(Lorg/jboss/modules/ModuleIdentifier;Ljava/lang/Class;)Ljava/util/ServiceLoader;
      12: invokevirtual #31                 // Method java/util/ServiceLoader.iterator:()Ljava/util/Iterator;
      15: astore        5
      17: aload         5
      19: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          120
      27: aload         5
      29: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #29                 // class org/jboss/as/controller/Extension
      37: astore        6
      39: aload         6
      41: invokevirtual #34                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      44: invokestatic  #35                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/Class;)Ljava/lang/ClassLoader;
      47: astore        7
      49: iload         4
      51: ifne          67
      54: aload_0
      55: invokevirtual #36                 // Method org/jboss/as/controller/extension/ExtensionRegistry.getExtensionModuleNames:()Ljava/util/Set;
      58: aload_1
      59: invokeinterface #37,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      64: ifne          83
      67: aload         6
      69: aload_0
      70: aload_1
      71: aconst_null
      72: invokevirtual #38                 // Method org/jboss/as/controller/extension/ExtensionRegistry.getExtensionParsingContext:(Ljava/lang/String;Lorg/jboss/staxmapper/XMLMapper;)Lorg/jboss/as/controller/parsing/ExtensionParsingContext;
      75: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/controller/Extension.initializeParsers:(Lorg/jboss/as/controller/parsing/ExtensionParsingContext;)V
      80: iconst_1
      81: istore        4
      83: aload         6
      85: aload_0
      86: aload_1
      87: aload_2
      88: aload_3
      89: invokevirtual #40                 // Method org/jboss/as/controller/extension/ExtensionRegistry.getExtensionContext:(Ljava/lang/String;Lorg/jboss/as/controller/registry/ManagementResourceRegistration;Lorg/jboss/as/controller/extension/ExtensionRegistryType;)Lorg/jboss/as/controller/ExtensionContext;
      92: invokeinterface #41,  2           // InterfaceMethod org/jboss/as/controller/Extension.initialize:(Lorg/jboss/as/controller/ExtensionContext;)V
      97: aload         7
      99: invokestatic  #42                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
     102: pop
     103: goto          117
     106: astore        8
     108: aload         7
     110: invokestatic  #42                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
     113: pop
     114: aload         8
     116: athrow
     117: goto          17
     120: goto          151
     123: astore        4
     125: getstatic     #44                 // Field org/jboss/as/controller/logging/ControllerLogger.ROOT_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
     128: aload         4
     130: aload_1
     131: invokeinterface #45,  3           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.extensionModuleNotFound:(Lorg/jboss/modules/ModuleNotFoundException;Ljava/lang/String;)Lorg/jboss/as/controller/_private/OperationFailedRuntimeException;
     136: athrow
     137: astore        4
     139: getstatic     #44                 // Field org/jboss/as/controller/logging/ControllerLogger.ROOT_LOGGER:Lorg/jboss/as/controller/logging/ControllerLogger;
     142: aload         4
     144: aload_1
     145: invokeinterface #47,  3           // InterfaceMethod org/jboss/as/controller/logging/ControllerLogger.extensionModuleLoadingFailure:(Lorg/jboss/modules/ModuleLoadException;Ljava/lang/String;)Ljava/lang/RuntimeException;
     150: athrow
     151: return
    Exception table:
       from    to  target type
          49    97   106   any
         106   108   106   any
           0   120   123   Class org/jboss/modules/ModuleNotFoundException
           0   120   137   Class org/jboss/modules/ModuleLoadException

  static org.jboss.as.controller.extension.ExtensionRegistry access$000(org.jboss.as.controller.extension.ExtensionAddHandler);
    Code:
       0: aload_0
       1: getfield      #2                  // Field extensionRegistry:Lorg/jboss/as/controller/extension/ExtensionRegistry;
       4: areturn

  static {};
    Code:
       0: ldc           #48                 // class org/jboss/as/controller/extension/ExtensionAddHandler
       2: invokevirtual #49                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #4                  // Field $assertionsDisabled:Z
      16: return
}
