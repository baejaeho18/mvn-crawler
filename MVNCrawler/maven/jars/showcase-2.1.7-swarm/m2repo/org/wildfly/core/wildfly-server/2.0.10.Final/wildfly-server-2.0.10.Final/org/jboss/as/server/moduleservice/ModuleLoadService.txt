Compiled from "ModuleLoadService.java"
public class org.jboss.as.server.moduleservice.ModuleLoadService implements org.jboss.msc.service.Service<org.jboss.modules.Module> {
  private final org.jboss.msc.value.InjectedValue<org.jboss.as.server.moduleservice.ServiceModuleLoader> serviceModuleLoader;

  private final org.jboss.msc.value.InjectedValue<org.jboss.as.server.moduleservice.ModuleDefinition> moduleDefinitionInjectedValue;

  private final java.util.List<org.jboss.as.server.deployment.module.ModuleDependency> dependencies;

  private volatile org.jboss.modules.Module module;

  private org.jboss.as.server.moduleservice.ModuleLoadService(java.util.List<org.jboss.as.server.deployment.module.ModuleDependency>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/jboss/msc/value/InjectedValue
       8: dup
       9: invokespecial #3                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      12: putfield      #4                  // Field serviceModuleLoader:Lorg/jboss/msc/value/InjectedValue;
      15: aload_0
      16: new           #2                  // class org/jboss/msc/value/InjectedValue
      19: dup
      20: invokespecial #3                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      23: putfield      #5                  // Field moduleDefinitionInjectedValue:Lorg/jboss/msc/value/InjectedValue;
      26: aload_0
      27: aload_1
      28: putfield      #6                  // Field dependencies:Ljava/util/List;
      31: return

  public synchronized void start(org.jboss.msc.service.StartContext) throws org.jboss.msc.service.StartException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field serviceModuleLoader:Lorg/jboss/msc/value/InjectedValue;
       4: invokevirtual #7                  // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
       7: checkcast     #8                  // class org/jboss/as/server/moduleservice/ServiceModuleLoader
      10: astore_2
      11: aload_2
      12: aload_0
      13: getfield      #5                  // Field moduleDefinitionInjectedValue:Lorg/jboss/msc/value/InjectedValue;
      16: invokevirtual #7                  // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      19: checkcast     #9                  // class org/jboss/as/server/moduleservice/ModuleDefinition
      22: invokevirtual #10                 // Method org/jboss/as/server/moduleservice/ModuleDefinition.getModuleIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
      25: invokevirtual #11                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.loadModule:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/modules/Module;
      28: astore_3
      29: aload_2
      30: aload_3
      31: invokevirtual #12                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.relinkModule:(Lorg/jboss/modules/Module;)V
      34: aload_0
      35: getfield      #6                  // Field dependencies:Ljava/util/List;
      38: invokeinterface #13,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      43: astore        4
      45: aload         4
      47: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      52: ifeq          222
      55: aload         4
      57: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      62: checkcast     #16                 // class org/jboss/as/server/deployment/module/ModuleDependency
      65: astore        5
      67: aload         5
      69: invokevirtual #17                 // Method org/jboss/as/server/deployment/module/ModuleDependency.isUserSpecified:()Z
      72: ifeq          219
      75: aload         5
      77: invokevirtual #18                 // Method org/jboss/as/server/deployment/module/ModuleDependency.getIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
      80: astore        6
      82: aload_2
      83: aload         6
      85: invokevirtual #11                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.loadModule:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/modules/Module;
      88: ldc           #19                 // String jboss.api
      90: invokevirtual #20                 // Method org/jboss/modules/Module.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      93: astore        7
      95: aload         7
      97: ifnull        214
     100: aload         7
     102: ldc           #21                 // String private
     104: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     107: ifeq          139
     110: getstatic     #23                 // Field org/jboss/as/server/logging/ServerLogger.PRIVATE_DEP_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     113: aload_0
     114: getfield      #5                  // Field moduleDefinitionInjectedValue:Lorg/jboss/msc/value/InjectedValue;
     117: invokevirtual #7                  // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     120: checkcast     #9                  // class org/jboss/as/server/moduleservice/ModuleDefinition
     123: invokevirtual #10                 // Method org/jboss/as/server/moduleservice/ModuleDefinition.getModuleIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
     126: invokevirtual #24                 // Method org/jboss/modules/ModuleIdentifier.getName:()Ljava/lang/String;
     129: aload         6
     131: invokeinterface #25,  3           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.privateApiUsed:(Ljava/lang/String;Lorg/jboss/modules/ModuleIdentifier;)V
     136: goto          214
     139: aload         7
     141: ldc           #26                 // String unsupported
     143: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     146: ifeq          178
     149: getstatic     #27                 // Field org/jboss/as/server/logging/ServerLogger.UNSUPPORTED_DEP_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     152: aload_0
     153: getfield      #5                  // Field moduleDefinitionInjectedValue:Lorg/jboss/msc/value/InjectedValue;
     156: invokevirtual #7                  // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     159: checkcast     #9                  // class org/jboss/as/server/moduleservice/ModuleDefinition
     162: invokevirtual #10                 // Method org/jboss/as/server/moduleservice/ModuleDefinition.getModuleIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
     165: invokevirtual #24                 // Method org/jboss/modules/ModuleIdentifier.getName:()Ljava/lang/String;
     168: aload         6
     170: invokeinterface #28,  3           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.unsupportedApiUsed:(Ljava/lang/String;Lorg/jboss/modules/ModuleIdentifier;)V
     175: goto          214
     178: aload         7
     180: ldc           #29                 // String deprecated
     182: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     185: ifeq          214
     188: getstatic     #30                 // Field org/jboss/as/server/logging/ServerLogger.DEPRECATED_DEP_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     191: aload_0
     192: getfield      #5                  // Field moduleDefinitionInjectedValue:Lorg/jboss/msc/value/InjectedValue;
     195: invokevirtual #7                  // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     198: checkcast     #9                  // class org/jboss/as/server/moduleservice/ModuleDefinition
     201: invokevirtual #10                 // Method org/jboss/as/server/moduleservice/ModuleDefinition.getModuleIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
     204: invokevirtual #24                 // Method org/jboss/modules/ModuleIdentifier.getName:()Ljava/lang/String;
     207: aload         6
     209: invokeinterface #31,  3           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.deprecatedApiUsed:(Ljava/lang/String;Lorg/jboss/modules/ModuleIdentifier;)V
     214: goto          219
     217: astore        7
     219: goto          45
     222: aload_0
     223: aload_3
     224: putfield      #33                 // Field module:Lorg/jboss/modules/Module;
     227: goto          254
     230: astore_2
     231: getstatic     #35                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     234: aload_0
     235: getfield      #5                  // Field moduleDefinitionInjectedValue:Lorg/jboss/msc/value/InjectedValue;
     238: invokevirtual #7                  // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     241: checkcast     #9                  // class org/jboss/as/server/moduleservice/ModuleDefinition
     244: invokevirtual #10                 // Method org/jboss/as/server/moduleservice/ModuleDefinition.getModuleIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
     247: aload_2
     248: invokeinterface #36,  3           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.failedToLoadModule:(Lorg/jboss/modules/ModuleIdentifier;Lorg/jboss/modules/ModuleLoadException;)Lorg/jboss/msc/service/StartException;
     253: athrow
     254: return
    Exception table:
       from    to  target type
          82   214   217   Class org/jboss/modules/ModuleNotFoundException
           0   227   230   Class org/jboss/modules/ModuleLoadException

  public synchronized void stop(org.jboss.msc.service.StopContext);
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #33                 // Field module:Lorg/jboss/modules/Module;
       5: return

  public org.jboss.modules.Module getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: getfield      #33                 // Field module:Lorg/jboss/modules/Module;
       4: areturn

  public static org.jboss.msc.service.ServiceName install(org.jboss.msc.service.ServiceTarget, org.jboss.modules.ModuleIdentifier, java.util.List<org.jboss.as.server.deployment.module.ModuleDependency>);
    Code:
       0: new           #37                 // class org/jboss/as/server/moduleservice/ModuleLoadService
       3: dup
       4: aload_2
       5: invokespecial #38                 // Method "<init>":(Ljava/util/List;)V
       8: astore_3
       9: aload_1
      10: invokestatic  #39                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.moduleServiceName:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/msc/service/ServiceName;
      13: astore        4
      15: aload_0
      16: aload         4
      18: aload_3
      19: invokeinterface #40,  3           // InterfaceMethod org/jboss/msc/service/ServiceTarget.addService:(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/jboss/msc/service/ServiceBuilder;
      24: astore        5
      26: aload         5
      28: getstatic     #41                 // Field org/jboss/as/server/Services.JBOSS_SERVICE_MODULE_LOADER:Lorg/jboss/msc/service/ServiceName;
      31: ldc           #8                  // class org/jboss/as/server/moduleservice/ServiceModuleLoader
      33: aload_3
      34: invokevirtual #42                 // Method getServiceModuleLoader:()Lorg/jboss/msc/value/InjectedValue;
      37: invokeinterface #43,  4           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
      42: pop
      43: aload         5
      45: aload_1
      46: invokestatic  #44                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.moduleSpecServiceName:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/msc/service/ServiceName;
      49: ldc           #9                  // class org/jboss/as/server/moduleservice/ModuleDefinition
      51: aload_3
      52: invokevirtual #45                 // Method getModuleDefinitionInjectedValue:()Lorg/jboss/msc/value/InjectedValue;
      55: invokeinterface #43,  4           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;Ljava/lang/Class;Lorg/jboss/msc/inject/Injector;)Lorg/jboss/msc/service/ServiceBuilder;
      60: pop
      61: aload         5
      63: aload_1
      64: invokestatic  #46                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.moduleResolvedServiceName:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/msc/service/ServiceName;
      67: invokeinterface #47,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
      72: pop
      73: aload_2
      74: invokeinterface #13,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      79: astore        6
      81: aload         6
      83: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      88: ifeq          156
      91: aload         6
      93: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      98: checkcast     #16                 // class org/jboss/as/server/deployment/module/ModuleDependency
     101: astore        7
     103: aload         7
     105: invokevirtual #18                 // Method org/jboss/as/server/deployment/module/ModuleDependency.getIdentifier:()Lorg/jboss/modules/ModuleIdentifier;
     108: astore        8
     110: aload         8
     112: invokevirtual #24                 // Method org/jboss/modules/ModuleIdentifier.getName:()Ljava/lang/String;
     115: ldc           #48                 // String deployment.
     117: invokevirtual #49                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     120: ifeq          153
     123: aload         5
     125: aload         7
     127: invokevirtual #50                 // Method org/jboss/as/server/deployment/module/ModuleDependency.isOptional:()Z
     130: ifeq          139
     133: getstatic     #51                 // Field org/jboss/msc/service/ServiceBuilder$DependencyType.OPTIONAL:Lorg/jboss/msc/service/ServiceBuilder$DependencyType;
     136: goto          142
     139: getstatic     #52                 // Field org/jboss/msc/service/ServiceBuilder$DependencyType.REQUIRED:Lorg/jboss/msc/service/ServiceBuilder$DependencyType;
     142: aload         8
     144: invokestatic  #44                 // Method org/jboss/as/server/moduleservice/ServiceModuleLoader.moduleSpecServiceName:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/msc/service/ServiceName;
     147: invokeinterface #53,  3           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.addDependency:(Lorg/jboss/msc/service/ServiceBuilder$DependencyType;Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceBuilder;
     152: pop
     153: goto          81
     156: aload         5
     158: getstatic     #54                 // Field org/jboss/msc/service/ServiceController$Mode.ON_DEMAND:Lorg/jboss/msc/service/ServiceController$Mode;
     161: invokeinterface #55,  2           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.setInitialMode:(Lorg/jboss/msc/service/ServiceController$Mode;)Lorg/jboss/msc/service/ServiceBuilder;
     166: pop
     167: aload         5
     169: invokeinterface #56,  1           // InterfaceMethod org/jboss/msc/service/ServiceBuilder.install:()Lorg/jboss/msc/service/ServiceController;
     174: pop
     175: aload         4
     177: areturn

  public static org.jboss.msc.service.ServiceName installService(org.jboss.msc.service.ServiceTarget, org.jboss.modules.ModuleIdentifier, java.util.List<org.jboss.modules.ModuleIdentifier>);
    Code:
       0: new           #57                 // class java/util/ArrayList
       3: dup
       4: aload_2
       5: invokeinterface #58,  1           // InterfaceMethod java/util/List.size:()I
      10: invokespecial #59                 // Method java/util/ArrayList."<init>":(I)V
      13: astore_3
      14: aload_2
      15: invokeinterface #13,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      20: astore        4
      22: aload         4
      24: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          66
      32: aload         4
      34: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      39: checkcast     #60                 // class org/jboss/modules/ModuleIdentifier
      42: astore        5
      44: aload_3
      45: new           #16                 // class org/jboss/as/server/deployment/module/ModuleDependency
      48: dup
      49: aconst_null
      50: aload         5
      52: iconst_0
      53: iconst_0
      54: iconst_0
      55: iconst_0
      56: invokespecial #61                 // Method org/jboss/as/server/deployment/module/ModuleDependency."<init>":(Lorg/jboss/modules/ModuleLoader;Lorg/jboss/modules/ModuleIdentifier;ZZZZ)V
      59: invokevirtual #62                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      62: pop
      63: goto          22
      66: aload_0
      67: aload_1
      68: aload_3
      69: invokestatic  #63                 // Method install:(Lorg/jboss/msc/service/ServiceTarget;Lorg/jboss/modules/ModuleIdentifier;Ljava/util/List;)Lorg/jboss/msc/service/ServiceName;
      72: areturn

  public org.jboss.msc.value.InjectedValue<org.jboss.as.server.moduleservice.ServiceModuleLoader> getServiceModuleLoader();
    Code:
       0: aload_0
       1: getfield      #4                  // Field serviceModuleLoader:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  public org.jboss.msc.value.InjectedValue<org.jboss.as.server.moduleservice.ModuleDefinition> getModuleDefinitionInjectedValue();
    Code:
       0: aload_0
       1: getfield      #5                  // Field moduleDefinitionInjectedValue:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  public java.lang.Object getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: invokevirtual #64                 // Method getValue:()Lorg/jboss/modules/Module;
       4: areturn
}
