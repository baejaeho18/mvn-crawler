Compiled from "DeploymentOverlayContentAdd.java"
public class org.jboss.as.server.deploymentoverlay.DeploymentOverlayContentAdd extends org.jboss.as.controller.AbstractAddStepHandler {
  protected final org.jboss.as.repository.ContentRepository contentRepository;

  private final org.jboss.as.repository.DeploymentFileRepository remoteRepository;

  public org.jboss.as.server.deploymentoverlay.DeploymentOverlayContentAdd(org.jboss.as.repository.ContentRepository, org.jboss.as.repository.DeploymentFileRepository);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/jboss/as/controller/AbstractAddStepHandler."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
       9: aload_0
      10: aload_2
      11: putfield      #4                  // Field remoteRepository:Lorg/jboss/as/repository/DeploymentFileRepository;
      14: return

  protected void populateModel(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode, org.jboss.as.controller.registry.Resource) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_2
       1: ldc           #5                  // String address
       3: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
       6: invokestatic  #7                  // Method org/jboss/as/controller/PathAddress.pathAddress:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/as/controller/PathAddress;
       9: astore        4
      11: aload         4
      13: invokevirtual #8                  // Method org/jboss/as/controller/PathAddress.getLastElement:()Lorg/jboss/as/controller/PathElement;
      16: invokevirtual #9                  // Method org/jboss/as/controller/PathElement.getValue:()Ljava/lang/String;
      19: astore        5
      21: aload         4
      23: aload         4
      25: invokevirtual #10                 // Method org/jboss/as/controller/PathAddress.size:()I
      28: iconst_2
      29: isub
      30: invokevirtual #11                 // Method org/jboss/as/controller/PathAddress.getElement:(I)Lorg/jboss/as/controller/PathElement;
      33: invokevirtual #9                  // Method org/jboss/as/controller/PathElement.getValue:()Ljava/lang/String;
      36: astore        6
      38: getstatic     #12                 // Field org/jboss/as/server/deploymentoverlay/DeploymentOverlayContentDefinition.CONTENT_PARAMETER:Lorg/jboss/as/controller/ObjectTypeAttributeDefinition;
      41: aload_2
      42: invokevirtual #13                 // Method org/jboss/as/controller/ObjectTypeAttributeDefinition.validateOperation:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      45: astore        7
      47: aload         7
      49: invokestatic  #14                 // Method validateOnePieceOfContent:(Lorg/jboss/dmr/ModelNode;)V
      52: aload         7
      54: ldc           #15                 // String hash
      56: invokevirtual #16                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      59: ifeq          91
      62: aload         7
      64: ldc           #15                 // String hash
      66: invokevirtual #17                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      69: invokevirtual #18                 // Method org/jboss/dmr/ModelNode.asBytes:()[B
      72: astore        8
      74: aload_0
      75: aload         8
      77: aload         6
      79: aload         5
      81: aload         4
      83: aload_1
      84: invokevirtual #19                 // Method addFromHash:([BLjava/lang/String;Ljava/lang/String;Lorg/jboss/as/controller/PathAddress;Lorg/jboss/as/controller/OperationContext;)[B
      87: pop
      88: goto          191
      91: aload_0
      92: aload_1
      93: aload         7
      95: invokevirtual #20                 // Method addFromContentAdditionParameter:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)[B
      98: astore        8
     100: aload_2
     101: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.clone:()Lorg/jboss/dmr/ModelNode;
     104: astore        9
     106: aload         9
     108: ldc           #22                 // String content
     110: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     113: invokevirtual #23                 // Method org/jboss/dmr/ModelNode.clear:()Lorg/jboss/dmr/ModelNode;
     116: pop
     117: aload         9
     119: ldc           #22                 // String content
     121: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     124: ldc           #15                 // String hash
     126: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     129: aload         8
     131: invokevirtual #24                 // Method org/jboss/dmr/ModelNode.set:([B)Lorg/jboss/dmr/ModelNode;
     134: pop
     135: aload_1
     136: getstatic     #25                 // Field org/jboss/as/controller/operations/OperationAttachments.SLAVE_SERVER_OPERATION_TRANSFORMERS:Lorg/jboss/as/controller/OperationContext$AttachmentKey;
     139: invokeinterface #26,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.getAttachment:(Lorg/jboss/as/controller/OperationContext$AttachmentKey;)Ljava/lang/Object;
     144: checkcast     #27                 // class java/util/List
     147: astore        10
     149: aload         10
     151: ifnonnull     174
     154: aload_1
     155: getstatic     #25                 // Field org/jboss/as/controller/operations/OperationAttachments.SLAVE_SERVER_OPERATION_TRANSFORMERS:Lorg/jboss/as/controller/OperationContext$AttachmentKey;
     158: new           #28                 // class java/util/ArrayList
     161: dup
     162: invokespecial #29                 // Method java/util/ArrayList."<init>":()V
     165: dup
     166: astore        10
     168: invokeinterface #30,  3           // InterfaceMethod org/jboss/as/controller/OperationContext.attach:(Lorg/jboss/as/controller/OperationContext$AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     173: pop
     174: aload         10
     176: new           #31                 // class org/jboss/as/controller/operations/CompositeOperationAwareTransformer
     179: dup
     180: aload         9
     182: invokespecial #32                 // Method org/jboss/as/controller/operations/CompositeOperationAwareTransformer."<init>":(Lorg/jboss/dmr/ModelNode;)V
     185: invokeinterface #33,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     190: pop
     191: aload_0
     192: getfield      #3                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
     195: aload         4
     197: aload         8
     199: invokestatic  #34                 // Method org/jboss/as/server/deployment/ModelContentReference.fromModelAddress:(Lorg/jboss/as/controller/PathAddress;[B)Lorg/jboss/as/repository/ContentReference;
     202: invokeinterface #35,  2           // InterfaceMethod org/jboss/as/repository/ContentRepository.addContentReference:(Lorg/jboss/as/repository/ContentReference;)V
     207: aload_2
     208: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.clone:()Lorg/jboss/dmr/ModelNode;
     211: astore        9
     213: aload         9
     215: ldc           #22                 // String content
     217: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     220: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.clone:()Lorg/jboss/dmr/ModelNode;
     223: pop
     224: aload         9
     226: ldc           #22                 // String content
     228: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     231: aload         8
     233: invokevirtual #24                 // Method org/jboss/dmr/ModelNode.set:([B)Lorg/jboss/dmr/ModelNode;
     236: pop
     237: invokestatic  #36                 // Method org/jboss/as/server/deploymentoverlay/DeploymentOverlayContentDefinition.attributes:()[Lorg/jboss/as/controller/AttributeDefinition;
     240: astore        10
     242: aload         10
     244: arraylength
     245: istore        11
     247: iconst_0
     248: istore        12
     250: iload         12
     252: iload         11
     254: if_icmpge     283
     257: aload         10
     259: iload         12
     261: aaload
     262: astore        13
     264: aload         13
     266: aload         9
     268: aload_3
     269: invokeinterface #37,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
     274: invokevirtual #38                 // Method org/jboss/as/controller/AttributeDefinition.validateAndSet:(Lorg/jboss/dmr/ModelNode;Lorg/jboss/dmr/ModelNode;)V
     277: iinc          12, 1
     280: goto          250
     283: aload_0
     284: getfield      #3                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
     287: aload         4
     289: aload         8
     291: invokestatic  #34                 // Method org/jboss/as/server/deployment/ModelContentReference.fromModelAddress:(Lorg/jboss/as/controller/PathAddress;[B)Lorg/jboss/as/repository/ContentReference;
     294: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/repository/ContentRepository.syncContent:(Lorg/jboss/as/repository/ContentReference;)Z
     299: ifne          316
     302: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     305: aload         8
     307: invokestatic  #41                 // Method java/util/Arrays.toString:([B)Ljava/lang/String;
     310: invokeinterface #42,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.noSuchDeploymentContent:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     315: athrow
     316: return

  protected boolean requiresRuntime(org.jboss.as.controller.OperationContext);
    Code:
       0: iconst_0
       1: ireturn

  protected static void validateOnePieceOfContent(org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_0
       1: invokevirtual #43                 // Method org/jboss/dmr/ModelNode.asList:()Ljava/util/List;
       4: invokeinterface #44,  1           // InterfaceMethod java/util/List.size:()I
       9: iconst_1
      10: if_icmpeq     22
      13: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      16: invokeinterface #45,  1           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.multipleContentItemsNotSupported:()Lorg/jboss/as/controller/OperationFailedException;
      21: athrow
      22: return

  byte[] addFromHash(byte[], java.lang.String, java.lang.String, org.jboss.as.controller.PathAddress, org.jboss.as.controller.OperationContext) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload         4
       2: aload_1
       3: invokestatic  #34                 // Method org/jboss/as/server/deployment/ModelContentReference.fromModelAddress:(Lorg/jboss/as/controller/PathAddress;[B)Lorg/jboss/as/repository/ContentReference;
       6: astore        6
       8: aload_0
       9: getfield      #4                  // Field remoteRepository:Lorg/jboss/as/repository/DeploymentFileRepository;
      12: ifnull        27
      15: aload_0
      16: getfield      #4                  // Field remoteRepository:Lorg/jboss/as/repository/DeploymentFileRepository;
      19: aload         6
      21: invokeinterface #46,  2           // InterfaceMethod org/jboss/as/repository/DeploymentFileRepository.getDeploymentFiles:(Lorg/jboss/as/repository/ContentReference;)[Ljava/io/File;
      26: pop
      27: aload_0
      28: getfield      #3                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
      31: aload         6
      33: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/repository/ContentRepository.syncContent:(Lorg/jboss/as/repository/ContentReference;)Z
      38: ifne          109
      41: aload         5
      43: invokeinterface #47,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.isBooting:()Z
      48: ifeq          96
      51: aload         5
      53: invokeinterface #48,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getRunningMode:()Lorg/jboss/as/controller/RunningMode;
      58: getstatic     #49                 // Field org/jboss/as/controller/RunningMode.ADMIN_ONLY:Lorg/jboss/as/controller/RunningMode;
      61: if_acmpne     81
      64: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      67: aload_1
      68: invokestatic  #50                 // Method org/jboss/as/controller/HashUtil.bytesToHexString:([B)Ljava/lang/String;
      71: aload_2
      72: aload_3
      73: invokeinterface #51,  4           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.reportAdminOnlyMissingDeploymentOverlayContent:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      78: goto          109
      81: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      84: aload_1
      85: invokestatic  #50                 // Method org/jboss/as/controller/HashUtil.bytesToHexString:([B)Ljava/lang/String;
      88: aload_2
      89: aload_3
      90: invokeinterface #52,  4           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.noSuchDeploymentOverlayContentAtBoot:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
      95: athrow
      96: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      99: aload_1
     100: invokestatic  #50                 // Method org/jboss/as/controller/HashUtil.bytesToHexString:([B)Ljava/lang/String;
     103: invokeinterface #53,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.noSuchDeploymentOverlayContent:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     108: athrow
     109: aload_1
     110: areturn

  byte[] addFromContentAdditionParameter(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_1
       1: aload_2
       2: invokestatic  #54                 // Method getInputStream:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Ljava/io/InputStream;
       5: astore        4
       7: aload_0
       8: getfield      #3                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
      11: aload         4
      13: invokeinterface #55,  2           // InterfaceMethod org/jboss/as/repository/ContentRepository.addContent:(Ljava/io/InputStream;)[B
      18: astore_3
      19: goto          33
      22: astore        5
      24: aload         5
      26: invokevirtual #57                 // Method java/io/IOException.toString:()Ljava/lang/String;
      29: invokestatic  #58                 // Method createFailureException:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
      32: athrow
      33: aload         4
      35: invokestatic  #59                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
      38: goto          51
      41: astore        6
      43: aload         4
      45: invokestatic  #59                 // Method org/jboss/as/protocol/StreamUtils.safeClose:(Ljava/io/Closeable;)V
      48: aload         6
      50: athrow
      51: aload_3
      52: areturn
    Exception table:
       from    to  target type
           7    19    22   Class java/io/IOException
           7    33    41   any
          41    43    41   any

  protected static org.jboss.as.controller.OperationFailedException createFailureException(java.lang.String);
    Code:
       0: new           #60                 // class org/jboss/as/controller/OperationFailedException
       3: dup
       4: aload_0
       5: invokespecial #61                 // Method org/jboss/as/controller/OperationFailedException."<init>":(Ljava/lang/String;)V
       8: areturn

  protected static java.io.InputStream getInputStream(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: ldc           #62                 // String input-stream-index
       5: invokevirtual #16                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
       8: ifeq          60
      11: aload_1
      12: ldc           #62                 // String input-stream-index
      14: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      17: invokevirtual #63                 // Method org/jboss/dmr/ModelNode.asInt:()I
      20: istore_3
      21: aload_0
      22: invokeinterface #64,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getAttachmentStreamCount:()I
      27: istore        4
      29: iload_3
      30: iload         4
      32: if_icmple     49
      35: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      38: ldc           #62                 // String input-stream-index
      40: iload_3
      41: iload         4
      43: invokeinterface #65,  4           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.invalidStreamIndex:(Ljava/lang/String;II)Lorg/jboss/as/controller/OperationFailedException;
      48: athrow
      49: aload_0
      50: iload_3
      51: invokeinterface #66,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.getAttachmentStream:(I)Ljava/io/InputStream;
      56: astore_2
      57: goto          163
      60: aload_1
      61: ldc           #67                 // String bytes
      63: invokevirtual #16                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
      66: ifeq          101
      69: new           #68                 // class java/io/ByteArrayInputStream
      72: dup
      73: aload_1
      74: ldc           #67                 // String bytes
      76: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
      79: invokevirtual #18                 // Method org/jboss/dmr/ModelNode.asBytes:()[B
      82: invokespecial #69                 // Method java/io/ByteArrayInputStream."<init>":([B)V
      85: astore_2
      86: goto          163
      89: astore_3
      90: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      93: ldc           #67                 // String bytes
      95: invokeinterface #71,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.invalidStreamBytes:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     100: athrow
     101: aload_1
     102: ldc           #72                 // String url
     104: invokevirtual #16                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     107: ifeq          163
     110: aload_1
     111: ldc           #72                 // String url
     113: invokevirtual #6                  // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     116: invokevirtual #73                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     119: astore_3
     120: new           #74                 // class java/net/URL
     123: dup
     124: aload_3
     125: invokespecial #75                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
     128: invokevirtual #76                 // Method java/net/URL.openStream:()Ljava/io/InputStream;
     131: astore_2
     132: goto          163
     135: astore        4
     137: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     140: aload         4
     142: aload_3
     143: invokeinterface #78,  3           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.invalidStreamURL:(Ljava/lang/Exception;Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     148: athrow
     149: astore        4
     151: getstatic     #40                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     154: aload         4
     156: aload_3
     157: invokeinterface #78,  3           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.invalidStreamURL:(Ljava/lang/Exception;Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     162: athrow
     163: aload_2
     164: ifnonnull     175
     167: new           #79                 // class java/lang/IllegalStateException
     170: dup
     171: invokespecial #80                 // Method java/lang/IllegalStateException."<init>":()V
     174: athrow
     175: aload_2
     176: areturn
    Exception table:
       from    to  target type
          69    86    89   Class java/lang/IllegalArgumentException
         120   132   135   Class java/net/MalformedURLException
         120   132   149   Class java/io/IOException
}
