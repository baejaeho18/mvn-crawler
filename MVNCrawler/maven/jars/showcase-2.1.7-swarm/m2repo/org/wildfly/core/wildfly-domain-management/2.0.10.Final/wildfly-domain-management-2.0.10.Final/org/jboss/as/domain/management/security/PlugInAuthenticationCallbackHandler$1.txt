Compiled from "PlugInAuthenticationCallbackHandler.java"
class org.jboss.as.domain.management.security.PlugInAuthenticationCallbackHandler$1 implements javax.security.auth.callback.CallbackHandler {
  final org.jboss.as.domain.management.plugin.AuthenticationPlugIn val$ap;

  final org.jboss.as.domain.management.security.PlugInAuthenticationCallbackHandler this$0;

  org.jboss.as.domain.management.security.PlugInAuthenticationCallbackHandler$1(org.jboss.as.domain.management.security.PlugInAuthenticationCallbackHandler, org.jboss.as.domain.management.plugin.AuthenticationPlugIn);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/as/domain/management/security/PlugInAuthenticationCallbackHandler;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$ap:Lorg/jboss/as/domain/management/plugin/AuthenticationPlugIn;
      10: aload_0
      11: invokespecial #3                  // Method java/lang/Object."<init>":()V
      14: return

  public void handle(javax.security.auth.callback.Callback[]) throws java.io.IOException, javax.security.auth.callback.UnsupportedCallbackException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jboss/as/domain/management/security/PlugInAuthenticationCallbackHandler;
       4: invokevirtual #4                  // Method org/jboss/as/domain/management/security/PlugInAuthenticationCallbackHandler.getRealmName:()Ljava/lang/String;
       7: astore_2
       8: new           #5                  // class java/util/LinkedList
      11: dup
      12: invokespecial #6                  // Method java/util/LinkedList."<init>":()V
      15: astore_3
      16: aconst_null
      17: astore        4
      19: aconst_null
      20: astore        5
      22: aload_1
      23: astore        6
      25: aload         6
      27: arraylength
      28: istore        7
      30: iconst_0
      31: istore        8
      33: iload         8
      35: iload         7
      37: if_icmpge     238
      40: aload         6
      42: iload         8
      44: aaload
      45: astore        9
      47: aload         9
      49: instanceof    #7                  // class javax/security/sasl/AuthorizeCallback
      52: ifeq          67
      55: aload_3
      56: aload         9
      58: invokeinterface #8,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      63: pop
      64: goto          232
      67: aload         9
      69: instanceof    #9                  // class javax/security/auth/callback/NameCallback
      72: ifeq          120
      75: aload         9
      77: checkcast     #9                  // class javax/security/auth/callback/NameCallback
      80: astore        10
      82: aload         10
      84: invokevirtual #10                 // Method javax/security/auth/callback/NameCallback.getDefaultName:()Ljava/lang/String;
      87: astore        4
      89: aload_0
      90: getfield      #2                  // Field val$ap:Lorg/jboss/as/domain/management/plugin/AuthenticationPlugIn;
      93: aload         4
      95: aload_2
      96: invokeinterface #11,  3           // InterfaceMethod org/jboss/as/domain/management/plugin/AuthenticationPlugIn.loadIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/domain/management/plugin/Identity;
     101: astore        11
     103: aload         11
     105: ifnull        117
     108: aload         11
     110: invokeinterface #12,  1           // InterfaceMethod org/jboss/as/domain/management/plugin/Identity.getCredential:()Lorg/jboss/as/domain/management/plugin/Credential;
     115: astore        5
     117: goto          232
     120: aload         9
     122: instanceof    #13                 // class javax/security/auth/callback/PasswordCallback
     125: ifeq          140
     128: aload_3
     129: aload         9
     131: invokeinterface #8,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     136: pop
     137: goto          232
     140: aload         9
     142: instanceof    #14                 // class org/jboss/sasl/callback/DigestHashCallback
     145: ifeq          160
     148: aload_3
     149: aload         9
     151: invokeinterface #8,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     156: pop
     157: goto          232
     160: aload         9
     162: instanceof    #15                 // class org/jboss/sasl/callback/VerifyPasswordCallback
     165: ifeq          180
     168: aload_3
     169: aload         9
     171: invokeinterface #8,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     176: pop
     177: goto          232
     180: aload         9
     182: instanceof    #16                 // class javax/security/sasl/RealmCallback
     185: ifeq          222
     188: aload         9
     190: checkcast     #16                 // class javax/security/sasl/RealmCallback
     193: invokevirtual #17                 // Method javax/security/sasl/RealmCallback.getDefaultText:()Ljava/lang/String;
     196: astore        10
     198: aload_2
     199: aload         10
     201: invokevirtual #18                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     204: ifne          219
     207: getstatic     #19                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.ROOT_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     210: aload         10
     212: aload_2
     213: invokeinterface #20,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.invalidRealm:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/IllegalStateException;
     218: athrow
     219: goto          232
     222: new           #21                 // class javax/security/auth/callback/UnsupportedCallbackException
     225: dup
     226: aload         9
     228: invokespecial #22                 // Method javax/security/auth/callback/UnsupportedCallbackException."<init>":(Ljavax/security/auth/callback/Callback;)V
     231: athrow
     232: iinc          8, 1
     235: goto          33
     238: aload_3
     239: invokeinterface #23,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     244: astore        6
     246: aload         6
     248: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     253: ifeq          791
     256: aload         6
     258: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     263: checkcast     #26                 // class javax/security/auth/callback/Callback
     266: astore        7
     268: aload         7
     270: instanceof    #7                  // class javax/security/sasl/AuthorizeCallback
     273: ifeq          333
     276: aload         7
     278: checkcast     #7                  // class javax/security/sasl/AuthorizeCallback
     281: astore        8
     283: aload         8
     285: invokevirtual #27                 // Method javax/security/sasl/AuthorizeCallback.getAuthenticationID:()Ljava/lang/String;
     288: aload         8
     290: invokevirtual #28                 // Method javax/security/sasl/AuthorizeCallback.getAuthorizationID:()Ljava/lang/String;
     293: invokevirtual #18                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     296: istore        9
     298: iload         9
     300: ifne          323
     303: getstatic     #29                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.SECURITY_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     306: ldc           #30                 // String Checking \'AuthorizeCallback\', authorized=false, authenticationID=%s, authorizationID=%s.
     308: aload         8
     310: invokevirtual #27                 // Method javax/security/sasl/AuthorizeCallback.getAuthenticationID:()Ljava/lang/String;
     313: aload         8
     315: invokevirtual #28                 // Method javax/security/sasl/AuthorizeCallback.getAuthorizationID:()Ljava/lang/String;
     318: invokeinterface #31,  4           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     323: aload         8
     325: iload         9
     327: invokevirtual #32                 // Method javax/security/sasl/AuthorizeCallback.setAuthorized:(Z)V
     330: goto          788
     333: aload         7
     335: instanceof    #13                 // class javax/security/auth/callback/PasswordCallback
     338: ifeq          405
     341: aload         5
     343: ifnonnull     368
     346: getstatic     #29                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.SECURITY_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     349: ldc           #33                 // String User \'%s\' not found.
     351: aload         4
     353: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     358: new           #35                 // class org/jboss/as/domain/management/security/UserNotFoundException
     361: dup
     362: aload         4
     364: invokespecial #36                 // Method org/jboss/as/domain/management/security/UserNotFoundException."<init>":(Ljava/lang/String;)V
     367: athrow
     368: aload         5
     370: instanceof    #37                 // class org/jboss/as/domain/management/plugin/PasswordCredential
     373: ifeq          395
     376: aload         7
     378: checkcast     #13                 // class javax/security/auth/callback/PasswordCallback
     381: aload         5
     383: checkcast     #37                 // class org/jboss/as/domain/management/plugin/PasswordCredential
     386: invokevirtual #38                 // Method org/jboss/as/domain/management/plugin/PasswordCredential.getPassword:()[C
     389: invokevirtual #39                 // Method javax/security/auth/callback/PasswordCallback.setPassword:([C)V
     392: goto          788
     395: new           #21                 // class javax/security/auth/callback/UnsupportedCallbackException
     398: dup
     399: aload         7
     401: invokespecial #22                 // Method javax/security/auth/callback/UnsupportedCallbackException."<init>":(Ljavax/security/auth/callback/Callback;)V
     404: athrow
     405: aload         7
     407: instanceof    #14                 // class org/jboss/sasl/callback/DigestHashCallback
     410: ifeq          541
     413: aload         5
     415: ifnonnull     440
     418: getstatic     #29                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.SECURITY_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     421: ldc           #33                 // String User \'%s\' not found.
     423: aload         4
     425: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     430: new           #35                 // class org/jboss/as/domain/management/security/UserNotFoundException
     433: dup
     434: aload         4
     436: invokespecial #36                 // Method org/jboss/as/domain/management/security/UserNotFoundException."<init>":(Ljava/lang/String;)V
     439: athrow
     440: aload         5
     442: instanceof    #40                 // class org/jboss/as/domain/management/plugin/DigestCredential
     445: ifeq          467
     448: aload         7
     450: checkcast     #14                 // class org/jboss/sasl/callback/DigestHashCallback
     453: aload         5
     455: checkcast     #40                 // class org/jboss/as/domain/management/plugin/DigestCredential
     458: invokevirtual #41                 // Method org/jboss/as/domain/management/plugin/DigestCredential.getHash:()Ljava/lang/String;
     461: invokevirtual #42                 // Method org/jboss/sasl/callback/DigestHashCallback.setHexHash:(Ljava/lang/String;)V
     464: goto          788
     467: aload         5
     469: instanceof    #37                 // class org/jboss/as/domain/management/plugin/PasswordCredential
     472: ifeq          531
     475: invokestatic  #43                 // Method org/jboss/as/domain/management/security/PlugInAuthenticationCallbackHandler.access$000:()Lorg/jboss/sasl/util/UsernamePasswordHashUtil;
     478: astore        8
     480: aload         8
     482: dup
     483: astore        10
     485: monitorenter
     486: aload         8
     488: aload         4
     490: aload_2
     491: aload         5
     493: checkcast     #37                 // class org/jboss/as/domain/management/plugin/PasswordCredential
     496: invokevirtual #38                 // Method org/jboss/as/domain/management/plugin/PasswordCredential.getPassword:()[C
     499: invokevirtual #44                 // Method org/jboss/sasl/util/UsernamePasswordHashUtil.generateHashedHexURP:(Ljava/lang/String;Ljava/lang/String;[C)Ljava/lang/String;
     502: astore        9
     504: aload         10
     506: monitorexit
     507: goto          518
     510: astore        12
     512: aload         10
     514: monitorexit
     515: aload         12
     517: athrow
     518: aload         7
     520: checkcast     #14                 // class org/jboss/sasl/callback/DigestHashCallback
     523: aload         9
     525: invokevirtual #42                 // Method org/jboss/sasl/callback/DigestHashCallback.setHexHash:(Ljava/lang/String;)V
     528: goto          788
     531: new           #21                 // class javax/security/auth/callback/UnsupportedCallbackException
     534: dup
     535: aload         7
     537: invokespecial #22                 // Method javax/security/auth/callback/UnsupportedCallbackException."<init>":(Ljavax/security/auth/callback/Callback;)V
     540: athrow
     541: aload         7
     543: instanceof    #15                 // class org/jboss/sasl/callback/VerifyPasswordCallback
     546: ifeq          788
     549: aload         5
     551: ifnonnull     576
     554: getstatic     #29                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.SECURITY_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     557: ldc           #33                 // String User \'%s\' not found.
     559: aload         4
     561: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     566: new           #35                 // class org/jboss/as/domain/management/security/UserNotFoundException
     569: dup
     570: aload         4
     572: invokespecial #36                 // Method org/jboss/as/domain/management/security/UserNotFoundException."<init>":(Ljava/lang/String;)V
     575: athrow
     576: aload         7
     578: checkcast     #15                 // class org/jboss/sasl/callback/VerifyPasswordCallback
     581: astore        8
     583: aload         5
     585: instanceof    #37                 // class org/jboss/as/domain/management/plugin/PasswordCredential
     588: ifeq          639
     591: aload         5
     593: checkcast     #37                 // class org/jboss/as/domain/management/plugin/PasswordCredential
     596: invokevirtual #38                 // Method org/jboss/as/domain/management/plugin/PasswordCredential.getPassword:()[C
     599: aload         8
     601: invokevirtual #45                 // Method org/jboss/sasl/callback/VerifyPasswordCallback.getPassword:()Ljava/lang/String;
     604: invokevirtual #46                 // Method java/lang/String.toCharArray:()[C
     607: invokestatic  #47                 // Method java/util/Arrays.equals:([C[C)Z
     610: istore        9
     612: iload         9
     614: ifne          629
     617: getstatic     #29                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.SECURITY_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     620: ldc           #48                 // String Password verification failed for user \'%s\'
     622: aload         4
     624: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     629: aload         8
     631: iload         9
     633: invokevirtual #49                 // Method org/jboss/sasl/callback/VerifyPasswordCallback.setVerified:(Z)V
     636: goto          788
     639: aload         5
     641: instanceof    #40                 // class org/jboss/as/domain/management/plugin/DigestCredential
     644: ifeq          736
     647: invokestatic  #43                 // Method org/jboss/as/domain/management/security/PlugInAuthenticationCallbackHandler.access$000:()Lorg/jboss/sasl/util/UsernamePasswordHashUtil;
     650: astore        9
     652: aload         9
     654: dup
     655: astore        11
     657: monitorenter
     658: aload         9
     660: aload         4
     662: aload_2
     663: aload         8
     665: invokevirtual #45                 // Method org/jboss/sasl/callback/VerifyPasswordCallback.getPassword:()Ljava/lang/String;
     668: invokevirtual #46                 // Method java/lang/String.toCharArray:()[C
     671: invokevirtual #44                 // Method org/jboss/sasl/util/UsernamePasswordHashUtil.generateHashedHexURP:(Ljava/lang/String;Ljava/lang/String;[C)Ljava/lang/String;
     674: astore        10
     676: aload         11
     678: monitorexit
     679: goto          690
     682: astore        13
     684: aload         11
     686: monitorexit
     687: aload         13
     689: athrow
     690: aload         5
     692: checkcast     #40                 // class org/jboss/as/domain/management/plugin/DigestCredential
     695: invokevirtual #41                 // Method org/jboss/as/domain/management/plugin/DigestCredential.getHash:()Ljava/lang/String;
     698: astore        11
     700: aload         11
     702: aload         10
     704: invokevirtual #18                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     707: istore        12
     709: iload         12
     711: ifne          726
     714: getstatic     #29                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.SECURITY_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     717: ldc           #50                 // String Digest verification failed for user \'%s\'
     719: aload         4
     721: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     726: aload         8
     728: iload         12
     730: invokevirtual #49                 // Method org/jboss/sasl/callback/VerifyPasswordCallback.setVerified:(Z)V
     733: goto          788
     736: aload         5
     738: instanceof    #51                 // class org/jboss/as/domain/management/plugin/ValidatePasswordCredential
     741: ifeq          788
     744: aload         5
     746: checkcast     #51                 // class org/jboss/as/domain/management/plugin/ValidatePasswordCredential
     749: aload         8
     751: invokevirtual #45                 // Method org/jboss/sasl/callback/VerifyPasswordCallback.getPassword:()Ljava/lang/String;
     754: invokevirtual #46                 // Method java/lang/String.toCharArray:()[C
     757: invokeinterface #52,  2           // InterfaceMethod org/jboss/as/domain/management/plugin/ValidatePasswordCredential.validatePassword:([C)Z
     762: istore        9
     764: iload         9
     766: ifne          781
     769: getstatic     #29                 // Field org/jboss/as/domain/management/logging/DomainManagementLogger.SECURITY_LOGGER:Lorg/jboss/as/domain/management/logging/DomainManagementLogger;
     772: ldc           #53                 // String Delegated verification failed for user \'%s\'
     774: aload         4
     776: invokeinterface #34,  3           // InterfaceMethod org/jboss/as/domain/management/logging/DomainManagementLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     781: aload         8
     783: iload         9
     785: invokevirtual #49                 // Method org/jboss/sasl/callback/VerifyPasswordCallback.setVerified:(Z)V
     788: goto          246
     791: return
    Exception table:
       from    to  target type
         486   507   510   any
         510   515   510   any
         658   679   682   any
         682   687   682   any
}
