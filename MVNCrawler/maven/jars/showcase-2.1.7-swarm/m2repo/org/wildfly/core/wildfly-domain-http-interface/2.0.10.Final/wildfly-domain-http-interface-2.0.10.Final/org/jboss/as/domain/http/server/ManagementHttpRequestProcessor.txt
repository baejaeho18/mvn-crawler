Compiled from "ManagementHttpRequestProcessor.java"
public class org.jboss.as.domain.http.server.ManagementHttpRequestProcessor implements org.jboss.as.protocol.mgmt.support.ManagementChannelInitialization$ManagementChannelShutdownHandle {
  private volatile int state;

  private final java.util.List<org.jboss.as.domain.http.server.ManagementHttpRequestProcessor$ShutdownListener> listeners;

  private static final int CLOSED;

  private volatile java.util.concurrent.CountDownLatch latch;

  private static final java.util.concurrent.atomic.AtomicIntegerFieldUpdater<org.jboss.as.domain.http.server.ManagementHttpRequestProcessor> stateUpdater;

  public org.jboss.as.domain.http.server.ManagementHttpRequestProcessor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/ArrayList
       8: dup
       9: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      12: putfield      #4                  // Field listeners:Ljava/util/List;
      15: aload_0
      16: new           #5                  // class java/util/concurrent/CountDownLatch
      19: dup
      20: iconst_1
      21: invokespecial #6                  // Method java/util/concurrent/CountDownLatch."<init>":(I)V
      24: putfield      #7                  // Field latch:Ljava/util/concurrent/CountDownLatch;
      27: return

  public void shutdown();
    Code:
       0: aload_0
       1: invokevirtual #8                  // Method prepareShutdown:()V
       4: return

  public void shutdownNow();
    Code:
       0: aload_0
       1: invokevirtual #8                  // Method prepareShutdown:()V
       4: return

  public boolean awaitCompletion(long, java.util.concurrent.TimeUnit) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field latch:Ljava/util/concurrent/CountDownLatch;
       4: lload_1
       5: aload_3
       6: invokevirtual #9                  // Method java/util/concurrent/CountDownLatch.await:(JLjava/util/concurrent/TimeUnit;)Z
       9: istore        4
      11: iload         4
      13: ifne          35
      16: getstatic     #10                 // Field org/jboss/as/domain/http/server/logging/HttpServerLogger.ROOT_LOGGER:Lorg/jboss/as/domain/http/server/logging/HttpServerLogger;
      19: ldc           #11                 // String ShutdownListener(s) %s have not completed within %d %s
      21: aload_0
      22: getfield      #4                  // Field listeners:Ljava/util/List;
      25: lload_1
      26: invokestatic  #12                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      29: aload_3
      30: invokeinterface #13,  5           // InterfaceMethod org/jboss/as/domain/http/server/logging/HttpServerLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
      35: iload         4
      37: ireturn

  void prepareShutdown();
    Code:
       0: aload_0
       1: getfield      #14                 // Field state:I
       4: istore_1
       5: iload_1
       6: ldc           #16                 // int -2147483648
       8: iand
       9: ifeq          13
      12: return
      13: iload_1
      14: ldc           #16                 // int -2147483648
      16: ior
      17: istore_2
      18: getstatic     #17                 // Field stateUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      21: aload_0
      22: iload_1
      23: iload_2
      24: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.compareAndSet:(Ljava/lang/Object;II)Z
      27: ifeq          0
      30: iload_2
      31: ldc           #16                 // int -2147483648
      33: if_icmpne     40
      36: aload_0
      37: invokevirtual #19                 // Method handleCompleted:()V
      40: return

  public synchronized void addShutdownListener(org.jboss.as.domain.http.server.ManagementHttpRequestProcessor$ShutdownListener);
    Code:
       0: aload_0
       1: getfield      #14                 // Field state:I
       4: ldc           #16                 // int -2147483648
       6: if_icmpne     18
       9: aload_1
      10: invokeinterface #20,  1           // InterfaceMethod org/jboss/as/domain/http/server/ManagementHttpRequestProcessor$ShutdownListener.handleCompleted:()V
      15: goto          29
      18: aload_0
      19: getfield      #4                  // Field listeners:Ljava/util/List;
      22: aload_1
      23: invokeinterface #21,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      28: pop
      29: return

  protected synchronized void handleCompleted();
    Code:
       0: aload_0
       1: getfield      #7                  // Field latch:Ljava/util/concurrent/CountDownLatch;
       4: invokevirtual #22                 // Method java/util/concurrent/CountDownLatch.countDown:()V
       7: aload_0
       8: getfield      #4                  // Field listeners:Ljava/util/List;
      11: invokeinterface #23,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      16: astore_1
      17: aload_1
      18: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          45
      26: aload_1
      27: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #26                 // class org/jboss/as/domain/http/server/ManagementHttpRequestProcessor$ShutdownListener
      35: astore_2
      36: aload_2
      37: invokeinterface #20,  1           // InterfaceMethod org/jboss/as/domain/http/server/ManagementHttpRequestProcessor$ShutdownListener.handleCompleted:()V
      42: goto          17
      45: aload_0
      46: getfield      #4                  // Field listeners:Ljava/util/List;
      49: invokeinterface #27,  1           // InterfaceMethod java/util/List.clear:()V
      54: return

  protected boolean beginRequest();
    Code:
       0: aload_0
       1: getfield      #14                 // Field state:I
       4: istore_1
       5: iload_1
       6: ldc           #16                 // int -2147483648
       8: iand
       9: ifeq          14
      12: iconst_0
      13: ireturn
      14: iload_1
      15: iconst_1
      16: iadd
      17: istore_2
      18: iload_2
      19: ldc           #29                 // int 2147483647
      21: if_icmpne     26
      24: iconst_0
      25: ireturn
      26: getstatic     #17                 // Field stateUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      29: aload_0
      30: iload_1
      31: iload_2
      32: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.compareAndSet:(Ljava/lang/Object;II)Z
      35: ifeq          0
      38: iconst_1
      39: ireturn

  protected void endRequest();
    Code:
       0: aload_0
       1: getfield      #14                 // Field state:I
       4: istore_1
       5: iload_1
       6: iconst_1
       7: isub
       8: istore_2
       9: getstatic     #17                 // Field stateUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      12: aload_0
      13: iload_1
      14: iload_2
      15: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.compareAndSet:(Ljava/lang/Object;II)Z
      18: ifeq          0
      21: iload_2
      22: ldc           #16                 // int -2147483648
      24: if_icmpne     31
      27: aload_0
      28: invokevirtual #19                 // Method handleCompleted:()V
      31: return

  static {};
    Code:
       0: ldc           #15                 // class org/jboss/as/domain/http/server/ManagementHttpRequestProcessor
       2: ldc           #30                 // String state
       4: invokestatic  #31                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.newUpdater:(Ljava/lang/Class;Ljava/lang/String;)Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
       7: putstatic     #17                 // Field stateUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      10: return
}
