Compiled from "DeploymentReplaceHandler.java"
public class org.jboss.as.server.deployment.DeploymentReplaceHandler implements org.jboss.as.controller.OperationStepHandler {
  public static final java.lang.String OPERATION_NAME;

  private final org.jboss.as.repository.ContentRepository contentRepository;

  private final org.jboss.as.server.services.security.AbstractVaultReader vaultReader;

  static final boolean $assertionsDisabled;

  protected org.jboss.as.server.deployment.DeploymentReplaceHandler(org.jboss.as.repository.ContentRepository, org.jboss.as.server.services.security.AbstractVaultReader);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: getstatic     #3                  // Field $assertionsDisabled:Z
       7: ifne          24
      10: aload_1
      11: ifnonnull     24
      14: new           #4                  // class java/lang/AssertionError
      17: dup
      18: ldc           #5                  // String Null contentRepository
      20: invokespecial #6                  // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      23: athrow
      24: aload_0
      25: aload_1
      26: putfield      #7                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
      29: aload_0
      30: aload_2
      31: putfield      #8                  // Field vaultReader:Lorg/jboss/as/server/services/security/AbstractVaultReader;
      34: return

  public static org.jboss.as.server.deployment.DeploymentReplaceHandler create(org.jboss.as.repository.ContentRepository, org.jboss.as.server.services.security.AbstractVaultReader);
    Code:
       0: new           #9                  // class org/jboss/as/server/deployment/DeploymentReplaceHandler
       3: dup
       4: aload_0
       5: aload_1
       6: invokespecial #10                 // Method "<init>":(Lorg/jboss/as/repository/ContentRepository;Lorg/jboss/as/server/services/security/AbstractVaultReader;)V
       9: areturn

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: getstatic     #11                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.REPLACE_DEPLOYMENT_ATTRIBUTES:Ljava/util/Map;
       3: invokeinterface #12,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       8: invokeinterface #13,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      13: astore_3
      14: aload_3
      15: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          44
      23: aload_3
      24: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #16                 // class org/jboss/as/controller/AttributeDefinition
      32: astore        4
      34: aload         4
      36: aload_2
      37: invokevirtual #17                 // Method org/jboss/as/controller/AttributeDefinition.validateOperation:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      40: pop
      41: goto          14
      44: getstatic     #11                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.REPLACE_DEPLOYMENT_ATTRIBUTES:Ljava/util/Map;
      47: ldc           #18                 // String name
      49: invokeinterface #19,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      54: checkcast     #16                 // class org/jboss/as/controller/AttributeDefinition
      57: aload_1
      58: aload_2
      59: invokevirtual #20                 // Method org/jboss/as/controller/AttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      62: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
      65: astore_3
      66: getstatic     #11                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.REPLACE_DEPLOYMENT_ATTRIBUTES:Ljava/util/Map;
      69: ldc           #22                 // String to-replace
      71: invokeinterface #19,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      76: checkcast     #16                 // class org/jboss/as/controller/AttributeDefinition
      79: aload_1
      80: aload_2
      81: invokevirtual #20                 // Method org/jboss/as/controller/AttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      84: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
      87: astore        4
      89: aload_3
      90: aload         4
      92: invokevirtual #23                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      95: ifeq          117
      98: getstatic     #24                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     101: ldc           #25                 // String replace-deployment
     103: ldc           #18                 // String name
     105: ldc           #22                 // String to-replace
     107: ldc           #27                 // String redeploy
     109: ldc           #29                 // String full-replace-deployment
     111: invokeinterface #30,  6           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.cannotReplaceDeployment:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     116: athrow
     117: ldc           #31                 // String deployment
     119: aload_3
     120: invokestatic  #32                 // Method org/jboss/as/controller/PathElement.pathElement:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/PathElement;
     123: astore        5
     125: ldc           #31                 // String deployment
     127: aload         4
     129: invokestatic  #32                 // Method org/jboss/as/controller/PathElement.pathElement:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/controller/PathElement;
     132: astore        6
     134: aload_1
     135: getstatic     #33                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
     138: invokeinterface #34,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.readResource:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
     143: astore        7
     145: aload         7
     147: aload         6
     149: invokeinterface #35,  2           // InterfaceMethod org/jboss/as/controller/registry/Resource.hasChild:(Lorg/jboss/as/controller/PathElement;)Z
     154: ifne          168
     157: getstatic     #24                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     160: aload         4
     162: invokeinterface #36,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.noSuchDeployment:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     167: athrow
     168: aload_1
     169: iconst_1
     170: anewarray     #37                 // class org/jboss/as/controller/PathElement
     173: dup
     174: iconst_0
     175: aload         6
     177: aastore
     178: invokestatic  #38                 // Method org/jboss/as/controller/PathAddress.pathAddress:([Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/PathAddress;
     181: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.readResourceForUpdate:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
     186: invokeinterface #40,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
     191: astore        8
     193: getstatic     #11                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.REPLACE_DEPLOYMENT_ATTRIBUTES:Ljava/util/Map;
     196: ldc           #41                 // String runtime-name
     198: invokeinterface #19,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     203: checkcast     #16                 // class org/jboss/as/controller/AttributeDefinition
     206: aload_1
     207: aload         8
     209: invokevirtual #20                 // Method org/jboss/as/controller/AttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     212: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     215: astore        9
     217: aload         7
     219: aload         5
     221: invokeinterface #35,  2           // InterfaceMethod org/jboss/as/controller/registry/Resource.hasChild:(Lorg/jboss/as/controller/PathElement;)Z
     226: ifne          403
     229: aload_2
     230: ldc           #42                 // String content
     232: invokevirtual #43                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     235: ifne          248
     238: getstatic     #24                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     241: aload_3
     242: invokeinterface #36,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.noSuchDeployment:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     247: athrow
     248: aload_2
     249: ldc           #42                 // String content
     251: invokevirtual #44                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     254: astore        12
     256: aload         12
     258: iconst_0
     259: invokevirtual #45                 // Method org/jboss/dmr/ModelNode.require:(I)Lorg/jboss/dmr/ModelNode;
     262: astore        13
     264: aload         13
     266: ldc           #46                 // String hash
     268: invokevirtual #43                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     271: ifeq          296
     274: aload         13
     276: ldc           #46                 // String hash
     278: invokevirtual #44                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     281: invokevirtual #47                 // Method org/jboss/dmr/ModelNode.asBytes:()[B
     284: astore        14
     286: aload_0
     287: aload_3
     288: aload         14
     290: invokestatic  #48                 // Method org/jboss/as/server/deployment/ModelContentReference.fromDeploymentName:(Ljava/lang/String;[B)Lorg/jboss/as/repository/ContentReference;
     293: invokevirtual #49                 // Method addFromHash:(Lorg/jboss/as/repository/ContentReference;)V
     296: aload_2
     297: ldc           #41                 // String runtime-name
     299: invokevirtual #43                 // Method org/jboss/dmr/ModelNode.hasDefined:(Ljava/lang/String;)Z
     302: ifeq          329
     305: getstatic     #11                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.REPLACE_DEPLOYMENT_ATTRIBUTES:Ljava/util/Map;
     308: ldc           #41                 // String runtime-name
     310: invokeinterface #19,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     315: checkcast     #16                 // class org/jboss/as/controller/AttributeDefinition
     318: aload_1
     319: aload_2
     320: invokevirtual #20                 // Method org/jboss/as/controller/AttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     323: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     326: goto          331
     329: aload         9
     331: astore        11
     333: aload_1
     334: iconst_1
     335: anewarray     #37                 // class org/jboss/as/controller/PathElement
     338: dup
     339: iconst_0
     340: aload         5
     342: aastore
     343: invokestatic  #38                 // Method org/jboss/as/controller/PathAddress.pathAddress:([Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/PathAddress;
     346: invokeinterface #50,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.createResource:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
     351: astore        14
     353: aload         14
     355: invokeinterface #40,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
     360: astore        10
     362: aload         10
     364: ldc           #41                 // String runtime-name
     366: invokevirtual #51                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     369: aload         11
     371: invokevirtual #52                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     374: pop
     375: aload         10
     377: ldc           #53                 // String persistent
     379: invokevirtual #51                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     382: iconst_1
     383: invokevirtual #54                 // Method org/jboss/dmr/ModelNode.set:(Z)Lorg/jboss/dmr/ModelNode;
     386: pop
     387: aload         10
     389: ldc           #42                 // String content
     391: invokevirtual #51                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     394: aload         12
     396: invokevirtual #55                 // Method org/jboss/dmr/ModelNode.set:(Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     399: pop
     400: goto          466
     403: aload_1
     404: iconst_1
     405: anewarray     #37                 // class org/jboss/as/controller/PathElement
     408: dup
     409: iconst_0
     410: aload         5
     412: aastore
     413: invokestatic  #38                 // Method org/jboss/as/controller/PathAddress.pathAddress:([Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/PathAddress;
     416: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.readResourceForUpdate:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
     421: invokeinterface #40,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
     426: astore        10
     428: getstatic     #56                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.ENABLED:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     431: aload_1
     432: aload         10
     434: invokevirtual #57                 // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
     437: invokevirtual #58                 // Method org/jboss/dmr/ModelNode.asBoolean:()Z
     440: ifeq          454
     443: getstatic     #24                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
     446: aload         4
     448: invokeinterface #59,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.deploymentAlreadyStarted:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
     453: athrow
     454: aload         10
     456: ldc           #41                 // String runtime-name
     458: invokevirtual #44                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     461: invokevirtual #21                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
     464: astore        11
     466: aload         10
     468: getstatic     #56                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.ENABLED:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     471: invokevirtual #60                 // Method org/jboss/as/controller/SimpleAttributeDefinition.getName:()Ljava/lang/String;
     474: invokevirtual #51                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     477: iconst_1
     478: invokevirtual #54                 // Method org/jboss/dmr/ModelNode.set:(Z)Lorg/jboss/dmr/ModelNode;
     481: pop
     482: aload         8
     484: getstatic     #56                 // Field org/jboss/as/server/controller/resources/DeploymentAttributes.ENABLED:Lorg/jboss/as/controller/SimpleAttributeDefinition;
     487: invokevirtual #60                 // Method org/jboss/as/controller/SimpleAttributeDefinition.getName:()Ljava/lang/String;
     490: invokevirtual #51                 // Method org/jboss/dmr/ModelNode.get:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     493: iconst_0
     494: invokevirtual #54                 // Method org/jboss/dmr/ModelNode.set:(Z)Lorg/jboss/dmr/ModelNode;
     497: pop
     498: aload         10
     500: ldc           #42                 // String content
     502: invokevirtual #44                 // Method org/jboss/dmr/ModelNode.require:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     505: invokestatic  #61                 // Method org/jboss/as/server/deployment/DeploymentHandlerUtils.getContents:(Lorg/jboss/dmr/ModelNode;)[Lorg/jboss/as/server/deployment/DeploymentHandlerUtil$ContentItem;
     508: astore        12
     510: aload_1
     511: aload         8
     513: aload         11
     515: aload_3
     516: aload         9
     518: aload_0
     519: getfield      #8                  // Field vaultReader:Lorg/jboss/as/server/services/security/AbstractVaultReader;
     522: aload         12
     524: invokestatic  #62                 // Method org/jboss/as/server/deployment/DeploymentHandlerUtil.replace:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lorg/jboss/as/server/services/security/AbstractVaultReader;[Lorg/jboss/as/server/deployment/DeploymentHandlerUtil$ContentItem;)V
     527: return

  protected void addFromHash(org.jboss.as.repository.ContentReference) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field contentRepository:Lorg/jboss/as/repository/ContentRepository;
       4: aload_1
       5: invokeinterface #63,  2           // InterfaceMethod org/jboss/as/repository/ContentRepository.syncContent:(Lorg/jboss/as/repository/ContentReference;)Z
      10: ifne          26
      13: getstatic     #24                 // Field org/jboss/as/server/logging/ServerLogger.ROOT_LOGGER:Lorg/jboss/as/server/logging/ServerLogger;
      16: aload_1
      17: invokevirtual #64                 // Method org/jboss/as/repository/ContentReference.getHexHash:()Ljava/lang/String;
      20: invokeinterface #65,  2           // InterfaceMethod org/jboss/as/server/logging/ServerLogger.noSuchDeploymentContent:(Ljava/lang/String;)Lorg/jboss/as/controller/OperationFailedException;
      25: athrow
      26: return

  static {};
    Code:
       0: ldc           #9                  // class org/jboss/as/server/deployment/DeploymentReplaceHandler
       2: invokevirtual #66                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #3                  // Field $assertionsDisabled:Z
      16: return
}
