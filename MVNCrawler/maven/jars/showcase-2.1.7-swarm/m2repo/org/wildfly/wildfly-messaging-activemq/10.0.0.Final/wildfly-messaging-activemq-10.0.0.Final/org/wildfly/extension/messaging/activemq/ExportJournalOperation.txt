Compiled from "ExportJournalOperation.java"
public class org.wildfly.extension.messaging.activemq.ExportJournalOperation extends org.jboss.as.controller.AbstractRuntimeOnlyHandler {
  static final org.wildfly.extension.messaging.activemq.ExportJournalOperation INSTANCE;

  private static final java.lang.String FILE_NAME_FORMAT;

  private org.wildfly.extension.messaging.activemq.ExportJournalOperation();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/as/controller/AbstractRuntimeOnlyHandler."<init>":()V
       4: return

  static void registerOperation(org.jboss.as.controller.registry.ManagementResourceRegistration, org.jboss.as.controller.descriptions.ResourceDescriptionResolver);
    Code:
       0: aload_0
       1: new           #2                  // class org/jboss/as/controller/SimpleOperationDefinitionBuilder
       4: dup
       5: ldc           #3                  // String export-journal
       7: aload_1
       8: invokespecial #4                  // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder."<init>":(Ljava/lang/String;Lorg/jboss/as/controller/descriptions/ResourceDescriptionResolver;)V
      11: invokevirtual #5                  // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder.setRuntimeOnly:()Lorg/jboss/as/controller/SimpleOperationDefinitionBuilder;
      14: getstatic     #6                  // Field org/jboss/dmr/ModelType.STRING:Lorg/jboss/dmr/ModelType;
      17: invokevirtual #7                  // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder.setReplyValueType:(Lorg/jboss/dmr/ModelType;)Lorg/jboss/as/controller/SimpleOperationDefinitionBuilder;
      20: invokevirtual #8                  // Method org/jboss/as/controller/SimpleOperationDefinitionBuilder.build:()Lorg/jboss/as/controller/SimpleOperationDefinition;
      23: getstatic     #9                  // Field INSTANCE:Lorg/wildfly/extension/messaging/activemq/ExportJournalOperation;
      26: invokeinterface #10,  3           // InterfaceMethod org/jboss/as/controller/registry/ManagementResourceRegistration.registerOperationHandler:(Lorg/jboss/as/controller/OperationDefinition;Lorg/jboss/as/controller/OperationStepHandler;)V
      31: return

  protected void executeRuntimeStep(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_1
       1: invokeinterface #11,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getRunningMode:()Lorg/jboss/as/controller/RunningMode;
       6: getstatic     #12                 // Field org/jboss/as/controller/RunningMode.ADMIN_ONLY:Lorg/jboss/as/controller/RunningMode;
       9: if_acmpeq     26
      12: getstatic     #13                 // Field org/wildfly/extension/messaging/activemq/logging/MessagingLogger.ROOT_LOGGER:Lorg/wildfly/extension/messaging/activemq/logging/MessagingLogger;
      15: ldc           #3                  // String export-journal
      17: getstatic     #12                 // Field org/jboss/as/controller/RunningMode.ADMIN_ONLY:Lorg/jboss/as/controller/RunningMode;
      20: invokeinterface #14,  3           // InterfaceMethod org/wildfly/extension/messaging/activemq/logging/MessagingLogger.managementOperationAllowedOnlyInRunningMode:(Ljava/lang/String;Lorg/jboss/as/controller/RunningMode;)Lorg/jboss/as/controller/OperationFailedException;
      25: athrow
      26: aload_1
      27: iconst_0
      28: invokeinterface #15,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.getServiceRegistry:(Z)Lorg/jboss/msc/service/ServiceRegistry;
      33: getstatic     #16                 // Field org/jboss/as/controller/services/path/PathManagerService.SERVICE_NAME:Lorg/jboss/msc/service/ServiceName;
      36: invokeinterface #17,  2           // InterfaceMethod org/jboss/msc/service/ServiceRegistry.getService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
      41: astore_3
      42: aload_3
      43: invokeinterface #18,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getService:()Lorg/jboss/msc/service/Service;
      48: invokeinterface #19,  1           // InterfaceMethod org/jboss/msc/service/Service.getValue:()Ljava/lang/Object;
      53: checkcast     #20                 // class org/jboss/as/controller/services/path/PathManager
      56: astore        4
      58: aload_1
      59: aload         4
      61: getstatic     #21                 // Field org/wildfly/extension/messaging/activemq/MessagingExtension.JOURNAL_DIRECTORY_PATH:Lorg/jboss/as/controller/PathElement;
      64: invokestatic  #22                 // Method resolvePath:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/as/controller/services/path/PathManager;Lorg/jboss/as/controller/PathElement;)Ljava/lang/String;
      67: astore        5
      69: aload_1
      70: aload         4
      72: getstatic     #23                 // Field org/wildfly/extension/messaging/activemq/MessagingExtension.BINDINGS_DIRECTORY_PATH:Lorg/jboss/as/controller/PathElement;
      75: invokestatic  #22                 // Method resolvePath:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/as/controller/services/path/PathManager;Lorg/jboss/as/controller/PathElement;)Ljava/lang/String;
      78: astore        6
      80: aload_1
      81: aload         4
      83: getstatic     #24                 // Field org/wildfly/extension/messaging/activemq/MessagingExtension.PAGING_DIRECTORY_PATH:Lorg/jboss/as/controller/PathElement;
      86: invokestatic  #22                 // Method resolvePath:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/as/controller/services/path/PathManager;Lorg/jboss/as/controller/PathElement;)Ljava/lang/String;
      89: astore        7
      91: aload_1
      92: aload         4
      94: getstatic     #25                 // Field org/wildfly/extension/messaging/activemq/MessagingExtension.LARGE_MESSAGES_DIRECTORY_PATH:Lorg/jboss/as/controller/PathElement;
      97: invokestatic  #22                 // Method resolvePath:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/as/controller/services/path/PathManager;Lorg/jboss/as/controller/PathElement;)Ljava/lang/String;
     100: astore        8
     102: new           #26                 // class org/apache/activemq/artemis/cli/commands/tools/XmlDataExporter
     105: dup
     106: invokespecial #27                 // Method org/apache/activemq/artemis/cli/commands/tools/XmlDataExporter."<init>":()V
     109: astore        9
     111: ldc           #29                 // String journal-%1$tY%<tm%<td-%<tH%<tM%<tS%<TL%<tz-dump.xml
     113: iconst_1
     114: anewarray     #30                 // class java/lang/Object
     117: dup
     118: iconst_0
     119: new           #31                 // class java/util/Date
     122: dup
     123: invokespecial #32                 // Method java/util/Date."<init>":()V
     126: aastore
     127: invokestatic  #33                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     130: astore        10
     132: new           #34                 // class java/io/File
     135: dup
     136: new           #34                 // class java/io/File
     139: dup
     140: aload         5
     142: invokespecial #35                 // Method java/io/File."<init>":(Ljava/lang/String;)V
     145: invokevirtual #36                 // Method java/io/File.getParent:()Ljava/lang/String;
     148: aload         10
     150: invokespecial #37                 // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     153: astore        11
     155: aconst_null
     156: astore        12
     158: new           #38                 // class java/io/FileOutputStream
     161: dup
     162: aload         11
     164: invokespecial #39                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     167: astore        12
     169: aload         9
     171: aload         12
     173: aload         6
     175: aload         5
     177: aload         7
     179: aload         8
     181: invokevirtual #40                 // Method org/apache/activemq/artemis/cli/commands/tools/XmlDataExporter.process:(Ljava/io/OutputStream;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     184: aload_1
     185: invokeinterface #41,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getResult:()Lorg/jboss/dmr/ModelNode;
     190: aload         11
     192: invokevirtual #42                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     195: invokevirtual #43                 // Method org/jboss/dmr/ModelNode.set:(Ljava/lang/String;)Lorg/jboss/dmr/ModelNode;
     198: pop
     199: aload         12
     201: ifnull        249
     204: aload         12
     206: invokevirtual #44                 // Method java/io/FileOutputStream.close:()V
     209: goto          249
     212: astore        13
     214: goto          249
     217: astore        13
     219: new           #47                 // class org/jboss/as/controller/OperationFailedException
     222: dup
     223: aload         13
     225: invokespecial #48                 // Method org/jboss/as/controller/OperationFailedException."<init>":(Ljava/lang/Throwable;)V
     228: athrow
     229: astore        14
     231: aload         12
     233: ifnull        246
     236: aload         12
     238: invokevirtual #44                 // Method java/io/FileOutputStream.close:()V
     241: goto          246
     244: astore        15
     246: aload         14
     248: athrow
     249: return
    Exception table:
       from    to  target type
         204   209   212   Class java/io/IOException
         158   199   217   Class java/lang/Exception
         158   199   229   any
         236   241   244   Class java/io/IOException
         217   231   229   any

  private static java.lang.String resolvePath(org.jboss.as.controller.OperationContext, org.jboss.as.controller.services.path.PathManager, org.jboss.as.controller.PathElement) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_0
       1: getstatic     #49                 // Field org/jboss/as/controller/PathAddress.EMPTY_ADDRESS:Lorg/jboss/as/controller/PathAddress;
       4: invokeinterface #50,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.readResource:(Lorg/jboss/as/controller/PathAddress;)Lorg/jboss/as/controller/registry/Resource;
       9: astore_3
      10: aload_3
      11: aload_2
      12: invokeinterface #51,  2           // InterfaceMethod org/jboss/as/controller/registry/Resource.hasChild:(Lorg/jboss/as/controller/PathElement;)Z
      17: ifeq          35
      20: aload_3
      21: aload_2
      22: invokeinterface #52,  2           // InterfaceMethod org/jboss/as/controller/registry/Resource.getChild:(Lorg/jboss/as/controller/PathElement;)Lorg/jboss/as/controller/registry/Resource;
      27: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/controller/registry/Resource.getModel:()Lorg/jboss/dmr/ModelNode;
      32: goto          42
      35: new           #54                 // class org/jboss/dmr/ModelNode
      38: dup
      39: invokespecial #55                 // Method org/jboss/dmr/ModelNode."<init>":()V
      42: astore        4
      44: getstatic     #56                 // Field org/wildfly/extension/messaging/activemq/PathDefinition.PATHS:Ljava/util/Map;
      47: aload_2
      48: invokevirtual #57                 // Method org/jboss/as/controller/PathElement.getValue:()Ljava/lang/String;
      51: invokeinterface #58,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      56: checkcast     #59                 // class org/jboss/as/controller/SimpleAttributeDefinition
      59: aload_0
      60: aload         4
      62: invokevirtual #60                 // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      65: invokevirtual #61                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
      68: astore        5
      70: getstatic     #62                 // Field org/wildfly/extension/messaging/activemq/PathDefinition.RELATIVE_TO:Lorg/jboss/as/controller/SimpleAttributeDefinition;
      73: aload_0
      74: aload         4
      76: invokevirtual #60                 // Method org/jboss/as/controller/SimpleAttributeDefinition.resolveModelAttribute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)Lorg/jboss/dmr/ModelNode;
      79: invokevirtual #61                 // Method org/jboss/dmr/ModelNode.asString:()Ljava/lang/String;
      82: astore        6
      84: aload         5
      86: invokestatic  #63                 // Method org/jboss/as/controller/services/path/AbsolutePathService.isAbsoluteUnixOrWindowsPath:(Ljava/lang/String;)Z
      89: ifeq          96
      92: aconst_null
      93: goto          98
      96: aload         6
      98: astore        7
     100: aload_1
     101: aload         5
     103: aload         7
     105: invokeinterface #64,  3           // InterfaceMethod org/jboss/as/controller/services/path/PathManager.resolveRelativePathEntry:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     110: areturn

  static {};
    Code:
       0: new           #28                 // class org/wildfly/extension/messaging/activemq/ExportJournalOperation
       3: dup
       4: invokespecial #65                 // Method "<init>":()V
       7: putstatic     #9                  // Field INSTANCE:Lorg/wildfly/extension/messaging/activemq/ExportJournalOperation;
      10: return
}
