Compiled from "WeldStartService.java"
public class org.jboss.as.weld.WeldStartService implements org.jboss.msc.service.Service<org.jboss.as.weld.WeldStartService> {
  public static final org.jboss.msc.service.ServiceName SERVICE_NAME;

  private final org.jboss.msc.value.InjectedValue<org.jboss.as.weld.WeldBootstrapService> bootstrap;

  private final java.util.List<org.jboss.as.server.deployment.SetupAction> setupActions;

  private final java.lang.ClassLoader classLoader;

  private final org.jboss.msc.service.ServiceName deploymentServiceName;

  private final java.util.concurrent.atomic.AtomicBoolean runOnce;

  public org.jboss.as.weld.WeldStartService(java.util.List<org.jboss.as.server.deployment.SetupAction>, java.lang.ClassLoader, org.jboss.msc.service.ServiceName);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/jboss/msc/value/InjectedValue
       8: dup
       9: invokespecial #3                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      12: putfield      #4                  // Field bootstrap:Lorg/jboss/msc/value/InjectedValue;
      15: aload_0
      16: new           #5                  // class java/util/concurrent/atomic/AtomicBoolean
      19: dup
      20: invokespecial #6                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      23: putfield      #7                  // Field runOnce:Ljava/util/concurrent/atomic/AtomicBoolean;
      26: aload_0
      27: aload_1
      28: putfield      #8                  // Field setupActions:Ljava/util/List;
      31: aload_0
      32: aload_2
      33: putfield      #9                  // Field classLoader:Ljava/lang/ClassLoader;
      36: aload_0
      37: aload_3
      38: putfield      #10                 // Field deploymentServiceName:Lorg/jboss/msc/service/ServiceName;
      41: return

  public void start(org.jboss.msc.service.StartContext) throws org.jboss.msc.service.StartException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field runOnce:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: invokevirtual #11                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
       7: ifeq          55
      10: aload_1
      11: invokeinterface #12,  1           // InterfaceMethod org/jboss/msc/service/StartContext.getController:()Lorg/jboss/msc/service/ServiceController;
      16: invokeinterface #13,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getServiceContainer:()Lorg/jboss/msc/service/ServiceContainer;
      21: aload_0
      22: getfield      #10                 // Field deploymentServiceName:Lorg/jboss/msc/service/ServiceName;
      25: invokeinterface #14,  2           // InterfaceMethod org/jboss/msc/service/ServiceContainer.getService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
      30: astore_2
      31: aload_2
      32: new           #15                 // class org/jboss/as/weld/WeldStartService$1
      35: dup
      36: aload_0
      37: invokespecial #16                 // Method org/jboss/as/weld/WeldStartService$1."<init>":(Lorg/jboss/as/weld/WeldStartService;)V
      40: invokeinterface #17,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.addListener:(Lorg/jboss/msc/service/ServiceListener;)V
      45: aload_2
      46: getstatic     #18                 // Field org/jboss/msc/service/ServiceController$Mode.NEVER:Lorg/jboss/msc/service/ServiceController$Mode;
      49: invokeinterface #19,  2           // InterfaceMethod org/jboss/msc/service/ServiceController.setMode:(Lorg/jboss/msc/service/ServiceController$Mode;)V
      54: return
      55: aload_0
      56: getfield      #7                  // Field runOnce:Ljava/util/concurrent/atomic/AtomicBoolean;
      59: iconst_1
      60: invokevirtual #20                 // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      63: invokestatic  #21                 // Method org/wildfly/security/manager/WildFlySecurityManager.getCurrentContextClassLoaderPrivileged:()Ljava/lang/ClassLoader;
      66: astore_2
      67: aload_0
      68: getfield      #8                  // Field setupActions:Ljava/util/List;
      71: invokeinterface #22,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      76: astore_3
      77: aload_3
      78: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      83: ifeq          108
      86: aload_3
      87: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      92: checkcast     #25                 // class org/jboss/as/server/deployment/SetupAction
      95: astore        4
      97: aload         4
      99: aconst_null
     100: invokeinterface #26,  2           // InterfaceMethod org/jboss/as/server/deployment/SetupAction.setup:(Ljava/util/Map;)V
     105: goto          77
     108: aload_0
     109: getfield      #9                  // Field classLoader:Ljava/lang/ClassLoader;
     112: invokestatic  #27                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
     115: pop
     116: aload_0
     117: getfield      #4                  // Field bootstrap:Lorg/jboss/msc/value/InjectedValue;
     120: invokevirtual #28                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     123: checkcast     #29                 // class org/jboss/as/weld/WeldBootstrapService
     126: invokevirtual #30                 // Method org/jboss/as/weld/WeldBootstrapService.getBootstrap:()Lorg/jboss/weld/bootstrap/WeldBootstrap;
     129: invokevirtual #31                 // Method org/jboss/weld/bootstrap/WeldBootstrap.startInitialization:()Lorg/jboss/weld/bootstrap/api/Bootstrap;
     132: pop
     133: aload_0
     134: getfield      #4                  // Field bootstrap:Lorg/jboss/msc/value/InjectedValue;
     137: invokevirtual #28                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     140: checkcast     #29                 // class org/jboss/as/weld/WeldBootstrapService
     143: invokevirtual #30                 // Method org/jboss/as/weld/WeldBootstrapService.getBootstrap:()Lorg/jboss/weld/bootstrap/WeldBootstrap;
     146: invokevirtual #32                 // Method org/jboss/weld/bootstrap/WeldBootstrap.deployBeans:()Lorg/jboss/weld/bootstrap/api/Bootstrap;
     149: pop
     150: aload_0
     151: getfield      #4                  // Field bootstrap:Lorg/jboss/msc/value/InjectedValue;
     154: invokevirtual #28                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     157: checkcast     #29                 // class org/jboss/as/weld/WeldBootstrapService
     160: invokevirtual #30                 // Method org/jboss/as/weld/WeldBootstrapService.getBootstrap:()Lorg/jboss/weld/bootstrap/WeldBootstrap;
     163: invokevirtual #33                 // Method org/jboss/weld/bootstrap/WeldBootstrap.validateBeans:()Lorg/jboss/weld/bootstrap/api/Bootstrap;
     166: pop
     167: aload_0
     168: getfield      #4                  // Field bootstrap:Lorg/jboss/msc/value/InjectedValue;
     171: invokevirtual #28                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
     174: checkcast     #29                 // class org/jboss/as/weld/WeldBootstrapService
     177: invokevirtual #30                 // Method org/jboss/as/weld/WeldBootstrapService.getBootstrap:()Lorg/jboss/weld/bootstrap/WeldBootstrap;
     180: invokevirtual #34                 // Method org/jboss/weld/bootstrap/WeldBootstrap.endInitialization:()Lorg/jboss/weld/bootstrap/api/Bootstrap;
     183: pop
     184: aload_0
     185: getfield      #8                  // Field setupActions:Ljava/util/List;
     188: invokeinterface #22,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     193: astore_3
     194: aload_3
     195: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     200: ifeq          240
     203: aload_3
     204: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     209: checkcast     #25                 // class org/jboss/as/server/deployment/SetupAction
     212: astore        4
     214: aload         4
     216: aconst_null
     217: invokeinterface #35,  2           // InterfaceMethod org/jboss/as/server/deployment/SetupAction.teardown:(Ljava/util/Map;)V
     222: goto          237
     225: astore        5
     227: getstatic     #37                 // Field org/jboss/as/weld/logging/WeldLogger.DEPLOYMENT_LOGGER:Lorg/jboss/as/weld/logging/WeldLogger;
     230: aload         5
     232: invokeinterface #38,  2           // InterfaceMethod org/jboss/as/weld/logging/WeldLogger.exceptionClearingThreadState:(Ljava/lang/Exception;)V
     237: goto          194
     240: aload_2
     241: invokestatic  #27                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
     244: pop
     245: goto          317
     248: astore        6
     250: aload_0
     251: getfield      #8                  // Field setupActions:Ljava/util/List;
     254: invokeinterface #22,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     259: astore        7
     261: aload         7
     263: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     268: ifeq          309
     271: aload         7
     273: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     278: checkcast     #25                 // class org/jboss/as/server/deployment/SetupAction
     281: astore        8
     283: aload         8
     285: aconst_null
     286: invokeinterface #35,  2           // InterfaceMethod org/jboss/as/server/deployment/SetupAction.teardown:(Ljava/util/Map;)V
     291: goto          306
     294: astore        9
     296: getstatic     #37                 // Field org/jboss/as/weld/logging/WeldLogger.DEPLOYMENT_LOGGER:Lorg/jboss/as/weld/logging/WeldLogger;
     299: aload         9
     301: invokeinterface #38,  2           // InterfaceMethod org/jboss/as/weld/logging/WeldLogger.exceptionClearingThreadState:(Ljava/lang/Exception;)V
     306: goto          261
     309: aload_2
     310: invokestatic  #27                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
     313: pop
     314: aload         6
     316: athrow
     317: return
    Exception table:
       from    to  target type
         214   222   225   Class java/lang/Exception
          67   184   248   any
         283   291   294   Class java/lang/Exception
         248   250   248   any

  public void stop(org.jboss.msc.service.StopContext);
    Code:
       0: aload_0
       1: getfield      #4                  // Field bootstrap:Lorg/jboss/msc/value/InjectedValue;
       4: invokevirtual #28                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
       7: checkcast     #29                 // class org/jboss/as/weld/WeldBootstrapService
      10: astore_2
      11: aload_2
      12: invokevirtual #39                 // Method org/jboss/as/weld/WeldBootstrapService.isStarted:()Z
      15: ifne          29
      18: getstatic     #40                 // Field org/jboss/as/weld/logging/WeldLogger.ROOT_LOGGER:Lorg/jboss/as/weld/logging/WeldLogger;
      21: ldc           #41                 // String WeldContainer
      23: invokeinterface #42,  2           // InterfaceMethod org/jboss/as/weld/logging/WeldLogger.notStarted:(Ljava/lang/String;)Ljava/lang/IllegalStateException;
      28: athrow
      29: getstatic     #37                 // Field org/jboss/as/weld/logging/WeldLogger.DEPLOYMENT_LOGGER:Lorg/jboss/as/weld/logging/WeldLogger;
      32: aload_2
      33: invokevirtual #43                 // Method org/jboss/as/weld/WeldBootstrapService.getDeploymentName:()Ljava/lang/String;
      36: invokeinterface #44,  2           // InterfaceMethod org/jboss/as/weld/logging/WeldLogger.stoppingWeldService:(Ljava/lang/String;)V
      41: invokestatic  #21                 // Method org/wildfly/security/manager/WildFlySecurityManager.getCurrentContextClassLoaderPrivileged:()Ljava/lang/ClassLoader;
      44: astore_3
      45: aload_2
      46: invokevirtual #45                 // Method org/jboss/as/weld/WeldBootstrapService.getDeployment:()Lorg/jboss/as/weld/deployment/WeldDeployment;
      49: invokevirtual #46                 // Method org/jboss/as/weld/deployment/WeldDeployment.getModule:()Lorg/jboss/modules/Module;
      52: invokevirtual #47                 // Method org/jboss/modules/Module.getClassLoader:()Lorg/jboss/modules/ModuleClassLoader;
      55: invokestatic  #27                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
      58: pop
      59: aload_2
      60: invokevirtual #43                 // Method org/jboss/as/weld/WeldBootstrapService.getDeploymentName:()Ljava/lang/String;
      63: invokestatic  #48                 // Method org/jboss/weld/Container.instance:(Ljava/lang/String;)Lorg/jboss/weld/Container;
      66: invokestatic  #49                 // Method org/jboss/as/weld/WeldProvider.containerShutDown:(Lorg/jboss/weld/Container;)V
      69: aload_2
      70: invokevirtual #30                 // Method org/jboss/as/weld/WeldBootstrapService.getBootstrap:()Lorg/jboss/weld/bootstrap/WeldBootstrap;
      73: invokevirtual #50                 // Method org/jboss/weld/bootstrap/WeldBootstrap.shutdown:()V
      76: aload_3
      77: invokestatic  #27                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
      80: pop
      81: aload_2
      82: invokevirtual #45                 // Method org/jboss/as/weld/WeldBootstrapService.getDeployment:()Lorg/jboss/as/weld/deployment/WeldDeployment;
      85: invokevirtual #46                 // Method org/jboss/as/weld/deployment/WeldDeployment.getModule:()Lorg/jboss/modules/Module;
      88: invokevirtual #47                 // Method org/jboss/modules/Module.getClassLoader:()Lorg/jboss/modules/ModuleClassLoader;
      91: invokestatic  #51                 // Method org/jboss/as/weld/services/ModuleGroupSingletonProvider.removeClassLoader:(Ljava/lang/ClassLoader;)V
      94: goto          120
      97: astore        4
      99: aload_3
     100: invokestatic  #27                 // Method org/wildfly/security/manager/WildFlySecurityManager.setCurrentContextClassLoaderPrivileged:(Ljava/lang/ClassLoader;)Ljava/lang/ClassLoader;
     103: pop
     104: aload_2
     105: invokevirtual #45                 // Method org/jboss/as/weld/WeldBootstrapService.getDeployment:()Lorg/jboss/as/weld/deployment/WeldDeployment;
     108: invokevirtual #46                 // Method org/jboss/as/weld/deployment/WeldDeployment.getModule:()Lorg/jboss/modules/Module;
     111: invokevirtual #47                 // Method org/jboss/modules/Module.getClassLoader:()Lorg/jboss/modules/ModuleClassLoader;
     114: invokestatic  #51                 // Method org/jboss/as/weld/services/ModuleGroupSingletonProvider.removeClassLoader:(Ljava/lang/ClassLoader;)V
     117: aload         4
     119: athrow
     120: aload_2
     121: iconst_0
     122: invokevirtual #52                 // Method org/jboss/as/weld/WeldBootstrapService.setStarted:(Z)V
     125: return
    Exception table:
       from    to  target type
          45    76    97   any
          97    99    97   any

  public org.jboss.as.weld.WeldStartService getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: areturn

  public org.jboss.msc.value.InjectedValue<org.jboss.as.weld.WeldBootstrapService> getBootstrap();
    Code:
       0: aload_0
       1: getfield      #4                  // Field bootstrap:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  public java.lang.Object getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: invokevirtual #53                 // Method getValue:()Lorg/jboss/as/weld/WeldStartService;
       4: areturn

  static {};
    Code:
       0: iconst_1
       1: anewarray     #54                 // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #55                 // String WeldStartService
       8: aastore
       9: invokestatic  #56                 // Method org/jboss/msc/service/ServiceName.of:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
      12: putstatic     #57                 // Field SERVICE_NAME:Lorg/jboss/msc/service/ServiceName;
      15: return
}
