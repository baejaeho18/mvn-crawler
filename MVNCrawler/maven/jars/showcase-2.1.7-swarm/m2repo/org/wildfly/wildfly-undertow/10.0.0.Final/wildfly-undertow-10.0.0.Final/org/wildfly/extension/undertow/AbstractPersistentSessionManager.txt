Compiled from "AbstractPersistentSessionManager.java"
public abstract class org.wildfly.extension.undertow.AbstractPersistentSessionManager implements io.undertow.servlet.api.SessionPersistenceManager, org.jboss.msc.service.Service<io.undertow.servlet.api.SessionPersistenceManager> {
  public static final org.jboss.msc.service.ServiceName SERVICE_NAME;

  private org.jboss.marshalling.MarshallerFactory factory;

  private org.jboss.marshalling.MarshallingConfiguration configuration;

  private final org.jboss.msc.value.InjectedValue<org.jboss.modules.ModuleLoader> moduleLoaderInjectedValue;

  public org.wildfly.extension.undertow.AbstractPersistentSessionManager();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/jboss/msc/value/InjectedValue
       8: dup
       9: invokespecial #3                  // Method org/jboss/msc/value/InjectedValue."<init>":()V
      12: putfield      #4                  // Field moduleLoaderInjectedValue:Lorg/jboss/msc/value/InjectedValue;
      15: return

  public void persistSessions(java.lang.String, java.util.Map<java.lang.String, io.undertow.servlet.api.SessionPersistenceManager$PersistentSession>);
    Code:
       0: aload_0
       1: invokevirtual #5                  // Method createMarshaller:()Lorg/jboss/marshalling/Marshaller;
       4: astore_3
       5: new           #6                  // class java/util/HashMap
       8: dup
       9: invokespecial #7                  // Method java/util/HashMap."<init>":()V
      12: astore        4
      14: aload_2
      15: invokeinterface #8,  1            // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      20: invokeinterface #9,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      25: astore        5
      27: aload         5
      29: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      34: ifeq          254
      37: aload         5
      39: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      44: checkcast     #12                 // class java/util/Map$Entry
      47: astore        6
      49: new           #6                  // class java/util/HashMap
      52: dup
      53: invokespecial #7                  // Method java/util/HashMap."<init>":()V
      56: astore        7
      58: aload         6
      60: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      65: checkcast     #14                 // class io/undertow/servlet/api/SessionPersistenceManager$PersistentSession
      68: invokevirtual #15                 // Method io/undertow/servlet/api/SessionPersistenceManager$PersistentSession.getSessionData:()Ljava/util/Map;
      71: invokeinterface #8,  1            // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      76: invokeinterface #9,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      81: astore        8
      83: aload         8
      85: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      90: ifeq          213
      93: aload         8
      95: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     100: checkcast     #12                 // class java/util/Map$Entry
     103: astore        9
     105: new           #16                 // class java/io/ByteArrayOutputStream
     108: dup
     109: invokespecial #17                 // Method java/io/ByteArrayOutputStream."<init>":()V
     112: astore        10
     114: aload_3
     115: new           #18                 // class org/jboss/marshalling/OutputStreamByteOutput
     118: dup
     119: aload         10
     121: invokespecial #19                 // Method org/jboss/marshalling/OutputStreamByteOutput."<init>":(Ljava/io/OutputStream;)V
     124: invokeinterface #20,  2           // InterfaceMethod org/jboss/marshalling/Marshaller.start:(Lorg/jboss/marshalling/ByteOutput;)V
     129: aload_3
     130: aload         9
     132: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     137: invokeinterface #21,  2           // InterfaceMethod org/jboss/marshalling/Marshaller.writeObject:(Ljava/lang/Object;)V
     142: aload_3
     143: invokeinterface #22,  1           // InterfaceMethod org/jboss/marshalling/Marshaller.finish:()V
     148: aload         7
     150: aload         9
     152: invokeinterface #23,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     157: aload         10
     159: invokevirtual #24                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     162: invokeinterface #25,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     167: pop
     168: goto          210
     171: astore        10
     173: getstatic     #27                 // Field org/wildfly/extension/undertow/logging/UndertowLogger.ROOT_LOGGER:Lorg/wildfly/extension/undertow/logging/UndertowLogger;
     176: aload         9
     178: invokeinterface #23,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     183: checkcast     #28                 // class java/lang/String
     186: aload         9
     188: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     193: aload         6
     195: invokeinterface #23,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     200: checkcast     #28                 // class java/lang/String
     203: aload         10
     205: invokeinterface #29,  5           // InterfaceMethod org/wildfly/extension/undertow/logging/UndertowLogger.failedToPersistSessionAttribute:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Exception;)V
     210: goto          83
     213: aload         4
     215: aload         6
     217: invokeinterface #23,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     222: new           #30                 // class org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry
     225: dup
     226: aload         6
     228: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     233: checkcast     #14                 // class io/undertow/servlet/api/SessionPersistenceManager$PersistentSession
     236: invokevirtual #31                 // Method io/undertow/servlet/api/SessionPersistenceManager$PersistentSession.getExpiration:()Ljava/util/Date;
     239: aload         7
     241: aconst_null
     242: invokespecial #32                 // Method org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry."<init>":(Ljava/util/Date;Ljava/util/Map;Lorg/wildfly/extension/undertow/AbstractPersistentSessionManager$1;)V
     245: invokeinterface #25,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     250: pop
     251: goto          27
     254: aload_0
     255: aload_1
     256: aload         4
     258: invokevirtual #33                 // Method persistSerializedSessions:(Ljava/lang/String;Ljava/util/Map;)V
     261: aload_3
     262: invokeinterface #34,  1           // InterfaceMethod org/jboss/marshalling/Marshaller.close:()V
     267: goto          281
     270: astore        11
     272: aload_3
     273: invokeinterface #34,  1           // InterfaceMethod org/jboss/marshalling/Marshaller.close:()V
     278: aload         11
     280: athrow
     281: goto          294
     284: astore_3
     285: getstatic     #35                 // Field io/undertow/servlet/UndertowServletLogger.ROOT_LOGGER:Lio/undertow/servlet/UndertowServletLogger;
     288: aload_3
     289: invokeinterface #36,  2           // InterfaceMethod io/undertow/servlet/UndertowServletLogger.failedToPersistSessions:(Ljava/lang/Exception;)V
     294: return
    Exception table:
       from    to  target type
         105   168   171   Class java/lang/Exception
           5   261   270   any
         270   272   270   any
           0   281   284   Class java/lang/Exception

  protected abstract void persistSerializedSessions(java.lang.String, java.util.Map<java.lang.String, org.wildfly.extension.undertow.AbstractPersistentSessionManager$SessionEntry>) throws java.io.IOException;

  protected abstract java.util.Map<java.lang.String, org.wildfly.extension.undertow.AbstractPersistentSessionManager$SessionEntry> loadSerializedSessions(java.lang.String) throws java.io.IOException;

  public java.util.Map<java.lang.String, io.undertow.servlet.api.SessionPersistenceManager$PersistentSession> loadSessionAttributes(java.lang.String, java.lang.ClassLoader);
    Code:
       0: aload_0
       1: invokevirtual #37                 // Method createUnmarshaller:()Lorg/jboss/marshalling/Unmarshaller;
       4: astore_3
       5: invokestatic  #38                 // Method java/lang/System.currentTimeMillis:()J
       8: lstore        4
      10: aload_0
      11: aload_1
      12: invokevirtual #39                 // Method loadSerializedSessions:(Ljava/lang/String;)Ljava/util/Map;
      15: astore        6
      17: aload         6
      19: ifnull        254
      22: new           #6                  // class java/util/HashMap
      25: dup
      26: invokespecial #7                  // Method java/util/HashMap."<init>":()V
      29: astore        7
      31: aload         6
      33: invokeinterface #8,  1            // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      38: invokeinterface #9,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      43: astore        8
      45: aload         8
      47: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      52: ifeq          241
      55: aload         8
      57: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      62: checkcast     #12                 // class java/util/Map$Entry
      65: astore        9
      67: aload         9
      69: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      74: checkcast     #30                 // class org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry
      77: invokestatic  #40                 // Method org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry.access$100:(Lorg/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry;)Ljava/util/Date;
      80: invokevirtual #41                 // Method java/util/Date.getTime:()J
      83: lload         4
      85: lcmp
      86: ifle          238
      89: new           #6                  // class java/util/HashMap
      92: dup
      93: invokespecial #7                  // Method java/util/HashMap."<init>":()V
      96: astore        10
      98: aload         9
     100: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     105: checkcast     #30                 // class org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry
     108: invokestatic  #42                 // Method org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry.access$200:(Lorg/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry;)Ljava/util/Map;
     111: invokeinterface #8,  1            // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     116: invokeinterface #9,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     121: astore        11
     123: aload         11
     125: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     130: ifeq          201
     133: aload         11
     135: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     140: checkcast     #12                 // class java/util/Map$Entry
     143: astore        12
     145: aload_3
     146: new           #43                 // class org/jboss/marshalling/ByteBufferInput
     149: dup
     150: aload         12
     152: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     157: checkcast     #44                 // class "[B"
     160: invokestatic  #45                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     163: invokespecial #46                 // Method org/jboss/marshalling/ByteBufferInput."<init>":(Ljava/nio/ByteBuffer;)V
     166: invokeinterface #47,  2           // InterfaceMethod org/jboss/marshalling/Unmarshaller.start:(Lorg/jboss/marshalling/ByteInput;)V
     171: aload         10
     173: aload         12
     175: invokeinterface #23,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     180: aload_3
     181: invokeinterface #48,  1           // InterfaceMethod org/jboss/marshalling/Unmarshaller.readObject:()Ljava/lang/Object;
     186: invokeinterface #25,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     191: pop
     192: aload_3
     193: invokeinterface #49,  1           // InterfaceMethod org/jboss/marshalling/Unmarshaller.finish:()V
     198: goto          123
     201: aload         7
     203: aload         9
     205: invokeinterface #23,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     210: new           #14                 // class io/undertow/servlet/api/SessionPersistenceManager$PersistentSession
     213: dup
     214: aload         9
     216: invokeinterface #13,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     221: checkcast     #30                 // class org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry
     224: invokestatic  #40                 // Method org/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry.access$100:(Lorg/wildfly/extension/undertow/AbstractPersistentSessionManager$SessionEntry;)Ljava/util/Date;
     227: aload         10
     229: invokespecial #50                 // Method io/undertow/servlet/api/SessionPersistenceManager$PersistentSession."<init>":(Ljava/util/Date;Ljava/util/Map;)V
     232: invokeinterface #25,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     237: pop
     238: goto          45
     241: aload         7
     243: astore        8
     245: aload_3
     246: invokeinterface #51,  1           // InterfaceMethod org/jboss/marshalling/Unmarshaller.close:()V
     251: aload         8
     253: areturn
     254: aload_3
     255: invokeinterface #51,  1           // InterfaceMethod org/jboss/marshalling/Unmarshaller.close:()V
     260: goto          274
     263: astore        13
     265: aload_3
     266: invokeinterface #51,  1           // InterfaceMethod org/jboss/marshalling/Unmarshaller.close:()V
     271: aload         13
     273: athrow
     274: goto          287
     277: astore_3
     278: getstatic     #35                 // Field io/undertow/servlet/UndertowServletLogger.ROOT_LOGGER:Lio/undertow/servlet/UndertowServletLogger;
     281: aload_3
     282: invokeinterface #52,  2           // InterfaceMethod io/undertow/servlet/UndertowServletLogger.failedtoLoadPersistentSessions:(Ljava/lang/Exception;)V
     287: aconst_null
     288: areturn
    Exception table:
       from    to  target type
           5   245   263   any
         263   265   263   any
           0   251   277   Class java/lang/Exception
         254   274   277   Class java/lang/Exception

  protected org.jboss.marshalling.Marshaller createMarshaller() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #53                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
       4: aload_0
       5: getfield      #54                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
       8: invokeinterface #55,  2           // InterfaceMethod org/jboss/marshalling/MarshallerFactory.createMarshaller:(Lorg/jboss/marshalling/MarshallingConfiguration;)Lorg/jboss/marshalling/Marshaller;
      13: areturn

  protected org.jboss.marshalling.Unmarshaller createUnmarshaller() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #53                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
       4: aload_0
       5: getfield      #54                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
       8: invokeinterface #56,  2           // InterfaceMethod org/jboss/marshalling/MarshallerFactory.createUnmarshaller:(Lorg/jboss/marshalling/MarshallingConfiguration;)Lorg/jboss/marshalling/Unmarshaller;
      13: areturn

  public void clear(java.lang.String);
    Code:
       0: return

  public synchronized void start(org.jboss.msc.service.StartContext) throws org.jboss.msc.service.StartException;
    Code:
       0: new           #57                 // class org/jboss/marshalling/river/RiverMarshallerFactory
       3: dup
       4: invokespecial #58                 // Method org/jboss/marshalling/river/RiverMarshallerFactory."<init>":()V
       7: astore_2
       8: new           #59                 // class org/jboss/marshalling/MarshallingConfiguration
      11: dup
      12: invokespecial #60                 // Method org/jboss/marshalling/MarshallingConfiguration."<init>":()V
      15: astore_3
      16: aload_3
      17: aload_0
      18: getfield      #4                  // Field moduleLoaderInjectedValue:Lorg/jboss/msc/value/InjectedValue;
      21: invokevirtual #61                 // Method org/jboss/msc/value/InjectedValue.getValue:()Ljava/lang/Object;
      24: checkcast     #62                 // class org/jboss/modules/ModuleLoader
      27: invokestatic  #63                 // Method org/jboss/marshalling/ModularClassResolver.getInstance:(Lorg/jboss/modules/ModuleLoader;)Lorg/jboss/marshalling/ModularClassResolver;
      30: invokevirtual #64                 // Method org/jboss/marshalling/MarshallingConfiguration.setClassResolver:(Lorg/jboss/marshalling/ClassResolver;)V
      33: aload_0
      34: aload_3
      35: putfield      #54                 // Field configuration:Lorg/jboss/marshalling/MarshallingConfiguration;
      38: aload_0
      39: aload_2
      40: putfield      #53                 // Field factory:Lorg/jboss/marshalling/MarshallerFactory;
      43: return

  public synchronized void stop(org.jboss.msc.service.StopContext);
    Code:
       0: return

  public synchronized io.undertow.servlet.api.SessionPersistenceManager getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: areturn

  public org.jboss.msc.value.InjectedValue<org.jboss.modules.ModuleLoader> getModuleLoaderInjectedValue();
    Code:
       0: aload_0
       1: getfield      #4                  // Field moduleLoaderInjectedValue:Lorg/jboss/msc/value/InjectedValue;
       4: areturn

  public java.lang.Object getValue() throws java.lang.IllegalStateException, java.lang.IllegalArgumentException;
    Code:
       0: aload_0
       1: invokevirtual #65                 // Method getValue:()Lio/undertow/servlet/api/SessionPersistenceManager;
       4: areturn

  static {};
    Code:
       0: getstatic     #66                 // Field org/jboss/msc/service/ServiceName.JBOSS:Lorg/jboss/msc/service/ServiceName;
       3: iconst_2
       4: anewarray     #28                 // class java/lang/String
       7: dup
       8: iconst_0
       9: ldc           #67                 // String undertow
      11: aastore
      12: dup
      13: iconst_1
      14: ldc           #68                 // String persistent-session-manager
      16: aastore
      17: invokevirtual #69                 // Method org/jboss/msc/service/ServiceName.append:([Ljava/lang/String;)Lorg/jboss/msc/service/ServiceName;
      20: putstatic     #70                 // Field SERVICE_NAME:Lorg/jboss/msc/service/ServiceName;
      23: return
}
