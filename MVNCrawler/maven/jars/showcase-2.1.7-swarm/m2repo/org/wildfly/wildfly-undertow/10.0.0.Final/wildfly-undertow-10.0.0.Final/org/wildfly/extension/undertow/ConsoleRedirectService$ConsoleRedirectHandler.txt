Compiled from "ConsoleRedirectService.java"
class org.wildfly.extension.undertow.ConsoleRedirectService$ConsoleRedirectHandler implements io.undertow.server.HttpHandler {
  private static final int DEFAULT_PORT;

  private static final java.lang.String HTTP;

  private static final java.lang.String HTTPS;

  private static final int SECURE_DEFAULT_PORT;

  private final int port;

  private final int securePort;

  private final org.jboss.as.network.NetworkInterfaceBinding networkInterfaceBinding;

  private final org.jboss.as.network.NetworkInterfaceBinding secureNetworkInterfaceBinding;

  org.wildfly.extension.undertow.ConsoleRedirectService$ConsoleRedirectHandler(org.jboss.as.server.mgmt.domain.HttpManagement);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: invokeinterface #3,  1            // InterfaceMethod org/jboss/as/server/mgmt/domain/HttpManagement.getHttpPort:()I
      11: putfield      #4                  // Field port:I
      14: aload_0
      15: aload_1
      16: invokeinterface #5,  1            // InterfaceMethod org/jboss/as/server/mgmt/domain/HttpManagement.getHttpsPort:()I
      21: putfield      #6                  // Field securePort:I
      24: aload_0
      25: aload_1
      26: invokeinterface #7,  1            // InterfaceMethod org/jboss/as/server/mgmt/domain/HttpManagement.getHttpNetworkInterfaceBinding:()Lorg/jboss/as/network/NetworkInterfaceBinding;
      31: putfield      #8                  // Field networkInterfaceBinding:Lorg/jboss/as/network/NetworkInterfaceBinding;
      34: aload_0
      35: aload_1
      36: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/server/mgmt/domain/HttpManagement.getHttpsNetworkInterfaceBinding:()Lorg/jboss/as/network/NetworkInterfaceBinding;
      41: putfield      #10                 // Field secureNetworkInterfaceBinding:Lorg/jboss/as/network/NetworkInterfaceBinding;
      44: return

  public void handleRequest(io.undertow.server.HttpServerExchange) throws java.lang.Exception;
    Code:
       0: ldc           #11                 // String /noredirect.html
       2: astore_2
       3: aload_0
       4: getfield      #4                  // Field port:I
       7: iconst_m1
       8: if_icmpgt     19
      11: aload_0
      12: getfield      #6                  // Field securePort:I
      15: iconst_m1
      16: if_icmple     80
      19: aload_0
      20: getfield      #6                  // Field securePort:I
      23: iconst_m1
      24: if_icmple     49
      27: aload_0
      28: ldc           #13                 // String https
      30: aload_0
      31: getfield      #10                 // Field secureNetworkInterfaceBinding:Lorg/jboss/as/network/NetworkInterfaceBinding;
      34: aload_0
      35: getfield      #6                  // Field securePort:I
      38: sipush        443
      41: aload_1
      42: invokespecial #14                 // Method assembleURI:(Ljava/lang/String;Lorg/jboss/as/network/NetworkInterfaceBinding;IILio/undertow/server/HttpServerExchange;)Ljava/lang/String;
      45: astore_2
      46: goto          67
      49: aload_0
      50: ldc           #15                 // String http
      52: aload_0
      53: getfield      #8                  // Field networkInterfaceBinding:Lorg/jboss/as/network/NetworkInterfaceBinding;
      56: aload_0
      57: getfield      #4                  // Field port:I
      60: bipush        80
      62: aload_1
      63: invokespecial #14                 // Method assembleURI:(Ljava/lang/String;Lorg/jboss/as/network/NetworkInterfaceBinding;IILio/undertow/server/HttpServerExchange;)Ljava/lang/String;
      66: astore_2
      67: goto          80
      70: astore_3
      71: getstatic     #17                 // Field org/wildfly/extension/undertow/logging/UndertowLogger.ROOT_LOGGER:Lorg/wildfly/extension/undertow/logging/UndertowLogger;
      74: aload_3
      75: invokeinterface #18,  2           // InterfaceMethod org/wildfly/extension/undertow/logging/UndertowLogger.invalidRedirectURI:(Ljava/lang/Throwable;)V
      80: new           #19                 // class io/undertow/server/handlers/RedirectHandler
      83: dup
      84: aload_2
      85: invokespecial #20                 // Method io/undertow/server/handlers/RedirectHandler."<init>":(Ljava/lang/String;)V
      88: astore_3
      89: aload_3
      90: aload_1
      91: invokevirtual #21                 // Method io/undertow/server/handlers/RedirectHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
      94: return
    Exception table:
       from    to  target type
          19    67    70   Class java/net/URISyntaxException

  private java.lang.String assembleURI(java.lang.String, org.jboss.as.network.NetworkInterfaceBinding, int, int, io.undertow.server.HttpServerExchange) throws java.net.URISyntaxException;
    Code:
       0: iload_3
       1: iload         4
       3: if_icmpeq     10
       6: iload_3
       7: goto          11
      10: iconst_m1
      11: istore        6
      13: aload_0
      14: aload_2
      15: invokevirtual #22                 // Method org/jboss/as/network/NetworkInterfaceBinding.getAddress:()Ljava/net/InetAddress;
      18: aload         5
      20: invokespecial #23                 // Method getRedirectHostname:(Ljava/net/InetAddress;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
      23: astore        7
      25: aload         7
      27: ifnonnull     33
      30: ldc           #11                 // String /noredirect.html
      32: areturn
      33: new           #24                 // class java/net/URI
      36: dup
      37: aload_1
      38: aconst_null
      39: aload         7
      41: iload         6
      43: ldc           #25                 // String /console
      45: aconst_null
      46: aconst_null
      47: invokespecial #26                 // Method java/net/URI."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      50: invokevirtual #27                 // Method java/net/URI.toString:()Ljava/lang/String;
      53: areturn

  private java.lang.String getRedirectHostname(java.net.InetAddress, io.undertow.server.HttpServerExchange);
    Code:
       0: aload_2
       1: invokevirtual #28                 // Method io/undertow/server/HttpServerExchange.getDestinationAddress:()Ljava/net/InetSocketAddress;
       4: invokevirtual #29                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
       7: astore_3
       8: aload_1
       9: aload_3
      10: invokevirtual #30                 // Method java/net/InetAddress.equals:(Ljava/lang/Object;)Z
      13: ifne          23
      16: aload_1
      17: invokevirtual #31                 // Method java/net/InetAddress.isAnyLocalAddress:()Z
      20: ifeq          67
      23: aload_2
      24: invokevirtual #32                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
      27: getstatic     #33                 // Field io/undertow/util/Headers.HOST:Lio/undertow/util/HttpString;
      30: invokevirtual #34                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
      33: astore        4
      35: aload         4
      37: ifnull        67
      40: aload         4
      42: bipush        58
      44: invokevirtual #35                 // Method java/lang/String.indexOf:(I)I
      47: istore        5
      49: iload         5
      51: ifle          64
      54: aload         4
      56: iconst_0
      57: iload         5
      59: invokevirtual #36                 // Method java/lang/String.substring:(II)Ljava/lang/String;
      62: astore        4
      64: aload         4
      66: areturn
      67: aload_1
      68: invokevirtual #37                 // Method java/net/InetAddress.isLoopbackAddress:()Z
      71: ifeq          114
      74: aload_3
      75: invokevirtual #37                 // Method java/net/InetAddress.isLoopbackAddress:()Z
      78: ifeq          114
      81: aload_1
      82: invokevirtual #38                 // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
      85: astore        4
      87: aload         4
      89: bipush        37
      91: invokevirtual #35                 // Method java/lang/String.indexOf:(I)I
      94: istore        5
      96: iload         5
      98: ifle          111
     101: aload         4
     103: iconst_0
     104: iload         5
     106: invokevirtual #36                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     109: astore        4
     111: aload         4
     113: areturn
     114: aconst_null
     115: areturn
}
