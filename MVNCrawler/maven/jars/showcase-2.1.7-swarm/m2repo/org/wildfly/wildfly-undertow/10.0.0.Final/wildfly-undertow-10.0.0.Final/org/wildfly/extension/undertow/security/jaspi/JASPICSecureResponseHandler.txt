Compiled from "JASPICSecureResponseHandler.java"
public class org.wildfly.extension.undertow.security.jaspi.JASPICSecureResponseHandler implements io.undertow.server.HttpHandler {
  private final io.undertow.server.HttpHandler next;

  public org.wildfly.extension.undertow.security.jaspi.JASPICSecureResponseHandler(io.undertow.server.HttpHandler);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field next:Lio/undertow/server/HttpHandler;
       9: return

  public void handleRequest(io.undertow.server.HttpServerExchange) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #2                  // Field next:Lio/undertow/server/HttpHandler;
       4: aload_1
       5: invokeinterface #3,  2            // InterfaceMethod io/undertow/server/HttpHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
      10: aload_1
      11: getstatic     #4                  // Field org/wildfly/extension/undertow/security/jaspi/JASPICContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
      14: invokevirtual #5                  // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
      17: checkcast     #6                  // class org/wildfly/extension/undertow/security/jaspi/JASPICContext
      20: astore_2
      21: aload_1
      22: getstatic     #7                  // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
      25: invokevirtual #5                  // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
      28: checkcast     #8                  // class io/undertow/servlet/handlers/ServletRequestContext
      31: astore_3
      32: aload_3
      33: invokestatic  #9                  // Method org/wildfly/extension/undertow/security/jaspi/JASPICAuthenticationMechanism.buildApplicationIdentifier:(Lio/undertow/servlet/handlers/ServletRequestContext;)Ljava/lang/String;
      36: astore        4
      38: aload_1
      39: invokestatic  #10                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICAuthenticationMechanism.wasAuthExceptionThrown:(Lio/undertow/server/HttpServerExchange;)Z
      42: ifne          131
      45: getstatic     #11                 // Field org/wildfly/extension/undertow/logging/UndertowLogger.ROOT_LOGGER:Lorg/wildfly/extension/undertow/logging/UndertowLogger;
      48: ldc           #12                 // String secureResponse for layer [%s] and applicationContextIdentifier [%s].
      50: ldc           #14                 // String HttpServlet
      52: aload         4
      54: invokeinterface #15,  4           // InterfaceMethod org/wildfly/extension/undertow/logging/UndertowLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      59: aload_2
      60: invokevirtual #16                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getSam:()Lorg/jboss/security/plugins/auth/JASPIServerAuthenticationManager;
      63: aload_2
      64: invokevirtual #17                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getMessageInfo:()Ljavax/security/auth/message/MessageInfo;
      67: new           #18                 // class javax/security/auth/Subject
      70: dup
      71: invokespecial #19                 // Method javax/security/auth/Subject."<init>":()V
      74: ldc           #14                 // String HttpServlet
      76: aload         4
      78: aload_2
      79: invokevirtual #20                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getCbh:()Lorg/jboss/security/auth/callback/JASPICallbackHandler;
      82: invokevirtual #21                 // Method org/jboss/security/plugins/auth/JASPIServerAuthenticationManager.secureResponse:(Ljavax/security/auth/message/MessageInfo;Ljavax/security/auth/Subject;Ljava/lang/String;Ljava/lang/String;Ljavax/security/auth/callback/CallbackHandler;)V
      85: aload_1
      86: getstatic     #7                  // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
      89: invokevirtual #5                  // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
      92: checkcast     #8                  // class io/undertow/servlet/handlers/ServletRequestContext
      95: astore        5
      97: aload         5
      99: aload_2
     100: invokevirtual #17                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getMessageInfo:()Ljavax/security/auth/message/MessageInfo;
     103: invokeinterface #22,  1           // InterfaceMethod javax/security/auth/message/MessageInfo.getRequestMessage:()Ljava/lang/Object;
     108: checkcast     #23                 // class javax/servlet/http/HttpServletRequest
     111: invokevirtual #24                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletRequest:(Ljavax/servlet/ServletRequest;)V
     114: aload         5
     116: aload_2
     117: invokevirtual #17                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getMessageInfo:()Ljavax/security/auth/message/MessageInfo;
     120: invokeinterface #25,  1           // InterfaceMethod javax/security/auth/message/MessageInfo.getResponseMessage:()Ljava/lang/Object;
     125: checkcast     #26                 // class javax/servlet/http/HttpServletResponse
     128: invokevirtual #27                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletResponse:(Ljavax/servlet/ServletResponse;)V
     131: goto          296
     134: astore_2
     135: getstatic     #11                 // Field org/wildfly/extension/undertow/logging/UndertowLogger.ROOT_LOGGER:Lorg/wildfly/extension/undertow/logging/UndertowLogger;
     138: aload_2
     139: invokeinterface #29,  2           // InterfaceMethod org/wildfly/extension/undertow/logging/UndertowLogger.errorInvokingSecureResponse:(Ljava/lang/Exception;)V
     144: goto          296
     147: astore        6
     149: aload_1
     150: getstatic     #4                  // Field org/wildfly/extension/undertow/security/jaspi/JASPICContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
     153: invokevirtual #5                  // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
     156: checkcast     #6                  // class org/wildfly/extension/undertow/security/jaspi/JASPICContext
     159: astore        7
     161: aload_1
     162: getstatic     #7                  // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
     165: invokevirtual #5                  // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
     168: checkcast     #8                  // class io/undertow/servlet/handlers/ServletRequestContext
     171: astore        8
     173: aload         8
     175: invokestatic  #9                  // Method org/wildfly/extension/undertow/security/jaspi/JASPICAuthenticationMechanism.buildApplicationIdentifier:(Lio/undertow/servlet/handlers/ServletRequestContext;)Ljava/lang/String;
     178: astore        9
     180: aload_1
     181: invokestatic  #10                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICAuthenticationMechanism.wasAuthExceptionThrown:(Lio/undertow/server/HttpServerExchange;)Z
     184: ifne          278
     187: getstatic     #11                 // Field org/wildfly/extension/undertow/logging/UndertowLogger.ROOT_LOGGER:Lorg/wildfly/extension/undertow/logging/UndertowLogger;
     190: ldc           #12                 // String secureResponse for layer [%s] and applicationContextIdentifier [%s].
     192: ldc           #14                 // String HttpServlet
     194: aload         9
     196: invokeinterface #15,  4           // InterfaceMethod org/wildfly/extension/undertow/logging/UndertowLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     201: aload         7
     203: invokevirtual #16                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getSam:()Lorg/jboss/security/plugins/auth/JASPIServerAuthenticationManager;
     206: aload         7
     208: invokevirtual #17                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getMessageInfo:()Ljavax/security/auth/message/MessageInfo;
     211: new           #18                 // class javax/security/auth/Subject
     214: dup
     215: invokespecial #19                 // Method javax/security/auth/Subject."<init>":()V
     218: ldc           #14                 // String HttpServlet
     220: aload         9
     222: aload         7
     224: invokevirtual #20                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getCbh:()Lorg/jboss/security/auth/callback/JASPICallbackHandler;
     227: invokevirtual #21                 // Method org/jboss/security/plugins/auth/JASPIServerAuthenticationManager.secureResponse:(Ljavax/security/auth/message/MessageInfo;Ljavax/security/auth/Subject;Ljava/lang/String;Ljava/lang/String;Ljavax/security/auth/callback/CallbackHandler;)V
     230: aload_1
     231: getstatic     #7                  // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
     234: invokevirtual #5                  // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
     237: checkcast     #8                  // class io/undertow/servlet/handlers/ServletRequestContext
     240: astore        10
     242: aload         10
     244: aload         7
     246: invokevirtual #17                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getMessageInfo:()Ljavax/security/auth/message/MessageInfo;
     249: invokeinterface #22,  1           // InterfaceMethod javax/security/auth/message/MessageInfo.getRequestMessage:()Ljava/lang/Object;
     254: checkcast     #23                 // class javax/servlet/http/HttpServletRequest
     257: invokevirtual #24                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletRequest:(Ljavax/servlet/ServletRequest;)V
     260: aload         10
     262: aload         7
     264: invokevirtual #17                 // Method org/wildfly/extension/undertow/security/jaspi/JASPICContext.getMessageInfo:()Ljavax/security/auth/message/MessageInfo;
     267: invokeinterface #25,  1           // InterfaceMethod javax/security/auth/message/MessageInfo.getResponseMessage:()Ljava/lang/Object;
     272: checkcast     #26                 // class javax/servlet/http/HttpServletResponse
     275: invokevirtual #27                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletResponse:(Ljavax/servlet/ServletResponse;)V
     278: goto          293
     281: astore        7
     283: getstatic     #11                 // Field org/wildfly/extension/undertow/logging/UndertowLogger.ROOT_LOGGER:Lorg/wildfly/extension/undertow/logging/UndertowLogger;
     286: aload         7
     288: invokeinterface #29,  2           // InterfaceMethod org/wildfly/extension/undertow/logging/UndertowLogger.errorInvokingSecureResponse:(Ljava/lang/Exception;)V
     293: aload         6
     295: athrow
     296: return
    Exception table:
       from    to  target type
          10   131   134   Class java/lang/Exception
           0    10   147   any
         149   278   281   Class java/lang/Exception
         147   149   147   any
}
