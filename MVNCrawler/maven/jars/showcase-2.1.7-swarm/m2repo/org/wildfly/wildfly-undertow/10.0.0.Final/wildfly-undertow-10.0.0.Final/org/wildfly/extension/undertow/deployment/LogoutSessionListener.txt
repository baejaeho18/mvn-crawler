Compiled from "LogoutSessionListener.java"
public class org.wildfly.extension.undertow.deployment.LogoutSessionListener implements javax.servlet.http.HttpSessionListener {
  private final org.jboss.security.AuthenticationManager manager;

  public org.wildfly.extension.undertow.deployment.LogoutSessionListener(org.jboss.security.AuthenticationManager);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field manager:Lorg/jboss/security/AuthenticationManager;
       9: return

  public void sessionCreated(javax.servlet.http.HttpSessionEvent);
    Code:
       0: return

  public void sessionDestroyed(javax.servlet.http.HttpSessionEvent);
    Code:
       0: invokestatic  #3                  // Method io/undertow/servlet/handlers/ServletRequestContext.current:()Lio/undertow/servlet/handlers/ServletRequestContext;
       3: astore_2
       4: aconst_null
       5: astore_3
       6: aload_2
       7: ifnull        32
      10: aload_2
      11: invokevirtual #4                  // Method io/undertow/servlet/handlers/ServletRequestContext.getExchange:()Lio/undertow/server/HttpServerExchange;
      14: invokevirtual #5                  // Method io/undertow/server/HttpServerExchange.getSecurityContext:()Lio/undertow/security/api/SecurityContext;
      17: invokeinterface #6,  1            // InterfaceMethod io/undertow/security/api/SecurityContext.getAuthenticatedAccount:()Lio/undertow/security/idm/Account;
      22: astore_3
      23: aload_3
      24: ifnull        32
      27: aload_0
      28: aload_3
      29: invokespecial #7                  // Method clearAccount:(Lio/undertow/security/idm/Account;)V
      32: aload_1
      33: invokevirtual #8                  // Method javax/servlet/http/HttpSessionEvent.getSession:()Ljavax/servlet/http/HttpSession;
      36: instanceof    #9                  // class io/undertow/servlet/spec/HttpSessionImpl
      39: ifeq          157
      42: aload_1
      43: invokevirtual #8                  // Method javax/servlet/http/HttpSessionEvent.getSession:()Ljavax/servlet/http/HttpSession;
      46: checkcast     #9                  // class io/undertow/servlet/spec/HttpSessionImpl
      49: astore        4
      51: invokestatic  #10                 // Method org/wildfly/security/manager/WildFlySecurityManager.isChecking:()Z
      54: ifeq          78
      57: new           #11                 // class org/wildfly/extension/undertow/deployment/LogoutSessionListener$1
      60: dup
      61: aload_0
      62: aload         4
      64: invokespecial #12                 // Method org/wildfly/extension/undertow/deployment/LogoutSessionListener$1."<init>":(Lorg/wildfly/extension/undertow/deployment/LogoutSessionListener;Lio/undertow/servlet/spec/HttpSessionImpl;)V
      67: invokestatic  #13                 // Method org/wildfly/security/manager/WildFlySecurityManager.doChecked:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      70: checkcast     #14                 // class io/undertow/server/session/Session
      73: astore        5
      75: goto          85
      78: aload         4
      80: invokevirtual #15                 // Method io/undertow/servlet/spec/HttpSessionImpl.getSession:()Lio/undertow/server/session/Session;
      83: astore        5
      85: aload         5
      87: ifnull        157
      90: aload         5
      92: new           #16                 // class java/lang/StringBuilder
      95: dup
      96: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      99: ldc           #18                 // class io/undertow/servlet/handlers/security/CachedAuthenticatedSessionHandler
     101: invokevirtual #19                 // Method java/lang/Class.getName:()Ljava/lang/String;
     104: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     107: ldc           #21                 // String .AuthenticatedSession
     109: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     115: invokeinterface #23,  2           // InterfaceMethod io/undertow/server/session/Session.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
     120: checkcast     #24                 // class io/undertow/security/api/AuthenticatedSessionManager$AuthenticatedSession
     123: astore        6
     125: aload         6
     127: ifnull        157
     130: aload         6
     132: invokevirtual #25                 // Method io/undertow/security/api/AuthenticatedSessionManager$AuthenticatedSession.getAccount:()Lio/undertow/security/idm/Account;
     135: astore        7
     137: aload         7
     139: ifnull        157
     142: aload         7
     144: aload_3
     145: invokevirtual #26                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     148: ifne          157
     151: aload_0
     152: aload         7
     154: invokespecial #7                  // Method clearAccount:(Lio/undertow/security/idm/Account;)V
     157: return

  private void clearAccount(io.undertow.security.idm.Account);
    Code:
       0: aload_1
       1: instanceof    #27                 // class org/wildfly/extension/undertow/security/AccountImpl
       4: ifeq          17
       7: aload_1
       8: checkcast     #27                 // class org/wildfly/extension/undertow/security/AccountImpl
      11: invokevirtual #28                 // Method org/wildfly/extension/undertow/security/AccountImpl.getOriginalPrincipal:()Ljava/security/Principal;
      14: goto          23
      17: aload_1
      18: invokeinterface #29,  1           // InterfaceMethod io/undertow/security/idm/Account.getPrincipal:()Ljava/security/Principal;
      23: astore_2
      24: aload_2
      25: ifnull        43
      28: invokestatic  #30                 // Method org/wildfly/extension/undertow/deployment/SecurityActions.getSubject:()Ljavax/security/auth/Subject;
      31: astore_3
      32: aload_0
      33: getfield      #2                  // Field manager:Lorg/jboss/security/AuthenticationManager;
      36: aload_2
      37: aload_3
      38: invokeinterface #31,  3           // InterfaceMethod org/jboss/security/AuthenticationManager.logout:(Ljava/security/Principal;Ljavax/security/auth/Subject;)V
      43: return
}
