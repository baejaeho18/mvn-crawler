Compiled from "AbstractMarshaller.java"
public abstract class org.infinispan.commons.marshall.AbstractMarshaller implements org.infinispan.commons.marshall.Marshaller {
  protected final org.infinispan.commons.marshall.MarshallableTypeHints marshallableTypeHints;

  public org.infinispan.commons.marshall.AbstractMarshaller();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/infinispan/commons/marshall/MarshallableTypeHints
       8: dup
       9: invokespecial #3                  // Method org/infinispan/commons/marshall/MarshallableTypeHints."<init>":()V
      12: putfield      #4                  // Field marshallableTypeHints:Lorg/infinispan/commons/marshall/MarshallableTypeHints;
      15: return

  public org.infinispan.commons.marshall.BufferSizePredictor getBufferSizePredictor(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #4                  // Field marshallableTypeHints:Lorg/infinispan/commons/marshall/MarshallableTypeHints;
       4: aload_1
       5: invokevirtual #5                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       8: invokevirtual #6                  // Method org/infinispan/commons/marshall/MarshallableTypeHints.getBufferSizePredictor:(Ljava/lang/Class;)Lorg/infinispan/commons/marshall/BufferSizePredictor;
      11: areturn

  protected abstract org.infinispan.commons.io.ByteBuffer objectToBuffer(java.lang.Object, int) throws java.io.IOException, java.lang.InterruptedException;

  public org.infinispan.commons.io.ByteBuffer objectToBuffer(java.lang.Object) throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_1
       1: ifnull        83
       4: aload_0
       5: getfield      #4                  // Field marshallableTypeHints:Lorg/infinispan/commons/marshall/MarshallableTypeHints;
       8: aload_1
       9: invokevirtual #5                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
      12: invokevirtual #6                  // Method org/infinispan/commons/marshall/MarshallableTypeHints.getBufferSizePredictor:(Ljava/lang/Class;)Lorg/infinispan/commons/marshall/BufferSizePredictor;
      15: astore_2
      16: aload_2
      17: aload_1
      18: invokeinterface #7,  2            // InterfaceMethod org/infinispan/commons/marshall/BufferSizePredictor.nextSize:(Ljava/lang/Object;)I
      23: istore_3
      24: aload_0
      25: aload_1
      26: iload_3
      27: invokevirtual #8                  // Method objectToBuffer:(Ljava/lang/Object;I)Lorg/infinispan/commons/io/ByteBuffer;
      30: astore        4
      32: aload         4
      34: invokeinterface #9,  1            // InterfaceMethod org/infinispan/commons/io/ByteBuffer.getLength:()I
      39: istore        5
      41: iload_3
      42: iload         5
      44: iconst_4
      45: imul
      46: if_icmple     72
      49: aload_0
      50: aload         4
      52: invokespecial #10                 // Method trimBuffer:(Lorg/infinispan/commons/io/ByteBuffer;)[B
      55: astore        6
      57: new           #11                 // class org/infinispan/commons/io/ByteBufferImpl
      60: dup
      61: aload         6
      63: iconst_0
      64: aload         6
      66: arraylength
      67: invokespecial #12                 // Method org/infinispan/commons/io/ByteBufferImpl."<init>":([BII)V
      70: astore        4
      72: aload_2
      73: iload         5
      75: invokeinterface #13,  2           // InterfaceMethod org/infinispan/commons/marshall/BufferSizePredictor.recordSize:(I)V
      80: aload         4
      82: areturn
      83: aload_0
      84: aconst_null
      85: iconst_1
      86: invokevirtual #8                  // Method objectToBuffer:(Ljava/lang/Object;I)Lorg/infinispan/commons/io/ByteBuffer;
      89: areturn

  public byte[] objectToByteBuffer(java.lang.Object) throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_1
       1: ifnull        39
       4: aload_0
       5: getfield      #4                  // Field marshallableTypeHints:Lorg/infinispan/commons/marshall/MarshallableTypeHints;
       8: aload_1
       9: invokevirtual #5                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
      12: invokevirtual #6                  // Method org/infinispan/commons/marshall/MarshallableTypeHints.getBufferSizePredictor:(Ljava/lang/Class;)Lorg/infinispan/commons/marshall/BufferSizePredictor;
      15: astore_2
      16: aload_0
      17: aload_1
      18: aload_2
      19: aload_1
      20: invokeinterface #7,  2            // InterfaceMethod org/infinispan/commons/marshall/BufferSizePredictor.nextSize:(Ljava/lang/Object;)I
      25: invokevirtual #14                 // Method objectToByteBuffer:(Ljava/lang/Object;I)[B
      28: astore_3
      29: aload_2
      30: aload_3
      31: arraylength
      32: invokeinterface #13,  2           // InterfaceMethod org/infinispan/commons/marshall/BufferSizePredictor.recordSize:(I)V
      37: aload_3
      38: areturn
      39: aload_0
      40: aconst_null
      41: iconst_1
      42: invokevirtual #14                 // Method objectToByteBuffer:(Ljava/lang/Object;I)[B
      45: areturn

  public byte[] objectToByteBuffer(java.lang.Object, int) throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: invokevirtual #8                  // Method objectToBuffer:(Ljava/lang/Object;I)Lorg/infinispan/commons/io/ByteBuffer;
       6: astore_3
       7: aload_0
       8: aload_3
       9: invokespecial #10                 // Method trimBuffer:(Lorg/infinispan/commons/io/ByteBuffer;)[B
      12: areturn

  private byte[] trimBuffer(org.infinispan.commons.io.ByteBuffer);
    Code:
       0: aload_1
       1: invokeinterface #9,  1            // InterfaceMethod org/infinispan/commons/io/ByteBuffer.getLength:()I
       6: newarray       byte
       8: astore_2
       9: aload_1
      10: invokeinterface #15,  1           // InterfaceMethod org/infinispan/commons/io/ByteBuffer.getBuf:()[B
      15: aload_1
      16: invokeinterface #16,  1           // InterfaceMethod org/infinispan/commons/io/ByteBuffer.getOffset:()I
      21: aload_2
      22: iconst_0
      23: aload_1
      24: invokeinterface #9,  1            // InterfaceMethod org/infinispan/commons/io/ByteBuffer.getLength:()I
      29: invokestatic  #17                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      32: aload_2
      33: areturn

  public java.lang.Object objectFromByteBuffer(byte[]) throws java.io.IOException, java.lang.ClassNotFoundException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: aload_1
       4: arraylength
       5: invokevirtual #18                 // Method objectFromByteBuffer:([BII)Ljava/lang/Object;
       8: areturn

  public java.lang.Object objectFromInputStream(java.io.InputStream) throws java.io.IOException, java.lang.ClassNotFoundException;
    Code:
       0: aload_1
       1: invokevirtual #19                 // Method java/io/InputStream.available:()I
       4: istore_2
       5: iload_2
       6: ifle          32
       9: new           #20                 // class org/infinispan/commons/io/ExposedByteArrayOutputStream
      12: dup
      13: iload_2
      14: invokespecial #21                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream."<init>":(I)V
      17: astore_3
      18: iload_2
      19: sipush        1024
      22: invokestatic  #22                 // Method java/lang/Math.min:(II)I
      25: newarray       byte
      27: astore        4
      29: goto          47
      32: new           #20                 // class org/infinispan/commons/io/ExposedByteArrayOutputStream
      35: dup
      36: invokespecial #23                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream."<init>":()V
      39: astore_3
      40: sipush        1024
      43: newarray       byte
      45: astore        4
      47: aload_1
      48: aload         4
      50: iconst_0
      51: aload         4
      53: arraylength
      54: invokevirtual #24                 // Method java/io/InputStream.read:([BII)I
      57: dup
      58: istore        5
      60: iconst_m1
      61: if_icmpeq     76
      64: aload_3
      65: aload         4
      67: iconst_0
      68: iload         5
      70: invokevirtual #25                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream.write:([BII)V
      73: goto          47
      76: aload_0
      77: aload_3
      78: invokevirtual #26                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream.getRawBuffer:()[B
      81: iconst_0
      82: aload_3
      83: invokevirtual #27                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream.size:()I
      86: invokevirtual #18                 // Method objectFromByteBuffer:([BII)Ljava/lang/Object;
      89: areturn
}
