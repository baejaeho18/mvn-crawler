Compiled from "XaTransactionTable.java"
public class org.infinispan.transaction.xa.XaTransactionTable extends org.infinispan.transaction.impl.TransactionTable {
  private static final org.infinispan.util.logging.Log log;

  protected java.util.concurrent.ConcurrentMap<javax.transaction.xa.Xid, org.infinispan.transaction.xa.LocalXaTransaction> xid2LocalTx;

  private org.infinispan.transaction.xa.recovery.RecoveryManager recoveryManager;

  private java.lang.String cacheName;

  public org.infinispan.transaction.xa.XaTransactionTable();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/transaction/impl/TransactionTable."<init>":()V
       4: return

  public void init(org.infinispan.transaction.xa.recovery.RecoveryManager, org.infinispan.Cache);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
       5: aload_0
       6: aload_2
       7: invokeinterface #3,  1            // InterfaceMethod org/infinispan/Cache.getName:()Ljava/lang/String;
      12: putfield      #4                  // Field cacheName:Ljava/lang/String;
      15: return

  public void startXidMapping();
    Code:
       0: aload_0
       1: getfield      #5                  // Field configuration:Lorg/infinispan/configuration/cache/Configuration;
       4: invokevirtual #6                  // Method org/infinispan/configuration/cache/Configuration.locking:()Lorg/infinispan/configuration/cache/LockingConfiguration;
       7: invokevirtual #7                  // Method org/infinispan/configuration/cache/LockingConfiguration.concurrencyLevel:()I
      10: istore_1
      11: aload_0
      12: iload_1
      13: ldc           #8                  // float 0.75f
      15: iload_1
      16: invokestatic  #9                  // Method org/infinispan/commons/util/CollectionFactory.makeConcurrentMap:(IFI)Ljava/util/concurrent/ConcurrentMap;
      19: putfield      #10                 // Field xid2LocalTx:Ljava/util/concurrent/ConcurrentMap;
      22: return

  public boolean removeLocalTransaction(org.infinispan.transaction.impl.LocalTransaction);
    Code:
       0: iconst_0
       1: istore_2
       2: aload_1
       3: invokevirtual #11                 // Method org/infinispan/transaction/impl/LocalTransaction.getTransaction:()Ljavax/transaction/Transaction;
       6: ifnull        15
       9: aload_0
      10: aload_1
      11: invokespecial #12                 // Method org/infinispan/transaction/impl/TransactionTable.removeLocalTransaction:(Lorg/infinispan/transaction/impl/LocalTransaction;)Z
      14: istore_2
      15: aload_0
      16: aload_1
      17: checkcast     #13                 // class org/infinispan/transaction/xa/LocalXaTransaction
      20: invokespecial #14                 // Method removeXidTxMapping:(Lorg/infinispan/transaction/xa/LocalXaTransaction;)V
      23: iload_2
      24: ireturn

  private void removeXidTxMapping(org.infinispan.transaction.xa.LocalXaTransaction);
    Code:
       0: aload_1
       1: invokevirtual #15                 // Method org/infinispan/transaction/xa/LocalXaTransaction.getXid:()Ljavax/transaction/xa/Xid;
       4: astore_2
       5: aload_2
       6: ifnull        20
       9: aload_0
      10: getfield      #10                 // Field xid2LocalTx:Ljava/util/concurrent/ConcurrentMap;
      13: aload_2
      14: invokeinterface #16,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      19: pop
      20: return

  public org.infinispan.transaction.xa.LocalXaTransaction getLocalTransaction(javax.transaction.xa.Xid);
    Code:
       0: aload_0
       1: getfield      #10                 // Field xid2LocalTx:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #17,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #13                 // class org/infinispan/transaction/xa/LocalXaTransaction
      13: areturn

  public void addLocalTransactionMapping(org.infinispan.transaction.xa.LocalXaTransaction);
    Code:
       0: aload_1
       1: invokevirtual #15                 // Method org/infinispan/transaction/xa/LocalXaTransaction.getXid:()Ljavax/transaction/xa/Xid;
       4: ifnonnull     17
       7: new           #18                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #19                 // String Initialize xid first!
      13: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #10                 // Field xid2LocalTx:Ljava/util/concurrent/ConcurrentMap;
      21: aload_1
      22: invokevirtual #15                 // Method org/infinispan/transaction/xa/LocalXaTransaction.getXid:()Ljavax/transaction/xa/Xid;
      25: aload_1
      26: invokeinterface #21,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      31: pop
      32: return

  public void enlist(javax.transaction.Transaction, org.infinispan.transaction.impl.LocalTransaction);
    Code:
       0: aload_2
       1: checkcast     #13                 // class org/infinispan/transaction/xa/LocalXaTransaction
       4: astore_3
       5: aload_3
       6: invokevirtual #22                 // Method org/infinispan/transaction/xa/LocalXaTransaction.isEnlisted:()Z
       9: ifne          161
      12: aload_1
      13: new           #23                 // class org/infinispan/transaction/xa/TransactionXaAdapter
      16: dup
      17: aload_3
      18: aload_0
      19: aload_0
      20: getfield      #2                  // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
      23: aload_0
      24: getfield      #24                 // Field txCoordinator:Lorg/infinispan/transaction/impl/TransactionCoordinator;
      27: aload_0
      28: getfield      #25                 // Field commandsFactory:Lorg/infinispan/commands/CommandsFactory;
      31: aload_0
      32: getfield      #26                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      35: aload_0
      36: getfield      #27                 // Field clusteringLogic:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      39: aload_0
      40: getfield      #5                  // Field configuration:Lorg/infinispan/configuration/cache/Configuration;
      43: aload_0
      44: getfield      #4                  // Field cacheName:Ljava/lang/String;
      47: aload_0
      48: getfield      #28                 // Field partitionHandlingManager:Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
      51: invokespecial #29                 // Method org/infinispan/transaction/xa/TransactionXaAdapter."<init>":(Lorg/infinispan/transaction/xa/LocalXaTransaction;Lorg/infinispan/transaction/impl/TransactionTable;Lorg/infinispan/transaction/xa/recovery/RecoveryManager;Lorg/infinispan/transaction/impl/TransactionCoordinator;Lorg/infinispan/commands/CommandsFactory;Lorg/infinispan/remoting/rpc/RpcManager;Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;Lorg/infinispan/configuration/cache/Configuration;Ljava/lang/String;Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;)V
      54: invokeinterface #30,  2           // InterfaceMethod javax/transaction/Transaction.enlistResource:(Ljavax/transaction/xa/XAResource;)Z
      59: pop
      60: goto          161
      63: astore        4
      65: aload_3
      66: invokevirtual #15                 // Method org/infinispan/transaction/xa/LocalXaTransaction.getXid:()Ljavax/transaction/xa/Xid;
      69: astore        5
      71: aload         5
      73: ifnull        141
      76: aload_3
      77: invokevirtual #32                 // Method org/infinispan/transaction/xa/LocalXaTransaction.getLookedUpEntries:()Ljava/util/Map;
      80: invokeinterface #33,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      85: ifne          141
      88: getstatic     #34                 // Field log:Lorg/infinispan/util/logging/Log;
      91: ldc           #35                 // String Attempting a rollback to clear stale resources!
      93: invokeinterface #36,  2           // InterfaceMethod org/infinispan/util/logging/Log.debug:(Ljava/lang/Object;)V
      98: aload_0
      99: getfield      #24                 // Field txCoordinator:Lorg/infinispan/transaction/impl/TransactionCoordinator;
     102: aload_3
     103: invokevirtual #37                 // Method org/infinispan/transaction/impl/TransactionCoordinator.rollback:(Lorg/infinispan/transaction/impl/LocalTransaction;)V
     106: goto          141
     109: astore        6
     111: getstatic     #34                 // Field log:Lorg/infinispan/util/logging/Log;
     114: new           #39                 // class java/lang/StringBuilder
     117: dup
     118: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     121: ldc           #41                 // String Caught exception attempting to clean up
     123: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     126: aload         5
     128: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     131: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     134: aload         6
     136: invokeinterface #45,  3           // InterfaceMethod org/infinispan/util/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     141: getstatic     #34                 // Field log:Lorg/infinispan/util/logging/Log;
     144: aload         4
     146: invokeinterface #46,  2           // InterfaceMethod org/infinispan/util/logging/Log.failedToEnlistTransactionXaAdapter:(Ljava/lang/Throwable;)V
     151: new           #47                 // class org/infinispan/commons/CacheException
     154: dup
     155: aload         4
     157: invokespecial #48                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     160: athrow
     161: return
    Exception table:
       from    to  target type
          12    60    63   Class java/lang/Exception
          98   106   109   Class javax/transaction/xa/XAException

  public org.infinispan.transaction.xa.recovery.RecoveryManager getRecoveryManager();
    Code:
       0: aload_0
       1: getfield      #2                  // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
       4: areturn

  public void setRecoveryManager(org.infinispan.transaction.xa.recovery.RecoveryManager);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
       5: return

  public int getLocalTxCount();
    Code:
       0: aload_0
       1: getfield      #10                 // Field xid2LocalTx:Ljava/util/concurrent/ConcurrentMap;
       4: invokeinterface #49,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.size:()I
       9: ireturn

  static {};
    Code:
       0: ldc           #50                 // class org/infinispan/transaction/xa/XaTransactionTable
       2: invokestatic  #51                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #34                 // Field log:Lorg/infinispan/util/logging/Log;
       8: return
}
