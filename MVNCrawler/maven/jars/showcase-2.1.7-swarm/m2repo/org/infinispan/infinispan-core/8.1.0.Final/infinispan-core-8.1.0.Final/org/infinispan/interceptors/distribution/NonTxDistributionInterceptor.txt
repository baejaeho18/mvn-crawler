Compiled from "NonTxDistributionInterceptor.java"
public class org.infinispan.interceptors.distribution.NonTxDistributionInterceptor extends org.infinispan.interceptors.distribution.BaseDistributionInterceptor {
  private static org.infinispan.util.logging.Log log;

  private static final boolean trace;

  public org.infinispan.interceptors.distribution.NonTxDistributionInterceptor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/interceptors/distribution/BaseDistributionInterceptor."<init>":()V
       4: return

  public java.lang.Object visitGetKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #2                  // Method visitGetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitGetCacheEntryCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetCacheEntryCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #2                  // Method visitGetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Ljava/lang/Object;
       6: areturn

  private <T extends org.infinispan.commands.read.AbstractDataCommand & org.infinispan.commands.read.RemoteFetchingCommand> java.lang.Object visitGetCommand(org.infinispan.context.InvocationContext, T) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
       6: ifeq          150
       9: aload_2
      10: invokevirtual #4                  // Method org/infinispan/commands/read/AbstractDataCommand.getKey:()Ljava/lang/Object;
      13: astore_3
      14: aload_1
      15: aload_3
      16: invokeinterface #5,  2            // InterfaceMethod org/infinispan/context/InvocationContext.lookupEntry:(Ljava/lang/Object;)Lorg/infinispan/container/entries/CacheEntry;
      21: astore        4
      23: aload_0
      24: aload         4
      26: invokevirtual #6                  // Method valueIsMissing:(Lorg/infinispan/container/entries/CacheEntry;)Z
      29: ifeq          150
      32: aconst_null
      33: astore        5
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #7                  // Method readNeedsRemoteValue:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Z
      41: ifeq          106
      44: getstatic     #8                  // Field trace:Z
      47: ifeq          61
      50: getstatic     #9                  // Field log:Lorg/infinispan/util/logging/Log;
      53: ldc           #10                 // String Doing a remote get for key %s
      55: aload_3
      56: invokeinterface #11,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      61: aload_0
      62: aload_3
      63: aload_1
      64: iconst_0
      65: aload_2
      66: iconst_0
      67: invokevirtual #12                 // Method retrieveFromRemoteSource:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;ZLorg/infinispan/commands/FlagAffectedCommand;Z)Lorg/infinispan/container/entries/InternalCacheEntry;
      70: astore        5
      72: aload_2
      73: checkcast     #13                 // class org/infinispan/commands/read/RemoteFetchingCommand
      76: aload         5
      78: invokeinterface #14,  2           // InterfaceMethod org/infinispan/commands/read/RemoteFetchingCommand.setRemotelyFetchedValue:(Lorg/infinispan/container/entries/InternalCacheEntry;)V
      83: aload         5
      85: ifnull        106
      88: aload_0
      89: getfield      #15                 // Field entryFactory:Lorg/infinispan/container/EntryFactory;
      92: aload_1
      93: aload_3
      94: aload         5
      96: getstatic     #16                 // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
      99: iconst_0
     100: invokeinterface #17,  6           // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
     105: pop
     106: aload         5
     108: ifnonnull     150
     111: aload_0
     112: aload_0
     113: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
     116: invokeinterface #19,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getReadConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
     121: aload_3
     122: invokevirtual #20                 // Method fetchValueLocallyIfAvailable:(Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/lang/Object;)Lorg/infinispan/container/entries/InternalCacheEntry;
     125: astore        6
     127: aload         6
     129: ifnull        150
     132: aload_0
     133: getfield      #15                 // Field entryFactory:Lorg/infinispan/container/EntryFactory;
     136: aload_1
     137: aload_3
     138: aload         6
     140: getstatic     #16                 // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
     143: iconst_0
     144: invokeinterface #17,  6           // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
     149: pop
     150: aload_0
     151: aload_1
     152: aload_2
     153: invokevirtual #21                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     156: areturn

  public java.lang.Object visitPutKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitPutMapCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutMapCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #23                 // Method org/infinispan/commands/write/PutMapCommand.getMap:()Ljava/util/Map;
       4: astore_3
       5: aload_0
       6: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
       9: invokeinterface #24,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      14: astore        4
      16: aload_0
      17: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      20: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      25: astore        5
      27: aload_1
      28: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      33: ifeq          315
      36: new           #27                 // class java/util/ArrayList
      39: dup
      40: aload_0
      41: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      44: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      49: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
      54: iconst_1
      55: isub
      56: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
      59: astore        6
      61: aload_0
      62: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      65: aload_0
      66: aload_2
      67: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
      70: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      75: astore        7
      77: aload_0
      78: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      81: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      86: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      91: astore        8
      93: aload         8
      95: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     100: ifeq          230
     103: aload         8
     105: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     110: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     113: astore        9
     115: aload         9
     117: aload_0
     118: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     121: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
     126: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     129: ifeq          135
     132: goto          93
     135: aload         4
     137: aload         9
     139: invokeinterface #38,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getPrimarySegmentsForOwner:(Lorg/infinispan/remoting/transport/Address;)Ljava/util/Set;
     144: astore        10
     146: aload         10
     148: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     153: ifne          227
     156: new           #40                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareMap
     159: dup
     160: aload_3
     161: aload         4
     163: aload         10
     165: invokespecial #41                 // Method org/infinispan/distribution/util/ReadOnlySegmentAwareMap."<init>":(Ljava/util/Map;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     168: astore        11
     170: aload         11
     172: invokeinterface #42,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     177: ifne          227
     180: new           #43                 // class org/infinispan/commands/write/PutMapCommand
     183: dup
     184: aload_2
     185: invokespecial #44                 // Method org/infinispan/commands/write/PutMapCommand."<init>":(Lorg/infinispan/commands/write/PutMapCommand;)V
     188: astore        12
     190: aload         12
     192: aload         11
     194: invokevirtual #45                 // Method org/infinispan/commands/write/PutMapCommand.setMap:(Ljava/util/Map;)V
     197: aload_0
     198: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     201: aload         9
     203: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     206: aload         12
     208: aload         7
     210: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     215: astore        13
     217: aload         6
     219: aload         13
     221: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     226: pop
     227: goto          93
     230: aload         6
     232: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     237: ifle          315
     240: aload         6
     242: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     247: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     250: astore        8
     252: aload         6
     254: aload         8
     256: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     261: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     264: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     267: astore        9
     269: aload         9
     271: aload         7
     273: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     276: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     279: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     282: pop
     283: goto          315
     286: astore        10
     288: new           #57                 // class org/infinispan/remoting/RemoteException
     291: dup
     292: ldc           #58                 // String Exception while processing put on primary owner
     294: aload         10
     296: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     299: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     302: athrow
     303: astore        10
     305: new           #62                 // class org/infinispan/commons/CacheException
     308: dup
     309: aload         10
     311: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     314: athrow
     315: aload_2
     316: invokevirtual #64                 // Method org/infinispan/commands/write/PutMapCommand.isForwarded:()Z
     319: ifne          748
     322: aload         4
     324: invokeinterface #65,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumOwners:()I
     329: iconst_1
     330: if_icmple     748
     333: new           #66                 // class java/util/HashMap
     336: dup
     337: invokespecial #67                 // Method java/util/HashMap."<init>":()V
     340: astore        6
     342: aload         4
     344: invokeinterface #68,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumSegments:()I
     349: istore        7
     351: iconst_0
     352: istore        8
     354: iload         8
     356: iload         7
     358: if_icmpge     478
     361: aload         4
     363: iload         8
     365: invokeinterface #69,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.locateOwnersForSegment:(I)Ljava/util/List;
     370: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     375: astore        9
     377: aload         9
     379: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     384: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     387: aload         5
     389: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     392: ifeq          472
     395: aload         9
     397: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     402: ifeq          472
     405: aload         9
     407: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     412: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     415: astore        10
     417: aload         6
     419: aload         10
     421: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     426: checkcast     #71                 // class java/util/Set
     429: astore        11
     431: aload         11
     433: ifnonnull     456
     436: aload         6
     438: aload         10
     440: new           #72                 // class java/util/HashSet
     443: dup
     444: invokespecial #73                 // Method java/util/HashSet."<init>":()V
     447: dup
     448: astore        11
     450: invokeinterface #74,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     455: pop
     456: aload         11
     458: iload         8
     460: invokestatic  #75                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     463: invokeinterface #76,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     468: pop
     469: goto          395
     472: iinc          8, 1
     475: goto          354
     478: aload         6
     480: invokeinterface #77,  1           // InterfaceMethod java/util/Map.size:()I
     485: istore        8
     487: iload         8
     489: ifle          748
     492: new           #27                 // class java/util/ArrayList
     495: dup
     496: iload         8
     498: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
     501: astore        9
     503: aload_0
     504: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     507: aload_0
     508: aload_2
     509: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
     512: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
     517: astore        10
     519: aload_2
     520: getstatic     #78                 // Field org/infinispan/context/Flag.SKIP_LOCKING:Lorg/infinispan/context/Flag;
     523: invokevirtual #79                 // Method org/infinispan/commands/write/PutMapCommand.addFlag:(Lorg/infinispan/context/Flag;)V
     526: aload_2
     527: iconst_1
     528: invokevirtual #80                 // Method org/infinispan/commands/write/PutMapCommand.setForwarded:(Z)V
     531: aload         6
     533: invokeinterface #81,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     538: invokeinterface #82,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     543: astore        11
     545: aload         11
     547: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     552: ifeq          658
     555: aload         11
     557: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     562: checkcast     #83                 // class java/util/Map$Entry
     565: astore        12
     567: aload         12
     569: invokeinterface #84,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     574: checkcast     #71                 // class java/util/Set
     577: astore        13
     579: new           #40                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareMap
     582: dup
     583: aload_3
     584: aload         4
     586: aload         13
     588: invokespecial #41                 // Method org/infinispan/distribution/util/ReadOnlySegmentAwareMap."<init>":(Ljava/util/Map;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     591: astore        14
     593: aload         14
     595: invokeinterface #42,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     600: ifne          655
     603: new           #43                 // class org/infinispan/commands/write/PutMapCommand
     606: dup
     607: aload_2
     608: invokespecial #44                 // Method org/infinispan/commands/write/PutMapCommand."<init>":(Lorg/infinispan/commands/write/PutMapCommand;)V
     611: astore        15
     613: aload         15
     615: aload         14
     617: invokevirtual #45                 // Method org/infinispan/commands/write/PutMapCommand.setMap:(Ljava/util/Map;)V
     620: aload_0
     621: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     624: aload         12
     626: invokeinterface #85,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     631: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     634: aload         15
     636: aload         10
     638: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     643: astore        16
     645: aload         9
     647: aload         16
     649: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     654: pop
     655: goto          545
     658: aload_2
     659: iconst_0
     660: invokevirtual #80                 // Method org/infinispan/commands/write/PutMapCommand.setForwarded:(Z)V
     663: aload         9
     665: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     670: ifle          748
     673: aload         9
     675: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     680: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     683: astore        11
     685: aload         9
     687: aload         11
     689: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     694: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     697: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     700: astore        12
     702: aload         12
     704: aload         10
     706: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     709: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     712: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     715: pop
     716: goto          748
     719: astore        13
     721: new           #57                 // class org/infinispan/remoting/RemoteException
     724: dup
     725: ldc           #86                 // String Exception while processing put on backup owner
     727: aload         13
     729: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     732: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     735: athrow
     736: astore        13
     738: new           #62                 // class org/infinispan/commons/CacheException
     741: dup
     742: aload         13
     744: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     747: athrow
     748: aload_0
     749: aload_1
     750: aload_2
     751: invokevirtual #21                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     754: areturn
    Exception table:
       from    to  target type
         269   283   286   Class java/util/concurrent/ExecutionException
         269   283   303   Class java/util/concurrent/TimeoutException
         702   716   719   Class java/util/concurrent/ExecutionException
         702   716   736   Class java/util/concurrent/TimeoutException

  public java.lang.Object visitRemoveCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.RemoveCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitReplaceCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ReplaceCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitReadWriteKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.ReadWriteKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitReadWriteKeyCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.ReadWriteKeyCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitReadOnlyKeyCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.ReadOnlyKeyCommand) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
       6: ifeq          148
       9: aload_2
      10: invokevirtual #87                 // Method org/infinispan/commands/functional/ReadOnlyKeyCommand.getKey:()Ljava/lang/Object;
      13: astore_3
      14: aload_1
      15: aload_3
      16: invokeinterface #5,  2            // InterfaceMethod org/infinispan/context/InvocationContext.lookupEntry:(Ljava/lang/Object;)Lorg/infinispan/container/entries/CacheEntry;
      21: astore        4
      23: aload_0
      24: aload         4
      26: invokevirtual #6                  // Method valueIsMissing:(Lorg/infinispan/container/entries/CacheEntry;)Z
      29: ifeq          148
      32: aconst_null
      33: astore        5
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #7                  // Method readNeedsRemoteValue:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Z
      41: ifeq          102
      44: getstatic     #8                  // Field trace:Z
      47: ifeq          61
      50: getstatic     #9                  // Field log:Lorg/infinispan/util/logging/Log;
      53: ldc           #10                 // String Doing a remote get for key %s
      55: aload_3
      56: invokeinterface #11,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      61: aload_0
      62: aload_3
      63: aload_1
      64: iconst_0
      65: aload_2
      66: iconst_0
      67: invokevirtual #12                 // Method retrieveFromRemoteSource:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;ZLorg/infinispan/commands/FlagAffectedCommand;Z)Lorg/infinispan/container/entries/InternalCacheEntry;
      70: astore        5
      72: aload         5
      74: ifnull        95
      77: aload_0
      78: getfield      #15                 // Field entryFactory:Lorg/infinispan/container/EntryFactory;
      81: aload_1
      82: aload_3
      83: aload         5
      85: getstatic     #16                 // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
      88: iconst_0
      89: invokeinterface #17,  6           // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
      94: pop
      95: aload_2
      96: aload         5
      98: invokevirtual #88                 // Method org/infinispan/commands/functional/ReadOnlyKeyCommand.perform:(Lorg/infinispan/container/entries/CacheEntry;)Ljava/lang/Object;
     101: areturn
     102: aload_0
     103: aload_0
     104: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
     107: invokeinterface #19,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getReadConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
     112: aload_3
     113: invokevirtual #20                 // Method fetchValueLocallyIfAvailable:(Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/lang/Object;)Lorg/infinispan/container/entries/InternalCacheEntry;
     116: astore        6
     118: aload         6
     120: ifnull        141
     123: aload_0
     124: getfield      #15                 // Field entryFactory:Lorg/infinispan/container/EntryFactory;
     127: aload_1
     128: aload_3
     129: aload         6
     131: getstatic     #16                 // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
     134: iconst_0
     135: invokeinterface #17,  6           // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
     140: pop
     141: aload_2
     142: aload         6
     144: invokevirtual #88                 // Method org/infinispan/commands/functional/ReadOnlyKeyCommand.perform:(Lorg/infinispan/container/entries/CacheEntry;)Ljava/lang/Object;
     147: areturn
     148: aload_0
     149: aload_1
     150: aload_2
     151: invokevirtual #21                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     154: areturn

  public java.lang.Object visitReadOnlyManyCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.ReadOnlyManyCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #89                 // Method org/infinispan/interceptors/distribution/BaseDistributionInterceptor.visitReadOnlyManyCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/functional/ReadOnlyManyCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitWriteOnlyManyEntriesCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.WriteOnlyManyEntriesCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #90                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand.getEntries:()Ljava/util/Map;
       4: astore_3
       5: aload_0
       6: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
       9: invokeinterface #24,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      14: astore        4
      16: aload_0
      17: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      20: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      25: astore        5
      27: aload_1
      28: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      33: ifeq          315
      36: new           #27                 // class java/util/ArrayList
      39: dup
      40: aload_0
      41: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      44: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      49: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
      54: iconst_1
      55: isub
      56: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
      59: astore        6
      61: aload_0
      62: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      65: aload_0
      66: aload_2
      67: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
      70: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      75: astore        7
      77: aload_0
      78: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      81: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      86: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      91: astore        8
      93: aload         8
      95: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     100: ifeq          230
     103: aload         8
     105: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     110: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     113: astore        9
     115: aload         9
     117: aload_0
     118: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     121: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
     126: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     129: ifeq          135
     132: goto          93
     135: aload         4
     137: aload         9
     139: invokeinterface #38,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getPrimarySegmentsForOwner:(Lorg/infinispan/remoting/transport/Address;)Ljava/util/Set;
     144: astore        10
     146: aload         10
     148: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     153: ifne          227
     156: new           #40                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareMap
     159: dup
     160: aload_3
     161: aload         4
     163: aload         10
     165: invokespecial #41                 // Method org/infinispan/distribution/util/ReadOnlySegmentAwareMap."<init>":(Ljava/util/Map;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     168: astore        11
     170: aload         11
     172: invokeinterface #42,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     177: ifne          227
     180: new           #91                 // class org/infinispan/commands/functional/WriteOnlyManyEntriesCommand
     183: dup
     184: aload_2
     185: invokespecial #92                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand."<init>":(Lorg/infinispan/commands/functional/WriteOnlyManyEntriesCommand;)V
     188: astore        12
     190: aload         12
     192: aload         11
     194: invokevirtual #93                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand.setEntries:(Ljava/util/Map;)V
     197: aload_0
     198: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     201: aload         9
     203: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     206: aload         12
     208: aload         7
     210: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     215: astore        13
     217: aload         6
     219: aload         13
     221: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     226: pop
     227: goto          93
     230: aload         6
     232: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     237: ifle          315
     240: aload         6
     242: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     247: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     250: astore        8
     252: aload         6
     254: aload         8
     256: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     261: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     264: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     267: astore        9
     269: aload         9
     271: aload         7
     273: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     276: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     279: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     282: pop
     283: goto          315
     286: astore        10
     288: new           #57                 // class org/infinispan/remoting/RemoteException
     291: dup
     292: ldc           #58                 // String Exception while processing put on primary owner
     294: aload         10
     296: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     299: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     302: athrow
     303: astore        10
     305: new           #62                 // class org/infinispan/commons/CacheException
     308: dup
     309: aload         10
     311: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     314: athrow
     315: aload_2
     316: invokevirtual #94                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand.isForwarded:()Z
     319: ifne          755
     322: aload         4
     324: invokeinterface #65,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumOwners:()I
     329: iconst_1
     330: if_icmple     755
     333: new           #66                 // class java/util/HashMap
     336: dup
     337: invokespecial #67                 // Method java/util/HashMap."<init>":()V
     340: astore        6
     342: aload         4
     344: invokeinterface #68,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumSegments:()I
     349: istore        7
     351: iconst_0
     352: istore        8
     354: iload         8
     356: iload         7
     358: if_icmpge     478
     361: aload         4
     363: iload         8
     365: invokeinterface #69,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.locateOwnersForSegment:(I)Ljava/util/List;
     370: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     375: astore        9
     377: aload         9
     379: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     384: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     387: aload         5
     389: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     392: ifeq          472
     395: aload         9
     397: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     402: ifeq          472
     405: aload         9
     407: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     412: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     415: astore        10
     417: aload         6
     419: aload         10
     421: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     426: checkcast     #71                 // class java/util/Set
     429: astore        11
     431: aload         11
     433: ifnonnull     456
     436: aload         6
     438: aload         10
     440: new           #72                 // class java/util/HashSet
     443: dup
     444: invokespecial #73                 // Method java/util/HashSet."<init>":()V
     447: dup
     448: astore        11
     450: invokeinterface #74,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     455: pop
     456: aload         11
     458: iload         8
     460: invokestatic  #75                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     463: invokeinterface #76,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     468: pop
     469: goto          395
     472: iinc          8, 1
     475: goto          354
     478: aload         6
     480: invokeinterface #77,  1           // InterfaceMethod java/util/Map.size:()I
     485: istore        8
     487: iload         8
     489: ifle          755
     492: new           #27                 // class java/util/ArrayList
     495: dup
     496: iload         8
     498: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
     501: astore        9
     503: aload_0
     504: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     507: aload_0
     508: aload_2
     509: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
     512: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
     517: astore        10
     519: aload_2
     520: iconst_1
     521: anewarray     #95                 // class org/infinispan/context/Flag
     524: dup
     525: iconst_0
     526: getstatic     #78                 // Field org/infinispan/context/Flag.SKIP_LOCKING:Lorg/infinispan/context/Flag;
     529: aastore
     530: invokevirtual #96                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand.setFlags:([Lorg/infinispan/context/Flag;)V
     533: aload_2
     534: iconst_1
     535: invokevirtual #97                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand.setForwarded:(Z)V
     538: aload         6
     540: invokeinterface #81,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     545: invokeinterface #82,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     550: astore        11
     552: aload         11
     554: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     559: ifeq          665
     562: aload         11
     564: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     569: checkcast     #83                 // class java/util/Map$Entry
     572: astore        12
     574: aload         12
     576: invokeinterface #84,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     581: checkcast     #71                 // class java/util/Set
     584: astore        13
     586: new           #40                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareMap
     589: dup
     590: aload_3
     591: aload         4
     593: aload         13
     595: invokespecial #41                 // Method org/infinispan/distribution/util/ReadOnlySegmentAwareMap."<init>":(Ljava/util/Map;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     598: astore        14
     600: aload         14
     602: invokeinterface #42,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     607: ifne          662
     610: new           #91                 // class org/infinispan/commands/functional/WriteOnlyManyEntriesCommand
     613: dup
     614: aload_2
     615: invokespecial #92                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand."<init>":(Lorg/infinispan/commands/functional/WriteOnlyManyEntriesCommand;)V
     618: astore        15
     620: aload         15
     622: aload         14
     624: invokevirtual #93                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand.setEntries:(Ljava/util/Map;)V
     627: aload_0
     628: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     631: aload         12
     633: invokeinterface #85,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     638: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     641: aload         15
     643: aload         10
     645: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     650: astore        16
     652: aload         9
     654: aload         16
     656: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     661: pop
     662: goto          552
     665: aload_2
     666: iconst_0
     667: invokevirtual #97                 // Method org/infinispan/commands/functional/WriteOnlyManyEntriesCommand.setForwarded:(Z)V
     670: aload         9
     672: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     677: ifle          755
     680: aload         9
     682: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     687: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     690: astore        11
     692: aload         9
     694: aload         11
     696: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     701: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     704: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     707: astore        12
     709: aload         12
     711: aload         10
     713: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     716: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     719: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     722: pop
     723: goto          755
     726: astore        13
     728: new           #57                 // class org/infinispan/remoting/RemoteException
     731: dup
     732: ldc           #86                 // String Exception while processing put on backup owner
     734: aload         13
     736: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     739: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     742: athrow
     743: astore        13
     745: new           #62                 // class org/infinispan/commons/CacheException
     748: dup
     749: aload         13
     751: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     754: athrow
     755: aload_0
     756: aload_1
     757: aload_2
     758: invokevirtual #21                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     761: areturn
    Exception table:
       from    to  target type
         269   283   286   Class java/util/concurrent/ExecutionException
         269   283   303   Class java/util/concurrent/TimeoutException
         709   723   726   Class java/util/concurrent/ExecutionException
         709   723   743   Class java/util/concurrent/TimeoutException

  public java.lang.Object visitWriteOnlyManyCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.WriteOnlyManyCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #98                 // Method org/infinispan/commands/functional/WriteOnlyManyCommand.getKeys:()Ljava/util/Set;
       4: astore_3
       5: aload_0
       6: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
       9: invokeinterface #24,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      14: astore        4
      16: aload_0
      17: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      20: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      25: astore        5
      27: aload_1
      28: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      33: ifeq          315
      36: new           #27                 // class java/util/ArrayList
      39: dup
      40: aload_0
      41: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      44: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      49: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
      54: iconst_1
      55: isub
      56: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
      59: astore        6
      61: aload_0
      62: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      65: aload_0
      66: aload_2
      67: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
      70: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      75: astore        7
      77: aload_0
      78: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      81: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      86: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      91: astore        8
      93: aload         8
      95: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     100: ifeq          230
     103: aload         8
     105: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     110: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     113: astore        9
     115: aload         9
     117: aload_0
     118: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     121: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
     126: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     129: ifeq          135
     132: goto          93
     135: aload         4
     137: aload         9
     139: invokeinterface #38,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getPrimarySegmentsForOwner:(Lorg/infinispan/remoting/transport/Address;)Ljava/util/Set;
     144: astore        10
     146: aload         10
     148: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     153: ifne          227
     156: new           #99                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareSet
     159: dup
     160: aload_3
     161: aload         4
     163: aload         10
     165: invokespecial #100                // Method org/infinispan/distribution/util/ReadOnlySegmentAwareSet."<init>":(Ljava/util/Set;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     168: astore        11
     170: aload         11
     172: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     177: ifne          227
     180: new           #101                // class org/infinispan/commands/functional/WriteOnlyManyCommand
     183: dup
     184: aload_2
     185: invokespecial #102                // Method org/infinispan/commands/functional/WriteOnlyManyCommand."<init>":(Lorg/infinispan/commands/functional/WriteOnlyManyCommand;)V
     188: astore        12
     190: aload         12
     192: aload         11
     194: invokevirtual #103                // Method org/infinispan/commands/functional/WriteOnlyManyCommand.setKeys:(Ljava/util/Set;)V
     197: aload_0
     198: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     201: aload         9
     203: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     206: aload         12
     208: aload         7
     210: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     215: astore        13
     217: aload         6
     219: aload         13
     221: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     226: pop
     227: goto          93
     230: aload         6
     232: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     237: ifle          315
     240: aload         6
     242: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     247: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     250: astore        8
     252: aload         6
     254: aload         8
     256: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     261: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     264: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     267: astore        9
     269: aload         9
     271: aload         7
     273: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     276: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     279: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     282: pop
     283: goto          315
     286: astore        10
     288: new           #57                 // class org/infinispan/remoting/RemoteException
     291: dup
     292: ldc           #58                 // String Exception while processing put on primary owner
     294: aload         10
     296: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     299: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     302: athrow
     303: astore        10
     305: new           #62                 // class org/infinispan/commons/CacheException
     308: dup
     309: aload         10
     311: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     314: athrow
     315: aload_2
     316: invokevirtual #104                // Method org/infinispan/commands/functional/WriteOnlyManyCommand.isForwarded:()Z
     319: ifne          755
     322: aload         4
     324: invokeinterface #65,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumOwners:()I
     329: iconst_1
     330: if_icmple     755
     333: new           #66                 // class java/util/HashMap
     336: dup
     337: invokespecial #67                 // Method java/util/HashMap."<init>":()V
     340: astore        6
     342: aload         4
     344: invokeinterface #68,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumSegments:()I
     349: istore        7
     351: iconst_0
     352: istore        8
     354: iload         8
     356: iload         7
     358: if_icmpge     478
     361: aload         4
     363: iload         8
     365: invokeinterface #69,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.locateOwnersForSegment:(I)Ljava/util/List;
     370: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     375: astore        9
     377: aload         9
     379: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     384: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     387: aload         5
     389: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     392: ifeq          472
     395: aload         9
     397: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     402: ifeq          472
     405: aload         9
     407: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     412: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     415: astore        10
     417: aload         6
     419: aload         10
     421: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     426: checkcast     #71                 // class java/util/Set
     429: astore        11
     431: aload         11
     433: ifnonnull     456
     436: aload         6
     438: aload         10
     440: new           #72                 // class java/util/HashSet
     443: dup
     444: invokespecial #73                 // Method java/util/HashSet."<init>":()V
     447: dup
     448: astore        11
     450: invokeinterface #74,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     455: pop
     456: aload         11
     458: iload         8
     460: invokestatic  #75                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     463: invokeinterface #76,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     468: pop
     469: goto          395
     472: iinc          8, 1
     475: goto          354
     478: aload         6
     480: invokeinterface #77,  1           // InterfaceMethod java/util/Map.size:()I
     485: istore        8
     487: iload         8
     489: ifle          755
     492: new           #27                 // class java/util/ArrayList
     495: dup
     496: iload         8
     498: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
     501: astore        9
     503: aload_0
     504: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     507: aload_0
     508: aload_2
     509: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
     512: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
     517: astore        10
     519: aload_2
     520: iconst_1
     521: anewarray     #95                 // class org/infinispan/context/Flag
     524: dup
     525: iconst_0
     526: getstatic     #78                 // Field org/infinispan/context/Flag.SKIP_LOCKING:Lorg/infinispan/context/Flag;
     529: aastore
     530: invokevirtual #105                // Method org/infinispan/commands/functional/WriteOnlyManyCommand.setFlags:([Lorg/infinispan/context/Flag;)V
     533: aload_2
     534: iconst_1
     535: invokevirtual #106                // Method org/infinispan/commands/functional/WriteOnlyManyCommand.setForwarded:(Z)V
     538: aload         6
     540: invokeinterface #81,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     545: invokeinterface #82,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     550: astore        11
     552: aload         11
     554: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     559: ifeq          665
     562: aload         11
     564: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     569: checkcast     #83                 // class java/util/Map$Entry
     572: astore        12
     574: aload         12
     576: invokeinterface #84,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     581: checkcast     #71                 // class java/util/Set
     584: astore        13
     586: new           #99                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareSet
     589: dup
     590: aload_3
     591: aload         4
     593: aload         13
     595: invokespecial #100                // Method org/infinispan/distribution/util/ReadOnlySegmentAwareSet."<init>":(Ljava/util/Set;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     598: astore        14
     600: aload         14
     602: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     607: ifne          662
     610: new           #101                // class org/infinispan/commands/functional/WriteOnlyManyCommand
     613: dup
     614: aload_2
     615: invokespecial #102                // Method org/infinispan/commands/functional/WriteOnlyManyCommand."<init>":(Lorg/infinispan/commands/functional/WriteOnlyManyCommand;)V
     618: astore        15
     620: aload         15
     622: aload         14
     624: invokevirtual #103                // Method org/infinispan/commands/functional/WriteOnlyManyCommand.setKeys:(Ljava/util/Set;)V
     627: aload_0
     628: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     631: aload         12
     633: invokeinterface #85,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     638: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     641: aload         15
     643: aload         10
     645: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     650: astore        16
     652: aload         9
     654: aload         16
     656: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     661: pop
     662: goto          552
     665: aload_2
     666: iconst_0
     667: invokevirtual #106                // Method org/infinispan/commands/functional/WriteOnlyManyCommand.setForwarded:(Z)V
     670: aload         9
     672: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     677: ifle          755
     680: aload         9
     682: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     687: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     690: astore        11
     692: aload         9
     694: aload         11
     696: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     701: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     704: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     707: astore        12
     709: aload         12
     711: aload         10
     713: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     716: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     719: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     722: pop
     723: goto          755
     726: astore        13
     728: new           #57                 // class org/infinispan/remoting/RemoteException
     731: dup
     732: ldc           #86                 // String Exception while processing put on backup owner
     734: aload         13
     736: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     739: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     742: athrow
     743: astore        13
     745: new           #62                 // class org/infinispan/commons/CacheException
     748: dup
     749: aload         13
     751: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     754: athrow
     755: aload_0
     756: aload_1
     757: aload_2
     758: invokevirtual #21                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     761: areturn
    Exception table:
       from    to  target type
         269   283   286   Class java/util/concurrent/ExecutionException
         269   283   303   Class java/util/concurrent/TimeoutException
         709   723   726   Class java/util/concurrent/ExecutionException
         709   723   743   Class java/util/concurrent/TimeoutException

  public java.lang.Object visitReadWriteManyCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.ReadWriteManyCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #107                // Method org/infinispan/commands/functional/ReadWriteManyCommand.getKeys:()Ljava/util/Set;
       4: astore_3
       5: aload_0
       6: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
       9: invokeinterface #24,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      14: astore        4
      16: aload_0
      17: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      20: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      25: astore        5
      27: aload_1
      28: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      33: ifeq          427
      36: new           #27                 // class java/util/ArrayList
      39: dup
      40: aload_0
      41: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      44: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      49: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
      54: iconst_1
      55: isub
      56: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
      59: astore        6
      61: aload_0
      62: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      65: aload_0
      66: aload_2
      67: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
      70: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      75: astore        7
      77: aload_0
      78: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      81: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      86: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      91: astore        8
      93: aload         8
      95: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     100: ifeq          230
     103: aload         8
     105: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     110: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     113: astore        9
     115: aload         9
     117: aload_0
     118: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     121: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
     126: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     129: ifeq          135
     132: goto          93
     135: aload         4
     137: aload         9
     139: invokeinterface #38,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getPrimarySegmentsForOwner:(Lorg/infinispan/remoting/transport/Address;)Ljava/util/Set;
     144: astore        10
     146: aload         10
     148: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     153: ifne          227
     156: new           #99                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareSet
     159: dup
     160: aload_3
     161: aload         4
     163: aload         10
     165: invokespecial #100                // Method org/infinispan/distribution/util/ReadOnlySegmentAwareSet."<init>":(Ljava/util/Set;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     168: astore        11
     170: aload         11
     172: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     177: ifne          227
     180: new           #108                // class org/infinispan/commands/functional/ReadWriteManyCommand
     183: dup
     184: aload_2
     185: invokespecial #109                // Method org/infinispan/commands/functional/ReadWriteManyCommand."<init>":(Lorg/infinispan/commands/functional/ReadWriteManyCommand;)V
     188: astore        12
     190: aload         12
     192: aload         11
     194: invokevirtual #110                // Method org/infinispan/commands/functional/ReadWriteManyCommand.setKeys:(Ljava/util/Set;)V
     197: aload_0
     198: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     201: aload         9
     203: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     206: aload         12
     208: aload         7
     210: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     215: astore        13
     217: aload         6
     219: aload         13
     221: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     226: pop
     227: goto          93
     230: aload         6
     232: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     237: ifle          427
     240: aload         6
     242: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     247: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     250: astore        8
     252: aload         6
     254: aload         8
     256: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     261: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     264: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     267: astore        9
     269: aload         9
     271: aload         7
     273: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     276: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     279: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     282: pop
     283: aload         6
     285: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     290: astore        10
     292: aload         10
     294: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     299: ifeq          395
     302: aload         10
     304: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     309: checkcast     #49                 // class java/util/concurrent/CompletableFuture
     312: astore        11
     314: aload         11
     316: invokevirtual #111                // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     319: checkcast     #112                // class java/util/Map
     322: astore        12
     324: aload         12
     326: invokeinterface #113,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     331: invokeinterface #114,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     336: astore        13
     338: aload         13
     340: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     345: ifeq          392
     348: aload         13
     350: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     355: checkcast     #115                // class org/infinispan/remoting/responses/Response
     358: astore        14
     360: aload         14
     362: invokeinterface #116,  1          // InterfaceMethod org/infinispan/remoting/responses/Response.isSuccessful:()Z
     367: ifeq          389
     370: aload         14
     372: checkcast     #117                // class org/infinispan/remoting/responses/SuccessfulResponse
     375: astore        15
     377: aload_2
     378: aload         15
     380: invokevirtual #118                // Method org/infinispan/remoting/responses/SuccessfulResponse.getResponseValue:()Ljava/lang/Object;
     383: checkcast     #119                // class java/util/List
     386: invokevirtual #120                // Method org/infinispan/commands/functional/ReadWriteManyCommand.addAllRemoteReturns:(Ljava/util/List;)V
     389: goto          338
     392: goto          292
     395: goto          427
     398: astore        10
     400: new           #57                 // class org/infinispan/remoting/RemoteException
     403: dup
     404: ldc           #58                 // String Exception while processing put on primary owner
     406: aload         10
     408: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     411: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     414: athrow
     415: astore        10
     417: new           #62                 // class org/infinispan/commons/CacheException
     420: dup
     421: aload         10
     423: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     426: athrow
     427: aload_2
     428: invokevirtual #121                // Method org/infinispan/commands/functional/ReadWriteManyCommand.isForwarded:()Z
     431: ifne          867
     434: aload         4
     436: invokeinterface #65,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumOwners:()I
     441: iconst_1
     442: if_icmple     867
     445: new           #66                 // class java/util/HashMap
     448: dup
     449: invokespecial #67                 // Method java/util/HashMap."<init>":()V
     452: astore        6
     454: aload         4
     456: invokeinterface #68,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumSegments:()I
     461: istore        7
     463: iconst_0
     464: istore        8
     466: iload         8
     468: iload         7
     470: if_icmpge     590
     473: aload         4
     475: iload         8
     477: invokeinterface #69,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.locateOwnersForSegment:(I)Ljava/util/List;
     482: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     487: astore        9
     489: aload         9
     491: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     496: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     499: aload         5
     501: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     504: ifeq          584
     507: aload         9
     509: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     514: ifeq          584
     517: aload         9
     519: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     524: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     527: astore        10
     529: aload         6
     531: aload         10
     533: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     538: checkcast     #71                 // class java/util/Set
     541: astore        11
     543: aload         11
     545: ifnonnull     568
     548: aload         6
     550: aload         10
     552: new           #72                 // class java/util/HashSet
     555: dup
     556: invokespecial #73                 // Method java/util/HashSet."<init>":()V
     559: dup
     560: astore        11
     562: invokeinterface #74,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     567: pop
     568: aload         11
     570: iload         8
     572: invokestatic  #75                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     575: invokeinterface #76,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     580: pop
     581: goto          507
     584: iinc          8, 1
     587: goto          466
     590: aload         6
     592: invokeinterface #77,  1           // InterfaceMethod java/util/Map.size:()I
     597: istore        8
     599: iload         8
     601: ifle          867
     604: new           #27                 // class java/util/ArrayList
     607: dup
     608: iload         8
     610: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
     613: astore        9
     615: aload_0
     616: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     619: aload_0
     620: aload_2
     621: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
     624: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
     629: astore        10
     631: aload_2
     632: iconst_1
     633: anewarray     #95                 // class org/infinispan/context/Flag
     636: dup
     637: iconst_0
     638: getstatic     #78                 // Field org/infinispan/context/Flag.SKIP_LOCKING:Lorg/infinispan/context/Flag;
     641: aastore
     642: invokevirtual #122                // Method org/infinispan/commands/functional/ReadWriteManyCommand.setFlags:([Lorg/infinispan/context/Flag;)V
     645: aload_2
     646: iconst_1
     647: invokevirtual #123                // Method org/infinispan/commands/functional/ReadWriteManyCommand.setForwarded:(Z)V
     650: aload         6
     652: invokeinterface #81,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     657: invokeinterface #82,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     662: astore        11
     664: aload         11
     666: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     671: ifeq          777
     674: aload         11
     676: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     681: checkcast     #83                 // class java/util/Map$Entry
     684: astore        12
     686: aload         12
     688: invokeinterface #84,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     693: checkcast     #71                 // class java/util/Set
     696: astore        13
     698: new           #99                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareSet
     701: dup
     702: aload_3
     703: aload         4
     705: aload         13
     707: invokespecial #100                // Method org/infinispan/distribution/util/ReadOnlySegmentAwareSet."<init>":(Ljava/util/Set;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     710: astore        14
     712: aload         14
     714: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     719: ifne          774
     722: new           #108                // class org/infinispan/commands/functional/ReadWriteManyCommand
     725: dup
     726: aload_2
     727: invokespecial #109                // Method org/infinispan/commands/functional/ReadWriteManyCommand."<init>":(Lorg/infinispan/commands/functional/ReadWriteManyCommand;)V
     730: astore        15
     732: aload         15
     734: aload         14
     736: invokevirtual #110                // Method org/infinispan/commands/functional/ReadWriteManyCommand.setKeys:(Ljava/util/Set;)V
     739: aload_0
     740: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     743: aload         12
     745: invokeinterface #85,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     750: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     753: aload         15
     755: aload         10
     757: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     762: astore        16
     764: aload         9
     766: aload         16
     768: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     773: pop
     774: goto          664
     777: aload_2
     778: iconst_0
     779: invokevirtual #123                // Method org/infinispan/commands/functional/ReadWriteManyCommand.setForwarded:(Z)V
     782: aload         9
     784: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     789: ifle          867
     792: aload         9
     794: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     799: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     802: astore        11
     804: aload         9
     806: aload         11
     808: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     813: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     816: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     819: astore        12
     821: aload         12
     823: aload         10
     825: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     828: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     831: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     834: pop
     835: goto          867
     838: astore        13
     840: new           #57                 // class org/infinispan/remoting/RemoteException
     843: dup
     844: ldc           #86                 // String Exception while processing put on backup owner
     846: aload         13
     848: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     851: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     854: athrow
     855: astore        13
     857: new           #62                 // class org/infinispan/commons/CacheException
     860: dup
     861: aload         13
     863: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     866: athrow
     867: aload_0
     868: aload_1
     869: aload_2
     870: invokevirtual #21                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     873: areturn
    Exception table:
       from    to  target type
         269   395   398   Class java/util/concurrent/ExecutionException
         269   395   415   Class java/util/concurrent/TimeoutException
         821   835   838   Class java/util/concurrent/ExecutionException
         821   835   855   Class java/util/concurrent/TimeoutException

  public java.lang.Object visitReadWriteManyEntriesCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.ReadWriteManyEntriesCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #124                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.getEntries:()Ljava/util/Map;
       4: astore_3
       5: aload_0
       6: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
       9: invokeinterface #24,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      14: astore        4
      16: aload_0
      17: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      20: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      25: astore        5
      27: aload_1
      28: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      33: ifeq          427
      36: new           #27                 // class java/util/ArrayList
      39: dup
      40: aload_0
      41: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      44: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      49: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
      54: iconst_1
      55: isub
      56: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
      59: astore        6
      61: aload_0
      62: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      65: aload_0
      66: aload_2
      67: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
      70: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      75: astore        7
      77: aload_0
      78: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      81: invokeinterface #28,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
      86: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      91: astore        8
      93: aload         8
      95: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     100: ifeq          230
     103: aload         8
     105: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     110: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     113: astore        9
     115: aload         9
     117: aload_0
     118: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     121: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
     126: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     129: ifeq          135
     132: goto          93
     135: aload         4
     137: aload         9
     139: invokeinterface #38,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getPrimarySegmentsForOwner:(Lorg/infinispan/remoting/transport/Address;)Ljava/util/Set;
     144: astore        10
     146: aload         10
     148: invokeinterface #39,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     153: ifne          227
     156: new           #40                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareMap
     159: dup
     160: aload_3
     161: aload         4
     163: aload         10
     165: invokespecial #41                 // Method org/infinispan/distribution/util/ReadOnlySegmentAwareMap."<init>":(Ljava/util/Map;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     168: astore        11
     170: aload         11
     172: invokeinterface #42,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     177: ifne          227
     180: new           #125                // class org/infinispan/commands/functional/ReadWriteManyEntriesCommand
     183: dup
     184: aload_2
     185: invokespecial #126                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand."<init>":(Lorg/infinispan/commands/functional/ReadWriteManyEntriesCommand;)V
     188: astore        12
     190: aload         12
     192: aload         11
     194: invokevirtual #127                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.setEntries:(Ljava/util/Map;)V
     197: aload_0
     198: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     201: aload         9
     203: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     206: aload         12
     208: aload         7
     210: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     215: astore        13
     217: aload         6
     219: aload         13
     221: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     226: pop
     227: goto          93
     230: aload         6
     232: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     237: ifle          427
     240: aload         6
     242: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     247: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     250: astore        8
     252: aload         6
     254: aload         8
     256: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     261: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     264: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     267: astore        9
     269: aload         9
     271: aload         7
     273: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     276: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     279: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     282: pop
     283: aload         6
     285: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     290: astore        10
     292: aload         10
     294: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     299: ifeq          395
     302: aload         10
     304: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     309: checkcast     #49                 // class java/util/concurrent/CompletableFuture
     312: astore        11
     314: aload         11
     316: invokevirtual #111                // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     319: checkcast     #112                // class java/util/Map
     322: astore        12
     324: aload         12
     326: invokeinterface #113,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     331: invokeinterface #114,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     336: astore        13
     338: aload         13
     340: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     345: ifeq          392
     348: aload         13
     350: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     355: checkcast     #115                // class org/infinispan/remoting/responses/Response
     358: astore        14
     360: aload         14
     362: invokeinterface #116,  1          // InterfaceMethod org/infinispan/remoting/responses/Response.isSuccessful:()Z
     367: ifeq          389
     370: aload         14
     372: checkcast     #117                // class org/infinispan/remoting/responses/SuccessfulResponse
     375: astore        15
     377: aload_2
     378: aload         15
     380: invokevirtual #118                // Method org/infinispan/remoting/responses/SuccessfulResponse.getResponseValue:()Ljava/lang/Object;
     383: checkcast     #119                // class java/util/List
     386: invokevirtual #128                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.addAllRemoteReturns:(Ljava/util/List;)V
     389: goto          338
     392: goto          292
     395: goto          427
     398: astore        10
     400: new           #57                 // class org/infinispan/remoting/RemoteException
     403: dup
     404: ldc           #58                 // String Exception while processing put on primary owner
     406: aload         10
     408: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     411: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     414: athrow
     415: astore        10
     417: new           #62                 // class org/infinispan/commons/CacheException
     420: dup
     421: aload         10
     423: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     426: athrow
     427: aload_2
     428: invokevirtual #129                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.isForwarded:()Z
     431: ifne          867
     434: aload         4
     436: invokeinterface #65,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumOwners:()I
     441: iconst_1
     442: if_icmple     867
     445: new           #66                 // class java/util/HashMap
     448: dup
     449: invokespecial #67                 // Method java/util/HashMap."<init>":()V
     452: astore        6
     454: aload         4
     456: invokeinterface #68,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getNumSegments:()I
     461: istore        7
     463: iconst_0
     464: istore        8
     466: iload         8
     468: iload         7
     470: if_icmpge     590
     473: aload         4
     475: iload         8
     477: invokeinterface #69,  2           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.locateOwnersForSegment:(I)Ljava/util/List;
     482: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     487: astore        9
     489: aload         9
     491: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     496: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     499: aload         5
     501: invokevirtual #37                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     504: ifeq          584
     507: aload         9
     509: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     514: ifeq          584
     517: aload         9
     519: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     524: checkcast     #36                 // class org/infinispan/remoting/transport/Address
     527: astore        10
     529: aload         6
     531: aload         10
     533: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     538: checkcast     #71                 // class java/util/Set
     541: astore        11
     543: aload         11
     545: ifnonnull     568
     548: aload         6
     550: aload         10
     552: new           #72                 // class java/util/HashSet
     555: dup
     556: invokespecial #73                 // Method java/util/HashSet."<init>":()V
     559: dup
     560: astore        11
     562: invokeinterface #74,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     567: pop
     568: aload         11
     570: iload         8
     572: invokestatic  #75                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     575: invokeinterface #76,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     580: pop
     581: goto          507
     584: iinc          8, 1
     587: goto          466
     590: aload         6
     592: invokeinterface #77,  1           // InterfaceMethod java/util/Map.size:()I
     597: istore        8
     599: iload         8
     601: ifle          867
     604: new           #27                 // class java/util/ArrayList
     607: dup
     608: iload         8
     610: invokespecial #30                 // Method java/util/ArrayList."<init>":(I)V
     613: astore        9
     615: aload_0
     616: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     619: aload_0
     620: aload_2
     621: invokevirtual #31                 // Method isSynchronous:(Lorg/infinispan/commands/FlagAffectedCommand;)Z
     624: invokeinterface #32,  2           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
     629: astore        10
     631: aload_2
     632: iconst_1
     633: anewarray     #95                 // class org/infinispan/context/Flag
     636: dup
     637: iconst_0
     638: getstatic     #78                 // Field org/infinispan/context/Flag.SKIP_LOCKING:Lorg/infinispan/context/Flag;
     641: aastore
     642: invokevirtual #130                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.setFlags:([Lorg/infinispan/context/Flag;)V
     645: aload_2
     646: iconst_1
     647: invokevirtual #131                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.setForwarded:(Z)V
     650: aload         6
     652: invokeinterface #81,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     657: invokeinterface #82,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     662: astore        11
     664: aload         11
     666: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     671: ifeq          777
     674: aload         11
     676: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     681: checkcast     #83                 // class java/util/Map$Entry
     684: astore        12
     686: aload         12
     688: invokeinterface #84,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     693: checkcast     #71                 // class java/util/Set
     696: astore        13
     698: new           #40                 // class org/infinispan/distribution/util/ReadOnlySegmentAwareMap
     701: dup
     702: aload_3
     703: aload         4
     705: aload         13
     707: invokespecial #41                 // Method org/infinispan/distribution/util/ReadOnlySegmentAwareMap."<init>":(Ljava/util/Map;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/Set;)V
     710: astore        14
     712: aload         14
     714: invokeinterface #42,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     719: ifne          774
     722: new           #125                // class org/infinispan/commands/functional/ReadWriteManyEntriesCommand
     725: dup
     726: aload_2
     727: invokespecial #126                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand."<init>":(Lorg/infinispan/commands/functional/ReadWriteManyEntriesCommand;)V
     730: astore        15
     732: aload         15
     734: aload         14
     736: invokevirtual #127                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.setEntries:(Ljava/util/Map;)V
     739: aload_0
     740: getfield      #25                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     743: aload         12
     745: invokeinterface #85,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     750: invokestatic  #46                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     753: aload         15
     755: aload         10
     757: invokeinterface #47,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotelyAsync:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/concurrent/CompletableFuture;
     762: astore        16
     764: aload         9
     766: aload         16
     768: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     773: pop
     774: goto          664
     777: aload_2
     778: iconst_0
     779: invokevirtual #131                // Method org/infinispan/commands/functional/ReadWriteManyEntriesCommand.setForwarded:(Z)V
     782: aload         9
     784: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     789: ifle          867
     792: aload         9
     794: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
     799: anewarray     #49                 // class java/util/concurrent/CompletableFuture
     802: astore        11
     804: aload         9
     806: aload         11
     808: invokeinterface #50,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     813: checkcast     #51                 // class "[Ljava/util/concurrent/CompletableFuture;"
     816: invokestatic  #52                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
     819: astore        12
     821: aload         12
     823: aload         10
     825: invokevirtual #53                 // Method org/infinispan/remoting/rpc/RpcOptions.timeout:()J
     828: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     831: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     834: pop
     835: goto          867
     838: astore        13
     840: new           #57                 // class org/infinispan/remoting/RemoteException
     843: dup
     844: ldc           #86                 // String Exception while processing put on backup owner
     846: aload         13
     848: invokevirtual #59                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     851: invokespecial #60                 // Method org/infinispan/remoting/RemoteException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     854: athrow
     855: astore        13
     857: new           #62                 // class org/infinispan/commons/CacheException
     860: dup
     861: aload         13
     863: invokespecial #63                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
     866: athrow
     867: aload_0
     868: aload_1
     869: aload_2
     870: invokevirtual #21                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     873: areturn
    Exception table:
       from    to  target type
         269   395   398   Class java/util/concurrent/ExecutionException
         269   395   415   Class java/util/concurrent/TimeoutException
         821   835   838   Class java/util/concurrent/ExecutionException
         821   835   855   Class java/util/concurrent/TimeoutException

  public java.lang.Object visitWriteOnlyKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.WriteOnlyKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitWriteOnlyKeyCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.functional.WriteOnlyKeyCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
       6: areturn

  protected void remoteGetBeforeWrite(org.infinispan.context.InvocationContext, org.infinispan.commands.write.WriteCommand, java.lang.Object) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: aload_3
       2: invokeinterface #5,  2            // InterfaceMethod org/infinispan/context/InvocationContext.lookupEntry:(Ljava/lang/Object;)Lorg/infinispan/container/entries/CacheEntry;
       7: astore        4
       9: aload_0
      10: aload         4
      12: invokevirtual #6                  // Method valueIsMissing:(Lorg/infinispan/container/entries/CacheEntry;)Z
      15: ifne          19
      18: return
      19: aconst_null
      20: astore        5
      22: aload_0
      23: aload_1
      24: aload_2
      25: aload_3
      26: invokevirtual #132                // Method writeNeedsRemoteValue:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;Ljava/lang/Object;)Z
      29: ifeq          144
      32: aload_0
      33: aload_0
      34: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
      37: invokeinterface #19,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getReadConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      42: aload_3
      43: invokevirtual #133                // Method isValueAvailableLocally:(Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/lang/Object;)Z
      46: ifne          100
      49: getstatic     #8                  // Field trace:Z
      52: ifeq          66
      55: getstatic     #9                  // Field log:Lorg/infinispan/util/logging/Log;
      58: ldc           #10                 // String Doing a remote get for key %s
      60: aload_3
      61: invokeinterface #11,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      66: aload_0
      67: aload_3
      68: aload_1
      69: iconst_0
      70: aload_2
      71: iconst_0
      72: invokevirtual #12                 // Method retrieveFromRemoteSource:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;ZLorg/infinispan/commands/FlagAffectedCommand;Z)Lorg/infinispan/container/entries/InternalCacheEntry;
      75: astore        5
      77: aload         5
      79: ifnull        100
      82: aload_0
      83: getfield      #15                 // Field entryFactory:Lorg/infinispan/container/EntryFactory;
      86: aload_1
      87: aload_3
      88: aload         5
      90: getstatic     #16                 // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
      93: iconst_0
      94: invokeinterface #17,  6           // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
      99: pop
     100: aload         5
     102: ifnonnull     144
     105: aload_0
     106: aload_0
     107: getfield      #18                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
     110: invokeinterface #19,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getReadConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
     115: aload_3
     116: invokevirtual #20                 // Method fetchValueLocallyIfAvailable:(Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/lang/Object;)Lorg/infinispan/container/entries/InternalCacheEntry;
     119: astore        6
     121: aload         6
     123: ifnull        144
     126: aload_0
     127: getfield      #15                 // Field entryFactory:Lorg/infinispan/container/EntryFactory;
     130: aload_1
     131: aload_3
     132: aload         6
     134: getstatic     #16                 // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
     137: iconst_0
     138: invokeinterface #17,  6           // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
     143: pop
     144: return

  protected boolean writeNeedsRemoteValue(org.infinispan.context.InvocationContext, org.infinispan.commands.write.WriteCommand, java.lang.Object);
    Code:
       0: aload_2
       1: getstatic     #134                // Field org/infinispan/context/Flag.CACHE_MODE_LOCAL:Lorg/infinispan/context/Flag;
       4: invokeinterface #135,  2          // InterfaceMethod org/infinispan/commands/write/WriteCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
       9: ifeq          14
      12: iconst_0
      13: ireturn
      14: aload_1
      15: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      20: ifeq          37
      23: aload_2
      24: getstatic     #136                // Field org/infinispan/context/Flag.SKIP_REMOTE_LOOKUP:Lorg/infinispan/context/Flag;
      27: invokeinterface #135,  2          // InterfaceMethod org/infinispan/commands/write/WriteCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
      32: ifeq          37
      35: iconst_0
      36: ireturn
      37: aload_1
      38: invokeinterface #3,  1            // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      43: ifne          59
      46: aload_2
      47: invokeinterface #137,  1          // InterfaceMethod org/infinispan/commands/write/WriteCommand.alwaysReadsExistingValues:()Z
      52: ifeq          59
      55: iconst_1
      56: goto          60
      59: iconst_0
      60: ireturn

  static {};
    Code:
       0: ldc           #138                // class org/infinispan/interceptors/distribution/NonTxDistributionInterceptor
       2: invokestatic  #139                // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #9                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #9                  // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #140,  1          // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #8                  // Field trace:Z
      19: return
}
