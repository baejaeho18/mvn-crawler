Compiled from "DeadlockDetectingInterceptor.java"
public class org.infinispan.interceptors.DeadlockDetectingInterceptor extends org.infinispan.interceptors.base.CommandInterceptor {
  private static final org.infinispan.util.logging.Log log;

  private static final boolean trace;

  public org.infinispan.interceptors.DeadlockDetectingInterceptor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/interceptors/base/CommandInterceptor."<init>":()V
       4: return

  protected org.infinispan.util.logging.Log getLog();
    Code:
       0: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
       3: areturn

  public void start();
    Code:
       0: aload_0
       1: getfield      #3                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       4: invokevirtual #4                  // Method org/infinispan/configuration/cache/Configuration.deadlockDetection:()Lorg/infinispan/configuration/cache/DeadlockDetectionConfiguration;
       7: invokevirtual #5                  // Method org/infinispan/configuration/cache/DeadlockDetectionConfiguration.enabled:()Z
      10: ifne          23
      13: new           #6                  // class java/lang/IllegalStateException
      16: dup
      17: ldc           #7                  // String This interceptor should not be present in the chain as deadlock detection is not used!
      19: invokespecial #8                  // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: return

  public java.lang.Object visitPutKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #9                  // Method handleDataCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitRemoveCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.RemoveCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #9                  // Method handleDataCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitReplaceCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ReplaceCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #9                  // Method handleDataCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitLockControlCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.control.LockControlCommand) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #10,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
       6: checkcast     #11                 // class org/infinispan/transaction/xa/DldGlobalTransaction
       9: astore_3
      10: aload_1
      11: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      16: ifeq          83
      19: aload_3
      20: aload_2
      21: invokevirtual #13                 // Method org/infinispan/commands/control/LockControlCommand.getKeys:()Ljava/util/Collection;
      24: invokevirtual #14                 // Method org/infinispan/transaction/xa/DldGlobalTransaction.setRemoteLockIntention:(Ljava/util/Collection;)V
      27: aload_0
      28: getfield      #3                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
      31: invokevirtual #15                 // Method org/infinispan/configuration/cache/Configuration.clustering:()Lorg/infinispan/configuration/cache/ClusteringConfiguration;
      34: invokevirtual #16                 // Method org/infinispan/configuration/cache/ClusteringConfiguration.cacheMode:()Lorg/infinispan/configuration/cache/CacheMode;
      37: invokevirtual #17                 // Method org/infinispan/configuration/cache/CacheMode.isDistributed:()Z
      40: ifeq          83
      43: getstatic     #18                 // Field trace:Z
      46: ifeq          65
      49: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      52: ldc           #19                 // String Locks as seen at origin are: %s
      54: aload_1
      55: invokeinterface #20,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getLockedKeys:()Ljava/util/Set;
      60: invokeinterface #21,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      65: aload_1
      66: invokeinterface #10,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
      71: checkcast     #11                 // class org/infinispan/transaction/xa/DldGlobalTransaction
      74: aload_1
      75: invokeinterface #20,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getLockedKeys:()Ljava/util/Set;
      80: invokevirtual #22                 // Method org/infinispan/transaction/xa/DldGlobalTransaction.setLocksHeldAtOrigin:(Ljava/util/Set;)V
      83: aload_0
      84: aload_1
      85: aload_2
      86: invokespecial #9                  // Method handleDataCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      89: areturn

  public java.lang.Object visitPrepareCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.PrepareCommand) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #10,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
       6: checkcast     #11                 // class org/infinispan/transaction/xa/DldGlobalTransaction
       9: astore_3
      10: aload_1
      11: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      16: ifeq          27
      19: aload_3
      20: aload_2
      21: invokevirtual #23                 // Method org/infinispan/commands/tx/PrepareCommand.getAffectedKeys:()Ljava/util/Set;
      24: invokevirtual #14                 // Method org/infinispan/transaction/xa/DldGlobalTransaction.setRemoteLockIntention:(Ljava/util/Collection;)V
      27: aload_0
      28: aload_1
      29: aload_2
      30: invokevirtual #24                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      33: astore        4
      35: aload_1
      36: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      41: ifeq          51
      44: aload_3
      45: invokestatic  #25                 // Method org/infinispan/commons/util/InfinispanCollections.emptySet:()Ljava/util/Set;
      48: invokevirtual #14                 // Method org/infinispan/transaction/xa/DldGlobalTransaction.setRemoteLockIntention:(Ljava/util/Collection;)V
      51: aload         4
      53: areturn

  private java.lang.Object handleDataCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.VisitableCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #24                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  static {};
    Code:
       0: ldc           #26                 // class org/infinispan/interceptors/DeadlockDetectingInterceptor
       2: invokestatic  #27                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #28,  1           // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #18                 // Field trace:Z
      19: return
}
