Compiled from "TransactionTable.java"
class org.infinispan.transaction.impl.TransactionTable$CompletedTransactionsInfo {
  final org.infinispan.commons.util.concurrent.jdk8backported.EquivalentConcurrentHashMapV8<org.infinispan.transaction.xa.GlobalTransaction, org.infinispan.transaction.impl.TransactionTable$CompletedTransactionInfo> completedTransactions;

  final org.infinispan.commons.util.concurrent.jdk8backported.EquivalentConcurrentHashMapV8<org.infinispan.remoting.transport.Address, java.lang.Long> nodeMaxPrunedTxIds;

  volatile long globalMaxPrunedTxId;

  final org.infinispan.transaction.impl.TransactionTable this$0;

  public org.infinispan.transaction.impl.TransactionTable$CompletedTransactionsInfo(org.infinispan.transaction.impl.TransactionTable);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/infinispan/transaction/impl/TransactionTable;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #3                  // class org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8
      13: dup
      14: invokestatic  #4                  // Method org/infinispan/commons/equivalence/AnyEquivalence.getInstance:()Lorg/infinispan/commons/equivalence/AnyEquivalence;
      17: invokestatic  #4                  // Method org/infinispan/commons/equivalence/AnyEquivalence.getInstance:()Lorg/infinispan/commons/equivalence/AnyEquivalence;
      20: invokespecial #5                  // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8."<init>":(Lorg/infinispan/commons/equivalence/Equivalence;Lorg/infinispan/commons/equivalence/Equivalence;)V
      23: putfield      #6                  // Field nodeMaxPrunedTxIds:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      26: aload_0
      27: new           #3                  // class org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8
      30: dup
      31: invokestatic  #4                  // Method org/infinispan/commons/equivalence/AnyEquivalence.getInstance:()Lorg/infinispan/commons/equivalence/AnyEquivalence;
      34: invokestatic  #4                  // Method org/infinispan/commons/equivalence/AnyEquivalence.getInstance:()Lorg/infinispan/commons/equivalence/AnyEquivalence;
      37: invokespecial #5                  // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8."<init>":(Lorg/infinispan/commons/equivalence/Equivalence;Lorg/infinispan/commons/equivalence/Equivalence;)V
      40: putfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      43: aload_0
      44: ldc2_w        #8                  // long -1l
      47: putfield      #10                 // Field globalMaxPrunedTxId:J
      50: return

  public void markTransactionCompleted(org.infinispan.transaction.xa.GlobalTransaction, boolean);
    Code:
       0: invokestatic  #11                 // Method org/infinispan/transaction/impl/TransactionTable.access$200:()Z
       3: ifeq          17
       6: invokestatic  #12                 // Method org/infinispan/transaction/impl/TransactionTable.access$300:()Lorg/infinispan/util/logging/Log;
       9: ldc           #13                 // String Marking transaction %s as completed
      11: aload_1
      12: invokeinterface #14,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      17: aload_0
      18: getfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      21: aload_1
      22: new           #15                 // class org/infinispan/transaction/impl/TransactionTable$CompletedTransactionInfo
      25: dup
      26: aload_0
      27: getfield      #1                  // Field this$0:Lorg/infinispan/transaction/impl/TransactionTable;
      30: invokestatic  #16                 // Method org/infinispan/transaction/impl/TransactionTable.access$400:(Lorg/infinispan/transaction/impl/TransactionTable;)Lorg/infinispan/util/TimeService;
      33: invokeinterface #17,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
      38: iload_2
      39: aconst_null
      40: invokespecial #18                 // Method org/infinispan/transaction/impl/TransactionTable$CompletedTransactionInfo."<init>":(JZLorg/infinispan/transaction/impl/TransactionTable$1;)V
      43: invokevirtual #19                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      46: pop
      47: return

  public boolean isTransactionCompleted(org.infinispan.transaction.xa.GlobalTransaction);
    Code:
       0: aload_0
       1: getfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
       4: aload_1
       5: invokevirtual #20                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.containsKey:(Ljava/lang/Object;)Z
       8: ifeq          13
      11: iconst_1
      12: ireturn
      13: aload_1
      14: invokevirtual #21                 // Method org/infinispan/transaction/xa/GlobalTransaction.getId:()J
      17: aload_0
      18: getfield      #10                 // Field globalMaxPrunedTxId:J
      21: lcmp
      22: ifle          27
      25: iconst_0
      26: ireturn
      27: aload_0
      28: getfield      #6                  // Field nodeMaxPrunedTxIds:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      31: aload_1
      32: invokevirtual #22                 // Method org/infinispan/transaction/xa/GlobalTransaction.getAddress:()Lorg/infinispan/remoting/transport/Address;
      35: invokevirtual #23                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.get:(Ljava/lang/Object;)Ljava/lang/Object;
      38: checkcast     #24                 // class java/lang/Long
      41: astore_2
      42: aload_2
      43: ifnull        62
      46: aload_1
      47: invokevirtual #21                 // Method org/infinispan/transaction/xa/GlobalTransaction.getId:()J
      50: aload_2
      51: invokevirtual #25                 // Method java/lang/Long.longValue:()J
      54: lcmp
      55: ifgt          62
      58: iconst_1
      59: goto          63
      62: iconst_0
      63: ireturn

  public org.infinispan.transaction.impl.TransactionTable$CompletedTransactionStatus getTransactionStatus(org.infinispan.transaction.xa.GlobalTransaction);
    Code:
       0: aload_0
       1: getfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
       4: aload_1
       5: invokevirtual #23                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #15                 // class org/infinispan/transaction/impl/TransactionTable$CompletedTransactionInfo
      11: astore_2
      12: aload_2
      13: ifnull        33
      16: aload_2
      17: getfield      #26                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionInfo.successful:Z
      20: ifeq          29
      23: getstatic     #27                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus.COMMITTED:Lorg/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus;
      26: goto          32
      29: getstatic     #28                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus.ABORTED:Lorg/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus;
      32: areturn
      33: aload_1
      34: invokevirtual #21                 // Method org/infinispan/transaction/xa/GlobalTransaction.getId:()J
      37: aload_0
      38: getfield      #10                 // Field globalMaxPrunedTxId:J
      41: lcmp
      42: ifle          49
      45: getstatic     #29                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus.NOT_COMPLETED:Lorg/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus;
      48: areturn
      49: aload_0
      50: getfield      #6                  // Field nodeMaxPrunedTxIds:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      53: aload_1
      54: invokevirtual #22                 // Method org/infinispan/transaction/xa/GlobalTransaction.getAddress:()Lorg/infinispan/remoting/transport/Address;
      57: invokevirtual #23                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.get:(Ljava/lang/Object;)Ljava/lang/Object;
      60: checkcast     #24                 // class java/lang/Long
      63: astore_3
      64: aload_3
      65: ifnonnull     72
      68: getstatic     #29                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus.NOT_COMPLETED:Lorg/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus;
      71: areturn
      72: aload_1
      73: invokevirtual #21                 // Method org/infinispan/transaction/xa/GlobalTransaction.getId:()J
      76: aload_3
      77: invokevirtual #25                 // Method java/lang/Long.longValue:()J
      80: lcmp
      81: ifle          88
      84: getstatic     #29                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus.NOT_COMPLETED:Lorg/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus;
      87: areturn
      88: getstatic     #30                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus.EXPIRED:Lorg/infinispan/transaction/impl/TransactionTable$CompletedTransactionStatus;
      91: areturn

  public void cleanupCompletedTransactions();
    Code:
       0: aload_0
       1: getfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
       4: invokevirtual #31                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.isEmpty:()Z
       7: ifeq          11
      10: return
      11: invokestatic  #11                 // Method org/infinispan/transaction/impl/TransactionTable.access$200:()Z
      14: ifeq          34
      17: invokestatic  #12                 // Method org/infinispan/transaction/impl/TransactionTable.access$300:()Lorg/infinispan/util/logging/Log;
      20: ldc           #32                 // String About to cleanup completed transaction. Initial size is %d
      22: aload_0
      23: getfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      26: invokevirtual #33                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.size:()I
      29: invokeinterface #34,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;I)V
      34: aload_0
      35: getfield      #1                  // Field this$0:Lorg/infinispan/transaction/impl/TransactionTable;
      38: invokestatic  #16                 // Method org/infinispan/transaction/impl/TransactionTable.access$400:(Lorg/infinispan/transaction/impl/TransactionTable;)Lorg/infinispan/util/TimeService;
      41: invokeinterface #17,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
      46: lstore_1
      47: aload_0
      48: getfield      #1                  // Field this$0:Lorg/infinispan/transaction/impl/TransactionTable;
      51: invokestatic  #16                 // Method org/infinispan/transaction/impl/TransactionTable.access$400:(Lorg/infinispan/transaction/impl/TransactionTable;)Lorg/infinispan/util/TimeService;
      54: invokeinterface #17,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
      59: getstatic     #35                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      62: aload_0
      63: getfield      #1                  // Field this$0:Lorg/infinispan/transaction/impl/TransactionTable;
      66: getfield      #36                 // Field org/infinispan/transaction/impl/TransactionTable.configuration:Lorg/infinispan/configuration/cache/Configuration;
      69: invokevirtual #37                 // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
      72: invokevirtual #38                 // Method org/infinispan/configuration/cache/TransactionConfiguration.completedTxTimeout:()J
      75: invokevirtual #39                 // Method java/util/concurrent/TimeUnit.toNanos:(J)J
      78: lsub
      79: lstore_3
      80: iconst_0
      81: istore        5
      83: new           #40                 // class java/util/HashSet
      86: dup
      87: invokespecial #41                 // Method java/util/HashSet."<init>":()V
      90: astore        6
      92: aload_0
      93: getfield      #6                  // Field nodeMaxPrunedTxIds:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      96: invokevirtual #42                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.entrySet:()Ljava/util/Set;
      99: invokeinterface #43,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     104: astore        7
     106: aload         7
     108: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     113: ifeq          173
     116: aload         7
     118: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     123: checkcast     #46                 // class java/util/Map$Entry
     126: astore        8
     128: aload_0
     129: getfield      #1                  // Field this$0:Lorg/infinispan/transaction/impl/TransactionTable;
     132: getfield      #47                 // Field org/infinispan/transaction/impl/TransactionTable.rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
     135: invokeinterface #48,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
     140: aload         8
     142: invokeinterface #49,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     147: invokeinterface #50,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     152: ifne          170
     155: aload         6
     157: aload         8
     159: invokeinterface #49,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     164: invokeinterface #51,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     169: pop
     170: goto          106
     173: aload_0
     174: getfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
     177: invokevirtual #42                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.entrySet:()Ljava/util/Set;
     180: invokeinterface #43,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     185: astore        7
     187: aload         7
     189: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     194: ifeq          308
     197: aload         7
     199: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     204: checkcast     #46                 // class java/util/Map$Entry
     207: astore        8
     209: aload         8
     211: invokeinterface #52,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     216: checkcast     #15                 // class org/infinispan/transaction/impl/TransactionTable$CompletedTransactionInfo
     219: astore        9
     221: lload_3
     222: aload         9
     224: getfield      #53                 // Field org/infinispan/transaction/impl/TransactionTable$CompletedTransactionInfo.timestamp:J
     227: lsub
     228: lconst_0
     229: lcmp
     230: ifle          284
     233: aload         8
     235: invokeinterface #49,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     240: checkcast     #54                 // class org/infinispan/transaction/xa/GlobalTransaction
     243: invokevirtual #21                 // Method org/infinispan/transaction/xa/GlobalTransaction.getId:()J
     246: lstore        10
     248: aload         8
     250: invokeinterface #49,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     255: checkcast     #54                 // class org/infinispan/transaction/xa/GlobalTransaction
     258: invokevirtual #22                 // Method org/infinispan/transaction/xa/GlobalTransaction.getAddress:()Lorg/infinispan/remoting/transport/Address;
     261: astore        12
     263: aload_0
     264: lload         10
     266: aload         12
     268: invokespecial #55                 // Method updateLastPrunedTxId:(JLorg/infinispan/remoting/transport/Address;)V
     271: aload         7
     273: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.remove:()V
     278: iinc          5, 1
     281: goto          305
     284: aload         6
     286: aload         8
     288: invokeinterface #49,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     293: checkcast     #54                 // class org/infinispan/transaction/xa/GlobalTransaction
     296: invokevirtual #22                 // Method org/infinispan/transaction/xa/GlobalTransaction.getAddress:()Lorg/infinispan/remoting/transport/Address;
     299: invokeinterface #57,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     304: pop
     305: goto          187
     308: aload         6
     310: invokeinterface #43,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     315: astore        8
     317: aload         8
     319: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     324: ifeq          352
     327: aload         8
     329: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     334: checkcast     #58                 // class org/infinispan/remoting/transport/Address
     337: astore        9
     339: aload_0
     340: getfield      #6                  // Field nodeMaxPrunedTxIds:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
     343: aload         9
     345: invokevirtual #59                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     348: pop
     349: goto          317
     352: aload_0
     353: getfield      #1                  // Field this$0:Lorg/infinispan/transaction/impl/TransactionTable;
     356: invokestatic  #16                 // Method org/infinispan/transaction/impl/TransactionTable.access$400:(Lorg/infinispan/transaction/impl/TransactionTable;)Lorg/infinispan/util/TimeService;
     359: lload_1
     360: getstatic     #35                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     363: invokeinterface #60,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     368: lstore        8
     370: invokestatic  #11                 // Method org/infinispan/transaction/impl/TransactionTable.access$200:()Z
     373: ifeq          399
     376: invokestatic  #12                 // Method org/infinispan/transaction/impl/TransactionTable.access$300:()Lorg/infinispan/util/logging/Log;
     379: ldc           #61                 // String Finished cleaning up completed transactions in %d millis, %d transactions were removed, current number of completed transactions is %d
     381: iload         5
     383: i2l
     384: lload         8
     386: aload_0
     387: getfield      #7                  // Field completedTransactions:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
     390: invokevirtual #33                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.size:()I
     393: i2l
     394: invokeinterface #62,  8           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;JJJ)V
     399: invokestatic  #11                 // Method org/infinispan/transaction/impl/TransactionTable.access$200:()Z
     402: ifeq          423
     405: invokestatic  #12                 // Method org/infinispan/transaction/impl/TransactionTable.access$300:()Lorg/infinispan/util/logging/Log;
     408: ldc           #63                 // String Last pruned transaction ids were updated: %d, %s
     410: aload_0
     411: getfield      #10                 // Field globalMaxPrunedTxId:J
     414: aload_0
     415: getfield      #6                  // Field nodeMaxPrunedTxIds:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
     418: invokeinterface #64,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;JLjava/lang/Object;)V
     423: goto          442
     426: astore_1
     427: invokestatic  #12                 // Method org/infinispan/transaction/impl/TransactionTable.access$300:()Lorg/infinispan/util/logging/Log;
     430: aload_1
     431: ldc           #66                 // String Failed to cleanup completed transactions: %s
     433: aload_1
     434: invokevirtual #67                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     437: invokeinterface #68,  4           // InterfaceMethod org/infinispan/util/logging/Log.errorf:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/Object;)V
     442: return
    Exception table:
       from    to  target type
          11   423   426   Class java/lang/Exception

  private void updateLastPrunedTxId(long, org.infinispan.remoting.transport.Address);
    Code:
       0: lload_1
       1: aload_0
       2: getfield      #10                 // Field globalMaxPrunedTxId:J
       5: lcmp
       6: ifle          14
       9: aload_0
      10: lload_1
      11: putfield      #10                 // Field globalMaxPrunedTxId:J
      14: aload_0
      15: getfield      #6                  // Field nodeMaxPrunedTxIds:Lorg/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8;
      18: aload_3
      19: lload_1
      20: invokedynamic #69,  0             // InvokeDynamic #0:apply:(J)Ljava/util/function/BiFunction;
      25: invokevirtual #70                 // Method org/infinispan/commons/util/concurrent/jdk8backported/EquivalentConcurrentHashMapV8.compute:(Ljava/lang/Object;Ljava/util/function/BiFunction;)Ljava/lang/Object;
      28: pop
      29: return

  private static java.lang.Long lambda$updateLastPrunedTxId$14(long, org.infinispan.remoting.transport.Address, java.lang.Long);
    Code:
       0: aload_3
       1: ifnull        15
       4: lload_0
       5: aload_3
       6: invokevirtual #25                 // Method java/lang/Long.longValue:()J
       9: lcmp
      10: ifgt          15
      13: aload_3
      14: areturn
      15: lload_0
      16: invokestatic  #71                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      19: areturn
}
