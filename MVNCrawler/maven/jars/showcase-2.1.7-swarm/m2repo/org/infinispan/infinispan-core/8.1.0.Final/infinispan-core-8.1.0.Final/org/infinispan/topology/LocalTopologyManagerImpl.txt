Compiled from "LocalTopologyManagerImpl.java"
public class org.infinispan.topology.LocalTopologyManagerImpl implements org.infinispan.topology.LocalTopologyManager,org.infinispan.globalstate.GlobalStateProvider {
  private static org.infinispan.util.logging.Log log;

  private static final boolean trace;

  private org.infinispan.remoting.transport.Transport transport;

  private java.util.concurrent.ExecutorService asyncTransportExecutor;

  private org.infinispan.factories.GlobalComponentRegistry gcr;

  private org.infinispan.util.TimeService timeService;

  private org.infinispan.globalstate.GlobalStateManager globalStateManager;

  private final org.infinispan.util.concurrent.WithinThreadExecutor withinThreadExecutor;

  private final java.util.Map<java.lang.String, org.infinispan.topology.LocalCacheStatus> runningCaches;

  private volatile boolean running;

  private org.infinispan.topology.PersistentUUID persistentUUID;

  public org.infinispan.topology.LocalTopologyManagerImpl();
    Code:
       0: aload_0
       1: invokespecial #5                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #6                  // class org/infinispan/util/concurrent/WithinThreadExecutor
       8: dup
       9: invokespecial #7                  // Method org/infinispan/util/concurrent/WithinThreadExecutor."<init>":()V
      12: putfield      #8                  // Field withinThreadExecutor:Lorg/infinispan/util/concurrent/WithinThreadExecutor;
      15: aload_0
      16: new           #9                  // class java/util/HashMap
      19: dup
      20: invokespecial #10                 // Method java/util/HashMap."<init>":()V
      23: invokestatic  #11                 // Method java/util/Collections.synchronizedMap:(Ljava/util/Map;)Ljava/util/Map;
      26: putfield      #12                 // Field runningCaches:Ljava/util/Map;
      29: return

  public void inject(org.infinispan.remoting.transport.Transport, java.util.concurrent.ExecutorService, org.infinispan.factories.GlobalComponentRegistry, org.infinispan.util.TimeService, org.infinispan.globalstate.GlobalStateManager);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       5: aload_0
       6: aload_2
       7: putfield      #13                 // Field asyncTransportExecutor:Ljava/util/concurrent/ExecutorService;
      10: aload_0
      11: aload_3
      12: putfield      #2                  // Field gcr:Lorg/infinispan/factories/GlobalComponentRegistry;
      15: aload_0
      16: aload         4
      18: putfield      #14                 // Field timeService:Lorg/infinispan/util/TimeService;
      21: aload         5
      23: ifnull        40
      26: aload_0
      27: aload         5
      29: putfield      #15                 // Field globalStateManager:Lorg/infinispan/globalstate/GlobalStateManager;
      32: aload         5
      34: aload_0
      35: invokeinterface #16,  2           // InterfaceMethod org/infinispan/globalstate/GlobalStateManager.registerStateProvider:(Lorg/infinispan/globalstate/GlobalStateProvider;)V
      40: return

  public void start();
    Code:
       0: getstatic     #4                  // Field trace:Z
       3: ifeq          25
       6: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       9: ldc           #17                 // String Starting LocalTopologyManager on %s
      11: aload_0
      12: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      15: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      20: invokeinterface #19,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      25: aload_0
      26: getfield      #20                 // Field persistentUUID:Lorg/infinispan/topology/PersistentUUID;
      29: ifnonnull     55
      32: aload_0
      33: invokestatic  #21                 // Method org/infinispan/topology/PersistentUUID.randomUUID:()Lorg/infinispan/topology/PersistentUUID;
      36: putfield      #20                 // Field persistentUUID:Lorg/infinispan/topology/PersistentUUID;
      39: aload_0
      40: getfield      #15                 // Field globalStateManager:Lorg/infinispan/globalstate/GlobalStateManager;
      43: ifnull        55
      46: aload_0
      47: getfield      #15                 // Field globalStateManager:Lorg/infinispan/globalstate/GlobalStateManager;
      50: invokeinterface #22,  1           // InterfaceMethod org/infinispan/globalstate/GlobalStateManager.writeGlobalState:()V
      55: aload_0
      56: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      59: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      64: aload_0
      65: getfield      #20                 // Field persistentUUID:Lorg/infinispan/topology/PersistentUUID;
      68: invokestatic  #23                 // Method org/infinispan/remoting/transport/jgroups/JGroupsAddressCache.putAddressPersistentUUID:(Ljava/lang/Object;Lorg/infinispan/topology/PersistentUUID;)V
      71: aload_0
      72: iconst_1
      73: putfield      #24                 // Field running:Z
      76: return

  public void stop();
    Code:
       0: getstatic     #4                  // Field trace:Z
       3: ifeq          25
       6: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       9: ldc           #25                 // String Stopping LocalTopologyManager on %s
      11: aload_0
      12: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      15: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      20: invokeinterface #19,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      25: aload_0
      26: iconst_0
      27: putfield      #24                 // Field running:Z
      30: aload_0
      31: getfield      #8                  // Field withinThreadExecutor:Lorg/infinispan/util/concurrent/WithinThreadExecutor;
      34: invokevirtual #26                 // Method org/infinispan/util/concurrent/WithinThreadExecutor.shutdown:()V
      37: return

  public org.infinispan.topology.CacheTopology join(java.lang.String, org.infinispan.topology.CacheJoinInfo, org.infinispan.topology.CacheTopologyHandler, org.infinispan.partitionhandling.impl.PartitionHandlingManager) throws java.lang.Exception;
    Code:
       0: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       3: ldc           #27                 // String Node %s joining cache %s
       5: aload_0
       6: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       9: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      14: aload_1
      15: invokeinterface #28,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      20: aload_2
      21: invokevirtual #29                 // Method org/infinispan/topology/CacheJoinInfo.isTotalOrder:()Z
      24: ifeq          34
      27: aload_0
      28: getfield      #8                  // Field withinThreadExecutor:Lorg/infinispan/util/concurrent/WithinThreadExecutor;
      31: goto          38
      34: aload_0
      35: getfield      #13                 // Field asyncTransportExecutor:Ljava/util/concurrent/ExecutorService;
      38: astore        5
      40: new           #30                 // class org/infinispan/topology/LocalCacheStatus
      43: dup
      44: aload_2
      45: aload_3
      46: aload         4
      48: aload         5
      50: invokespecial #31                 // Method org/infinispan/topology/LocalCacheStatus."<init>":(Lorg/infinispan/topology/CacheJoinInfo;Lorg/infinispan/topology/CacheTopologyHandler;Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;Ljava/util/concurrent/ExecutorService;)V
      53: astore        6
      55: aload_0
      56: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      59: aload_1
      60: aload         6
      62: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      67: pop
      68: aload_2
      69: invokevirtual #33                 // Method org/infinispan/topology/CacheJoinInfo.getTimeout:()J
      72: lstore        7
      74: aload_0
      75: getfield      #14                 // Field timeService:Lorg/infinispan/util/TimeService;
      78: lload         7
      80: getstatic     #34                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      83: invokeinterface #35,  4           // InterfaceMethod org/infinispan/util/TimeService.expectedEndTime:(JLjava/util/concurrent/TimeUnit;)J
      88: lstore        9
      90: aload         6
      92: invokevirtual #36                 // Method org/infinispan/topology/LocalCacheStatus.getTopologyUpdatesCompletionService:()Lorg/infinispan/executors/SemaphoreCompletionService;
      95: invokevirtual #37                 // Method org/infinispan/executors/SemaphoreCompletionService.continueTaskInBackground:()V
      98: aload_0
      99: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
     102: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
     107: istore        11
     109: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
     112: dup
     113: aload_1
     114: getstatic     #40                 // Field org/infinispan/topology/CacheTopologyControlCommand$Type.JOIN:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
     117: aload_0
     118: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
     121: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
     126: aload_2
     127: iload         11
     129: invokespecial #41                 // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;Lorg/infinispan/topology/CacheJoinInfo;I)V
     132: astore        12
     134: aload_0
     135: aload         12
     137: lload         7
     139: invokespecial #42                 // Method executeOnCoordinator:(Lorg/infinispan/commands/ReplicableCommand;J)Ljava/lang/Object;
     142: checkcast     #43                 // class org/infinispan/topology/CacheStatusResponse
     145: astore        13
     147: aload         13
     149: ifnull        214
     152: aload_0
     153: aload_1
     154: aload         13
     156: invokevirtual #44                 // Method org/infinispan/topology/CacheStatusResponse.getCacheTopology:()Lorg/infinispan/topology/CacheTopology;
     159: aload         13
     161: invokevirtual #45                 // Method org/infinispan/topology/CacheStatusResponse.getAvailabilityMode:()Lorg/infinispan/partitionhandling/AvailabilityMode;
     164: iload         11
     166: aload_0
     167: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
     170: invokeinterface #46,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getCoordinator:()Lorg/infinispan/remoting/transport/Address;
     175: aload         6
     177: invokevirtual #47                 // Method doHandleTopologyUpdate:(Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/partitionhandling/AvailabilityMode;ILorg/infinispan/remoting/transport/Address;Lorg/infinispan/topology/LocalCacheStatus;)V
     180: aload_0
     181: aload_1
     182: aload         13
     184: invokevirtual #48                 // Method org/infinispan/topology/CacheStatusResponse.getStableTopology:()Lorg/infinispan/topology/CacheTopology;
     187: iload         11
     189: aload         6
     191: invokevirtual #49                 // Method doHandleStableTopologyUpdate:(Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;ILorg/infinispan/topology/LocalCacheStatus;)V
     194: aload         13
     196: invokevirtual #44                 // Method org/infinispan/topology/CacheStatusResponse.getCacheTopology:()Lorg/infinispan/topology/CacheTopology;
     199: astore        14
     201: aload         6
     203: invokevirtual #36                 // Method org/infinispan/topology/LocalCacheStatus.getTopologyUpdatesCompletionService:()Lorg/infinispan/executors/SemaphoreCompletionService;
     206: aconst_null
     207: invokevirtual #50                 // Method org/infinispan/executors/SemaphoreCompletionService.backgroundTaskFinished:(Ljava/util/concurrent/Callable;)Ljava/util/concurrent/Future;
     210: pop
     211: aload         14
     213: areturn
     214: goto          255
     217: astore        12
     219: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     222: aload         12
     224: ldc           #52                 // String Error sending join request for cache %s to coordinator
     226: aload_1
     227: invokeinterface #53,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/Object;)V
     232: aload_0
     233: getfield      #14                 // Field timeService:Lorg/infinispan/util/TimeService;
     236: lload         9
     238: invokeinterface #54,  3           // InterfaceMethod org/infinispan/util/TimeService.isTimeExpired:(J)Z
     243: ifeq          249
     246: aload         12
     248: athrow
     249: ldc2_w        #55                 // long 100l
     252: invokestatic  #57                 // Method java/lang/Thread.sleep:(J)V
     255: goto          98
     258: astore        15
     260: aload         6
     262: invokevirtual #36                 // Method org/infinispan/topology/LocalCacheStatus.getTopologyUpdatesCompletionService:()Lorg/infinispan/executors/SemaphoreCompletionService;
     265: aconst_null
     266: invokevirtual #50                 // Method org/infinispan/executors/SemaphoreCompletionService.backgroundTaskFinished:(Ljava/util/concurrent/Callable;)Ljava/util/concurrent/Future;
     269: pop
     270: aload         15
     272: athrow
    Exception table:
       from    to  target type
         109   201   217   Class java/lang/Exception
          98   201   258   any
         214   260   258   any

  public void leave(java.lang.String);
    Code:
       0: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       3: ldc           #58                 // String Node %s leaving cache %s
       5: aload_0
       6: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       9: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      14: aload_1
      15: invokeinterface #28,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      20: aload_0
      21: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      24: aload_1
      25: invokeinterface #59,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      33: astore_2
      34: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
      37: dup
      38: aload_1
      39: getstatic     #60                 // Field org/infinispan/topology/CacheTopologyControlCommand$Type.LEAVE:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
      42: aload_0
      43: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      46: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      51: aload_0
      52: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      55: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      60: invokespecial #61                 // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;I)V
      63: astore_3
      64: aload_0
      65: aload_3
      66: aload_2
      67: invokevirtual #62                 // Method org/infinispan/topology/LocalCacheStatus.getJoinInfo:()Lorg/infinispan/topology/CacheJoinInfo;
      70: invokevirtual #33                 // Method org/infinispan/topology/CacheJoinInfo.getTimeout:()J
      73: invokespecial #42                 // Method executeOnCoordinator:(Lorg/infinispan/commands/ReplicableCommand;J)Ljava/lang/Object;
      76: pop
      77: goto          95
      80: astore        4
      82: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      85: aload         4
      87: ldc           #63                 // String Error sending the leave request for cache %s to coordinator
      89: aload_1
      90: invokeinterface #53,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/Object;)V
      95: return
    Exception table:
       from    to  target type
          64    77    80   Class java/lang/Exception

  public void confirmRebalance(java.lang.String, int, int, java.lang.Throwable);
    Code:
       0: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
       3: dup
       4: aload_1
       5: getstatic     #64                 // Field org/infinispan/topology/CacheTopologyControlCommand$Type.REBALANCE_CONFIRM:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
       8: aload_0
       9: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      12: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      17: iload_2
      18: iload_3
      19: aload         4
      21: aload_0
      22: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      25: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      30: invokespecial #65                 // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;IILjava/lang/Throwable;I)V
      33: astore        5
      35: aload_0
      36: aload         5
      38: invokespecial #66                 // Method executeOnCoordinatorAsync:(Lorg/infinispan/commands/ReplicableCommand;)V
      41: goto          59
      44: astore        6
      46: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      49: aload         6
      51: ldc           #67                 // String Error sending the rebalance completed notification for cache %s to the coordinator
      53: aload_1
      54: invokeinterface #53,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/Object;)V
      59: return
    Exception table:
       from    to  target type
          35    41    44   Class java/lang/Exception

  public org.infinispan.topology.ManagerStatusResponse handleStatusRequest(int);
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #68                 // Method waitForView:(I)V
       5: goto          27
       8: astore_2
       9: invokestatic  #70                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      12: invokevirtual #71                 // Method java/lang/Thread.interrupt:()V
      15: new           #72                 // class org/infinispan/topology/ManagerStatusResponse
      18: dup
      19: invokestatic  #73                 // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      22: iconst_1
      23: invokespecial #74                 // Method org/infinispan/topology/ManagerStatusResponse."<init>":(Ljava/util/Map;Z)V
      26: areturn
      27: new           #9                  // class java/util/HashMap
      30: dup
      31: invokespecial #10                 // Method java/util/HashMap."<init>":()V
      34: astore_2
      35: aload_0
      36: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      39: dup
      40: astore_3
      41: monitorenter
      42: aload_0
      43: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      46: invokeinterface #75,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      51: invokeinterface #76,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      56: astore        4
      58: aload         4
      60: invokeinterface #77,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      65: ifeq          157
      68: aload         4
      70: invokeinterface #78,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      75: checkcast     #79                 // class java/util/Map$Entry
      78: astore        5
      80: aload         5
      82: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      87: checkcast     #81                 // class java/lang/String
      90: astore        6
      92: aload_0
      93: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      96: aload         6
      98: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     103: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
     106: astore        7
     108: aload_2
     109: aload         5
     111: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     116: new           #43                 // class org/infinispan/topology/CacheStatusResponse
     119: dup
     120: aload         7
     122: invokevirtual #62                 // Method org/infinispan/topology/LocalCacheStatus.getJoinInfo:()Lorg/infinispan/topology/CacheJoinInfo;
     125: aload         7
     127: invokevirtual #83                 // Method org/infinispan/topology/LocalCacheStatus.getCurrentTopology:()Lorg/infinispan/topology/CacheTopology;
     130: aload         7
     132: invokevirtual #84                 // Method org/infinispan/topology/LocalCacheStatus.getStableTopology:()Lorg/infinispan/topology/CacheTopology;
     135: aload         7
     137: invokevirtual #85                 // Method org/infinispan/topology/LocalCacheStatus.getPartitionHandlingManager:()Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
     140: invokeinterface #86,  1           // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.getAvailabilityMode:()Lorg/infinispan/partitionhandling/AvailabilityMode;
     145: invokespecial #87                 // Method org/infinispan/topology/CacheStatusResponse."<init>":(Lorg/infinispan/topology/CacheJoinInfo;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/partitionhandling/AvailabilityMode;)V
     148: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     153: pop
     154: goto          58
     157: aload_3
     158: monitorexit
     159: goto          169
     162: astore        8
     164: aload_3
     165: monitorexit
     166: aload         8
     168: athrow
     169: iconst_1
     170: istore_3
     171: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
     174: dup
     175: aconst_null
     176: getstatic     #88                 // Field org/infinispan/topology/CacheTopologyControlCommand$Type.POLICY_GET_STATUS:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
     179: aload_0
     180: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
     183: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
     188: aload_0
     189: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
     192: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
     197: invokespecial #61                 // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;I)V
     200: astore        4
     202: aload_0
     203: getfield      #2                  // Field gcr:Lorg/infinispan/factories/GlobalComponentRegistry;
     206: aload         4
     208: invokevirtual #89                 // Method org/infinispan/factories/GlobalComponentRegistry.wireDependencies:(Ljava/lang/Object;)V
     211: aload         4
     213: aconst_null
     214: invokeinterface #90,  2           // InterfaceMethod org/infinispan/commands/ReplicableCommand.perform:(Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
     219: checkcast     #91                 // class org/infinispan/remoting/responses/SuccessfulResponse
     222: invokevirtual #92                 // Method org/infinispan/remoting/responses/SuccessfulResponse.getResponseValue:()Ljava/lang/Object;
     225: checkcast     #93                 // class java/lang/Boolean
     228: invokevirtual #94                 // Method java/lang/Boolean.booleanValue:()Z
     231: istore_3
     232: goto          249
     235: astore        5
     237: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     240: ldc           #96                 // String Failed to obtain the rebalancing status
     242: aload         5
     244: invokeinterface #97,  3           // InterfaceMethod org/infinispan/util/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     249: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     252: ldc           #98                 // String Sending cluster status response for view %d
     254: iload_1
     255: invokeinterface #99,  3           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;I)V
     260: new           #72                 // class org/infinispan/topology/ManagerStatusResponse
     263: dup
     264: aload_2
     265: iload_3
     266: invokespecial #74                 // Method org/infinispan/topology/ManagerStatusResponse."<init>":(Ljava/util/Map;Z)V
     269: areturn
    Exception table:
       from    to  target type
           0     5     8   Class java/lang/InterruptedException
          42   159   162   any
         162   166   162   any
         202   232   235   Class java/lang/Throwable

  public void handleTopologyUpdate(java.lang.String, org.infinispan.topology.CacheTopology, org.infinispan.partitionhandling.AvailabilityMode, int, org.infinispan.remoting.transport.Address) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #24                 // Field running:Z
       4: ifne          23
       7: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      10: ldc           #100                // String Ignoring consistent hash update %s for cache %s, the local cache manager is not running
      12: aload_2
      13: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      16: aload_1
      17: invokeinterface #102,  4          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;ILjava/lang/Object;)V
      22: return
      23: aload_0
      24: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      27: aload_1
      28: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      33: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      36: astore        6
      38: aload         6
      40: ifnonnull     59
      43: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      46: ldc           #103                // String Ignoring consistent hash update %s for cache %s that doesn\'t exist locally
      48: aload_2
      49: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      52: aload_1
      53: invokeinterface #102,  4          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;ILjava/lang/Object;)V
      58: return
      59: aload         6
      61: invokevirtual #36                 // Method org/infinispan/topology/LocalCacheStatus.getTopologyUpdatesCompletionService:()Lorg/infinispan/executors/SemaphoreCompletionService;
      64: new           #104                // class org/infinispan/topology/LocalTopologyManagerImpl$1
      67: dup
      68: aload_0
      69: aload_1
      70: aload_2
      71: aload_3
      72: iload         4
      74: aload         5
      76: aload         6
      78: invokespecial #105                // Method org/infinispan/topology/LocalTopologyManagerImpl$1."<init>":(Lorg/infinispan/topology/LocalTopologyManagerImpl;Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/partitionhandling/AvailabilityMode;ILorg/infinispan/remoting/transport/Address;Lorg/infinispan/topology/LocalCacheStatus;)V
      81: aconst_null
      82: invokevirtual #106                // Method org/infinispan/executors/SemaphoreCompletionService.submit:(Ljava/lang/Runnable;Ljava/lang/Object;)Ljava/util/concurrent/Future;
      85: pop
      86: aload         6
      88: invokevirtual #36                 // Method org/infinispan/topology/LocalCacheStatus.getTopologyUpdatesCompletionService:()Lorg/infinispan/executors/SemaphoreCompletionService;
      91: invokevirtual #107                // Method org/infinispan/executors/SemaphoreCompletionService.drainCompletionQueue:()Ljava/util/List;
      94: astore        7
      96: iconst_0
      97: istore        8
      99: aload         7
     101: invokeinterface #108,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     106: astore        9
     108: aload         9
     110: invokeinterface #77,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     115: ifeq          171
     118: aload         9
     120: invokeinterface #78,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     125: checkcast     #109                // class java/util/concurrent/Future
     128: astore        10
     130: aload         10
     132: invokeinterface #110,  1          // InterfaceMethod java/util/concurrent/Future.get:()Ljava/lang/Object;
     137: pop
     138: goto          168
     141: astore        11
     143: iconst_1
     144: istore        8
     146: goto          168
     149: astore        11
     151: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     154: aload_2
     155: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
     158: aload         11
     160: invokevirtual #112                // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     163: invokeinterface #113,  3          // InterfaceMethod org/infinispan/util/logging/Log.topologyUpdateError:(ILjava/lang/Throwable;)V
     168: goto          108
     171: iload         8
     173: ifeq          182
     176: invokestatic  #70                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     179: invokevirtual #71                 // Method java/lang/Thread.interrupt:()V
     182: return
    Exception table:
       from    to  target type
         130   138   141   Class java/lang/InterruptedException
         130   138   149   Class java/util/concurrent/ExecutionException

  protected void doHandleTopologyUpdate(java.lang.String, org.infinispan.topology.CacheTopology, org.infinispan.partitionhandling.AvailabilityMode, int, org.infinispan.remoting.transport.Address, org.infinispan.topology.LocalCacheStatus);
    Code:
       0: aload_0
       1: iload         4
       3: invokespecial #68                 // Method waitForView:(I)V
       6: goto          12
       9: astore        7
      11: return
      12: aload         6
      14: dup
      15: astore        7
      17: monitorenter
      18: aload         6
      20: invokevirtual #83                 // Method org/infinispan/topology/LocalCacheStatus.getCurrentTopology:()Lorg/infinispan/topology/CacheTopology;
      23: astore        8
      25: aload         8
      27: ifnull        66
      30: aload_2
      31: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      34: aload         8
      36: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      39: if_icmpgt     66
      42: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      45: ldc           #114                // String Ignoring late consistent hash update for cache %s, current topology is %s: %s
      47: aload_1
      48: aload         8
      50: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      53: invokestatic  #115                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      56: aload_2
      57: invokeinterface #116,  5          // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
      62: aload         7
      64: monitorexit
      65: return
      66: aload         6
      68: invokevirtual #117                // Method org/infinispan/topology/LocalCacheStatus.getHandler:()Lorg/infinispan/topology/CacheTopologyHandler;
      71: astore        9
      73: aload_0
      74: aload_1
      75: aload_2
      76: aload         8
      78: aload         9
      80: invokespecial #118                // Method resetLocalTopologyBeforeRebalance:(Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/topology/CacheTopologyHandler;)V
      83: aload_0
      84: aload_1
      85: aload_2
      86: aload         5
      88: aload         6
      90: invokespecial #119                // Method updateCacheTopology:(Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/remoting/transport/Address;Lorg/infinispan/topology/LocalCacheStatus;)Z
      93: ifne          100
      96: aload         7
      98: monitorexit
      99: return
     100: aconst_null
     101: astore        10
     103: aload_2
     104: invokevirtual #120                // Method org/infinispan/topology/CacheTopology.getPendingCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     107: ifnull        133
     110: aload         6
     112: invokevirtual #62                 // Method org/infinispan/topology/LocalCacheStatus.getJoinInfo:()Lorg/infinispan/topology/CacheJoinInfo;
     115: invokevirtual #121                // Method org/infinispan/topology/CacheJoinInfo.getConsistentHashFactory:()Lorg/infinispan/distribution/ch/ConsistentHashFactory;
     118: aload_2
     119: invokevirtual #122                // Method org/infinispan/topology/CacheTopology.getCurrentCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     122: aload_2
     123: invokevirtual #120                // Method org/infinispan/topology/CacheTopology.getPendingCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     126: invokeinterface #123,  3          // InterfaceMethod org/infinispan/distribution/ch/ConsistentHashFactory.union:(Lorg/infinispan/distribution/ch/ConsistentHash;Lorg/infinispan/distribution/ch/ConsistentHash;)Lorg/infinispan/distribution/ch/ConsistentHash;
     131: astore        10
     133: new           #124                // class org/infinispan/topology/CacheTopology
     136: dup
     137: aload_2
     138: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
     141: aload_2
     142: invokevirtual #125                // Method org/infinispan/topology/CacheTopology.getRebalanceId:()I
     145: aload_2
     146: invokevirtual #122                // Method org/infinispan/topology/CacheTopology.getCurrentCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     149: aload_2
     150: invokevirtual #120                // Method org/infinispan/topology/CacheTopology.getPendingCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     153: aload         10
     155: aload_2
     156: invokevirtual #126                // Method org/infinispan/topology/CacheTopology.getActualMembers:()Ljava/util/List;
     159: invokespecial #127                // Method org/infinispan/topology/CacheTopology."<init>":(IILorg/infinispan/distribution/ch/ConsistentHash;Lorg/infinispan/distribution/ch/ConsistentHash;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/List;)V
     162: astore        11
     164: aload         11
     166: invokevirtual #128                // Method org/infinispan/topology/CacheTopology.logRoutingTableInformation:()V
     169: aload_3
     170: getstatic     #129                // Field org/infinispan/partitionhandling/AvailabilityMode.AVAILABLE:Lorg/infinispan/partitionhandling/AvailabilityMode;
     173: if_acmpeq     180
     176: iconst_1
     177: goto          181
     180: iconst_0
     181: istore        12
     183: iload         12
     185: ifeq          203
     188: aload_3
     189: ifnull        203
     192: aload         6
     194: invokevirtual #85                 // Method org/infinispan/topology/LocalCacheStatus.getPartitionHandlingManager:()Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
     197: aload_3
     198: invokeinterface #130,  2          // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.setAvailabilityMode:(Lorg/infinispan/partitionhandling/AvailabilityMode;)V
     203: aload         8
     205: ifnull        220
     208: aload         8
     210: invokevirtual #125                // Method org/infinispan/topology/CacheTopology.getRebalanceId:()I
     213: aload_2
     214: invokevirtual #125                // Method org/infinispan/topology/CacheTopology.getRebalanceId:()I
     217: if_icmpeq     251
     220: aload         10
     222: ifnull        251
     225: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     228: ldc           #131                // String This topology update has a pending CH, starting the rebalance now
     230: iconst_0
     231: anewarray     #132                // class java/lang/Object
     234: invokeinterface #133,  3          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;[Ljava/lang/Object;)V
     239: aload         9
     241: aload         11
     243: invokeinterface #134,  2          // InterfaceMethod org/infinispan/topology/CacheTopologyHandler.rebalance:(Lorg/infinispan/topology/CacheTopology;)V
     248: goto          260
     251: aload         9
     253: aload         11
     255: invokeinterface #135,  2          // InterfaceMethod org/infinispan/topology/CacheTopologyHandler.updateConsistentHash:(Lorg/infinispan/topology/CacheTopology;)V
     260: iload         12
     262: ifne          276
     265: aload         6
     267: invokevirtual #85                 // Method org/infinispan/topology/LocalCacheStatus.getPartitionHandlingManager:()Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
     270: aload_3
     271: invokeinterface #130,  2          // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.setAvailabilityMode:(Lorg/infinispan/partitionhandling/AvailabilityMode;)V
     276: aload         7
     278: monitorexit
     279: goto          290
     282: astore        13
     284: aload         7
     286: monitorexit
     287: aload         13
     289: athrow
     290: return
    Exception table:
       from    to  target type
           0     6     9   Class java/lang/InterruptedException
          18    65   282   any
          66    99   282   any
         100   279   282   any
         282   287   282   any

  private boolean updateCacheTopology(java.lang.String, org.infinispan.topology.CacheTopology, org.infinispan.remoting.transport.Address, org.infinispan.topology.LocalCacheStatus);
    Code:
       0: aload_0
       1: getfield      #12                 // Field runningCaches:Ljava/util/Map;
       4: dup
       5: astore        5
       7: monitorenter
       8: aload_3
       9: aload_0
      10: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      13: invokeinterface #46,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getCoordinator:()Lorg/infinispan/remoting/transport/Address;
      18: invokevirtual #136                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      21: ifne          44
      24: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      27: ldc           #137                // String Ignoring topology %d from old coordinator %s
      29: aload_2
      30: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      33: aload_3
      34: invokeinterface #138,  4          // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;ILjava/lang/Object;)V
      39: iconst_0
      40: aload         5
      42: monitorexit
      43: ireturn
      44: aload         5
      46: monitorexit
      47: goto          58
      50: astore        6
      52: aload         5
      54: monitorexit
      55: aload         6
      57: athrow
      58: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      61: ldc           #139                // String Updating local topology for cache %s: %s
      63: aload_1
      64: aload_2
      65: invokeinterface #28,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      70: aload         4
      72: aload_2
      73: invokevirtual #140                // Method org/infinispan/topology/LocalCacheStatus.setCurrentTopology:(Lorg/infinispan/topology/CacheTopology;)V
      76: iconst_1
      77: ireturn
    Exception table:
       from    to  target type
           8    43    50   any
          44    47    50   any
          50    55    50   any

  private void resetLocalTopologyBeforeRebalance(java.lang.String, org.infinispan.topology.CacheTopology, org.infinispan.topology.CacheTopology, org.infinispan.topology.CacheTopologyHandler);
    Code:
       0: aload_2
       1: invokevirtual #120                // Method org/infinispan/topology/CacheTopology.getPendingCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
       4: ifnull        11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: istore        5
      14: iload         5
      16: ifeq          101
      19: aload_3
      20: ifnonnull     24
      23: return
      24: aload_2
      25: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      28: aload_3
      29: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      32: iconst_1
      33: iadd
      34: if_icmpne     38
      37: return
      38: aload_2
      39: invokevirtual #125                // Method org/infinispan/topology/CacheTopology.getRebalanceId:()I
      42: aload_3
      43: invokevirtual #125                // Method org/infinispan/topology/CacheTopology.getRebalanceId:()I
      46: if_icmpeq     101
      49: new           #124                // class org/infinispan/topology/CacheTopology
      52: dup
      53: aload_2
      54: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      57: iconst_1
      58: isub
      59: aload_2
      60: invokevirtual #125                // Method org/infinispan/topology/CacheTopology.getRebalanceId:()I
      63: iconst_1
      64: isub
      65: aload_2
      66: invokevirtual #122                // Method org/infinispan/topology/CacheTopology.getCurrentCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
      69: aconst_null
      70: aload_2
      71: invokevirtual #126                // Method org/infinispan/topology/CacheTopology.getActualMembers:()Ljava/util/List;
      74: invokespecial #141                // Method org/infinispan/topology/CacheTopology."<init>":(IILorg/infinispan/distribution/ch/ConsistentHash;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/List;)V
      77: astore        6
      79: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      82: ldc           #142                // String Installing fake cache topology %s for cache %s
      84: aload         6
      86: aload_1
      87: invokeinterface #28,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      92: aload         4
      94: aload         6
      96: invokeinterface #135,  2          // InterfaceMethod org/infinispan/topology/CacheTopologyHandler.updateConsistentHash:(Lorg/infinispan/topology/CacheTopology;)V
     101: return

  public void handleStableTopologyUpdate(java.lang.String, org.infinispan.topology.CacheTopology, int);
    Code:
       0: aload_0
       1: getfield      #12                 // Field runningCaches:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      13: astore        4
      15: aload         4
      17: ifnull        43
      20: aload         4
      22: invokevirtual #36                 // Method org/infinispan/topology/LocalCacheStatus.getTopologyUpdatesCompletionService:()Lorg/infinispan/executors/SemaphoreCompletionService;
      25: new           #143                // class org/infinispan/topology/LocalTopologyManagerImpl$2
      28: dup
      29: aload_0
      30: aload_1
      31: aload_2
      32: iload_3
      33: aload         4
      35: invokespecial #144                // Method org/infinispan/topology/LocalTopologyManagerImpl$2."<init>":(Lorg/infinispan/topology/LocalTopologyManagerImpl;Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;ILorg/infinispan/topology/LocalCacheStatus;)V
      38: aconst_null
      39: invokevirtual #106                // Method org/infinispan/executors/SemaphoreCompletionService.submit:(Ljava/lang/Runnable;Ljava/lang/Object;)Ljava/util/concurrent/Future;
      42: pop
      43: return

  protected void doHandleStableTopologyUpdate(java.lang.String, org.infinispan.topology.CacheTopology, int, org.infinispan.topology.LocalCacheStatus);
    Code:
       0: aload         4
       2: dup
       3: astore        5
       5: monitorenter
       6: aload         4
       8: invokevirtual #84                 // Method org/infinispan/topology/LocalCacheStatus.getStableTopology:()Lorg/infinispan/topology/CacheTopology;
      11: astore        6
      13: aload         6
      15: ifnull        30
      18: aload         6
      20: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      23: aload_2
      24: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      27: if_icmpge     48
      30: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      33: ldc           #145                // String Updating stable topology for cache %s: %s
      35: aload_1
      36: aload_2
      37: invokeinterface #146,  4          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      42: aload         4
      44: aload_2
      45: invokevirtual #147                // Method org/infinispan/topology/LocalCacheStatus.setStableTopology:(Lorg/infinispan/topology/CacheTopology;)V
      48: aload         5
      50: monitorexit
      51: goto          62
      54: astore        7
      56: aload         5
      58: monitorexit
      59: aload         7
      61: athrow
      62: return
    Exception table:
       from    to  target type
           6    51    54   any
          54    59    54   any

  public void handleRebalance(java.lang.String, org.infinispan.topology.CacheTopology, int, org.infinispan.remoting.transport.Address) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #24                 // Field running:Z
       4: ifne          23
       7: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      10: ldc           #148                // String Ignoring rebalance request %s for cache %s, the local cache manager is not running
      12: aload_2
      13: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      16: aload_1
      17: invokeinterface #138,  4          // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;ILjava/lang/Object;)V
      22: return
      23: aload_0
      24: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      27: aload_1
      28: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      33: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      36: astore        5
      38: aload         5
      40: ifnonnull     59
      43: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      46: ldc           #149                // String Ignoring rebalance %s for cache %s that doesn\'t exist locally
      48: aload_2
      49: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      52: aload_1
      53: invokeinterface #102,  4          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;ILjava/lang/Object;)V
      58: return
      59: aload         5
      61: invokevirtual #36                 // Method org/infinispan/topology/LocalCacheStatus.getTopologyUpdatesCompletionService:()Lorg/infinispan/executors/SemaphoreCompletionService;
      64: new           #150                // class org/infinispan/topology/LocalTopologyManagerImpl$3
      67: dup
      68: aload_0
      69: iload_3
      70: aload         5
      72: aload_2
      73: aload_1
      74: aload         4
      76: invokespecial #151                // Method org/infinispan/topology/LocalTopologyManagerImpl$3."<init>":(Lorg/infinispan/topology/LocalTopologyManagerImpl;ILorg/infinispan/topology/LocalCacheStatus;Lorg/infinispan/topology/CacheTopology;Ljava/lang/String;Lorg/infinispan/remoting/transport/Address;)V
      79: aconst_null
      80: invokevirtual #106                // Method org/infinispan/executors/SemaphoreCompletionService.submit:(Ljava/lang/Runnable;Ljava/lang/Object;)Ljava/util/concurrent/Future;
      83: pop
      84: return

  protected void doHandleRebalance(int, org.infinispan.topology.LocalCacheStatus, org.infinispan.topology.CacheTopology, java.lang.String, org.infinispan.remoting.transport.Address);
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #68                 // Method waitForView:(I)V
       5: goto          11
       8: astore        6
      10: return
      11: aload_2
      12: dup
      13: astore        6
      15: monitorenter
      16: aload_2
      17: invokevirtual #83                 // Method org/infinispan/topology/LocalCacheStatus.getCurrentTopology:()Lorg/infinispan/topology/CacheTopology;
      20: astore        7
      22: aload         7
      24: ifnull        64
      27: aload_3
      28: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      31: aload         7
      33: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      36: if_icmpgt     64
      39: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      42: ldc           #152                // String Ignoring old rebalance for cache %s, current topology is %s: %s
      44: aload         4
      46: aload         7
      48: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      51: invokestatic  #115                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      54: aload_3
      55: invokeinterface #116,  5          // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
      60: aload         6
      62: monitorexit
      63: return
      64: aload_0
      65: aload         4
      67: aload_3
      68: aload         5
      70: aload_2
      71: invokespecial #119                // Method updateCacheTopology:(Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/remoting/transport/Address;Lorg/infinispan/topology/LocalCacheStatus;)Z
      74: ifne          81
      77: aload         6
      79: monitorexit
      80: return
      81: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      84: ldc           #153                // String Starting local rebalance for cache %s, topology = %s
      86: aload         4
      88: aload_3
      89: invokeinterface #28,  4           // InterfaceMethod org/infinispan/util/logging/Log.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      94: aload_3
      95: invokevirtual #128                // Method org/infinispan/topology/CacheTopology.logRoutingTableInformation:()V
      98: aload_2
      99: aload_3
     100: invokevirtual #140                // Method org/infinispan/topology/LocalCacheStatus.setCurrentTopology:(Lorg/infinispan/topology/CacheTopology;)V
     103: aload_2
     104: invokevirtual #117                // Method org/infinispan/topology/LocalCacheStatus.getHandler:()Lorg/infinispan/topology/CacheTopologyHandler;
     107: astore        8
     109: aload_0
     110: aload         4
     112: aload_3
     113: aload         7
     115: aload         8
     117: invokespecial #118                // Method resetLocalTopologyBeforeRebalance:(Ljava/lang/String;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/topology/CacheTopology;Lorg/infinispan/topology/CacheTopologyHandler;)V
     120: aload_2
     121: invokevirtual #62                 // Method org/infinispan/topology/LocalCacheStatus.getJoinInfo:()Lorg/infinispan/topology/CacheJoinInfo;
     124: invokevirtual #121                // Method org/infinispan/topology/CacheJoinInfo.getConsistentHashFactory:()Lorg/infinispan/distribution/ch/ConsistentHashFactory;
     127: aload_3
     128: invokevirtual #122                // Method org/infinispan/topology/CacheTopology.getCurrentCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     131: aload_3
     132: invokevirtual #120                // Method org/infinispan/topology/CacheTopology.getPendingCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     135: invokeinterface #123,  3          // InterfaceMethod org/infinispan/distribution/ch/ConsistentHashFactory.union:(Lorg/infinispan/distribution/ch/ConsistentHash;Lorg/infinispan/distribution/ch/ConsistentHash;)Lorg/infinispan/distribution/ch/ConsistentHash;
     140: astore        9
     142: new           #124                // class org/infinispan/topology/CacheTopology
     145: dup
     146: aload_3
     147: invokevirtual #101                // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
     150: aload_3
     151: invokevirtual #125                // Method org/infinispan/topology/CacheTopology.getRebalanceId:()I
     154: aload_3
     155: invokevirtual #122                // Method org/infinispan/topology/CacheTopology.getCurrentCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     158: aload_3
     159: invokevirtual #120                // Method org/infinispan/topology/CacheTopology.getPendingCH:()Lorg/infinispan/distribution/ch/ConsistentHash;
     162: aload         9
     164: aload_3
     165: invokevirtual #126                // Method org/infinispan/topology/CacheTopology.getActualMembers:()Ljava/util/List;
     168: invokespecial #127                // Method org/infinispan/topology/CacheTopology."<init>":(IILorg/infinispan/distribution/ch/ConsistentHash;Lorg/infinispan/distribution/ch/ConsistentHash;Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/util/List;)V
     171: astore        10
     173: aload         8
     175: aload         10
     177: invokeinterface #134,  2          // InterfaceMethod org/infinispan/topology/CacheTopologyHandler.rebalance:(Lorg/infinispan/topology/CacheTopology;)V
     182: aload         6
     184: monitorexit
     185: goto          196
     188: astore        11
     190: aload         6
     192: monitorexit
     193: aload         11
     195: athrow
     196: return
    Exception table:
       from    to  target type
           0     5     8   Class java/lang/InterruptedException
          16    63   188   any
          64    80   188   any
          81   185   188   any
         188   193   188   any

  public org.infinispan.topology.CacheTopology getCacheTopology(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #12                 // Field runningCaches:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      13: astore_2
      14: aload_2
      15: ifnull        25
      18: aload_2
      19: invokevirtual #83                 // Method org/infinispan/topology/LocalCacheStatus.getCurrentTopology:()Lorg/infinispan/topology/CacheTopology;
      22: goto          26
      25: aconst_null
      26: areturn

  public org.infinispan.topology.CacheTopology getStableCacheTopology(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #12                 // Field runningCaches:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      13: astore_2
      14: aload_2
      15: ifnull        25
      18: aload_2
      19: invokevirtual #84                 // Method org/infinispan/topology/LocalCacheStatus.getStableTopology:()Lorg/infinispan/topology/CacheTopology;
      22: goto          26
      25: aconst_null
      26: areturn

  public boolean isTotalOrderCache(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #24                 // Field running:Z
       4: ifne          20
       7: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      10: ldc           #154                // String isTotalOrderCache(%s) returning false because the local cache manager is not running
      12: aload_1
      13: invokeinterface #19,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      18: iconst_0
      19: ireturn
      20: aload_0
      21: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      24: aload_1
      25: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      33: astore_2
      34: aload_2
      35: ifnonnull     51
      38: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      41: ldc           #155                // String isTotalOrderCache(%s) returning false because the cache doesn\'t exist locally
      43: aload_1
      44: invokeinterface #19,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      49: iconst_0
      50: ireturn
      51: aload_2
      52: invokevirtual #62                 // Method org/infinispan/topology/LocalCacheStatus.getJoinInfo:()Lorg/infinispan/topology/CacheJoinInfo;
      55: invokevirtual #29                 // Method org/infinispan/topology/CacheJoinInfo.isTotalOrder:()Z
      58: istore_3
      59: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      62: ldc           #156                // String isTotalOrderCache(%s) returning %s
      64: aload_1
      65: iload_3
      66: invokestatic  #157                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      69: invokeinterface #146,  4          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      74: iload_3
      75: ireturn

  private void waitForView(int) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       4: iload_1
       5: invokeinterface #158,  2          // InterfaceMethod org/infinispan/remoting/transport/Transport.waitForView:(I)V
      10: return

  public boolean isRebalancingEnabled() throws java.lang.Exception;
    Code:
       0: aload_0
       1: aconst_null
       2: invokevirtual #159                // Method isCacheRebalancingEnabled:(Ljava/lang/String;)Z
       5: ireturn

  public void setRebalancingEnabled(boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aconst_null
       2: iload_1
       3: invokevirtual #160                // Method setCacheRebalancingEnabled:(Ljava/lang/String;Z)V
       6: return

  public boolean isCacheRebalancingEnabled(java.lang.String) throws java.lang.Exception;
    Code:
       0: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
       3: dup
       4: aload_1
       5: getstatic     #88                 // Field org/infinispan/topology/CacheTopologyControlCommand$Type.POLICY_GET_STATUS:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
       8: aload_0
       9: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      12: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      17: aload_0
      18: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      21: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      26: invokespecial #61                 // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;I)V
      29: astore_2
      30: aload_0
      31: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      34: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      39: iconst_1
      40: iadd
      41: istore_3
      42: aload_0
      43: aload_2
      44: aload_0
      45: invokespecial #161                // Method getGlobalTimeout:()I
      48: i2l
      49: invokespecial #42                 // Method executeOnCoordinator:(Lorg/infinispan/commands/ReplicableCommand;J)Ljava/lang/Object;
      52: checkcast     #93                 // class java/lang/Boolean
      55: invokevirtual #94                 // Method java/lang/Boolean.booleanValue:()Z
      58: ireturn
      59: astore        4
      61: getstatic     #4                  // Field trace:Z
      64: ifeq          81
      67: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      70: ldc           #163                // String Coordinator left the cluster while querying rebalancing status, retrying
      72: iconst_0
      73: anewarray     #132                // class java/lang/Object
      76: invokeinterface #133,  3          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;[Ljava/lang/Object;)V
      81: aload_0
      82: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      85: iload_3
      86: invokeinterface #158,  2          // InterfaceMethod org/infinispan/remoting/transport/Transport.waitForView:(I)V
      91: goto          30
    Exception table:
       from    to  target type
          42    58    59   Class org/infinispan/remoting/transport/jgroups/SuspectException

  public void setCacheRebalancingEnabled(java.lang.String, boolean) throws java.lang.Exception;
    Code:
       0: iload_2
       1: ifeq          10
       4: getstatic     #164                // Field org/infinispan/topology/CacheTopologyControlCommand$Type.POLICY_ENABLE:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
       7: goto          13
      10: getstatic     #165                // Field org/infinispan/topology/CacheTopologyControlCommand$Type.POLICY_DISABLE:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
      13: astore_3
      14: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
      17: dup
      18: aload_1
      19: aload_3
      20: aload_0
      21: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      24: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      29: aload_0
      30: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      33: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      38: invokespecial #61                 // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;I)V
      41: astore        4
      43: aload_0
      44: aload         4
      46: aload_0
      47: invokespecial #161                // Method getGlobalTimeout:()I
      50: iconst_0
      51: iconst_0
      52: invokespecial #166                // Method executeOnClusterSync:(Lorg/infinispan/commands/ReplicableCommand;IZZ)Ljava/util/Map;
      55: pop
      56: return

  public org.infinispan.topology.RebalancingStatus getRebalancingStatus(java.lang.String) throws java.lang.Exception;
    Code:
       0: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
       3: dup
       4: aload_1
       5: getstatic     #167                // Field org/infinispan/topology/CacheTopologyControlCommand$Type.REBALANCING_GET_STATUS:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
       8: aload_0
       9: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      12: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      17: aload_0
      18: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      21: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      26: invokespecial #61                 // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;I)V
      29: astore_2
      30: aload_0
      31: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      34: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      39: iconst_1
      40: iadd
      41: istore_3
      42: aload_0
      43: aload_2
      44: aload_0
      45: invokespecial #161                // Method getGlobalTimeout:()I
      48: i2l
      49: invokespecial #42                 // Method executeOnCoordinator:(Lorg/infinispan/commands/ReplicableCommand;J)Ljava/lang/Object;
      52: checkcast     #168                // class org/infinispan/topology/RebalancingStatus
      55: areturn
      56: astore        4
      58: getstatic     #4                  // Field trace:Z
      61: ifeq          78
      64: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      67: ldc           #169                // String Coordinator left the cluster while querying rebalancing progress, retrying
      69: iconst_0
      70: anewarray     #132                // class java/lang/Object
      73: invokeinterface #133,  3          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;[Ljava/lang/Object;)V
      78: aload_0
      79: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      82: iload_3
      83: invokeinterface #158,  2          // InterfaceMethod org/infinispan/remoting/transport/Transport.waitForView:(I)V
      88: goto          30
    Exception table:
       from    to  target type
          42    55    56   Class org/infinispan/remoting/transport/jgroups/SuspectException

  public java.lang.String getClusterAvailability();
    Code:
       0: getstatic     #129                // Field org/infinispan/partitionhandling/AvailabilityMode.AVAILABLE:Lorg/infinispan/partitionhandling/AvailabilityMode;
       3: astore_1
       4: aload_0
       5: getfield      #12                 // Field runningCaches:Ljava/util/Map;
       8: dup
       9: astore_2
      10: monitorenter
      11: aload_0
      12: getfield      #12                 // Field runningCaches:Ljava/util/Map;
      15: invokeinterface #170,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      20: invokeinterface #171,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      25: astore_3
      26: aload_3
      27: invokeinterface #77,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      32: ifeq          68
      35: aload_3
      36: invokeinterface #78,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      41: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      44: astore        4
      46: aload         4
      48: invokevirtual #85                 // Method org/infinispan/topology/LocalCacheStatus.getPartitionHandlingManager:()Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
      51: invokeinterface #86,  1           // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.getAvailabilityMode:()Lorg/infinispan/partitionhandling/AvailabilityMode;
      56: astore        5
      58: aload_1
      59: aload         5
      61: invokevirtual #172                // Method org/infinispan/partitionhandling/AvailabilityMode.min:(Lorg/infinispan/partitionhandling/AvailabilityMode;)Lorg/infinispan/partitionhandling/AvailabilityMode;
      64: astore_1
      65: goto          26
      68: aload_2
      69: monitorexit
      70: goto          80
      73: astore        6
      75: aload_2
      76: monitorexit
      77: aload         6
      79: athrow
      80: aload_1
      81: invokevirtual #173                // Method org/infinispan/partitionhandling/AvailabilityMode.toString:()Ljava/lang/String;
      84: areturn
    Exception table:
       from    to  target type
          11    70    73   any
          73    77    73   any

  public org.infinispan.partitionhandling.AvailabilityMode getCacheAvailability(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #12                 // Field runningCaches:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #30                 // class org/infinispan/topology/LocalCacheStatus
      13: astore_2
      14: aload_2
      15: invokevirtual #85                 // Method org/infinispan/topology/LocalCacheStatus.getPartitionHandlingManager:()Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
      18: invokeinterface #86,  1           // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.getAvailabilityMode:()Lorg/infinispan/partitionhandling/AvailabilityMode;
      23: areturn

  public void setCacheAvailability(java.lang.String, org.infinispan.partitionhandling.AvailabilityMode) throws java.lang.Exception;
    Code:
       0: getstatic     #174                // Field org/infinispan/topology/CacheTopologyControlCommand$Type.AVAILABILITY_MODE_CHANGE:Lorg/infinispan/topology/CacheTopologyControlCommand$Type;
       3: astore_3
       4: new           #39                 // class org/infinispan/topology/CacheTopologyControlCommand
       7: dup
       8: aload_1
       9: aload_3
      10: aload_0
      11: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      14: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
      19: aload_2
      20: aload_0
      21: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      24: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getViewId:()I
      29: invokespecial #175                // Method org/infinispan/topology/CacheTopologyControlCommand."<init>":(Ljava/lang/String;Lorg/infinispan/topology/CacheTopologyControlCommand$Type;Lorg/infinispan/remoting/transport/Address;Lorg/infinispan/partitionhandling/AvailabilityMode;I)V
      32: astore        4
      34: aload_0
      35: aload         4
      37: aload_0
      38: invokespecial #161                // Method getGlobalTimeout:()I
      41: i2l
      42: invokespecial #42                 // Method executeOnCoordinator:(Lorg/infinispan/commands/ReplicableCommand;J)Ljava/lang/Object;
      45: pop
      46: return

  private java.lang.Object executeOnCoordinator(org.infinispan.commands.ReplicableCommand, long) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       4: invokeinterface #176,  1          // InterfaceMethod org/infinispan/remoting/transport/Transport.isCoordinator:()Z
       9: ifeq          66
      12: getstatic     #4                  // Field trace:Z
      15: ifeq          29
      18: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      21: ldc           #177                // String Attempting to execute command on self: %s
      23: aload_1
      24: invokeinterface #19,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      29: aload_0
      30: getfield      #2                  // Field gcr:Lorg/infinispan/factories/GlobalComponentRegistry;
      33: aload_1
      34: invokevirtual #89                 // Method org/infinispan/factories/GlobalComponentRegistry.wireDependencies:(Ljava/lang/Object;)V
      37: aload_1
      38: aconst_null
      39: invokeinterface #90,  2           // InterfaceMethod org/infinispan/commands/ReplicableCommand.perform:(Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      44: checkcast     #178                // class org/infinispan/remoting/responses/Response
      47: astore        4
      49: goto          117
      52: astore        5
      54: new           #179                // class org/infinispan/commons/CacheException
      57: dup
      58: ldc           #180                // String Error handling join request
      60: aload         5
      62: invokespecial #181                // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      65: athrow
      66: aload_0
      67: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      70: invokeinterface #46,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getCoordinator:()Lorg/infinispan/remoting/transport/Address;
      75: astore        5
      77: aload_0
      78: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      81: aload         5
      83: invokestatic  #182                // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      86: aload_1
      87: getstatic     #183                // Field org/infinispan/remoting/rpc/ResponseMode.SYNCHRONOUS:Lorg/infinispan/remoting/rpc/ResponseMode;
      90: lload_2
      91: aconst_null
      92: getstatic     #184                // Field org/infinispan/remoting/inboundhandler/DeliverOrder.NONE:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      95: iconst_0
      96: invokeinterface #185,  9          // InterfaceMethod org/infinispan/remoting/transport/Transport.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/ResponseMode;JLorg/infinispan/remoting/rpc/ResponseFilter;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;Z)Ljava/util/Map;
     101: astore        6
     103: aload         6
     105: aload         5
     107: invokeinterface #82,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     112: checkcast     #178                // class org/infinispan/remoting/responses/Response
     115: astore        4
     117: aload         4
     119: ifnull        132
     122: aload         4
     124: invokeinterface #186,  1          // InterfaceMethod org/infinispan/remoting/responses/Response.isSuccessful:()Z
     129: ifne          184
     132: aload         4
     134: instanceof    #187                // class org/infinispan/remoting/responses/ExceptionResponse
     137: ifeq          151
     140: aload         4
     142: checkcast     #187                // class org/infinispan/remoting/responses/ExceptionResponse
     145: invokevirtual #188                // Method org/infinispan/remoting/responses/ExceptionResponse.getException:()Ljava/lang/Exception;
     148: goto          152
     151: aconst_null
     152: astore        5
     154: new           #179                // class org/infinispan/commons/CacheException
     157: dup
     158: new           #189                // class java/lang/StringBuilder
     161: dup
     162: invokespecial #190                // Method java/lang/StringBuilder."<init>":()V
     165: ldc           #191                // String Bad response received from coordinator:
     167: invokevirtual #192                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     170: aload         4
     172: invokevirtual #193                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     175: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     178: aload         5
     180: invokespecial #181                // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     183: athrow
     184: aload         4
     186: checkcast     #91                 // class org/infinispan/remoting/responses/SuccessfulResponse
     189: invokevirtual #92                 // Method org/infinispan/remoting/responses/SuccessfulResponse.getResponseValue:()Ljava/lang/Object;
     192: areturn
    Exception table:
       from    to  target type
          12    49    52   Class java/lang/Throwable

  private void executeOnCoordinatorAsync(org.infinispan.commands.ReplicableCommand) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       4: invokeinterface #176,  1          // InterfaceMethod org/infinispan/remoting/transport/Transport.isCoordinator:()Z
       9: ifeq          33
      12: aload_0
      13: getfield      #13                 // Field asyncTransportExecutor:Ljava/util/concurrent/ExecutorService;
      16: new           #195                // class org/infinispan/topology/LocalTopologyManagerImpl$4
      19: dup
      20: aload_0
      21: aload_1
      22: invokespecial #196                // Method org/infinispan/topology/LocalTopologyManagerImpl$4."<init>":(Lorg/infinispan/topology/LocalTopologyManagerImpl;Lorg/infinispan/commands/ReplicableCommand;)V
      25: invokeinterface #197,  2          // InterfaceMethod java/util/concurrent/ExecutorService.execute:(Ljava/lang/Runnable;)V
      30: goto          67
      33: aload_0
      34: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      37: invokeinterface #46,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getCoordinator:()Lorg/infinispan/remoting/transport/Address;
      42: astore_2
      43: aload_0
      44: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      47: aload_2
      48: invokestatic  #182                // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      51: aload_1
      52: getstatic     #198                // Field org/infinispan/remoting/rpc/ResponseMode.ASYNCHRONOUS:Lorg/infinispan/remoting/rpc/ResponseMode;
      55: lconst_0
      56: aconst_null
      57: getstatic     #184                // Field org/infinispan/remoting/inboundhandler/DeliverOrder.NONE:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      60: iconst_0
      61: invokeinterface #185,  9          // InterfaceMethod org/infinispan/remoting/transport/Transport.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/ResponseMode;JLorg/infinispan/remoting/rpc/ResponseFilter;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;Z)Ljava/util/Map;
      66: pop
      67: return

  private java.util.Map<org.infinispan.remoting.transport.Address, java.lang.Object> executeOnClusterSync(org.infinispan.commands.ReplicableCommand, int, boolean, boolean) throws java.lang.Exception;
    Code:
       0: iload_3
       1: ifeq          207
       4: aload_0
       5: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       8: aconst_null
       9: aload_1
      10: getstatic     #199                // Field org/infinispan/remoting/rpc/ResponseMode.SYNCHRONOUS_IGNORE_LEAVERS:Lorg/infinispan/remoting/rpc/ResponseMode;
      13: iload_2
      14: i2l
      15: aconst_null
      16: getstatic     #200                // Field org/infinispan/remoting/inboundhandler/DeliverOrder.TOTAL:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      19: iload         4
      21: invokeinterface #185,  9          // InterfaceMethod org/infinispan/remoting/transport/Transport.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/ResponseMode;JLorg/infinispan/remoting/rpc/ResponseFilter;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;Z)Ljava/util/Map;
      26: astore        5
      28: new           #9                  // class java/util/HashMap
      31: dup
      32: aload_0
      33: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
      36: invokeinterface #201,  1          // InterfaceMethod org/infinispan/remoting/transport/Transport.getMembers:()Ljava/util/List;
      41: invokeinterface #202,  1          // InterfaceMethod java/util/List.size:()I
      46: invokespecial #203                // Method java/util/HashMap."<init>":(I)V
      49: astore        6
      51: aload         5
      53: invokeinterface #75,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      58: invokeinterface #76,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      63: astore        7
      65: aload         7
      67: invokeinterface #77,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      72: ifeq          204
      75: aload         7
      77: invokeinterface #78,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      82: checkcast     #79                 // class java/util/Map$Entry
      85: astore        8
      87: aload         8
      89: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      94: checkcast     #204                // class org/infinispan/remoting/transport/Address
      97: astore        9
      99: aload         8
     101: invokeinterface #205,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     106: checkcast     #178                // class org/infinispan/remoting/responses/Response
     109: astore        10
     111: aload         10
     113: invokeinterface #186,  1          // InterfaceMethod org/infinispan/remoting/responses/Response.isSuccessful:()Z
     118: ifne          183
     121: aload         10
     123: instanceof    #187                // class org/infinispan/remoting/responses/ExceptionResponse
     126: ifeq          140
     129: aload         10
     131: checkcast     #187                // class org/infinispan/remoting/responses/ExceptionResponse
     134: invokevirtual #188                // Method org/infinispan/remoting/responses/ExceptionResponse.getException:()Ljava/lang/Exception;
     137: goto          141
     140: aconst_null
     141: astore        11
     143: new           #179                // class org/infinispan/commons/CacheException
     146: dup
     147: new           #189                // class java/lang/StringBuilder
     150: dup
     151: invokespecial #190                // Method java/lang/StringBuilder."<init>":()V
     154: ldc           #206                // String Unsuccessful response received from node
     156: invokevirtual #192                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     159: aload         9
     161: invokevirtual #193                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     164: ldc           #207                // String :
     166: invokevirtual #192                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     169: aload         10
     171: invokevirtual #193                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     174: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     177: aload         11
     179: invokespecial #181                // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     182: athrow
     183: aload         6
     185: aload         9
     187: aload         10
     189: checkcast     #91                 // class org/infinispan/remoting/responses/SuccessfulResponse
     192: invokevirtual #92                 // Method org/infinispan/remoting/responses/SuccessfulResponse.getResponseValue:()Ljava/lang/Object;
     195: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     200: pop
     201: goto          65
     204: aload         6
     206: areturn
     207: aload_0
     208: getfield      #13                 // Field asyncTransportExecutor:Ljava/util/concurrent/ExecutorService;
     211: new           #208                // class org/infinispan/topology/LocalTopologyManagerImpl$5
     214: dup
     215: aload_0
     216: aload_1
     217: iload_2
     218: invokespecial #209                // Method org/infinispan/topology/LocalTopologyManagerImpl$5."<init>":(Lorg/infinispan/topology/LocalTopologyManagerImpl;Lorg/infinispan/commands/ReplicableCommand;I)V
     221: invokeinterface #210,  2          // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/util/concurrent/Callable;)Ljava/util/concurrent/Future;
     226: astore        5
     228: aload_0
     229: getfield      #2                  // Field gcr:Lorg/infinispan/factories/GlobalComponentRegistry;
     232: aload_1
     233: invokevirtual #89                 // Method org/infinispan/factories/GlobalComponentRegistry.wireDependencies:(Ljava/lang/Object;)V
     236: getstatic     #4                  // Field trace:Z
     239: ifeq          253
     242: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     245: ldc           #177                // String Attempting to execute command on self: %s
     247: aload_1
     248: invokeinterface #19,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     253: aload_1
     254: aconst_null
     255: invokeinterface #90,  2           // InterfaceMethod org/infinispan/commands/ReplicableCommand.perform:(Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
     260: checkcast     #178                // class org/infinispan/remoting/responses/Response
     263: astore        6
     265: goto          280
     268: astore        7
     270: new           #51                 // class java/lang/Exception
     273: dup
     274: aload         7
     276: invokespecial #211                // Method java/lang/Exception."<init>":(Ljava/lang/Throwable;)V
     279: athrow
     280: aload         6
     282: invokeinterface #186,  1          // InterfaceMethod org/infinispan/remoting/responses/Response.isSuccessful:()Z
     287: ifne          300
     290: new           #179                // class org/infinispan/commons/CacheException
     293: dup
     294: ldc           #212                // String Unsuccessful local response
     296: invokespecial #213                // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;)V
     299: athrow
     300: aload         5
     302: iload_2
     303: i2l
     304: getstatic     #34                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     307: invokeinterface #214,  4          // InterfaceMethod java/util/concurrent/Future.get:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     312: checkcast     #215                // class java/util/Map
     315: astore        7
     317: new           #9                  // class java/util/HashMap
     320: dup
     321: aload_0
     322: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
     325: invokeinterface #201,  1          // InterfaceMethod org/infinispan/remoting/transport/Transport.getMembers:()Ljava/util/List;
     330: invokeinterface #202,  1          // InterfaceMethod java/util/List.size:()I
     335: invokespecial #203                // Method java/util/HashMap."<init>":(I)V
     338: astore        8
     340: aload         7
     342: invokeinterface #75,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     347: invokeinterface #76,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     352: astore        9
     354: aload         9
     356: invokeinterface #77,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     361: ifeq          493
     364: aload         9
     366: invokeinterface #78,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     371: checkcast     #79                 // class java/util/Map$Entry
     374: astore        10
     376: aload         10
     378: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     383: checkcast     #204                // class org/infinispan/remoting/transport/Address
     386: astore        11
     388: aload         10
     390: invokeinterface #205,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     395: checkcast     #178                // class org/infinispan/remoting/responses/Response
     398: astore        12
     400: aload         12
     402: invokeinterface #186,  1          // InterfaceMethod org/infinispan/remoting/responses/Response.isSuccessful:()Z
     407: ifne          472
     410: aload         12
     412: instanceof    #187                // class org/infinispan/remoting/responses/ExceptionResponse
     415: ifeq          429
     418: aload         12
     420: checkcast     #187                // class org/infinispan/remoting/responses/ExceptionResponse
     423: invokevirtual #188                // Method org/infinispan/remoting/responses/ExceptionResponse.getException:()Ljava/lang/Exception;
     426: goto          430
     429: aconst_null
     430: astore        13
     432: new           #179                // class org/infinispan/commons/CacheException
     435: dup
     436: new           #189                // class java/lang/StringBuilder
     439: dup
     440: invokespecial #190                // Method java/lang/StringBuilder."<init>":()V
     443: ldc           #206                // String Unsuccessful response received from node
     445: invokevirtual #192                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     448: aload         11
     450: invokevirtual #193                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     453: ldc           #207                // String :
     455: invokevirtual #192                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     458: aload         12
     460: invokevirtual #193                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     463: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     466: aload         13
     468: invokespecial #181                // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     471: athrow
     472: aload         8
     474: aload         11
     476: aload         12
     478: checkcast     #91                 // class org/infinispan/remoting/responses/SuccessfulResponse
     481: invokevirtual #92                 // Method org/infinispan/remoting/responses/SuccessfulResponse.getResponseValue:()Ljava/lang/Object;
     484: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     489: pop
     490: goto          354
     493: aload         8
     495: aload_0
     496: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
     499: invokeinterface #18,  1           // InterfaceMethod org/infinispan/remoting/transport/Transport.getAddress:()Lorg/infinispan/remoting/transport/Address;
     504: aload         6
     506: checkcast     #91                 // class org/infinispan/remoting/responses/SuccessfulResponse
     509: invokevirtual #92                 // Method org/infinispan/remoting/responses/SuccessfulResponse.getResponseValue:()Ljava/lang/Object;
     512: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     517: pop
     518: aload         8
     520: areturn
    Exception table:
       from    to  target type
         236   265   268   Class java/lang/Throwable

  private int getGlobalTimeout();
    Code:
       0: aload_0
       1: getfield      #2                  // Field gcr:Lorg/infinispan/factories/GlobalComponentRegistry;
       4: invokevirtual #216                // Method org/infinispan/factories/GlobalComponentRegistry.getGlobalConfiguration:()Lorg/infinispan/configuration/global/GlobalConfiguration;
       7: invokevirtual #217                // Method org/infinispan/configuration/global/GlobalConfiguration.transport:()Lorg/infinispan/configuration/global/TransportConfiguration;
      10: invokevirtual #218                // Method org/infinispan/configuration/global/TransportConfiguration.distributedSyncTimeout:()J
      13: l2i
      14: ireturn

  public void prepareForPersist(org.infinispan.globalstate.ScopedPersistentState);
    Code:
       0: aload_1
       1: ldc           #219                // String uuid
       3: aload_0
       4: getfield      #20                 // Field persistentUUID:Lorg/infinispan/topology/PersistentUUID;
       7: invokevirtual #220                // Method org/infinispan/topology/PersistentUUID.toString:()Ljava/lang/String;
      10: invokeinterface #221,  3          // InterfaceMethod org/infinispan/globalstate/ScopedPersistentState.setProperty:(Ljava/lang/String;Ljava/lang/String;)V
      15: return

  public void prepareForRestore(org.infinispan.globalstate.ScopedPersistentState);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #219                // String uuid
       4: invokeinterface #222,  2          // InterfaceMethod org/infinispan/globalstate/ScopedPersistentState.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       9: invokestatic  #223                // Method org/infinispan/topology/PersistentUUID.fromString:(Ljava/lang/String;)Lorg/infinispan/topology/PersistentUUID;
      12: putfield      #20                 // Field persistentUUID:Lorg/infinispan/topology/PersistentUUID;
      15: return

  public org.infinispan.topology.PersistentUUID getPersistentUUID();
    Code:
       0: aload_0
       1: getfield      #20                 // Field persistentUUID:Lorg/infinispan/topology/PersistentUUID;
       4: areturn

  static boolean access$000();
    Code:
       0: getstatic     #4                  // Field trace:Z
       3: ireturn

  static org.infinispan.util.logging.Log access$100();
    Code:
       0: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       3: areturn

  static org.infinispan.factories.GlobalComponentRegistry access$200(org.infinispan.topology.LocalTopologyManagerImpl);
    Code:
       0: aload_0
       1: getfield      #2                  // Field gcr:Lorg/infinispan/factories/GlobalComponentRegistry;
       4: areturn

  static org.infinispan.remoting.transport.Transport access$300(org.infinispan.topology.LocalTopologyManagerImpl);
    Code:
       0: aload_0
       1: getfield      #1                  // Field transport:Lorg/infinispan/remoting/transport/Transport;
       4: areturn

  static {};
    Code:
       0: ldc           #224                // class org/infinispan/topology/LocalTopologyManagerImpl
       2: invokestatic  #225                // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #226,  1          // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #4                  // Field trace:Z
      19: return
}
