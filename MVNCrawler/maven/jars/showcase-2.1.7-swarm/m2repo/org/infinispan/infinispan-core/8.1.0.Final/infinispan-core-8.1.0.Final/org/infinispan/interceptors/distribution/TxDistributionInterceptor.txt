Compiled from "TxDistributionInterceptor.java"
public class org.infinispan.interceptors.distribution.TxDistributionInterceptor extends org.infinispan.interceptors.distribution.BaseDistributionInterceptor {
  private static org.infinispan.util.logging.Log log;

  private static final boolean trace;

  private org.infinispan.partitionhandling.impl.PartitionHandlingManager partitionHandlingManager;

  private boolean isPessimisticCache;

  private boolean useClusteredWriteSkewCheck;

  public org.infinispan.interceptors.distribution.TxDistributionInterceptor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/interceptors/distribution/BaseDistributionInterceptor."<init>":()V
       4: return

  public void inject(org.infinispan.partitionhandling.impl.PartitionHandlingManager);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field partitionHandlingManager:Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
       5: return

  public void start();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #3                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       5: invokevirtual #4                  // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
       8: invokevirtual #5                  // Method org/infinispan/configuration/cache/TransactionConfiguration.lockingMode:()Lorg/infinispan/transaction/LockingMode;
      11: getstatic     #6                  // Field org/infinispan/transaction/LockingMode.PESSIMISTIC:Lorg/infinispan/transaction/LockingMode;
      14: if_acmpne     21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: putfield      #7                  // Field isPessimisticCache:Z
      25: aload_0
      26: aload_0
      27: getfield      #3                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
      30: invokestatic  #8                  // Method org/infinispan/configuration/cache/Configurations.isVersioningEnabled:(Lorg/infinispan/configuration/cache/Configuration;)Z
      33: putfield      #9                  // Field useClusteredWriteSkewCheck:Z
      36: return

  public java.lang.Object visitReplaceCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ReplaceCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_2
       4: invokevirtual #10                 // Method org/infinispan/commands/write/ReplaceCommand.getKey:()Ljava/lang/Object;
       7: invokespecial #11                 // Method handleTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;Ljava/lang/Object;)Ljava/lang/Object;
      10: astore_3
      11: aload_1
      12: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      17: ifeq          40
      20: aload_2
      21: aload_2
      22: invokevirtual #13                 // Method org/infinispan/commands/write/ReplaceCommand.isSuccessful:()Z
      25: ifeq          34
      28: getstatic     #14                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_ALWAYS:Lorg/infinispan/commands/write/ValueMatcher;
      31: goto          37
      34: getstatic     #15                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_NEVER:Lorg/infinispan/commands/write/ValueMatcher;
      37: invokevirtual #16                 // Method org/infinispan/commands/write/ReplaceCommand.setValueMatcher:(Lorg/infinispan/commands/write/ValueMatcher;)V
      40: aload_3
      41: areturn
      42: astore        4
      44: aload_1
      45: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      50: ifeq          73
      53: aload_2
      54: aload_2
      55: invokevirtual #13                 // Method org/infinispan/commands/write/ReplaceCommand.isSuccessful:()Z
      58: ifeq          67
      61: getstatic     #14                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_ALWAYS:Lorg/infinispan/commands/write/ValueMatcher;
      64: goto          70
      67: getstatic     #15                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_NEVER:Lorg/infinispan/commands/write/ValueMatcher;
      70: invokevirtual #16                 // Method org/infinispan/commands/write/ReplaceCommand.setValueMatcher:(Lorg/infinispan/commands/write/ValueMatcher;)V
      73: aload         4
      75: athrow
    Exception table:
       from    to  target type
           0    11    42   any
          42    44    42   any

  public java.lang.Object visitRemoveCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.RemoveCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_2
       4: invokevirtual #17                 // Method org/infinispan/commands/write/RemoveCommand.getKey:()Ljava/lang/Object;
       7: invokespecial #11                 // Method handleTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;Ljava/lang/Object;)Ljava/lang/Object;
      10: astore_3
      11: aload_1
      12: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      17: ifeq          40
      20: aload_2
      21: aload_2
      22: invokevirtual #18                 // Method org/infinispan/commands/write/RemoveCommand.isSuccessful:()Z
      25: ifeq          34
      28: getstatic     #14                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_ALWAYS:Lorg/infinispan/commands/write/ValueMatcher;
      31: goto          37
      34: getstatic     #15                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_NEVER:Lorg/infinispan/commands/write/ValueMatcher;
      37: invokevirtual #19                 // Method org/infinispan/commands/write/RemoveCommand.setValueMatcher:(Lorg/infinispan/commands/write/ValueMatcher;)V
      40: aload_3
      41: areturn
      42: astore        4
      44: aload_1
      45: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      50: ifeq          73
      53: aload_2
      54: aload_2
      55: invokevirtual #18                 // Method org/infinispan/commands/write/RemoveCommand.isSuccessful:()Z
      58: ifeq          67
      61: getstatic     #14                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_ALWAYS:Lorg/infinispan/commands/write/ValueMatcher;
      64: goto          70
      67: getstatic     #15                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_NEVER:Lorg/infinispan/commands/write/ValueMatcher;
      70: invokevirtual #19                 // Method org/infinispan/commands/write/RemoveCommand.setValueMatcher:(Lorg/infinispan/commands/write/ValueMatcher;)V
      73: aload         4
      75: athrow
    Exception table:
       from    to  target type
           0    11    42   any
          42    44    42   any

  public java.lang.Object visitPutKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: getstatic     #20                 // Field org/infinispan/context/Flag.PUT_FOR_EXTERNAL_READ:Lorg/infinispan/context/Flag;
       4: invokevirtual #21                 // Method org/infinispan/commands/write/PutKeyValueCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
       7: ifeq          17
      10: aload_0
      11: aload_1
      12: aload_2
      13: invokevirtual #22                 // Method handleNonTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/DataWriteCommand;)Ljava/lang/Object;
      16: areturn
      17: aload_0
      18: aload_1
      19: aload_2
      20: aload_2
      21: invokevirtual #23                 // Method org/infinispan/commands/write/PutKeyValueCommand.getKey:()Ljava/lang/Object;
      24: invokespecial #11                 // Method handleTxWriteCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;Ljava/lang/Object;)Ljava/lang/Object;
      27: astore_3
      28: aload_1
      29: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      34: ifeq          57
      37: aload_2
      38: aload_2
      39: invokevirtual #24                 // Method org/infinispan/commands/write/PutKeyValueCommand.isSuccessful:()Z
      42: ifeq          51
      45: getstatic     #14                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_ALWAYS:Lorg/infinispan/commands/write/ValueMatcher;
      48: goto          54
      51: getstatic     #15                 // Field org/infinispan/commands/write/ValueMatcher.MATCH_NEVER:Lorg/infinispan/commands/write/ValueMatcher;
      54: invokevirtual #25                 // Method org/infinispan/commands/write/PutKeyValueCommand.setValueMatcher:(Lorg/infinispan/commands/write/ValueMatcher;)V
      57: aload_3
      58: areturn

  public java.lang.Object visitPutMapCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutMapCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #26                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitGetKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #27                 // Method visitGetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitGetCacheEntryCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetCacheEntryCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #27                 // Method visitGetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Ljava/lang/Object;
       6: areturn

  private java.lang.Object visitGetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.AbstractDataCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #28                 // Method org/infinispan/commands/read/AbstractDataCommand.getKey:()Ljava/lang/Object;
       4: astore_3
       5: aload_1
       6: aload_3
       7: invokeinterface #29,  2           // InterfaceMethod org/infinispan/context/InvocationContext.lookupEntry:(Ljava/lang/Object;)Lorg/infinispan/container/entries/CacheEntry;
      12: astore        4
      14: aload_1
      15: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      20: ifeq          66
      23: aload_0
      24: aload         4
      26: invokevirtual #30                 // Method valueIsMissing:(Lorg/infinispan/container/entries/CacheEntry;)Z
      29: ifeq          66
      32: aconst_null
      33: astore        5
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #31                 // Method readNeedsRemoteValue:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Z
      41: ifeq          54
      44: aload_0
      45: aload_1
      46: aload_3
      47: iconst_0
      48: aload_2
      49: invokevirtual #32                 // Method remoteGet:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;ZLorg/infinispan/commands/FlagAffectedCommand;)Lorg/infinispan/container/entries/InternalCacheEntry;
      52: astore        5
      54: aload         5
      56: ifnonnull     66
      59: aload_0
      60: aload_1
      61: aload_3
      62: iconst_0
      63: invokespecial #33                 // Method localGet:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Z)V
      66: aload_0
      67: aload_1
      68: aload_2
      69: invokevirtual #26                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      72: areturn

  public java.lang.Object visitLockControlCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.control.LockControlCommand) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #34,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
       6: ifeq          119
       9: aload_0
      10: getfield      #35                 // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      13: aload_2
      14: invokevirtual #36                 // Method org/infinispan/commands/control/LockControlCommand.getKeys:()Ljava/util/Collection;
      17: invokestatic  #37                 // Method org/infinispan/util/DeltaCompositeKeyUtil.filterDeltaCompositeKeys:(Ljava/util/Collection;)Ljava/util/Collection;
      20: invokeinterface #38,  2           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getOwners:(Ljava/util/Collection;)Ljava/util/List;
      25: astore_3
      26: aload_1
      27: checkcast     #39                 // class org/infinispan/context/impl/LocalTxInvocationContext
      30: aload_3
      31: ifnonnull     51
      34: aload_0
      35: getfield      #40                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
      38: invokeinterface #41,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      43: invokeinterface #42,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getMembers:()Ljava/util/List;
      48: goto          52
      51: aload_3
      52: invokevirtual #43                 // Method org/infinispan/context/impl/LocalTxInvocationContext.remoteLocksAcquired:(Ljava/util/Collection;)V
      55: getstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
      58: ldc           #45                 // String Registered remote locks acquired %s
      60: aload_3
      61: invokeinterface #46,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      66: aload_0
      67: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      70: getstatic     #48                 // Field org/infinispan/remoting/rpc/ResponseMode.SYNCHRONOUS_IGNORE_LEAVERS:Lorg/infinispan/remoting/rpc/ResponseMode;
      73: getstatic     #49                 // Field org/infinispan/remoting/inboundhandler/DeliverOrder.NONE:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      76: invokeinterface #50,  3           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getRpcOptionsBuilder:(Lorg/infinispan/remoting/rpc/ResponseMode;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;)Lorg/infinispan/remoting/rpc/RpcOptionsBuilder;
      81: invokevirtual #51                 // Method org/infinispan/remoting/rpc/RpcOptionsBuilder.build:()Lorg/infinispan/remoting/rpc/RpcOptions;
      84: astore        4
      86: aload_0
      87: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      90: aload_3
      91: aload_2
      92: aload         4
      94: invokeinterface #52,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/Map;
      99: astore        5
     101: aload_0
     102: aload         5
     104: aload_2
     105: aload_1
     106: checkcast     #39                 // class org/infinispan/context/impl/LocalTxInvocationContext
     109: aload_1
     110: checkcast     #39                 // class org/infinispan/context/impl/LocalTxInvocationContext
     113: invokevirtual #53                 // Method org/infinispan/context/impl/LocalTxInvocationContext.getRemoteLocksAcquired:()Ljava/util/Collection;
     116: invokevirtual #54                 // Method checkTxCommandResponses:(Ljava/util/Map;Lorg/infinispan/commands/tx/TransactionBoundaryCommand;Lorg/infinispan/context/impl/LocalTxInvocationContext;Ljava/util/Collection;)V
     119: aload_0
     120: aload_1
     121: aload_2
     122: invokevirtual #26                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     125: areturn

  public java.lang.Object visitCommitCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.CommitCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #55                 // Method shouldInvokeRemoteTxCommand:(Lorg/infinispan/context/impl/TxInvocationContext;)Z
       5: ifeq          43
       8: aload_0
       9: aload_1
      10: invokespecial #56                 // Method getCommitNodes:(Lorg/infinispan/context/impl/TxInvocationContext;)Ljava/util/Collection;
      13: astore_3
      14: aload_0
      15: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      18: aload_3
      19: aload_2
      20: aload_0
      21: invokespecial #57                 // Method createCommitRpcOptions:()Lorg/infinispan/remoting/rpc/RpcOptions;
      24: invokeinterface #52,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/Map;
      29: astore        4
      31: aload_0
      32: aload         4
      34: aload_2
      35: aload_1
      36: checkcast     #39                 // class org/infinispan/context/impl/LocalTxInvocationContext
      39: aload_3
      40: invokevirtual #54                 // Method checkTxCommandResponses:(Ljava/util/Map;Lorg/infinispan/commands/tx/TransactionBoundaryCommand;Lorg/infinispan/context/impl/LocalTxInvocationContext;Ljava/util/Collection;)V
      43: aload_0
      44: aload_1
      45: aload_2
      46: invokevirtual #26                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      49: areturn

  public java.lang.Object visitPrepareCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.PrepareCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #26                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: astore_3
       7: aload_0
       8: aload_1
       9: invokevirtual #55                 // Method shouldInvokeRemoteTxCommand:(Lorg/infinispan/context/impl/TxInvocationContext;)Z
      12: ifeq          69
      15: aload_0
      16: getfield      #35                 // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      19: aload_1
      20: invokestatic  #58                 // Method org/infinispan/util/DeltaCompositeKeyUtil.getAffectedKeysFromContext:(Lorg/infinispan/context/impl/TxInvocationContext;)Ljava/util/Collection;
      23: invokeinterface #38,  2           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getOwners:(Ljava/util/Collection;)Ljava/util/List;
      28: astore        4
      30: aload_0
      31: aload_1
      32: aload_2
      33: aload         4
      35: invokevirtual #59                 // Method prepareOnAffectedNodes:(Lorg/infinispan/context/impl/TxInvocationContext;Lorg/infinispan/commands/tx/PrepareCommand;Ljava/util/Collection;)V
      38: aload_1
      39: checkcast     #39                 // class org/infinispan/context/impl/LocalTxInvocationContext
      42: aload         4
      44: ifnonnull     64
      47: aload_0
      48: getfield      #40                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
      51: invokeinterface #60,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getWriteConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      56: invokeinterface #42,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getMembers:()Ljava/util/List;
      61: goto          66
      64: aload         4
      66: invokevirtual #43                 // Method org/infinispan/context/impl/LocalTxInvocationContext.remoteLocksAcquired:(Ljava/util/Collection;)V
      69: aload_3
      70: areturn

  protected void prepareOnAffectedNodes(org.infinispan.context.impl.TxInvocationContext<?>, org.infinispan.commands.tx.PrepareCommand, java.util.Collection<org.infinispan.remoting.transport.Address>);
    Code:
       0: aload_0
       1: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
       4: aload_3
       5: aload_2
       6: aload_0
       7: invokevirtual #61                 // Method createPrepareRpcOptions:()Lorg/infinispan/remoting/rpc/RpcOptions;
      10: invokeinterface #52,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/Map;
      15: astore        4
      17: aload_0
      18: aload         4
      20: aload_2
      21: aload_1
      22: checkcast     #39                 // class org/infinispan/context/impl/LocalTxInvocationContext
      25: aload_3
      26: invokevirtual #54                 // Method checkTxCommandResponses:(Ljava/util/Map;Lorg/infinispan/commands/tx/TransactionBoundaryCommand;Lorg/infinispan/context/impl/LocalTxInvocationContext;Ljava/util/Collection;)V
      29: aload_1
      30: invokestatic  #62                 // Method transactionRemotelyPrepared:(Lorg/infinispan/context/impl/TxInvocationContext;)V
      33: goto          45
      36: astore        5
      38: aload_1
      39: invokestatic  #62                 // Method transactionRemotelyPrepared:(Lorg/infinispan/context/impl/TxInvocationContext;)V
      42: aload         5
      44: athrow
      45: return
    Exception table:
       from    to  target type
           0    29    36   any
          36    38    36   any

  public java.lang.Object visitRollbackCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.RollbackCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #55                 // Method shouldInvokeRemoteTxCommand:(Lorg/infinispan/context/impl/TxInvocationContext;)Z
       5: ifeq          43
       8: aload_0
       9: aload_1
      10: invokespecial #56                 // Method getCommitNodes:(Lorg/infinispan/context/impl/TxInvocationContext;)Ljava/util/Collection;
      13: astore_3
      14: aload_0
      15: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      18: aload_3
      19: aload_2
      20: aload_0
      21: invokespecial #63                 // Method createRollbackRpcOptions:()Lorg/infinispan/remoting/rpc/RpcOptions;
      24: invokeinterface #52,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/Map;
      29: astore        4
      31: aload_0
      32: aload         4
      34: aload_2
      35: aload_1
      36: checkcast     #39                 // class org/infinispan/context/impl/LocalTxInvocationContext
      39: aload_3
      40: invokevirtual #54                 // Method checkTxCommandResponses:(Ljava/util/Map;Lorg/infinispan/commands/tx/TransactionBoundaryCommand;Lorg/infinispan/context/impl/LocalTxInvocationContext;Ljava/util/Collection;)V
      43: aload_0
      44: aload_1
      45: aload_2
      46: invokevirtual #26                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      49: areturn

  private java.util.Collection<org.infinispan.remoting.transport.Address> getCommitNodes(org.infinispan.context.impl.TxInvocationContext);
    Code:
       0: aload_1
       1: invokeinterface #64,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
       6: checkcast     #65                 // class org/infinispan/transaction/impl/LocalTransaction
       9: astore_2
      10: aload_0
      11: getfield      #35                 // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      14: aload_1
      15: invokestatic  #58                 // Method org/infinispan/util/DeltaCompositeKeyUtil.getAffectedKeysFromContext:(Lorg/infinispan/context/impl/TxInvocationContext;)Ljava/util/Collection;
      18: invokeinterface #38,  2           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getOwners:(Ljava/util/Collection;)Ljava/util/List;
      23: astore_3
      24: aload_0
      25: getfield      #40                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
      28: invokeinterface #41,  1           // InterfaceMethod org/infinispan/distribution/DistributionManager.getConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      33: invokeinterface #42,  1           // InterfaceMethod org/infinispan/distribution/ch/ConsistentHash.getMembers:()Ljava/util/List;
      38: astore        4
      40: aload_2
      41: aload_3
      42: aload_0
      43: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      46: invokeinterface #66,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getTopologyId:()I
      51: aload         4
      53: invokevirtual #67                 // Method org/infinispan/transaction/impl/LocalTransaction.getCommitNodes:(Ljava/util/Collection;ILjava/util/Collection;)Ljava/util/Collection;
      56: areturn

  protected void checkTxCommandResponses(java.util.Map<org.infinispan.remoting.transport.Address, org.infinispan.remoting.responses.Response>, org.infinispan.commands.tx.TransactionBoundaryCommand, org.infinispan.context.impl.LocalTxInvocationContext, java.util.Collection<org.infinispan.remoting.transport.Address>);
    Code:
       0: aconst_null
       1: astore        5
       3: aload_1
       4: invokeinterface #68,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
       9: invokeinterface #69,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      14: astore        6
      16: aload         6
      18: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          257
      26: aload         6
      28: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #72                 // class java/util/Map$Entry
      36: astore        7
      38: aload         7
      40: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      45: checkcast     #74                 // class org/infinispan/remoting/transport/Address
      48: astore        8
      50: aload         7
      52: invokeinterface #75,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      57: checkcast     #76                 // class org/infinispan/remoting/responses/Response
      60: astore        9
      62: aload         9
      64: getstatic     #77                 // Field org/infinispan/remoting/responses/CacheNotFoundResponse.INSTANCE:Lorg/infinispan/remoting/responses/CacheNotFoundResponse;
      67: if_acmpne     205
      70: aload_2
      71: invokeinterface #78,  1           // InterfaceMethod org/infinispan/commands/tx/TransactionBoundaryCommand.getTopologyId:()I
      76: aload_0
      77: getfield      #79                 // Field stateTransferManager:Lorg/infinispan/statetransfer/StateTransferManager;
      80: invokeinterface #80,  1           // InterfaceMethod org/infinispan/statetransfer/StateTransferManager.getCacheTopology:()Lorg/infinispan/topology/CacheTopology;
      85: invokevirtual #81                 // Method org/infinispan/topology/CacheTopology.getTopologyId:()I
      88: if_icmpne     131
      91: aload_0
      92: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      95: invokeinterface #82,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getMembers:()Ljava/util/List;
     100: aload         8
     102: invokeinterface #83,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     107: ifne          131
     110: getstatic     #84                 // Field trace:Z
     113: ifeq          254
     116: getstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
     119: ldc           #85                 // String Ignoring response from node not targeted %s
     121: aload         8
     123: invokeinterface #46,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     128: goto          254
     131: aload_0
     132: aload_2
     133: aload_3
     134: aload         4
     136: invokespecial #86                 // Method checkCacheNotFoundResponseInPartitionHandling:(Lorg/infinispan/commands/tx/TransactionBoundaryCommand;Lorg/infinispan/context/impl/LocalTxInvocationContext;Ljava/util/Collection;)Z
     139: ifeq          161
     142: getstatic     #84                 // Field trace:Z
     145: ifeq          160
     148: getstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
     151: ldc           #87                 // String Cache not running on node %s, or the node is missing. It will be handled by the PartitionHandlingManager
     153: aload         8
     155: invokeinterface #46,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     160: return
     161: getstatic     #84                 // Field trace:Z
     164: ifeq          179
     167: getstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
     170: ldc           #88                 // String Cache not running on node %s, or the node is missing
     172: aload         8
     174: invokeinterface #46,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     179: new           #89                 // class org/infinispan/statetransfer/OutdatedTopologyException
     182: dup
     183: ldc           #88                 // String Cache not running on node %s, or the node is missing
     185: iconst_1
     186: anewarray     #90                 // class java/lang/Object
     189: dup
     190: iconst_0
     191: aload         8
     193: aastore
     194: invokestatic  #91                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     197: invokespecial #92                 // Method org/infinispan/statetransfer/OutdatedTopologyException."<init>":(Ljava/lang/String;)V
     200: astore        5
     202: goto          254
     205: aload         9
     207: getstatic     #93                 // Field org/infinispan/remoting/responses/UnsureResponse.INSTANCE:Lorg/infinispan/remoting/responses/UnsureResponse;
     210: if_acmpne     254
     213: getstatic     #84                 // Field trace:Z
     216: ifeq          231
     219: getstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
     222: ldc           #94                 // String Node %s has a newer topology id
     224: aload         8
     226: invokeinterface #46,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     231: new           #89                 // class org/infinispan/statetransfer/OutdatedTopologyException
     234: dup
     235: ldc           #94                 // String Node %s has a newer topology id
     237: iconst_1
     238: anewarray     #90                 // class java/lang/Object
     241: dup
     242: iconst_0
     243: aload         8
     245: aastore
     246: invokestatic  #91                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     249: invokespecial #92                 // Method org/infinispan/statetransfer/OutdatedTopologyException."<init>":(Ljava/lang/String;)V
     252: astore        5
     254: goto          16
     257: aload         5
     259: ifnull        265
     262: aload         5
     264: athrow
     265: return

  private boolean checkCacheNotFoundResponseInPartitionHandling(org.infinispan.commands.tx.TransactionBoundaryCommand, org.infinispan.context.impl.LocalTxInvocationContext, java.util.Collection<org.infinispan.remoting.transport.Address>);
    Code:
       0: aload_1
       1: invokeinterface #95,  1           // InterfaceMethod org/infinispan/commands/tx/TransactionBoundaryCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
       6: astore        4
       8: aload_2
       9: invokevirtual #96                 // Method org/infinispan/context/impl/LocalTxInvocationContext.getLockedKeys:()Ljava/util/Set;
      12: astore        5
      14: aload_1
      15: instanceof    #97                 // class org/infinispan/commands/tx/RollbackCommand
      18: ifeq          36
      21: aload_0
      22: getfield      #2                  // Field partitionHandlingManager:Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
      25: aload         4
      27: aload_3
      28: aload         5
      30: invokeinterface #98,  4           // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.addPartialRollbackTransaction:(Lorg/infinispan/transaction/xa/GlobalTransaction;Ljava/util/Collection;Ljava/util/Collection;)Z
      35: ireturn
      36: aload_1
      37: instanceof    #99                 // class org/infinispan/commands/tx/PrepareCommand
      40: ifeq          78
      43: aload_1
      44: checkcast     #99                 // class org/infinispan/commands/tx/PrepareCommand
      47: invokevirtual #100                // Method org/infinispan/commands/tx/PrepareCommand.isOnePhaseCommit:()Z
      50: ifeq          121
      53: aload_0
      54: getfield      #2                  // Field partitionHandlingManager:Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
      57: aload         4
      59: aload_3
      60: aload         5
      62: aload_1
      63: checkcast     #99                 // class org/infinispan/commands/tx/PrepareCommand
      66: invokevirtual #101                // Method org/infinispan/commands/tx/PrepareCommand.getModifications:()[Lorg/infinispan/commands/write/WriteCommand;
      69: invokestatic  #102                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      72: invokeinterface #103,  5          // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.addPartialCommit1PCTransaction:(Lorg/infinispan/transaction/xa/GlobalTransaction;Ljava/util/Collection;Ljava/util/Collection;Ljava/util/List;)Z
      77: ireturn
      78: aload_1
      79: instanceof    #104                // class org/infinispan/commands/tx/CommitCommand
      82: ifeq          121
      85: aconst_null
      86: astore        6
      88: aload_1
      89: instanceof    #105                // class org/infinispan/commands/tx/VersionedCommitCommand
      92: ifeq          104
      95: aload_1
      96: checkcast     #105                // class org/infinispan/commands/tx/VersionedCommitCommand
      99: invokevirtual #106                // Method org/infinispan/commands/tx/VersionedCommitCommand.getUpdatedVersions:()Lorg/infinispan/container/versioning/EntryVersionsMap;
     102: astore        6
     104: aload_0
     105: getfield      #2                  // Field partitionHandlingManager:Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
     108: aload         4
     110: aload_3
     111: aload         5
     113: aload         6
     115: invokeinterface #107,  5          // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.addPartialCommit2PCTransaction:(Lorg/infinispan/transaction/xa/GlobalTransaction;Ljava/util/Collection;Ljava/util/Collection;Lorg/infinispan/container/versioning/EntryVersionsMap;)Z
     120: ireturn
     121: iconst_0
     122: ireturn

  private java.lang.Object handleTxWriteCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.WriteCommand, java.lang.Object) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokevirtual #108                // Method remoteGetBeforeWrite:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;Ljava/lang/Object;)V
       7: aload_0
       8: aload_1
       9: aload_2
      10: invokevirtual #26                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      13: areturn

  protected boolean writeNeedsRemoteValue(org.infinispan.context.InvocationContext, org.infinispan.commands.write.WriteCommand, java.lang.Object);
    Code:
       0: aload_2
       1: getstatic     #109                // Field org/infinispan/context/Flag.CACHE_MODE_LOCAL:Lorg/infinispan/context/Flag;
       4: invokeinterface #110,  2          // InterfaceMethod org/infinispan/commands/write/WriteCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
       9: ifeq          14
      12: iconst_0
      13: ireturn
      14: aload_1
      15: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      20: ifeq          52
      23: aload_2
      24: invokeinterface #111,  1          // InterfaceMethod org/infinispan/commands/write/WriteCommand.readsExistingValues:()Z
      29: ifne          34
      32: iconst_0
      33: ireturn
      34: aload_2
      35: getstatic     #112                // Field org/infinispan/context/Flag.SKIP_REMOTE_LOOKUP:Lorg/infinispan/context/Flag;
      38: invokeinterface #110,  2          // InterfaceMethod org/infinispan/commands/write/WriteCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
      43: ifne          50
      46: iconst_1
      47: goto          51
      50: iconst_0
      51: ireturn
      52: aload_2
      53: invokeinterface #113,  1          // InterfaceMethod org/infinispan/commands/write/WriteCommand.alwaysReadsExistingValues:()Z
      58: ireturn

  private void localGet(org.infinispan.context.InvocationContext, java.lang.Object, boolean) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #40                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
       5: invokeinterface #114,  1          // InterfaceMethod org/infinispan/distribution/DistributionManager.getReadConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      10: aload_2
      11: invokevirtual #115                // Method fetchValueLocallyIfAvailable:(Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/lang/Object;)Lorg/infinispan/container/entries/InternalCacheEntry;
      14: astore        4
      16: aload         4
      18: ifnull        53
      21: iload_3
      22: ifeq          31
      25: getstatic     #116                // Field org/infinispan/container/EntryFactory$Wrap.WRAP_NON_NULL:Lorg/infinispan/container/EntryFactory$Wrap;
      28: goto          34
      31: getstatic     #117                // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
      34: astore        5
      36: aload_0
      37: getfield      #118                // Field entryFactory:Lorg/infinispan/container/EntryFactory;
      40: aload_1
      41: aload_2
      42: aload         4
      44: aload         5
      46: iconst_0
      47: invokeinterface #119,  6          // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
      52: pop
      53: return

  protected void remoteGetBeforeWrite(org.infinispan.context.InvocationContext, org.infinispan.commands.write.WriteCommand, java.lang.Object) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: aload_3
       2: invokeinterface #29,  2           // InterfaceMethod org/infinispan/context/InvocationContext.lookupEntry:(Ljava/lang/Object;)Lorg/infinispan/container/entries/CacheEntry;
       7: astore        4
       9: aload_0
      10: aload         4
      12: invokevirtual #30                 // Method valueIsMissing:(Lorg/infinispan/container/entries/CacheEntry;)Z
      15: ifne          19
      18: return
      19: aconst_null
      20: astore        5
      22: aload_0
      23: aload_1
      24: aload_2
      25: aload_3
      26: invokevirtual #120                // Method writeNeedsRemoteValue:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;Ljava/lang/Object;)Z
      29: ifeq          71
      32: aload_0
      33: aload_0
      34: getfield      #40                 // Field dm:Lorg/infinispan/distribution/DistributionManager;
      37: invokeinterface #114,  1          // InterfaceMethod org/infinispan/distribution/DistributionManager.getReadConsistentHash:()Lorg/infinispan/distribution/ch/ConsistentHash;
      42: aload_3
      43: invokevirtual #121                // Method isValueAvailableLocally:(Lorg/infinispan/distribution/ch/ConsistentHash;Ljava/lang/Object;)Z
      46: ifne          59
      49: aload_0
      50: aload_1
      51: aload_3
      52: iconst_1
      53: aload_2
      54: invokevirtual #32                 // Method remoteGet:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;ZLorg/infinispan/commands/FlagAffectedCommand;)Lorg/infinispan/container/entries/InternalCacheEntry;
      57: astore        5
      59: aload         5
      61: ifnonnull     71
      64: aload_0
      65: aload_1
      66: aload_3
      67: iconst_1
      68: invokespecial #33                 // Method localGet:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Z)V
      71: return

  protected org.infinispan.container.entries.InternalCacheEntry remoteGet(org.infinispan.context.InvocationContext, java.lang.Object, boolean, org.infinispan.commands.FlagAffectedCommand) throws java.lang.Throwable;
    Code:
       0: getstatic     #84                 // Field trace:Z
       3: ifeq          17
       6: getstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
       9: ldc           #122                // String Doing a remote get for key %s
      11: aload_2
      12: invokeinterface #46,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      17: iconst_0
      18: istore        5
      20: aload_1
      21: invokeinterface #123,  1          // InterfaceMethod org/infinispan/context/InvocationContext.isInTxScope:()Z
      26: ifeq          78
      29: aload_1
      30: invokeinterface #12,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      35: ifeq          78
      38: aload_1
      39: checkcast     #124                // class org/infinispan/context/impl/TxInvocationContext
      42: astore        6
      44: iload_3
      45: ifeq          75
      48: aload_0
      49: getfield      #7                  // Field isPessimisticCache:Z
      52: ifeq          75
      55: aload         6
      57: invokeinterface #125,  1          // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getAffectedKeys:()Ljava/util/Set;
      62: aload_2
      63: invokeinterface #126,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      68: ifne          75
      71: iconst_1
      72: goto          76
      75: iconst_0
      76: istore        5
      78: aload_0
      79: aload_2
      80: aload_1
      81: iload         5
      83: aload         4
      85: iload_3
      86: invokevirtual #127                // Method retrieveFromRemoteSource:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;ZLorg/infinispan/commands/FlagAffectedCommand;Z)Lorg/infinispan/container/entries/InternalCacheEntry;
      89: astore        6
      91: iload         5
      93: ifeq          106
      96: aload_1
      97: checkcast     #124                // class org/infinispan/context/impl/TxInvocationContext
     100: aload_2
     101: invokeinterface #128,  2          // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.addAffectedKey:(Ljava/lang/Object;)V
     106: aload         6
     108: ifnull        187
     111: aload_0
     112: getfield      #9                  // Field useClusteredWriteSkewCheck:Z
     115: ifeq          152
     118: aload_1
     119: invokeinterface #123,  1          // InterfaceMethod org/infinispan/context/InvocationContext.isInTxScope:()Z
     124: ifeq          152
     127: aload_1
     128: checkcast     #124                // class org/infinispan/context/impl/TxInvocationContext
     131: invokeinterface #64,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
     136: aload_2
     137: aload         6
     139: invokeinterface #129,  1          // InterfaceMethod org/infinispan/container/entries/InternalCacheEntry.getMetadata:()Lorg/infinispan/metadata/Metadata;
     144: invokeinterface #130,  1          // InterfaceMethod org/infinispan/metadata/Metadata.version:()Lorg/infinispan/container/versioning/EntryVersion;
     149: invokevirtual #131                // Method org/infinispan/transaction/impl/AbstractCacheTransaction.putLookedUpRemoteVersion:(Ljava/lang/Object;Lorg/infinispan/container/versioning/EntryVersion;)V
     152: iload_3
     153: ifeq          162
     156: getstatic     #116                // Field org/infinispan/container/EntryFactory$Wrap.WRAP_NON_NULL:Lorg/infinispan/container/EntryFactory$Wrap;
     159: goto          165
     162: getstatic     #117                // Field org/infinispan/container/EntryFactory$Wrap.STORE:Lorg/infinispan/container/EntryFactory$Wrap;
     165: astore        7
     167: aload_0
     168: getfield      #118                // Field entryFactory:Lorg/infinispan/container/EntryFactory;
     171: aload_1
     172: aload_2
     173: aload         6
     175: aload         7
     177: iconst_0
     178: invokeinterface #119,  6          // InterfaceMethod org/infinispan/container/EntryFactory.wrapExternalEntry:(Lorg/infinispan/context/InvocationContext;Ljava/lang/Object;Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/container/EntryFactory$Wrap;Z)Z
     183: pop
     184: aload         6
     186: areturn
     187: aconst_null
     188: areturn

  private org.infinispan.remoting.rpc.RpcOptions createCommitRpcOptions();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #3                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       5: invokevirtual #4                  // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
       8: invokevirtual #132                // Method org/infinispan/configuration/cache/TransactionConfiguration.syncCommitPhase:()Z
      11: invokespecial #133                // Method createRpcOptionsFor2ndPhase:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      14: areturn

  private org.infinispan.remoting.rpc.RpcOptions createRollbackRpcOptions();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #3                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       5: invokevirtual #4                  // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
       8: invokevirtual #134                // Method org/infinispan/configuration/cache/TransactionConfiguration.syncRollbackPhase:()Z
      11: invokespecial #133                // Method createRpcOptionsFor2ndPhase:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      14: areturn

  private org.infinispan.remoting.rpc.RpcOptions createRpcOptionsFor2ndPhase(boolean);
    Code:
       0: iload_1
       1: ifeq          23
       4: aload_0
       5: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
       8: getstatic     #48                 // Field org/infinispan/remoting/rpc/ResponseMode.SYNCHRONOUS_IGNORE_LEAVERS:Lorg/infinispan/remoting/rpc/ResponseMode;
      11: getstatic     #49                 // Field org/infinispan/remoting/inboundhandler/DeliverOrder.NONE:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      14: invokeinterface #50,  3           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getRpcOptionsBuilder:(Lorg/infinispan/remoting/rpc/ResponseMode;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;)Lorg/infinispan/remoting/rpc/RpcOptionsBuilder;
      19: invokevirtual #51                 // Method org/infinispan/remoting/rpc/RpcOptionsBuilder.build:()Lorg/infinispan/remoting/rpc/RpcOptions;
      22: areturn
      23: aload_0
      24: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      27: getstatic     #135                // Field org/infinispan/remoting/rpc/ResponseMode.ASYNCHRONOUS:Lorg/infinispan/remoting/rpc/ResponseMode;
      30: getstatic     #49                 // Field org/infinispan/remoting/inboundhandler/DeliverOrder.NONE:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      33: invokeinterface #50,  3           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getRpcOptionsBuilder:(Lorg/infinispan/remoting/rpc/ResponseMode;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;)Lorg/infinispan/remoting/rpc/RpcOptionsBuilder;
      38: invokevirtual #51                 // Method org/infinispan/remoting/rpc/RpcOptionsBuilder.build:()Lorg/infinispan/remoting/rpc/RpcOptions;
      41: areturn

  protected org.infinispan.remoting.rpc.RpcOptions createPrepareRpcOptions();
    Code:
       0: aload_0
       1: getfield      #3                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       4: invokevirtual #136                // Method org/infinispan/configuration/cache/Configuration.clustering:()Lorg/infinispan/configuration/cache/ClusteringConfiguration;
       7: invokevirtual #137                // Method org/infinispan/configuration/cache/ClusteringConfiguration.cacheMode:()Lorg/infinispan/configuration/cache/CacheMode;
      10: invokevirtual #138                // Method org/infinispan/configuration/cache/CacheMode.isSynchronous:()Z
      13: ifeq          37
      16: aload_0
      17: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      20: getstatic     #48                 // Field org/infinispan/remoting/rpc/ResponseMode.SYNCHRONOUS_IGNORE_LEAVERS:Lorg/infinispan/remoting/rpc/ResponseMode;
      23: getstatic     #49                 // Field org/infinispan/remoting/inboundhandler/DeliverOrder.NONE:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      26: invokeinterface #50,  3           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getRpcOptionsBuilder:(Lorg/infinispan/remoting/rpc/ResponseMode;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;)Lorg/infinispan/remoting/rpc/RpcOptionsBuilder;
      31: invokevirtual #51                 // Method org/infinispan/remoting/rpc/RpcOptionsBuilder.build:()Lorg/infinispan/remoting/rpc/RpcOptions;
      34: goto          47
      37: aload_0
      38: getfield      #47                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      41: iconst_0
      42: invokeinterface #139,  2          // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getDefaultRpcOptions:(Z)Lorg/infinispan/remoting/rpc/RpcOptions;
      47: areturn

  static {};
    Code:
       0: ldc           #140                // class org/infinispan/interceptors/distribution/TxDistributionInterceptor
       2: invokestatic  #141                // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #44                 // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #142,  1          // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #84                 // Field trace:Z
      19: return
}
