Compiled from "AbstractLocalCacheStream.java"
public abstract class org.infinispan.stream.impl.local.AbstractLocalCacheStream<T, S extends java.util.stream.BaseStream<T, S>> implements java.util.stream.BaseStream<T, S> {
  protected final org.infinispan.util.logging.Log log;

  protected final org.infinispan.stream.impl.local.AbstractLocalCacheStream$StreamSupplier<T> streamSupplier;

  protected final org.infinispan.factories.ComponentRegistry registry;

  protected final java.util.Collection<java.lang.Runnable> onCloseRunnables;

  protected final java.util.Queue<org.infinispan.stream.impl.intops.IntermediateOperation> intermediateOperations;

  protected java.util.Set<java.lang.Integer> segmentsToFilter;

  protected java.util.Set<?> keysToFilter;

  protected boolean parallel;

  public org.infinispan.stream.impl.local.AbstractLocalCacheStream(org.infinispan.stream.impl.local.AbstractLocalCacheStream$StreamSupplier<T>, boolean, org.infinispan.factories.ComponentRegistry);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #2                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #3                  // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
      12: putfield      #4                  // Field log:Lorg/infinispan/util/logging/Log;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field streamSupplier:Lorg/infinispan/stream/impl/local/AbstractLocalCacheStream$StreamSupplier;
      20: aload_0
      21: aload_3
      22: putfield      #6                  // Field registry:Lorg/infinispan/factories/ComponentRegistry;
      25: aload_0
      26: new           #7                  // class java/util/ArrayList
      29: dup
      30: iconst_4
      31: invokespecial #8                  // Method java/util/ArrayList."<init>":(I)V
      34: putfield      #9                  // Field onCloseRunnables:Ljava/util/Collection;
      37: aload_0
      38: new           #10                 // class java/util/ArrayDeque
      41: dup
      42: invokespecial #11                 // Method java/util/ArrayDeque."<init>":()V
      45: putfield      #12                 // Field intermediateOperations:Ljava/util/Queue;
      48: aload_0
      49: iload_2
      50: putfield      #13                 // Field parallel:Z
      53: return

  org.infinispan.stream.impl.local.AbstractLocalCacheStream(org.infinispan.stream.impl.local.AbstractLocalCacheStream<?, ?>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #2                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #3                  // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
      12: putfield      #4                  // Field log:Lorg/infinispan/util/logging/Log;
      15: aload_0
      16: aload_1
      17: getfield      #5                  // Field streamSupplier:Lorg/infinispan/stream/impl/local/AbstractLocalCacheStream$StreamSupplier;
      20: putfield      #5                  // Field streamSupplier:Lorg/infinispan/stream/impl/local/AbstractLocalCacheStream$StreamSupplier;
      23: aload_0
      24: aload_1
      25: getfield      #6                  // Field registry:Lorg/infinispan/factories/ComponentRegistry;
      28: putfield      #6                  // Field registry:Lorg/infinispan/factories/ComponentRegistry;
      31: aload_0
      32: aload_1
      33: getfield      #9                  // Field onCloseRunnables:Ljava/util/Collection;
      36: putfield      #9                  // Field onCloseRunnables:Ljava/util/Collection;
      39: aload_0
      40: aload_1
      41: getfield      #12                 // Field intermediateOperations:Ljava/util/Queue;
      44: putfield      #12                 // Field intermediateOperations:Ljava/util/Queue;
      47: aload_0
      48: aload_1
      49: getfield      #14                 // Field segmentsToFilter:Ljava/util/Set;
      52: putfield      #14                 // Field segmentsToFilter:Ljava/util/Set;
      55: aload_0
      56: aload_1
      57: getfield      #15                 // Field keysToFilter:Ljava/util/Set;
      60: putfield      #15                 // Field keysToFilter:Ljava/util/Set;
      63: aload_0
      64: aload_1
      65: getfield      #13                 // Field parallel:Z
      68: putfield      #13                 // Field parallel:Z
      71: return

  protected final S createStream();
    Code:
       0: aload_0
       1: getfield      #5                  // Field streamSupplier:Lorg/infinispan/stream/impl/local/AbstractLocalCacheStream$StreamSupplier;
       4: aload_0
       5: getfield      #14                 // Field segmentsToFilter:Ljava/util/Set;
       8: aload_0
       9: getfield      #15                 // Field keysToFilter:Ljava/util/Set;
      12: invokeinterface #16,  3           // InterfaceMethod org/infinispan/stream/impl/local/AbstractLocalCacheStream$StreamSupplier.buildStream:(Ljava/util/Set;Ljava/util/Set;)Ljava/util/stream/Stream;
      17: astore_1
      18: aload_0
      19: getfield      #13                 // Field parallel:Z
      22: ifeq          32
      25: aload_1
      26: invokeinterface #17,  1           // InterfaceMethod java/util/stream/BaseStream.parallel:()Ljava/util/stream/BaseStream;
      31: astore_1
      32: aload_0
      33: getfield      #12                 // Field intermediateOperations:Ljava/util/Queue;
      36: invokeinterface #18,  1           // InterfaceMethod java/util/Queue.iterator:()Ljava/util/Iterator;
      41: astore_2
      42: aload_2
      43: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      48: ifeq          72
      51: aload_2
      52: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      57: checkcast     #21                 // class org/infinispan/stream/impl/intops/IntermediateOperation
      60: astore_3
      61: aload_3
      62: aload_1
      63: invokeinterface #22,  2           // InterfaceMethod org/infinispan/stream/impl/intops/IntermediateOperation.perform:(Ljava/util/stream/BaseStream;)Ljava/util/stream/BaseStream;
      68: astore_1
      69: goto          42
      72: aload_1
      73: areturn

  public boolean isParallel();
    Code:
       0: aload_0
       1: invokevirtual #23                 // Method createStream:()Ljava/util/stream/BaseStream;
       4: invokeinterface #24,  1           // InterfaceMethod java/util/stream/BaseStream.isParallel:()Z
       9: ireturn

  public S sequential();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #13                 // Field parallel:Z
       5: aload_0
       6: areturn

  public S parallel();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #13                 // Field parallel:Z
       5: aload_0
       6: areturn

  public S unordered();
    Code:
       0: aload_0
       1: getfield      #12                 // Field intermediateOperations:Ljava/util/Queue;
       4: new           #25                 // class org/infinispan/stream/impl/intops/UnorderedOperation
       7: dup
       8: invokespecial #26                 // Method org/infinispan/stream/impl/intops/UnorderedOperation."<init>":()V
      11: invokeinterface #27,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      16: pop
      17: aload_0
      18: areturn

  public S onClose(java.lang.Runnable);
    Code:
       0: aload_0
       1: getfield      #9                  // Field onCloseRunnables:Ljava/util/Collection;
       4: aload_1
       5: invokeinterface #28,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      10: pop
      11: aload_0
      12: areturn

  public void close();
    Code:
       0: aload_0
       1: getfield      #9                  // Field onCloseRunnables:Ljava/util/Collection;
       4: invokedynamic #29,  0             // InvokeDynamic #0:accept:()Ljava/util/function/Consumer;
       9: invokeinterface #30,  2           // InterfaceMethod java/util/Collection.forEach:(Ljava/util/function/Consumer;)V
      14: return
}
