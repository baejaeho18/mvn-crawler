Compiled from "MarshalledValueInterceptor.java"
public class org.infinispan.interceptors.MarshalledValueInterceptor<K, V> extends org.infinispan.interceptors.base.CommandInterceptor {
  private org.infinispan.commons.marshall.StreamingMarshaller marshaller;

  private boolean wrapKeys;

  private boolean wrapValues;

  private org.infinispan.container.InternalEntryFactory entryFactory;

  private org.infinispan.Cache<K, V> cache;

  private static final org.infinispan.util.logging.Log log;

  private static final boolean trace;

  public org.infinispan.interceptors.MarshalledValueInterceptor();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/infinispan/interceptors/base/CommandInterceptor."<init>":()V
       4: aload_0
       5: iconst_1
       6: putfield      #3                  // Field wrapKeys:Z
       9: aload_0
      10: iconst_1
      11: putfield      #4                  // Field wrapValues:Z
      14: return

  protected org.infinispan.util.logging.Log getLog();
    Code:
       0: getstatic     #5                  // Field log:Lorg/infinispan/util/logging/Log;
       3: areturn

  protected void inject(org.infinispan.commons.marshall.StreamingMarshaller, org.infinispan.container.InternalEntryFactory, org.infinispan.Cache<K, V>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #6                  // Field marshaller:Lorg/infinispan/commons/marshall/StreamingMarshaller;
       5: aload_0
       6: aload_2
       7: putfield      #7                  // Field entryFactory:Lorg/infinispan/container/InternalEntryFactory;
      10: aload_0
      11: aload_3
      12: putfield      #8                  // Field cache:Lorg/infinispan/Cache;
      15: return

  protected void start();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #9                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       5: invokevirtual #10                 // Method org/infinispan/configuration/cache/Configuration.storeAsBinary:()Lorg/infinispan/configuration/cache/StoreAsBinaryConfiguration;
       8: invokevirtual #11                 // Method org/infinispan/configuration/cache/StoreAsBinaryConfiguration.storeKeysAsBinary:()Z
      11: putfield      #3                  // Field wrapKeys:Z
      14: aload_0
      15: aload_0
      16: getfield      #9                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
      19: invokevirtual #10                 // Method org/infinispan/configuration/cache/Configuration.storeAsBinary:()Lorg/infinispan/configuration/cache/StoreAsBinaryConfiguration;
      22: invokevirtual #12                 // Method org/infinispan/configuration/cache/StoreAsBinaryConfiguration.storeValuesAsBinary:()Z
      25: putfield      #4                  // Field wrapValues:Z
      28: return

  public java.lang.Object visitLockControlCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.control.LockControlCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field wrapKeys:Z
       4: ifeq          137
       7: aload_2
       8: invokevirtual #13                 // Method org/infinispan/commands/control/LockControlCommand.multipleKeys:()Z
      11: ifeq          111
      14: aload_2
      15: invokevirtual #14                 // Method org/infinispan/commands/control/LockControlCommand.getKeys:()Ljava/util/Collection;
      18: astore_3
      19: new           #15                 // class java/util/HashMap
      22: dup
      23: aload_3
      24: invokeinterface #16,  1           // InterfaceMethod java/util/Collection.size:()I
      29: invokespecial #17                 // Method java/util/HashMap."<init>":(I)V
      32: astore        4
      34: aload_3
      35: invokeinterface #18,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      40: astore        5
      42: aload         5
      44: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      49: ifeq          92
      52: aload         5
      54: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      59: astore        6
      61: aload         6
      63: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      66: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      69: ifne          89
      72: aload         4
      74: aload         6
      76: aload_0
      77: aload         6
      79: aload_1
      80: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      83: invokeinterface #24,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      88: pop
      89: goto          42
      92: aload         4
      94: invokeinterface #25,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      99: ifne          108
     102: aload_2
     103: aload         4
     105: invokevirtual #26                 // Method org/infinispan/commands/control/LockControlCommand.replaceKeys:(Ljava/util/Map;)V
     108: goto          137
     111: aload_2
     112: invokevirtual #27                 // Method org/infinispan/commands/control/LockControlCommand.getSingleKey:()Ljava/lang/Object;
     115: astore_3
     116: aload_3
     117: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     120: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
     123: ifne          137
     126: aload_2
     127: aload_3
     128: aload_0
     129: aload_3
     130: aload_1
     131: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
     134: invokevirtual #28                 // Method org/infinispan/commands/control/LockControlCommand.replaceKey:(Ljava/lang/Object;Ljava/lang/Object;)V
     137: aload_0
     138: aload_1
     139: aload_2
     140: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     143: areturn

  public java.lang.Object visitPutMapCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutMapCommand) throws java.lang.Throwable;
    Code:
       0: new           #30                 // class java/util/HashSet
       3: dup
       4: aload_2
       5: invokevirtual #31                 // Method org/infinispan/commands/write/PutMapCommand.getMap:()Ljava/util/Map;
       8: invokeinterface #32,  1           // InterfaceMethod java/util/Map.size:()I
      13: invokespecial #33                 // Method java/util/HashSet."<init>":(I)V
      16: astore_3
      17: aload_0
      18: aload_2
      19: invokevirtual #31                 // Method org/infinispan/commands/write/PutMapCommand.getMap:()Ljava/util/Map;
      22: aload_3
      23: aload_1
      24: invokevirtual #34                 // Method wrapMap:(Ljava/util/Map;Ljava/util/Set;Lorg/infinispan/context/InvocationContext;)Ljava/util/Map;
      27: astore        4
      29: aload_2
      30: aload         4
      32: invokevirtual #35                 // Method org/infinispan/commands/write/PutMapCommand.setMap:(Ljava/util/Map;)V
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      41: astore        5
      43: aload_0
      44: aload         5
      46: aload_1
      47: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      50: areturn

  public java.lang.Object visitPutKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field wrapKeys:Z
       4: ifeq          35
       7: aload_2
       8: invokevirtual #37                 // Method org/infinispan/commands/write/PutKeyValueCommand.getKey:()Ljava/lang/Object;
      11: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      14: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      17: ifne          35
      20: aload_0
      21: aload_2
      22: invokevirtual #37                 // Method org/infinispan/commands/write/PutKeyValueCommand.getKey:()Ljava/lang/Object;
      25: aload_1
      26: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      29: astore_3
      30: aload_2
      31: aload_3
      32: invokevirtual #38                 // Method org/infinispan/commands/write/PutKeyValueCommand.setKey:(Ljava/lang/Object;)V
      35: aload_0
      36: getfield      #4                  // Field wrapValues:Z
      39: ifeq          72
      42: aload_2
      43: invokevirtual #39                 // Method org/infinispan/commands/write/PutKeyValueCommand.getValue:()Ljava/lang/Object;
      46: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      49: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      52: ifne          72
      55: aload_0
      56: aload_2
      57: invokevirtual #39                 // Method org/infinispan/commands/write/PutKeyValueCommand.getValue:()Ljava/lang/Object;
      60: aload_1
      61: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      64: astore        4
      66: aload_2
      67: aload         4
      69: invokevirtual #40                 // Method org/infinispan/commands/write/PutKeyValueCommand.setValue:(Ljava/lang/Object;)V
      72: aload_0
      73: aload_1
      74: aload_2
      75: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      78: astore        5
      80: aload_0
      81: aload         5
      83: aload_1
      84: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      87: areturn

  public java.lang.Object visitRemoveCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.RemoveCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field wrapKeys:Z
       4: ifeq          35
       7: aload_2
       8: invokevirtual #41                 // Method org/infinispan/commands/write/RemoveCommand.getKey:()Ljava/lang/Object;
      11: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      14: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      17: ifne          35
      20: aload_0
      21: aload_2
      22: invokevirtual #41                 // Method org/infinispan/commands/write/RemoveCommand.getKey:()Ljava/lang/Object;
      25: aload_1
      26: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      29: astore_3
      30: aload_2
      31: aload_3
      32: invokevirtual #42                 // Method org/infinispan/commands/write/RemoveCommand.setKey:(Ljava/lang/Object;)V
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      41: astore        4
      43: aload_0
      44: aload         4
      46: aload_1
      47: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      50: areturn

  public java.lang.Object visitEvictCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.EvictCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field wrapKeys:Z
       4: ifeq          35
       7: aload_2
       8: invokevirtual #43                 // Method org/infinispan/commands/write/EvictCommand.getKey:()Ljava/lang/Object;
      11: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      14: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      17: ifne          35
      20: aload_0
      21: aload_2
      22: invokevirtual #43                 // Method org/infinispan/commands/write/EvictCommand.getKey:()Ljava/lang/Object;
      25: aload_1
      26: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      29: astore_3
      30: aload_2
      31: aload_3
      32: invokevirtual #44                 // Method org/infinispan/commands/write/EvictCommand.setKey:(Ljava/lang/Object;)V
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      41: astore        4
      43: aload_0
      44: aload         4
      46: aload_1
      47: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      50: areturn

  public final java.lang.Object visitGetKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #45                 // Method visitDataReadCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Ljava/lang/Object;
       6: areturn

  public final java.lang.Object visitGetCacheEntryCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetCacheEntryCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #45                 // Method visitDataReadCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/AbstractDataCommand;)Ljava/lang/Object;
       6: areturn

  private java.lang.Object visitDataReadCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.AbstractDataCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field wrapKeys:Z
       4: ifeq          35
       7: aload_2
       8: invokevirtual #46                 // Method org/infinispan/commands/read/AbstractDataCommand.getKey:()Ljava/lang/Object;
      11: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      14: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      17: ifne          35
      20: aload_0
      21: aload_2
      22: invokevirtual #46                 // Method org/infinispan/commands/read/AbstractDataCommand.getKey:()Ljava/lang/Object;
      25: aload_1
      26: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      29: astore_3
      30: aload_2
      31: aload_3
      32: invokevirtual #47                 // Method org/infinispan/commands/read/AbstractDataCommand.setKey:(Ljava/lang/Object;)V
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      41: astore        4
      43: aload_0
      44: aload         4
      46: aload_1
      47: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      50: areturn

  public java.lang.Object visitGetAllCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetAllCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field wrapKeys:Z
       4: ifeq          94
       7: new           #48                 // class java/util/LinkedHashSet
      10: dup
      11: invokespecial #49                 // Method java/util/LinkedHashSet."<init>":()V
      14: astore_3
      15: aload_2
      16: invokevirtual #50                 // Method org/infinispan/commands/read/GetAllCommand.getKeys:()Ljava/util/Collection;
      19: invokeinterface #18,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      24: astore        4
      26: aload         4
      28: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          89
      36: aload         4
      38: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      43: astore        5
      45: aload         5
      47: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      50: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      53: ifne          77
      56: aload_0
      57: aload         5
      59: aload_1
      60: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      63: astore        6
      65: aload_3
      66: aload         6
      68: invokeinterface #51,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      73: pop
      74: goto          86
      77: aload_3
      78: aload         5
      80: invokeinterface #51,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      85: pop
      86: goto          26
      89: aload_2
      90: aload_3
      91: invokevirtual #52                 // Method org/infinispan/commands/read/GetAllCommand.setKeys:(Ljava/util/Collection;)V
      94: aload_0
      95: aload_1
      96: aload_2
      97: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     100: checkcast     #53                 // class java/util/Map
     103: astore_3
     104: aload_2
     105: invokevirtual #54                 // Method org/infinispan/commands/read/GetAllCommand.createMap:()Ljava/util/Map;
     108: astore        4
     110: aload_3
     111: invokeinterface #55,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     116: invokeinterface #56,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     121: astore        5
     123: aload         5
     125: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     130: ifeq          180
     133: aload         5
     135: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     140: checkcast     #57                 // class java/util/Map$Entry
     143: astore        6
     145: aload         4
     147: aload_0
     148: aload         6
     150: invokeinterface #58,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     155: aload_1
     156: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
     159: aload_0
     160: aload         6
     162: invokeinterface #59,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     167: aload_1
     168: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
     171: invokeinterface #24,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     176: pop
     177: goto          123
     180: aload         4
     182: areturn

  public java.lang.Object visitReplaceCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ReplaceCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #3                  // Field wrapKeys:Z
       4: ifeq          35
       7: aload_2
       8: invokevirtual #60                 // Method org/infinispan/commands/write/ReplaceCommand.getKey:()Ljava/lang/Object;
      11: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      14: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      17: ifne          35
      20: aload_0
      21: aload_2
      22: invokevirtual #60                 // Method org/infinispan/commands/write/ReplaceCommand.getKey:()Ljava/lang/Object;
      25: aload_1
      26: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      29: astore_3
      30: aload_2
      31: aload_3
      32: invokevirtual #61                 // Method org/infinispan/commands/write/ReplaceCommand.setKey:(Ljava/lang/Object;)V
      35: aload_0
      36: getfield      #4                  // Field wrapValues:Z
      39: ifeq          72
      42: aload_2
      43: invokevirtual #62                 // Method org/infinispan/commands/write/ReplaceCommand.getNewValue:()Ljava/lang/Object;
      46: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      49: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      52: ifne          72
      55: aload_0
      56: aload_2
      57: invokevirtual #62                 // Method org/infinispan/commands/write/ReplaceCommand.getNewValue:()Ljava/lang/Object;
      60: aload_1
      61: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
      64: astore        4
      66: aload_2
      67: aload         4
      69: invokevirtual #63                 // Method org/infinispan/commands/write/ReplaceCommand.setNewValue:(Ljava/lang/Object;)V
      72: aload_0
      73: getfield      #4                  // Field wrapValues:Z
      76: ifeq          116
      79: aload_2
      80: invokevirtual #64                 // Method org/infinispan/commands/write/ReplaceCommand.getOldValue:()Ljava/lang/Object;
      83: ifnull        116
      86: aload_2
      87: invokevirtual #64                 // Method org/infinispan/commands/write/ReplaceCommand.getOldValue:()Ljava/lang/Object;
      90: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      93: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
      96: ifne          116
      99: aload_0
     100: aload_2
     101: invokevirtual #64                 // Method org/infinispan/commands/write/ReplaceCommand.getOldValue:()Ljava/lang/Object;
     104: aload_1
     105: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
     108: astore        5
     110: aload_2
     111: aload         5
     113: invokevirtual #65                 // Method org/infinispan/commands/write/ReplaceCommand.setOldValue:(Ljava/lang/Object;)V
     116: aload_0
     117: aload_1
     118: aload_2
     119: invokevirtual #29                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     122: astore        6
     124: aload_0
     125: aload         6
     127: aload_1
     128: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
     131: areturn

  protected <R> R processRetVal(R, org.infinispan.context.InvocationContext);
    Code:
       0: aload_1
       1: instanceof    #66                 // class org/infinispan/marshall/core/MarshalledValue
       4: ifeq          45
       7: aload_2
       8: ifnull        20
      11: aload_2
      12: invokeinterface #67,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      17: ifeq          45
      20: getstatic     #68                 // Field trace:Z
      23: ifeq          37
      26: getstatic     #5                  // Field log:Lorg/infinispan/util/logging/Log;
      29: ldc           #69                 // String Return is a marshall value, so extract instance from: %s
      31: aload_1
      32: invokeinterface #70,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      37: aload_1
      38: checkcast     #66                 // class org/infinispan/marshall/core/MarshalledValue
      41: invokevirtual #71                 // Method org/infinispan/marshall/core/MarshalledValue.get:()Ljava/lang/Object;
      44: astore_1
      45: aload_1
      46: areturn

  private final org.infinispan.container.entries.CacheEntry<K, V> unwrapEntry(org.infinispan.container.entries.CacheEntry<K, V>, org.infinispan.context.InvocationContext);
    Code:
       0: aload_1
       1: invokeinterface #72,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
       6: astore_3
       7: aload_0
       8: aload_3
       9: aload_2
      10: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      13: astore        4
      15: aload_1
      16: invokeinterface #73,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getValue:()Ljava/lang/Object;
      21: astore        5
      23: aload_0
      24: aload         5
      26: aload_2
      27: invokevirtual #36                 // Method processRetVal:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Ljava/lang/Object;
      30: astore        6
      32: aload_3
      33: aload         4
      35: if_acmpne     45
      38: aload         5
      40: aload         6
      42: if_acmpeq     65
      45: aload_0
      46: getfield      #7                  // Field entryFactory:Lorg/infinispan/container/InternalEntryFactory;
      49: aload         4
      51: aload         6
      53: aload_1
      54: invokeinterface #74,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getMetadata:()Lorg/infinispan/metadata/Metadata;
      59: invokeinterface #75,  4           // InterfaceMethod org/infinispan/container/InternalEntryFactory.create:(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/metadata/Metadata;)Lorg/infinispan/container/entries/InternalCacheEntry;
      64: areturn
      65: aload_1
      66: areturn

  public org.infinispan.CacheSet<org.infinispan.container.entries.CacheEntry<K, V>> visitEntrySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.EntrySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #76                 // Method org/infinispan/interceptors/base/CommandInterceptor.visitEntrySetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/EntrySetCommand;)Ljava/lang/Object;
       6: checkcast     #77                 // class org/infinispan/CacheSet
       9: astore_3
      10: new           #78                 // class org/infinispan/interceptors/MarshalledValueInterceptor$1
      13: dup
      14: aload_0
      15: aload_0
      16: aload_0
      17: getfield      #8                  // Field cache:Lorg/infinispan/Cache;
      20: aload_2
      21: invokevirtual #79                 // Method getCacheWithFlags:(Lorg/infinispan/Cache;Lorg/infinispan/commands/LocalFlagAffectedCommand;)Lorg/infinispan/Cache;
      24: aload_3
      25: invokespecial #80                 // Method org/infinispan/interceptors/MarshalledValueInterceptor$1."<init>":(Lorg/infinispan/interceptors/MarshalledValueInterceptor;Lorg/infinispan/Cache;Lorg/infinispan/CacheSet;)V
      28: areturn

  public org.infinispan.CacheSet<K> visitKeySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.KeySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #81                 // Method org/infinispan/interceptors/base/CommandInterceptor.visitKeySetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/KeySetCommand;)Ljava/lang/Object;
       6: checkcast     #77                 // class org/infinispan/CacheSet
       9: astore_3
      10: new           #82                 // class org/infinispan/interceptors/MarshalledValueInterceptor$2
      13: dup
      14: aload_0
      15: aload_0
      16: aload_0
      17: getfield      #8                  // Field cache:Lorg/infinispan/Cache;
      20: aload_2
      21: invokevirtual #79                 // Method getCacheWithFlags:(Lorg/infinispan/Cache;Lorg/infinispan/commands/LocalFlagAffectedCommand;)Lorg/infinispan/Cache;
      24: aload_3
      25: invokespecial #83                 // Method org/infinispan/interceptors/MarshalledValueInterceptor$2."<init>":(Lorg/infinispan/interceptors/MarshalledValueInterceptor;Lorg/infinispan/Cache;Lorg/infinispan/CacheSet;)V
      28: areturn

  protected java.util.Map<java.lang.Object, java.lang.Object> wrapMap(java.util.Map<java.lang.Object, java.lang.Object>, java.util.Set<org.infinispan.marshall.core.MarshalledValue>, org.infinispan.context.InvocationContext);
    Code:
       0: aload_1
       1: ifnonnull     24
       4: getstatic     #68                 // Field trace:Z
       7: ifeq          20
      10: getstatic     #5                  // Field log:Lorg/infinispan/util/logging/Log;
      13: ldc           #84                 // String Map is nul; returning an empty map.
      15: invokeinterface #85,  2           // InterfaceMethod org/infinispan/util/logging/Log.trace:(Ljava/lang/Object;)V
      20: invokestatic  #86                 // Method org/infinispan/commons/util/InfinispanCollections.emptyMap:()Ljava/util/Map;
      23: areturn
      24: getstatic     #68                 // Field trace:Z
      27: ifeq          41
      30: getstatic     #5                  // Field log:Lorg/infinispan/util/logging/Log;
      33: ldc           #87                 // String Wrapping map contents of argument %s
      35: aload_1
      36: invokeinterface #70,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      41: new           #15                 // class java/util/HashMap
      44: dup
      45: aload_1
      46: invokeinterface #32,  1           // InterfaceMethod java/util/Map.size:()I
      51: invokespecial #17                 // Method java/util/HashMap."<init>":(I)V
      54: astore        4
      56: aload_1
      57: invokeinterface #55,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      62: invokeinterface #56,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      67: astore        5
      69: aload         5
      71: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      76: ifeq          238
      79: aload         5
      81: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      86: checkcast     #57                 // class java/util/Map$Entry
      89: astore        6
      91: aload         6
      93: invokeinterface #58,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      98: astore        7
     100: aload         6
     102: invokeinterface #59,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     107: astore        8
     109: aload         7
     111: ifnull        132
     114: aload         7
     116: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     119: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
     122: ifne          132
     125: aload_0
     126: getfield      #3                  // Field wrapKeys:Z
     129: ifne          137
     132: aload         7
     134: goto          144
     137: aload_0
     138: aload         7
     140: aload_3
     141: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
     144: astore        9
     146: aload         8
     148: ifnull        169
     151: aload         8
     153: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     156: invokestatic  #22                 // Method org/infinispan/marshall/core/MarshalledValue.isTypeExcluded:(Ljava/lang/Class;)Z
     159: ifne          169
     162: aload_0
     163: getfield      #4                  // Field wrapValues:Z
     166: ifne          174
     169: aload         8
     171: goto          181
     174: aload_0
     175: aload         8
     177: aload_3
     178: invokevirtual #23                 // Method createMarshalledValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/marshall/core/MarshalledValue;
     181: astore        10
     183: aload         9
     185: instanceof    #66                 // class org/infinispan/marshall/core/MarshalledValue
     188: ifeq          203
     191: aload_2
     192: aload         9
     194: checkcast     #66                 // class org/infinispan/marshall/core/MarshalledValue
     197: invokeinterface #51,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     202: pop
     203: aload         10
     205: instanceof    #66                 // class org/infinispan/marshall/core/MarshalledValue
     208: ifeq          223
     211: aload_2
     212: aload         10
     214: checkcast     #66                 // class org/infinispan/marshall/core/MarshalledValue
     217: invokeinterface #51,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     222: pop
     223: aload         4
     225: aload         9
     227: aload         10
     229: invokeinterface #24,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     234: pop
     235: goto          69
     238: aload         4
     240: areturn

  protected org.infinispan.marshall.core.MarshalledValue createMarshalledValue(java.lang.Object, org.infinispan.context.InvocationContext);
    Code:
       0: new           #66                 // class org/infinispan/marshall/core/MarshalledValue
       3: dup
       4: aload_1
       5: aload_0
       6: getfield      #6                  // Field marshaller:Lorg/infinispan/commons/marshall/StreamingMarshaller;
       9: invokespecial #88                 // Method org/infinispan/marshall/core/MarshalledValue."<init>":(Ljava/lang/Object;Lorg/infinispan/commons/marshall/StreamingMarshaller;)V
      12: areturn

  public java.lang.Object visitEntrySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.EntrySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #89                 // Method visitEntrySetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/EntrySetCommand;)Lorg/infinispan/CacheSet;
       6: areturn

  public java.lang.Object visitKeySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.KeySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #90                 // Method visitKeySetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/KeySetCommand;)Lorg/infinispan/CacheSet;
       6: areturn

  static org.infinispan.container.entries.CacheEntry access$000(org.infinispan.interceptors.MarshalledValueInterceptor, org.infinispan.container.entries.CacheEntry, org.infinispan.context.InvocationContext);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method unwrapEntry:(Lorg/infinispan/container/entries/CacheEntry;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/container/entries/CacheEntry;
       6: areturn

  static {};
    Code:
       0: ldc           #91                 // class org/infinispan/interceptors/MarshalledValueInterceptor
       2: invokestatic  #92                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #5                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #5                  // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #93,  1           // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #68                 // Field trace:Z
      19: return
}
