Compiled from "BufferLock.java"
class org.infinispan.persistence.async.BufferLock$Counter extends java.util.concurrent.locks.AbstractQueuedSynchronizer {
  private static final long serialVersionUID;

  private final int size;

  org.infinispan.persistence.async.BufferLock$Counter(int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/util/concurrent/locks/AbstractQueuedSynchronizer."<init>":()V
       4: aload_0
       5: iload_1
       6: putfield      #2                  // Field size:I
       9: return

  int add(int);
    Code:
       0: aload_0
       1: invokevirtual #3                  // Method getState:()I
       4: istore_2
       5: aload_0
       6: iload_2
       7: iload_2
       8: iload_1
       9: iadd
      10: invokevirtual #4                  // Method compareAndSetState:(II)Z
      13: ifeq          20
      16: iload_2
      17: iload_1
      18: iadd
      19: ireturn
      20: goto          0

  protected int tryAcquireShared(int);
    Code:
       0: aload_0
       1: invokevirtual #3                  // Method getState:()I
       4: istore_2
       5: iload_2
       6: aload_0
       7: getfield      #2                  // Field size:I
      10: if_icmplt     15
      13: iconst_m1
      14: ireturn
      15: aload_0
      16: iload_2
      17: iload_2
      18: iload_1
      19: iadd
      20: invokevirtual #4                  // Method compareAndSetState:(II)Z
      23: ifeq          42
      26: iload_2
      27: iload_1
      28: iadd
      29: aload_0
      30: getfield      #2                  // Field size:I
      33: if_icmplt     40
      36: iconst_0
      37: goto          41
      40: iconst_1
      41: ireturn
      42: goto          0

  protected boolean tryReleaseShared(int);
    Code:
       0: aload_0
       1: iload_1
       2: invokevirtual #5                  // Method setState:(I)V
       5: iload_1
       6: aload_0
       7: getfield      #2                  // Field size:I
      10: if_icmpge     17
      13: iconst_1
      14: goto          18
      17: iconst_0
      18: ireturn
}
