Compiled from "VersionAwareMarshaller.java"
public class org.infinispan.marshall.core.VersionAwareMarshaller extends org.infinispan.commons.marshall.AbstractMarshaller implements org.infinispan.commons.marshall.StreamingMarshaller {
  private static final org.infinispan.util.logging.Log log;

  private final boolean trace;

  private static final int VERSION_510;

  private org.infinispan.marshall.core.JBossMarshaller defaultMarshaller;

  private java.lang.String cacheName;

  private org.infinispan.marshall.core.ExternalizerTable extTable;

  private org.infinispan.configuration.global.GlobalConfiguration globalCfg;

  private org.infinispan.configuration.cache.Configuration cfg;

  private org.infinispan.context.InvocationContextContainer icc;

  public org.infinispan.marshall.core.VersionAwareMarshaller();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/commons/marshall/AbstractMarshaller."<init>":()V
       4: aload_0
       5: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
       8: invokeinterface #3,  1            // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      13: putfield      #4                  // Field trace:Z
      16: return

  public void inject(org.infinispan.Cache, org.infinispan.configuration.cache.Configuration, org.infinispan.context.InvocationContextContainer, org.infinispan.marshall.core.ExternalizerTable, org.infinispan.configuration.global.GlobalConfiguration);
    Code:
       0: aload_2
       1: ifnonnull     12
       4: aload_0
       5: aconst_null
       6: putfield      #5                  // Field cacheName:Ljava/lang/String;
       9: goto          22
      12: aload_0
      13: aload_1
      14: invokeinterface #6,  1            // InterfaceMethod org/infinispan/Cache.getName:()Ljava/lang/String;
      19: putfield      #5                  // Field cacheName:Ljava/lang/String;
      22: aload_0
      23: aload         4
      25: putfield      #7                  // Field extTable:Lorg/infinispan/marshall/core/ExternalizerTable;
      28: aload_0
      29: aload         5
      31: putfield      #8                  // Field globalCfg:Lorg/infinispan/configuration/global/GlobalConfiguration;
      34: aload_0
      35: aload_2
      36: putfield      #9                  // Field cfg:Lorg/infinispan/configuration/cache/Configuration;
      39: aload_0
      40: aload_3
      41: putfield      #10                 // Field icc:Lorg/infinispan/context/InvocationContextContainer;
      44: return

  public void start();
    Code:
       0: aload_0
       1: new           #11                 // class org/infinispan/marshall/core/JBossMarshaller
       4: dup
       5: aload_0
       6: getfield      #7                  // Field extTable:Lorg/infinispan/marshall/core/ExternalizerTable;
       9: aload_0
      10: getfield      #9                  // Field cfg:Lorg/infinispan/configuration/cache/Configuration;
      13: aload_0
      14: getfield      #10                 // Field icc:Lorg/infinispan/context/InvocationContextContainer;
      17: aload_0
      18: getfield      #8                  // Field globalCfg:Lorg/infinispan/configuration/global/GlobalConfiguration;
      21: invokespecial #12                 // Method org/infinispan/marshall/core/JBossMarshaller."<init>":(Lorg/infinispan/marshall/core/ExternalizerTable;Lorg/infinispan/configuration/cache/Configuration;Lorg/infinispan/context/InvocationContextContainer;Lorg/infinispan/configuration/global/GlobalConfiguration;)V
      24: putfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
      27: aload_0
      28: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
      31: invokevirtual #14                 // Method org/infinispan/marshall/core/JBossMarshaller.start:()V
      34: return

  public void stop();
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: invokevirtual #15                 // Method org/infinispan/marshall/core/JBossMarshaller.stop:()V
       7: return

  protected org.infinispan.commons.io.ByteBuffer objectToBuffer(java.lang.Object, int) throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: new           #16                 // class org/infinispan/commons/io/ExposedByteArrayOutputStream
       3: dup
       4: iload_2
       5: invokespecial #17                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream."<init>":(I)V
       8: astore_3
       9: aload_0
      10: aload_3
      11: iconst_0
      12: iload_2
      13: invokevirtual #18                 // Method startObjectOutput:(Ljava/io/OutputStream;ZI)Ljava/io/ObjectOutput;
      16: astore        4
      18: aload_0
      19: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
      22: aload_1
      23: aload         4
      25: invokevirtual #19                 // Method org/infinispan/marshall/core/JBossMarshaller.objectToObjectStream:(Ljava/lang/Object;Ljava/io/ObjectOutput;)V
      28: aload_0
      29: aload         4
      31: invokevirtual #20                 // Method finishObjectOutput:(Ljava/io/ObjectOutput;)V
      34: goto          149
      37: astore        5
      39: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      42: invokeinterface #22,  1           // InterfaceMethod org/infinispan/util/logging/Log.isDebugEnabled:()Z
      47: ifeq          62
      50: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      53: ldc           #23                 // String Object is not serializable
      55: aload         5
      57: invokeinterface #24,  3           // InterfaceMethod org/infinispan/util/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      62: new           #25                 // class org/infinispan/commons/marshall/NotSerializableException
      65: dup
      66: aload         5
      68: invokevirtual #26                 // Method java/io/NotSerializableException.getMessage:()Ljava/lang/String;
      71: aload         5
      73: invokevirtual #27                 // Method java/io/NotSerializableException.getCause:()Ljava/lang/Throwable;
      76: invokespecial #28                 // Method org/infinispan/commons/marshall/NotSerializableException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      79: athrow
      80: astore        5
      82: aload         5
      84: invokevirtual #30                 // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
      87: instanceof    #31                 // class java/lang/InterruptedException
      90: ifeq          124
      93: aload_0
      94: getfield      #4                  // Field trace:Z
      97: ifeq          115
     100: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
     103: ldc           #32                 // String Interrupted exception while marshalling
     105: aload         5
     107: invokevirtual #30                 // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
     110: invokeinterface #33,  3           // InterfaceMethod org/infinispan/util/logging/Log.trace:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     115: aload         5
     117: invokevirtual #30                 // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
     120: checkcast     #31                 // class java/lang/InterruptedException
     123: athrow
     124: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
     127: aload         5
     129: aload_1
     130: invokeinterface #34,  3           // InterfaceMethod org/infinispan/util/logging/Log.errorMarshallingObject:(Ljava/io/IOException;Ljava/lang/Object;)V
     135: aload         5
     137: athrow
     138: astore        6
     140: aload_0
     141: aload         4
     143: invokevirtual #20                 // Method finishObjectOutput:(Ljava/io/ObjectOutput;)V
     146: aload         6
     148: athrow
     149: new           #35                 // class org/infinispan/commons/io/ByteBufferImpl
     152: dup
     153: aload_3
     154: invokevirtual #36                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream.getRawBuffer:()[B
     157: iconst_0
     158: aload_3
     159: invokevirtual #37                 // Method org/infinispan/commons/io/ExposedByteArrayOutputStream.size:()I
     162: invokespecial #38                 // Method org/infinispan/commons/io/ByteBufferImpl."<init>":([BII)V
     165: areturn
    Exception table:
       from    to  target type
          18    28    37   Class java/io/NotSerializableException
          18    28    80   Class java/io/IOException
          18    28   138   any
          37   140   138   any

  public java.lang.Object objectFromByteBuffer(byte[], int, int) throws java.io.IOException, java.lang.ClassNotFoundException;
    Code:
       0: new           #39                 // class java/io/ByteArrayInputStream
       3: dup
       4: aload_1
       5: iload_2
       6: iload_3
       7: invokespecial #40                 // Method java/io/ByteArrayInputStream."<init>":([BII)V
      10: astore        4
      12: aload_0
      13: aload         4
      15: iconst_0
      16: invokevirtual #41                 // Method startObjectInput:(Ljava/io/InputStream;Z)Ljava/io/ObjectInput;
      19: astore        5
      21: aconst_null
      22: astore        6
      24: aload_0
      25: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
      28: aload         5
      30: invokevirtual #42                 // Method org/infinispan/marshall/core/JBossMarshaller.objectFromObjectStream:(Ljava/io/ObjectInput;)Ljava/lang/Object;
      33: astore        6
      35: aload_0
      36: aload         5
      38: invokevirtual #43                 // Method finishObjectInput:(Ljava/io/ObjectInput;)V
      41: goto          55
      44: astore        7
      46: aload_0
      47: aload         5
      49: invokevirtual #43                 // Method finishObjectInput:(Ljava/io/ObjectInput;)V
      52: aload         7
      54: athrow
      55: aload         6
      57: areturn
    Exception table:
       from    to  target type
          24    35    44   any
          44    46    44   any

  public java.io.ObjectOutput startObjectOutput(java.io.OutputStream, boolean, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: aload_1
       5: iload_2
       6: iload_3
       7: invokevirtual #44                 // Method org/infinispan/marshall/core/JBossMarshaller.startObjectOutput:(Ljava/io/OutputStream;ZI)Ljava/io/ObjectOutput;
      10: astore        4
      12: sipush        510
      15: istore        5
      17: aload         4
      19: sipush        510
      22: invokeinterface #46,  2           // InterfaceMethod java/io/ObjectOutput.writeShort:(I)V
      27: aload_0
      28: getfield      #4                  // Field trace:Z
      31: ifeq          47
      34: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      37: ldc           #47                 // String Wrote version %s
      39: sipush        510
      42: invokeinterface #48,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;I)V
      47: goto          97
      50: astore        5
      52: aload_0
      53: aload         4
      55: invokevirtual #20                 // Method finishObjectOutput:(Ljava/io/ObjectOutput;)V
      58: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      61: invokeinterface #50,  1           // InterfaceMethod org/infinispan/util/logging/Log.unableToReadVersionId:()V
      66: new           #29                 // class java/io/IOException
      69: dup
      70: new           #51                 // class java/lang/StringBuilder
      73: dup
      74: invokespecial #52                 // Method java/lang/StringBuilder."<init>":()V
      77: ldc           #53                 // String Unable to read version id from first two bytes of stream :
      79: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: aload         5
      84: invokevirtual #55                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      87: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: invokevirtual #56                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      93: invokespecial #57                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      96: athrow
      97: aload         4
      99: areturn
    Exception table:
       from    to  target type
          12    47    50   Class java/lang/Exception

  public void finishObjectOutput(java.io.ObjectOutput);
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: aload_1
       5: invokevirtual #58                 // Method org/infinispan/marshall/core/JBossMarshaller.finishObjectOutput:(Ljava/io/ObjectOutput;)V
       8: return

  public void objectToObjectStream(java.lang.Object, java.io.ObjectOutput) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: aload_1
       5: aload_2
       6: invokevirtual #19                 // Method org/infinispan/marshall/core/JBossMarshaller.objectToObjectStream:(Ljava/lang/Object;Ljava/io/ObjectOutput;)V
       9: return

  public java.io.ObjectInput startObjectInput(java.io.InputStream, boolean) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: aload_1
       5: iload_2
       6: invokevirtual #59                 // Method org/infinispan/marshall/core/JBossMarshaller.startObjectInput:(Ljava/io/InputStream;Z)Ljava/io/ObjectInput;
       9: astore_3
      10: aload_3
      11: invokeinterface #60,  1           // InterfaceMethod java/io/ObjectInput.readShort:()S
      16: istore        4
      18: aload_0
      19: getfield      #4                  // Field trace:Z
      22: ifeq          37
      25: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      28: ldc           #61                 // String Read version %s
      30: iload         4
      32: invokeinterface #48,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;I)V
      37: goto          86
      40: astore        5
      42: aload_0
      43: aload_3
      44: invokevirtual #43                 // Method finishObjectInput:(Ljava/io/ObjectInput;)V
      47: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      50: invokeinterface #50,  1           // InterfaceMethod org/infinispan/util/logging/Log.unableToReadVersionId:()V
      55: new           #29                 // class java/io/IOException
      58: dup
      59: new           #51                 // class java/lang/StringBuilder
      62: dup
      63: invokespecial #52                 // Method java/lang/StringBuilder."<init>":()V
      66: ldc           #62                 // String Unable to read version id from first two bytes of stream:
      68: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: aload         5
      73: invokevirtual #55                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      76: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: invokevirtual #56                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      82: invokespecial #57                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      85: athrow
      86: aload_3
      87: areturn
    Exception table:
       from    to  target type
          10    37    40   Class java/lang/Exception

  public void finishObjectInput(java.io.ObjectInput);
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: aload_1
       5: invokevirtual #63                 // Method org/infinispan/marshall/core/JBossMarshaller.finishObjectInput:(Ljava/io/ObjectInput;)V
       8: return

  public java.lang.Object objectFromObjectStream(java.io.ObjectInput) throws java.io.IOException, java.lang.ClassNotFoundException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: aload_1
       5: invokevirtual #42                 // Method org/infinispan/marshall/core/JBossMarshaller.objectFromObjectStream:(Ljava/io/ObjectInput;)Ljava/lang/Object;
       8: areturn
       9: astore_2
      10: new           #64                 // class java/io/EOFException
      13: dup
      14: ldc           #65                 // String The stream ended unexpectedly.  Please check whether the source of the stream encountered any issues generating the stream.
      16: invokespecial #66                 // Method java/io/EOFException."<init>":(Ljava/lang/String;)V
      19: astore_3
      20: aload_3
      21: aload_2
      22: invokevirtual #67                 // Method java/io/IOException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
      25: pop
      26: aload_3
      27: athrow
      28: astore_2
      29: aload_0
      30: getfield      #4                  // Field trace:Z
      33: ifeq          47
      36: getstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
      39: ldc           #68                 // String Log exception reported
      41: aload_2
      42: invokeinterface #33,  3           // InterfaceMethod org/infinispan/util/logging/Log.trace:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      47: aload_2
      48: invokevirtual #30                 // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
      51: instanceof    #31                 // class java/lang/InterruptedException
      54: ifeq          65
      57: aload_2
      58: invokevirtual #30                 // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
      61: checkcast     #31                 // class java/lang/InterruptedException
      64: athrow
      65: aload_2
      66: athrow
    Exception table:
       from    to  target type
           0     8     9   Class java/io/EOFException
           0     8    28   Class java/io/IOException

  public boolean isMarshallable(java.lang.Object) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #13                 // Field defaultMarshaller:Lorg/infinispan/marshall/core/JBossMarshaller;
       4: aload_1
       5: invokevirtual #69                 // Method org/infinispan/marshall/core/JBossMarshaller.isMarshallable:(Ljava/lang/Object;)Z
       8: ireturn

  public java.lang.String getCacheName();
    Code:
       0: aload_0
       1: getfield      #5                  // Field cacheName:Ljava/lang/String;
       4: areturn

  static {};
    Code:
       0: ldc           #45                 // class org/infinispan/marshall/core/VersionAwareMarshaller
       2: invokestatic  #70                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #2                  // Field log:Lorg/infinispan/util/logging/Log;
       8: return
}
