Compiled from "AbstractCacheStream.java"
class org.infinispan.stream.impl.AbstractCacheStream$ResultsAccumulator<R> implements org.infinispan.stream.impl.ClusterStreamManager$ResultsCallback<R> {
  private final java.util.function.BinaryOperator<R> binaryOperator;

  private final java.util.Set<java.lang.Integer> lostSegments;

  R currentValue;

  org.infinispan.stream.impl.AbstractCacheStream$ResultsAccumulator(java.util.function.BinaryOperator<R>);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class org/infinispan/util/concurrent/ConcurrentHashSet
       8: dup
       9: invokespecial #4                  // Method org/infinispan/util/concurrent/ConcurrentHashSet."<init>":()V
      12: putfield      #1                  // Field lostSegments:Ljava/util/Set;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field binaryOperator:Ljava/util/function/BinaryOperator;
      20: return

  public synchronized java.util.Set<java.lang.Integer> onIntermediateResult(org.infinispan.remoting.transport.Address, R);
    Code:
       0: aload_2
       1: ifnull        37
       4: aload_0
       5: getfield      #6                  // Field currentValue:Ljava/lang/Object;
       8: ifnull        32
      11: aload_0
      12: aload_0
      13: getfield      #5                  // Field binaryOperator:Ljava/util/function/BinaryOperator;
      16: aload_0
      17: getfield      #6                  // Field currentValue:Ljava/lang/Object;
      20: aload_2
      21: invokeinterface #7,  3            // InterfaceMethod java/util/function/BinaryOperator.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      26: putfield      #6                  // Field currentValue:Ljava/lang/Object;
      29: goto          37
      32: aload_0
      33: aload_2
      34: putfield      #6                  // Field currentValue:Ljava/lang/Object;
      37: aconst_null
      38: areturn

  public void onCompletion(org.infinispan.remoting.transport.Address, java.util.Set<java.lang.Integer>, R);
    Code:
       0: aload_3
       1: ifnull        11
       4: aload_0
       5: aload_1
       6: aload_3
       7: invokevirtual #8                  // Method onIntermediateResult:(Lorg/infinispan/remoting/transport/Address;Ljava/lang/Object;)Ljava/util/Set;
      10: pop
      11: return

  public void onSegmentsLost(java.util.Set<java.lang.Integer>);
    Code:
       0: aload_1
       1: invokeinterface #9,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
       6: astore_2
       7: aload_2
       8: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          40
      16: aload_2
      17: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #12                 // class java/lang/Integer
      25: astore_3
      26: aload_0
      27: getfield      #1                  // Field lostSegments:Ljava/util/Set;
      30: aload_3
      31: invokeinterface #13,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      36: pop
      37: goto          7
      40: return

  static java.util.Set access$000(org.infinispan.stream.impl.AbstractCacheStream$ResultsAccumulator);
    Code:
       0: aload_0
       1: getfield      #1                  // Field lostSegments:Ljava/util/Set;
       4: areturn
}
