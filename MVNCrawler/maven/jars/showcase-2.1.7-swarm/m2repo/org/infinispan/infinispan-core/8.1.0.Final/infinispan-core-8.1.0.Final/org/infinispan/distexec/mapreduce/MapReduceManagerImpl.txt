Compiled from "MapReduceManagerImpl.java"
public class org.infinispan.distexec.mapreduce.MapReduceManagerImpl implements org.infinispan.distexec.mapreduce.MapReduceManager {
  private static final org.infinispan.util.logging.Log log;

  private static final boolean trace;

  private org.infinispan.interceptors.locking.ClusteringDependentLogic cdl;

  private org.infinispan.manager.EmbeddedCacheManager cacheManager;

  private org.infinispan.persistence.manager.PersistenceManager persistenceManager;

  private java.util.concurrent.ExecutorService executorService;

  private org.infinispan.util.TimeService timeService;

  private int chunkSize;

  org.infinispan.distexec.mapreduce.MapReduceManagerImpl();
    Code:
       0: aload_0
       1: invokespecial #6                  // Method java/lang/Object."<init>":()V
       4: return

  public void init(org.infinispan.manager.EmbeddedCacheManager, org.infinispan.persistence.manager.PersistenceManager, java.util.concurrent.ExecutorService, org.infinispan.interceptors.locking.ClusteringDependentLogic, org.infinispan.util.TimeService, org.infinispan.configuration.cache.Configuration);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
       5: aload_0
       6: aload_2
       7: putfield      #7                  // Field persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
      10: aload_0
      11: aload         4
      13: putfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      16: aload_0
      17: aload_3
      18: putfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
      21: aload_0
      22: aload         5
      24: putfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
      27: aload_0
      28: aload         6
      30: invokevirtual #9                  // Method org/infinispan/configuration/cache/Configuration.clustering:()Lorg/infinispan/configuration/cache/ClusteringConfiguration;
      33: invokevirtual #10                 // Method org/infinispan/configuration/cache/ClusteringConfiguration.stateTransfer:()Lorg/infinispan/configuration/cache/StateTransferConfiguration;
      36: invokevirtual #11                 // Method org/infinispan/configuration/cache/StateTransferConfiguration.chunkSize:()I
      39: putfield      #12                 // Field chunkSize:I
      42: return

  public java.util.concurrent.ExecutorService getExecutorService();
    Code:
       0: aload_0
       1: getfield      #8                  // Field executorService:Ljava/util/concurrent/ExecutorService;
       4: areturn

  public <KIn, VIn, KOut, VOut> java.util.Map<KOut, java.util.List<VOut>> mapAndCombineForLocalReduction(org.infinispan.commands.read.MapCombineCommand<KIn, VIn, KOut, VOut>) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #13                 // Method map:(Lorg/infinispan/commands/read/MapCombineCommand;)Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector;
       5: astore_2
       6: aload_0
       7: aload_1
       8: aload_2
       9: invokevirtual #14                 // Method combine:(Lorg/infinispan/commands/read/MapCombineCommand;Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector;)V
      12: aload_2
      13: invokeinterface #15,  1           // InterfaceMethod org/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector.collectedValues:()Ljava/util/Map;
      18: areturn

  public <KIn, VIn, KOut, VOut> java.util.Set<KOut> mapAndCombineForDistributedReduction(org.infinispan.commands.read.MapCombineCommand<KIn, VIn, KOut, VOut>) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #16                 // Method mapAndCombine:(Lorg/infinispan/commands/read/MapCombineCommand;)Ljava/util/Set;
       5: areturn
       6: astore_2
       7: new           #18                 // class org/infinispan/commons/CacheException
      10: dup
      11: aload_2
      12: invokespecial #19                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/Throwable;)V
      15: athrow
    Exception table:
       from    to  target type
           0     5     6   Class java/lang/Exception

  public <KOut, VOut> java.util.Map<KOut, VOut> reduce(org.infinispan.commands.read.ReduceCommand<KOut, VOut>) throws java.lang.InterruptedException;
    Code:
       0: sipush        256
       3: invokestatic  #20                 // Method org/infinispan/commons/util/CollectionFactory.makeConcurrentMap:(I)Ljava/util/concurrent/ConcurrentMap;
       6: astore_2
       7: aload_0
       8: aload_1
       9: aload_2
      10: invokevirtual #21                 // Method reduce:(Lorg/infinispan/commands/read/ReduceCommand;Ljava/util/Map;)V
      13: aload_2
      14: areturn

  public <KOut, VOut> void reduce(org.infinispan.commands.read.ReduceCommand<KOut, VOut>, java.lang.String) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
       4: aload_2
       5: invokeinterface #22,  2           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCache:(Ljava/lang/String;)Lorg/infinispan/Cache;
      10: astore_3
      11: aload_0
      12: aload_1
      13: aload_3
      14: invokevirtual #21                 // Method reduce:(Lorg/infinispan/commands/read/ReduceCommand;Ljava/util/Map;)V
      17: return

  protected <KOut, VOut> void reduce(org.infinispan.commands.read.ReduceCommand<KOut, VOut>, java.util.Map<KOut, VOut>) throws java.lang.InterruptedException;
    Code:
       0: aload_1
       1: invokevirtual #23                 // Method org/infinispan/commands/read/ReduceCommand.getKeys:()Ljava/util/Set;
       4: astore_3
       5: aload_1
       6: invokevirtual #24                 // Method org/infinispan/commands/read/ReduceCommand.getTaskId:()Ljava/lang/String;
       9: astore        4
      11: aload_3
      12: ifnull        24
      15: aload_3
      16: invokeinterface #25,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      21: ifeq          28
      24: iconst_1
      25: goto          29
      28: iconst_0
      29: istore        5
      31: iload         5
      33: ifeq          86
      36: new           #26                 // class java/lang/IllegalStateException
      39: dup
      40: new           #27                 // class java/lang/StringBuilder
      43: dup
      44: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
      47: ldc           #29                 // String Reduce phase of MapReduceTask
      49: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: aload         4
      54: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: ldc           #31                 // String  on node
      59: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: aload_0
      63: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      66: invokeinterface #32,  1           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getAddress:()Lorg/infinispan/remoting/transport/Address;
      71: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      74: ldc           #34                 // String  executed with empty input keys
      76: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      82: invokespecial #36                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      85: athrow
      86: aload_1
      87: invokevirtual #37                 // Method org/infinispan/commands/read/ReduceCommand.getReducer:()Lorg/infinispan/distexec/mapreduce/Reducer;
      90: astore        6
      92: aload_1
      93: invokevirtual #38                 // Method org/infinispan/commands/read/ReduceCommand.isUseIntermediateSharedCache:()Z
      96: istore        7
      98: invokestatic  #39                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.getInstance:()Lorg/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService;
     101: astore        8
     103: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     106: ldc           #40                 // String For m/r task %s invoking %s at %s
     108: aload         4
     110: aload_1
     111: aload_0
     112: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
     115: invokeinterface #32,  1           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getAddress:()Lorg/infinispan/remoting/transport/Address;
     120: invokeinterface #41,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     125: getstatic     #42                 // Field trace:Z
     128: ifeq          143
     131: aload_0
     132: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     135: invokeinterface #43,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
     140: goto          144
     143: lconst_0
     144: lstore        9
     146: aload_0
     147: getfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
     150: aload_1
     151: invokevirtual #44                 // Method org/infinispan/commands/read/ReduceCommand.getCacheName:()Ljava/lang/String;
     154: invokeinterface #22,  2           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCache:(Ljava/lang/String;)Lorg/infinispan/Cache;
     159: astore        11
     161: aload         8
     163: aload         6
     165: aload         11
     167: invokevirtual #45                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPreExecute:(Lorg/infinispan/distexec/mapreduce/Reducer;Lorg/infinispan/Cache;)V
     170: new           #46                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$IntermediateKeyFilter
     173: dup
     174: aload         4
     176: iload         7
     178: ifne          185
     181: iconst_1
     182: goto          186
     185: iconst_0
     186: invokespecial #47                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$IntermediateKeyFilter."<init>":(Ljava/lang/String;Z)V
     189: astore        12
     191: aload         11
     193: invokeinterface #48,  1           // InterfaceMethod org/infinispan/Cache.getAdvancedCache:()Lorg/infinispan/AdvancedCache;
     198: invokeinterface #49,  1           // InterfaceMethod org/infinispan/AdvancedCache.getDataContainer:()Lorg/infinispan/container/DataContainer;
     203: astore        13
     205: aload         13
     207: aload         12
     209: new           #50                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$1
     212: dup
     213: aload_0
     214: aload         4
     216: aload         6
     218: aload_2
     219: invokespecial #51                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$1."<init>":(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl;Ljava/lang/String;Lorg/infinispan/distexec/mapreduce/Reducer;Ljava/util/Map;)V
     222: invokeinterface #52,  3           // InterfaceMethod org/infinispan/container/DataContainer.executeTask:(Lorg/infinispan/filter/KeyFilter;Ljava/util/function/BiConsumer;)V
     227: getstatic     #42                 // Field trace:Z
     230: ifeq          264
     233: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     236: ldc           #53                 // String Reduce for task %s took %s milliseconds
     238: aload_1
     239: invokevirtual #24                 // Method org/infinispan/commands/read/ReduceCommand.getTaskId:()Ljava/lang/String;
     242: aload_0
     243: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     246: lload         9
     248: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     251: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     256: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     259: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     264: aload         8
     266: aload         6
     268: invokevirtual #58                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Reducer;)V
     271: goto          323
     274: astore        14
     276: getstatic     #42                 // Field trace:Z
     279: ifeq          313
     282: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     285: ldc           #53                 // String Reduce for task %s took %s milliseconds
     287: aload_1
     288: invokevirtual #24                 // Method org/infinispan/commands/read/ReduceCommand.getTaskId:()Ljava/lang/String;
     291: aload_0
     292: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     295: lload         9
     297: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     300: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     305: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     308: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     313: aload         8
     315: aload         6
     317: invokevirtual #58                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Reducer;)V
     320: aload         14
     322: athrow
     323: return
    Exception table:
       from    to  target type
         146   227   274   any
         274   276   274   any

  protected <KIn, VIn, KOut, VOut> org.infinispan.distexec.mapreduce.MapReduceManagerImpl$CollectableCollector<KOut, VOut> map(org.infinispan.commands.read.MapCombineCommand<KIn, VIn, KOut, VOut>) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
       4: aload_1
       5: invokevirtual #59                 // Method org/infinispan/commands/read/MapCombineCommand.getCacheName:()Ljava/lang/String;
       8: invokeinterface #22,  2           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCache:(Ljava/lang/String;)Lorg/infinispan/Cache;
      13: astore_2
      14: aload_1
      15: invokevirtual #60                 // Method org/infinispan/commands/read/MapCombineCommand.getKeys:()Ljava/util/Set;
      18: astore_3
      19: aload_1
      20: invokevirtual #61                 // Method org/infinispan/commands/read/MapCombineCommand.getMaxCollectorSize:()I
      23: istore        4
      25: aload_1
      26: invokevirtual #62                 // Method org/infinispan/commands/read/MapCombineCommand.getMapper:()Lorg/infinispan/distexec/mapreduce/Mapper;
      29: astore        5
      31: aload_3
      32: ifnull        48
      35: aload_3
      36: invokeinterface #25,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      41: ifne          48
      44: iconst_1
      45: goto          49
      48: iconst_0
      49: istore        6
      51: invokestatic  #39                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.getInstance:()Lorg/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService;
      54: astore        7
      56: new           #63                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$SynchronizedCollector
      59: dup
      60: aload_0
      61: new           #64                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$DefaultCollector
      64: dup
      65: aload_0
      66: aload_1
      67: iload         4
      69: invokespecial #65                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$DefaultCollector."<init>":(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl;Lorg/infinispan/commands/read/MapCombineCommand;I)V
      72: invokespecial #66                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$SynchronizedCollector."<init>":(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl;Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector;)V
      75: astore        8
      77: aload_2
      78: invokeinterface #48,  1           // InterfaceMethod org/infinispan/Cache.getAdvancedCache:()Lorg/infinispan/AdvancedCache;
      83: invokeinterface #49,  1           // InterfaceMethod org/infinispan/AdvancedCache.getDataContainer:()Lorg/infinispan/container/DataContainer;
      88: astore        9
      90: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      93: ldc           #67                 // String For m/r task %s invoking %s with input keys %s
      95: aload_1
      96: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
      99: aload_1
     100: aload_3
     101: invokeinterface #41,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     106: getstatic     #42                 // Field trace:Z
     109: ifeq          124
     112: aload_0
     113: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     116: invokeinterface #43,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
     121: goto          125
     124: lconst_0
     125: lstore        10
     127: aload         7
     129: aload         5
     131: aload_2
     132: invokevirtual #69                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPreExecute:(Lorg/infinispan/distexec/mapreduce/Mapper;Lorg/infinispan/Cache;)V
     135: iload         6
     137: ifeq          201
     140: aload_3
     141: invokeinterface #70,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     146: astore        12
     148: aload         12
     150: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     155: ifeq          198
     158: aload         12
     160: invokeinterface #72,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     165: astore        13
     167: aload_2
     168: aload         13
     170: invokeinterface #73,  2           // InterfaceMethod org/infinispan/Cache.get:(Ljava/lang/Object;)Ljava/lang/Object;
     175: astore        14
     177: aload         14
     179: ifnull        195
     182: aload         5
     184: aload         13
     186: aload         14
     188: aload         8
     190: invokeinterface #74,  4           // InterfaceMethod org/infinispan/distexec/mapreduce/Mapper.map:(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/distexec/mapreduce/Collector;)V
     195: goto          148
     198: goto          231
     201: aload         9
     203: new           #75                 // class org/infinispan/persistence/PrimaryOwnerFilter
     206: dup
     207: aload_0
     208: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
     211: invokespecial #76                 // Method org/infinispan/persistence/PrimaryOwnerFilter."<init>":(Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;)V
     214: new           #77                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$2
     217: dup
     218: aload_0
     219: aload         5
     221: aload         8
     223: invokespecial #78                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$2."<init>":(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl;Lorg/infinispan/distexec/mapreduce/Mapper;Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector;)V
     226: invokeinterface #52,  3           // InterfaceMethod org/infinispan/container/DataContainer.executeTask:(Lorg/infinispan/filter/KeyFilter;Ljava/util/function/BiConsumer;)V
     231: aload_0
     232: getfield      #7                  // Field persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
     235: ifnull        311
     238: iload         6
     240: ifne          311
     243: new           #79                 // class org/infinispan/filter/CompositeKeyFilter
     246: dup
     247: iconst_2
     248: anewarray     #80                 // class org/infinispan/filter/KeyFilter
     251: dup
     252: iconst_0
     253: new           #75                 // class org/infinispan/persistence/PrimaryOwnerFilter
     256: dup
     257: aload_0
     258: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
     261: invokespecial #76                 // Method org/infinispan/persistence/PrimaryOwnerFilter."<init>":(Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;)V
     264: aastore
     265: dup
     266: iconst_1
     267: new           #81                 // class org/infinispan/filter/CollectionKeyFilter
     270: dup
     271: aload         9
     273: invokeinterface #82,  1           // InterfaceMethod org/infinispan/container/DataContainer.keySet:()Ljava/util/Set;
     278: invokespecial #83                 // Method org/infinispan/filter/CollectionKeyFilter."<init>":(Ljava/util/Collection;)V
     281: aastore
     282: invokespecial #84                 // Method org/infinispan/filter/CompositeKeyFilter."<init>":([Lorg/infinispan/filter/KeyFilter;)V
     285: astore        12
     287: aload_0
     288: getfield      #7                  // Field persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
     291: aload         12
     293: new           #85                 // class org/infinispan/distexec/mapreduce/MapReduceCacheLoaderTask
     296: dup
     297: aload         5
     299: aload         8
     301: invokespecial #86                 // Method org/infinispan/distexec/mapreduce/MapReduceCacheLoaderTask."<init>":(Lorg/infinispan/distexec/mapreduce/Mapper;Lorg/infinispan/distexec/mapreduce/Collector;)V
     304: iconst_1
     305: iconst_0
     306: invokeinterface #87,  5           // InterfaceMethod org/infinispan/persistence/manager/PersistenceManager.processOnAllStores:(Lorg/infinispan/filter/KeyFilter;Lorg/infinispan/persistence/spi/AdvancedCacheLoader$CacheLoaderTask;ZZ)V
     311: getstatic     #42                 // Field trace:Z
     314: ifeq          348
     317: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     320: ldc           #88                 // String Map phase for task %s took %s milliseconds
     322: aload_1
     323: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     326: aload_0
     327: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     330: lload         10
     332: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     335: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     340: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     343: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     348: aload         7
     350: aload         5
     352: invokevirtual #89                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Mapper;)V
     355: goto          407
     358: astore        15
     360: getstatic     #42                 // Field trace:Z
     363: ifeq          397
     366: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     369: ldc           #88                 // String Map phase for task %s took %s milliseconds
     371: aload_1
     372: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     375: aload_0
     376: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     379: lload         10
     381: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     384: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     389: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     392: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     397: aload         7
     399: aload         5
     401: invokevirtual #89                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Mapper;)V
     404: aload         15
     406: athrow
     407: aload         8
     409: areturn
    Exception table:
       from    to  target type
         127   311   358   any
         358   360   358   any

  protected <KIn, VIn, KOut, VOut> java.util.Set<KOut> mapAndCombine(org.infinispan.commands.read.MapCombineCommand<KIn, VIn, KOut, VOut>) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
       4: aload_1
       5: invokevirtual #59                 // Method org/infinispan/commands/read/MapCombineCommand.getCacheName:()Ljava/lang/String;
       8: invokeinterface #22,  2           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCache:(Ljava/lang/String;)Lorg/infinispan/Cache;
      13: astore_2
      14: aload_1
      15: invokevirtual #60                 // Method org/infinispan/commands/read/MapCombineCommand.getKeys:()Ljava/util/Set;
      18: astore_3
      19: aload_1
      20: invokevirtual #61                 // Method org/infinispan/commands/read/MapCombineCommand.getMaxCollectorSize:()I
      23: istore        4
      25: aload_1
      26: invokevirtual #62                 // Method org/infinispan/commands/read/MapCombineCommand.getMapper:()Lorg/infinispan/distexec/mapreduce/Mapper;
      29: astore        5
      31: aload_3
      32: ifnull        48
      35: aload_3
      36: invokeinterface #25,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      41: ifne          48
      44: iconst_1
      45: goto          49
      48: iconst_0
      49: istore        6
      51: invokestatic  #39                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.getInstance:()Lorg/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService;
      54: astore        7
      56: aload_2
      57: invokeinterface #48,  1           // InterfaceMethod org/infinispan/Cache.getAdvancedCache:()Lorg/infinispan/AdvancedCache;
      62: invokeinterface #49,  1           // InterfaceMethod org/infinispan/AdvancedCache.getDataContainer:()Lorg/infinispan/container/DataContainer;
      67: astore        8
      69: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      72: ldc           #67                 // String For m/r task %s invoking %s with input keys %s
      74: aload_1
      75: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
      78: aload_1
      79: aload_1
      80: invokevirtual #60                 // Method org/infinispan/commands/read/MapCombineCommand.getKeys:()Ljava/util/Set;
      83: invokeinterface #41,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
      88: getstatic     #42                 // Field trace:Z
      91: ifeq          106
      94: aload_0
      95: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
      98: invokeinterface #43,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
     103: goto          107
     106: lconst_0
     107: lstore        9
     109: new           #90                 // class java/util/HashSet
     112: dup
     113: invokespecial #91                 // Method java/util/HashSet."<init>":()V
     116: astore        11
     118: aload         7
     120: aload         5
     122: aload_2
     123: invokevirtual #69                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPreExecute:(Lorg/infinispan/distexec/mapreduce/Mapper;Lorg/infinispan/Cache;)V
     126: iload         6
     128: ifeq          234
     131: new           #64                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$DefaultCollector
     134: dup
     135: aload_0
     136: aload_1
     137: iload         4
     139: invokespecial #65                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$DefaultCollector."<init>":(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl;Lorg/infinispan/commands/read/MapCombineCommand;I)V
     142: astore        12
     144: aload_3
     145: invokeinterface #70,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     150: astore        13
     152: aload         13
     154: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     159: ifeq          202
     162: aload         13
     164: invokeinterface #72,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     169: astore        14
     171: aload_2
     172: aload         14
     174: invokeinterface #73,  2           // InterfaceMethod org/infinispan/Cache.get:(Ljava/lang/Object;)Ljava/lang/Object;
     179: astore        15
     181: aload         15
     183: ifnull        199
     186: aload         5
     188: aload         14
     190: aload         15
     192: aload         12
     194: invokeinterface #74,  4           // InterfaceMethod org/infinispan/distexec/mapreduce/Mapper.map:(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/distexec/mapreduce/Collector;)V
     199: goto          152
     202: aload_0
     203: aload_1
     204: aload         12
     206: invokevirtual #14                 // Method combine:(Lorg/infinispan/commands/read/MapCombineCommand;Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector;)V
     209: aload_0
     210: aload_1
     211: aload         12
     213: invokevirtual #92                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$DefaultCollector.collectedValues:()Ljava/util/Map;
     216: invokespecial #1                  // Method migrateIntermediateKeysAndValues:(Lorg/infinispan/commands/read/MapCombineCommand;Ljava/util/Map;)Ljava/util/Set;
     219: astore        13
     221: aload         11
     223: aload         13
     225: invokeinterface #93,  2           // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     230: pop
     231: goto          306
     234: new           #94                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask
     237: dup
     238: aload_0
     239: aload_1
     240: iload         4
     242: invokespecial #95                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask."<init>":(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl;Lorg/infinispan/commands/read/MapCombineCommand;I)V
     245: astore        12
     247: aload         8
     249: new           #75                 // class org/infinispan/persistence/PrimaryOwnerFilter
     252: dup
     253: aload_0
     254: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
     257: invokespecial #76                 // Method org/infinispan/persistence/PrimaryOwnerFilter."<init>":(Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;)V
     260: aload         12
     262: invokeinterface #52,  3           // InterfaceMethod org/infinispan/container/DataContainer.executeTask:(Lorg/infinispan/filter/KeyFilter;Ljava/util/function/BiConsumer;)V
     267: aload         11
     269: aload         12
     271: invokestatic  #96                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask.access$400:(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask;)Ljava/util/Set;
     274: invokeinterface #93,  2           // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     279: pop
     280: aload         12
     282: invokestatic  #97                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask.access$500:(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask;)Ljava/util/Map;
     285: astore        13
     287: aload_0
     288: aload_1
     289: aload         13
     291: invokespecial #1                  // Method migrateIntermediateKeysAndValues:(Lorg/infinispan/commands/read/MapCombineCommand;Ljava/util/Map;)Ljava/util/Set;
     294: astore        14
     296: aload         11
     298: aload         14
     300: invokeinterface #93,  2           // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     305: pop
     306: aload_0
     307: getfield      #7                  // Field persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
     310: ifnull        429
     313: iload         6
     315: ifne          429
     318: new           #79                 // class org/infinispan/filter/CompositeKeyFilter
     321: dup
     322: iconst_2
     323: anewarray     #80                 // class org/infinispan/filter/KeyFilter
     326: dup
     327: iconst_0
     328: new           #75                 // class org/infinispan/persistence/PrimaryOwnerFilter
     331: dup
     332: aload_0
     333: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
     336: invokespecial #76                 // Method org/infinispan/persistence/PrimaryOwnerFilter."<init>":(Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;)V
     339: aastore
     340: dup
     341: iconst_1
     342: new           #81                 // class org/infinispan/filter/CollectionKeyFilter
     345: dup
     346: aload         8
     348: invokeinterface #82,  1           // InterfaceMethod org/infinispan/container/DataContainer.keySet:()Ljava/util/Set;
     353: invokespecial #83                 // Method org/infinispan/filter/CollectionKeyFilter."<init>":(Ljava/util/Collection;)V
     356: aastore
     357: invokespecial #84                 // Method org/infinispan/filter/CompositeKeyFilter."<init>":([Lorg/infinispan/filter/KeyFilter;)V
     360: astore        12
     362: new           #94                 // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask
     365: dup
     366: aload_0
     367: aload_1
     368: iload         4
     370: invokespecial #95                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask."<init>":(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl;Lorg/infinispan/commands/read/MapCombineCommand;I)V
     373: astore        13
     375: aload_0
     376: getfield      #7                  // Field persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
     379: aload         12
     381: aload         13
     383: iconst_1
     384: iconst_0
     385: invokeinterface #87,  5           // InterfaceMethod org/infinispan/persistence/manager/PersistenceManager.processOnAllStores:(Lorg/infinispan/filter/KeyFilter;Lorg/infinispan/persistence/spi/AdvancedCacheLoader$CacheLoaderTask;ZZ)V
     390: aload         11
     392: aload         13
     394: invokestatic  #96                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask.access$400:(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask;)Ljava/util/Set;
     397: invokeinterface #93,  2           // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     402: pop
     403: aload         13
     405: invokestatic  #97                 // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask.access$500:(Lorg/infinispan/distexec/mapreduce/MapReduceManagerImpl$MapCombineTask;)Ljava/util/Map;
     408: astore        14
     410: aload_0
     411: aload_1
     412: aload         14
     414: invokespecial #1                  // Method migrateIntermediateKeysAndValues:(Lorg/infinispan/commands/read/MapCombineCommand;Ljava/util/Map;)Ljava/util/Set;
     417: astore        15
     419: aload         11
     421: aload         15
     423: invokeinterface #93,  2           // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     428: pop
     429: getstatic     #42                 // Field trace:Z
     432: ifeq          466
     435: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     438: ldc           #88                 // String Map phase for task %s took %s milliseconds
     440: aload_1
     441: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     444: aload_0
     445: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     448: lload         9
     450: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     453: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     458: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     461: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     466: aload         7
     468: aload         5
     470: invokevirtual #89                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Mapper;)V
     473: goto          525
     476: astore        16
     478: getstatic     #42                 // Field trace:Z
     481: ifeq          515
     484: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     487: ldc           #88                 // String Map phase for task %s took %s milliseconds
     489: aload_1
     490: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     493: aload_0
     494: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     497: lload         9
     499: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     502: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     507: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     510: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     515: aload         7
     517: aload         5
     519: invokevirtual #89                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Mapper;)V
     522: aload         16
     524: athrow
     525: aload         11
     527: areturn
    Exception table:
       from    to  target type
         118   429   476   any
         476   478   476   any

  protected <KIn, VIn, KOut, VOut> void combine(org.infinispan.commands.read.MapCombineCommand<KIn, VIn, KOut, VOut>, org.infinispan.distexec.mapreduce.MapReduceManagerImpl$CollectableCollector<KOut, VOut>);
    Code:
       0: aload_1
       1: invokevirtual #98                 // Method org/infinispan/commands/read/MapCombineCommand.hasCombiner:()Z
       4: ifeq          282
       7: aload_1
       8: invokevirtual #99                 // Method org/infinispan/commands/read/MapCombineCommand.getCombiner:()Lorg/infinispan/distexec/mapreduce/Reducer;
      11: astore_3
      12: aload_0
      13: getfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
      16: aload_1
      17: invokevirtual #59                 // Method org/infinispan/commands/read/MapCombineCommand.getCacheName:()Ljava/lang/String;
      20: invokeinterface #22,  2           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCache:(Ljava/lang/String;)Lorg/infinispan/Cache;
      25: astore        4
      27: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      30: ldc           #100                // String For m/r task %s invoking combiner %s at %s
      32: aload_1
      33: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
      36: aload_1
      37: aload_0
      38: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      41: invokeinterface #32,  1           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getAddress:()Lorg/infinispan/remoting/transport/Address;
      46: invokeinterface #41,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
      51: invokestatic  #39                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.getInstance:()Lorg/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService;
      54: astore        5
      56: getstatic     #42                 // Field trace:Z
      59: ifeq          74
      62: aload_0
      63: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
      66: invokeinterface #43,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
      71: goto          75
      74: lconst_0
      75: lstore        6
      77: aload         5
      79: aload_3
      80: aload         4
      82: invokevirtual #45                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPreExecute:(Lorg/infinispan/distexec/mapreduce/Reducer;Lorg/infinispan/Cache;)V
      85: aload_2
      86: invokeinterface #15,  1           // InterfaceMethod org/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector.collectedValues:()Ljava/util/Map;
      91: invokeinterface #101,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      96: invokeinterface #70,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     101: astore        8
     103: aload         8
     105: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     110: ifeq          188
     113: aload         8
     115: invokeinterface #72,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     120: checkcast     #102                // class java/util/Map$Entry
     123: astore        9
     125: aload         9
     127: invokeinterface #103,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     132: checkcast     #104                // class java/util/List
     135: astore        10
     137: aload         10
     139: invokeinterface #105,  1          // InterfaceMethod java/util/List.size:()I
     144: iconst_1
     145: if_icmple     185
     148: aload_3
     149: aload         9
     151: invokeinterface #106,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     156: aload         10
     158: invokeinterface #107,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     163: invokeinterface #108,  3          // InterfaceMethod org/infinispan/distexec/mapreduce/Reducer.reduce:(Ljava/lang/Object;Ljava/util/Iterator;)Ljava/lang/Object;
     168: astore        11
     170: aload_2
     171: aload         9
     173: invokeinterface #106,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     178: aload         11
     180: invokeinterface #109,  3          // InterfaceMethod org/infinispan/distexec/mapreduce/MapReduceManagerImpl$CollectableCollector.emitReduced:(Ljava/lang/Object;Ljava/lang/Object;)V
     185: goto          103
     188: getstatic     #42                 // Field trace:Z
     191: ifeq          225
     194: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     197: ldc           #110                // String Combine for task %s took %s milliseconds
     199: aload_1
     200: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     203: aload_0
     204: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     207: lload         6
     209: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     212: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     217: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     220: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     225: aload         5
     227: aload_3
     228: invokevirtual #58                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Reducer;)V
     231: goto          282
     234: astore        12
     236: getstatic     #42                 // Field trace:Z
     239: ifeq          273
     242: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     245: ldc           #110                // String Combine for task %s took %s milliseconds
     247: aload_1
     248: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     251: aload_0
     252: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     255: lload         6
     257: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     260: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     265: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     268: invokeinterface #57,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     273: aload         5
     275: aload_3
     276: invokevirtual #58                 // Method org/infinispan/distexec/mapreduce/spi/MapReduceTaskLifecycleService.onPostExecute:(Lorg/infinispan/distexec/mapreduce/Reducer;)V
     279: aload         12
     281: athrow
     282: return
    Exception table:
       from    to  target type
          77   188   234   any
         234   236   234   any

  private <KIn, VIn, KOut, VOut> java.util.Set<KOut> migrateIntermediateKeysAndValues(org.infinispan.commands.read.MapCombineCommand<KIn, VIn, KOut, VOut>, java.util.Map<KOut, java.util.List<VOut>>);
    Code:
       0: aload_1
       1: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
       4: astore_3
       5: aload_1
       6: invokevirtual #111                // Method org/infinispan/commands/read/MapCombineCommand.getIntermediateCacheName:()Ljava/lang/String;
       9: astore        4
      11: aload_0
      12: getfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
      15: aload         4
      17: invokeinterface #22,  2           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCache:(Ljava/lang/String;)Lorg/infinispan/Cache;
      22: astore        5
      24: aload         5
      26: ifnonnull     83
      29: new           #26                 // class java/lang/IllegalStateException
      32: dup
      33: new           #27                 // class java/lang/StringBuilder
      36: dup
      37: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
      40: ldc           #112                // String Temporary cache for MapReduceTask
      42: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_3
      46: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: ldc           #113                // String  named
      51: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: aload         4
      56: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: ldc           #114                // String  not found on
      61: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: aload_0
      65: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      68: invokeinterface #32,  1           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getAddress:()Lorg/infinispan/remoting/transport/Address;
      73: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      76: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      79: invokespecial #36                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      82: athrow
      83: new           #90                 // class java/util/HashSet
      86: dup
      87: invokespecial #91                 // Method java/util/HashSet."<init>":()V
      90: astore        6
      92: aload         5
      94: invokeinterface #48,  1           // InterfaceMethod org/infinispan/Cache.getAdvancedCache:()Lorg/infinispan/AdvancedCache;
      99: invokeinterface #115,  1          // InterfaceMethod org/infinispan/AdvancedCache.getDistributionManager:()Lorg/infinispan/distribution/DistributionManager;
     104: astore        7
     106: aload_0
     107: aload         7
     109: aload_3
     110: aload_2
     111: invokeinterface #116,  1          // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     116: invokevirtual #117                // Method mapKeysToNodes:(Lorg/infinispan/distribution/DistributionManager;Ljava/lang/String;Ljava/util/Collection;)Ljava/util/Map;
     119: astore        8
     121: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     124: invokeinterface #118,  1          // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
     129: ifeq          144
     132: aload_0
     133: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     136: invokeinterface #43,  1           // InterfaceMethod org/infinispan/util/TimeService.time:()J
     141: goto          145
     144: lconst_0
     145: lstore        9
     147: aload         5
     149: invokeinterface #48,  1           // InterfaceMethod org/infinispan/Cache.getAdvancedCache:()Lorg/infinispan/AdvancedCache;
     154: iconst_1
     155: anewarray     #119                // class org/infinispan/context/Flag
     158: dup
     159: iconst_0
     160: getstatic     #120                // Field org/infinispan/context/Flag.IGNORE_RETURN_VALUES:Lorg/infinispan/context/Flag;
     163: aastore
     164: invokeinterface #121,  2          // InterfaceMethod org/infinispan/AdvancedCache.withFlags:([Lorg/infinispan/context/Flag;)Lorg/infinispan/AdvancedCache;
     169: astore        5
     171: aload         8
     173: invokeinterface #101,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     178: invokeinterface #70,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     183: astore        11
     185: aload         11
     187: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     192: ifeq          418
     195: aload         11
     197: invokeinterface #72,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     202: checkcast     #102                // class java/util/Map$Entry
     205: astore        12
     207: aload         12
     209: invokeinterface #103,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     214: checkcast     #104                // class java/util/List
     217: astore        13
     219: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     222: ldc           #122                // String For m/r task %s migrating intermediate keys %s to %s
     224: aload_3
     225: aload         13
     227: aload         12
     229: invokeinterface #106,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     234: invokeinterface #41,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     239: aload         13
     241: invokeinterface #107,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     246: astore        14
     248: aload         14
     250: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     255: ifeq          381
     258: aload         14
     260: invokeinterface #72,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     265: astore        15
     267: aload_2
     268: aload         15
     270: invokeinterface #123,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     275: checkcast     #104                // class java/util/List
     278: astore        16
     280: aload_0
     281: getfield      #12                 // Field chunkSize:I
     284: istore        17
     286: iconst_0
     287: istore        18
     289: iload         18
     291: aload         16
     293: invokeinterface #105,  1          // InterfaceMethod java/util/List.size:()I
     298: if_icmpge     368
     301: aload         16
     303: iload         18
     305: aload         16
     307: invokeinterface #105,  1          // InterfaceMethod java/util/List.size:()I
     312: iload         18
     314: iload         17
     316: iadd
     317: invokestatic  #124                // Method java/lang/Math.min:(II)I
     320: invokeinterface #125,  3          // InterfaceMethod java/util/List.subList:(II)Ljava/util/List;
     325: astore        19
     327: new           #126                // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$DeltaList
     330: dup
     331: aload         19
     333: invokespecial #127                // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$DeltaList."<init>":(Ljava/util/List;)V
     336: astore        20
     338: aload         5
     340: new           #128                // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$IntermediateKey
     343: dup
     344: aload_3
     345: aload         15
     347: invokespecial #129                // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$IntermediateKey."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     350: aload         20
     352: invokeinterface #130,  3          // InterfaceMethod org/infinispan/Cache.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     357: pop
     358: iload         18
     360: iload         17
     362: iadd
     363: istore        18
     365: goto          289
     368: aload         6
     370: aload         15
     372: invokeinterface #131,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     377: pop
     378: goto          248
     381: goto          415
     384: astore        14
     386: new           #18                 // class org/infinispan/commons/CacheException
     389: dup
     390: new           #27                 // class java/lang/StringBuilder
     393: dup
     394: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     397: ldc           #132                // String Could not move intermediate keys/values for M/R task
     399: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     402: aload_3
     403: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     406: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     409: aload         14
     411: invokespecial #133                // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     414: athrow
     415: goto          185
     418: getstatic     #42                 // Field trace:Z
     421: ifeq          520
     424: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     427: ldc           #134                // String Migrating keys for task %s took %s milliseconds (Migrated %s keys)
     429: aload_1
     430: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     433: aload_0
     434: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     437: lload         9
     439: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     442: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     447: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     450: aload         6
     452: invokeinterface #135,  1          // InterfaceMethod java/util/Set.size:()I
     457: invokestatic  #136                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     460: invokeinterface #41,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     465: goto          520
     468: astore        21
     470: getstatic     #42                 // Field trace:Z
     473: ifeq          517
     476: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
     479: ldc           #134                // String Migrating keys for task %s took %s milliseconds (Migrated %s keys)
     481: aload_1
     482: invokevirtual #68                 // Method org/infinispan/commands/read/MapCombineCommand.getTaskId:()Ljava/lang/String;
     485: aload_0
     486: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
     489: lload         9
     491: getstatic     #54                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     494: invokeinterface #55,  4           // InterfaceMethod org/infinispan/util/TimeService.timeDuration:(JLjava/util/concurrent/TimeUnit;)J
     499: invokestatic  #56                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     502: aload         6
     504: invokeinterface #135,  1          // InterfaceMethod java/util/Set.size:()I
     509: invokestatic  #136                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     512: invokeinterface #41,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     517: aload         21
     519: athrow
     520: aload         6
     522: areturn
    Exception table:
       from    to  target type
         219   381   384   Class java/lang/Exception
         171   418   468   any
         468   470   468   any

  public <T> java.util.Map<org.infinispan.remoting.transport.Address, java.util.List<T>> mapKeysToNodes(org.infinispan.distribution.DistributionManager, java.lang.String, java.util.Collection<T>);
    Code:
       0: new           #137                // class java/util/HashMap
       3: dup
       4: invokespecial #138                // Method java/util/HashMap."<init>":()V
       7: astore        4
       9: aload_3
      10: invokeinterface #139,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      15: astore        5
      17: aload         5
      19: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          107
      27: aload         5
      29: invokeinterface #72,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: astore        6
      36: aload_1
      37: new           #128                // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl$IntermediateKey
      40: dup
      41: aload_2
      42: aload         6
      44: invokespecial #129                // Method org/infinispan/distexec/mapreduce/MapReduceManagerImpl$IntermediateKey."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
      47: invokeinterface #140,  2          // InterfaceMethod org/infinispan/distribution/DistributionManager.getPrimaryLocation:(Ljava/lang/Object;)Lorg/infinispan/remoting/transport/Address;
      52: astore        7
      54: aload         4
      56: aload         7
      58: invokeinterface #123,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      63: checkcast     #104                // class java/util/List
      66: astore        8
      68: aload         8
      70: ifnonnull     94
      73: new           #141                // class java/util/ArrayList
      76: dup
      77: invokespecial #142                // Method java/util/ArrayList."<init>":()V
      80: astore        8
      82: aload         4
      84: aload         7
      86: aload         8
      88: invokeinterface #143,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      93: pop
      94: aload         8
      96: aload         6
      98: invokeinterface #144,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     103: pop
     104: goto          17
     107: aload         4
     109: areturn

  protected <KIn> java.util.Set<KIn> filterLocalPrimaryOwner(java.util.Set<KIn>, org.infinispan.distribution.DistributionManager);
    Code:
       0: new           #90                 // class java/util/HashSet
       3: dup
       4: invokespecial #91                 // Method java/util/HashSet."<init>":()V
       7: astore_3
       8: aload_1
       9: invokeinterface #70,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      14: astore        4
      16: aload         4
      18: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          95
      26: aload         4
      28: invokeinterface #72,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: astore        5
      35: aload_2
      36: ifnull        50
      39: aload_2
      40: aload         5
      42: invokeinterface #140,  2          // InterfaceMethod org/infinispan/distribution/DistributionManager.getPrimaryLocation:(Ljava/lang/Object;)Lorg/infinispan/remoting/transport/Address;
      47: goto          59
      50: aload_0
      51: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      54: invokeinterface #32,  1           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getAddress:()Lorg/infinispan/remoting/transport/Address;
      59: astore        6
      61: aload         6
      63: ifnull        92
      66: aload         6
      68: aload_0
      69: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      72: invokeinterface #32,  1           // InterfaceMethod org/infinispan/interceptors/locking/ClusteringDependentLogic.getAddress:()Lorg/infinispan/remoting/transport/Address;
      77: invokevirtual #145                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      80: ifeq          92
      83: aload_3
      84: aload         5
      86: invokeinterface #131,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      91: pop
      92: goto          16
      95: aload_3
      96: areturn

  static org.infinispan.manager.EmbeddedCacheManager access$100(org.infinispan.distexec.mapreduce.MapReduceManagerImpl);
    Code:
       0: aload_0
       1: getfield      #5                  // Field cacheManager:Lorg/infinispan/manager/EmbeddedCacheManager;
       4: areturn

  static org.infinispan.interceptors.locking.ClusteringDependentLogic access$200(org.infinispan.distexec.mapreduce.MapReduceManagerImpl);
    Code:
       0: aload_0
       1: getfield      #4                  // Field cdl:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
       4: areturn

  static org.infinispan.util.logging.Log access$300();
    Code:
       0: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       3: areturn

  static org.infinispan.util.TimeService access$600(org.infinispan.distexec.mapreduce.MapReduceManagerImpl);
    Code:
       0: aload_0
       1: getfield      #2                  // Field timeService:Lorg/infinispan/util/TimeService;
       4: areturn

  static java.util.Set access$700(org.infinispan.distexec.mapreduce.MapReduceManagerImpl, org.infinispan.commands.read.MapCombineCommand, java.util.Map);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method migrateIntermediateKeysAndValues:(Lorg/infinispan/commands/read/MapCombineCommand;Ljava/util/Map;)Ljava/util/Set;
       6: areturn

  static {};
    Code:
       0: ldc           #146                // class org/infinispan/distexec/mapreduce/MapReduceManagerImpl
       2: invokestatic  #147                // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #118,  1          // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #42                 // Field trace:Z
      19: return
}
