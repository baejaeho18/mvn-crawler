Compiled from "PendingTxAction.java"
public class org.infinispan.remoting.inboundhandler.action.PendingTxAction extends org.infinispan.remoting.inboundhandler.action.BaseLockingAction implements org.infinispan.util.concurrent.locks.PendingLockListener {
  private final org.infinispan.util.concurrent.locks.PendingLockManager pendingLockManager;

  private final java.util.concurrent.CompletableFuture<java.lang.Void> notifier;

  private volatile org.infinispan.util.concurrent.locks.PendingLockPromise pendingLockPromise;

  public org.infinispan.remoting.inboundhandler.action.PendingTxAction(org.infinispan.util.concurrent.locks.PendingLockManager, org.infinispan.interceptors.locking.ClusteringDependentLogic);
    Code:
       0: aload_0
       1: aload_2
       2: invokespecial #1                  // Method org/infinispan/remoting/inboundhandler/action/BaseLockingAction."<init>":(Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;)V
       5: aload_0
       6: aload_1
       7: putfield      #2                  // Field pendingLockManager:Lorg/infinispan/util/concurrent/locks/PendingLockManager;
      10: aload_0
      11: new           #3                  // class java/util/concurrent/CompletableFuture
      14: dup
      15: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
      18: putfield      #5                  // Field notifier:Ljava/util/concurrent/CompletableFuture;
      21: return

  protected org.infinispan.remoting.inboundhandler.action.ActionStatus checking(org.infinispan.remoting.inboundhandler.action.ActionState);
    Code:
       0: aload_0
       1: getfield      #6                  // Field pendingLockPromise:Lorg/infinispan/util/concurrent/locks/PendingLockPromise;
       4: astore_2
       5: aload_2
       6: ifnull        80
       9: aload_2
      10: invokeinterface #7,  1            // InterfaceMethod org/infinispan/util/concurrent/locks/PendingLockPromise.isReady:()Z
      15: ifeq          80
      18: aload_0
      19: getstatic     #8                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.CHECKING:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      22: getstatic     #9                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.MAKE_READY:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      25: invokevirtual #10                 // Method cas:(Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;)Z
      28: ifeq          80
      31: aload_2
      32: invokeinterface #11,  1           // InterfaceMethod org/infinispan/util/concurrent/locks/PendingLockPromise.hasTimedOut:()Z
      37: ifeq          55
      40: aload_0
      41: getstatic     #9                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.MAKE_READY:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      44: getstatic     #12                 // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.CANCELED:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      47: invokevirtual #10                 // Method cas:(Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;)Z
      50: pop
      51: getstatic     #13                 // Field org/infinispan/remoting/inboundhandler/action/ActionStatus.CANCELED:Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
      54: areturn
      55: aload_1
      56: aload_2
      57: invokeinterface #14,  1           // InterfaceMethod org/infinispan/util/concurrent/locks/PendingLockPromise.getRemainingTimeout:()J
      62: invokevirtual #15                 // Method org/infinispan/remoting/inboundhandler/action/ActionState.updateTimeout:(J)V
      65: aload_0
      66: getstatic     #9                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.MAKE_READY:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      69: getstatic     #16                 // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.READY:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      72: invokevirtual #10                 // Method cas:(Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;)Z
      75: pop
      76: getstatic     #17                 // Field org/infinispan/remoting/inboundhandler/action/ActionStatus.READY:Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
      79: areturn
      80: getstatic     #18                 // Field org/infinispan/remoting/inboundhandler/action/ActionStatus.NOT_READY:Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
      83: areturn

  protected org.infinispan.remoting.inboundhandler.action.ActionStatus init(org.infinispan.remoting.inboundhandler.action.ActionState);
    Code:
       0: aload_0
       1: getstatic     #19                 // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.INIT:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
       4: getstatic     #8                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.CHECKING:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
       7: invokevirtual #10                 // Method cas:(Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;)Z
      10: ifne          17
      13: getstatic     #18                 // Field org/infinispan/remoting/inboundhandler/action/ActionStatus.NOT_READY:Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
      16: areturn
      17: aload_0
      18: aload_1
      19: invokespecial #20                 // Method createContext:(Lorg/infinispan/remoting/inboundhandler/action/ActionState;)Lorg/infinispan/context/impl/TxInvocationContext;
      22: astore_2
      23: aload_2
      24: ifnonnull     42
      27: aload_0
      28: getstatic     #8                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.CHECKING:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      31: getstatic     #12                 // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.CANCELED:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
      34: invokevirtual #10                 // Method cas:(Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;)Z
      37: pop
      38: getstatic     #13                 // Field org/infinispan/remoting/inboundhandler/action/ActionStatus.CANCELED:Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
      41: areturn
      42: aload_1
      43: invokevirtual #21                 // Method org/infinispan/remoting/inboundhandler/action/ActionState.getTimeout:()J
      46: lstore_3
      47: aload_0
      48: aload_1
      49: invokevirtual #22                 // Method getAndUpdateFilteredKeys:(Lorg/infinispan/remoting/inboundhandler/action/ActionState;)Ljava/util/List;
      52: astore        5
      54: aload_1
      55: invokevirtual #23                 // Method org/infinispan/remoting/inboundhandler/action/ActionState.getCommand:()Lorg/infinispan/util/concurrent/locks/RemoteLockCommand;
      58: astore        6
      60: aload         6
      62: instanceof    #24                 // class org/infinispan/commands/tx/PrepareCommand
      65: ifeq          102
      68: aload         6
      70: checkcast     #24                 // class org/infinispan/commands/tx/PrepareCommand
      73: invokevirtual #25                 // Method org/infinispan/commands/tx/PrepareCommand.isRetriedCommand:()Z
      76: ifeq          102
      79: aload_2
      80: invokeinterface #26,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      85: invokevirtual #27                 // Method org/infinispan/transaction/impl/AbstractCacheTransaction.cleanupBackupLocks:()V
      88: aload         5
      90: aload_2
      91: invokeinterface #28,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getLockedKeys:()Ljava/util/Set;
      96: invokeinterface #29,  2           // InterfaceMethod java/util/List.removeAll:(Ljava/util/Collection;)Z
     101: pop
     102: aload         5
     104: invokeinterface #30,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     109: ifeq          127
     112: aload_0
     113: getstatic     #8                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.CHECKING:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
     116: getstatic     #16                 // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.READY:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
     119: invokevirtual #10                 // Method cas:(Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;)Z
     122: pop
     123: getstatic     #17                 // Field org/infinispan/remoting/inboundhandler/action/ActionStatus.READY:Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
     126: areturn
     127: aload         5
     129: invokeinterface #31,  1           // InterfaceMethod java/util/List.size:()I
     134: iconst_1
     135: if_icmpne     163
     138: aload_0
     139: getfield      #2                  // Field pendingLockManager:Lorg/infinispan/util/concurrent/locks/PendingLockManager;
     142: aload_2
     143: aload         5
     145: iconst_0
     146: invokeinterface #32,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     151: lload_3
     152: getstatic     #33                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     155: invokeinterface #34,  6           // InterfaceMethod org/infinispan/util/concurrent/locks/PendingLockManager.checkPendingTransactionsForKey:(Lorg/infinispan/context/impl/TxInvocationContext;Ljava/lang/Object;JLjava/util/concurrent/TimeUnit;)Lorg/infinispan/util/concurrent/locks/PendingLockPromise;
     160: goto          179
     163: aload_0
     164: getfield      #2                  // Field pendingLockManager:Lorg/infinispan/util/concurrent/locks/PendingLockManager;
     167: aload_2
     168: aload         5
     170: lload_3
     171: getstatic     #33                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     174: invokeinterface #35,  6           // InterfaceMethod org/infinispan/util/concurrent/locks/PendingLockManager.checkPendingTransactionsForKeys:(Lorg/infinispan/context/impl/TxInvocationContext;Ljava/util/Collection;JLjava/util/concurrent/TimeUnit;)Lorg/infinispan/util/concurrent/locks/PendingLockPromise;
     179: astore        7
     181: aload         7
     183: getstatic     #36                 // Field org/infinispan/util/concurrent/locks/PendingLockPromise.NO_OP:Lorg/infinispan/util/concurrent/locks/PendingLockPromise;
     186: if_acmpne     204
     189: aload_0
     190: getstatic     #8                  // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.CHECKING:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
     193: getstatic     #16                 // Field org/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState.READY:Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;
     196: invokevirtual #10                 // Method cas:(Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;Lorg/infinispan/remoting/inboundhandler/action/BaseLockingAction$InternalState;)Z
     199: pop
     200: getstatic     #17                 // Field org/infinispan/remoting/inboundhandler/action/ActionStatus.READY:Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
     203: areturn
     204: aload_0
     205: aload         7
     207: putfield      #6                  // Field pendingLockPromise:Lorg/infinispan/util/concurrent/locks/PendingLockPromise;
     210: aload         7
     212: invokeinterface #7,  1            // InterfaceMethod org/infinispan/util/concurrent/locks/PendingLockPromise.isReady:()Z
     217: ifne          228
     220: aload         7
     222: aload_0
     223: invokeinterface #37,  2           // InterfaceMethod org/infinispan/util/concurrent/locks/PendingLockPromise.addListener:(Lorg/infinispan/util/concurrent/locks/PendingLockListener;)V
     228: aload_0
     229: aload_1
     230: invokevirtual #38                 // Method check:(Lorg/infinispan/remoting/inboundhandler/action/ActionState;)Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
     233: areturn

  public void addListener(org.infinispan.remoting.inboundhandler.action.ActionListener);
    Code:
       0: aload_0
       1: getfield      #5                  // Field notifier:Ljava/util/concurrent/CompletableFuture;
       4: aload_1
       5: dup
       6: invokevirtual #39                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: pop
      10: invokedynamic #40,  0             // InvokeDynamic #0:run:(Lorg/infinispan/remoting/inboundhandler/action/ActionListener;)Ljava/lang/Runnable;
      15: invokevirtual #41                 // Method java/util/concurrent/CompletableFuture.thenRun:(Ljava/lang/Runnable;)Ljava/util/concurrent/CompletableFuture;
      18: pop
      19: return

  public void onReady();
    Code:
       0: aload_0
       1: getfield      #5                  // Field notifier:Ljava/util/concurrent/CompletableFuture;
       4: aconst_null
       5: invokevirtual #42                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
       8: pop
       9: return

  private org.infinispan.context.impl.TxInvocationContext<?> createContext(org.infinispan.remoting.inboundhandler.action.ActionState);
    Code:
       0: aload_1
       1: invokevirtual #23                 // Method org/infinispan/remoting/inboundhandler/action/ActionState.getCommand:()Lorg/infinispan/util/concurrent/locks/RemoteLockCommand;
       4: astore_2
       5: aload_2
       6: instanceof    #43                 // class org/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand
       9: ifeq          22
      12: aload_2
      13: checkcast     #43                 // class org/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand
      16: invokeinterface #44,  1           // InterfaceMethod org/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand.createContext:()Lorg/infinispan/context/impl/TxInvocationContext;
      21: areturn
      22: aconst_null
      23: areturn
}
