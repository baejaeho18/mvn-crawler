Compiled from "DefaultReadyAction.java"
public class org.infinispan.remoting.inboundhandler.action.DefaultReadyAction implements org.infinispan.remoting.inboundhandler.action.ReadyAction,org.infinispan.remoting.inboundhandler.action.ActionListener {
  private final org.infinispan.remoting.inboundhandler.action.ActionState state;

  private final org.infinispan.remoting.inboundhandler.action.Action[] actions;

  private final java.util.concurrent.atomic.AtomicInteger currentAction;

  private final java.util.concurrent.CompletableFuture<java.lang.Void> notifier;

  public org.infinispan.remoting.inboundhandler.action.DefaultReadyAction(org.infinispan.remoting.inboundhandler.action.ActionState, org.infinispan.remoting.inboundhandler.action.Action...);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: ldc           #2                  // String Action state must be non null.
       8: invokestatic  #3                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #4                  // class org/infinispan/remoting/inboundhandler/action/ActionState
      14: putfield      #5                  // Field state:Lorg/infinispan/remoting/inboundhandler/action/ActionState;
      17: aload_0
      18: aload_2
      19: ldc           #6                  // String Actions must be non null.
      21: invokestatic  #3                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      24: checkcast     #7                  // class "[Lorg/infinispan/remoting/inboundhandler/action/Action;"
      27: putfield      #8                  // Field actions:[Lorg/infinispan/remoting/inboundhandler/action/Action;
      30: aload_0
      31: new           #9                  // class java/util/concurrent/CompletableFuture
      34: dup
      35: invokespecial #10                 // Method java/util/concurrent/CompletableFuture."<init>":()V
      38: putfield      #11                 // Field notifier:Ljava/util/concurrent/CompletableFuture;
      41: aload_0
      42: new           #12                 // class java/util/concurrent/atomic/AtomicInteger
      45: dup
      46: iconst_0
      47: invokespecial #13                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      50: putfield      #14                 // Field currentAction:Ljava/util/concurrent/atomic/AtomicInteger;
      53: return

  public void registerListener();
    Code:
       0: aload_0
       1: getfield      #8                  // Field actions:[Lorg/infinispan/remoting/inboundhandler/action/Action;
       4: aload_0
       5: invokedynamic #15,  0             // InvokeDynamic #0:accept:(Lorg/infinispan/remoting/inboundhandler/action/DefaultReadyAction;)Ljava/util/function/Consumer;
      10: invokestatic  #16                 // Method org/infinispan/commons/util/InfinispanCollections.forEach:([Ljava/lang/Object;Ljava/util/function/Consumer;)V
      13: return

  public boolean isReady();
    Code:
       0: aload_0
       1: getfield      #14                 // Field currentAction:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #17                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: istore_1
       8: iload_1
       9: aload_0
      10: getfield      #8                  // Field actions:[Lorg/infinispan/remoting/inboundhandler/action/Action;
      13: arraylength
      14: if_icmplt     19
      17: iconst_1
      18: ireturn
      19: aload_0
      20: getfield      #8                  // Field actions:[Lorg/infinispan/remoting/inboundhandler/action/Action;
      23: iload_1
      24: aaload
      25: astore_2
      26: getstatic     #18                 // Field org/infinispan/remoting/inboundhandler/action/DefaultReadyAction$1.$SwitchMap$org$infinispan$remoting$inboundhandler$action$ActionStatus:[I
      29: aload_2
      30: aload_0
      31: getfield      #5                  // Field state:Lorg/infinispan/remoting/inboundhandler/action/ActionState;
      34: invokeinterface #19,  2           // InterfaceMethod org/infinispan/remoting/inboundhandler/action/Action.check:(Lorg/infinispan/remoting/inboundhandler/action/ActionState;)Lorg/infinispan/remoting/inboundhandler/action/ActionStatus;
      39: invokevirtual #20                 // Method org/infinispan/remoting/inboundhandler/action/ActionStatus.ordinal:()I
      42: iaload
      43: tableswitch   { // 1 to 3
                     1: 68
                     2: 95
                     3: 97
               default: 111
          }
      68: aload_0
      69: getfield      #14                 // Field currentAction:Ljava/util/concurrent/atomic/AtomicInteger;
      72: iload_1
      73: iload_1
      74: iconst_1
      75: iadd
      76: invokevirtual #21                 // Method java/util/concurrent/atomic/AtomicInteger.compareAndSet:(II)Z
      79: ifeq          93
      82: aload_0
      83: invokevirtual #22                 // Method isReady:()Z
      86: ifeq          93
      89: iconst_1
      90: goto          94
      93: iconst_0
      94: ireturn
      95: iconst_0
      96: ireturn
      97: aload_0
      98: getfield      #14                 // Field currentAction:Ljava/util/concurrent/atomic/AtomicInteger;
     101: aload_0
     102: getfield      #8                  // Field actions:[Lorg/infinispan/remoting/inboundhandler/action/Action;
     105: arraylength
     106: invokevirtual #23                 // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
     109: iconst_1
     110: ireturn
     111: iconst_0
     112: ireturn

  public void addListener(org.infinispan.remoting.inboundhandler.action.ActionListener);
    Code:
       0: aload_0
       1: getfield      #11                 // Field notifier:Ljava/util/concurrent/CompletableFuture;
       4: aload_1
       5: dup
       6: invokevirtual #24                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: pop
      10: invokedynamic #25,  0             // InvokeDynamic #1:run:(Lorg/infinispan/remoting/inboundhandler/action/ActionListener;)Ljava/lang/Runnable;
      15: invokevirtual #26                 // Method java/util/concurrent/CompletableFuture.thenRun:(Ljava/lang/Runnable;)Ljava/util/concurrent/CompletableFuture;
      18: pop
      19: return

  public void cleanup();
    Code:
       0: aload_0
       1: getfield      #8                  // Field actions:[Lorg/infinispan/remoting/inboundhandler/action/Action;
       4: aload_0
       5: invokedynamic #27,  0             // InvokeDynamic #2:accept:(Lorg/infinispan/remoting/inboundhandler/action/DefaultReadyAction;)Ljava/util/function/Consumer;
      10: invokestatic  #16                 // Method org/infinispan/commons/util/InfinispanCollections.forEach:([Ljava/lang/Object;Ljava/util/function/Consumer;)V
      13: return

  public void onComplete();
    Code:
       0: aload_0
       1: invokevirtual #22                 // Method isReady:()Z
       4: ifeq          16
       7: aload_0
       8: getfield      #11                 // Field notifier:Ljava/util/concurrent/CompletableFuture;
      11: aconst_null
      12: invokevirtual #28                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      15: pop
      16: return

  private void lambda$cleanup$272(org.infinispan.remoting.inboundhandler.action.Action);
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #5                  // Field state:Lorg/infinispan/remoting/inboundhandler/action/ActionState;
       5: invokeinterface #29,  2           // InterfaceMethod org/infinispan/remoting/inboundhandler/action/Action.cleanup:(Lorg/infinispan/remoting/inboundhandler/action/ActionState;)V
      10: return

  private void lambda$registerListener$271(org.infinispan.remoting.inboundhandler.action.Action);
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #30,  2           // InterfaceMethod org/infinispan/remoting/inboundhandler/action/Action.addListener:(Lorg/infinispan/remoting/inboundhandler/action/ActionListener;)V
       7: return
}
