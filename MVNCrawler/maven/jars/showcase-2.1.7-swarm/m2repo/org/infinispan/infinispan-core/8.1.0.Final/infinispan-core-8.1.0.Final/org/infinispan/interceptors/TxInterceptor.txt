Compiled from "TxInterceptor.java"
public class org.infinispan.interceptors.TxInterceptor<K, V> extends org.infinispan.interceptors.base.CommandInterceptor implements org.infinispan.jmx.JmxStatisticsExposer {
  private static final org.infinispan.util.logging.Log log;

  private static final boolean trace;

  private final java.util.concurrent.atomic.AtomicLong prepares;

  private final java.util.concurrent.atomic.AtomicLong commits;

  private final java.util.concurrent.atomic.AtomicLong rollbacks;

  private org.infinispan.remoting.rpc.RpcManager rpcManager;

  private org.infinispan.commands.CommandsFactory commandsFactory;

  private org.infinispan.Cache<K, V> cache;

  private org.infinispan.transaction.xa.recovery.RecoveryManager recoveryManager;

  private org.infinispan.transaction.impl.TransactionTable txTable;

  private org.infinispan.partitionhandling.impl.PartitionHandlingManager partitionHandlingManager;

  private boolean isTotalOrder;

  private boolean useOnePhaseForAutoCommitTx;

  private boolean useVersioning;

  private boolean statisticsEnabled;

  public org.infinispan.interceptors.TxInterceptor();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/infinispan/interceptors/base/CommandInterceptor."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/concurrent/atomic/AtomicLong
       8: dup
       9: lconst_0
      10: invokespecial #4                  // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      13: putfield      #5                  // Field prepares:Ljava/util/concurrent/atomic/AtomicLong;
      16: aload_0
      17: new           #3                  // class java/util/concurrent/atomic/AtomicLong
      20: dup
      21: lconst_0
      22: invokespecial #4                  // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      25: putfield      #6                  // Field commits:Ljava/util/concurrent/atomic/AtomicLong;
      28: aload_0
      29: new           #3                  // class java/util/concurrent/atomic/AtomicLong
      32: dup
      33: lconst_0
      34: invokespecial #4                  // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      37: putfield      #7                  // Field rollbacks:Ljava/util/concurrent/atomic/AtomicLong;
      40: return

  protected org.infinispan.util.logging.Log getLog();
    Code:
       0: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
       3: areturn

  public void init(org.infinispan.transaction.impl.TransactionTable, org.infinispan.configuration.cache.Configuration, org.infinispan.remoting.rpc.RpcManager, org.infinispan.transaction.xa.recovery.RecoveryManager, org.infinispan.commands.CommandsFactory, org.infinispan.Cache<K, V>, org.infinispan.partitionhandling.impl.PartitionHandlingManager);
    Code:
       0: aload_0
       1: aload_2
       2: putfield      #9                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       5: aload_0
       6: aload_1
       7: putfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
      10: aload_0
      11: aload_3
      12: putfield      #11                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      15: aload_0
      16: aload         4
      18: putfield      #12                 // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
      21: aload_0
      22: aload         5
      24: putfield      #13                 // Field commandsFactory:Lorg/infinispan/commands/CommandsFactory;
      27: aload_0
      28: aload         6
      30: putfield      #1                  // Field cache:Lorg/infinispan/Cache;
      33: aload_0
      34: aload         7
      36: putfield      #14                 // Field partitionHandlingManager:Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
      39: aload_0
      40: aload_0
      41: getfield      #9                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
      44: invokevirtual #15                 // Method org/infinispan/configuration/cache/Configuration.jmxStatistics:()Lorg/infinispan/configuration/cache/JMXStatisticsConfiguration;
      47: invokevirtual #16                 // Method org/infinispan/configuration/cache/JMXStatisticsConfiguration.enabled:()Z
      50: putfield      #17                 // Field statisticsEnabled:Z
      53: aload_0
      54: aload_2
      55: invokevirtual #18                 // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
      58: invokevirtual #19                 // Method org/infinispan/configuration/cache/TransactionConfiguration.transactionProtocol:()Lorg/infinispan/transaction/TransactionProtocol;
      61: invokevirtual #20                 // Method org/infinispan/transaction/TransactionProtocol.isTotalOrder:()Z
      64: putfield      #21                 // Field isTotalOrder:Z
      67: aload_0
      68: aload_0
      69: getfield      #9                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
      72: invokevirtual #18                 // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
      75: invokevirtual #22                 // Method org/infinispan/configuration/cache/TransactionConfiguration.use1PcForAutoCommitTransactions:()Z
      78: putfield      #23                 // Field useOnePhaseForAutoCommitTx:Z
      81: aload_0
      82: aload_2
      83: invokestatic  #24                 // Method org/infinispan/configuration/cache/Configurations.isVersioningEnabled:(Lorg/infinispan/configuration/cache/Configuration;)Z
      86: putfield      #25                 // Field useVersioning:Z
      89: return

  public java.lang.Object visitPrepareCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.PrepareCommand) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #26,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
       6: invokevirtual #27                 // Method org/infinispan/transaction/impl/AbstractCacheTransaction.freezeModifications:()V
       9: aload_0
      10: getfield      #17                 // Field statisticsEnabled:Z
      13: ifeq          24
      16: aload_0
      17: getfield      #5                  // Field prepares:Ljava/util/concurrent/atomic/AtomicLong;
      20: invokevirtual #28                 // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      23: pop2
      24: aload_1
      25: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      30: ifne          52
      33: aload_1
      34: invokeinterface #26,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      39: checkcast     #30                 // class org/infinispan/transaction/impl/RemoteTransaction
      42: aload_2
      43: invokevirtual #31                 // Method org/infinispan/commands/tx/PrepareCommand.getTopologyId:()I
      46: invokevirtual #32                 // Method org/infinispan/transaction/impl/RemoteTransaction.setLookedUpEntriesTopology:(I)V
      49: goto          76
      52: aload_1
      53: invokeinterface #26,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      58: ldc           #33                 // class org/infinispan/commands/write/ClearCommand
      60: invokevirtual #34                 // Method org/infinispan/transaction/impl/AbstractCacheTransaction.hasModification:(Ljava/lang/Class;)Z
      63: ifeq          76
      66: new           #35                 // class java/lang/IllegalStateException
      69: dup
      70: ldc           #36                 // String No ClearCommand is allowed in Transaction.
      72: invokespecial #37                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      75: athrow
      76: aload_0
      77: aload_1
      78: aload_2
      79: invokespecial #38                 // Method invokeNextInterceptorAndVerifyTransaction:(Lorg/infinispan/context/impl/TxInvocationContext;Lorg/infinispan/commands/tx/AbstractTransactionBoundaryCommand;)Ljava/lang/Object;
      82: astore_3
      83: aload_1
      84: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      89: ifne          125
      92: aload_2
      93: invokevirtual #39                 // Method org/infinispan/commands/tx/PrepareCommand.isOnePhaseCommit:()Z
      96: ifeq          114
      99: aload_0
     100: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
     103: aload_2
     104: invokevirtual #40                 // Method org/infinispan/commands/tx/PrepareCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
     107: iconst_1
     108: invokevirtual #41                 // Method org/infinispan/transaction/impl/TransactionTable.remoteTransactionCommitted:(Lorg/infinispan/transaction/xa/GlobalTransaction;Z)V
     111: goto          125
     114: aload_0
     115: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
     118: aload_2
     119: invokevirtual #40                 // Method org/infinispan/commands/tx/PrepareCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
     122: invokevirtual #42                 // Method org/infinispan/transaction/impl/TransactionTable.remoteTransactionPrepared:(Lorg/infinispan/transaction/xa/GlobalTransaction;)V
     125: aload_3
     126: areturn

  private java.lang.Object invokeNextInterceptorAndVerifyTransaction(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.AbstractTransactionBoundaryCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #43                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: astore_3
       7: aload_1
       8: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      13: ifne          25
      16: aload_0
      17: aload_1
      18: checkcast     #44                 // class org/infinispan/context/impl/RemoteTxInvocationContext
      21: aload_2
      22: invokespecial #45                 // Method verifyRemoteTransaction:(Lorg/infinispan/context/impl/RemoteTxInvocationContext;Lorg/infinispan/commands/tx/AbstractTransactionBoundaryCommand;)V
      25: aload_3
      26: areturn
      27: astore        4
      29: aload_1
      30: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      35: ifne          47
      38: aload_0
      39: aload_1
      40: checkcast     #44                 // class org/infinispan/context/impl/RemoteTxInvocationContext
      43: aload_2
      44: invokespecial #45                 // Method verifyRemoteTransaction:(Lorg/infinispan/context/impl/RemoteTxInvocationContext;Lorg/infinispan/commands/tx/AbstractTransactionBoundaryCommand;)V
      47: aload         4
      49: athrow
    Exception table:
       from    to  target type
           0     7    27   any
          27    29    27   any

  public java.lang.Object visitCommitCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.CommitCommand) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #46,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
       6: astore_3
       7: aload_1
       8: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      13: ifne          65
      16: aload_0
      17: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
      20: aload_3
      21: invokevirtual #47                 // Method org/infinispan/transaction/impl/TransactionTable.isTransactionCompleted:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Z
      24: ifeq          46
      27: getstatic     #48                 // Field trace:Z
      30: ifeq          44
      33: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
      36: ldc           #49                 // String Transaction %s already completed, skipping commit
      38: aload_3
      39: invokeinterface #50,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      44: aconst_null
      45: areturn
      46: aload_0
      47: getfield      #21                 // Field isTotalOrder:Z
      50: ifne          65
      53: aload_0
      54: aload_1
      55: checkcast     #44                 // class org/infinispan/context/impl/RemoteTxInvocationContext
      58: aload_2
      59: invokevirtual #51                 // Method org/infinispan/commands/tx/CommitCommand.getTopologyId:()I
      62: invokespecial #52                 // Method replayRemoteTransactionIfNeeded:(Lorg/infinispan/context/impl/RemoteTxInvocationContext;I)V
      65: aload_0
      66: getfield      #17                 // Field statisticsEnabled:Z
      69: ifeq          80
      72: aload_0
      73: getfield      #6                  // Field commits:Ljava/util/concurrent/atomic/AtomicLong;
      76: invokevirtual #28                 // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      79: pop2
      80: aload_0
      81: aload_1
      82: aload_2
      83: invokevirtual #43                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      86: astore        4
      88: aload_1
      89: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      94: ifeq          104
      97: aload_0
      98: getfield      #21                 // Field isTotalOrder:Z
     101: ifeq          113
     104: aload_0
     105: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
     108: aload_3
     109: iconst_0
     110: invokevirtual #41                 // Method org/infinispan/transaction/impl/TransactionTable.remoteTransactionCommitted:(Lorg/infinispan/transaction/xa/GlobalTransaction;Z)V
     113: aload         4
     115: areturn

  public java.lang.Object visitRollbackCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.tx.RollbackCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #17                 // Field statisticsEnabled:Z
       4: ifeq          15
       7: aload_0
       8: getfield      #7                  // Field rollbacks:Ljava/util/concurrent/atomic/AtomicLong;
      11: invokevirtual #28                 // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      14: pop2
      15: aload_1
      16: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      21: ifeq          31
      24: aload_0
      25: getfield      #21                 // Field isTotalOrder:Z
      28: ifeq          42
      31: aload_0
      32: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
      35: aload_2
      36: invokevirtual #53                 // Method org/infinispan/commands/tx/RollbackCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
      39: invokevirtual #54                 // Method org/infinispan/transaction/impl/TransactionTable.remoteTransactionRollback:(Lorg/infinispan/transaction/xa/GlobalTransaction;)V
      42: aload_0
      43: aload_1
      44: aload_2
      45: invokevirtual #43                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      48: astore_3
      49: aload_0
      50: getfield      #12                 // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
      53: ifnull        82
      56: aload_2
      57: invokevirtual #53                 // Method org/infinispan/commands/tx/RollbackCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
      60: astore        4
      62: aload_0
      63: getfield      #12                 // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
      66: aload         4
      68: checkcast     #55                 // class org/infinispan/transaction/xa/recovery/RecoverableTransactionIdentifier
      71: invokeinterface #56,  1           // InterfaceMethod org/infinispan/transaction/xa/recovery/RecoverableTransactionIdentifier.getXid:()Ljavax/transaction/xa/Xid;
      76: invokeinterface #57,  2           // InterfaceMethod org/infinispan/transaction/xa/recovery/RecoveryManager.removeRecoveryInformation:(Ljavax/transaction/xa/Xid;)Lorg/infinispan/transaction/xa/recovery/RecoveryAwareTransaction;
      81: pop
      82: aload_3
      83: areturn
      84: astore        5
      86: aload_0
      87: getfield      #12                 // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
      90: ifnull        119
      93: aload_2
      94: invokevirtual #53                 // Method org/infinispan/commands/tx/RollbackCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
      97: astore        6
      99: aload_0
     100: getfield      #12                 // Field recoveryManager:Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
     103: aload         6
     105: checkcast     #55                 // class org/infinispan/transaction/xa/recovery/RecoverableTransactionIdentifier
     108: invokeinterface #56,  1           // InterfaceMethod org/infinispan/transaction/xa/recovery/RecoverableTransactionIdentifier.getXid:()Ljavax/transaction/xa/Xid;
     113: invokeinterface #57,  2           // InterfaceMethod org/infinispan/transaction/xa/recovery/RecoveryManager.removeRecoveryInformation:(Ljavax/transaction/xa/Xid;)Lorg/infinispan/transaction/xa/recovery/RecoveryAwareTransaction;
     118: pop
     119: aload         5
     121: athrow
    Exception table:
       from    to  target type
          42    49    84   any
          84    86    84   any

  public java.lang.Object visitLockControlCommand(org.infinispan.context.impl.TxInvocationContext, org.infinispan.commands.control.LockControlCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #58                 // Method enlistIfNeeded:(Lorg/infinispan/context/InvocationContext;)V
       5: aload_1
       6: invokeinterface #29,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
      11: ifeq          24
      14: aload_2
      15: aload_1
      16: invokeinterface #46,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
      21: invokevirtual #59                 // Method org/infinispan/commands/control/LockControlCommand.setGlobalTransaction:(Lorg/infinispan/transaction/xa/GlobalTransaction;)V
      24: aload_0
      25: aload_1
      26: aload_2
      27: invokespecial #38                 // Method invokeNextInterceptorAndVerifyTransaction:(Lorg/infinispan/context/impl/TxInvocationContext;Lorg/infinispan/commands/tx/AbstractTransactionBoundaryCommand;)Ljava/lang/Object;
      30: areturn

  public java.lang.Object visitPutKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #60                 // Method enlistWriteAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitApplyDeltaCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ApplyDeltaCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #60                 // Method enlistWriteAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitRemoveCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.RemoveCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #60                 // Method enlistWriteAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitReplaceCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ReplaceCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #60                 // Method enlistWriteAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitClearCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ClearCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #43                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitPutMapCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutMapCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #60                 // Method enlistWriteAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitSizeCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.SizeCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #61                 // Method enlistReadAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public org.infinispan.CacheSet<K> visitKeySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.KeySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #61                 // Method enlistReadAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: checkcast     #62                 // class org/infinispan/CacheSet
       9: astore_3
      10: aload_1
      11: invokeinterface #63,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isInTxScope:()Z
      16: ifeq          39
      19: new           #64                 // class org/infinispan/interceptors/TxInterceptor$1
      22: dup
      23: aload_0
      24: aload_0
      25: aload_0
      26: getfield      #1                  // Field cache:Lorg/infinispan/Cache;
      29: aload_2
      30: invokevirtual #65                 // Method getCacheWithFlags:(Lorg/infinispan/Cache;Lorg/infinispan/commands/LocalFlagAffectedCommand;)Lorg/infinispan/Cache;
      33: aload_3
      34: aload_1
      35: invokespecial #66                 // Method org/infinispan/interceptors/TxInterceptor$1."<init>":(Lorg/infinispan/interceptors/TxInterceptor;Lorg/infinispan/Cache;Lorg/infinispan/CacheSet;Lorg/infinispan/context/InvocationContext;)V
      38: areturn
      39: aload_3
      40: areturn

  public org.infinispan.CacheSet<org.infinispan.container.entries.CacheEntry<K, V>> visitEntrySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.EntrySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #61                 // Method enlistReadAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: checkcast     #62                 // class org/infinispan/CacheSet
       9: astore_3
      10: aload_1
      11: invokeinterface #63,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isInTxScope:()Z
      16: ifeq          39
      19: new           #67                 // class org/infinispan/interceptors/TxInterceptor$2
      22: dup
      23: aload_0
      24: aload_0
      25: aload_0
      26: getfield      #1                  // Field cache:Lorg/infinispan/Cache;
      29: aload_2
      30: invokevirtual #65                 // Method getCacheWithFlags:(Lorg/infinispan/Cache;Lorg/infinispan/commands/LocalFlagAffectedCommand;)Lorg/infinispan/Cache;
      33: aload_3
      34: aload_1
      35: invokespecial #68                 // Method org/infinispan/interceptors/TxInterceptor$2."<init>":(Lorg/infinispan/interceptors/TxInterceptor;Lorg/infinispan/Cache;Lorg/infinispan/CacheSet;Lorg/infinispan/context/InvocationContext;)V
      38: areturn
      39: aload_3
      40: areturn

  public java.lang.Object visitInvalidateCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.InvalidateCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #60                 // Method enlistWriteAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/write/WriteCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitGetKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #61                 // Method enlistReadAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public final java.lang.Object visitGetCacheEntryCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetCacheEntryCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #61                 // Method enlistReadAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  public java.lang.Object visitGetAllCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.GetAllCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #61                 // Method enlistReadAndInvokeNext:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
       6: areturn

  private java.lang.Object enlistReadAndInvokeNext(org.infinispan.context.InvocationContext, org.infinispan.commands.VisitableCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #58                 // Method enlistIfNeeded:(Lorg/infinispan/context/InvocationContext;)V
       5: aload_0
       6: aload_1
       7: aload_2
       8: invokevirtual #43                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      11: areturn

  private void enlistIfNeeded(org.infinispan.context.InvocationContext) throws javax.transaction.SystemException;
    Code:
       0: aload_1
       1: invokestatic  #69                 // Method shouldEnlist:(Lorg/infinispan/context/InvocationContext;)Z
       4: ifeq          16
       7: aload_0
       8: aload_1
       9: checkcast     #70                 // class org/infinispan/context/impl/TxInvocationContext
      12: invokevirtual #71                 // Method enlist:(Lorg/infinispan/context/impl/TxInvocationContext;)Lorg/infinispan/transaction/impl/LocalTransaction;
      15: pop
      16: return

  private java.lang.Object enlistWriteAndInvokeNext(org.infinispan.context.InvocationContext, org.infinispan.commands.write.WriteCommand) throws java.lang.Throwable;
    Code:
       0: aconst_null
       1: astore_3
       2: aload_1
       3: invokestatic  #69                 // Method shouldEnlist:(Lorg/infinispan/context/InvocationContext;)Z
       6: ifeq          53
       9: aload_0
      10: aload_1
      11: checkcast     #70                 // class org/infinispan/context/impl/TxInvocationContext
      14: invokevirtual #71                 // Method enlist:(Lorg/infinispan/context/impl/TxInvocationContext;)Lorg/infinispan/transaction/impl/LocalTransaction;
      17: astore_3
      18: aload_0
      19: getfield      #23                 // Field useOnePhaseForAutoCommitTx:Z
      22: ifeq          36
      25: aload_3
      26: invokevirtual #72                 // Method org/infinispan/transaction/impl/LocalTransaction.isImplicitTransaction:()Z
      29: ifeq          36
      32: iconst_1
      33: goto          37
      36: iconst_0
      37: istore        4
      39: iload         4
      41: ifeq          53
      44: aload_2
      45: getstatic     #73                 // Field org/infinispan/context/Flag.SKIP_LOCKING:Lorg/infinispan/context/Flag;
      48: invokeinterface #74,  2           // InterfaceMethod org/infinispan/commands/write/WriteCommand.addFlag:(Lorg/infinispan/context/Flag;)V
      53: aload_0
      54: aload_1
      55: aload_2
      56: invokevirtual #43                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      59: astore        4
      61: goto          122
      64: astore        5
      66: aload         5
      68: athrow
      69: astore        5
      71: aload_1
      72: invokeinterface #77,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      77: ifeq          119
      80: aload_1
      81: invokeinterface #63,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isInTxScope:()Z
      86: ifeq          119
      89: aload_2
      90: getstatic     #78                 // Field org/infinispan/context/Flag.FAIL_SILENTLY:Lorg/infinispan/context/Flag;
      93: invokeinterface #79,  2           // InterfaceMethod org/infinispan/commands/write/WriteCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
      98: ifne          119
     101: aload_1
     102: checkcast     #70                 // class org/infinispan/context/impl/TxInvocationContext
     105: astore        6
     107: aload         6
     109: invokeinterface #80,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getTransaction:()Ljavax/transaction/Transaction;
     114: invokeinterface #81,  1           // InterfaceMethod javax/transaction/Transaction.setRollbackOnly:()V
     119: aload         5
     121: athrow
     122: aload_3
     123: ifnull        140
     126: aload_2
     127: invokeinterface #82,  1           // InterfaceMethod org/infinispan/commands/write/WriteCommand.isSuccessful:()Z
     132: ifeq          140
     135: aload_3
     136: aload_2
     137: invokevirtual #83                 // Method org/infinispan/transaction/impl/LocalTransaction.addModification:(Lorg/infinispan/commands/write/WriteCommand;)V
     140: aload         4
     142: areturn
    Exception table:
       from    to  target type
          53    61    64   Class org/infinispan/statetransfer/OutdatedTopologyException
          53    61    69   Class java/lang/Throwable

  public org.infinispan.transaction.impl.LocalTransaction enlist(org.infinispan.context.impl.TxInvocationContext) throws javax.transaction.SystemException;
    Code:
       0: aload_1
       1: invokeinterface #80,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getTransaction:()Ljavax/transaction/Transaction;
       6: astore_2
       7: aload_2
       8: ifnonnull     21
      11: new           #35                 // class java/lang/IllegalStateException
      14: dup
      15: ldc           #84                 // String This should only be called in an tx scope
      17: invokespecial #37                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: aload_2
      22: invokeinterface #85,  1           // InterfaceMethod javax/transaction/Transaction.getStatus:()I
      27: istore_3
      28: aload_0
      29: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
      32: aload_2
      33: invokevirtual #86                 // Method org/infinispan/transaction/impl/TransactionTable.getLocalTransaction:(Ljavax/transaction/Transaction;)Lorg/infinispan/transaction/impl/LocalTransaction;
      36: astore        4
      38: aload_0
      39: iload_3
      40: invokespecial #87                 // Method isNotValid:(I)Z
      43: ifeq          96
      46: aload         4
      48: invokevirtual #88                 // Method org/infinispan/transaction/impl/LocalTransaction.isEnlisted:()Z
      51: ifne          64
      54: aload_0
      55: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
      58: aload         4
      60: invokevirtual #89                 // Method org/infinispan/transaction/impl/TransactionTable.removeLocalTransaction:(Lorg/infinispan/transaction/impl/LocalTransaction;)Z
      63: pop
      64: new           #35                 // class java/lang/IllegalStateException
      67: dup
      68: new           #90                 // class java/lang/StringBuilder
      71: dup
      72: invokespecial #91                 // Method java/lang/StringBuilder."<init>":()V
      75: ldc           #92                 // String Transaction
      77: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: aload_2
      81: invokevirtual #94                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      84: ldc           #95                 // String  is not in a valid state to be invoking cache operations on.
      86: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: invokevirtual #96                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      92: invokespecial #37                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      95: athrow
      96: aload_0
      97: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
     100: aload_2
     101: aload         4
     103: invokevirtual #97                 // Method org/infinispan/transaction/impl/TransactionTable.enlist:(Ljavax/transaction/Transaction;Lorg/infinispan/transaction/impl/LocalTransaction;)V
     106: aload         4
     108: areturn

  private boolean isNotValid(int);
    Code:
       0: iload_1
       1: ifeq          20
       4: iload_1
       5: bipush        7
       7: if_icmpeq     20
      10: iload_1
      11: bipush        8
      13: if_icmpeq     20
      16: iconst_1
      17: goto          21
      20: iconst_0
      21: ireturn

  private static boolean shouldEnlist(org.infinispan.context.InvocationContext);
    Code:
       0: aload_0
       1: invokeinterface #63,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isInTxScope:()Z
       6: ifeq          22
       9: aload_0
      10: invokeinterface #77,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      15: ifeq          22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ireturn

  public boolean getStatisticsEnabled();
    Code:
       0: aload_0
       1: invokevirtual #99                 // Method isStatisticsEnabled:()Z
       4: ireturn

  public void setStatisticsEnabled(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #17                 // Field statisticsEnabled:Z
       5: return

  public void resetStatistics();
    Code:
       0: aload_0
       1: getfield      #5                  // Field prepares:Ljava/util/concurrent/atomic/AtomicLong;
       4: lconst_0
       5: invokevirtual #100                // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
       8: aload_0
       9: getfield      #6                  // Field commits:Ljava/util/concurrent/atomic/AtomicLong;
      12: lconst_0
      13: invokevirtual #100                // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
      16: aload_0
      17: getfield      #7                  // Field rollbacks:Ljava/util/concurrent/atomic/AtomicLong;
      20: lconst_0
      21: invokevirtual #100                // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
      24: return

  public boolean isStatisticsEnabled();
    Code:
       0: aload_0
       1: getfield      #17                 // Field statisticsEnabled:Z
       4: ireturn

  public long getPrepares();
    Code:
       0: aload_0
       1: getfield      #5                  // Field prepares:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #101                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public long getCommits();
    Code:
       0: aload_0
       1: getfield      #6                  // Field commits:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #101                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public long getRollbacks();
    Code:
       0: aload_0
       1: getfield      #7                  // Field rollbacks:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #101                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  private void verifyRemoteTransaction(org.infinispan.context.impl.RemoteTxInvocationContext, org.infinispan.commands.tx.AbstractTransactionBoundaryCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #102                // Method org/infinispan/commands/tx/AbstractTransactionBoundaryCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
       4: astore_3
       5: aload_3
       6: invokevirtual #103                // Method org/infinispan/transaction/xa/GlobalTransaction.getAddress:()Lorg/infinispan/remoting/transport/Address;
       9: astore        4
      11: aload_0
      12: getfield      #11                 // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      15: invokeinterface #104,  1          // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getTransport:()Lorg/infinispan/remoting/transport/Transport;
      20: invokeinterface #105,  1          // InterfaceMethod org/infinispan/remoting/transport/Transport.getMembers:()Ljava/util/List;
      25: aload         4
      27: invokeinterface #106,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      32: ifne          39
      35: iconst_1
      36: goto          40
      39: iconst_0
      40: istore        5
      42: aload_0
      43: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
      46: aload_3
      47: invokevirtual #47                 // Method org/infinispan/transaction/impl/TransactionTable.isTransactionCompleted:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Z
      50: ifne          64
      53: aload_0
      54: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
      57: aload_3
      58: invokevirtual #107                // Method org/infinispan/transaction/impl/TransactionTable.containRemoteTx:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Z
      61: ifne          68
      64: iconst_1
      65: goto          69
      68: iconst_0
      69: istore        6
      71: iload         6
      73: ifeq          93
      76: aload_1
      77: invokevirtual #108                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      80: checkcast     #30                 // class org/infinispan/transaction/impl/RemoteTransaction
      83: invokevirtual #109                // Method org/infinispan/transaction/impl/RemoteTransaction.isMarkedForRollback:()Z
      86: ifne          93
      89: iconst_1
      90: goto          94
      93: iconst_0
      94: istore        7
      96: aload_2
      97: instanceof    #110                // class org/infinispan/commands/tx/PrepareCommand
     100: ifeq          113
     103: aload_2
     104: checkcast     #110                // class org/infinispan/commands/tx/PrepareCommand
     107: invokevirtual #39                 // Method org/infinispan/commands/tx/PrepareCommand.isOnePhaseCommit:()Z
     110: ifeq          127
     113: aload_2
     114: instanceof    #111                // class org/infinispan/commands/tx/RollbackCommand
     117: ifne          127
     120: aload_2
     121: instanceof    #112                // class org/infinispan/commands/control/LockControlCommand
     124: ifeq          131
     127: iconst_1
     128: goto          132
     131: iconst_0
     132: istore        8
     134: getstatic     #48                 // Field trace:Z
     137: ifeq          160
     140: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
     143: ldc           #113                // String invokeNextInterceptorAndVerifyTransaction :: originatorMissing=%s, alreadyCompleted=%s
     145: iload         5
     147: invokestatic  #114                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     150: iload         6
     152: invokestatic  #114                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     155: invokeinterface #115,  4          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     160: iload         6
     162: ifne          188
     165: iload         5
     167: ifeq          314
     170: iload         8
     172: ifne          188
     175: aload_0
     176: getfield      #14                 // Field partitionHandlingManager:Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;
     179: aload_3
     180: invokeinterface #116,  2          // InterfaceMethod org/infinispan/partitionhandling/impl/PartitionHandlingManager.canRollbackTransactionAfterOriginatorLeave:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Z
     185: ifeq          314
     188: getstatic     #48                 // Field trace:Z
     191: ifeq          215
     194: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
     197: ldc           #117                // String Rolling back remote transaction %s because either already completed (%s) or originator no longer in the cluster (%s).
     199: aload_3
     200: iload         6
     202: invokestatic  #114                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     205: iload         5
     207: invokestatic  #114                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     210: invokeinterface #118,  5          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     215: aload_0
     216: getfield      #13                 // Field commandsFactory:Lorg/infinispan/commands/CommandsFactory;
     219: aload_2
     220: invokevirtual #102                // Method org/infinispan/commands/tx/AbstractTransactionBoundaryCommand.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
     223: invokeinterface #119,  2          // InterfaceMethod org/infinispan/commands/CommandsFactory.buildRollbackCommand:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Lorg/infinispan/commands/tx/RollbackCommand;
     228: astore        9
     230: aload_0
     231: aload_1
     232: aload         9
     234: invokevirtual #43                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
     237: pop
     238: aload_1
     239: invokevirtual #108                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
     242: checkcast     #30                 // class org/infinispan/transaction/impl/RemoteTransaction
     245: astore        10
     247: aload         10
     249: iconst_1
     250: invokevirtual #120                // Method org/infinispan/transaction/impl/RemoteTransaction.markForRollback:(Z)V
     253: aload_0
     254: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
     257: aload_3
     258: invokevirtual #121                // Method org/infinispan/transaction/impl/TransactionTable.removeRemoteTransaction:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Lorg/infinispan/transaction/impl/RemoteTransaction;
     261: pop
     262: goto          294
     265: astore        11
     267: aload_1
     268: invokevirtual #108                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
     271: checkcast     #30                 // class org/infinispan/transaction/impl/RemoteTransaction
     274: astore        12
     276: aload         12
     278: iconst_1
     279: invokevirtual #120                // Method org/infinispan/transaction/impl/RemoteTransaction.markForRollback:(Z)V
     282: aload_0
     283: getfield      #10                 // Field txTable:Lorg/infinispan/transaction/impl/TransactionTable;
     286: aload_3
     287: invokevirtual #121                // Method org/infinispan/transaction/impl/TransactionTable.removeRemoteTransaction:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Lorg/infinispan/transaction/impl/RemoteTransaction;
     290: pop
     291: aload         11
     293: athrow
     294: iload         5
     296: ifeq          314
     299: iload         7
     301: ifne          314
     304: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
     307: aload_3
     308: invokeinterface #122,  2          // InterfaceMethod org/infinispan/util/logging/Log.orphanTransactionRolledBack:(Lorg/infinispan/transaction/xa/GlobalTransaction;)Lorg/infinispan/commons/CacheException;
     313: athrow
     314: return
    Exception table:
       from    to  target type
         230   238   265   any
         265   267   265   any

  private void replayRemoteTransactionIfNeeded(org.infinispan.context.impl.RemoteTxInvocationContext, int) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokevirtual #108                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
       4: checkcast     #30                 // class org/infinispan/transaction/impl/RemoteTransaction
       7: astore_3
       8: getstatic     #48                 // Field trace:Z
      11: ifeq          29
      14: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
      17: ldc           #123                // String Remote tx topology id %d and command topology is %d
      19: aload_3
      20: invokevirtual #124                // Method org/infinispan/transaction/impl/RemoteTransaction.lookedUpEntriesTopology:()I
      23: iload_2
      24: invokeinterface #125,  4          // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;II)V
      29: aload_3
      30: invokevirtual #124                // Method org/infinispan/transaction/impl/RemoteTransaction.lookedUpEntriesTopology:()I
      33: iload_2
      34: if_icmpge     134
      37: aload_0
      38: getfield      #25                 // Field useVersioning:Z
      41: ifeq          67
      44: aload_0
      45: getfield      #13                 // Field commandsFactory:Lorg/infinispan/commands/CommandsFactory;
      48: aload_1
      49: invokevirtual #126                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
      52: aload_1
      53: invokevirtual #127                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getModifications:()Ljava/util/List;
      56: iconst_0
      57: invokeinterface #128,  4          // InterfaceMethod org/infinispan/commands/CommandsFactory.buildVersionedPrepareCommand:(Lorg/infinispan/transaction/xa/GlobalTransaction;Ljava/util/List;Z)Lorg/infinispan/commands/tx/VersionedPrepareCommand;
      62: astore        4
      64: goto          87
      67: aload_0
      68: getfield      #13                 // Field commandsFactory:Lorg/infinispan/commands/CommandsFactory;
      71: aload_1
      72: invokevirtual #126                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getGlobalTransaction:()Lorg/infinispan/transaction/xa/GlobalTransaction;
      75: aload_1
      76: invokevirtual #127                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getModifications:()Ljava/util/List;
      79: iconst_0
      80: invokeinterface #129,  4          // InterfaceMethod org/infinispan/commands/CommandsFactory.buildPrepareCommand:(Lorg/infinispan/transaction/xa/GlobalTransaction;Ljava/util/List;Z)Lorg/infinispan/commands/tx/PrepareCommand;
      85: astore        4
      87: aload_0
      88: getfield      #13                 // Field commandsFactory:Lorg/infinispan/commands/CommandsFactory;
      91: aload         4
      93: iconst_1
      94: invokeinterface #130,  3          // InterfaceMethod org/infinispan/commands/CommandsFactory.initializeReplicableCommand:(Lorg/infinispan/commands/ReplicableCommand;Z)V
      99: aload         4
     101: aload_1
     102: invokevirtual #131                // Method org/infinispan/context/impl/RemoteTxInvocationContext.getOrigin:()Lorg/infinispan/remoting/transport/Address;
     105: invokevirtual #132                // Method org/infinispan/commands/tx/PrepareCommand.setOrigin:(Lorg/infinispan/remoting/transport/Address;)V
     108: getstatic     #48                 // Field trace:Z
     111: ifeq          126
     114: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
     117: ldc           #133                // String Replaying the transactions received as a result of state transfer %s
     119: aload         4
     121: invokeinterface #50,  3           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     126: aload_0
     127: aload_1
     128: aload         4
     130: invokevirtual #134                // Method visitPrepareCommand:(Lorg/infinispan/context/impl/TxInvocationContext;Lorg/infinispan/commands/tx/PrepareCommand;)Ljava/lang/Object;
     133: pop
     134: return

  public java.lang.Object visitEntrySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.EntrySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #135                // Method visitEntrySetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/EntrySetCommand;)Lorg/infinispan/CacheSet;
       6: areturn

  public java.lang.Object visitKeySetCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.read.KeySetCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #136                // Method visitKeySetCommand:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/read/KeySetCommand;)Lorg/infinispan/CacheSet;
       6: areturn

  static org.infinispan.Cache access$000(org.infinispan.interceptors.TxInterceptor);
    Code:
       0: aload_0
       1: getfield      #1                  // Field cache:Lorg/infinispan/Cache;
       4: areturn

  static {};
    Code:
       0: ldc           #137                // class org/infinispan/interceptors/TxInterceptor
       2: invokestatic  #138                // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #8                  // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #139,  1          // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #48                 // Field trace:Z
      19: return
}
