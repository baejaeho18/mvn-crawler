Compiled from "BaseRpcInterceptor.java"
public abstract class org.infinispan.interceptors.base.BaseRpcInterceptor extends org.infinispan.interceptors.base.CommandInterceptor {
  protected boolean trace;

  protected org.infinispan.remoting.rpc.RpcManager rpcManager;

  protected boolean defaultSynchronous;

  public org.infinispan.interceptors.base.BaseRpcInterceptor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/interceptors/base/CommandInterceptor."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #2                  // Method getLog:()Lorg/infinispan/util/logging/Log;
       9: invokeinterface #3,  1            // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      14: putfield      #4                  // Field trace:Z
      17: return

  public void inject(org.infinispan.remoting.rpc.RpcManager, org.infinispan.statetransfer.StateConsumer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
       5: return

  public void init();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #6                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       5: invokevirtual #7                  // Method org/infinispan/configuration/cache/Configuration.clustering:()Lorg/infinispan/configuration/cache/ClusteringConfiguration;
       8: invokevirtual #8                  // Method org/infinispan/configuration/cache/ClusteringConfiguration.cacheMode:()Lorg/infinispan/configuration/cache/CacheMode;
      11: invokevirtual #9                  // Method org/infinispan/configuration/cache/CacheMode.isSynchronous:()Z
      14: putfield      #10                 // Field defaultSynchronous:Z
      17: return

  protected final boolean isSynchronous(org.infinispan.commands.FlagAffectedCommand);
    Code:
       0: aload_1
       1: getstatic     #11                 // Field org/infinispan/context/Flag.FORCE_SYNCHRONOUS:Lorg/infinispan/context/Flag;
       4: invokeinterface #12,  2           // InterfaceMethod org/infinispan/commands/FlagAffectedCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
       9: ifeq          14
      12: iconst_1
      13: ireturn
      14: aload_1
      15: getstatic     #13                 // Field org/infinispan/context/Flag.FORCE_ASYNCHRONOUS:Lorg/infinispan/context/Flag;
      18: invokeinterface #12,  2           // InterfaceMethod org/infinispan/commands/FlagAffectedCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
      23: ifeq          28
      26: iconst_0
      27: ireturn
      28: aload_0
      29: getfield      #10                 // Field defaultSynchronous:Z
      32: ireturn

  protected final boolean isLocalModeForced(org.infinispan.commands.FlagAffectedCommand);
    Code:
       0: aload_1
       1: getstatic     #14                 // Field org/infinispan/context/Flag.CACHE_MODE_LOCAL:Lorg/infinispan/context/Flag;
       4: invokeinterface #12,  2           // InterfaceMethod org/infinispan/commands/FlagAffectedCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
       9: ifeq          32
      12: aload_0
      13: getfield      #4                  // Field trace:Z
      16: ifeq          30
      19: aload_0
      20: invokevirtual #2                  // Method getLog:()Lorg/infinispan/util/logging/Log;
      23: ldc           #15                 // String LOCAL mode forced on invocation.  Suppressing clustered events.
      25: invokeinterface #16,  2           // InterfaceMethod org/infinispan/util/logging/Log.trace:(Ljava/lang/Object;)V
      30: iconst_1
      31: ireturn
      32: iconst_0
      33: ireturn

  protected boolean shouldInvokeRemoteTxCommand(org.infinispan.context.impl.TxInvocationContext);
    Code:
       0: aload_1
       1: invokeinterface #17,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
       6: ifne          11
       9: iconst_0
      10: ireturn
      11: aload_1
      12: checkcast     #18                 // class org/infinispan/context/impl/LocalTxInvocationContext
      15: astore_2
      16: aload_2
      17: invokevirtual #19                 // Method org/infinispan/context/impl/LocalTxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      20: checkcast     #20                 // class org/infinispan/transaction/impl/LocalTransaction
      23: invokevirtual #21                 // Method org/infinispan/transaction/impl/LocalTransaction.getStateTransferFlag:()Lorg/infinispan/context/Flag;
      26: getstatic     #22                 // Field org/infinispan/context/Flag.PUT_FOR_STATE_TRANSFER:Lorg/infinispan/context/Flag;
      29: if_acmpne     34
      32: iconst_0
      33: ireturn
      34: aload_1
      35: invokeinterface #23,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.hasModifications:()Z
      40: ifne          77
      43: aload_2
      44: invokevirtual #24                 // Method org/infinispan/context/impl/LocalTxInvocationContext.getRemoteLocksAcquired:()Ljava/util/Collection;
      47: invokeinterface #25,  1           // InterfaceMethod java/util/Collection.isEmpty:()Z
      52: ifeq          77
      55: aload_2
      56: invokevirtual #19                 // Method org/infinispan/context/impl/LocalTxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      59: checkcast     #20                 // class org/infinispan/transaction/impl/LocalTransaction
      62: invokevirtual #26                 // Method org/infinispan/transaction/impl/LocalTransaction.getTopologyId:()I
      65: aload_0
      66: getfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      69: invokeinterface #27,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getTopologyId:()I
      74: if_icmpeq     81
      77: iconst_1
      78: goto          82
      81: iconst_0
      82: istore_3
      83: aload_0
      84: getfield      #4                  // Field trace:Z
      87: ifeq          134
      90: aload_0
      91: invokevirtual #2                  // Method getLog:()Lorg/infinispan/util/logging/Log;
      94: ldc           #28                 // String Should invoke remotely? %b. hasModifications=%b, hasRemoteLocksAcquired=%b
      96: iload_3
      97: invokestatic  #29                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     100: aload_1
     101: invokeinterface #23,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.hasModifications:()Z
     106: invokestatic  #29                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     109: aload_2
     110: invokevirtual #24                 // Method org/infinispan/context/impl/LocalTxInvocationContext.getRemoteLocksAcquired:()Ljava/util/Collection;
     113: invokeinterface #25,  1           // InterfaceMethod java/util/Collection.isEmpty:()Z
     118: ifne          125
     121: iconst_1
     122: goto          126
     125: iconst_0
     126: invokestatic  #29                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     129: invokeinterface #30,  5           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     134: iload_3
     135: ireturn

  protected static void transactionRemotelyPrepared(org.infinispan.context.impl.TxInvocationContext);
    Code:
       0: aload_0
       1: invokeinterface #17,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
       6: ifeq          21
       9: aload_0
      10: invokeinterface #31,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      15: checkcast     #20                 // class org/infinispan/transaction/impl/LocalTransaction
      18: invokevirtual #32                 // Method org/infinispan/transaction/impl/LocalTransaction.markPrepareSent:()V
      21: return

  protected static void totalOrderTxCommit(org.infinispan.context.impl.TxInvocationContext);
    Code:
       0: aload_0
       1: invokeinterface #17,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
       6: ifeq          21
       9: aload_0
      10: invokeinterface #31,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      15: checkcast     #20                 // class org/infinispan/transaction/impl/LocalTransaction
      18: invokevirtual #33                 // Method org/infinispan/transaction/impl/LocalTransaction.markCommitOrRollbackSent:()V
      21: return

  protected static void totalOrderTxRollback(org.infinispan.context.impl.TxInvocationContext);
    Code:
       0: aload_0
       1: invokeinterface #17,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
       6: ifeq          21
       9: aload_0
      10: invokeinterface #31,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      15: checkcast     #20                 // class org/infinispan/transaction/impl/LocalTransaction
      18: invokevirtual #33                 // Method org/infinispan/transaction/impl/LocalTransaction.markCommitOrRollbackSent:()V
      21: return

  protected static boolean shouldTotalOrderRollbackBeInvokedRemotely(org.infinispan.context.impl.TxInvocationContext);
    Code:
       0: aload_0
       1: invokeinterface #17,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isOriginLocal:()Z
       6: ifeq          43
       9: aload_0
      10: invokeinterface #31,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      15: checkcast     #20                 // class org/infinispan/transaction/impl/LocalTransaction
      18: invokevirtual #34                 // Method org/infinispan/transaction/impl/LocalTransaction.isPrepareSent:()Z
      21: ifeq          43
      24: aload_0
      25: invokeinterface #31,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getCacheTransaction:()Lorg/infinispan/transaction/impl/AbstractCacheTransaction;
      30: checkcast     #20                 // class org/infinispan/transaction/impl/LocalTransaction
      33: invokevirtual #35                 // Method org/infinispan/transaction/impl/LocalTransaction.isCommitOrRollbackSent:()Z
      36: ifne          43
      39: iconst_1
      40: goto          44
      43: iconst_0
      44: ireturn

  protected final java.util.Map<org.infinispan.remoting.transport.Address, org.infinispan.remoting.responses.Response> totalOrderPrepare(java.util.Collection<org.infinispan.remoting.transport.Address>, org.infinispan.commands.tx.PrepareCommand, org.infinispan.remoting.responses.TimeoutValidationResponseFilter);
    Code:
       0: aconst_null
       1: astore        4
       3: aload_1
       4: ifnull        34
       7: new           #36                 // class java/util/HashSet
      10: dup
      11: aload_1
      12: invokespecial #37                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      15: astore        4
      17: aload         4
      19: aload_0
      20: getfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      23: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      28: invokeinterface #39,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      33: pop
      34: aload_0
      35: aload         4
      37: aload_2
      38: aload_3
      39: invokespecial #40                 // Method internalTotalOrderPrepare:(Ljava/util/Collection;Lorg/infinispan/commands/tx/PrepareCommand;Lorg/infinispan/remoting/responses/TimeoutValidationResponseFilter;)Ljava/util/Map;
      42: areturn

  private java.util.Map<org.infinispan.remoting.transport.Address, org.infinispan.remoting.responses.Response> internalTotalOrderPrepare(java.util.Collection<org.infinispan.remoting.transport.Address>, org.infinispan.commands.tx.PrepareCommand, org.infinispan.remoting.responses.TimeoutValidationResponseFilter);
    Code:
       0: aload_0
       1: getfield      #10                 // Field defaultSynchronous:Z
       4: ifeq          66
       7: aload_0
       8: getfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      11: getstatic     #41                 // Field org/infinispan/remoting/rpc/ResponseMode.SYNCHRONOUS_IGNORE_LEAVERS:Lorg/infinispan/remoting/rpc/ResponseMode;
      14: getstatic     #42                 // Field org/infinispan/remoting/inboundhandler/DeliverOrder.TOTAL:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      17: invokeinterface #43,  3           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getRpcOptionsBuilder:(Lorg/infinispan/remoting/rpc/ResponseMode;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;)Lorg/infinispan/remoting/rpc/RpcOptionsBuilder;
      22: astore        4
      24: aload_3
      25: ifnull        35
      28: aload         4
      30: aload_3
      31: invokevirtual #44                 // Method org/infinispan/remoting/rpc/RpcOptionsBuilder.responseFilter:(Lorg/infinispan/remoting/rpc/ResponseFilter;)Lorg/infinispan/remoting/rpc/RpcOptionsBuilder;
      34: pop
      35: aload_0
      36: getfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      39: aload_1
      40: aload_2
      41: aload         4
      43: invokevirtual #45                 // Method org/infinispan/remoting/rpc/RpcOptionsBuilder.build:()Lorg/infinispan/remoting/rpc/RpcOptions;
      46: invokeinterface #46,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/Map;
      51: astore        5
      53: aload_3
      54: ifnull        63
      57: aload_3
      58: invokeinterface #47,  1           // InterfaceMethod org/infinispan/remoting/responses/TimeoutValidationResponseFilter.validate:()V
      63: aload         5
      65: areturn
      66: aload_0
      67: getfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      70: getstatic     #48                 // Field org/infinispan/remoting/rpc/ResponseMode.ASYNCHRONOUS:Lorg/infinispan/remoting/rpc/ResponseMode;
      73: getstatic     #42                 // Field org/infinispan/remoting/inboundhandler/DeliverOrder.TOTAL:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
      76: invokeinterface #43,  3           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getRpcOptionsBuilder:(Lorg/infinispan/remoting/rpc/ResponseMode;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;)Lorg/infinispan/remoting/rpc/RpcOptionsBuilder;
      81: astore        4
      83: aload_0
      84: getfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
      87: aload_1
      88: aload_2
      89: aload         4
      91: invokevirtual #45                 // Method org/infinispan/remoting/rpc/RpcOptionsBuilder.build:()Lorg/infinispan/remoting/rpc/RpcOptions;
      94: invokeinterface #46,  4           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.invokeRemotely:(Ljava/util/Collection;Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/rpc/RpcOptions;)Ljava/util/Map;
      99: areturn

  protected final boolean isSyncCommitPhase();
    Code:
       0: aload_0
       1: getfield      #6                  // Field cacheConfiguration:Lorg/infinispan/configuration/cache/Configuration;
       4: invokevirtual #49                 // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
       7: invokevirtual #50                 // Method org/infinispan/configuration/cache/TransactionConfiguration.syncCommitPhase:()Z
      10: ireturn

  protected final org.infinispan.remoting.responses.TimeoutValidationResponseFilter getSelfDeliverFilter();
    Code:
       0: new           #51                 // class org/infinispan/remoting/responses/SelfDeliverFilter
       3: dup
       4: aload_0
       5: getfield      #5                  // Field rpcManager:Lorg/infinispan/remoting/rpc/RpcManager;
       8: invokeinterface #38,  1           // InterfaceMethod org/infinispan/remoting/rpc/RpcManager.getAddress:()Lorg/infinispan/remoting/transport/Address;
      13: invokespecial #52                 // Method org/infinispan/remoting/responses/SelfDeliverFilter."<init>":(Lorg/infinispan/remoting/transport/Address;)V
      16: areturn
}
