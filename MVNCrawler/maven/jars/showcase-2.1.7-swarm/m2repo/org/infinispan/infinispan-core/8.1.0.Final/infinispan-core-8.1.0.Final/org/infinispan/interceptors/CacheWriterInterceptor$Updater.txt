Compiled from "CacheWriterInterceptor.java"
public class org.infinispan.interceptors.CacheWriterInterceptor$Updater extends org.infinispan.commands.AbstractVisitor {
  protected final boolean generateStatistics;

  int putCount;

  final org.infinispan.interceptors.CacheWriterInterceptor this$0;

  public org.infinispan.interceptors.CacheWriterInterceptor$Updater(org.infinispan.interceptors.CacheWriterInterceptor, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
       5: aload_0
       6: invokespecial #2                  // Method org/infinispan/commands/AbstractVisitor."<init>":()V
       9: aload_0
      10: iload_2
      11: putfield      #3                  // Field generateStatistics:Z
      14: return

  public java.lang.Object visitPutKeyValueCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutKeyValueCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_2
       4: invokevirtual #4                  // Method org/infinispan/commands/write/PutKeyValueCommand.getKey:()Ljava/lang/Object;
       7: invokevirtual #5                  // Method visitSingleStore:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/FlagAffectedCommand;Ljava/lang/Object;)Ljava/lang/Object;
      10: areturn

  public java.lang.Object visitApplyDeltaCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ApplyDeltaCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
       4: aload_1
       5: aload_2
       6: aload_2
       7: invokevirtual #6                  // Method org/infinispan/commands/write/ApplyDeltaCommand.getKey:()Ljava/lang/Object;
      10: invokevirtual #7                  // Method org/infinispan/interceptors/CacheWriterInterceptor.isProperWriter:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/FlagAffectedCommand;Ljava/lang/Object;)Z
      13: ifeq          202
      16: aload_0
      17: getfield      #3                  // Field generateStatistics:Z
      20: ifeq          33
      23: aload_0
      24: dup
      25: getfield      #8                  // Field putCount:I
      28: iconst_1
      29: iadd
      30: putfield      #8                  // Field putCount:I
      33: aload_1
      34: aload_2
      35: invokevirtual #6                  // Method org/infinispan/commands/write/ApplyDeltaCommand.getKey:()Ljava/lang/Object;
      38: invokeinterface #9,  2            // InterfaceMethod org/infinispan/context/InvocationContext.lookupEntry:(Ljava/lang/Object;)Lorg/infinispan/container/entries/CacheEntry;
      43: astore_3
      44: aload_3
      45: instanceof    #10                 // class org/infinispan/container/entries/InternalCacheEntry
      48: ifeq          60
      51: aload_3
      52: checkcast     #10                 // class org/infinispan/container/entries/InternalCacheEntry
      55: astore        4
      57: goto          134
      60: aload_3
      61: instanceof    #11                 // class org/infinispan/container/entries/DeltaAwareCacheEntry
      64: ifeq          119
      67: aload_3
      68: checkcast     #11                 // class org/infinispan/container/entries/DeltaAwareCacheEntry
      71: invokevirtual #12                 // Method org/infinispan/container/entries/DeltaAwareCacheEntry.getUncommittedChages:()Lorg/infinispan/atomic/impl/AtomicHashMap;
      74: astore        5
      76: aload_0
      77: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
      80: invokestatic  #13                 // Method org/infinispan/interceptors/CacheWriterInterceptor.access$000:(Lorg/infinispan/interceptors/CacheWriterInterceptor;)Lorg/infinispan/container/InternalEntryFactory;
      83: aload_3
      84: invokeinterface #14,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
      89: aload         5
      91: aload_3
      92: invokeinterface #15,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getMetadata:()Lorg/infinispan/metadata/Metadata;
      97: aload_3
      98: invokeinterface #16,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getLifespan:()J
     103: aload_3
     104: invokeinterface #17,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getMaxIdle:()J
     109: invokeinterface #18,  8           // InterfaceMethod org/infinispan/container/InternalEntryFactory.create:(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/metadata/Metadata;JJ)Lorg/infinispan/container/entries/InternalCacheEntry;
     114: astore        4
     116: goto          134
     119: aload_0
     120: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
     123: invokestatic  #13                 // Method org/infinispan/interceptors/CacheWriterInterceptor.access$000:(Lorg/infinispan/interceptors/CacheWriterInterceptor;)Lorg/infinispan/container/InternalEntryFactory;
     126: aload_3
     127: invokeinterface #19,  2           // InterfaceMethod org/infinispan/container/InternalEntryFactory.create:(Lorg/infinispan/container/entries/CacheEntry;)Lorg/infinispan/container/entries/InternalCacheEntry;
     132: astore        4
     134: new           #20                 // class org/infinispan/marshall/core/MarshalledEntryImpl
     137: dup
     138: aload         4
     140: invokeinterface #21,  1           // InterfaceMethod org/infinispan/container/entries/InternalCacheEntry.getKey:()Ljava/lang/Object;
     145: aload         4
     147: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/InternalCacheEntry.getValue:()Ljava/lang/Object;
     152: aload         4
     154: invokestatic  #23                 // Method org/infinispan/persistence/PersistenceUtil.internalMetadata:(Lorg/infinispan/container/entries/InternalCacheEntry;)Lorg/infinispan/metadata/InternalMetadata;
     157: aload_0
     158: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
     161: invokestatic  #24                 // Method org/infinispan/interceptors/CacheWriterInterceptor.access$100:(Lorg/infinispan/interceptors/CacheWriterInterceptor;)Lorg/infinispan/commons/marshall/StreamingMarshaller;
     164: invokespecial #25                 // Method org/infinispan/marshall/core/MarshalledEntryImpl."<init>":(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/metadata/InternalMetadata;Lorg/infinispan/commons/marshall/StreamingMarshaller;)V
     167: astore        5
     169: aload_0
     170: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
     173: getfield      #26                 // Field org/infinispan/interceptors/CacheWriterInterceptor.persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
     176: aload         5
     178: aload_2
     179: getstatic     #27                 // Field org/infinispan/context/Flag.SKIP_SHARED_CACHE_STORE:Lorg/infinispan/context/Flag;
     182: invokevirtual #28                 // Method org/infinispan/commands/write/ApplyDeltaCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
     185: ifeq          194
     188: getstatic     #29                 // Field org/infinispan/persistence/manager/PersistenceManager$AccessMode.PRIVATE:Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;
     191: goto          197
     194: getstatic     #30                 // Field org/infinispan/persistence/manager/PersistenceManager$AccessMode.BOTH:Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;
     197: invokeinterface #31,  3           // InterfaceMethod org/infinispan/persistence/manager/PersistenceManager.writeToAllStores:(Lorg/infinispan/marshall/core/MarshalledEntry;Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;)V
     202: aconst_null
     203: areturn

  public java.lang.Object visitReplaceCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ReplaceCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_2
       4: invokevirtual #32                 // Method org/infinispan/commands/write/ReplaceCommand.getKey:()Ljava/lang/Object;
       7: invokevirtual #5                  // Method visitSingleStore:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/FlagAffectedCommand;Ljava/lang/Object;)Ljava/lang/Object;
      10: areturn

  public java.lang.Object visitPutMapCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.PutMapCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #33                 // Method org/infinispan/commands/write/PutMapCommand.getMap:()Ljava/util/Map;
       4: astore_3
       5: aload_3
       6: invokeinterface #34,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      11: invokeinterface #35,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      16: astore        4
      18: aload         4
      20: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      25: ifeq          49
      28: aload         4
      30: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: astore        5
      37: aload_0
      38: aload_1
      39: aload_2
      40: aload         5
      42: invokevirtual #5                  // Method visitSingleStore:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/FlagAffectedCommand;Ljava/lang/Object;)Ljava/lang/Object;
      45: pop
      46: goto          18
      49: aconst_null
      50: areturn

  public java.lang.Object visitRemoveCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.RemoveCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #38                 // Method org/infinispan/commands/write/RemoveCommand.getKey:()Ljava/lang/Object;
       4: astore_3
       5: aload_0
       6: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
       9: aload_1
      10: aload_2
      11: aload_3
      12: invokevirtual #7                  // Method org/infinispan/interceptors/CacheWriterInterceptor.isProperWriter:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/FlagAffectedCommand;Ljava/lang/Object;)Z
      15: ifeq          35
      18: aload_0
      19: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
      22: getfield      #26                 // Field org/infinispan/interceptors/CacheWriterInterceptor.persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
      25: aload_3
      26: getstatic     #30                 // Field org/infinispan/persistence/manager/PersistenceManager$AccessMode.BOTH:Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;
      29: invokeinterface #39,  3           // InterfaceMethod org/infinispan/persistence/manager/PersistenceManager.deleteFromAllStores:(Ljava/lang/Object;Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;)Z
      34: pop
      35: aconst_null
      36: areturn

  public java.lang.Object visitClearCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.write.ClearCommand) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
       4: getfield      #26                 // Field org/infinispan/interceptors/CacheWriterInterceptor.persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
       7: aload_1
       8: invokeinterface #40,  1           // InterfaceMethod org/infinispan/context/InvocationContext.isOriginLocal:()Z
      13: ifeq          22
      16: getstatic     #29                 // Field org/infinispan/persistence/manager/PersistenceManager$AccessMode.PRIVATE:Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;
      19: goto          25
      22: getstatic     #30                 // Field org/infinispan/persistence/manager/PersistenceManager$AccessMode.BOTH:Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;
      25: invokeinterface #41,  2           // InterfaceMethod org/infinispan/persistence/manager/PersistenceManager.clearAllStores:(Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;)V
      30: aconst_null
      31: areturn

  protected java.lang.Object visitSingleStore(org.infinispan.context.InvocationContext, org.infinispan.commands.FlagAffectedCommand, java.lang.Object) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
       4: aload_1
       5: aload_2
       6: aload_3
       7: invokevirtual #7                  // Method org/infinispan/interceptors/CacheWriterInterceptor.isProperWriter:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/FlagAffectedCommand;Ljava/lang/Object;)Z
      10: ifeq          105
      13: aload_0
      14: getfield      #3                  // Field generateStatistics:Z
      17: ifeq          30
      20: aload_0
      21: dup
      22: getfield      #8                  // Field putCount:I
      25: iconst_1
      26: iadd
      27: putfield      #8                  // Field putCount:I
      30: aload_0
      31: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
      34: aload_3
      35: aload_1
      36: invokevirtual #42                 // Method org/infinispan/interceptors/CacheWriterInterceptor.getStoredValue:(Ljava/lang/Object;Lorg/infinispan/context/InvocationContext;)Lorg/infinispan/container/entries/InternalCacheValue;
      39: astore        4
      41: new           #20                 // class org/infinispan/marshall/core/MarshalledEntryImpl
      44: dup
      45: aload_3
      46: aload         4
      48: invokeinterface #43,  1           // InterfaceMethod org/infinispan/container/entries/InternalCacheValue.getValue:()Ljava/lang/Object;
      53: aload         4
      55: invokestatic  #44                 // Method org/infinispan/persistence/PersistenceUtil.internalMetadata:(Lorg/infinispan/container/entries/InternalCacheValue;)Lorg/infinispan/metadata/InternalMetadata;
      58: aload_0
      59: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
      62: invokestatic  #24                 // Method org/infinispan/interceptors/CacheWriterInterceptor.access$100:(Lorg/infinispan/interceptors/CacheWriterInterceptor;)Lorg/infinispan/commons/marshall/StreamingMarshaller;
      65: invokespecial #25                 // Method org/infinispan/marshall/core/MarshalledEntryImpl."<init>":(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/metadata/InternalMetadata;Lorg/infinispan/commons/marshall/StreamingMarshaller;)V
      68: astore        5
      70: aload_0
      71: getfield      #1                  // Field this$0:Lorg/infinispan/interceptors/CacheWriterInterceptor;
      74: getfield      #26                 // Field org/infinispan/interceptors/CacheWriterInterceptor.persistenceManager:Lorg/infinispan/persistence/manager/PersistenceManager;
      77: aload         5
      79: aload_2
      80: getstatic     #27                 // Field org/infinispan/context/Flag.SKIP_SHARED_CACHE_STORE:Lorg/infinispan/context/Flag;
      83: invokeinterface #45,  2           // InterfaceMethod org/infinispan/commands/FlagAffectedCommand.hasFlag:(Lorg/infinispan/context/Flag;)Z
      88: ifeq          97
      91: getstatic     #29                 // Field org/infinispan/persistence/manager/PersistenceManager$AccessMode.PRIVATE:Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;
      94: goto          100
      97: getstatic     #30                 // Field org/infinispan/persistence/manager/PersistenceManager$AccessMode.BOTH:Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;
     100: invokeinterface #31,  3           // InterfaceMethod org/infinispan/persistence/manager/PersistenceManager.writeToAllStores:(Lorg/infinispan/marshall/core/MarshalledEntry;Lorg/infinispan/persistence/manager/PersistenceManager$AccessMode;)V
     105: aconst_null
     106: areturn
}
