Compiled from "TopologyInfo.java"
public class org.infinispan.distribution.topologyaware.TopologyInfo {
  private final java.util.Map<java.lang.String, org.infinispan.distribution.topologyaware.TopologyInfo$Site> allSites;

  private java.util.List<org.infinispan.distribution.topologyaware.TopologyInfo$Rack> allRacks;

  private java.util.List<org.infinispan.distribution.topologyaware.TopologyInfo$Machine> allMachines;

  private java.util.List<org.infinispan.remoting.transport.Address> sortedNodes;

  private java.util.Map<org.infinispan.remoting.transport.Address, java.lang.Float> capacityFactors;

  private java.util.Map<org.infinispan.remoting.transport.Address, java.lang.Float> maxSegments;

  public org.infinispan.distribution.topologyaware.TopologyInfo(java.util.Collection<org.infinispan.remoting.transport.Address>, java.util.Map<org.infinispan.remoting.transport.Address, java.lang.Float>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/HashMap
       8: dup
       9: invokespecial #3                  // Method java/util/HashMap."<init>":()V
      12: putfield      #4                  // Field allSites:Ljava/util/Map;
      15: aload_0
      16: new           #5                  // class java/util/ArrayList
      19: dup
      20: invokespecial #6                  // Method java/util/ArrayList."<init>":()V
      23: putfield      #7                  // Field allRacks:Ljava/util/List;
      26: aload_0
      27: new           #5                  // class java/util/ArrayList
      30: dup
      31: invokespecial #6                  // Method java/util/ArrayList."<init>":()V
      34: putfield      #8                  // Field allMachines:Ljava/util/List;
      37: aload_0
      38: aload_2
      39: putfield      #9                  // Field capacityFactors:Ljava/util/Map;
      42: aload_0
      43: aload_0
      44: aload_1
      45: aload_2
      46: invokespecial #10                 // Method sortMembers:(Ljava/util/Collection;Ljava/util/Map;)Ljava/util/List;
      49: putfield      #11                 // Field sortedNodes:Ljava/util/List;
      52: aload_0
      53: getfield      #11                 // Field sortedNodes:Ljava/util/List;
      56: invokeinterface #12,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      61: astore_3
      62: aload_3
      63: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      68: ifeq          115
      71: aload_3
      72: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      77: checkcast     #15                 // class org/infinispan/remoting/transport/Address
      80: astore        4
      82: aload_2
      83: ifnull        106
      86: aload_2
      87: aload         4
      89: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      94: checkcast     #17                 // class java/lang/Float
      97: invokevirtual #18                 // Method java/lang/Float.floatValue:()F
     100: f2d
     101: dconst_0
     102: dcmpl
     103: ifeq          112
     106: aload_0
     107: aload         4
     109: invokespecial #19                 // Method addTopology:(Lorg/infinispan/remoting/transport/Address;)V
     112: goto          62
     115: return

  private java.util.List<org.infinispan.remoting.transport.Address> sortMembers(java.util.Collection<org.infinispan.remoting.transport.Address>, java.util.Map<org.infinispan.remoting.transport.Address, java.lang.Float>);
    Code:
       0: new           #5                  // class java/util/ArrayList
       3: dup
       4: aload_1
       5: invokespecial #20                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
       8: astore_3
       9: aload_3
      10: new           #21                 // class org/infinispan/distribution/topologyaware/TopologyInfo$1
      13: dup
      14: aload_0
      15: aload_2
      16: invokespecial #22                 // Method org/infinispan/distribution/topologyaware/TopologyInfo$1."<init>":(Lorg/infinispan/distribution/topologyaware/TopologyInfo;Ljava/util/Map;)V
      19: invokestatic  #23                 // Method java/util/Collections.sort:(Ljava/util/List;Ljava/util/Comparator;)V
      22: aload_3
      23: areturn

  private void addTopology(org.infinispan.remoting.transport.Address);
    Code:
       0: aload_1
       1: checkcast     #24                 // class org/infinispan/remoting/transport/TopologyAwareAddress
       4: astore_2
       5: aload_2
       6: invokeinterface #25,  1           // InterfaceMethod org/infinispan/remoting/transport/TopologyAwareAddress.getSiteId:()Ljava/lang/String;
      11: astore_3
      12: aload_2
      13: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/transport/TopologyAwareAddress.getRackId:()Ljava/lang/String;
      18: astore        4
      20: aload_2
      21: invokeinterface #27,  1           // InterfaceMethod org/infinispan/remoting/transport/TopologyAwareAddress.getMachineId:()Ljava/lang/String;
      26: astore        5
      28: aload_0
      29: getfield      #4                  // Field allSites:Ljava/util/Map;
      32: aload_3
      33: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      38: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      41: astore        6
      43: aload         6
      45: ifnonnull     72
      48: new           #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      51: dup
      52: aload_3
      53: aconst_null
      54: invokespecial #29                 // Method org/infinispan/distribution/topologyaware/TopologyInfo$Site."<init>":(Ljava/lang/String;Lorg/infinispan/distribution/topologyaware/TopologyInfo$1;)V
      57: astore        6
      59: aload_0
      60: getfield      #4                  // Field allSites:Ljava/util/Map;
      63: aload_3
      64: aload         6
      66: invokeinterface #30,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      71: pop
      72: aload         6
      74: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      77: aload         4
      79: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      84: checkcast     #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
      87: astore        7
      89: aload         7
      91: ifnonnull     134
      94: new           #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
      97: dup
      98: aload_3
      99: aload         4
     101: aconst_null
     102: invokespecial #33                 // Method org/infinispan/distribution/topologyaware/TopologyInfo$Rack."<init>":(Ljava/lang/String;Ljava/lang/String;Lorg/infinispan/distribution/topologyaware/TopologyInfo$1;)V
     105: astore        7
     107: aload         6
     109: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
     112: aload         4
     114: aload         7
     116: invokeinterface #30,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     121: pop
     122: aload_0
     123: getfield      #7                  // Field allRacks:Ljava/util/List;
     126: aload         7
     128: invokeinterface #34,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     133: pop
     134: aload         7
     136: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
     139: aload         5
     141: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     146: checkcast     #36                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Machine
     149: astore        8
     151: aload         8
     153: ifnonnull     198
     156: new           #36                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Machine
     159: dup
     160: aload_3
     161: aload         4
     163: aload         5
     165: aconst_null
     166: invokespecial #37                 // Method org/infinispan/distribution/topologyaware/TopologyInfo$Machine."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lorg/infinispan/distribution/topologyaware/TopologyInfo$1;)V
     169: astore        8
     171: aload         7
     173: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
     176: aload         5
     178: aload         8
     180: invokeinterface #30,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     185: pop
     186: aload_0
     187: getfield      #8                  // Field allMachines:Ljava/util/List;
     190: aload         8
     192: invokeinterface #34,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     197: pop
     198: aload         8
     200: getfield      #38                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Machine.nodes:Ljava/util/List;
     203: aload_1
     204: invokeinterface #34,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     209: pop
     210: aload         7
     212: getfield      #39                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.nodes:Ljava/util/List;
     215: aload_1
     216: invokeinterface #34,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     221: pop
     222: aload         6
     224: getfield      #40                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.nodes:Ljava/util/List;
     227: aload_1
     228: invokeinterface #34,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     233: pop
     234: return

  public java.util.Collection<org.infinispan.remoting.transport.Address> getSiteNodes(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field allSites:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      13: getfield      #40                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.nodes:Ljava/util/List;
      16: areturn

  public java.util.Collection<org.infinispan.remoting.transport.Address> getRackNodes(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field allSites:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      13: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      16: aload_2
      17: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
      25: getfield      #39                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.nodes:Ljava/util/List;
      28: areturn

  public java.util.Collection<org.infinispan.remoting.transport.Address> getMachineNodes(java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field allSites:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      13: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      16: aload_2
      17: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
      25: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
      28: aload_3
      29: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      34: checkcast     #36                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Machine
      37: getfield      #38                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Machine.nodes:Ljava/util/List;
      40: areturn

  public java.util.Set<java.lang.String> getAllSites();
    Code:
       0: aload_0
       1: getfield      #4                  // Field allSites:Ljava/util/Map;
       4: invokeinterface #41,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
       9: areturn

  public java.util.Set<java.lang.String> getSiteRacks(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field allSites:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      13: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      16: invokeinterface #41,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      21: areturn

  public java.util.Set<java.lang.String> getRackMachines(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field allSites:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      13: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      16: aload_2
      17: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
      25: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
      28: invokeinterface #41,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      33: areturn

  public int getAllSitesCount();
    Code:
       0: aload_0
       1: getfield      #4                  // Field allSites:Ljava/util/Map;
       4: invokeinterface #42,  1           // InterfaceMethod java/util/Map.size:()I
       9: ireturn

  public int getAllRacksCount();
    Code:
       0: aload_0
       1: getfield      #7                  // Field allRacks:Ljava/util/List;
       4: invokeinterface #43,  1           // InterfaceMethod java/util/List.size:()I
       9: ireturn

  public int getAllMachinesCount();
    Code:
       0: aload_0
       1: getfield      #8                  // Field allMachines:Ljava/util/List;
       4: invokeinterface #43,  1           // InterfaceMethod java/util/List.size:()I
       9: ireturn

  public int getAllNodesCount();
    Code:
       0: aload_0
       1: getfield      #11                 // Field sortedNodes:Ljava/util/List;
       4: invokeinterface #43,  1           // InterfaceMethod java/util/List.size:()I
       9: ireturn

  public int getDistinctLocationsCount(org.infinispan.distribution.topologyaware.TopologyLevel, int);
    Code:
       0: getstatic     #44                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$2.$SwitchMap$org$infinispan$distribution$topologyaware$TopologyLevel:[I
       3: aload_1
       4: invokevirtual #45                 // Method org/infinispan/distribution/topologyaware/TopologyLevel.ordinal:()I
       7: iaload
       8: tableswitch   { // 1 to 4
                     1: 40
                     2: 49
                     3: 58
                     4: 67
               default: 76
          }
      40: iload_2
      41: aload_0
      42: invokevirtual #46                 // Method getAllNodesCount:()I
      45: invokestatic  #47                 // Method java/lang/Math.min:(II)I
      48: ireturn
      49: iload_2
      50: aload_0
      51: invokevirtual #48                 // Method getAllMachinesCount:()I
      54: invokestatic  #47                 // Method java/lang/Math.min:(II)I
      57: ireturn
      58: iload_2
      59: aload_0
      60: invokevirtual #49                 // Method getAllRacksCount:()I
      63: invokestatic  #47                 // Method java/lang/Math.min:(II)I
      66: ireturn
      67: iload_2
      68: aload_0
      69: invokevirtual #50                 // Method getAllSitesCount:()I
      72: invokestatic  #47                 // Method java/lang/Math.min:(II)I
      75: ireturn
      76: new           #51                 // class java/lang/IllegalArgumentException
      79: dup
      80: new           #52                 // class java/lang/StringBuilder
      83: dup
      84: invokespecial #53                 // Method java/lang/StringBuilder."<init>":()V
      87: ldc           #54                 // String Unexpected topology level:
      89: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: aload_1
      93: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      96: invokevirtual #57                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      99: invokespecial #58                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     102: athrow

  public java.lang.String toString();
    Code:
       0: new           #52                 // class java/lang/StringBuilder
       3: dup
       4: ldc           #59                 // String TopologyInfo{\n
       6: invokespecial #60                 // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
       9: astore_1
      10: aload_0
      11: getfield      #4                  // Field allSites:Ljava/util/Map;
      14: invokeinterface #61,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      19: invokeinterface #62,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      24: astore_2
      25: aload_2
      26: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      31: ifeq          348
      34: aload_2
      35: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      40: checkcast     #63                 // class java/util/Map$Entry
      43: astore_3
      44: aload_3
      45: invokeinterface #64,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      50: checkcast     #65                 // class java/lang/String
      53: astore        4
      55: aload_1
      56: ldc           #66                 // String %s: {
      58: iconst_1
      59: anewarray     #67                 // class java/lang/Object
      62: dup
      63: iconst_0
      64: aload         4
      66: aastore
      67: invokestatic  #68                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      70: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: pop
      74: aload_3
      75: invokeinterface #69,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      80: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      83: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      86: invokeinterface #61,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      91: invokeinterface #62,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      96: astore        5
      98: aload         5
     100: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     105: ifeq          328
     108: aload         5
     110: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     115: checkcast     #63                 // class java/util/Map$Entry
     118: astore        6
     120: aload         6
     122: invokeinterface #64,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     127: checkcast     #65                 // class java/lang/String
     130: astore        7
     132: aload_1
     133: ldc           #66                 // String %s: {
     135: iconst_1
     136: anewarray     #67                 // class java/lang/Object
     139: dup
     140: iconst_0
     141: aload         7
     143: aastore
     144: invokestatic  #68                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     147: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     150: pop
     151: aload         6
     153: invokeinterface #69,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     158: checkcast     #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
     161: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
     164: invokeinterface #61,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     169: invokeinterface #62,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     174: astore        8
     176: aload         8
     178: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     183: ifeq          308
     186: aload         8
     188: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     193: checkcast     #63                 // class java/util/Map$Entry
     196: astore        9
     198: aload         9
     200: invokeinterface #64,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     205: checkcast     #65                 // class java/lang/String
     208: astore        10
     210: aload_1
     211: ldc           #66                 // String %s: {
     213: iconst_1
     214: anewarray     #67                 // class java/lang/Object
     217: dup
     218: iconst_0
     219: aload         10
     221: aastore
     222: invokestatic  #68                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     225: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     228: pop
     229: aload         9
     231: invokeinterface #69,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     236: checkcast     #36                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Machine
     239: getfield      #38                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Machine.nodes:Ljava/util/List;
     242: invokeinterface #12,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     247: astore        11
     249: aload         11
     251: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     256: ifeq          288
     259: aload         11
     261: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     266: checkcast     #15                 // class org/infinispan/remoting/transport/Address
     269: astore        12
     271: aload_1
     272: aload         12
     274: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     277: pop
     278: aload_1
     279: ldc           #70                 // String ,
     281: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     284: pop
     285: goto          249
     288: aload_1
     289: aload_1
     290: invokevirtual #71                 // Method java/lang/StringBuilder.length:()I
     293: iconst_2
     294: isub
     295: invokevirtual #72                 // Method java/lang/StringBuilder.setLength:(I)V
     298: aload_1
     299: ldc           #73                 // String },
     301: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     304: pop
     305: goto          176
     308: aload_1
     309: aload_1
     310: invokevirtual #71                 // Method java/lang/StringBuilder.length:()I
     313: iconst_3
     314: isub
     315: invokevirtual #72                 // Method java/lang/StringBuilder.setLength:(I)V
     318: aload_1
     319: ldc           #73                 // String },
     321: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     324: pop
     325: goto          98
     328: aload_1
     329: aload_1
     330: invokevirtual #71                 // Method java/lang/StringBuilder.length:()I
     333: iconst_3
     334: isub
     335: invokevirtual #72                 // Method java/lang/StringBuilder.setLength:(I)V
     338: aload_1
     339: ldc           #73                 // String },
     341: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     344: pop
     345: goto          25
     348: aload_1
     349: aload_1
     350: invokevirtual #71                 // Method java/lang/StringBuilder.length:()I
     353: iconst_3
     354: isub
     355: invokevirtual #72                 // Method java/lang/StringBuilder.setLength:(I)V
     358: aload_1
     359: bipush        125
     361: invokevirtual #74                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     364: pop
     365: aload_1
     366: invokevirtual #57                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     369: areturn

  private double computeMaxSegmentsForNode(int, double, java.util.Collection<org.infinispan.remoting.transport.Address>, org.infinispan.remoting.transport.Address);
    Code:
       0: aload_0
       1: getfield      #9                  // Field capacityFactors:Ljava/util/Map;
       4: ifnonnull     37
       7: aload         4
       9: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
      14: i2d
      15: dload_2
      16: dcmpg
      17: ifge          23
      20: iload_1
      21: i2d
      22: dreturn
      23: dload_2
      24: iload_1
      25: i2d
      26: dmul
      27: aload         4
      29: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
      34: i2d
      35: ddiv
      36: dreturn
      37: aload_0
      38: getfield      #9                  // Field capacityFactors:Ljava/util/Map;
      41: aload         5
      43: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      48: checkcast     #17                 // class java/lang/Float
      51: astore        6
      53: aload         6
      55: invokevirtual #18                 // Method java/lang/Float.floatValue:()F
      58: fconst_0
      59: fcmpl
      60: ifne          65
      63: dconst_0
      64: dreturn
      65: aload_0
      66: aload         4
      68: aload_0
      69: getfield      #9                  // Field capacityFactors:Ljava/util/Map;
      72: invokevirtual #76                 // Method computeTotalCapacity:(Ljava/util/Collection;Ljava/util/Map;)F
      75: f2d
      76: dstore        7
      78: dload_2
      79: iload_1
      80: i2d
      81: dmul
      82: dstore        9
      84: aload         4
      86: invokeinterface #77,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      91: astore        11
      93: aload         11
      95: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     100: ifeq          215
     103: aload         11
     105: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     110: checkcast     #15                 // class org/infinispan/remoting/transport/Address
     113: astore        12
     115: aload_0
     116: getfield      #9                  // Field capacityFactors:Ljava/util/Map;
     119: aload         12
     121: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     126: checkcast     #17                 // class java/lang/Float
     129: invokevirtual #18                 // Method java/lang/Float.floatValue:()F
     132: fstore        13
     134: fload         13
     136: f2d
     137: dload         7
     139: ddiv
     140: dload         9
     142: dmul
     143: dstore        14
     145: dload         14
     147: iload_1
     148: i2d
     149: dcmpl
     150: ifle          185
     153: iload_1
     154: i2d
     155: dstore        14
     157: dload         7
     159: fload         13
     161: f2d
     162: dsub
     163: dstore        7
     165: dload         9
     167: dload         14
     169: dsub
     170: dstore        9
     172: aload         5
     174: aload         12
     176: invokevirtual #78                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     179: ifeq          212
     182: dload         14
     184: dreturn
     185: aload         5
     187: aload         12
     189: invokevirtual #78                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     192: ifne          209
     195: aload         6
     197: invokevirtual #18                 // Method java/lang/Float.floatValue:()F
     200: f2d
     201: dload         7
     203: ddiv
     204: dload         9
     206: dmul
     207: dstore        14
     209: dload         14
     211: dreturn
     212: goto          93
     215: new           #79                 // class java/lang/IllegalStateException
     218: dup
     219: new           #52                 // class java/lang/StringBuilder
     222: dup
     223: invokespecial #53                 // Method java/lang/StringBuilder."<init>":()V
     226: ldc           #80                 // String The nodes collection does not include
     228: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     231: aload         5
     233: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     236: invokevirtual #57                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     239: invokespecial #81                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     242: athrow

  public float computeTotalCapacity(java.util.Collection<org.infinispan.remoting.transport.Address>, java.util.Map<org.infinispan.remoting.transport.Address, java.lang.Float>);
    Code:
       0: aload_2
       1: ifnonnull     12
       4: aload_1
       5: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
      10: i2f
      11: freturn
      12: fconst_0
      13: fstore_3
      14: aload_1
      15: invokeinterface #77,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      20: astore        4
      22: aload         4
      24: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          64
      32: aload         4
      34: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      39: checkcast     #15                 // class org/infinispan/remoting/transport/Address
      42: astore        5
      44: fload_3
      45: aload_2
      46: aload         5
      48: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      53: checkcast     #17                 // class java/lang/Float
      56: invokevirtual #18                 // Method java/lang/Float.floatValue:()F
      59: fadd
      60: fstore_3
      61: goto          22
      64: fload_3
      65: freturn

  private double computeMaxSegmentsForMachine(int, double, java.util.Collection<org.infinispan.distribution.topologyaware.TopologyInfo$Machine>, org.infinispan.distribution.topologyaware.TopologyInfo$Machine, org.infinispan.remoting.transport.Address);
    Code:
       0: dload_2
       1: aload         4
       3: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
       8: i2d
       9: ddiv
      10: dstore        7
      12: aload         5
      14: getfield      #38                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Machine.nodes:Ljava/util/List;
      17: invokeinterface #43,  1           // InterfaceMethod java/util/List.size:()I
      22: i2d
      23: dload         7
      25: dcmpg
      26: ifgt          35
      29: dconst_1
      30: dstore        7
      32: goto          111
      35: iconst_0
      36: istore        9
      38: aload         4
      40: invokeinterface #77,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      45: astore        10
      47: aload         10
      49: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          92
      57: aload         10
      59: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      64: checkcast     #36                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Machine
      67: astore        11
      69: aload         11
      71: getfield      #38                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Machine.nodes:Ljava/util/List;
      74: invokeinterface #43,  1           // InterfaceMethod java/util/List.size:()I
      79: i2d
      80: dload         7
      82: dcmpg
      83: ifgt          89
      86: iinc          9, 1
      89: goto          47
      92: dload_2
      93: iload         9
      95: i2d
      96: dsub
      97: aload         4
      99: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
     104: iload         9
     106: isub
     107: i2d
     108: ddiv
     109: dstore        7
     111: aload_0
     112: iload_1
     113: dload         7
     115: aload         5
     117: getfield      #38                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Machine.nodes:Ljava/util/List;
     120: aload         6
     122: invokespecial #82                 // Method computeMaxSegmentsForNode:(IDLjava/util/Collection;Lorg/infinispan/remoting/transport/Address;)D
     125: dreturn

  private double computeMaxSegmentsForRack(int, double, java.util.Collection<org.infinispan.distribution.topologyaware.TopologyInfo$Rack>, org.infinispan.distribution.topologyaware.TopologyInfo$Rack, org.infinispan.distribution.topologyaware.TopologyInfo$Machine, org.infinispan.remoting.transport.Address);
    Code:
       0: dload_2
       1: aload         4
       3: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
       8: i2d
       9: ddiv
      10: dstore        8
      12: aload         5
      14: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
      17: invokeinterface #42,  1           // InterfaceMethod java/util/Map.size:()I
      22: i2d
      23: dload         8
      25: dcmpg
      26: ifgt          35
      29: dconst_1
      30: dstore        8
      32: goto          111
      35: iconst_0
      36: istore        10
      38: aload         4
      40: invokeinterface #77,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      45: astore        11
      47: aload         11
      49: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          92
      57: aload         11
      59: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      64: checkcast     #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
      67: astore        12
      69: aload         12
      71: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
      74: invokeinterface #42,  1           // InterfaceMethod java/util/Map.size:()I
      79: i2d
      80: dload         8
      82: dcmpg
      83: ifgt          89
      86: iinc          10, 1
      89: goto          47
      92: dload_2
      93: iload         10
      95: i2d
      96: dsub
      97: aload         4
      99: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
     104: iload         10
     106: isub
     107: i2d
     108: ddiv
     109: dstore        8
     111: dload         8
     113: dconst_1
     114: dcmpg
     115: ifgt          133
     118: aload_0
     119: iload_1
     120: dload         8
     122: aload         5
     124: getfield      #39                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.nodes:Ljava/util/List;
     127: aload         7
     129: invokespecial #82                 // Method computeMaxSegmentsForNode:(IDLjava/util/Collection;Lorg/infinispan/remoting/transport/Address;)D
     132: dreturn
     133: aload_0
     134: iload_1
     135: dload         8
     137: aload         5
     139: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
     142: invokeinterface #83,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     147: aload         6
     149: aload         7
     151: invokespecial #84                 // Method computeMaxSegmentsForMachine:(IDLjava/util/Collection;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Machine;Lorg/infinispan/remoting/transport/Address;)D
     154: dreturn

  private double computeMaxSegmentsForSite(int, double, java.util.Collection<org.infinispan.distribution.topologyaware.TopologyInfo$Site>, org.infinispan.distribution.topologyaware.TopologyInfo$Site, org.infinispan.distribution.topologyaware.TopologyInfo$Rack, org.infinispan.distribution.topologyaware.TopologyInfo$Machine, org.infinispan.remoting.transport.Address);
    Code:
       0: dload_2
       1: aload         4
       3: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
       8: i2d
       9: ddiv
      10: dstore        9
      12: aload         5
      14: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      17: invokeinterface #42,  1           // InterfaceMethod java/util/Map.size:()I
      22: i2d
      23: dload         9
      25: dcmpg
      26: ifgt          35
      29: dconst_1
      30: dstore        9
      32: goto          111
      35: iconst_0
      36: istore        11
      38: aload         4
      40: invokeinterface #77,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      45: astore        12
      47: aload         12
      49: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          92
      57: aload         12
      59: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      64: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      67: astore        13
      69: aload         13
      71: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      74: invokeinterface #42,  1           // InterfaceMethod java/util/Map.size:()I
      79: i2d
      80: dload         9
      82: dcmpg
      83: ifgt          89
      86: iinc          11, 1
      89: goto          47
      92: dload_2
      93: iload         11
      95: i2d
      96: dsub
      97: aload         4
      99: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.size:()I
     104: iload         11
     106: isub
     107: i2d
     108: ddiv
     109: dstore        9
     111: dload         9
     113: dconst_1
     114: dcmpg
     115: ifgt          133
     118: aload_0
     119: iload_1
     120: dload         9
     122: aload         5
     124: getfield      #40                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.nodes:Ljava/util/List;
     127: aload         8
     129: invokespecial #82                 // Method computeMaxSegmentsForNode:(IDLjava/util/Collection;Lorg/infinispan/remoting/transport/Address;)D
     132: dreturn
     133: aload_0
     134: iload_1
     135: dload         9
     137: aload         5
     139: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
     142: invokeinterface #83,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     147: aload         6
     149: aload         7
     151: aload         8
     153: invokespecial #85                 // Method computeMaxSegmentsForRack:(IDLjava/util/Collection;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Rack;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Machine;Lorg/infinispan/remoting/transport/Address;)D
     156: dreturn

  public int computeExpectedSegments(int, int, org.infinispan.remoting.transport.Address);
    Code:
       0: aload_0
       1: getfield      #9                  // Field capacityFactors:Ljava/util/Map;
       4: ifnull        31
       7: aload_0
       8: getfield      #9                  // Field capacityFactors:Ljava/util/Map;
      11: aload_3
      12: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      17: checkcast     #17                 // class java/lang/Float
      20: invokevirtual #18                 // Method java/lang/Float.floatValue:()F
      23: f2d
      24: dconst_0
      25: dcmpl
      26: ifne          31
      29: iconst_0
      30: ireturn
      31: aload_3
      32: checkcast     #24                 // class org/infinispan/remoting/transport/TopologyAwareAddress
      35: astore        4
      37: aload         4
      39: invokeinterface #25,  1           // InterfaceMethod org/infinispan/remoting/transport/TopologyAwareAddress.getSiteId:()Ljava/lang/String;
      44: astore        5
      46: aload         4
      48: invokeinterface #26,  1           // InterfaceMethod org/infinispan/remoting/transport/TopologyAwareAddress.getRackId:()Ljava/lang/String;
      53: astore        6
      55: aload         4
      57: invokeinterface #27,  1           // InterfaceMethod org/infinispan/remoting/transport/TopologyAwareAddress.getMachineId:()Ljava/lang/String;
      62: astore        7
      64: aload_0
      65: getfield      #4                  // Field allSites:Ljava/util/Map;
      68: aload         5
      70: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      75: checkcast     #28                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Site
      78: astore        8
      80: aload         8
      82: getfield      #31                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Site.racks:Ljava/util/Map;
      85: aload         6
      87: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      92: checkcast     #32                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Rack
      95: astore        9
      97: aload         9
      99: getfield      #35                 // Field org/infinispan/distribution/topologyaware/TopologyInfo$Rack.machines:Ljava/util/Map;
     102: aload         7
     104: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     109: checkcast     #36                 // class org/infinispan/distribution/topologyaware/TopologyInfo$Machine
     112: astore        10
     114: iload_2
     115: iconst_1
     116: if_icmpne     136
     119: aload_0
     120: iload_1
     121: iload_2
     122: i2d
     123: aload_0
     124: getfield      #11                 // Field sortedNodes:Ljava/util/List;
     127: aload_3
     128: invokespecial #82                 // Method computeMaxSegmentsForNode:(IDLjava/util/Collection;Lorg/infinispan/remoting/transport/Address;)D
     131: dstore        11
     133: goto          232
     136: aload_0
     137: invokevirtual #46                 // Method getAllNodesCount:()I
     140: iload_2
     141: if_icmpgt     151
     144: iload_1
     145: i2d
     146: dstore        11
     148: goto          232
     151: aload_0
     152: invokevirtual #48                 // Method getAllMachinesCount:()I
     155: iload_2
     156: if_icmpgt     178
     159: aload_0
     160: iload_1
     161: iload_2
     162: i2d
     163: aload_0
     164: getfield      #8                  // Field allMachines:Ljava/util/List;
     167: aload         10
     169: aload_3
     170: invokespecial #84                 // Method computeMaxSegmentsForMachine:(IDLjava/util/Collection;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Machine;Lorg/infinispan/remoting/transport/Address;)D
     173: dstore        11
     175: goto          232
     178: aload_0
     179: invokevirtual #49                 // Method getAllRacksCount:()I
     182: iload_2
     183: if_icmpgt     207
     186: aload_0
     187: iload_1
     188: iload_2
     189: i2d
     190: aload_0
     191: getfield      #7                  // Field allRacks:Ljava/util/List;
     194: aload         9
     196: aload         10
     198: aload_3
     199: invokespecial #85                 // Method computeMaxSegmentsForRack:(IDLjava/util/Collection;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Rack;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Machine;Lorg/infinispan/remoting/transport/Address;)D
     202: dstore        11
     204: goto          232
     207: aload_0
     208: iload_1
     209: iload_2
     210: i2d
     211: aload_0
     212: getfield      #4                  // Field allSites:Ljava/util/Map;
     215: invokeinterface #83,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     220: aload         8
     222: aload         9
     224: aload         10
     226: aload_3
     227: invokespecial #86                 // Method computeMaxSegmentsForSite:(IDLjava/util/Collection;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Site;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Rack;Lorg/infinispan/distribution/topologyaware/TopologyInfo$Machine;Lorg/infinispan/remoting/transport/Address;)D
     230: dstore        11
     232: dload         11
     234: invokestatic  #87                 // Method java/lang/Math.round:(D)J
     237: l2i
     238: ireturn
}
