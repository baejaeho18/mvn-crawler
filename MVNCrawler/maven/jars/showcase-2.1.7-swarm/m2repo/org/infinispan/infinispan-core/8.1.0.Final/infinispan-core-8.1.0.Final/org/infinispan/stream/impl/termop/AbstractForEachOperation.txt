Compiled from "AbstractForEachOperation.java"
public abstract class org.infinispan.stream.impl.termop.AbstractForEachOperation<K, V, S extends java.util.stream.BaseStream<V, S>> extends org.infinispan.stream.impl.termop.BaseTerminalOperation implements org.infinispan.stream.impl.KeyTrackingTerminalOperation<K, V, K> {
  private final int batchSize;

  public org.infinispan.stream.impl.termop.AbstractForEachOperation(java.lang.Iterable<org.infinispan.stream.impl.intops.IntermediateOperation>, java.util.function.Supplier<java.util.stream.Stream<org.infinispan.container.entries.CacheEntry>>, int);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method org/infinispan/stream/impl/termop/BaseTerminalOperation."<init>":(Ljava/lang/Iterable;Ljava/util/function/Supplier;)V
       6: aload_0
       7: iload_3
       8: putfield      #2                  // Field batchSize:I
      11: return

  public boolean lostSegment(boolean);
    Code:
       0: iconst_1
       1: ireturn

  public java.util.List<V> performOperation(org.infinispan.stream.impl.KeyTrackingTerminalOperation$IntermediateCollector<java.util.Collection<V>>);
    Code:
       0: new           #3                  // class java/lang/UnsupportedOperationException
       3: dup
       4: invokespecial #4                  // Method java/lang/UnsupportedOperationException."<init>":()V
       7: athrow

  protected abstract void handleList(java.util.List<V>);

  protected abstract void handleStreamForEach(S, java.util.List<V>);

  public java.util.Collection<org.infinispan.container.entries.CacheEntry<K, K>> performOperationRehashAware(org.infinispan.stream.impl.KeyTrackingTerminalOperation$IntermediateCollector<java.util.Collection<org.infinispan.container.entries.CacheEntry<K, K>>>);
    Code:
       0: aload_0
       1: getfield      #5                  // Field supplier:Ljava/util/function/Supplier;
       4: invokeinterface #6,  1            // InterfaceMethod java/util/function/Supplier.get:()Ljava/lang/Object;
       9: checkcast     #7                  // class java/util/stream/BaseStream
      12: invokeinterface #8,  1            // InterfaceMethod java/util/stream/BaseStream.sequential:()Ljava/util/stream/BaseStream;
      17: astore_2
      18: new           #9                  // class java/util/ArrayList
      21: dup
      22: aload_0
      23: getfield      #2                  // Field batchSize:I
      26: invokespecial #10                 // Method java/util/ArrayList."<init>":(I)V
      29: astore_3
      30: new           #9                  // class java/util/ArrayList
      33: dup
      34: invokespecial #11                 // Method java/util/ArrayList."<init>":()V
      37: astore        4
      39: new           #12                 // class org/infinispan/commons/util/ByRef
      42: dup
      43: aconst_null
      44: invokespecial #13                 // Method org/infinispan/commons/util/ByRef."<init>":(Ljava/lang/Object;)V
      47: astore        5
      49: aload_2
      50: checkcast     #14                 // class java/util/stream/Stream
      53: aload_0
      54: aload         4
      56: aload_3
      57: aload         5
      59: aload_1
      60: invokedynamic #15,  0             // InvokeDynamic #0:accept:(Lorg/infinispan/stream/impl/termop/AbstractForEachOperation;Ljava/util/List;Ljava/util/List;Lorg/infinispan/commons/util/ByRef;Lorg/infinispan/stream/impl/KeyTrackingTerminalOperation$IntermediateCollector;)Ljava/util/function/Consumer;
      65: invokeinterface #16,  2           // InterfaceMethod java/util/stream/Stream.peek:(Ljava/util/function/Consumer;)Ljava/util/stream/Stream;
      70: astore_2
      71: aload_0
      72: getfield      #17                 // Field intermediateOperations:Ljava/lang/Iterable;
      75: invokeinterface #18,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
      80: astore        6
      82: aload         6
      84: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      89: ifeq          116
      92: aload         6
      94: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      99: checkcast     #21                 // class org/infinispan/stream/impl/intops/IntermediateOperation
     102: astore        7
     104: aload         7
     106: aload_2
     107: invokeinterface #22,  2           // InterfaceMethod org/infinispan/stream/impl/intops/IntermediateOperation.perform:(Ljava/util/stream/BaseStream;)Ljava/util/stream/BaseStream;
     112: astore_2
     113: goto          82
     116: aload_2
     117: astore        6
     119: aload_0
     120: aload         6
     122: aload         4
     124: invokevirtual #23                 // Method handleStreamForEach:(Ljava/util/stream/BaseStream;Ljava/util/List;)V
     127: aload         4
     129: invokeinterface #24,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     134: ifne          163
     137: aload_0
     138: aload         4
     140: invokevirtual #25                 // Method handleList:(Ljava/util/List;)V
     143: aload_3
     144: new           #26                 // class org/infinispan/container/entries/ImmortalCacheEntry
     147: dup
     148: aload         5
     150: invokevirtual #27                 // Method org/infinispan/commons/util/ByRef.get:()Ljava/lang/Object;
     153: aconst_null
     154: invokespecial #28                 // Method org/infinispan/container/entries/ImmortalCacheEntry."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
     157: invokeinterface #29,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     162: pop
     163: aload_3
     164: areturn

  public int getBatchSize();
    Code:
       0: aload_0
       1: getfield      #2                  // Field batchSize:I
       4: ireturn

  public java.util.Collection performOperation(org.infinispan.stream.impl.KeyTrackingTerminalOperation$IntermediateCollector);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #30                 // Method performOperation:(Lorg/infinispan/stream/impl/KeyTrackingTerminalOperation$IntermediateCollector;)Ljava/util/List;
       5: areturn

  private void lambda$performOperationRehashAware$71(java.util.List, java.util.List, org.infinispan.commons.util.ByRef, org.infinispan.stream.impl.KeyTrackingTerminalOperation$IntermediateCollector, java.util.Map$Entry);
    Code:
       0: aload_1
       1: invokeinterface #24,  1           // InterfaceMethod java/util/List.isEmpty:()Z
       6: ifne          66
       9: aload_2
      10: new           #26                 // class org/infinispan/container/entries/ImmortalCacheEntry
      13: dup
      14: aload_3
      15: invokevirtual #27                 // Method org/infinispan/commons/util/ByRef.get:()Ljava/lang/Object;
      18: aconst_null
      19: invokespecial #28                 // Method org/infinispan/container/entries/ImmortalCacheEntry."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
      22: invokeinterface #29,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      27: pop
      28: aload_2
      29: invokeinterface #31,  1           // InterfaceMethod java/util/List.size:()I
      34: aload_0
      35: getfield      #2                  // Field batchSize:I
      38: if_icmplt     66
      41: aload_0
      42: aload_1
      43: invokevirtual #25                 // Method handleList:(Ljava/util/List;)V
      46: aload         4
      48: aload_2
      49: invokeinterface #32,  2           // InterfaceMethod org/infinispan/stream/impl/KeyTrackingTerminalOperation$IntermediateCollector.sendDataResonse:(Ljava/lang/Object;)V
      54: aload_2
      55: invokeinterface #33,  1           // InterfaceMethod java/util/List.clear:()V
      60: aload_1
      61: invokeinterface #33,  1           // InterfaceMethod java/util/List.clear:()V
      66: aload_3
      67: aload         5
      69: invokeinterface #34,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      74: invokevirtual #35                 // Method org/infinispan/commons/util/ByRef.set:(Ljava/lang/Object;)V
      77: return
}
