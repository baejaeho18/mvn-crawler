Compiled from "TransactionAwareCloseableIterator.java"
public class org.infinispan.iteration.impl.TransactionAwareCloseableIterator<K, V, C> extends org.infinispan.iteration.impl.RemovableEntryIterator<K, V, C> {
  private final org.infinispan.context.impl.TxInvocationContext<org.infinispan.transaction.impl.LocalTransaction> ctx;

  private final java.util.List<org.infinispan.container.entries.CacheEntry> contextEntries;

  private final java.util.Set<java.lang.Object> seenContextKeys;

  private final org.infinispan.filter.KeyValueFilter<? super K, ? super V> filter;

  private final org.infinispan.filter.Converter<? super K, ? super V, ? extends C> converter;

  private final boolean filterAndConvert;

  private final org.infinispan.container.InternalEntryFactory entryFactory;

  public org.infinispan.iteration.impl.TransactionAwareCloseableIterator(org.infinispan.commons.util.CloseableIterator<org.infinispan.container.entries.CacheEntry<K, V>>, org.infinispan.filter.KeyValueFilter<? super K, ? super V>, org.infinispan.filter.Converter<? super K, ? super V, ? extends C>, org.infinispan.context.impl.TxInvocationContext<org.infinispan.transaction.impl.LocalTransaction>, org.infinispan.Cache<K, V>);
    Code:
       0: aload_0
       1: aload_1
       2: aload         5
       4: iconst_0
       5: invokespecial #1                  // Method org/infinispan/iteration/impl/RemovableEntryIterator."<init>":(Lorg/infinispan/commons/util/CloseableIterator;Lorg/infinispan/Cache;Z)V
       8: aload_0
       9: new           #2                  // class java/util/HashSet
      12: dup
      13: invokespecial #3                  // Method java/util/HashSet."<init>":()V
      16: putfield      #4                  // Field seenContextKeys:Ljava/util/Set;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field ctx:Lorg/infinispan/context/impl/TxInvocationContext;
      25: aload_0
      26: aload_2
      27: putfield      #6                  // Field filter:Lorg/infinispan/filter/KeyValueFilter;
      30: aload_2
      31: instanceof    #7                  // class org/infinispan/filter/KeyValueFilterConverter
      34: ifeq          59
      37: aload_2
      38: aload_3
      39: if_acmpeq     46
      42: aload_3
      43: ifnonnull     59
      46: aload_0
      47: iconst_1
      48: putfield      #8                  // Field filterAndConvert:Z
      51: aload_0
      52: aconst_null
      53: putfield      #9                  // Field converter:Lorg/infinispan/filter/Converter;
      56: goto          69
      59: aload_0
      60: iconst_0
      61: putfield      #8                  // Field filterAndConvert:Z
      64: aload_0
      65: aload_3
      66: putfield      #9                  // Field converter:Lorg/infinispan/filter/Converter;
      69: aload_0
      70: aload         5
      72: invokeinterface #10,  1           // InterfaceMethod org/infinispan/Cache.getAdvancedCache:()Lorg/infinispan/AdvancedCache;
      77: invokeinterface #11,  1           // InterfaceMethod org/infinispan/AdvancedCache.getComponentRegistry:()Lorg/infinispan/factories/ComponentRegistry;
      82: ldc           #12                 // class org/infinispan/container/InternalEntryFactory
      84: invokevirtual #13                 // Method org/infinispan/factories/ComponentRegistry.getComponent:(Ljava/lang/Class;)Ljava/lang/Object;
      87: checkcast     #12                 // class org/infinispan/container/InternalEntryFactory
      90: putfield      #14                 // Field entryFactory:Lorg/infinispan/container/InternalEntryFactory;
      93: aload_0
      94: new           #15                 // class java/util/ArrayList
      97: dup
      98: aload         4
     100: invokeinterface #16,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getLookedUpEntries:()Ljava/util/Map;
     105: invokeinterface #17,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     110: invokespecial #18                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     113: putfield      #19                 // Field contextEntries:Ljava/util/List;
     116: aload_0
     117: aload_0
     118: invokevirtual #20                 // Method getNextFromIterator:()Lorg/infinispan/container/entries/CacheEntry;
     121: putfield      #21                 // Field currentValue:Lorg/infinispan/container/entries/CacheEntry;
     124: return

  protected org.infinispan.container.entries.CacheEntry<K, V> filterEntry(org.infinispan.container.entries.CacheEntry<K, V>);
    Code:
       0: aload_0
       1: getfield      #8                  // Field filterAndConvert:Z
       4: ifeq          68
       7: aload_1
       8: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
      13: astore_2
      14: aload_0
      15: getfield      #6                  // Field filter:Lorg/infinispan/filter/KeyValueFilter;
      18: checkcast     #7                  // class org/infinispan/filter/KeyValueFilterConverter
      21: aload_2
      22: aload_1
      23: invokeinterface #23,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getValue:()Ljava/lang/Object;
      28: aload_1
      29: invokeinterface #24,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getMetadata:()Lorg/infinispan/metadata/Metadata;
      34: invokeinterface #25,  4           // InterfaceMethod org/infinispan/filter/KeyValueFilterConverter.filterAndConvert:(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/metadata/Metadata;)Ljava/lang/Object;
      39: astore_3
      40: aload_3
      41: ifnull        65
      44: aload_0
      45: getfield      #14                 // Field entryFactory:Lorg/infinispan/container/InternalEntryFactory;
      48: aload_1
      49: invokeinterface #26,  2           // InterfaceMethod org/infinispan/container/InternalEntryFactory.create:(Lorg/infinispan/container/entries/CacheEntry;)Lorg/infinispan/container/entries/InternalCacheEntry;
      54: astore_1
      55: aload_1
      56: aload_3
      57: invokeinterface #27,  2           // InterfaceMethod org/infinispan/container/entries/CacheEntry.setValue:(Ljava/lang/Object;)Ljava/lang/Object;
      62: pop
      63: aload_1
      64: areturn
      65: goto          107
      68: aload_0
      69: getfield      #6                  // Field filter:Lorg/infinispan/filter/KeyValueFilter;
      72: ifnull        105
      75: aload_0
      76: getfield      #6                  // Field filter:Lorg/infinispan/filter/KeyValueFilter;
      79: aload_1
      80: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
      85: aload_1
      86: invokeinterface #23,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getValue:()Ljava/lang/Object;
      91: aload_1
      92: invokeinterface #24,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getMetadata:()Lorg/infinispan/metadata/Metadata;
      97: invokeinterface #28,  4           // InterfaceMethod org/infinispan/filter/KeyValueFilter.accept:(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/metadata/Metadata;)Z
     102: ifeq          107
     105: aload_1
     106: areturn
     107: aconst_null
     108: areturn

  protected org.infinispan.container.entries.CacheEntry<K, C> getNextFromIterator();
    Code:
       0: aconst_null
       1: astore_1
       2: aload_1
       3: ifnonnull     88
       6: aload_0
       7: getfield      #19                 // Field contextEntries:Ljava/util/List;
      10: invokeinterface #29,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      15: ifne          88
      18: aload_0
      19: getfield      #19                 // Field contextEntries:Ljava/util/List;
      22: iconst_0
      23: invokeinterface #30,  2           // InterfaceMethod java/util/List.remove:(I)Ljava/lang/Object;
      28: checkcast     #31                 // class org/infinispan/container/entries/CacheEntry
      31: dup
      32: astore_2
      33: ifnull        88
      36: aload_0
      37: getfield      #4                  // Field seenContextKeys:Ljava/util/Set;
      40: aload_2
      41: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
      46: invokeinterface #32,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      51: pop
      52: aload_0
      53: getfield      #5                  // Field ctx:Lorg/infinispan/context/impl/TxInvocationContext;
      56: aload_2
      57: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
      62: invokeinterface #33,  2           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.isEntryRemovedInContext:(Ljava/lang/Object;)Z
      67: ifne          2
      70: aload_2
      71: invokeinterface #34,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.isNull:()Z
      76: ifne          2
      79: aload_0
      80: aload_2
      81: invokevirtual #35                 // Method filterEntry:(Lorg/infinispan/container/entries/CacheEntry;)Lorg/infinispan/container/entries/CacheEntry;
      84: astore_1
      85: goto          2
      88: aload_1
      89: ifnonnull     196
      92: aload_0
      93: getfield      #36                 // Field realIterator:Lorg/infinispan/commons/util/CloseableIterator;
      96: invokeinterface #37,  1           // InterfaceMethod org/infinispan/commons/util/CloseableIterator.hasNext:()Z
     101: ifeq          196
     104: aload_0
     105: getfield      #36                 // Field realIterator:Lorg/infinispan/commons/util/CloseableIterator;
     108: invokeinterface #38,  1           // InterfaceMethod org/infinispan/commons/util/CloseableIterator.next:()Ljava/lang/Object;
     113: checkcast     #31                 // class org/infinispan/container/entries/CacheEntry
     116: astore_3
     117: aload_0
     118: getfield      #5                  // Field ctx:Lorg/infinispan/context/impl/TxInvocationContext;
     121: aload_3
     122: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
     127: invokeinterface #39,  2           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.lookupEntry:(Ljava/lang/Object;)Lorg/infinispan/container/entries/CacheEntry;
     132: dup
     133: astore        4
     135: ifnull        191
     138: aload_0
     139: getfield      #4                  // Field seenContextKeys:Ljava/util/Set;
     142: aload         4
     144: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
     149: invokeinterface #32,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     154: ifeq          193
     157: aload         4
     159: invokeinterface #40,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.isRemoved:()Z
     164: ifne          193
     167: aload         4
     169: invokeinterface #34,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.isNull:()Z
     174: ifne          193
     177: aload_0
     178: aload         4
     180: invokevirtual #35                 // Method filterEntry:(Lorg/infinispan/container/entries/CacheEntry;)Lorg/infinispan/container/entries/CacheEntry;
     183: dup
     184: astore_1
     185: ifnull        193
     188: goto          196
     191: aload_3
     192: areturn
     193: goto          92
     196: aload_1
     197: ifnonnull     304
     200: aload_0
     201: getfield      #5                  // Field ctx:Lorg/infinispan/context/impl/TxInvocationContext;
     204: invokeinterface #16,  1           // InterfaceMethod org/infinispan/context/impl/TxInvocationContext.getLookedUpEntries:()Ljava/util/Map;
     209: invokeinterface #17,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     214: invokeinterface #41,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     219: astore_3
     220: aload_3
     221: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     226: ifeq          304
     229: aload_3
     230: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     235: checkcast     #31                 // class org/infinispan/container/entries/CacheEntry
     238: astore        4
     240: aload_0
     241: getfield      #4                  // Field seenContextKeys:Ljava/util/Set;
     244: aload         4
     246: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
     251: invokeinterface #32,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     256: ifeq          301
     259: aload         4
     261: invokeinterface #40,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.isRemoved:()Z
     266: ifne          301
     269: aload         4
     271: invokeinterface #34,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.isNull:()Z
     276: ifne          301
     279: aload_1
     280: ifnonnull     289
     283: aload         4
     285: astore_1
     286: goto          301
     289: aload_0
     290: getfield      #19                 // Field contextEntries:Ljava/util/List;
     293: aload         4
     295: invokeinterface #44,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     300: pop
     301: goto          220
     304: aload_1
     305: ifnull        362
     308: aload_0
     309: getfield      #9                  // Field converter:Lorg/infinispan/filter/Converter;
     312: ifnull        362
     315: aload_0
     316: getfield      #9                  // Field converter:Lorg/infinispan/filter/Converter;
     319: aload_1
     320: invokeinterface #22,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
     325: aload_1
     326: invokeinterface #23,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getValue:()Ljava/lang/Object;
     331: aload_1
     332: invokeinterface #24,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getMetadata:()Lorg/infinispan/metadata/Metadata;
     337: invokeinterface #45,  4           // InterfaceMethod org/infinispan/filter/Converter.convert:(Ljava/lang/Object;Ljava/lang/Object;Lorg/infinispan/metadata/Metadata;)Ljava/lang/Object;
     342: astore_3
     343: aload_0
     344: getfield      #14                 // Field entryFactory:Lorg/infinispan/container/InternalEntryFactory;
     347: aload_1
     348: invokeinterface #26,  2           // InterfaceMethod org/infinispan/container/InternalEntryFactory.create:(Lorg/infinispan/container/entries/CacheEntry;)Lorg/infinispan/container/entries/InternalCacheEntry;
     353: astore_1
     354: aload_1
     355: aload_3
     356: invokeinterface #27,  2           // InterfaceMethod org/infinispan/container/entries/CacheEntry.setValue:(Ljava/lang/Object;)Ljava/lang/Object;
     361: pop
     362: aload_1
     363: areturn
}
