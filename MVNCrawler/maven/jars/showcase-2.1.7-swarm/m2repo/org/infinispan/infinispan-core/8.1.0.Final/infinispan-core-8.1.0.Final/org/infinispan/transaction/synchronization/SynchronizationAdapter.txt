Compiled from "SynchronizationAdapter.java"
public class org.infinispan.transaction.synchronization.SynchronizationAdapter extends org.infinispan.transaction.impl.AbstractEnlistmentAdapter implements javax.transaction.Synchronization {
  private static final org.infinispan.util.logging.Log log;

  private static final boolean trace;

  private final org.infinispan.transaction.impl.LocalTransaction localTransaction;

  public org.infinispan.transaction.synchronization.SynchronizationAdapter(org.infinispan.transaction.impl.LocalTransaction, org.infinispan.transaction.impl.TransactionCoordinator, org.infinispan.commands.CommandsFactory, org.infinispan.remoting.rpc.RpcManager, org.infinispan.transaction.impl.TransactionTable, org.infinispan.interceptors.locking.ClusteringDependentLogic, org.infinispan.configuration.cache.Configuration, org.infinispan.partitionhandling.impl.PartitionHandlingManager);
    Code:
       0: aload_0
       1: aload_1
       2: aload_3
       3: aload         4
       5: aload         5
       7: aload         6
       9: aload         7
      11: aload_2
      12: aload         8
      14: invokespecial #1                  // Method org/infinispan/transaction/impl/AbstractEnlistmentAdapter."<init>":(Lorg/infinispan/transaction/xa/CacheTransaction;Lorg/infinispan/commands/CommandsFactory;Lorg/infinispan/remoting/rpc/RpcManager;Lorg/infinispan/transaction/impl/TransactionTable;Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;Lorg/infinispan/configuration/cache/Configuration;Lorg/infinispan/transaction/impl/TransactionCoordinator;Lorg/infinispan/partitionhandling/impl/PartitionHandlingManager;)V
      17: aload_0
      18: aload_1
      19: putfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      22: return

  public void beforeCompletion();
    Code:
       0: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       3: ldc           #4                  // String beforeCompletion called for %s
       5: aload_0
       6: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
       9: invokeinterface #5,  3            // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: getfield      #6                  // Field txCoordinator:Lorg/infinispan/transaction/impl/TransactionCoordinator;
      18: aload_0
      19: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      22: invokevirtual #7                  // Method org/infinispan/transaction/impl/TransactionCoordinator.prepare:(Lorg/infinispan/transaction/impl/LocalTransaction;)I
      25: pop
      26: goto          41
      29: astore_1
      30: new           #9                  // class org/infinispan/commons/CacheException
      33: dup
      34: ldc           #10                 // String Could not prepare.
      36: aload_1
      37: invokespecial #11                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      40: athrow
      41: return
    Exception table:
       from    to  target type
          14    26    29   Class javax/transaction/xa/XAException

  public void afterCompletion(int);
    Code:
       0: getstatic     #12                 // Field trace:Z
       3: ifeq          21
       6: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       9: ldc           #13                 // String afterCompletion(%s) called for %s.
      11: iload_1
      12: aload_0
      13: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      16: invokeinterface #14,  4           // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;ILjava/lang/Object;)V
      21: iload_1
      22: iconst_3
      23: if_icmpne     66
      26: aload_0
      27: getfield      #6                  // Field txCoordinator:Lorg/infinispan/transaction/impl/TransactionCoordinator;
      30: aload_0
      31: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      34: iconst_0
      35: invokevirtual #16                 // Method org/infinispan/transaction/impl/TransactionCoordinator.commit:(Lorg/infinispan/transaction/impl/LocalTransaction;Z)Z
      38: istore_2
      39: goto          54
      42: astore_3
      43: new           #9                  // class org/infinispan/commons/CacheException
      46: dup
      47: ldc           #17                 // String Could not commit.
      49: aload_3
      50: invokespecial #11                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      53: athrow
      54: aload_0
      55: aload_0
      56: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      59: iload_2
      60: invokevirtual #18                 // Method releaseLocksForCompletedTransaction:(Lorg/infinispan/transaction/impl/LocalTransaction;Z)V
      63: goto          124
      66: iload_1
      67: iconst_4
      68: if_icmpne     97
      71: aload_0
      72: getfield      #6                  // Field txCoordinator:Lorg/infinispan/transaction/impl/TransactionCoordinator;
      75: aload_0
      76: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      79: invokevirtual #19                 // Method org/infinispan/transaction/impl/TransactionCoordinator.rollback:(Lorg/infinispan/transaction/impl/LocalTransaction;)V
      82: goto          124
      85: astore_3
      86: new           #9                  // class org/infinispan/commons/CacheException
      89: dup
      90: ldc           #17                 // String Could not commit.
      92: aload_3
      93: invokespecial #11                 // Method org/infinispan/commons/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      96: athrow
      97: new           #20                 // class java/lang/IllegalArgumentException
     100: dup
     101: new           #21                 // class java/lang/StringBuilder
     104: dup
     105: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     108: ldc           #23                 // String Unknown status:
     110: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     113: iload_1
     114: invokevirtual #25                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     117: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     120: invokespecial #27                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     123: athrow
     124: return
    Exception table:
       from    to  target type
          26    39    42   Class javax/transaction/xa/XAException
          71    82    85   Class javax/transaction/xa/XAException

  public java.lang.String toString();
    Code:
       0: new           #21                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #28                 // String SynchronizationAdapter{localTransaction=
       9: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      16: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #30                 // String }
      21: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: invokespecial #31                 // Method java/lang/Object.toString:()Ljava/lang/String;
      28: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: areturn

  public boolean equals(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: if_acmpne     7
       5: iconst_1
       6: ireturn
       7: aload_1
       8: ifnull        22
      11: aload_0
      12: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      15: aload_1
      16: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      19: if_acmpeq     24
      22: iconst_0
      23: ireturn
      24: aload_1
      25: checkcast     #33                 // class org/infinispan/transaction/synchronization/SynchronizationAdapter
      28: astore_2
      29: aload_0
      30: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      33: ifnull        53
      36: aload_0
      37: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      40: aload_2
      41: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      44: invokevirtual #34                 // Method org/infinispan/transaction/impl/LocalTransaction.equals:(Ljava/lang/Object;)Z
      47: ifne          62
      50: goto          60
      53: aload_2
      54: getfield      #2                  // Field localTransaction:Lorg/infinispan/transaction/impl/LocalTransaction;
      57: ifnull        62
      60: iconst_0
      61: ireturn
      62: iconst_1
      63: ireturn

  static {};
    Code:
       0: ldc           #33                 // class org/infinispan/transaction/synchronization/SynchronizationAdapter
       2: invokestatic  #35                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #3                  // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #36,  1           // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #12                 // Field trace:Z
      19: return
}
