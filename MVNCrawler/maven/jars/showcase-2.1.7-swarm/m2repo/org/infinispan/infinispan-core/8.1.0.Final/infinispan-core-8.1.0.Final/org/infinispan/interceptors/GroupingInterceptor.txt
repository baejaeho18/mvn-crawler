Compiled from "GroupingInterceptor.java"
public class org.infinispan.interceptors.GroupingInterceptor extends org.infinispan.interceptors.base.CommandInterceptor {
  private org.infinispan.notifications.cachelistener.CacheNotifier<?, ?> cacheNotifier;

  private org.infinispan.distribution.group.GroupManager groupManager;

  private org.infinispan.container.InternalEntryFactory factory;

  private boolean isPassivationEnabled;

  public org.infinispan.interceptors.GroupingInterceptor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/interceptors/base/CommandInterceptor."<init>":()V
       4: return

  public void injectDependencies(org.infinispan.notifications.cachelistener.CacheNotifier<?, ?>, org.infinispan.distribution.group.GroupManager, org.infinispan.container.InternalEntryFactory, org.infinispan.configuration.cache.Configuration);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field cacheNotifier:Lorg/infinispan/notifications/cachelistener/CacheNotifier;
       5: aload_0
       6: aload_2
       7: putfield      #3                  // Field groupManager:Lorg/infinispan/distribution/group/GroupManager;
      10: aload_0
      11: aload_3
      12: putfield      #4                  // Field factory:Lorg/infinispan/container/InternalEntryFactory;
      15: aload_0
      16: aload         4
      18: invokevirtual #5                  // Method org/infinispan/configuration/cache/Configuration.persistence:()Lorg/infinispan/configuration/cache/PersistenceConfiguration;
      21: invokevirtual #6                  // Method org/infinispan/configuration/cache/PersistenceConfiguration.passivation:()Z
      24: putfield      #7                  // Field isPassivationEnabled:Z
      27: return

  public java.lang.Object visitGetKeysInGroupCommand(org.infinispan.context.InvocationContext, org.infinispan.commands.remote.GetKeysInGroupCommand) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #8                  // Method org/infinispan/commands/remote/GetKeysInGroupCommand.getGroupName:()Ljava/lang/String;
       4: astore_3
       5: aload_2
       6: aload_0
       7: aload_3
       8: invokespecial #9                  // Method isGroupOwner:(Ljava/lang/String;)Z
      11: invokevirtual #10                 // Method org/infinispan/commands/remote/GetKeysInGroupCommand.setGroupOwner:(Z)V
      14: aload_2
      15: invokevirtual #11                 // Method org/infinispan/commands/remote/GetKeysInGroupCommand.isGroupOwner:()Z
      18: ifeq          28
      21: aload_0
      22: getfield      #7                  // Field isPassivationEnabled:Z
      25: ifne          56
      28: aload_0
      29: aload_1
      30: aload_2
      31: invokevirtual #12                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      34: astore        4
      36: aload         4
      38: instanceof    #13                 // class java/util/List
      41: ifeq          53
      44: aload_0
      45: aload         4
      47: checkcast     #13                 // class java/util/List
      50: invokespecial #14                 // Method filter:(Ljava/util/List;)V
      53: aload         4
      55: areturn
      56: new           #15                 // class org/infinispan/interceptors/GroupingInterceptor$KeyListener
      59: dup
      60: aload_3
      61: aload_0
      62: getfield      #3                  // Field groupManager:Lorg/infinispan/distribution/group/GroupManager;
      65: aload_0
      66: getfield      #4                  // Field factory:Lorg/infinispan/container/InternalEntryFactory;
      69: invokespecial #16                 // Method org/infinispan/interceptors/GroupingInterceptor$KeyListener."<init>":(Ljava/lang/String;Lorg/infinispan/distribution/group/GroupManager;Lorg/infinispan/container/InternalEntryFactory;)V
      72: astore        4
      74: aload_0
      75: getfield      #2                  // Field cacheNotifier:Lorg/infinispan/notifications/cachelistener/CacheNotifier;
      78: aload         4
      80: invokeinterface #17,  2           // InterfaceMethod org/infinispan/notifications/cachelistener/CacheNotifier.addListener:(Ljava/lang/Object;)V
      85: aload_0
      86: aload_1
      87: aload_2
      88: invokevirtual #12                 // Method invokeNextInterceptor:(Lorg/infinispan/context/InvocationContext;Lorg/infinispan/commands/VisitableCommand;)Ljava/lang/Object;
      91: astore        5
      93: aload         5
      95: instanceof    #13                 // class java/util/List
      98: ifeq          129
     101: aload         5
     103: checkcast     #13                 // class java/util/List
     106: aload         4
     108: invokestatic  #18                 // Method org/infinispan/interceptors/GroupingInterceptor$KeyListener.access$000:(Lorg/infinispan/interceptors/GroupingInterceptor$KeyListener;)Ljava/util/concurrent/ConcurrentLinkedQueue;
     111: invokeinterface #19,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
     116: pop
     117: aload_0
     118: aload         5
     120: checkcast     #13                 // class java/util/List
     123: invokespecial #14                 // Method filter:(Ljava/util/List;)V
     126: goto          197
     129: aload         5
     131: instanceof    #20                 // class java/util/Map
     134: ifeq          197
     137: aload         4
     139: invokestatic  #18                 // Method org/infinispan/interceptors/GroupingInterceptor$KeyListener.access$000:(Lorg/infinispan/interceptors/GroupingInterceptor$KeyListener;)Ljava/util/concurrent/ConcurrentLinkedQueue;
     142: invokevirtual #21                 // Method java/util/concurrent/ConcurrentLinkedQueue.iterator:()Ljava/util/Iterator;
     145: astore        6
     147: aload         6
     149: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     154: ifeq          197
     157: aload         6
     159: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     164: checkcast     #24                 // class org/infinispan/container/entries/CacheEntry
     167: astore        7
     169: aload         5
     171: checkcast     #20                 // class java/util/Map
     174: aload         7
     176: invokeinterface #25,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getKey:()Ljava/lang/Object;
     181: aload         7
     183: invokeinterface #26,  1           // InterfaceMethod org/infinispan/container/entries/CacheEntry.getValue:()Ljava/lang/Object;
     188: invokeinterface #27,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     193: pop
     194: goto          147
     197: aload         5
     199: astore        6
     201: aload_0
     202: getfield      #2                  // Field cacheNotifier:Lorg/infinispan/notifications/cachelistener/CacheNotifier;
     205: aload         4
     207: invokeinterface #28,  2           // InterfaceMethod org/infinispan/notifications/cachelistener/CacheNotifier.removeListener:(Ljava/lang/Object;)V
     212: aload         6
     214: areturn
     215: astore        8
     217: aload_0
     218: getfield      #2                  // Field cacheNotifier:Lorg/infinispan/notifications/cachelistener/CacheNotifier;
     221: aload         4
     223: invokeinterface #28,  2           // InterfaceMethod org/infinispan/notifications/cachelistener/CacheNotifier.removeListener:(Ljava/lang/Object;)V
     228: aload         8
     230: athrow
    Exception table:
       from    to  target type
          85   201   215   any
         215   217   215   any

  private void filter(java.util.List<org.infinispan.container.entries.CacheEntry>);
    Code:
       0: iconst_0
       1: istore_2
       2: iload_2
       3: aload_1
       4: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
       9: if_icmpge     54
      12: aload_1
      13: iload_2
      14: invokeinterface #30,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      19: checkcast     #24                 // class org/infinispan/container/entries/CacheEntry
      22: astore_3
      23: aload_3
      24: instanceof    #31                 // class org/infinispan/container/entries/MVCCEntry
      27: ifeq          48
      30: aload_1
      31: iload_2
      32: aload_0
      33: getfield      #4                  // Field factory:Lorg/infinispan/container/InternalEntryFactory;
      36: aload_3
      37: invokeinterface #32,  2           // InterfaceMethod org/infinispan/container/InternalEntryFactory.create:(Lorg/infinispan/container/entries/CacheEntry;)Lorg/infinispan/container/entries/InternalCacheEntry;
      42: invokeinterface #33,  3           // InterfaceMethod java/util/List.set:(ILjava/lang/Object;)Ljava/lang/Object;
      47: pop
      48: iinc          2, 1
      51: goto          2
      54: return

  private boolean isGroupOwner(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #3                  // Field groupManager:Lorg/infinispan/distribution/group/GroupManager;
       4: aload_1
       5: invokeinterface #34,  2           // InterfaceMethod org/infinispan/distribution/group/GroupManager.isOwner:(Ljava/lang/String;)Z
      10: ireturn
}
