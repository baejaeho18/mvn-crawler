Compiled from "NonTotalOrderTxPerCacheInboundInvocationHandler.java"
public class org.infinispan.remoting.inboundhandler.NonTotalOrderTxPerCacheInboundInvocationHandler extends org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler {
  private static final org.infinispan.util.logging.Log log;

  private static final boolean trace;

  private final org.infinispan.remoting.inboundhandler.action.CheckTopologyAction checkTopologyAction;

  private org.infinispan.util.concurrent.locks.LockManager lockManager;

  private org.infinispan.interceptors.locking.ClusteringDependentLogic clusteringDependentLogic;

  private org.infinispan.util.concurrent.locks.PendingLockManager pendingLockManager;

  private org.infinispan.configuration.cache.Configuration configuration;

  private boolean pessimisticLocking;

  public org.infinispan.remoting.inboundhandler.NonTotalOrderTxPerCacheInboundInvocationHandler();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/remoting/inboundhandler/BasePerCacheInboundInvocationHandler."<init>":()V
       4: aload_0
       5: new           #2                  // class org/infinispan/remoting/inboundhandler/action/CheckTopologyAction
       8: dup
       9: aload_0
      10: invokespecial #3                  // Method org/infinispan/remoting/inboundhandler/action/CheckTopologyAction."<init>":(Lorg/infinispan/remoting/inboundhandler/BasePerCacheInboundInvocationHandler;)V
      13: putfield      #4                  // Field checkTopologyAction:Lorg/infinispan/remoting/inboundhandler/action/CheckTopologyAction;
      16: return

  public void inject(org.infinispan.util.concurrent.locks.LockManager, org.infinispan.interceptors.locking.ClusteringDependentLogic, org.infinispan.configuration.cache.Configuration, org.infinispan.util.concurrent.locks.PendingLockManager);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field lockManager:Lorg/infinispan/util/concurrent/locks/LockManager;
       5: aload_0
       6: aload_2
       7: putfield      #6                  // Field clusteringDependentLogic:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      10: aload_0
      11: aload_3
      12: putfield      #7                  // Field configuration:Lorg/infinispan/configuration/cache/Configuration;
      15: aload_0
      16: aload         4
      18: putfield      #8                  // Field pendingLockManager:Lorg/infinispan/util/concurrent/locks/PendingLockManager;
      21: aload_0
      22: aload_3
      23: invokevirtual #9                  // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
      26: invokevirtual #10                 // Method org/infinispan/configuration/cache/TransactionConfiguration.lockingMode:()Lorg/infinispan/transaction/LockingMode;
      29: getstatic     #11                 // Field org/infinispan/transaction/LockingMode.PESSIMISTIC:Lorg/infinispan/transaction/LockingMode;
      32: if_acmpne     39
      35: iconst_1
      36: goto          40
      39: iconst_0
      40: putfield      #12                 // Field pessimisticLocking:Z
      43: return

  public void handle(org.infinispan.commands.remote.CacheRpcCommand, org.infinispan.remoting.inboundhandler.Reply, org.infinispan.remoting.inboundhandler.DeliverOrder);
    Code:
       0: aload_3
       1: getstatic     #13                 // Field org/infinispan/remoting/inboundhandler/DeliverOrder.TOTAL:Lorg/infinispan/remoting/inboundhandler/DeliverOrder;
       4: if_acmpne     13
       7: aload_0
       8: aload_1
       9: aload_3
      10: invokevirtual #14                 // Method unexpectedDeliverMode:(Lorg/infinispan/commands/ReplicableCommand;Lorg/infinispan/remoting/inboundhandler/DeliverOrder;)V
      13: aload_1
      14: invokestatic  #15                 // Method extractCommandTopologyId:(Lorg/infinispan/commands/remote/CacheRpcCommand;)I
      17: istore        4
      19: aload_0
      20: aload_3
      21: aload_1
      22: invokevirtual #16                 // Method executeOnExecutorService:(Lorg/infinispan/remoting/inboundhandler/DeliverOrder;Lorg/infinispan/commands/remote/CacheRpcCommand;)Z
      25: istore        5
      27: aload_1
      28: invokeinterface #17,  1           // InterfaceMethod org/infinispan/commands/remote/CacheRpcCommand.getCommandId:()B
      33: lookupswitch  { // 4
                     2: 76
                     3: 149
                    12: 100
                    26: 100
               default: 175
          }
      76: aload_0
      77: aload_1
      78: aload_2
      79: iload         4
      81: iconst_1
      82: iload         5
      84: aload_0
      85: aload_1
      86: checkcast     #18                 // class org/infinispan/commands/remote/MultipleRpcCommand
      89: invokespecial #19                 // Method createReadyActionForMultipleRpcCommand:(Lorg/infinispan/commands/remote/MultipleRpcCommand;)Lorg/infinispan/remoting/inboundhandler/action/ReadyAction;
      92: invokevirtual #20                 // Method createReadyActionRunnable:(Lorg/infinispan/commands/remote/CacheRpcCommand;Lorg/infinispan/remoting/inboundhandler/Reply;IZZLorg/infinispan/remoting/inboundhandler/action/ReadyAction;)Lorg/infinispan/util/concurrent/BlockingRunnable;
      95: astore        6
      97: goto          203
     100: aload_0
     101: getfield      #12                 // Field pessimisticLocking:Z
     104: ifeq          123
     107: aload_0
     108: aload_1
     109: aload_2
     110: iload         4
     112: iconst_1
     113: iload         5
     115: invokevirtual #21                 // Method createDefaultRunnable:(Lorg/infinispan/commands/remote/CacheRpcCommand;Lorg/infinispan/remoting/inboundhandler/Reply;IZZ)Lorg/infinispan/util/concurrent/BlockingRunnable;
     118: astore        6
     120: goto          203
     123: aload_0
     124: aload_1
     125: aload_2
     126: iload         4
     128: iconst_1
     129: iload         5
     131: aload_0
     132: iload         4
     134: aload_1
     135: checkcast     #22                 // class org/infinispan/commands/tx/PrepareCommand
     138: invokespecial #23                 // Method createReadyAction:(ILorg/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand;)Lorg/infinispan/remoting/inboundhandler/action/ReadyAction;
     141: invokevirtual #20                 // Method createReadyActionRunnable:(Lorg/infinispan/commands/remote/CacheRpcCommand;Lorg/infinispan/remoting/inboundhandler/Reply;IZZLorg/infinispan/remoting/inboundhandler/action/ReadyAction;)Lorg/infinispan/util/concurrent/BlockingRunnable;
     144: astore        6
     146: goto          203
     149: aload_0
     150: aload_1
     151: aload_2
     152: iload         4
     154: iconst_1
     155: iload         5
     157: aload_0
     158: iload         4
     160: aload_1
     161: checkcast     #24                 // class org/infinispan/commands/control/LockControlCommand
     164: invokespecial #23                 // Method createReadyAction:(ILorg/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand;)Lorg/infinispan/remoting/inboundhandler/action/ReadyAction;
     167: invokevirtual #20                 // Method createReadyActionRunnable:(Lorg/infinispan/commands/remote/CacheRpcCommand;Lorg/infinispan/remoting/inboundhandler/Reply;IZZLorg/infinispan/remoting/inboundhandler/action/ReadyAction;)Lorg/infinispan/util/concurrent/BlockingRunnable;
     170: astore        6
     172: goto          203
     175: aload_0
     176: aload_1
     177: aload_2
     178: iload         4
     180: aload_1
     181: invokeinterface #17,  1           // InterfaceMethod org/infinispan/commands/remote/CacheRpcCommand.getCommandId:()B
     186: bipush        15
     188: if_icmpeq     195
     191: iconst_1
     192: goto          196
     195: iconst_0
     196: iload         5
     198: invokevirtual #21                 // Method createDefaultRunnable:(Lorg/infinispan/commands/remote/CacheRpcCommand;Lorg/infinispan/remoting/inboundhandler/Reply;IZZ)Lorg/infinispan/util/concurrent/BlockingRunnable;
     201: astore        6
     203: aload_0
     204: aload         6
     206: iload         5
     208: invokevirtual #26                 // Method handleRunnable:(Lorg/infinispan/util/concurrent/BlockingRunnable;Z)V
     211: goto          229
     214: astore        4
     216: aload_2
     217: aload_0
     218: aload_1
     219: aload         4
     221: invokevirtual #28                 // Method exceptionHandlingCommand:(Lorg/infinispan/commands/remote/CacheRpcCommand;Ljava/lang/Throwable;)Lorg/infinispan/remoting/responses/ExceptionResponse;
     224: invokeinterface #29,  2           // InterfaceMethod org/infinispan/remoting/inboundhandler/Reply.reply:(Ljava/lang/Object;)V
     229: return
    Exception table:
       from    to  target type
          13   211   214   Class java/lang/Throwable

  protected org.infinispan.util.logging.Log getLog();
    Code:
       0: getstatic     #30                 // Field log:Lorg/infinispan/util/logging/Log;
       3: areturn

  protected boolean isTraceEnabled();
    Code:
       0: getstatic     #31                 // Field trace:Z
       3: ireturn

  protected final org.infinispan.util.concurrent.BlockingRunnable createReadyActionRunnable(org.infinispan.commands.remote.CacheRpcCommand, org.infinispan.remoting.inboundhandler.Reply, int, boolean, boolean, org.infinispan.remoting.inboundhandler.action.ReadyAction);
    Code:
       0: iload         5
       2: iload         4
       4: invokestatic  #32                 // Method org/infinispan/remoting/inboundhandler/TopologyMode.create:(ZZ)Lorg/infinispan/remoting/inboundhandler/TopologyMode;
       7: astore        7
       9: iload         5
      11: ifeq          57
      14: aload         6
      16: ifnull        57
      19: aload         6
      21: aload_0
      22: getfield      #33                 // Field remoteCommandsExecutor:Lorg/infinispan/util/concurrent/BlockingTaskAwareExecutorService;
      25: dup
      26: invokevirtual #34                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      29: pop
      30: invokedynamic #35,  0             // InvokeDynamic #0:onComplete:(Lorg/infinispan/util/concurrent/BlockingTaskAwareExecutorService;)Lorg/infinispan/remoting/inboundhandler/action/ActionListener;
      35: invokeinterface #36,  2           // InterfaceMethod org/infinispan/remoting/inboundhandler/action/ReadyAction.addListener:(Lorg/infinispan/remoting/inboundhandler/action/ActionListener;)V
      40: new           #37                 // class org/infinispan/remoting/inboundhandler/NonTotalOrderTxPerCacheInboundInvocationHandler$1
      43: dup
      44: aload_0
      45: aload_0
      46: aload_1
      47: aload_2
      48: aload         7
      50: iload_3
      51: aload         6
      53: invokespecial #38                 // Method org/infinispan/remoting/inboundhandler/NonTotalOrderTxPerCacheInboundInvocationHandler$1."<init>":(Lorg/infinispan/remoting/inboundhandler/NonTotalOrderTxPerCacheInboundInvocationHandler;Lorg/infinispan/remoting/inboundhandler/BasePerCacheInboundInvocationHandler;Lorg/infinispan/commands/remote/CacheRpcCommand;Lorg/infinispan/remoting/inboundhandler/Reply;Lorg/infinispan/remoting/inboundhandler/TopologyMode;ILorg/infinispan/remoting/inboundhandler/action/ReadyAction;)V
      56: areturn
      57: new           #39                 // class org/infinispan/remoting/inboundhandler/DefaultTopologyRunnable
      60: dup
      61: aload_0
      62: aload_1
      63: aload_2
      64: aload         7
      66: iload_3
      67: invokespecial #40                 // Method org/infinispan/remoting/inboundhandler/DefaultTopologyRunnable."<init>":(Lorg/infinispan/remoting/inboundhandler/BasePerCacheInboundInvocationHandler;Lorg/infinispan/commands/remote/CacheRpcCommand;Lorg/infinispan/remoting/inboundhandler/Reply;Lorg/infinispan/remoting/inboundhandler/TopologyMode;I)V
      70: areturn

  private org.infinispan.remoting.inboundhandler.action.ReadyAction createReadyAction(int, org.infinispan.util.concurrent.locks.TransactionalRemoteLockCommand);
    Code:
       0: aload_2
       1: invokeinterface #41,  1           // InterfaceMethod org/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand.hasSkipLocking:()Z
       6: ifeq          11
       9: aconst_null
      10: areturn
      11: aload_2
      12: invokeinterface #42,  1           // InterfaceMethod org/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand.getKeysToLock:()Ljava/util/Collection;
      17: astore_3
      18: aload_3
      19: invokeinterface #43,  1           // InterfaceMethod java/util/Collection.isEmpty:()Z
      24: ifeq          29
      27: aconst_null
      28: areturn
      29: aload_2
      30: invokeinterface #44,  1           // InterfaceMethod org/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand.hasZeroLockAcquisition:()Z
      35: ifeq          42
      38: lconst_0
      39: goto          52
      42: aload_0
      43: getfield      #7                  // Field configuration:Lorg/infinispan/configuration/cache/Configuration;
      46: invokevirtual #45                 // Method org/infinispan/configuration/cache/Configuration.locking:()Lorg/infinispan/configuration/cache/LockingConfiguration;
      49: invokevirtual #46                 // Method org/infinispan/configuration/cache/LockingConfiguration.lockAcquisitionTimeout:()J
      52: lstore        4
      54: new           #47                 // class org/infinispan/remoting/inboundhandler/action/DefaultReadyAction
      57: dup
      58: new           #48                 // class org/infinispan/remoting/inboundhandler/action/ActionState
      61: dup
      62: aload_2
      63: iload_1
      64: lload         4
      66: invokespecial #49                 // Method org/infinispan/remoting/inboundhandler/action/ActionState."<init>":(Lorg/infinispan/util/concurrent/locks/RemoteLockCommand;IJ)V
      69: iconst_3
      70: anewarray     #50                 // class org/infinispan/remoting/inboundhandler/action/Action
      73: dup
      74: iconst_0
      75: aload_0
      76: getfield      #4                  // Field checkTopologyAction:Lorg/infinispan/remoting/inboundhandler/action/CheckTopologyAction;
      79: aastore
      80: dup
      81: iconst_1
      82: new           #51                 // class org/infinispan/remoting/inboundhandler/action/PendingTxAction
      85: dup
      86: aload_0
      87: getfield      #8                  // Field pendingLockManager:Lorg/infinispan/util/concurrent/locks/PendingLockManager;
      90: aload_0
      91: getfield      #6                  // Field clusteringDependentLogic:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
      94: invokespecial #52                 // Method org/infinispan/remoting/inboundhandler/action/PendingTxAction."<init>":(Lorg/infinispan/util/concurrent/locks/PendingLockManager;Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;)V
      97: aastore
      98: dup
      99: iconst_2
     100: new           #53                 // class org/infinispan/remoting/inboundhandler/action/LockAction
     103: dup
     104: aload_0
     105: getfield      #5                  // Field lockManager:Lorg/infinispan/util/concurrent/locks/LockManager;
     108: aload_0
     109: getfield      #6                  // Field clusteringDependentLogic:Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;
     112: invokespecial #54                 // Method org/infinispan/remoting/inboundhandler/action/LockAction."<init>":(Lorg/infinispan/util/concurrent/locks/LockManager;Lorg/infinispan/interceptors/locking/ClusteringDependentLogic;)V
     115: aastore
     116: invokespecial #55                 // Method org/infinispan/remoting/inboundhandler/action/DefaultReadyAction."<init>":(Lorg/infinispan/remoting/inboundhandler/action/ActionState;[Lorg/infinispan/remoting/inboundhandler/action/Action;)V
     119: astore        6
     121: aload         6
     123: invokevirtual #56                 // Method org/infinispan/remoting/inboundhandler/action/DefaultReadyAction.registerListener:()V
     126: aload         6
     128: areturn

  private org.infinispan.remoting.inboundhandler.action.ReadyAction createReadyActionForMultipleRpcCommand(org.infinispan.commands.remote.MultipleRpcCommand);
    Code:
       0: aload_1
       1: invokevirtual #57                 // Method org/infinispan/commands/remote/MultipleRpcCommand.getCommands:()[Lorg/infinispan/commands/ReplicableCommand;
       4: astore_2
       5: new           #58                 // class java/util/ArrayList
       8: dup
       9: aload_2
      10: arraylength
      11: invokespecial #59                 // Method java/util/ArrayList."<init>":(I)V
      14: astore_3
      15: aload_2
      16: aload_0
      17: aload_3
      18: invokedynamic #60,  0             // InvokeDynamic #1:accept:(Lorg/infinispan/remoting/inboundhandler/NonTotalOrderTxPerCacheInboundInvocationHandler;Ljava/util/List;)Ljava/util/function/Consumer;
      23: invokestatic  #61                 // Method org/infinispan/commons/util/InfinispanCollections.forEach:([Ljava/lang/Object;Ljava/util/function/Consumer;)V
      26: aload_3
      27: invokeinterface #62,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      32: ifeq          37
      35: aconst_null
      36: areturn
      37: aload_3
      38: invokeinterface #63,  1           // InterfaceMethod java/util/List.size:()I
      43: iconst_1
      44: if_icmpne     58
      47: aload_3
      48: iconst_0
      49: invokeinterface #64,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      54: checkcast     #65                 // class org/infinispan/remoting/inboundhandler/action/ReadyAction
      57: areturn
      58: new           #66                 // class org/infinispan/remoting/inboundhandler/action/CompositeAction
      61: dup
      62: aload_3
      63: invokespecial #67                 // Method org/infinispan/remoting/inboundhandler/action/CompositeAction."<init>":(Ljava/util/Collection;)V
      66: astore        4
      68: aload         4
      70: invokevirtual #68                 // Method org/infinispan/remoting/inboundhandler/action/CompositeAction.registerListener:()V
      73: aload         4
      75: areturn

  private void lambda$createReadyActionForMultipleRpcCommand$215(java.util.List, org.infinispan.commands.ReplicableCommand);
    Code:
       0: aload_2
       1: instanceof    #24                 // class org/infinispan/commands/control/LockControlCommand
       4: ifeq          38
       7: aload_0
       8: aload_2
       9: checkcast     #24                 // class org/infinispan/commands/control/LockControlCommand
      12: invokevirtual #69                 // Method org/infinispan/commands/control/LockControlCommand.getTopologyId:()I
      15: aload_2
      16: checkcast     #24                 // class org/infinispan/commands/control/LockControlCommand
      19: invokespecial #23                 // Method createReadyAction:(ILorg/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand;)Lorg/infinispan/remoting/inboundhandler/action/ReadyAction;
      22: astore_3
      23: aload_3
      24: ifnull        35
      27: aload_1
      28: aload_3
      29: invokeinterface #70,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      34: pop
      35: goto          80
      38: aload_0
      39: getfield      #12                 // Field pessimisticLocking:Z
      42: ifne          80
      45: aload_2
      46: instanceof    #22                 // class org/infinispan/commands/tx/PrepareCommand
      49: ifeq          80
      52: aload_0
      53: aload_2
      54: checkcast     #22                 // class org/infinispan/commands/tx/PrepareCommand
      57: invokevirtual #71                 // Method org/infinispan/commands/tx/PrepareCommand.getTopologyId:()I
      60: aload_2
      61: checkcast     #22                 // class org/infinispan/commands/tx/PrepareCommand
      64: invokespecial #23                 // Method createReadyAction:(ILorg/infinispan/util/concurrent/locks/TransactionalRemoteLockCommand;)Lorg/infinispan/remoting/inboundhandler/action/ReadyAction;
      67: astore_3
      68: aload_3
      69: ifnull        80
      72: aload_1
      73: aload_3
      74: invokeinterface #70,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      79: pop
      80: return

  static {};
    Code:
       0: ldc           #72                 // class org/infinispan/remoting/inboundhandler/NonTotalOrderTxPerCacheInboundInvocationHandler
       2: invokestatic  #73                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #30                 // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #30                 // Field log:Lorg/infinispan/util/logging/Log;
      11: invokeinterface #74,  1           // InterfaceMethod org/infinispan/util/logging/Log.isTraceEnabled:()Z
      16: putstatic     #31                 // Field trace:Z
      19: return
}
