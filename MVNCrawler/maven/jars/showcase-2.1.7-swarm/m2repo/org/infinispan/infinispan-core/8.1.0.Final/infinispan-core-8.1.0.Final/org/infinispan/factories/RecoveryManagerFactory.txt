Compiled from "RecoveryManagerFactory.java"
public class org.infinispan.factories.RecoveryManagerFactory extends org.infinispan.factories.AbstractNamedCacheComponentFactory implements org.infinispan.factories.AutoInstantiableFactory {
  private static final org.infinispan.util.logging.Log log;

  private static final long DEFAULT_EXPIRY;

  public org.infinispan.factories.RecoveryManagerFactory();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/infinispan/factories/AbstractNamedCacheComponentFactory."<init>":()V
       4: return

  public <RecoveryManager> RecoveryManager construct(java.lang.Class<RecoveryManager>);
    Code:
       0: aload_0
       1: getfield      #2                  // Field configuration:Lorg/infinispan/configuration/cache/Configuration;
       4: invokevirtual #3                  // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
       7: invokevirtual #4                  // Method org/infinispan/configuration/cache/TransactionConfiguration.recovery:()Lorg/infinispan/configuration/cache/RecoveryConfiguration;
      10: invokevirtual #5                  // Method org/infinispan/configuration/cache/RecoveryConfiguration.enabled:()Z
      13: ifeq          162
      16: aload_0
      17: getfield      #2                  // Field configuration:Lorg/infinispan/configuration/cache/Configuration;
      20: invokevirtual #3                  // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
      23: invokevirtual #4                  // Method org/infinispan/configuration/cache/TransactionConfiguration.recovery:()Lorg/infinispan/configuration/cache/RecoveryConfiguration;
      26: invokevirtual #6                  // Method org/infinispan/configuration/cache/RecoveryConfiguration.recoveryInfoCacheName:()Ljava/lang/String;
      29: astore_2
      30: getstatic     #7                  // Field log:Lorg/infinispan/util/logging/Log;
      33: ldc           #8                  // String Using recovery cache name %s
      35: aload_2
      36: invokeinterface #9,  3            // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      41: aload_0
      42: getfield      #10                 // Field componentRegistry:Lorg/infinispan/factories/ComponentRegistry;
      45: invokevirtual #11                 // Method org/infinispan/factories/ComponentRegistry.getGlobalComponentRegistry:()Lorg/infinispan/factories/GlobalComponentRegistry;
      48: ldc           #12                 // class org/infinispan/manager/EmbeddedCacheManager
      50: invokevirtual #13                 // Method org/infinispan/factories/GlobalComponentRegistry.getComponent:(Ljava/lang/Class;)Ljava/lang/Object;
      53: checkcast     #12                 // class org/infinispan/manager/EmbeddedCacheManager
      56: astore_3
      57: aload_2
      58: ldc           #15                 // String __recoveryInfoCacheName__
      60: invokevirtual #16                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      63: istore        4
      65: iload         4
      67: ifne          117
      70: aload_3
      71: invokeinterface #17,  1           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCacheNames:()Ljava/util/Set;
      76: aload_2
      77: invokeinterface #18,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      82: ifne          146
      85: new           #19                 // class org/infinispan/commons/CacheConfigurationException
      88: dup
      89: new           #20                 // class java/lang/StringBuilder
      92: dup
      93: invokespecial #21                 // Method java/lang/StringBuilder."<init>":()V
      96: ldc           #22                 // String Recovery cache (
      98: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: aload_2
     102: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: ldc           #24                 // String ) does not exist!!
     107: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     113: invokespecial #26                 // Method org/infinispan/commons/CacheConfigurationException."<init>":(Ljava/lang/String;)V
     116: athrow
     117: aload_0
     118: getfield      #10                 // Field componentRegistry:Lorg/infinispan/factories/ComponentRegistry;
     121: invokevirtual #11                 // Method org/infinispan/factories/ComponentRegistry.getGlobalComponentRegistry:()Lorg/infinispan/factories/GlobalComponentRegistry;
     124: ldc           #27                 // class org/infinispan/registry/InternalCacheRegistry
     126: invokevirtual #13                 // Method org/infinispan/factories/GlobalComponentRegistry.getComponent:(Ljava/lang/Class;)Ljava/lang/Object;
     129: checkcast     #27                 // class org/infinispan/registry/InternalCacheRegistry
     132: astore        5
     134: aload         5
     136: aload_2
     137: aload_0
     138: invokespecial #28                 // Method getDefaultRecoveryCacheConfig:()Lorg/infinispan/configuration/cache/Configuration;
     141: invokeinterface #29,  3           // InterfaceMethod org/infinispan/registry/InternalCacheRegistry.registerInternalCache:(Ljava/lang/String;Lorg/infinispan/configuration/cache/Configuration;)V
     146: aload_0
     147: aload_0
     148: getfield      #10                 // Field componentRegistry:Lorg/infinispan/factories/ComponentRegistry;
     151: invokevirtual #30                 // Method org/infinispan/factories/ComponentRegistry.getCacheName:()Ljava/lang/String;
     154: aload_2
     155: aload_3
     156: iload         4
     158: invokespecial #31                 // Method buildRecoveryManager:(Ljava/lang/String;Ljava/lang/String;Lorg/infinispan/manager/EmbeddedCacheManager;Z)Lorg/infinispan/transaction/xa/recovery/RecoveryManager;
     161: areturn
     162: aconst_null
     163: areturn

  private org.infinispan.configuration.cache.Configuration getDefaultRecoveryCacheConfig();
    Code:
       0: new           #32                 // class org/infinispan/configuration/cache/ConfigurationBuilder
       3: dup
       4: invokespecial #33                 // Method org/infinispan/configuration/cache/ConfigurationBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: invokevirtual #34                 // Method org/infinispan/configuration/cache/ConfigurationBuilder.transaction:()Lorg/infinispan/configuration/cache/TransactionConfigurationBuilder;
      12: getstatic     #35                 // Field org/infinispan/transaction/TransactionMode.NON_TRANSACTIONAL:Lorg/infinispan/transaction/TransactionMode;
      15: invokevirtual #36                 // Method org/infinispan/configuration/cache/TransactionConfigurationBuilder.transactionMode:(Lorg/infinispan/transaction/TransactionMode;)Lorg/infinispan/configuration/cache/TransactionConfigurationBuilder;
      18: pop
      19: aload_1
      20: invokevirtual #37                 // Method org/infinispan/configuration/cache/ConfigurationBuilder.clustering:()Lorg/infinispan/configuration/cache/ClusteringConfigurationBuilder;
      23: getstatic     #38                 // Field org/infinispan/configuration/cache/CacheMode.LOCAL:Lorg/infinispan/configuration/cache/CacheMode;
      26: invokevirtual #39                 // Method org/infinispan/configuration/cache/ClusteringConfigurationBuilder.cacheMode:(Lorg/infinispan/configuration/cache/CacheMode;)Lorg/infinispan/configuration/cache/ClusteringConfigurationBuilder;
      29: pop
      30: aload_1
      31: invokevirtual #40                 // Method org/infinispan/configuration/cache/ConfigurationBuilder.expiration:()Lorg/infinispan/configuration/cache/ExpirationConfigurationBuilder;
      34: getstatic     #41                 // Field DEFAULT_EXPIRY:J
      37: invokevirtual #42                 // Method org/infinispan/configuration/cache/ExpirationConfigurationBuilder.lifespan:(J)Lorg/infinispan/configuration/cache/ExpirationConfigurationBuilder;
      40: pop
      41: aload_1
      42: invokevirtual #34                 // Method org/infinispan/configuration/cache/ConfigurationBuilder.transaction:()Lorg/infinispan/configuration/cache/TransactionConfigurationBuilder;
      45: invokevirtual #43                 // Method org/infinispan/configuration/cache/TransactionConfigurationBuilder.recovery:()Lorg/infinispan/configuration/cache/RecoveryConfigurationBuilder;
      48: invokevirtual #44                 // Method org/infinispan/configuration/cache/RecoveryConfigurationBuilder.disable:()Lorg/infinispan/configuration/cache/RecoveryConfigurationBuilder;
      51: pop
      52: aload_1
      53: invokevirtual #45                 // Method org/infinispan/configuration/cache/ConfigurationBuilder.build:()Lorg/infinispan/configuration/cache/Configuration;
      56: areturn

  private org.infinispan.transaction.xa.recovery.RecoveryManager buildRecoveryManager(java.lang.String, java.lang.String, org.infinispan.manager.EmbeddedCacheManager, boolean);
    Code:
       0: getstatic     #7                  // Field log:Lorg/infinispan/util/logging/Log;
       3: ldc           #46                 // String About to obtain a reference to the recovery cache: %s
       5: aload_2
       6: invokeinterface #9,  3            // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      11: aload_3
      12: aload_2
      13: invokeinterface #47,  2           // InterfaceMethod org/infinispan/manager/EmbeddedCacheManager.getCache:(Ljava/lang/String;)Lorg/infinispan/Cache;
      18: astore        5
      20: aload         5
      22: invokeinterface #48,  1           // InterfaceMethod org/infinispan/Cache.getCacheConfiguration:()Lorg/infinispan/configuration/cache/Configuration;
      27: invokevirtual #3                  // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
      30: invokevirtual #49                 // Method org/infinispan/configuration/cache/TransactionConfiguration.transactionMode:()Lorg/infinispan/transaction/TransactionMode;
      33: invokevirtual #50                 // Method org/infinispan/transaction/TransactionMode.isTransactional:()Z
      36: ifeq          49
      39: new           #19                 // class org/infinispan/commons/CacheConfigurationException
      42: dup
      43: ldc           #51                 // String The recovery cache shouldn\'t be transactional.
      45: invokespecial #26                 // Method org/infinispan/commons/CacheConfigurationException."<init>":(Ljava/lang/String;)V
      48: athrow
      49: getstatic     #7                  // Field log:Lorg/infinispan/util/logging/Log;
      52: ldc           #52                 // String Obtained a reference to the recovery cache: %s
      54: aload_2
      55: invokeinterface #9,  3            // InterfaceMethod org/infinispan/util/logging/Log.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
      60: new           #53                 // class org/infinispan/transaction/xa/recovery/RecoveryManagerImpl
      63: dup
      64: aload         5
      66: aload_1
      67: invokespecial #54                 // Method org/infinispan/transaction/xa/recovery/RecoveryManagerImpl."<init>":(Ljava/util/concurrent/ConcurrentMap;Ljava/lang/String;)V
      70: areturn

  static {};
    Code:
       0: ldc           #55                 // class org/infinispan/factories/RecoveryManagerFactory
       2: invokestatic  #56                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #7                  // Field log:Lorg/infinispan/util/logging/Log;
       8: getstatic     #57                 // Field java/util/concurrent/TimeUnit.HOURS:Ljava/util/concurrent/TimeUnit;
      11: ldc2_w        #58                 // long 6l
      14: invokevirtual #60                 // Method java/util/concurrent/TimeUnit.toMillis:(J)J
      17: putstatic     #41                 // Field DEFAULT_EXPIRY:J
      20: return
}
