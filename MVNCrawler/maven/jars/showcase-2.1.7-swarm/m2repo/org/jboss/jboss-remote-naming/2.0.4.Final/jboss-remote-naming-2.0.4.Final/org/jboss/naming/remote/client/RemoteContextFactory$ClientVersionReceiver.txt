Compiled from "RemoteContextFactory.java"
class org.jboss.naming.remote.client.RemoteContextFactory$ClientVersionReceiver implements org.jboss.remoting3.Channel$Receiver {
  private final org.jboss.naming.remote.client.RemoteContextFactory$VersionsIoFuture future;

  private org.jboss.naming.remote.client.RemoteContextFactory$ClientVersionReceiver(org.jboss.naming.remote.client.RemoteContextFactory$VersionsIoFuture);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field future:Lorg/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture;
       9: return

  public static org.xnio.IoFuture<byte[]> getVersions(org.jboss.remoting3.Channel);
    Code:
       0: new           #3                  // class org/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture
       3: dup
       4: aconst_null
       5: invokespecial #4                  // Method org/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture."<init>":(Lorg/jboss/naming/remote/client/RemoteContextFactory$1;)V
       8: astore_1
       9: aload_0
      10: new           #5                  // class org/jboss/naming/remote/client/RemoteContextFactory$ClientVersionReceiver
      13: dup
      14: aload_1
      15: invokespecial #6                  // Method "<init>":(Lorg/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture;)V
      18: invokeinterface #7,  2            // InterfaceMethod org/jboss/remoting3/Channel.receiveMessage:(Lorg/jboss/remoting3/Channel$Receiver;)V
      23: aload_1
      24: areturn

  public void handleMessage(org.jboss.remoting3.Channel, org.jboss.remoting3.MessageInputStream);
    Code:
       0: new           #8                  // class java/io/DataInputStream
       3: dup
       4: aload_2
       5: invokespecial #9                  // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
       8: astore_3
       9: getstatic     #10                 // Field org/jboss/naming/remote/Constants.NAMING:[B
      12: arraylength
      13: istore        4
      15: iload         4
      17: newarray       byte
      19: astore        5
      21: aload_3
      22: aload         5
      24: invokevirtual #11                 // Method java/io/DataInputStream.read:([B)I
      27: istore        6
      29: iload         6
      31: iload         4
      33: if_icmplt     47
      36: aload         5
      38: getstatic     #10                 // Field org/jboss/naming/remote/Constants.NAMING:[B
      41: invokestatic  #12                 // Method java/util/Arrays.equals:([B[B)Z
      44: ifne          57
      47: new           #13                 // class java/io/IOException
      50: dup
      51: ldc           #14                 // String Invalid leading bytes in header.
      53: invokespecial #15                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: aload_3
      58: invokevirtual #16                 // Method java/io/DataInputStream.read:()I
      61: istore        7
      63: iload         7
      65: newarray       byte
      67: astore        8
      69: aload_3
      70: aload         8
      72: invokevirtual #11                 // Method java/io/DataInputStream.read:([B)I
      75: istore        6
      77: iload         6
      79: iload         7
      81: if_icmpge     94
      84: new           #13                 // class java/io/IOException
      87: dup
      88: ldc           #17                 // String Did not read all versions.
      90: invokespecial #15                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      93: athrow
      94: aload_0
      95: getfield      #2                  // Field future:Lorg/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture;
      98: aload         8
     100: invokevirtual #18                 // Method org/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture.setResult:([B)Z
     103: pop
     104: aload_3
     105: invokestatic  #19                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     108: goto          149
     111: astore        4
     113: invokestatic  #20                 // Method org/jboss/naming/remote/client/RemoteContextFactory.access$100:()Lorg/jboss/logging/Logger;
     116: ldc           #21                 // String Unable to negotiate connection.
     118: aload         4
     120: invokevirtual #22                 // Method org/jboss/logging/Logger.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     123: aload_0
     124: getfield      #2                  // Field future:Lorg/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture;
     127: aload         4
     129: invokevirtual #23                 // Method org/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture.setException:(Ljava/io/IOException;)Z
     132: pop
     133: aload_3
     134: invokestatic  #19                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     137: goto          149
     140: astore        9
     142: aload_3
     143: invokestatic  #19                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     146: aload         9
     148: athrow
     149: return
    Exception table:
       from    to  target type
           9   104   111   Class java/io/IOException
           9   104   140   any
         111   133   140   any
         140   142   140   any

  public void handleError(org.jboss.remoting3.Channel, java.io.IOException);
    Code:
       0: invokestatic  #20                 // Method org/jboss/naming/remote/client/RemoteContextFactory.access$100:()Lorg/jboss/logging/Logger;
       3: ldc           #24                 // String Error on channel
       5: aload_2
       6: invokevirtual #22                 // Method org/jboss/logging/Logger.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
       9: aload_0
      10: getfield      #2                  // Field future:Lorg/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture;
      13: aload_2
      14: invokevirtual #23                 // Method org/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture.setException:(Ljava/io/IOException;)Z
      17: pop
      18: return

  public void handleEnd(org.jboss.remoting3.Channel);
    Code:
       0: invokestatic  #20                 // Method org/jboss/naming/remote/client/RemoteContextFactory.access$100:()Lorg/jboss/logging/Logger;
       3: ldc           #25                 // String Channel ended.
       5: invokevirtual #26                 // Method org/jboss/logging/Logger.error:(Ljava/lang/Object;)V
       8: aload_0
       9: getfield      #2                  // Field future:Lorg/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture;
      12: new           #13                 // class java/io/IOException
      15: dup
      16: ldc           #27                 // String Channel ended
      18: invokespecial #15                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      21: invokevirtual #23                 // Method org/jboss/naming/remote/client/RemoteContextFactory$VersionsIoFuture.setException:(Ljava/io/IOException;)Z
      24: pop
      25: return
}
