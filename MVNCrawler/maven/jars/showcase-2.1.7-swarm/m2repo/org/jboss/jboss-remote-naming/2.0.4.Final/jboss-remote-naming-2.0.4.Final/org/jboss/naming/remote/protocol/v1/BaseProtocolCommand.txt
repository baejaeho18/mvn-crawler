Compiled from "BaseProtocolCommand.java"
abstract class org.jboss.naming.remote.protocol.v1.BaseProtocolCommand<T, F extends org.jboss.naming.remote.protocol.v1.ProtocolIoFuture<T>> implements org.jboss.naming.remote.protocol.ProtocolCommand<T> {
  public static final int DEFAULT_TIMEOUT;

  private int nextCorrelationId;

  private final java.util.Map<java.lang.Integer, F> requests;

  private final byte commandId;

  protected org.jboss.naming.remote.protocol.v1.BaseProtocolCommand(byte);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_1
       6: putfield      #2                  // Field nextCorrelationId:I
       9: aload_0
      10: new           #3                  // class java/util/HashMap
      13: dup
      14: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      17: putfield      #5                  // Field requests:Ljava/util/Map;
      20: aload_0
      21: iload_1
      22: putfield      #6                  // Field commandId:B
      25: return

  public byte getCommandId();
    Code:
       0: aload_0
       1: getfield      #6                  // Field commandId:B
       4: ireturn

  protected void readResult(int, java.io.DataInput, org.jboss.naming.remote.protocol.v1.BaseProtocolCommand$ValueReader<F>) throws java.io.IOException;
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #7                  // Method getFuture:(I)Lorg/jboss/naming/remote/protocol/v1/ProtocolIoFuture;
       5: astore        4
       7: aload_2
       8: invokeinterface #8,  1            // InterfaceMethod java/io/DataInput.readByte:()B
      13: istore        5
      15: iload         5
      17: ifne          32
      20: aload_3
      21: aload_2
      22: aload         4
      24: invokeinterface #9,  3            // InterfaceMethod org/jboss/naming/remote/protocol/v1/BaseProtocolCommand$ValueReader.read:(Ljava/io/DataInput;Lorg/jboss/naming/remote/protocol/v1/ProtocolIoFuture;)V
      29: goto          115
      32: iload         5
      34: iconst_1
      35: if_icmpne     100
      38: aload_2
      39: invokeinterface #8,  1            // InterfaceMethod java/io/DataInput.readByte:()B
      44: istore        6
      46: iload         6
      48: iconst_2
      49: if_icmpeq     62
      52: new           #10                 // class java/io/IOException
      55: dup
      56: ldc           #11                 // String Unexpected response parameter received.
      58: invokespecial #12                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      61: athrow
      62: aload_2
      63: aload_0
      64: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      67: invokevirtual #14                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      70: invokestatic  #15                 // Method org/jboss/naming/remote/protocol/v1/ReadUtil.prepareForUnMarshalling:(Ljava/io/DataInput;Ljava/lang/ClassLoader;)Lorg/jboss/marshalling/Unmarshaller;
      73: astore        7
      75: aload         7
      77: ldc_w         #16                 // class java/lang/Exception
      80: invokeinterface #17,  2           // InterfaceMethod org/jboss/marshalling/Unmarshaller.readObject:(Ljava/lang/Class;)Ljava/lang/Object;
      85: checkcast     #16                 // class java/lang/Exception
      88: astore        8
      90: aload         4
      92: aload         8
      94: invokevirtual #18                 // Method org/jboss/naming/remote/protocol/v1/ProtocolIoFuture.setHeldException:(Ljava/lang/Exception;)V
      97: goto          115
     100: aload         4
     102: new           #10                 // class java/io/IOException
     105: dup
     106: ldc           #19                 // String Outcome not understood
     108: invokespecial #12                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     111: invokevirtual #20                 // Method org/jboss/naming/remote/protocol/v1/ProtocolIoFuture.setException:(Ljava/io/IOException;)Z
     114: pop
     115: goto          168
     118: astore        5
     120: aload         4
     122: new           #10                 // class java/io/IOException
     125: dup
     126: aload         5
     128: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     131: invokevirtual #20                 // Method org/jboss/naming/remote/protocol/v1/ProtocolIoFuture.setException:(Ljava/io/IOException;)Z
     134: pop
     135: goto          168
     138: astore        5
     140: aload         4
     142: new           #10                 // class java/io/IOException
     145: dup
     146: aload         5
     148: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     151: invokevirtual #20                 // Method org/jboss/naming/remote/protocol/v1/ProtocolIoFuture.setException:(Ljava/io/IOException;)Z
     154: pop
     155: goto          168
     158: astore        5
     160: aload         4
     162: aload         5
     164: invokevirtual #20                 // Method org/jboss/naming/remote/protocol/v1/ProtocolIoFuture.setException:(Ljava/io/IOException;)Z
     167: pop
     168: return
    Exception table:
       from    to  target type
           7   115   118   Class java/lang/ClassCastException
           7   115   138   Class java/lang/ClassNotFoundException
           7   115   158   Class java/io/IOException

  private synchronized int getNextCorrelationId();
    Code:
       0: aload_0
       1: dup
       2: getfield      #2                  // Field nextCorrelationId:I
       5: dup_x1
       6: iconst_1
       7: iadd
       8: putfield      #2                  // Field nextCorrelationId:I
      11: istore_1
      12: iload_1
      13: ifge          23
      16: aload_0
      17: iconst_2
      18: putfield      #2                  // Field nextCorrelationId:I
      21: iconst_1
      22: istore_1
      23: iload_1
      24: ireturn

  protected synchronized int reserveNextCorrelationId(F);
    Code:
       0: aload_0
       1: invokespecial #24                 // Method getNextCorrelationId:()I
       4: invokestatic  #25                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       7: astore_2
       8: aload_0
       9: getfield      #5                  // Field requests:Ljava/util/Map;
      12: aload_2
      13: invokeinterface #26,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      18: ifeq          32
      21: aload_0
      22: invokespecial #24                 // Method getNextCorrelationId:()I
      25: invokestatic  #25                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: astore_2
      29: goto          8
      32: aload_0
      33: getfield      #5                  // Field requests:Ljava/util/Map;
      36: aload_2
      37: aload_1
      38: invokeinterface #27,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      43: pop
      44: aload_2
      45: invokevirtual #28                 // Method java/lang/Integer.intValue:()I
      48: ireturn

  private synchronized F getFuture(int);
    Code:
       0: aload_0
       1: getfield      #5                  // Field requests:Ljava/util/Map;
       4: iload_1
       5: invokestatic  #25                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       8: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #30                 // class org/jboss/naming/remote/protocol/v1/ProtocolIoFuture
      16: areturn

  protected synchronized void releaseCorrelationId(int);
    Code:
       0: aload_0
       1: getfield      #5                  // Field requests:Ljava/util/Map;
       4: iload_1
       5: invokestatic  #25                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       8: invokeinterface #31,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      13: pop
      14: return
}
