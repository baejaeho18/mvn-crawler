Compiled from "ThreadLocalLogContextSelector.java"
public final class org.jboss.logmanager.ThreadLocalLogContextSelector implements org.jboss.logmanager.LogContextSelector {
  private final java.lang.Object securityKey;

  private final org.jboss.logmanager.LogContextSelector delegate;

  private final java.lang.ThreadLocal<org.jboss.logmanager.LogContext> context;

  public org.jboss.logmanager.ThreadLocalLogContextSelector(org.jboss.logmanager.LogContextSelector);
    Code:
       0: aload_0
       1: aconst_null
       2: aload_1
       3: invokespecial #1                  // Method "<init>":(Ljava/lang/Object;Lorg/jboss/logmanager/LogContextSelector;)V
       6: return

  public org.jboss.logmanager.ThreadLocalLogContextSelector(java.lang.Object, org.jboss.logmanager.LogContextSelector);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/lang/ThreadLocal
       8: dup
       9: invokespecial #4                  // Method java/lang/ThreadLocal."<init>":()V
      12: putfield      #5                  // Field context:Ljava/lang/ThreadLocal;
      15: aload_0
      16: aload_1
      17: putfield      #6                  // Field securityKey:Ljava/lang/Object;
      20: aload_0
      21: aload_2
      22: putfield      #7                  // Field delegate:Lorg/jboss/logmanager/LogContextSelector;
      25: return

  public org.jboss.logmanager.LogContext getLogContext();
    Code:
       0: aload_0
       1: getfield      #5                  // Field context:Ljava/lang/ThreadLocal;
       4: invokevirtual #8                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #9                  // class org/jboss/logmanager/LogContext
      10: astore_1
      11: aload_1
      12: ifnull        19
      15: aload_1
      16: goto          28
      19: aload_0
      20: getfield      #7                  // Field delegate:Lorg/jboss/logmanager/LogContextSelector;
      23: invokeinterface #10,  1           // InterfaceMethod org/jboss/logmanager/LogContextSelector.getLogContext:()Lorg/jboss/logmanager/LogContext;
      28: areturn

  public org.jboss.logmanager.LogContext getAndSet(java.lang.Object, org.jboss.logmanager.LogContext);
    Code:
       0: aload_0
       1: getfield      #6                  // Field securityKey:Ljava/lang/Object;
       4: ifnull        25
       7: aload_1
       8: aload_0
       9: getfield      #6                  // Field securityKey:Ljava/lang/Object;
      12: if_acmpeq     25
      15: new           #11                 // class java/lang/SecurityException
      18: dup
      19: ldc           #12                 // String Invalid security key for ThreadLocalLogContextSelector modification
      21: invokespecial #13                 // Method java/lang/SecurityException."<init>":(Ljava/lang/String;)V
      24: athrow
      25: aload_0
      26: getfield      #5                  // Field context:Ljava/lang/ThreadLocal;
      29: invokevirtual #8                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      32: checkcast     #9                  // class org/jboss/logmanager/LogContext
      35: astore_3
      36: aload_2
      37: ifnonnull     50
      40: aload_0
      41: getfield      #5                  // Field context:Ljava/lang/ThreadLocal;
      44: invokevirtual #14                 // Method java/lang/ThreadLocal.remove:()V
      47: goto          58
      50: aload_0
      51: getfield      #5                  // Field context:Ljava/lang/ThreadLocal;
      54: aload_2
      55: invokevirtual #15                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      58: aload_3
      59: areturn
      60: astore        4
      62: aload_2
      63: ifnonnull     76
      66: aload_0
      67: getfield      #5                  // Field context:Ljava/lang/ThreadLocal;
      70: invokevirtual #14                 // Method java/lang/ThreadLocal.remove:()V
      73: goto          84
      76: aload_0
      77: getfield      #5                  // Field context:Ljava/lang/ThreadLocal;
      80: aload_2
      81: invokevirtual #15                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      84: aload         4
      86: athrow
    Exception table:
       from    to  target type
          25    36    60   any
          60    62    60   any
}
