Compiled from "TransactionServer.java"
public class com.arjuna.ats.jts.TransactionServer {
  public com.arjuna.ats.jts.TransactionServer();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static final void registerTransactionManager(int, com.arjuna.orbportability.ORB, org.omg.CosTransactions.TransactionFactory) throws java.lang.Exception;
    Code:
       0: new           #2                  // class com/arjuna/orbportability/Services
       3: dup
       4: aload_1
       5: invokespecial #3                  // Method com/arjuna/orbportability/Services."<init>":(Lcom/arjuna/orbportability/ORB;)V
       8: astore_3
       9: iload_0
      10: iconst_5
      11: if_icmpeq     39
      14: iconst_1
      15: anewarray     #4                  // class java/lang/String
      18: astore        4
      20: aload         4
      22: iconst_0
      23: ldc           #5                  // String OTS
      25: aastore
      26: aload_3
      27: aload_2
      28: ldc           #6                  // String TransactionManagerService
      30: aload         4
      32: iload_0
      33: invokevirtual #7                  // Method com/arjuna/orbportability/Services.registerService:(Lorg/omg/CORBA/Object;Ljava/lang/String;[Ljava/lang/Object;I)V
      36: aconst_null
      37: astore        4
      39: return

  public static void main(java.lang.String[]);
    Code:
       0: aload_0
       1: invokestatic  #8                  // Method doWork:([Ljava/lang/String;)V
       4: goto          12
       7: astore_1
       8: aload_1
       9: invokevirtual #10                 // Method java/lang/Exception.printStackTrace:()V
      12: return
    Exception table:
       from    to  target type
           0     4     7   Class java/lang/Exception

  static void doWork(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_0
       2: invokestatic  #11                 // Method doWork:([Ljava/lang/String;Z)V
       5: return

  static void doWork(java.lang.String[], boolean) throws java.lang.Exception;
    Code:
       0: ldc           #6                  // String TransactionManagerService
       2: astore_2
       3: aconst_null
       4: astore_3
       5: iconst_0
       6: istore        4
       8: aconst_null
       9: astore        5
      11: aconst_null
      12: astore        6
      14: iconst_0
      15: istore        7
      17: iload         7
      19: aload_0
      20: arraylength
      21: if_icmpge     159
      24: aload_0
      25: iload         7
      27: aaload
      28: ldc           #12                 // String -otsname
      30: invokevirtual #13                 // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      33: ifne          43
      36: aload_0
      37: iload         7
      39: iconst_1
      40: iadd
      41: aaload
      42: astore_3
      43: aload_0
      44: iload         7
      46: aaload
      47: ldc           #14                 // String -test
      49: invokevirtual #13                 // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      52: ifne          58
      55: iconst_1
      56: istore        4
      58: aload_0
      59: iload         7
      61: aaload
      62: ldc           #15                 // String -help
      64: invokevirtual #13                 // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      67: ifne          87
      70: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;
      73: ldc           #17                 // String Usage: [-otsname <name>] [-help] [-version] [-recovery]
      75: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      78: iload_1
      79: ifeq          83
      82: return
      83: iconst_0
      84: invokestatic  #19                 // Method java/lang/System.exit:(I)V
      87: aload_0
      88: iload         7
      90: aaload
      91: ldc           #20                 // String -version
      93: invokevirtual #13                 // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      96: ifne          135
      99: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;
     102: new           #21                 // class java/lang/StringBuilder
     105: dup
     106: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     109: ldc           #23                 // String TransactionServer version
     111: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: invokestatic  #25                 // Method com/arjuna/common/util/ConfigurationInfo.getVersion:()Ljava/lang/String;
     117: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     123: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     126: iload_1
     127: ifeq          131
     130: return
     131: iconst_0
     132: invokestatic  #19                 // Method java/lang/System.exit:(I)V
     135: aload_0
     136: iload         7
     138: aaload
     139: ldc           #27                 // String -recovery
     141: invokevirtual #13                 // Method java/lang/String.compareTo:(Ljava/lang/String;)I
     144: ifne          153
     147: invokestatic  #28                 // Method com/arjuna/ats/arjuna/recovery/RecoveryManager.manager:()Lcom/arjuna/ats/arjuna/recovery/RecoveryManager;
     150: invokevirtual #29                 // Method com/arjuna/ats/arjuna/recovery/RecoveryManager.startRecoveryManagerThread:()V
     153: iinc          7, 1
     156: goto          17
     159: aconst_null
     160: astore        7
     162: invokestatic  #30                 // Method com/arjuna/orbportability/Services.getResolver:()I
     165: istore        8
     167: ldc           #31                 // String TransactionServer
     169: invokestatic  #32                 // Method com/arjuna/orbportability/ORB.getInstance:(Ljava/lang/String;)Lcom/arjuna/orbportability/ORB;
     172: astore        5
     174: aload         5
     176: invokestatic  #33                 // Method com/arjuna/orbportability/OA.getRootOA:(Lcom/arjuna/orbportability/ORB;)Lcom/arjuna/orbportability/RootOA;
     179: astore        6
     181: aload         5
     183: aload_0
     184: aconst_null
     185: invokevirtual #34                 // Method com/arjuna/orbportability/ORB.initORB:([Ljava/lang/String;Ljava/util/Properties;)V
     188: aload         6
     190: invokevirtual #35                 // Method com/arjuna/orbportability/RootOA.initOA:()V
     193: aload         5
     195: invokestatic  #36                 // Method com/arjuna/ats/internal/jts/ORBManager.setORB:(Lcom/arjuna/orbportability/ORB;)Z
     198: pop
     199: aload         6
     201: invokestatic  #37                 // Method com/arjuna/ats/internal/jts/ORBManager.setPOA:(Lcom/arjuna/orbportability/OA;)Z
     204: pop
     205: goto          239
     208: astore        9
     210: getstatic     #38                 // Field java/lang/System.err:Ljava/io/PrintStream;
     213: new           #21                 // class java/lang/StringBuilder
     216: dup
     217: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     220: ldc           #39                 // String Initialisation of TransactionServer failed:
     222: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     225: aload         9
     227: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     230: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     233: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     236: aload         9
     238: athrow
     239: new           #41                 // class com/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple
     242: dup
     243: aload_3
     244: invokespecial #42                 // Method com/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple."<init>":(Ljava/lang/String;)V
     247: astore        7
     249: iload         8
     251: aload         5
     253: aload         7
     255: invokevirtual #43                 // Method com/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple.getReference:()Lorg/omg/CosTransactions/TransactionFactory;
     258: invokestatic  #44                 // Method registerTransactionManager:(ILcom/arjuna/orbportability/ORB;Lorg/omg/CosTransactions/TransactionFactory;)V
     261: iload         4
     263: ifne          274
     266: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;
     269: ldc           #45                 // String Transaction manager registered.
     271: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     274: goto          341
     277: astore        9
     279: getstatic     #38                 // Field java/lang/System.err:Ljava/io/PrintStream;
     282: new           #21                 // class java/lang/StringBuilder
     285: dup
     286: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     289: ldc           #46                 // String Failed to bind transaction manager:
     291: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     294: aload         9
     296: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     299: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     302: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     305: iload_1
     306: ifeq          337
     309: new           #9                  // class java/lang/Exception
     312: dup
     313: new           #21                 // class java/lang/StringBuilder
     316: dup
     317: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     320: ldc           #47                 // String Failed to bind transaction manager:
     322: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     325: aload         9
     327: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     330: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     333: invokespecial #48                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     336: athrow
     337: iconst_0
     338: invokestatic  #19                 // Method java/lang/System.exit:(I)V
     341: iload         4
     343: ifeq          357
     346: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;
     349: ldc           #49                 // String Ready
     351: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     354: goto          365
     357: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;
     360: ldc           #50                 // String JBossTS OTS Server startup.
     362: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     365: iload_1
     366: ifne          390
     369: iload         8
     371: iconst_5
     372: if_icmpne     385
     375: aload         6
     377: ldc           #6                  // String TransactionManagerService
     379: invokevirtual #51                 // Method com/arjuna/orbportability/RootOA.run:(Ljava/lang/String;)V
     382: goto          390
     385: aload         6
     387: invokevirtual #52                 // Method com/arjuna/orbportability/RootOA.run:()V
     390: goto          421
     393: astore        9
     395: getstatic     #38                 // Field java/lang/System.err:Ljava/io/PrintStream;
     398: new           #21                 // class java/lang/StringBuilder
     401: dup
     402: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     405: ldc           #53                 // String TransactionServer caught exception
     407: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     410: aload         9
     412: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     415: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     418: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     421: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;
     424: ldc           #54                 // String JBossTS OTS Server shutdown
     426: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     429: aconst_null
     430: astore        7
     432: aload         6
     434: ifnull        442
     437: aload         6
     439: invokevirtual #55                 // Method com/arjuna/orbportability/RootOA.destroy:()V
     442: aload         5
     444: ifnull        452
     447: aload         5
     449: invokevirtual #56                 // Method com/arjuna/orbportability/ORB.shutdown:()V
     452: return
    Exception table:
       from    to  target type
         167   205   208   Class java/lang/Exception
         249   274   277   Class java/lang/Exception
         167   390   393   Class java/lang/Exception
}
