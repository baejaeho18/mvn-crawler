Compiled from "CompensationInterceptorBase.java"
public class org.jboss.narayana.compensations.impl.CompensationInterceptorBase {
  org.jboss.narayana.compensations.api.CompensationManager compensationManager;

  javax.enterprise.inject.spi.BeanManager beanManager;

  public org.jboss.narayana.compensations.impl.CompensationInterceptorBase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  protected java.lang.Object invokeInOurTx(javax.interceptor.InvocationContext) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method getCompensatable:(Ljavax/interceptor/InvocationContext;)Lorg/jboss/narayana/compensations/api/Compensatable;
       5: astore_3
       6: aload_3
       7: invokeinterface #3,  1            // InterfaceMethod org/jboss/narayana/compensations/api/Compensatable.distributed:()Z
      12: ifeq          22
      15: invokestatic  #4                  // Method org/jboss/narayana/compensations/impl/BAControllerFactory.getRemoteInstance:()Lorg/jboss/narayana/compensations/impl/BAControler;
      18: astore_2
      19: goto          26
      22: invokestatic  #5                  // Method org/jboss/narayana/compensations/impl/BAControllerFactory.getLocalInstance:()Lorg/jboss/narayana/compensations/impl/BAControler;
      25: astore_2
      26: aload_2
      27: invokeinterface #6,  1            // InterfaceMethod org/jboss/narayana/compensations/impl/BAControler.beginBusinessActivity:()V
      32: aconst_null
      33: astore        4
      35: iconst_0
      36: istore        5
      38: aload_1
      39: invokeinterface #7,  1            // InterfaceMethod javax/interceptor/InvocationContext.proceed:()Ljava/lang/Object;
      44: astore        4
      46: aload_2
      47: iload         5
      49: invokeinterface #8,  2            // InterfaceMethod org/jboss/narayana/compensations/impl/BAControler.completeBusinessActivity:(Z)V
      54: goto          94
      57: astore        6
      59: iconst_1
      60: istore        5
      62: aload_0
      63: aload_1
      64: aload         6
      66: iconst_1
      67: invokespecial #10                 // Method handleException:(Ljavax/interceptor/InvocationContext;Ljava/lang/Exception;Z)V
      70: aload_2
      71: iload         5
      73: invokeinterface #8,  2            // InterfaceMethod org/jboss/narayana/compensations/impl/BAControler.completeBusinessActivity:(Z)V
      78: goto          94
      81: astore        7
      83: aload_2
      84: iload         5
      86: invokeinterface #8,  2            // InterfaceMethod org/jboss/narayana/compensations/impl/BAControler.completeBusinessActivity:(Z)V
      91: aload         7
      93: athrow
      94: aload         4
      96: areturn
    Exception table:
       from    to  target type
          38    46    57   Class java/lang/Exception
          38    46    81   any
          57    70    81   any
          81    83    81   any

  protected java.lang.Object invokeInCallerTx(javax.interceptor.InvocationContext) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: invokeinterface #7,  1            // InterfaceMethod javax/interceptor/InvocationContext.proceed:()Ljava/lang/Object;
       8: astore_2
       9: goto          20
      12: astore_3
      13: aload_0
      14: aload_1
      15: aload_3
      16: iconst_0
      17: invokespecial #10                 // Method handleException:(Ljavax/interceptor/InvocationContext;Ljava/lang/Exception;Z)V
      20: aload_2
      21: areturn
    Exception table:
       from    to  target type
           2     9    12   Class java/lang/Exception

  protected java.lang.Object invokeInNoTx(javax.interceptor.InvocationContext) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokeinterface #7,  1            // InterfaceMethod javax/interceptor/InvocationContext.proceed:()Ljava/lang/Object;
       6: areturn

  private void handleException(javax.interceptor.InvocationContext, java.lang.Exception, boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method getCompensatable:(Ljavax/interceptor/InvocationContext;)Lorg/jboss/narayana/compensations/api/Compensatable;
       5: astore        4
       7: aload_0
       8: aload         4
      10: aload_2
      11: invokespecial #11                 // Method isDontCancelOn:(Lorg/jboss/narayana/compensations/api/Compensatable;Ljava/lang/Exception;)Z
      14: ifeq          19
      17: aload_2
      18: athrow
      19: aload_0
      20: aload         4
      22: aload_2
      23: invokespecial #12                 // Method isCancelOn:(Lorg/jboss/narayana/compensations/api/Compensatable;Ljava/lang/Exception;)Z
      26: ifne          36
      29: aload_2
      30: instanceof    #13                 // class java/lang/RuntimeException
      33: ifeq          45
      36: aload_0
      37: getfield      #14                 // Field compensationManager:Lorg/jboss/narayana/compensations/api/CompensationManager;
      40: invokeinterface #15,  1           // InterfaceMethod org/jboss/narayana/compensations/api/CompensationManager.setCompensateOnly:()V
      45: aload_2
      46: athrow

  private boolean isDontCancelOn(org.jboss.narayana.compensations.api.Compensatable, java.lang.Exception);
    Code:
       0: aload_1
       1: invokeinterface #16,  1           // InterfaceMethod org/jboss/narayana/compensations/api/Compensatable.dontCancelOn:()[Ljava/lang/Class;
       6: astore_3
       7: aload_3
       8: arraylength
       9: istore        4
      11: iconst_0
      12: istore        5
      14: iload         5
      16: iload         4
      18: if_icmpge     47
      21: aload_3
      22: iload         5
      24: aaload
      25: astore        6
      27: aload         6
      29: aload_2
      30: invokevirtual #17                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      33: invokevirtual #18                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
      36: ifeq          41
      39: iconst_1
      40: ireturn
      41: iinc          5, 1
      44: goto          14
      47: iconst_0
      48: ireturn

  private boolean isCancelOn(org.jboss.narayana.compensations.api.Compensatable, java.lang.Exception);
    Code:
       0: aload_1
       1: invokeinterface #19,  1           // InterfaceMethod org/jboss/narayana/compensations/api/Compensatable.cancelOn:()[Ljava/lang/Class;
       6: astore_3
       7: aload_3
       8: arraylength
       9: istore        4
      11: iconst_0
      12: istore        5
      14: iload         5
      16: iload         4
      18: if_icmpge     47
      21: aload_3
      22: iload         5
      24: aaload
      25: astore        6
      27: aload         6
      29: aload_2
      30: invokevirtual #17                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      33: invokevirtual #18                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
      36: ifeq          41
      39: iconst_1
      40: ireturn
      41: iinc          5, 1
      44: goto          14
      47: iconst_0
      48: ireturn

  private org.jboss.narayana.compensations.api.Compensatable getCompensatable(javax.interceptor.InvocationContext);
    Code:
       0: aload_1
       1: invokeinterface #20,  1           // InterfaceMethod javax/interceptor/InvocationContext.getMethod:()Ljava/lang/reflect/Method;
       6: ldc           #21                 // class org/jboss/narayana/compensations/api/Compensatable
       8: invokevirtual #22                 // Method java/lang/reflect/Method.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
      11: checkcast     #21                 // class org/jboss/narayana/compensations/api/Compensatable
      14: astore_2
      15: aload_2
      16: ifnull        21
      19: aload_2
      20: areturn
      21: aload_1
      22: invokeinterface #23,  1           // InterfaceMethod javax/interceptor/InvocationContext.getTarget:()Ljava/lang/Object;
      27: invokevirtual #17                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      30: astore_3
      31: aload_3
      32: ldc           #21                 // class org/jboss/narayana/compensations/api/Compensatable
      34: invokevirtual #24                 // Method java/lang/Class.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
      37: checkcast     #21                 // class org/jboss/narayana/compensations/api/Compensatable
      40: astore_2
      41: aload_2
      42: ifnull        47
      45: aload_2
      46: areturn
      47: aload_1
      48: invokeinterface #20,  1           // InterfaceMethod javax/interceptor/InvocationContext.getMethod:()Ljava/lang/reflect/Method;
      53: invokevirtual #25                 // Method java/lang/reflect/Method.getDeclaringClass:()Ljava/lang/Class;
      56: invokevirtual #26                 // Method java/lang/Class.getAnnotations:()[Ljava/lang/annotation/Annotation;
      59: astore        4
      61: aload         4
      63: arraylength
      64: istore        5
      66: iconst_0
      67: istore        6
      69: iload         6
      71: iload         5
      73: if_icmpge     177
      76: aload         4
      78: iload         6
      80: aaload
      81: astore        7
      83: aload_0
      84: getfield      #27                 // Field beanManager:Ljavax/enterprise/inject/spi/BeanManager;
      87: aload         7
      89: invokeinterface #28,  1           // InterfaceMethod java/lang/annotation/Annotation.annotationType:()Ljava/lang/Class;
      94: invokeinterface #29,  2           // InterfaceMethod javax/enterprise/inject/spi/BeanManager.isStereotype:(Ljava/lang/Class;)Z
      99: ifeq          171
     102: aload_0
     103: getfield      #27                 // Field beanManager:Ljavax/enterprise/inject/spi/BeanManager;
     106: aload         7
     108: invokeinterface #28,  1           // InterfaceMethod java/lang/annotation/Annotation.annotationType:()Ljava/lang/Class;
     113: invokeinterface #30,  2           // InterfaceMethod javax/enterprise/inject/spi/BeanManager.getStereotypeDefinition:(Ljava/lang/Class;)Ljava/util/Set;
     118: invokeinterface #31,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     123: astore        8
     125: aload         8
     127: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     132: ifeq          171
     135: aload         8
     137: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     142: checkcast     #34                 // class java/lang/annotation/Annotation
     145: astore        9
     147: aload         9
     149: invokeinterface #28,  1           // InterfaceMethod java/lang/annotation/Annotation.annotationType:()Ljava/lang/Class;
     154: ldc           #21                 // class org/jboss/narayana/compensations/api/Compensatable
     156: invokevirtual #35                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     159: ifeq          168
     162: aload         9
     164: checkcast     #21                 // class org/jboss/narayana/compensations/api/Compensatable
     167: areturn
     168: goto          125
     171: iinc          6, 1
     174: goto          69
     177: new           #13                 // class java/lang/RuntimeException
     180: dup
     181: ldc           #36                 // String Expected an @Compensatable annotation at class and/or method level
     183: invokespecial #37                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     186: athrow
}
