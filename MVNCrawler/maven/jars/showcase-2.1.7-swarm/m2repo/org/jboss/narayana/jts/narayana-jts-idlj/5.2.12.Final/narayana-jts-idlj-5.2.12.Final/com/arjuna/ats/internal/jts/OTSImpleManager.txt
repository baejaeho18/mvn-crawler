Compiled from "OTSImpleManager.java"
public class com.arjuna.ats.internal.jts.OTSImpleManager {
  private static com.arjuna.ats.internal.jts.orbspecific.TransactionFactoryImple _theFactory;

  private static org.omg.CosTransactions.TransactionFactory _theFactoryRef;

  private static com.arjuna.ats.internal.jts.orbspecific.CurrentImple _current;

  private static org.omg.CosTransactions.Current _currentRef;

  public com.arjuna.ats.internal.jts.OTSImpleManager();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static com.arjuna.ats.internal.jts.orbspecific.CurrentImple current() throws org.omg.CORBA.SystemException;
    Code:
       0: invokestatic  #2                  // Method init:()V
       3: getstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
       6: invokevirtual #4                  // Method com/arjuna/ats/internal/jts/orbspecific/CurrentImple.contextManager:()Lcom/arjuna/ats/internal/jts/context/ContextManager;
       9: invokevirtual #5                  // Method com/arjuna/ats/internal/jts/context/ContextManager.associate:()V
      12: getstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
      15: areturn

  public static com.arjuna.ats.internal.jts.orbspecific.CurrentImple systemCurrent() throws org.omg.CORBA.SystemException;
    Code:
       0: invokestatic  #2                  // Method init:()V
       3: getstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
       6: areturn

  public static org.omg.CosTransactions.Current get_current() throws org.omg.CORBA.SystemException;
    Code:
       0: invokestatic  #2                  // Method init:()V
       3: getstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
       6: invokevirtual #4                  // Method com/arjuna/ats/internal/jts/orbspecific/CurrentImple.contextManager:()Lcom/arjuna/ats/internal/jts/context/ContextManager;
       9: invokevirtual #5                  // Method com/arjuna/ats/internal/jts/context/ContextManager.associate:()V
      12: getstatic     #6                  // Field _currentRef:Lorg/omg/CosTransactions/Current;
      15: areturn

  public static com.arjuna.ats.internal.jts.orbspecific.TransactionFactoryImple factory() throws org.omg.CORBA.SystemException;
    Code:
       0: invokestatic  #2                  // Method init:()V
       3: getstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
       6: areturn

  public static org.omg.CosTransactions.TransactionFactory get_factory() throws org.omg.CORBA.SystemException;
    Code:
       0: invokestatic  #2                  // Method init:()V
       3: getstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
       6: ifnonnull     30
       9: getstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
      12: invokevirtual #9                  // Method com/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple.getReference:()Lorg/omg/CosTransactions/TransactionFactory;
      15: putstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
      18: goto          30
      21: astore_0
      22: new           #11                 // class org/omg/CORBA/UNKNOWN
      25: dup
      26: invokespecial #12                 // Method org/omg/CORBA/UNKNOWN."<init>":()V
      29: athrow
      30: getstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
      33: areturn
    Exception table:
       from    to  target type
           9    18    21   Class java/lang/Exception

  public static boolean localFactory();
    Code:
       0: invokestatic  #2                  // Method init:()V
       3: getstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
       6: ifnull        13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: ireturn

  public static void purge();
    Code:
       0: getstatic     #6                  // Field _currentRef:Lorg/omg/CosTransactions/Current;
       3: ifnull        14
       6: aconst_null
       7: putstatic     #6                  // Field _currentRef:Lorg/omg/CosTransactions/Current;
      10: aconst_null
      11: putstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
      14: getstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
      17: ifnull        38
      20: invokestatic  #13                 // Method com/arjuna/ats/internal/jts/ORBManager.getPOA:()Lcom/arjuna/orbportability/OA;
      23: getstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
      26: invokevirtual #14                 // Method com/arjuna/orbportability/OA.shutdownObject:(Lorg/omg/PortableServer/Servant;)Z
      29: pop
      30: aconst_null
      31: putstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
      34: aconst_null
      35: putstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
      38: return

  private static final synchronized void init();
    Code:
       0: getstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
       3: ifnonnull     301
       6: getstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
       9: ifnonnull     240
      12: iconst_0
      13: istore_0
      14: iconst_0
      15: istore_1
      16: invokestatic  #16                 // Method com/arjuna/ats/jts/common/jtsPropertyManager.getJTSEnvironmentBean:()Lcom/arjuna/ats/jts/common/JTSEnvironmentBean;
      19: invokevirtual #17                 // Method com/arjuna/ats/jts/common/JTSEnvironmentBean.isTransactionManager:()Z
      22: ifeq          59
      25: iconst_1
      26: istore_1
      27: invokestatic  #18                 // Method com/arjuna/orbportability/common/opPropertyManager.getOrbPortabilityEnvironmentBean:()Lcom/arjuna/orbportability/common/OrbPortabilityEnvironmentBean;
      30: invokevirtual #19                 // Method com/arjuna/orbportability/common/OrbPortabilityEnvironmentBean.getResolveService:()Ljava/lang/String;
      33: astore_2
      34: aload_2
      35: ldc           #20                 // String NAME_SERVICE
      37: invokevirtual #21                 // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      40: ifne          48
      43: iconst_2
      44: istore_0
      45: goto          59
      48: aload_2
      49: ldc           #22                 // String BIND_CONNECT
      51: invokevirtual #21                 // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      54: ifne          59
      57: iconst_5
      58: istore_0
      59: iload_1
      60: ifeq          230
      63: iload_0
      64: iconst_5
      65: if_icmpeq     98
      68: iconst_1
      69: anewarray     #23                 // class java/lang/String
      72: astore_2
      73: aload_2
      74: iconst_0
      75: ldc           #24                 // String OTS
      77: aastore
      78: invokestatic  #25                 // Method com/arjuna/ats/internal/jts/ORBManager.getServices:()Lcom/arjuna/orbportability/Services;
      81: ldc           #26                 // String TransactionManagerService
      83: aload_2
      84: iload_0
      85: invokevirtual #27                 // Method com/arjuna/orbportability/Services.getService:(Ljava/lang/String;[Ljava/lang/Object;I)Lorg/omg/CORBA/Object;
      88: astore_3
      89: aconst_null
      90: astore_2
      91: aload_3
      92: invokestatic  #28                 // Method org/omg/CosTransactions/TransactionFactoryHelper.narrow:(Lorg/omg/CORBA/Object;)Lorg/omg/CosTransactions/TransactionFactory;
      95: putstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
      98: getstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
     101: ifnonnull     112
     104: new           #29                 // class org/omg/CORBA/BAD_PARAM
     107: dup
     108: invokespecial #30                 // Method org/omg/CORBA/BAD_PARAM."<init>":()V
     111: athrow
     112: goto          240
     115: astore_2
     116: getstatic     #32                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     119: aload_2
     120: invokeinterface #33,  2           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_otsserverfailed:(Ljava/lang/Throwable;)V
     125: new           #34                 // class com/arjuna/ats/arjuna/exceptions/FatalError
     128: dup
     129: aload_2
     130: invokevirtual #35                 // Method org/omg/CORBA/ORBPackage/InvalidName.toString:()Ljava/lang/String;
     133: aload_2
     134: invokespecial #36                 // Method com/arjuna/ats/arjuna/exceptions/FatalError."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     137: athrow
     138: astore_2
     139: getstatic     #32                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     142: aload_2
     143: invokeinterface #33,  2           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_otsserverfailed:(Ljava/lang/Throwable;)V
     148: new           #34                 // class com/arjuna/ats/arjuna/exceptions/FatalError
     151: dup
     152: aload_2
     153: invokevirtual #37                 // Method org/omg/CORBA/BAD_PARAM.toString:()Ljava/lang/String;
     156: aload_2
     157: invokespecial #36                 // Method com/arjuna/ats/arjuna/exceptions/FatalError."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     160: athrow
     161: astore_2
     162: getstatic     #32                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     165: aload_2
     166: invokeinterface #39,  2           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_otsservererror:(Ljava/lang/Throwable;)V
     171: new           #34                 // class com/arjuna/ats/arjuna/exceptions/FatalError
     174: dup
     175: aload_2
     176: invokevirtual #40                 // Method java/io/IOException.toString:()Ljava/lang/String;
     179: aload_2
     180: invokespecial #36                 // Method com/arjuna/ats/arjuna/exceptions/FatalError."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     183: athrow
     184: astore_2
     185: getstatic     #32                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     188: aload_2
     189: invokeinterface #39,  2           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_otsservererror:(Ljava/lang/Throwable;)V
     194: new           #34                 // class com/arjuna/ats/arjuna/exceptions/FatalError
     197: dup
     198: aload_2
     199: invokevirtual #42                 // Method org/omg/CORBA/SystemException.toString:()Ljava/lang/String;
     202: aload_2
     203: invokespecial #36                 // Method com/arjuna/ats/arjuna/exceptions/FatalError."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     206: athrow
     207: astore_2
     208: getstatic     #32                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     211: aload_2
     212: invokeinterface #39,  2           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_otsservererror:(Ljava/lang/Throwable;)V
     217: new           #34                 // class com/arjuna/ats/arjuna/exceptions/FatalError
     220: dup
     221: aload_2
     222: invokevirtual #44                 // Method org/omg/CORBA/UserException.toString:()Ljava/lang/String;
     225: aload_2
     226: invokespecial #36                 // Method com/arjuna/ats/arjuna/exceptions/FatalError."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     229: athrow
     230: new           #45                 // class com/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple
     233: dup
     234: invokespecial #46                 // Method com/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple."<init>":()V
     237: putstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
     240: getstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
     243: ifnonnull     301
     246: new           #47                 // class com/arjuna/ats/internal/jts/orbspecific/CurrentImple
     249: dup
     250: invokespecial #48                 // Method com/arjuna/ats/internal/jts/orbspecific/CurrentImple."<init>":()V
     253: putstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
     256: getstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
     259: putstatic     #6                  // Field _currentRef:Lorg/omg/CosTransactions/Current;
     262: goto          301
     265: astore_0
     266: aconst_null
     267: putstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
     270: new           #34                 // class com/arjuna/ats/arjuna/exceptions/FatalError
     273: dup
     274: new           #49                 // class java/lang/StringBuilder
     277: dup
     278: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     281: ldc           #51                 // String OTSImpleManager.current:
     283: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     286: aload_0
     287: invokevirtual #53                 // Method java/lang/Exception.toString:()Ljava/lang/String;
     290: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     293: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     296: aload_0
     297: invokespecial #36                 // Method com/arjuna/ats/arjuna/exceptions/FatalError."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     300: athrow
     301: return
    Exception table:
       from    to  target type
          63   112   115   Class org/omg/CORBA/ORBPackage/InvalidName
          63   112   138   Class org/omg/CORBA/BAD_PARAM
          63   112   161   Class java/io/IOException
          63   112   184   Class org/omg/CORBA/SystemException
          63   112   207   Class org/omg/CORBA/UserException
         246   262   265   Class java/lang/Exception

  static {};
    Code:
       0: aconst_null
       1: putstatic     #7                  // Field _theFactory:Lcom/arjuna/ats/internal/jts/orbspecific/TransactionFactoryImple;
       4: aconst_null
       5: putstatic     #8                  // Field _theFactoryRef:Lorg/omg/CosTransactions/TransactionFactory;
       8: aconst_null
       9: putstatic     #3                  // Field _current:Lcom/arjuna/ats/internal/jts/orbspecific/CurrentImple;
      12: aconst_null
      13: putstatic     #6                  // Field _currentRef:Lorg/omg/CosTransactions/Current;
      16: invokestatic  #55                 // Method com/arjuna/ats/internal/jts/Implementations.added:()Z
      19: ifne          25
      22: invokestatic  #56                 // Method com/arjuna/ats/internal/jts/Implementations.initialise:()V
      25: return
}
