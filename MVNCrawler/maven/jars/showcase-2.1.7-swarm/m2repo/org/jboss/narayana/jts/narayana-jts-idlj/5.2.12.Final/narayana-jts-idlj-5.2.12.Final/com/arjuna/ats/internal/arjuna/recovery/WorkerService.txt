Compiled from "WorkerService.java"
public class com.arjuna.ats.internal.arjuna.recovery.WorkerService implements com.arjuna.ats.arjuna.recovery.Service {
  private com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery _periodicRecovery;

  private boolean doWait;

  public com.arjuna.ats.internal.arjuna.recovery.WorkerService(com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field _periodicRecovery:Lcom/arjuna/ats/internal/arjuna/recovery/PeriodicRecovery;
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field doWait:Z
      14: aload_0
      15: aload_1
      16: putfield      #2                  // Field _periodicRecovery:Lcom/arjuna/ats/internal/arjuna/recovery/PeriodicRecovery;
      19: return

  public void doWork(java.io.InputStream, java.io.OutputStream) throws java.io.IOException;
    Code:
       0: new           #4                  // class java/io/BufferedReader
       3: dup
       4: new           #5                  // class java/io/InputStreamReader
       7: dup
       8: aload_1
       9: invokespecial #6                  // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;)V
      12: invokespecial #7                  // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      15: astore_3
      16: new           #8                  // class java/io/PrintWriter
      19: dup
      20: new           #9                  // class java/io/OutputStreamWriter
      23: dup
      24: aload_2
      25: invokespecial #10                 // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;)V
      28: invokespecial #11                 // Method java/io/PrintWriter."<init>":(Ljava/io/Writer;)V
      31: astore        4
      33: aload_3
      34: invokevirtual #12                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
      37: astore        5
      39: aload         5
      41: ldc           #13                 // String PING
      43: invokevirtual #14                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      46: ifeq          59
      49: aload         4
      51: ldc           #15                 // String PONG
      53: invokevirtual #16                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      56: goto          198
      59: aload         5
      61: ldc           #18                 // String SCAN
      63: invokevirtual #14                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      66: ifne          79
      69: aload         5
      71: ldc           #19                 // String ASYNC_SCAN
      73: invokevirtual #14                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      76: ifeq          191
      79: aload         5
      81: ldc           #18                 // String SCAN
      83: invokevirtual #14                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      86: ifeq          113
      89: aload_0
      90: dup
      91: astore        6
      93: monitorenter
      94: aload_0
      95: iconst_1
      96: putfield      #3                  // Field doWait:Z
      99: aload         6
     101: monitorexit
     102: goto          113
     105: astore        7
     107: aload         6
     109: monitorexit
     110: aload         7
     112: athrow
     113: aload_0
     114: getfield      #2                  // Field _periodicRecovery:Lcom/arjuna/ats/internal/arjuna/recovery/PeriodicRecovery;
     117: invokevirtual #20                 // Method com/arjuna/ats/internal/arjuna/recovery/PeriodicRecovery.wakeUp:()V
     120: getstatic     #21                 // Field com/arjuna/ats/arjuna/logging/tsLogger.i18NLogger:Lcom/arjuna/ats/arjuna/logging/arjunaI18NLogger;
     123: invokeinterface #22,  1           // InterfaceMethod com/arjuna/ats/arjuna/logging/arjunaI18NLogger.info_recovery_WorkerService_3:()V
     128: aload         5
     130: ldc           #18                 // String SCAN
     132: invokevirtual #14                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     135: ifeq          181
     138: aload_0
     139: dup
     140: astore        6
     142: monitorenter
     143: aload_0
     144: getfield      #3                  // Field doWait:Z
     147: ifeq          167
     150: aload_0
     151: invokevirtual #23                 // Method java/lang/Object.wait:()V
     154: goto          167
     157: astore        7
     159: getstatic     #21                 // Field com/arjuna/ats/arjuna/logging/tsLogger.i18NLogger:Lcom/arjuna/ats/arjuna/logging/arjunaI18NLogger;
     162: invokeinterface #25,  1           // InterfaceMethod com/arjuna/ats/arjuna/logging/arjunaI18NLogger.info_recovery_WorkerService_4:()V
     167: aload         6
     169: monitorexit
     170: goto          181
     173: astore        8
     175: aload         6
     177: monitorexit
     178: aload         8
     180: athrow
     181: aload         4
     183: ldc           #26                 // String DONE
     185: invokevirtual #16                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     188: goto          198
     191: aload         4
     193: ldc           #27                 // String ERROR
     195: invokevirtual #16                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     198: aload         4
     200: invokevirtual #28                 // Method java/io/PrintWriter.flush:()V
     203: goto          231
     206: astore        5
     208: getstatic     #21                 // Field com/arjuna/ats/arjuna/logging/tsLogger.i18NLogger:Lcom/arjuna/ats/arjuna/logging/arjunaI18NLogger;
     211: invokeinterface #30,  1           // InterfaceMethod com/arjuna/ats/arjuna/logging/arjunaI18NLogger.warn_recovery_WorkerService_2:()V
     216: goto          231
     219: astore        5
     221: getstatic     #21                 // Field com/arjuna/ats/arjuna/logging/tsLogger.i18NLogger:Lcom/arjuna/ats/arjuna/logging/arjunaI18NLogger;
     224: aload         5
     226: invokeinterface #31,  2           // InterfaceMethod com/arjuna/ats/arjuna/logging/arjunaI18NLogger.warn_recovery_WorkerService_1:(Ljava/lang/Throwable;)V
     231: return
    Exception table:
       from    to  target type
          94   102   105   any
         105   110   105   any
         150   154   157   Class java/lang/Exception
         143   170   173   any
         173   178   173   any
          33   203   206   Class java/io/IOException
          33   203   219   Class java/lang/Exception

  public synchronized void notifyDone();
    Code:
       0: aload_0
       1: invokevirtual #32                 // Method java/lang/Object.notifyAll:()V
       4: aload_0
       5: iconst_0
       6: putfield      #3                  // Field doWait:Z
       9: goto          13
      12: astore_1
      13: return
    Exception table:
       from    to  target type
           0     9    12   Class java/lang/Exception
}
