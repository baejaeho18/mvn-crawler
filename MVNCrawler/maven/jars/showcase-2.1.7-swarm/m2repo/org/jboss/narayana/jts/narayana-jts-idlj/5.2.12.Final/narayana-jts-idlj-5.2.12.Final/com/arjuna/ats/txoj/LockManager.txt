Compiled from "LockManager.java"
public class com.arjuna.ats.txoj.LockManager extends com.arjuna.ats.arjuna.StateManager {
  public static final int defaultRetry;

  public static final int defaultSleepTime;

  public static final int waitTotalTimeout;

  protected java.lang.String lockStoreType;

  protected java.lang.String systemKey;

  protected com.arjuna.ats.internal.txoj.LockList locksHeld;

  protected final java.lang.Object locksHeldLockObject;

  protected com.arjuna.ats.txoj.lockstore.LockStore lockStore;

  protected boolean stateLoaded;

  protected boolean hasBeenLocked;

  protected boolean objectLocked;

  protected java.util.concurrent.locks.ReentrantLock mutex;

  protected com.arjuna.ats.internal.txoj.LockConflictManager conflictManager;

  protected static final int DOZE_TIME;

  protected static final boolean nestedLocking;

  public void finalize() throws java.lang.Throwable;
    Code:
       0: getstatic     #1                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          49
       9: getstatic     #1                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #5                  // String LockManager.finalize() for object-id
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: invokevirtual #7                  // Method get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
      28: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: ldc           #9                  // String  type
      33: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_0
      37: invokevirtual #10                 // Method type:()Ljava/lang/String;
      40: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      49: aload_0
      50: invokevirtual #13                 // Method status:()I
      53: iconst_3
      54: if_icmpne     85
      57: invokestatic  #15                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.Current:()Lcom/arjuna/ats/arjuna/coordinator/BasicAction;
      60: astore_1
      61: aload_1
      62: ifnull        85
      65: aload_1
      66: invokevirtual #16                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.status:()I
      69: ifne          85
      72: getstatic     #17                 // Field com/arjuna/ats/arjuna/logging/tsLogger.i18NLogger:Lcom/arjuna/ats/arjuna/logging/arjunaI18NLogger;
      75: invokeinterface #18,  1           // InterfaceMethod com/arjuna/ats/arjuna/logging/arjunaI18NLogger.warn_StateManager_1:()V
      80: aload_0
      81: iconst_0
      82: invokevirtual #19                 // Method cleanup:(Z)V
      85: iconst_0
      86: istore_1
      87: aload_0
      88: invokevirtual #20                 // Method cleanUp:()V
      91: aload_0
      92: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      95: ifnull        110
      98: aload_0
      99: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     102: invokevirtual #22                 // Method java/util/concurrent/locks/ReentrantLock.isLocked:()Z
     105: ifeq          110
     108: iconst_1
     109: istore_1
     110: aload_0
     111: aconst_null
     112: putfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     115: aload_0
     116: aconst_null
     117: putfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
     120: aload_0
     121: aconst_null
     122: putfield      #25                 // Field conflictManager:Lcom/arjuna/ats/internal/txoj/LockConflictManager;
     125: iload_1
     126: ifeq          136
     129: aload_0
     130: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     133: invokevirtual #26                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     136: goto          140
     139: astore_2
     140: aload_0
     141: aconst_null
     142: putfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     145: return
    Exception table:
       from    to  target type
         125   136   139   Class java/lang/Throwable

  public boolean propagate(com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid);
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          48
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #29                 // String LockManager::propagate(
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: ldc           #30                 // String ,
      30: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_2
      34: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      37: ldc           #31                 // String )
      39: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      48: iconst_0
      49: istore_3
      50: bipush        10
      52: istore        4
      54: aload_0
      55: invokevirtual #32                 // Method lockMutex:()Z
      58: ifeq          286
      61: aload_0
      62: getfield      #33                 // Field locksHeldLockObject:Ljava/lang/Object;
      65: dup
      66: astore        5
      68: monitorenter
      69: aload_0
      70: invokevirtual #34                 // Method loadState:()Z
      73: ifeq          169
      76: aload_0
      77: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      80: astore        6
      82: aconst_null
      83: astore        7
      85: aload_0
      86: new           #35                 // class com/arjuna/ats/internal/txoj/LockList
      89: dup
      90: invokespecial #36                 // Method com/arjuna/ats/internal/txoj/LockList."<init>":()V
      93: putfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      96: aload_0
      97: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     100: ifnull        157
     103: aload         6
     105: invokevirtual #37                 // Method com/arjuna/ats/internal/txoj/LockList.pop:()Lcom/arjuna/ats/txoj/Lock;
     108: dup
     109: astore        7
     111: ifnull        149
     114: aload         7
     116: invokevirtual #38                 // Method com/arjuna/ats/txoj/Lock.getCurrentOwner:()Lcom/arjuna/ats/arjuna/common/Uid;
     119: aload_1
     120: invokevirtual #39                 // Method com/arjuna/ats/arjuna/common/Uid.equals:(Lcom/arjuna/ats/arjuna/common/Uid;)Z
     123: ifeq          131
     126: aload         7
     128: invokevirtual #40                 // Method com/arjuna/ats/txoj/Lock.propagate:()V
     131: aload_0
     132: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     135: aload         7
     137: invokevirtual #41                 // Method com/arjuna/ats/internal/txoj/LockList.insert:(Lcom/arjuna/ats/txoj/Lock;)Z
     140: ifne          103
     143: aconst_null
     144: astore        7
     146: goto          103
     149: aconst_null
     150: astore        6
     152: iconst_1
     153: istore_3
     154: goto          169
     157: aload_0
     158: invokevirtual #42                 // Method freeState:()V
     161: new           #43                 // class java/lang/NullPointerException
     164: dup
     165: invokespecial #44                 // Method java/lang/NullPointerException."<init>":()V
     168: athrow
     169: iload_3
     170: ifeq          178
     173: aload_0
     174: invokevirtual #45                 // Method unloadState:()Z
     177: istore_3
     178: aload         5
     180: monitorexit
     181: goto          192
     184: astore        8
     186: aload         5
     188: monitorexit
     189: aload         8
     191: athrow
     192: goto          199
     195: astore        5
     197: iconst_0
     198: istore_3
     199: iload_3
     200: ifne          231
     203: getstatic     #1                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
     206: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
     209: ifeq          220
     212: getstatic     #1                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
     215: ldc           #46                 // String LockManager.propagate() Dozing
     217: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
     220: aload_0
     221: getfield      #25                 // Field conflictManager:Lcom/arjuna/ats/internal/txoj/LockConflictManager;
     224: iconst_1
     225: ldc           #48                 // int 1000000
     227: invokevirtual #49                 // Method com/arjuna/ats/internal/txoj/LockConflictManager.wait:(II)I
     230: pop
     231: iload_3
     232: ifne          243
     235: iinc          4, -1
     238: iload         4
     240: ifgt          61
     243: iload_3
     244: ifne          281
     247: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     250: invokeinterface #51,  1           // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_1:()V
     255: aload_0
     256: getfield      #33                 // Field locksHeldLockObject:Ljava/lang/Object;
     259: dup
     260: astore        5
     262: monitorenter
     263: aload_0
     264: invokevirtual #42                 // Method freeState:()V
     267: aload         5
     269: monitorexit
     270: goto          281
     273: astore        9
     275: aload         5
     277: monitorexit
     278: aload         9
     280: athrow
     281: aload_0
     282: invokevirtual #52                 // Method unlockMutex:()Z
     285: pop
     286: iload_3
     287: ireturn
    Exception table:
       from    to  target type
          69   181   184   any
         184   189   184   any
          61   192   195   Class java/lang/NullPointerException
         263   270   273   any
         273   278   273   any

  public final boolean releaseAll(com.arjuna.ats.arjuna.common.Uid);
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          39
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #53                 // String LockManager::releaseAll(
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: ldc           #31                 // String )
      30: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      39: aload_0
      40: aload_1
      41: iconst_1
      42: invokevirtual #54                 // Method doRelease:(Lcom/arjuna/ats/arjuna/common/Uid;Z)Z
      45: ireturn

  public final boolean releaselock(com.arjuna.ats.arjuna.common.Uid);
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          39
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #55                 // String LockManager::releaseLock(
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: ldc           #31                 // String )
      30: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      39: aload_0
      40: aload_1
      41: iconst_0
      42: invokevirtual #54                 // Method doRelease:(Lcom/arjuna/ats/arjuna/common/Uid;Z)Z
      45: ireturn

  public final int setlock(com.arjuna.ats.txoj.Lock);
    Code:
       0: aload_0
       1: aload_1
       2: bipush        100
       4: sipush        250
       7: invokevirtual #56                 // Method setlock:(Lcom/arjuna/ats/txoj/Lock;II)I
      10: ireturn

  public final int setlock(com.arjuna.ats.txoj.Lock, int);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: sipush        250
       6: invokevirtual #56                 // Method setlock:(Lcom/arjuna/ats/txoj/Lock;II)I
       9: ireturn

  public int setlock(com.arjuna.ats.txoj.Lock, int, int);
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          57
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #57                 // String LockManager::setlock(
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: ldc           #30                 // String ,
      30: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: iload_2
      34: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      37: ldc           #30                 // String ,
      39: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: iload_3
      43: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      46: ldc           #31                 // String )
      48: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      54: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      57: iconst_1
      58: istore        4
      60: invokestatic  #15                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.Current:()Lcom/arjuna/ats/arjuna/coordinator/BasicAction;
      63: astore        5
      65: aload         5
      67: ifnonnull     79
      70: new           #60                 // class java/lang/Object
      73: dup
      74: invokespecial #61                 // Method java/lang/Object."<init>":()V
      77: astore        5
      79: aload         5
      81: dup
      82: astore        6
      84: monitorenter
      85: aload_0
      86: invokevirtual #32                 // Method lockMutex:()Z
      89: ifne          97
      92: iconst_1
      93: aload         6
      95: monitorexit
      96: ireturn
      97: iconst_0
      98: istore        7
     100: aconst_null
     101: astore        8
     103: iconst_0
     104: istore        9
     106: aconst_null
     107: astore        10
     109: aload_1
     110: ifnonnull     135
     113: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     116: invokeinterface #63,  1           // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_2:()V
     121: iconst_1
     122: istore        11
     124: aload_0
     125: invokevirtual #52                 // Method unlockMutex:()Z
     128: pop
     129: aload         6
     131: monitorexit
     132: iload         11
     134: ireturn
     135: invokestatic  #15                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.Current:()Lcom/arjuna/ats/arjuna/coordinator/BasicAction;
     138: astore        10
     140: aload         10
     142: ifnull        190
     145: aload         10
     147: invokevirtual #64                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.getHierarchy:()Lcom/arjuna/ats/arjuna/coordinator/ActionHierarchy;
     150: astore        11
     152: aload         11
     154: ifnull        166
     157: aload_1
     158: aload         11
     160: invokevirtual #65                 // Method com/arjuna/ats/txoj/Lock.changeHierarchy:(Lcom/arjuna/ats/arjuna/coordinator/ActionHierarchy;)V
     163: goto          190
     166: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     169: invokeinterface #66,  1           // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_3:()V
     174: aconst_null
     175: astore_1
     176: iconst_1
     177: istore        12
     179: aload_0
     180: invokevirtual #52                 // Method unlockMutex:()Z
     183: pop
     184: aload         6
     186: monitorexit
     187: iload         12
     189: ireturn
     190: aload_0
     191: invokespecial #67                 // Method com/arjuna/ats/arjuna/StateManager.loadObjectState:()Z
     194: ifeq          201
     197: aload_0
     198: invokespecial #68                 // Method com/arjuna/ats/arjuna/StateManager.setupStore:()V
     201: iload         7
     203: ifne          499
     206: iload_2
     207: ifge          220
     210: iload_2
     211: bipush        -100
     213: if_icmpne     499
     216: iload_3
     217: ifle          499
     220: aload_0
     221: getfield      #33                 // Field locksHeldLockObject:Ljava/lang/Object;
     224: dup
     225: astore        11
     227: monitorenter
     228: iconst_0
     229: istore        7
     231: aload_0
     232: invokevirtual #34                 // Method loadState:()Z
     235: ifeq          248
     238: aload_0
     239: aload_1
     240: invokevirtual #69                 // Method lockConflict:(Lcom/arjuna/ats/txoj/Lock;)I
     243: istore        7
     245: goto          256
     248: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     251: invokeinterface #70,  1           // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_4:()V
     256: iload         7
     258: ifeq          367
     261: aload_1
     262: invokevirtual #71                 // Method com/arjuna/ats/txoj/Lock.modifiesObject:()Z
     265: istore        9
     267: aload_0
     268: invokespecial #72                 // Method com/arjuna/ats/arjuna/StateManager.activate:()Z
     271: ifeq          356
     274: iconst_0
     275: istore        4
     277: iload         7
     279: iconst_1
     280: if_icmpne     367
     283: iconst_2
     284: istore        12
     286: aload         10
     288: ifnull        339
     291: new           #74                 // class com/arjuna/ats/internal/txoj/abstractrecords/LockRecord
     294: dup
     295: aload_0
     296: iload         9
     298: ifeq          305
     301: iconst_0
     302: goto          306
     305: iconst_1
     306: aload         10
     308: invokespecial #75                 // Method com/arjuna/ats/internal/txoj/abstractrecords/LockRecord."<init>":(Lcom/arjuna/ats/txoj/LockManager;ZLcom/arjuna/ats/arjuna/coordinator/BasicAction;)V
     311: astore        8
     313: aload         10
     315: aload         8
     317: invokevirtual #76                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.add:(Lcom/arjuna/ats/arjuna/coordinator/AbstractRecord;)I
     320: dup
     321: istore        12
     323: iconst_2
     324: if_icmpeq     339
     327: aconst_null
     328: astore        8
     330: iload         12
     332: iconst_3
     333: if_icmpne     339
     336: iconst_1
     337: istore        4
     339: iload         4
     341: ifne          353
     344: aload_0
     345: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     348: aload_1
     349: invokevirtual #41                 // Method com/arjuna/ats/internal/txoj/LockList.insert:(Lcom/arjuna/ats/txoj/Lock;)Z
     352: pop
     353: goto          367
     356: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     359: invokeinterface #77,  1           // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_5:()V
     364: iconst_1
     365: istore        4
     367: iload         4
     369: ifne          399
     372: iload         7
     374: iconst_1
     375: if_icmpne     399
     378: aload_0
     379: invokevirtual #45                 // Method unloadState:()Z
     382: ifne          403
     385: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     388: invokeinterface #78,  1           // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_6:()V
     393: iconst_1
     394: istore        4
     396: goto          403
     399: aload_0
     400: invokevirtual #42                 // Method freeState:()V
     403: iload         4
     405: ifne          434
     408: iload         9
     410: ifeq          434
     413: aload_0
     414: invokespecial #79                 // Method com/arjuna/ats/arjuna/StateManager.modified:()Z
     417: ifeq          428
     420: aload_0
     421: iconst_1
     422: putfield      #80                 // Field hasBeenLocked:Z
     425: goto          434
     428: iconst_0
     429: istore        7
     431: iconst_1
     432: istore        4
     434: iload         7
     436: ifne          443
     439: aload_0
     440: invokevirtual #42                 // Method freeState:()V
     443: aload         11
     445: monitorexit
     446: goto          457
     449: astore        13
     451: aload         11
     453: monitorexit
     454: aload         13
     456: athrow
     457: iload         7
     459: ifne          201
     462: iload_2
     463: ifeq          487
     466: iload_3
     467: ifle          485
     470: iload_3
     471: aload_0
     472: getfield      #25                 // Field conflictManager:Lcom/arjuna/ats/internal/txoj/LockConflictManager;
     475: iload_2
     476: iload_3
     477: invokevirtual #49                 // Method com/arjuna/ats/internal/txoj/LockConflictManager.wait:(II)I
     480: isub
     481: istore_3
     482: goto          487
     485: iconst_0
     486: istore_2
     487: iload_2
     488: bipush        -100
     490: if_icmpeq     201
     493: iinc          2, -1
     496: goto          201
     499: aload_0
     500: invokevirtual #52                 // Method unlockMutex:()Z
     503: pop
     504: goto          517
     507: astore        14
     509: aload_0
     510: invokevirtual #52                 // Method unlockMutex:()Z
     513: pop
     514: aload         14
     516: athrow
     517: aload         6
     519: monitorexit
     520: goto          531
     523: astore        15
     525: aload         6
     527: monitorexit
     528: aload         15
     530: athrow
     531: iload         4
     533: ireturn
    Exception table:
       from    to  target type
         228   446   449   any
         449   454   449   any
          97   124   507   any
         135   179   507   any
         190   499   507   any
         507   509   507   any
          85    96   523   any
          97   132   523   any
         135   187   523   any
         190   520   523   any
         523   528   523   any

  public void print(java.io.PrintWriter);
    Code:
       0: new           #81                 // class com/arjuna/ats/internal/txoj/LockListIterator
       3: dup
       4: aload_0
       5: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
       8: invokespecial #82                 // Method com/arjuna/ats/internal/txoj/LockListIterator."<init>":(Lcom/arjuna/ats/internal/txoj/LockList;)V
      11: astore_2
      12: aload_1
      13: new           #3                  // class java/lang/StringBuilder
      16: dup
      17: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #83                 // String LocalLockManager for object
      22: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_0
      26: invokevirtual #7                  // Method get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
      29: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      32: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      35: invokevirtual #84                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      38: aload_0
      39: getfield      #85                 // Field stateLoaded:Z
      42: ifne          54
      45: aload_1
      46: ldc           #86                 // String No loaded state
      48: invokevirtual #84                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      51: goto          118
      54: aload_0
      55: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      58: ifnull        112
      61: aload_1
      62: new           #3                  // class java/lang/StringBuilder
      65: dup
      66: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      69: ldc           #87                 // String \tCurrently holding :
      71: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: aload_0
      75: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      78: invokevirtual #88                 // Method com/arjuna/ats/internal/txoj/LockList.entryCount:()I
      81: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      84: ldc           #89                 // String  locks
      86: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      92: invokevirtual #84                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      95: aload_2
      96: invokevirtual #90                 // Method com/arjuna/ats/internal/txoj/LockListIterator.iterate:()Lcom/arjuna/ats/txoj/Lock;
      99: dup
     100: astore_3
     101: ifnull        118
     104: aload_3
     105: aload_1
     106: invokevirtual #91                 // Method com/arjuna/ats/txoj/Lock.print:(Ljava/io/PrintWriter;)V
     109: goto          95
     112: aload_1
     113: ldc           #92                 // String Currently holding : 0 locks
     115: invokevirtual #84                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     118: return

  public void printState(java.io.PrintWriter);
    Code:
       0: aload_0
       1: getfield      #33                 // Field locksHeldLockObject:Ljava/lang/Object;
       4: dup
       5: astore_2
       6: monitorenter
       7: iconst_0
       8: istore_3
       9: aload_0
      10: getfield      #85                 // Field stateLoaded:Z
      13: ifne          23
      16: aload_0
      17: invokevirtual #34                 // Method loadState:()Z
      20: pop
      21: iconst_1
      22: istore_3
      23: aload_0
      24: aload_1
      25: invokevirtual #93                 // Method print:(Ljava/io/PrintWriter;)V
      28: iload_3
      29: ifeq          36
      32: aload_0
      33: invokevirtual #42                 // Method freeState:()V
      36: aload_2
      37: monitorexit
      38: goto          48
      41: astore        4
      43: aload_2
      44: monitorexit
      45: aload         4
      47: athrow
      48: return
    Exception table:
       from    to  target type
           7    38    41   any
          41    45    41   any

  public java.lang.String type();
    Code:
       0: ldc           #94                 // String StateManager/LockManager
       2: areturn

  protected com.arjuna.ats.txoj.LockManager(com.arjuna.ats.arjuna.common.Uid);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: iconst_0
       4: invokespecial #97                 // Method "<init>":(Lcom/arjuna/ats/arjuna/common/Uid;II)V
       7: return

  protected com.arjuna.ats.txoj.LockManager(com.arjuna.ats.arjuna.common.Uid, int);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iconst_0
       4: invokespecial #97                 // Method "<init>":(Lcom/arjuna/ats/arjuna/common/Uid;II)V
       7: return

  protected com.arjuna.ats.txoj.LockManager(com.arjuna.ats.arjuna.common.Uid, int, int);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iload_3
       4: invokespecial #98                 // Method com/arjuna/ats/arjuna/StateManager."<init>":(Lcom/arjuna/ats/arjuna/common/Uid;II)V
       7: aload_0
       8: invokestatic  #99                 // Method com/arjuna/ats/txoj/common/txojPropertyManager.getTxojEnvironmentBean:()Lcom/arjuna/ats/txoj/common/TxojEnvironmentBean;
      11: invokevirtual #100                // Method com/arjuna/ats/txoj/common/TxojEnvironmentBean.getLockStoreType:()Ljava/lang/String;
      14: putfield      #101                // Field lockStoreType:Ljava/lang/String;
      17: aload_0
      18: new           #60                 // class java/lang/Object
      21: dup
      22: invokespecial #61                 // Method java/lang/Object."<init>":()V
      25: putfield      #33                 // Field locksHeldLockObject:Ljava/lang/Object;
      28: aload_0
      29: new           #102                // class java/util/concurrent/locks/ReentrantLock
      32: dup
      33: invokespecial #103                // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      36: putfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      39: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      42: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
      45: ifeq          78
      48: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      51: new           #3                  // class java/lang/StringBuilder
      54: dup
      55: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      58: ldc           #104                // String LockManager::LockManager(
      60: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: aload_1
      64: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      67: ldc           #31                 // String )
      69: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      75: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      78: aload_0
      79: aconst_null
      80: putfield      #105                // Field systemKey:Ljava/lang/String;
      83: aload_0
      84: new           #35                 // class com/arjuna/ats/internal/txoj/LockList
      87: dup
      88: invokespecial #36                 // Method com/arjuna/ats/internal/txoj/LockList."<init>":()V
      91: putfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      94: aload_0
      95: aconst_null
      96: putfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
      99: aload_0
     100: iconst_0
     101: putfield      #85                 // Field stateLoaded:Z
     104: aload_0
     105: iconst_0
     106: putfield      #80                 // Field hasBeenLocked:Z
     109: aload_0
     110: iconst_0
     111: putfield      #106                // Field objectLocked:Z
     114: aload_0
     115: new           #107                // class com/arjuna/ats/internal/txoj/LockConflictManager
     118: dup
     119: aload_0
     120: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     123: invokespecial #108                // Method com/arjuna/ats/internal/txoj/LockConflictManager."<init>":(Ljava/util/concurrent/locks/ReentrantLock;)V
     126: putfield      #25                 // Field conflictManager:Lcom/arjuna/ats/internal/txoj/LockConflictManager;
     129: return

  protected com.arjuna.ats.txoj.LockManager();
    Code:
       0: aload_0
       1: iconst_0
       2: invokespecial #109                // Method "<init>":(I)V
       5: return

  protected com.arjuna.ats.txoj.LockManager(int);
    Code:
       0: aload_0
       1: iload_1
       2: iconst_0
       3: invokespecial #110                // Method "<init>":(II)V
       6: return

  protected com.arjuna.ats.txoj.LockManager(int, int);
    Code:
       0: aload_0
       1: iload_1
       2: iload_2
       3: invokespecial #111                // Method com/arjuna/ats/arjuna/StateManager."<init>":(II)V
       6: aload_0
       7: invokestatic  #99                 // Method com/arjuna/ats/txoj/common/txojPropertyManager.getTxojEnvironmentBean:()Lcom/arjuna/ats/txoj/common/TxojEnvironmentBean;
      10: invokevirtual #100                // Method com/arjuna/ats/txoj/common/TxojEnvironmentBean.getLockStoreType:()Ljava/lang/String;
      13: putfield      #101                // Field lockStoreType:Ljava/lang/String;
      16: aload_0
      17: new           #60                 // class java/lang/Object
      20: dup
      21: invokespecial #61                 // Method java/lang/Object."<init>":()V
      24: putfield      #33                 // Field locksHeldLockObject:Ljava/lang/Object;
      27: aload_0
      28: new           #102                // class java/util/concurrent/locks/ReentrantLock
      31: dup
      32: invokespecial #103                // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      35: putfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      38: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      41: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
      44: ifeq          77
      47: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      50: new           #3                  // class java/lang/StringBuilder
      53: dup
      54: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      57: ldc           #104                // String LockManager::LockManager(
      59: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: iload_1
      63: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      66: ldc           #31                 // String )
      68: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      74: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      77: aload_0
      78: aconst_null
      79: putfield      #105                // Field systemKey:Ljava/lang/String;
      82: aload_0
      83: new           #35                 // class com/arjuna/ats/internal/txoj/LockList
      86: dup
      87: invokespecial #36                 // Method com/arjuna/ats/internal/txoj/LockList."<init>":()V
      90: putfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      93: aload_0
      94: aconst_null
      95: putfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
      98: aload_0
      99: iconst_0
     100: putfield      #85                 // Field stateLoaded:Z
     103: aload_0
     104: iconst_0
     105: putfield      #80                 // Field hasBeenLocked:Z
     108: aload_0
     109: iconst_0
     110: putfield      #106                // Field objectLocked:Z
     113: aload_0
     114: new           #107                // class com/arjuna/ats/internal/txoj/LockConflictManager
     117: dup
     118: aload_0
     119: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     122: invokespecial #108                // Method com/arjuna/ats/internal/txoj/LockConflictManager."<init>":(Ljava/util/concurrent/locks/ReentrantLock;)V
     125: putfield      #25                 // Field conflictManager:Lcom/arjuna/ats/internal/txoj/LockConflictManager;
     128: return

  protected void terminate();
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          37
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #112                // String LockManager::terminate() for object-id
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: invokevirtual #7                  // Method get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
      28: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      37: aload_0
      38: invokevirtual #20                 // Method cleanUp:()V
      41: aload_0
      42: invokespecial #113                // Method com/arjuna/ats/arjuna/StateManager.terminate:()V
      45: return

  protected final void cleanUp();
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          37
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #114                // String LockManager::cleanUp() for object-id
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: invokevirtual #7                  // Method get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
      28: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      37: aload_0
      38: invokevirtual #32                 // Method lockMutex:()Z
      41: ifeq          177
      44: aload_0
      45: getfield      #80                 // Field hasBeenLocked:Z
      48: ifeq          172
      51: aload_0
      52: getfield      #115                // Field com/arjuna/ats/arjuna/StateManager.objectModel:I
      55: iconst_1
      56: if_icmpne     71
      59: aload_0
      60: getfield      #105                // Field systemKey:Ljava/lang/String;
      63: ifnonnull     71
      66: aload_0
      67: invokevirtual #116                // Method initialise:()Z
      70: pop
      71: invokestatic  #15                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.Current:()Lcom/arjuna/ats/arjuna/coordinator/BasicAction;
      74: astore_1
      75: aload_0
      76: getfield      #117                // Field com/arjuna/ats/arjuna/StateManager.usingActions:Ljava/util/Hashtable;
      79: dup
      80: astore_2
      81: monitorenter
      82: aload_0
      83: getfield      #117                // Field com/arjuna/ats/arjuna/StateManager.usingActions:Ljava/util/Hashtable;
      86: ifnull        155
      89: aload_0
      90: getfield      #117                // Field com/arjuna/ats/arjuna/StateManager.usingActions:Ljava/util/Hashtable;
      93: invokevirtual #118                // Method java/util/Hashtable.elements:()Ljava/util/Enumeration;
      96: astore_3
      97: aload_3
      98: invokeinterface #119,  1          // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
     103: ifeq          155
     106: aload_3
     107: invokeinterface #120,  1          // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
     112: checkcast     #121                // class com/arjuna/ats/arjuna/coordinator/BasicAction
     115: astore        4
     117: aload         4
     119: ifnull        152
     122: new           #122                // class com/arjuna/ats/internal/txoj/abstractrecords/CadaverLockRecord
     125: dup
     126: aload_0
     127: getfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
     130: aload_0
     131: aload         4
     133: invokespecial #123                // Method com/arjuna/ats/internal/txoj/abstractrecords/CadaverLockRecord."<init>":(Lcom/arjuna/ats/txoj/lockstore/LockStore;Lcom/arjuna/ats/txoj/LockManager;Lcom/arjuna/ats/arjuna/coordinator/BasicAction;)V
     136: astore        5
     138: aload         4
     140: aload         5
     142: invokevirtual #76                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.add:(Lcom/arjuna/ats/arjuna/coordinator/AbstractRecord;)I
     145: iconst_2
     146: if_icmpeq     152
     149: aconst_null
     150: astore        5
     152: goto          97
     155: aload_2
     156: monitorexit
     157: goto          167
     160: astore        6
     162: aload_2
     163: monitorexit
     164: aload         6
     166: athrow
     167: aload_0
     168: iconst_0
     169: putfield      #80                 // Field hasBeenLocked:Z
     172: aload_0
     173: invokevirtual #52                 // Method unlockMutex:()Z
     176: pop
     177: return
    Exception table:
       from    to  target type
          82   157   160   any
         160   164   160   any

  protected boolean doRelease(com.arjuna.ats.arjuna.common.Uid, boolean);
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          48
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #124                // String LockManager::doRelease(
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: ldc           #30                 // String ,
      30: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: iload_2
      34: invokevirtual #125                // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      37: ldc           #31                 // String )
      39: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      48: aload_0
      49: invokevirtual #32                 // Method lockMutex:()Z
      52: ifne          57
      55: iconst_0
      56: ireturn
      57: aconst_null
      58: astore_3
      59: aconst_null
      60: astore        4
      62: iconst_0
      63: istore        5
      65: iconst_0
      66: istore        6
      68: bipush        10
      70: istore        7
      72: iconst_0
      73: istore        8
      75: iconst_0
      76: istore        9
      78: invokestatic  #15                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.Current:()Lcom/arjuna/ats/arjuna/coordinator/BasicAction;
      81: astore        10
      83: aload_0
      84: getfield      #33                 // Field locksHeldLockObject:Ljava/lang/Object;
      87: dup
      88: astore        11
      90: monitorenter
      91: aload_0
      92: invokevirtual #34                 // Method loadState:()Z
      95: ifeq          193
      98: iconst_1
      99: istore        8
     101: new           #81                 // class com/arjuna/ats/internal/txoj/LockListIterator
     104: dup
     105: aload_0
     106: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     109: invokespecial #82                 // Method com/arjuna/ats/internal/txoj/LockListIterator."<init>":(Lcom/arjuna/ats/internal/txoj/LockList;)V
     112: astore        12
     114: aconst_null
     115: astore_3
     116: aload         12
     118: invokevirtual #90                 // Method com/arjuna/ats/internal/txoj/LockListIterator.iterate:()Lcom/arjuna/ats/txoj/Lock;
     121: dup
     122: astore        4
     124: ifnull        187
     127: aconst_null
     128: astore        13
     130: iload_2
     131: ifeq          144
     134: aload         4
     136: invokevirtual #38                 // Method com/arjuna/ats/txoj/Lock.getCurrentOwner:()Lcom/arjuna/ats/arjuna/common/Uid;
     139: astore        13
     141: goto          151
     144: aload         4
     146: invokevirtual #126                // Method com/arjuna/ats/txoj/Lock.get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
     149: astore        13
     151: aload_1
     152: aload         13
     154: invokevirtual #39                 // Method com/arjuna/ats/arjuna/common/Uid.equals:(Lcom/arjuna/ats/arjuna/common/Uid;)Z
     157: ifeq          181
     160: aload_0
     161: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     164: aload_3
     165: invokevirtual #127                // Method com/arjuna/ats/internal/txoj/LockList.forgetNext:(Lcom/arjuna/ats/txoj/Lock;)V
     168: aconst_null
     169: astore        4
     171: iconst_1
     172: istore        5
     174: iload_2
     175: ifne          184
     178: goto          187
     181: aload         4
     183: astore_3
     184: goto          116
     187: iconst_1
     188: istore        6
     190: goto          200
     193: aload_0
     194: invokevirtual #42                 // Method freeState:()V
     197: iconst_0
     198: istore        6
     200: iload         6
     202: ifne          236
     205: getstatic     #1                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
     208: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
     211: ifeq          222
     214: getstatic     #1                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
     217: ldc           #128                // String LockManager.doRelease() Dozing
     219: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
     222: ldc2_w        #129                // long 1000000l
     225: invokestatic  #131                // Method java/lang/Thread.sleep:(J)V
     228: goto          312
     231: astore        12
     233: goto          312
     236: iload         8
     238: ifne          252
     241: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     244: invokeinterface #133,  1          // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_7:()V
     249: goto          312
     252: iload         5
     254: ifne          274
     257: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
     260: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
     263: ifeq          274
     266: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
     269: ldc           #134                // String  *** CANNOT locate locks  ***
     271: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
     274: bipush        10
     276: istore        12
     278: aload_0
     279: invokevirtual #45                 // Method unloadState:()Z
     282: ifne          296
     285: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     288: invokeinterface #135,  1          // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_8:()V
     293: goto          299
     296: iconst_1
     297: istore        9
     299: iinc          12, -1
     302: iload         12
     304: ifle          312
     307: iload         9
     309: ifeq          278
     312: iload         6
     314: ifne          325
     317: iinc          7, -1
     320: iload         7
     322: ifgt          91
     325: aload         11
     327: monitorexit
     328: goto          339
     331: astore        14
     333: aload         11
     335: monitorexit
     336: aload         14
     338: athrow
     339: aload_0
     340: getfield      #25                 // Field conflictManager:Lcom/arjuna/ats/internal/txoj/LockConflictManager;
     343: invokevirtual #136                // Method com/arjuna/ats/internal/txoj/LockConflictManager.signal:()V
     346: aload_0
     347: invokevirtual #52                 // Method unlockMutex:()Z
     350: pop
     351: goto          364
     354: astore        15
     356: aload_0
     357: invokevirtual #52                 // Method unlockMutex:()Z
     360: pop
     361: aload         15
     363: athrow
     364: iload         9
     366: ireturn
    Exception table:
       from    to  target type
         205   228   231   Class java/lang/InterruptedException
          91   328   331   any
         331   336   331   any
          83   346   354   any
         354   356   354   any

  protected final void freeState();
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          17
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: ldc           #137                // String LockManager::freeState()
      14: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      17: aload_0
      18: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      21: ifnull        79
      24: aload_0
      25: getfield      #115                // Field com/arjuna/ats/arjuna/StateManager.objectModel:I
      28: ifeq          71
      31: aload_0
      32: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      35: invokevirtual #37                 // Method com/arjuna/ats/internal/txoj/LockList.pop:()Lcom/arjuna/ats/txoj/Lock;
      38: ifnull        44
      41: goto          31
      44: aload_0
      45: iconst_0
      46: putfield      #85                 // Field stateLoaded:Z
      49: aload_0
      50: getfield      #106                // Field objectLocked:Z
      53: ifeq          89
      56: aload_0
      57: iconst_0
      58: putfield      #106                // Field objectLocked:Z
      61: aload_0
      62: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      65: invokevirtual #26                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      68: goto          89
      71: aload_0
      72: iconst_0
      73: putfield      #85                 // Field stateLoaded:Z
      76: goto          89
      79: aload_0
      80: iconst_0
      81: putfield      #85                 // Field stateLoaded:Z
      84: aload_0
      85: iconst_0
      86: putfield      #106                // Field objectLocked:Z
      89: return

  protected final boolean initialise();
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          17
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: ldc           #138                // String LockManager::initialise()
      14: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      17: iconst_0
      18: istore_1
      19: aload_0
      20: getfield      #105                // Field systemKey:Ljava/lang/String;
      23: ifnonnull     128
      26: aload_0
      27: aload_0
      28: invokevirtual #10                 // Method type:()Ljava/lang/String;
      31: putfield      #105                // Field systemKey:Ljava/lang/String;
      34: aload_0
      35: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      38: ifnull        128
      41: aload_0
      42: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      45: invokevirtual #139                // Method java/util/concurrent/locks/ReentrantLock.lock:()V
      48: aload_0
      49: getfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
      52: ifnonnull     121
      55: aload_0
      56: getfield      #101                // Field lockStoreType:Ljava/lang/String;
      59: ldc           #140                // class com/arjuna/ats/internal/txoj/lockstore/BasicLockStore
      61: invokevirtual #141                // Method java/lang/Class.getName:()Ljava/lang/String;
      64: invokevirtual #142                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      67: ifeq          84
      70: aload_0
      71: new           #140                // class com/arjuna/ats/internal/txoj/lockstore/BasicLockStore
      74: dup
      75: invokespecial #143                // Method com/arjuna/ats/internal/txoj/lockstore/BasicLockStore."<init>":()V
      78: putfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
      81: goto          112
      84: new           #144                // class com/arjuna/ats/arjuna/common/ObjectStoreEnvironmentBean
      87: dup
      88: invokespecial #145                // Method com/arjuna/ats/arjuna/common/ObjectStoreEnvironmentBean."<init>":()V
      91: astore_2
      92: aload_2
      93: aload_0
      94: getfield      #105                // Field systemKey:Ljava/lang/String;
      97: invokevirtual #146                // Method com/arjuna/ats/arjuna/common/ObjectStoreEnvironmentBean.setLocalOSRoot:(Ljava/lang/String;)V
     100: aload_0
     101: new           #147                // class com/arjuna/ats/internal/txoj/lockstore/BasicPersistentLockStore
     104: dup
     105: aload_2
     106: invokespecial #148                // Method com/arjuna/ats/internal/txoj/lockstore/BasicPersistentLockStore."<init>":(Lcom/arjuna/ats/arjuna/common/ObjectStoreEnvironmentBean;)V
     109: putfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
     112: goto          121
     115: astore_2
     116: aload_0
     117: aconst_null
     118: putfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
     121: aload_0
     122: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     125: invokevirtual #26                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     128: aload_0
     129: getfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
     132: ifnull        139
     135: iconst_1
     136: goto          140
     139: iconst_0
     140: istore_1
     141: iload_1
     142: ireturn
    Exception table:
       from    to  target type
          55   112   115   Class java/lang/Exception

  protected final boolean isAncestorOf(com.arjuna.ats.txoj.Lock);
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          42
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #150                // String LockManager::isAncestorOf(
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #38                 // Method com/arjuna/ats/txoj/Lock.getCurrentOwner:()Lcom/arjuna/ats/arjuna/common/Uid;
      28: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: ldc           #31                 // String )
      33: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      42: invokestatic  #15                 // Method com/arjuna/ats/arjuna/coordinator/BasicAction.Current:()Lcom/arjuna/ats/arjuna/coordinator/BasicAction;
      45: astore_2
      46: aload_2
      47: ifnonnull     52
      50: iconst_0
      51: ireturn
      52: aload_2
      53: aload_1
      54: invokevirtual #38                 // Method com/arjuna/ats/txoj/Lock.getCurrentOwner:()Lcom/arjuna/ats/arjuna/common/Uid;
      57: invokevirtual #151                // Method com/arjuna/ats/arjuna/coordinator/BasicAction.isAncestor:(Lcom/arjuna/ats/arjuna/common/Uid;)Z
      60: ireturn

  protected boolean loadState();
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          17
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: ldc           #152                // String LockManager::loadState()
      14: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      17: aload_0
      18: getfield      #115                // Field com/arjuna/ats/arjuna/StateManager.objectModel:I
      21: ifne          31
      24: aload_0
      25: iconst_1
      26: putfield      #85                 // Field stateLoaded:Z
      29: iconst_1
      30: ireturn
      31: aconst_null
      32: astore_1
      33: aload_0
      34: getfield      #105                // Field systemKey:Ljava/lang/String;
      37: ifnonnull     49
      40: aload_0
      41: invokevirtual #116                // Method initialise:()Z
      44: ifne          49
      47: iconst_0
      48: ireturn
      49: aload_0
      50: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      53: ifnull        66
      56: aload_0
      57: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
      60: invokevirtual #153                // Method java/util/concurrent/locks/ReentrantLock.tryLock:()Z
      63: ifne          68
      66: iconst_0
      67: ireturn
      68: aload_0
      69: iconst_0
      70: putfield      #85                 // Field stateLoaded:Z
      73: aload_0
      74: iconst_1
      75: putfield      #106                // Field objectLocked:Z
      78: aload_0
      79: getfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
      82: aload_0
      83: invokevirtual #7                  // Method get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
      86: aload_0
      87: invokevirtual #10                 // Method type:()Ljava/lang/String;
      90: invokevirtual #154                // Method com/arjuna/ats/txoj/lockstore/LockStore.read_state:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;)Lcom/arjuna/ats/arjuna/state/InputObjectState;
      93: astore_1
      94: aload_1
      95: ifnull        272
      98: aconst_null
      99: astore_2
     100: aconst_null
     101: astore_3
     102: iconst_0
     103: istore        4
     105: aload_1
     106: invokevirtual #155                // Method com/arjuna/ats/arjuna/state/InputObjectState.unpackInt:()I
     109: istore        4
     111: iconst_1
     112: istore        5
     114: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
     117: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
     120: ifeq          154
     123: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
     126: new           #3                  // class java/lang/StringBuilder
     129: dup
     130: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
     133: ldc           #156                // String LockManager::loadState() loading
     135: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: iload         4
     140: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     143: ldc           #157                // String  lock(s)
     145: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     148: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     151: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
     154: iconst_0
     155: istore        6
     157: iload         6
     159: iload         4
     161: if_icmpge     232
     164: iload         5
     166: ifeq          232
     169: aload_1
     170: invokestatic  #158                // Method com/arjuna/ats/internal/arjuna/common/UidHelper.unpackFrom:(Lcom/arjuna/ats/arjuna/state/InputBuffer;)Lcom/arjuna/ats/arjuna/common/Uid;
     173: astore_2
     174: new           #159                // class com/arjuna/ats/txoj/Lock
     177: dup
     178: aload_2
     179: invokespecial #160                // Method com/arjuna/ats/txoj/Lock."<init>":(Lcom/arjuna/ats/arjuna/common/Uid;)V
     182: astore_3
     183: aload_3
     184: ifnull        215
     187: aload_3
     188: aload_1
     189: iconst_1
     190: invokevirtual #161                // Method com/arjuna/ats/txoj/Lock.restore_state:(Lcom/arjuna/ats/arjuna/state/InputObjectState;I)Z
     193: ifeq          207
     196: aload_0
     197: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     200: aload_3
     201: invokevirtual #162                // Method com/arjuna/ats/internal/txoj/LockList.push:(Lcom/arjuna/ats/txoj/Lock;)V
     204: goto          218
     207: aconst_null
     208: astore_3
     209: iconst_0
     210: istore        5
     212: goto          218
     215: iconst_0
     216: istore        5
     218: goto          226
     221: astore        7
     223: iconst_0
     224: istore        5
     226: iinc          6, 1
     229: goto          157
     232: iload         5
     234: ifeq          245
     237: aload_0
     238: iconst_1
     239: putfield      #85                 // Field stateLoaded:Z
     242: goto          262
     245: aload_0
     246: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     249: invokevirtual #37                 // Method com/arjuna/ats/internal/txoj/LockList.pop:()Lcom/arjuna/ats/txoj/Lock;
     252: dup
     253: astore_3
     254: ifnull        262
     257: aconst_null
     258: astore_3
     259: goto          245
     262: goto          267
     265: astore        5
     267: aconst_null
     268: astore_1
     269: goto          277
     272: aload_0
     273: iconst_1
     274: putfield      #85                 // Field stateLoaded:Z
     277: goto          288
     280: astore_2
     281: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
     284: aload_2
     285: invokevirtual #165                // Method org/jboss/logging/Logger.warn:(Ljava/lang/Object;)V
     288: aload_0
     289: getfield      #85                 // Field stateLoaded:Z
     292: ifne          314
     295: aload_0
     296: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     299: ifnull        309
     302: aload_0
     303: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     306: invokevirtual #26                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     309: aload_0
     310: iconst_0
     311: putfield      #106                // Field objectLocked:Z
     314: aload_0
     315: getfield      #85                 // Field stateLoaded:Z
     318: ireturn
    Exception table:
       from    to  target type
         169   218   221   Class java/io/IOException
         105   262   265   Class java/io/IOException
          78   277   280   Class com/arjuna/ats/txoj/exceptions/LockStoreException

  protected final int lockConflict(com.arjuna.ats.txoj.Lock);
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          42
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #3                  // class java/lang/StringBuilder
      15: dup
      16: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #166                // String LockManager::lockConflict(
      21: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #126                // Method com/arjuna/ats/txoj/Lock.get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
      28: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: ldc           #31                 // String )
      33: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      42: iconst_0
      43: istore_2
      44: aconst_null
      45: astore_3
      46: new           #81                 // class com/arjuna/ats/internal/txoj/LockListIterator
      49: dup
      50: aload_0
      51: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      54: invokespecial #82                 // Method com/arjuna/ats/internal/txoj/LockListIterator."<init>":(Lcom/arjuna/ats/internal/txoj/LockList;)V
      57: astore        4
      59: aload         4
      61: invokevirtual #90                 // Method com/arjuna/ats/internal/txoj/LockListIterator.iterate:()Lcom/arjuna/ats/txoj/Lock;
      64: dup
      65: astore_3
      66: ifnull        108
      69: aload_3
      70: aload_1
      71: invokevirtual #167                // Method com/arjuna/ats/txoj/Lock.conflictsWith:(Lcom/arjuna/ats/txoj/Lock;)Z
      74: ifeq          95
      77: getstatic     #168                // Field nestedLocking:Z
      80: ifeq          93
      83: aload_0
      84: aload_3
      85: invokevirtual #169                // Method isAncestorOf:(Lcom/arjuna/ats/txoj/Lock;)Z
      88: ifne          59
      91: iconst_0
      92: ireturn
      93: iconst_0
      94: ireturn
      95: aload_3
      96: aload_1
      97: invokevirtual #170                // Method com/arjuna/ats/txoj/Lock.equals:(Lcom/arjuna/ats/txoj/Lock;)Z
     100: ifeq          59
     103: iconst_1
     104: istore_2
     105: goto          59
     108: iload_2
     109: ifeq          116
     112: iconst_2
     113: goto          117
     116: iconst_1
     117: ireturn

  protected final boolean unloadState();
    Code:
       0: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
       6: ifeq          17
       9: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      12: ldc           #171                // String LockManager::unloadState()
      14: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      17: aload_0
      18: getfield      #115                // Field com/arjuna/ats/arjuna/StateManager.objectModel:I
      21: ifne          31
      24: aload_0
      25: iconst_0
      26: putfield      #85                 // Field stateLoaded:Z
      29: iconst_1
      30: ireturn
      31: iconst_0
      32: istore_1
      33: aconst_null
      34: astore_2
      35: aload_0
      36: invokevirtual #10                 // Method type:()Ljava/lang/String;
      39: astore_3
      40: aload_0
      41: invokevirtual #7                  // Method get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
      44: astore        4
      46: new           #172                // class com/arjuna/ats/arjuna/state/OutputObjectState
      49: dup
      50: aload         4
      52: aload_3
      53: invokespecial #173                // Method com/arjuna/ats/arjuna/state/OutputObjectState."<init>":(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;)V
      56: astore        5
      58: aload_0
      59: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
      62: invokevirtual #88                 // Method com/arjuna/ats/internal/txoj/LockList.entryCount:()I
      65: istore        6
      67: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      70: invokevirtual #2                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
      73: ifeq          107
      76: getstatic     #28                 // Field com/arjuna/ats/txoj/logging/txojLogger.logger:Lorg/jboss/logging/Logger;
      79: new           #3                  // class java/lang/StringBuilder
      82: dup
      83: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      86: ldc           #174                // String LockManager::unloadState() unloading
      88: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: iload         6
      93: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      96: ldc           #157                // String  lock(s)
      98: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     104: invokevirtual #12                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
     107: iload         6
     109: ifne          144
     112: aload_0
     113: getfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
     116: aload         4
     118: aload_3
     119: invokevirtual #175                // Method com/arjuna/ats/txoj/lockstore/LockStore.remove_state:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;)Z
     122: ifeq          130
     125: iconst_1
     126: istore_1
     127: goto          266
     130: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     133: aload         4
     135: aload_3
     136: invokeinterface #176,  3          // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_10:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;)V
     141: goto          266
     144: aload         5
     146: iload         6
     148: invokevirtual #177                // Method com/arjuna/ats/arjuna/state/OutputObjectState.packInt:(I)V
     151: iconst_1
     152: istore_1
     153: aload_0
     154: getfield      #23                 // Field locksHeld:Lcom/arjuna/ats/internal/txoj/LockList;
     157: invokevirtual #37                 // Method com/arjuna/ats/internal/txoj/LockList.pop:()Lcom/arjuna/ats/txoj/Lock;
     160: dup
     161: astore_2
     162: ifnull        203
     165: aload_2
     166: invokevirtual #126                // Method com/arjuna/ats/txoj/Lock.get_uid:()Lcom/arjuna/ats/arjuna/common/Uid;
     169: aload         5
     171: invokestatic  #178                // Method com/arjuna/ats/internal/arjuna/common/UidHelper.packInto:(Lcom/arjuna/ats/arjuna/common/Uid;Lcom/arjuna/ats/arjuna/state/OutputBuffer;)V
     174: aload_2
     175: aload         5
     177: iconst_1
     178: invokevirtual #179                // Method com/arjuna/ats/txoj/Lock.save_state:(Lcom/arjuna/ats/arjuna/state/OutputObjectState;I)Z
     181: ifne          198
     184: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     187: aload_2
     188: invokevirtual #180                // Method com/arjuna/ats/txoj/Lock.toString:()Ljava/lang/String;
     191: invokeinterface #181,  2          // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_11:(Ljava/lang/String;)V
     196: iconst_0
     197: istore_1
     198: aconst_null
     199: astore_2
     200: goto          153
     203: iload_1
     204: ifeq          248
     207: iconst_0
     208: istore_1
     209: aload         5
     211: invokevirtual #182                // Method com/arjuna/ats/arjuna/state/OutputObjectState.valid:()Z
     214: ifeq          237
     217: aload_0
     218: getfield      #24                 // Field lockStore:Lcom/arjuna/ats/txoj/lockstore/LockStore;
     221: aload         4
     223: aload_3
     224: aload         5
     226: invokevirtual #183                // Method com/arjuna/ats/txoj/lockstore/LockStore.write_committed:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;Lcom/arjuna/ats/arjuna/state/OutputObjectState;)Z
     229: ifeq          237
     232: iconst_1
     233: istore_1
     234: goto          248
     237: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     240: aload         4
     242: aload_3
     243: invokeinterface #184,  3          // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_12:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;)V
     248: goto          266
     251: astore        7
     253: iconst_0
     254: istore_1
     255: getstatic     #50                 // Field com/arjuna/ats/txoj/logging/txojLogger.i18NLogger:Lcom/arjuna/ats/txoj/logging/txojI18NLogger;
     258: aload         4
     260: aload_3
     261: invokeinterface #185,  3          // InterfaceMethod com/arjuna/ats/txoj/logging/txojI18NLogger.warn_LockManager_13:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;)V
     266: aload_0
     267: iconst_0
     268: putfield      #85                 // Field stateLoaded:Z
     271: aload_0
     272: getfield      #106                // Field objectLocked:Z
     275: ifeq          297
     278: aload_0
     279: iconst_0
     280: putfield      #106                // Field objectLocked:Z
     283: aload_0
     284: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     287: ifnull        297
     290: aload_0
     291: getfield      #21                 // Field mutex:Ljava/util/concurrent/locks/ReentrantLock;
     294: invokevirtual #26                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     297: iload_1
     298: ireturn
    Exception table:
       from    to  target type
         144   248   251   Class java/io/IOException

  static {};
    Code:
       0: invokestatic  #99                 // Method com/arjuna/ats/txoj/common/txojPropertyManager.getTxojEnvironmentBean:()Lcom/arjuna/ats/txoj/common/TxojEnvironmentBean;
       3: invokevirtual #186                // Method com/arjuna/ats/txoj/common/TxojEnvironmentBean.isAllowNestedLocking:()Z
       6: putstatic     #168                // Field nestedLocking:Z
       9: return
}
