Compiled from "JDBCXARecovery.java"
public class com.arjuna.ats.internal.jdbc.recovery.JDBCXARecovery implements com.arjuna.ats.jta.recovery.XAResourceRecovery {
  public static final java.lang.String DATABASE_JNDI_NAME;

  public static final java.lang.String USER_NAME;

  public static final java.lang.String PASSWORD;

  private javax.sql.XAConnection _connection;

  private javax.sql.XADataSource _dataSource;

  private com.arjuna.ats.internal.jdbc.recovery.JDBCXARecovery$LocalConnectionEventListener _connectionEventListener;

  private java.util.Properties _props;

  private java.lang.String _dbName;

  private java.lang.String _user;

  private java.lang.String _password;

  private boolean _hasMoreResources;

  public com.arjuna.ats.internal.jdbc.recovery.JDBCXARecovery() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: getstatic     #4                  // Field com/arjuna/ats/jdbc/logging/jdbcLogger.logger:Lorg/jboss/logging/Logger;
       7: invokevirtual #5                  // Method org/jboss/logging/Logger.isDebugEnabled:()Z
      10: ifeq          21
      13: getstatic     #4                  // Field com/arjuna/ats/jdbc/logging/jdbcLogger.logger:Lorg/jboss/logging/Logger;
      16: ldc           #6                  // String JDBCXARecovery()
      18: invokevirtual #7                  // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
      21: aload_0
      22: aconst_null
      23: putfield      #8                  // Field _props:Ljava/util/Properties;
      26: aload_0
      27: iconst_0
      28: putfield      #9                  // Field _hasMoreResources:Z
      31: aload_0
      32: new           #10                 // class com/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery$LocalConnectionEventListener
      35: dup
      36: aload_0
      37: aconst_null
      38: invokespecial #11                 // Method com/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery$LocalConnectionEventListener."<init>":(Lcom/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery;Lcom/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery$1;)V
      41: putfield      #2                  // Field _connectionEventListener:Lcom/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery$LocalConnectionEventListener;
      44: return

  public boolean initialise(java.lang.String) throws java.sql.SQLException;
    Code:
       0: getstatic     #4                  // Field com/arjuna/ats/jdbc/logging/jdbcLogger.logger:Lorg/jboss/logging/Logger;
       3: invokevirtual #5                  // Method org/jboss/logging/Logger.isDebugEnabled:()Z
       6: ifeq          39
       9: getstatic     #4                  // Field com/arjuna/ats/jdbc/logging/jdbcLogger.logger:Lorg/jboss/logging/Logger;
      12: new           #12                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #14                 // String JDBCXARecovery.initialise(
      21: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: ldc           #16                 // String )
      30: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokevirtual #7                  // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
      39: aload_1
      40: ifnonnull     45
      43: iconst_0
      44: ireturn
      45: aload_0
      46: aload_1
      47: ldc           #18                 // class com/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery
      49: invokevirtual #19                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      52: invokestatic  #20                 // Method com/arjuna/common/util/propertyservice/PropertiesFactory.getPropertiesFromFile:(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljava/util/Properties;
      55: putfield      #8                  // Field _props:Ljava/util/Properties;
      58: aload_0
      59: aload_0
      60: getfield      #8                  // Field _props:Ljava/util/Properties;
      63: ldc           #21                 // String DatabaseJNDIName
      65: invokevirtual #22                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      68: putfield      #23                 // Field _dbName:Ljava/lang/String;
      71: aload_0
      72: aload_0
      73: getfield      #8                  // Field _props:Ljava/util/Properties;
      76: ldc           #24                 // String UserName
      78: invokevirtual #22                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      81: putfield      #25                 // Field _user:Ljava/lang/String;
      84: aload_0
      85: aload_0
      86: getfield      #8                  // Field _props:Ljava/util/Properties;
      89: ldc           #26                 // String Password
      91: invokevirtual #22                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      94: putfield      #27                 // Field _password:Ljava/lang/String;
      97: goto          112
     100: astore_2
     101: getstatic     #29                 // Field com/arjuna/ats/jdbc/logging/jdbcLogger.i18NLogger:Lcom/arjuna/ats/jdbc/logging/jdbcI18NLogger;
     104: aload_2
     105: invokeinterface #30,  2           // InterfaceMethod com/arjuna/ats/jdbc/logging/jdbcI18NLogger.warn_recovery_xa_initexp:(Ljava/lang/Throwable;)V
     110: iconst_0
     111: ireturn
     112: iconst_1
     113: ireturn
    Exception table:
       from    to  target type
          45    97   100   Class java/lang/Exception

  public synchronized javax.transaction.xa.XAResource getXAResource() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: invokespecial #31                 // Method createConnection:()V
       4: aload_0
       5: getfield      #1                  // Field _connection:Ljavax/sql/XAConnection;
       8: invokeinterface #32,  1           // InterfaceMethod javax/sql/XAConnection.getXAResource:()Ljavax/transaction/xa/XAResource;
      13: areturn

  public boolean hasMoreResources();
    Code:
       0: aload_0
       1: getfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
       4: ifnonnull     17
       7: aload_0
       8: invokespecial #34                 // Method createDataSource:()V
      11: goto          17
      14: astore_1
      15: iconst_0
      16: ireturn
      17: aload_0
      18: getfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
      21: ifnull        45
      24: aload_0
      25: aload_0
      26: getfield      #9                  // Field _hasMoreResources:Z
      29: ifne          36
      32: iconst_1
      33: goto          37
      36: iconst_0
      37: putfield      #9                  // Field _hasMoreResources:Z
      40: aload_0
      41: getfield      #9                  // Field _hasMoreResources:Z
      44: ireturn
      45: iconst_0
      46: ireturn
    Exception table:
       from    to  target type
           7    11    14   Class java/sql/SQLException

  private final void createDataSource() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: getfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
       4: ifnonnull     63
       7: invokestatic  #36                 // Method com/arjuna/ats/jdbc/common/jdbcPropertyManager.getJDBCEnvironmentBean:()Lcom/arjuna/ats/jdbc/common/JDBCEnvironmentBean;
      10: invokevirtual #37                 // Method com/arjuna/ats/jdbc/common/JDBCEnvironmentBean.getJndiProperties:()Ljava/util/Hashtable;
      13: astore_1
      14: new           #38                 // class javax/naming/InitialContext
      17: dup
      18: aload_1
      19: invokespecial #39                 // Method javax/naming/InitialContext."<init>":(Ljava/util/Hashtable;)V
      22: astore_2
      23: aload_0
      24: aload_2
      25: aload_0
      26: getfield      #23                 // Field _dbName:Ljava/lang/String;
      29: invokeinterface #40,  2           // InterfaceMethod javax/naming/Context.lookup:(Ljava/lang/String;)Ljava/lang/Object;
      34: checkcast     #41                 // class javax/sql/XADataSource
      37: putfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
      40: aload_0
      41: getfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
      44: ifnonnull     63
      47: new           #35                 // class java/sql/SQLException
      50: dup
      51: getstatic     #29                 // Field com/arjuna/ats/jdbc/logging/jdbcLogger.i18NLogger:Lcom/arjuna/ats/jdbc/logging/jdbcI18NLogger;
      54: invokeinterface #42,  1           // InterfaceMethod com/arjuna/ats/jdbc/logging/jdbcI18NLogger.get_xa_recjndierror:()Ljava/lang/String;
      59: invokespecial #43                 // Method java/sql/SQLException."<init>":(Ljava/lang/String;)V
      62: athrow
      63: goto          98
      66: astore_1
      67: aload_1
      68: invokevirtual #44                 // Method java/sql/SQLException.printStackTrace:()V
      71: aload_1
      72: athrow
      73: astore_1
      74: aload_1
      75: invokevirtual #45                 // Method java/lang/Exception.printStackTrace:()V
      78: new           #35                 // class java/sql/SQLException
      81: dup
      82: aload_1
      83: invokevirtual #46                 // Method java/lang/Exception.toString:()Ljava/lang/String;
      86: invokespecial #43                 // Method java/sql/SQLException."<init>":(Ljava/lang/String;)V
      89: astore_2
      90: aload_2
      91: aload_1
      92: invokevirtual #47                 // Method java/sql/SQLException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
      95: pop
      96: aload_2
      97: athrow
      98: return
    Exception table:
       from    to  target type
           0    63    66   Class java/sql/SQLException
           0    63    73   Class java/lang/Exception

  private final void createConnection() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: getfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
       4: ifnonnull     11
       7: aload_0
       8: invokespecial #34                 // Method createDataSource:()V
      11: aload_0
      12: getfield      #1                  // Field _connection:Ljavax/sql/XAConnection;
      15: ifnonnull     82
      18: aload_0
      19: getfield      #25                 // Field _user:Ljava/lang/String;
      22: ifnonnull     48
      25: aload_0
      26: getfield      #27                 // Field _password:Ljava/lang/String;
      29: ifnonnull     48
      32: aload_0
      33: aload_0
      34: getfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
      37: invokeinterface #48,  1           // InterfaceMethod javax/sql/XADataSource.getXAConnection:()Ljavax/sql/XAConnection;
      42: putfield      #1                  // Field _connection:Ljavax/sql/XAConnection;
      45: goto          69
      48: aload_0
      49: aload_0
      50: getfield      #33                 // Field _dataSource:Ljavax/sql/XADataSource;
      53: aload_0
      54: getfield      #25                 // Field _user:Ljava/lang/String;
      57: aload_0
      58: getfield      #27                 // Field _password:Ljava/lang/String;
      61: invokeinterface #49,  3           // InterfaceMethod javax/sql/XADataSource.getXAConnection:(Ljava/lang/String;Ljava/lang/String;)Ljavax/sql/XAConnection;
      66: putfield      #1                  // Field _connection:Ljavax/sql/XAConnection;
      69: aload_0
      70: getfield      #1                  // Field _connection:Ljavax/sql/XAConnection;
      73: aload_0
      74: getfield      #2                  // Field _connectionEventListener:Lcom/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery$LocalConnectionEventListener;
      77: invokeinterface #50,  2           // InterfaceMethod javax/sql/XAConnection.addConnectionEventListener:(Ljavax/sql/ConnectionEventListener;)V
      82: goto          117
      85: astore_1
      86: aload_1
      87: invokevirtual #44                 // Method java/sql/SQLException.printStackTrace:()V
      90: aload_1
      91: athrow
      92: astore_1
      93: aload_1
      94: invokevirtual #45                 // Method java/lang/Exception.printStackTrace:()V
      97: new           #35                 // class java/sql/SQLException
     100: dup
     101: aload_1
     102: invokevirtual #46                 // Method java/lang/Exception.toString:()Ljava/lang/String;
     105: invokespecial #43                 // Method java/sql/SQLException."<init>":(Ljava/lang/String;)V
     108: astore_2
     109: aload_2
     110: aload_1
     111: invokevirtual #47                 // Method java/sql/SQLException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     114: pop
     115: aload_2
     116: athrow
     117: return
    Exception table:
       from    to  target type
           0    82    85   Class java/sql/SQLException
           0    82    92   Class java/lang/Exception

  static com.arjuna.ats.internal.jdbc.recovery.JDBCXARecovery$LocalConnectionEventListener access$100(com.arjuna.ats.internal.jdbc.recovery.JDBCXARecovery);
    Code:
       0: aload_0
       1: getfield      #2                  // Field _connectionEventListener:Lcom/arjuna/ats/internal/jdbc/recovery/JDBCXARecovery$LocalConnectionEventListener;
       4: areturn

  static javax.sql.XAConnection access$200(com.arjuna.ats.internal.jdbc.recovery.JDBCXARecovery);
    Code:
       0: aload_0
       1: getfield      #1                  // Field _connection:Ljavax/sql/XAConnection;
       4: areturn

  static javax.sql.XAConnection access$202(com.arjuna.ats.internal.jdbc.recovery.JDBCXARecovery, javax.sql.XAConnection);
    Code:
       0: aload_0
       1: aload_1
       2: dup_x1
       3: putfield      #1                  // Field _connection:Ljavax/sql/XAConnection;
       6: areturn
}
