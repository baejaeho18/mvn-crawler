Compiled from "AbstractPropertiesFactory.java"
public abstract class com.arjuna.common.util.propertyservice.AbstractPropertiesFactory {
  private volatile java.util.Properties defaultProperties;

  public com.arjuna.common.util.propertyservice.AbstractPropertiesFactory();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field defaultProperties:Ljava/util/Properties;
       9: return

  public java.util.Properties getDefaultProperties();
    Code:
       0: aload_0
       1: getfield      #2                  // Field defaultProperties:Ljava/util/Properties;
       4: ifnonnull     13
       7: aload_0
       8: ldc           #3                  // String com.arjuna.ats.arjuna.common.propertiesFile
      10: invokespecial #4                  // Method initDefaultProperties:(Ljava/lang/String;)V
      13: aload_0
      14: getfield      #2                  // Field defaultProperties:Ljava/util/Properties;
      17: areturn

  public java.util.Properties getPropertiesFromFile(java.lang.String, java.lang.ClassLoader);
    Code:
       0: aconst_null
       1: astore_3
       2: aload_1
       3: aload_2
       4: invokestatic  #5                  // Method com/arjuna/common/util/propertyservice/FileLocator.locateFile:(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljava/lang/String;
       7: astore_3
       8: goto          97
      11: astore        4
      13: ldc           #7                  // class com/arjuna/common/util/propertyservice/AbstractPropertiesFactory
      15: new           #8                  // class java/lang/StringBuilder
      18: dup
      19: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      22: ldc           #10                 // String /default-
      24: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: aload_1
      28: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: invokevirtual #13                 // Method java/lang/Class.getResource:(Ljava/lang/String;)Ljava/net/URL;
      37: astore        5
      39: aload         5
      41: ifnonnull     57
      44: getstatic     #14                 // Field com/arjuna/common/logging/commonLogger.i18NLogger:Lcom/arjuna/common/logging/commonI18NLogger;
      47: aload         5
      49: invokeinterface #15,  2           // InterfaceMethod com/arjuna/common/logging/commonI18NLogger.warn_could_not_find_config_file:(Ljava/net/URL;)V
      54: goto          63
      57: aload         5
      59: invokevirtual #16                 // Method java/net/URL.toString:()Ljava/lang/String;
      62: astore_3
      63: goto          97
      66: astore        4
      68: new           #18                 // class java/lang/RuntimeException
      71: dup
      72: new           #8                  // class java/lang/StringBuilder
      75: dup
      76: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      79: ldc           #19                 // String invalid property file
      81: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      84: aload_3
      85: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      91: aload         4
      93: invokespecial #20                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      96: athrow
      97: aconst_null
      98: astore        4
     100: aload_3
     101: ifnull        111
     104: aload_0
     105: aload_3
     106: invokespecial #21                 // Method loadFromFile:(Ljava/lang/String;)Ljava/util/Properties;
     109: astore        4
     111: aload_0
     112: aload         4
     114: invokespecial #22                 // Method applySystemProperties:(Ljava/util/Properties;)Ljava/util/Properties;
     117: astore        4
     119: goto          153
     122: astore        5
     124: new           #18                 // class java/lang/RuntimeException
     127: dup
     128: new           #8                  // class java/lang/StringBuilder
     131: dup
     132: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
     135: ldc           #24                 // String unable to load properties from
     137: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_3
     141: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     147: aload         5
     149: invokespecial #20                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     152: athrow
     153: aload         4
     155: areturn
    Exception table:
       from    to  target type
           2     8    11   Class java/io/FileNotFoundException
           2     8    66   Class java/io/IOException
         100   119   122   Class java/lang/Exception

  private java.util.Properties applySystemProperties(java.util.Properties);
    Code:
       0: new           #25                 // class java/util/Properties
       3: dup
       4: aload_1
       5: invokespecial #26                 // Method java/util/Properties."<init>":(Ljava/util/Properties;)V
       8: astore_2
       9: invokestatic  #27                 // Method java/lang/System.getProperties:()Ljava/util/Properties;
      12: invokevirtual #28                 // Method java/util/Properties.propertyNames:()Ljava/util/Enumeration;
      15: astore_3
      16: aload_3
      17: invokeinterface #29,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      22: ifeq          51
      25: aload_3
      26: invokeinterface #30,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      31: checkcast     #31                 // class java/lang/String
      34: astore        4
      36: aload_2
      37: aload         4
      39: aload         4
      41: invokestatic  #32                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      44: invokevirtual #33                 // Method java/util/Properties.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/Object;
      47: pop
      48: goto          16
      51: aload_2
      52: areturn

  private java.util.Properties loadFromFile(java.lang.String) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_2
       2: new           #25                 // class java/util/Properties
       5: dup
       6: invokespecial #34                 // Method java/util/Properties."<init>":()V
       9: astore_3
      10: new           #25                 // class java/util/Properties
      13: dup
      14: invokespecial #34                 // Method java/util/Properties."<init>":()V
      17: astore        4
      19: new           #35                 // class java/io/File
      22: dup
      23: aload_1
      24: invokespecial #36                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      27: invokevirtual #37                 // Method java/io/File.exists:()Z
      30: ifeq          45
      33: new           #38                 // class java/io/FileInputStream
      36: dup
      37: aload_1
      38: invokespecial #39                 // Method java/io/FileInputStream."<init>":(Ljava/lang/String;)V
      41: astore_2
      42: goto          57
      45: new           #40                 // class java/net/URL
      48: dup
      49: aload_1
      50: invokespecial #41                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
      53: invokevirtual #42                 // Method java/net/URL.openStream:()Ljava/io/InputStream;
      56: astore_2
      57: aload_0
      58: aload_3
      59: aload_2
      60: invokevirtual #43                 // Method loadFromXML:(Ljava/util/Properties;Ljava/io/InputStream;)Ljava/util/Properties;
      63: pop
      64: aload_2
      65: invokevirtual #44                 // Method java/io/InputStream.close:()V
      68: goto          80
      71: astore        5
      73: aload_2
      74: invokevirtual #44                 // Method java/io/InputStream.close:()V
      77: aload         5
      79: athrow
      80: aload_3
      81: invokevirtual #28                 // Method java/util/Properties.propertyNames:()Ljava/util/Enumeration;
      84: astore        5
      86: aload         5
      88: invokeinterface #29,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      93: ifeq          143
      96: aload         5
      98: invokeinterface #30,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
     103: checkcast     #31                 // class java/lang/String
     106: astore        6
     108: aload_3
     109: aload         6
     111: invokevirtual #45                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     114: astore        7
     116: aload         7
     118: invokevirtual #46                 // Method java/lang/String.trim:()Ljava/lang/String;
     121: astore        7
     123: aload         7
     125: invokestatic  #47                 // Method com/arjuna/common/util/propertyservice/StringPropertyReplacer.replaceProperties:(Ljava/lang/String;)Ljava/lang/String;
     128: astore        7
     130: aload         4
     132: aload         6
     134: aload         7
     136: invokevirtual #33                 // Method java/util/Properties.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/Object;
     139: pop
     140: goto          86
     143: aload         4
     145: areturn
    Exception table:
       from    to  target type
          57    64    71   any
          71    73    71   any

  private synchronized void initDefaultProperties(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field defaultProperties:Ljava/util/Properties;
       4: ifnull        8
       7: return
       8: aload_1
       9: invokestatic  #32                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      12: astore_2
      13: aload_2
      14: ifnonnull     21
      17: invokestatic  #48                 // Method com/arjuna/common/util/ConfigurationInfo.getPropertiesFile:()Ljava/lang/String;
      20: astore_2
      21: aload_2
      22: ifnonnull     35
      25: new           #18                 // class java/lang/RuntimeException
      28: dup
      29: ldc           #49                 // String Unable to resolve property file name
      31: invokespecial #50                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      34: athrow
      35: aload_0
      36: aload_0
      37: aload_2
      38: ldc           #51                 // class com/arjuna/common/util/propertyservice/PropertiesFactoryStax
      40: invokevirtual #52                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      43: invokevirtual #53                 // Method getPropertiesFromFile:(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljava/util/Properties;
      46: putfield      #2                  // Field defaultProperties:Ljava/util/Properties;
      49: return

  protected abstract java.util.Properties loadFromXML(java.util.Properties, java.io.InputStream) throws java.io.IOException;
}
