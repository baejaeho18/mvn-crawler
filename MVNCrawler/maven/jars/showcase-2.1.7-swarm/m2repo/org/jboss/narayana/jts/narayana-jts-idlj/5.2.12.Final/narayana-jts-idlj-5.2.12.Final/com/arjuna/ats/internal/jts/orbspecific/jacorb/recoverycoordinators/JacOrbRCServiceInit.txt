Compiled from "JacOrbRCServiceInit.java"
public class com.arjuna.ats.internal.jts.orbspecific.jacorb.recoverycoordinators.JacOrbRCServiceInit implements com.arjuna.ats.internal.jts.recovery.recoverycoordinators.RecoveryServiceInit {
  private static final java.lang.String POA_NAME_PREFIX;

  protected static org.omg.PortableServer.POA _poa;

  protected static com.arjuna.orbportability.ORB _orb;

  protected static com.arjuna.orbportability.RootOA _oa;

  protected static java.lang.String uid4Recovery;

  private static java.lang.Object orbRunnerLock;

  private static com.arjuna.ats.internal.jts.orbspecific.jacorb.recoverycoordinators.ORBRunner _runOA;

  public com.arjuna.ats.internal.jts.orbspecific.jacorb.recoverycoordinators.JacOrbRCServiceInit();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  private static org.omg.PortableServer.POA getRCPOA();
    Code:
       0: invokestatic  #2                  // Method com/arjuna/ats/internal/jts/recovery/recoverycoordinators/GenericRecoveryCreator.getRecCoordServiceName:()Ljava/lang/String;
       3: astore_0
       4: getstatic     #3                  // Field com/arjuna/ats/jts/logging/jtsLogger.logger:Lorg/jboss/logging/Logger;
       7: invokevirtual #4                  // Method org/jboss/logging/Logger.isDebugEnabled:()Z
      10: ifeq          38
      13: getstatic     #3                  // Field com/arjuna/ats/jts/logging/jtsLogger.logger:Lorg/jboss/logging/Logger;
      16: new           #5                  // class java/lang/StringBuilder
      19: dup
      20: invokespecial #6                  // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #7                  // String JacOrbRCServiceInit.getRCPOA
      25: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: invokevirtual #9                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      35: invokevirtual #10                 // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
      38: getstatic     #11                 // Field _poa:Lorg/omg/PortableServer/POA;
      41: ifnonnull     192
      44: ldc           #12                 // String recovery_coordinator
      46: astore_1
      47: new           #5                  // class java/lang/StringBuilder
      50: dup
      51: invokespecial #6                  // Method java/lang/StringBuilder."<init>":()V
      54: ldc           #14                 // String RcvCo-
      56: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: aload_0
      60: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: aload_1
      64: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: invokevirtual #9                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: astore_2
      71: getstatic     #15                 // Field _oa:Lcom/arjuna/orbportability/RootOA;
      74: invokevirtual #16                 // Method com/arjuna/orbportability/RootOA.rootPoa:()Lorg/omg/PortableServer/POA;
      77: astore_3
      78: aload_3
      79: ifnonnull     92
      82: getstatic     #17                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
      85: invokeinterface #18,  1           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_orbspecific_jacorb_recoverycoordinators_JacOrbRCServiceInit_8:()V
      90: aconst_null
      91: areturn
      92: aconst_null
      93: astore        4
      95: iconst_5
      96: anewarray     #19                 // class org/omg/CORBA/Policy
      99: dup
     100: iconst_0
     101: aload_3
     102: getstatic     #20                 // Field org/omg/PortableServer/LifespanPolicyValue.PERSISTENT:Lorg/omg/PortableServer/LifespanPolicyValue;
     105: invokeinterface #21,  2           // InterfaceMethod org/omg/PortableServer/POA.create_lifespan_policy:(Lorg/omg/PortableServer/LifespanPolicyValue;)Lorg/omg/PortableServer/LifespanPolicy;
     110: aastore
     111: dup
     112: iconst_1
     113: aload_3
     114: getstatic     #22                 // Field org/omg/PortableServer/ServantRetentionPolicyValue.NON_RETAIN:Lorg/omg/PortableServer/ServantRetentionPolicyValue;
     117: invokeinterface #23,  2           // InterfaceMethod org/omg/PortableServer/POA.create_servant_retention_policy:(Lorg/omg/PortableServer/ServantRetentionPolicyValue;)Lorg/omg/PortableServer/ServantRetentionPolicy;
     122: aastore
     123: dup
     124: iconst_2
     125: aload_3
     126: getstatic     #24                 // Field org/omg/PortableServer/IdAssignmentPolicyValue.USER_ID:Lorg/omg/PortableServer/IdAssignmentPolicyValue;
     129: invokeinterface #25,  2           // InterfaceMethod org/omg/PortableServer/POA.create_id_assignment_policy:(Lorg/omg/PortableServer/IdAssignmentPolicyValue;)Lorg/omg/PortableServer/IdAssignmentPolicy;
     134: aastore
     135: dup
     136: iconst_3
     137: aload_3
     138: getstatic     #26                 // Field org/omg/PortableServer/IdUniquenessPolicyValue.MULTIPLE_ID:Lorg/omg/PortableServer/IdUniquenessPolicyValue;
     141: invokeinterface #27,  2           // InterfaceMethod org/omg/PortableServer/POA.create_id_uniqueness_policy:(Lorg/omg/PortableServer/IdUniquenessPolicyValue;)Lorg/omg/PortableServer/IdUniquenessPolicy;
     146: aastore
     147: dup
     148: iconst_4
     149: aload_3
     150: getstatic     #28                 // Field org/omg/PortableServer/RequestProcessingPolicyValue.USE_DEFAULT_SERVANT:Lorg/omg/PortableServer/RequestProcessingPolicyValue;
     153: invokeinterface #29,  2           // InterfaceMethod org/omg/PortableServer/POA.create_request_processing_policy:(Lorg/omg/PortableServer/RequestProcessingPolicyValue;)Lorg/omg/PortableServer/RequestProcessingPolicy;
     158: aastore
     159: astore        4
     161: aload_3
     162: aload_2
     163: aload_3
     164: invokeinterface #30,  1           // InterfaceMethod org/omg/PortableServer/POA.the_POAManager:()Lorg/omg/PortableServer/POAManager;
     169: aload         4
     171: invokeinterface #31,  4           // InterfaceMethod org/omg/PortableServer/POA.create_POA:(Ljava/lang/String;Lorg/omg/PortableServer/POAManager;[Lorg/omg/CORBA/Policy;)Lorg/omg/PortableServer/POA;
     176: putstatic     #11                 // Field _poa:Lorg/omg/PortableServer/POA;
     179: goto          192
     182: astore_3
     183: getstatic     #17                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     186: aload_3
     187: invokeinterface #33,  2           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_orbspecific_jacorb_recoverycoordinators_JacOrbRCServiceInit_1:(Ljava/lang/Throwable;)V
     192: getstatic     #11                 // Field _poa:Lorg/omg/PortableServer/POA;
     195: areturn
    Exception table:
       from    to  target type
          71    91   182   Class java/lang/Exception
          92   179   182   Class java/lang/Exception

  private static void initORBandOA() throws org.omg.CORBA.ORBPackage.InvalidName;
    Code:
       0: invokestatic  #34                 // Method com/arjuna/ats/internal/jts/ORBManager.isInitialised:()Z
       3: ifne          149
       6: ldc           #35                 // String RecoveryServer
       8: invokestatic  #36                 // Method com/arjuna/orbportability/ORB.getInstance:(Ljava/lang/String;)Lcom/arjuna/orbportability/ORB;
      11: putstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
      14: new           #5                  // class java/lang/StringBuilder
      17: dup
      18: invokespecial #6                  // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #38                 // String
      23: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: invokestatic  #39                 // Method com/arjuna/ats/jts/common/jtsPropertyManager.getJTSEnvironmentBean:()Lcom/arjuna/ats/jts/common/JTSEnvironmentBean;
      29: invokevirtual #40                 // Method com/arjuna/ats/jts/common/JTSEnvironmentBean.getRecoveryManagerPort:()I
      32: invokevirtual #41                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      35: invokevirtual #9                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      38: astore_0
      39: invokestatic  #39                 // Method com/arjuna/ats/jts/common/jtsPropertyManager.getJTSEnvironmentBean:()Lcom/arjuna/ats/jts/common/JTSEnvironmentBean;
      42: invokevirtual #42                 // Method com/arjuna/ats/jts/common/JTSEnvironmentBean.getRecoveryManagerAddress:()Ljava/lang/String;
      45: astore_1
      46: getstatic     #3                  // Field com/arjuna/ats/jts/logging/jtsLogger.logger:Lorg/jboss/logging/Logger;
      49: ldc           #43                 // String Starting RecoveryServer ORB on port %s and address %s
      51: aload_0
      52: aload_1
      53: invokevirtual #44                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      56: new           #45                 // class java/util/Properties
      59: dup
      60: invokespecial #46                 // Method java/util/Properties."<init>":()V
      63: astore_2
      64: aload_2
      65: ldc           #47                 // String OAPort
      67: aload_0
      68: invokevirtual #48                 // Method java/util/Properties.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/Object;
      71: pop
      72: aload_1
      73: ifnull        91
      76: aload_1
      77: invokevirtual #49                 // Method java/lang/String.length:()I
      80: ifle          91
      83: aload_2
      84: ldc           #50                 // String OAIAddr
      86: aload_1
      87: invokevirtual #48                 // Method java/util/Properties.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/Object;
      90: pop
      91: getstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
      94: aconst_null
      95: checkcast     #51                 // class "[Ljava/lang/String;"
      98: aload_2
      99: invokevirtual #52                 // Method com/arjuna/orbportability/ORB.initORB:([Ljava/lang/String;Ljava/util/Properties;)V
     102: getstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
     105: invokestatic  #53                 // Method com/arjuna/orbportability/OA.getRootOA:(Lcom/arjuna/orbportability/ORB;)Lcom/arjuna/orbportability/RootOA;
     108: putstatic     #15                 // Field _oa:Lcom/arjuna/orbportability/RootOA;
     111: getstatic     #15                 // Field _oa:Lcom/arjuna/orbportability/RootOA;
     114: invokevirtual #54                 // Method com/arjuna/orbportability/RootOA.initOA:()V
     117: goto          132
     120: astore_3
     121: invokestatic  #56                 // Method com/arjuna/ats/internal/jts/ORBManager.reset:()V
     124: getstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
     127: invokevirtual #57                 // Method com/arjuna/orbportability/ORB.shutdown:()V
     130: aload_3
     131: athrow
     132: getstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
     135: invokestatic  #58                 // Method com/arjuna/ats/internal/jts/ORBManager.setORB:(Lcom/arjuna/orbportability/ORB;)Z
     138: pop
     139: getstatic     #15                 // Field _oa:Lcom/arjuna/orbportability/RootOA;
     142: invokestatic  #59                 // Method com/arjuna/ats/internal/jts/ORBManager.setPOA:(Lcom/arjuna/orbportability/OA;)Z
     145: pop
     146: goto          172
     149: invokestatic  #60                 // Method com/arjuna/ats/internal/jts/ORBManager.getORB:()Lcom/arjuna/orbportability/ORB;
     152: putstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
     155: invokestatic  #61                 // Method com/arjuna/ats/internal/jts/ORBManager.getPOA:()Lcom/arjuna/orbportability/OA;
     158: checkcast     #62                 // class com/arjuna/orbportability/RootOA
     161: putstatic     #15                 // Field _oa:Lcom/arjuna/orbportability/RootOA;
     164: getstatic     #17                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     167: invokeinterface #63,  1           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.info_orbspecific_jacorb_recoverycoordinators_JacOrbRCServiceInit_6a:()V
     172: invokestatic  #61                 // Method com/arjuna/ats/internal/jts/ORBManager.getPOA:()Lcom/arjuna/orbportability/OA;
     175: new           #64                 // class com/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/JacOrbRCShutdown
     178: dup
     179: invokespecial #65                 // Method com/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/JacOrbRCShutdown."<init>":()V
     182: invokevirtual #66                 // Method com/arjuna/orbportability/OA.addPreShutdown:(Lcom/arjuna/orbportability/oa/PreShutdown;)V
     185: return
    Exception table:
       from    to  target type
          91   117   120   Class java/lang/RuntimeException

  public boolean startRCservice();
    Code:
       0: invokestatic  #67                 // Method initORBandOA:()V
       3: invokestatic  #68                 // Method getRCPOA:()Lorg/omg/PortableServer/POA;
       6: astore_1
       7: aload_1
       8: ifnonnull     13
      11: iconst_0
      12: ireturn
      13: invokestatic  #69                 // Method com/arjuna/ats/internal/jts/Implementations.initialise:()V
      16: new           #70                 // class com/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/JacOrbRCDefaultServant
      19: dup
      20: getstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
      23: invokevirtual #71                 // Method com/arjuna/orbportability/ORB.orb:()Lorg/omg/CORBA/ORB;
      26: invokespecial #72                 // Method com/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/JacOrbRCDefaultServant."<init>":(Lorg/omg/CORBA/ORB;)V
      29: astore_2
      30: aload_1
      31: aload_2
      32: invokeinterface #73,  2           // InterfaceMethod org/omg/PortableServer/POA.set_servant:(Lorg/omg/PortableServer/Servant;)V
      37: aload_1
      38: ldc           #74                 // String RecoveryManager
      40: invokevirtual #75                 // Method java/lang/String.getBytes:()[B
      43: invokestatic  #76                 // Method org/omg/CosTransactions/RecoveryCoordinatorHelper.id:()Ljava/lang/String;
      46: invokeinterface #77,  3           // InterfaceMethod org/omg/PortableServer/POA.create_reference_with_id:([BLjava/lang/String;)Lorg/omg/CORBA/Object;
      51: astore_3
      52: getstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
      55: invokevirtual #71                 // Method com/arjuna/orbportability/ORB.orb:()Lorg/omg/CORBA/ORB;
      58: aload_3
      59: invokevirtual #78                 // Method org/omg/CORBA/ORB.object_to_string:(Lorg/omg/CORBA/Object;)Ljava/lang/String;
      62: astore        4
      64: new           #79                 // class com/arjuna/ats/arjuna/state/OutputObjectState
      67: dup
      68: invokespecial #80                 // Method com/arjuna/ats/arjuna/state/OutputObjectState."<init>":()V
      71: astore        5
      73: aload         5
      75: aload         4
      77: invokevirtual #81                 // Method com/arjuna/ats/arjuna/state/OutputObjectState.packString:(Ljava/lang/String;)V
      80: invokestatic  #82                 // Method com/arjuna/ats/arjuna/objectstore/StoreManager.getCommunicationStore:()Lcom/arjuna/ats/arjuna/objectstore/ParticipantStore;
      83: astore        6
      85: aload         6
      87: new           #83                 // class com/arjuna/ats/arjuna/common/Uid
      90: dup
      91: getstatic     #84                 // Field uid4Recovery:Ljava/lang/String;
      94: invokespecial #85                 // Method com/arjuna/ats/arjuna/common/Uid."<init>":(Ljava/lang/String;)V
      97: invokestatic  #86                 // Method type:()Ljava/lang/String;
     100: aload         5
     102: invokeinterface #87,  4           // InterfaceMethod com/arjuna/ats/arjuna/objectstore/TxLog.write_committed:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;Lcom/arjuna/ats/arjuna/state/OutputObjectState;)Z
     107: pop
     108: goto          121
     111: astore        5
     113: getstatic     #17                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     116: invokeinterface #89,  1           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.fatal_orbspecific_jacorb_recoverycoordinators_JacOrbRCServiceInit_5:()V
     121: getstatic     #3                  // Field com/arjuna/ats/jts/logging/jtsLogger.logger:Lorg/jboss/logging/Logger;
     124: invokevirtual #4                  // Method org/jboss/logging/Logger.isDebugEnabled:()Z
     127: ifeq          138
     130: getstatic     #3                  // Field com/arjuna/ats/jts/logging/jtsLogger.logger:Lorg/jboss/logging/Logger;
     133: ldc           #90                 // String JacOrbRCServiceInit - set default servant and activated
     135: invokevirtual #10                 // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
     138: getstatic     #15                 // Field _oa:Lcom/arjuna/orbportability/RootOA;
     141: invokevirtual #16                 // Method com/arjuna/orbportability/RootOA.rootPoa:()Lorg/omg/PortableServer/POA;
     144: invokeinterface #30,  1           // InterfaceMethod org/omg/PortableServer/POA.the_POAManager:()Lorg/omg/PortableServer/POAManager;
     149: invokeinterface #91,  1           // InterfaceMethod org/omg/PortableServer/POAManager.activate:()V
     154: new           #92                 // class com/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/ORBRunner
     157: dup
     158: invokespecial #93                 // Method com/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/ORBRunner."<init>":()V
     161: putstatic     #94                 // Field _runOA:Lcom/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/ORBRunner;
     164: iconst_1
     165: ireturn
     166: astore_1
     167: getstatic     #17                 // Field com/arjuna/ats/jts/logging/jtsLogger.i18NLogger:Lcom/arjuna/ats/jts/logging/jtsI18NLogger;
     170: aload_1
     171: invokeinterface #95,  2           // InterfaceMethod com/arjuna/ats/jts/logging/jtsI18NLogger.warn_orbspecific_jacorb_recoverycoordinators_JacOrbRCServiceInit_3:(Ljava/lang/Throwable;)V
     176: iconst_0
     177: ireturn
    Exception table:
       from    to  target type
          64   108   111   Class java/lang/SecurityException
           0    12   166   Class java/lang/Exception
          13   165   166   Class java/lang/Exception

  public static void shutdownRCService();
    Code:
       0: aconst_null
       1: putstatic     #11                 // Field _poa:Lorg/omg/PortableServer/POA;
       4: return

  public static java.lang.String type();
    Code:
       0: ldc           #96                 // String /RecoveryCoordinator
       2: areturn

  public static void waitForRunningORBRunner();
    Code:
       0: getstatic     #97                 // Field orbRunnerLock:Ljava/lang/Object;
       3: dup
       4: astore_0
       5: monitorenter
       6: getstatic     #94                 // Field _runOA:Lcom/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/ORBRunner;
       9: ifnull        26
      12: getstatic     #97                 // Field orbRunnerLock:Ljava/lang/Object;
      15: invokevirtual #98                 // Method java/lang/Object.wait:()V
      18: goto          26
      21: astore_1
      22: aload_1
      23: invokevirtual #100                // Method java/lang/InterruptedException.printStackTrace:()V
      26: aload_0
      27: monitorexit
      28: goto          36
      31: astore_2
      32: aload_0
      33: monitorexit
      34: aload_2
      35: athrow
      36: return
    Exception table:
       from    to  target type
          12    18    21   Class java/lang/InterruptedException
           6    28    31   any
          31    34    31   any

  public static void orbRunnerCompleted();
    Code:
       0: getstatic     #97                 // Field orbRunnerLock:Ljava/lang/Object;
       3: dup
       4: astore_0
       5: monitorenter
       6: aconst_null
       7: putstatic     #94                 // Field _runOA:Lcom/arjuna/ats/internal/jts/orbspecific/jacorb/recoverycoordinators/ORBRunner;
      10: getstatic     #97                 // Field orbRunnerLock:Ljava/lang/Object;
      13: invokevirtual #101                // Method java/lang/Object.notify:()V
      16: aload_0
      17: monitorexit
      18: goto          26
      21: astore_1
      22: aload_0
      23: monitorexit
      24: aload_1
      25: athrow
      26: return
    Exception table:
       from    to  target type
           6    18    21   any
          21    24    21   any

  static {};
    Code:
       0: aconst_null
       1: putstatic     #11                 // Field _poa:Lorg/omg/PortableServer/POA;
       4: aconst_null
       5: putstatic     #37                 // Field _orb:Lcom/arjuna/orbportability/ORB;
       8: aconst_null
       9: putstatic     #15                 // Field _oa:Lcom/arjuna/orbportability/RootOA;
      12: ldc           #102                // String 0:ffff52e38d0c:c91:4140398c:0
      14: putstatic     #84                 // Field uid4Recovery:Ljava/lang/String;
      17: new           #103                // class java/lang/Object
      20: dup
      21: invokespecial #1                  // Method java/lang/Object."<init>":()V
      24: putstatic     #97                 // Field orbRunnerLock:Ljava/lang/Object;
      27: return
}
