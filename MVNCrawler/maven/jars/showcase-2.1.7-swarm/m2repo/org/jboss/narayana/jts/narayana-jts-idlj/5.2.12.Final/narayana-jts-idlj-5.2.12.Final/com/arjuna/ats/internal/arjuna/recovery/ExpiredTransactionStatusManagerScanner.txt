Compiled from "ExpiredTransactionStatusManagerScanner.java"
public class com.arjuna.ats.internal.arjuna.recovery.ExpiredTransactionStatusManagerScanner implements com.arjuna.ats.arjuna.recovery.ExpiryScanner {
  private java.lang.String _itemTypeName;

  private com.arjuna.ats.arjuna.objectstore.RecoveryStore _recoveryStore;

  private static final int _expiryTime;

  private static final java.text.SimpleDateFormat _timeFormat;

  public com.arjuna.ats.internal.arjuna.recovery.ExpiredTransactionStatusManagerScanner();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
       7: invokevirtual #3                  // Method org/jboss/logging/Logger.isDebugEnabled:()Z
      10: ifeq          48
      13: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
      16: new           #4                  // class java/lang/StringBuilder
      19: dup
      20: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #6                  // String ExpiredTransactionStatusManagerScanner created, with expiry time of
      25: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: getstatic     #8                  // Field _expiryTime:I
      31: invokestatic  #9                  // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      34: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: ldc           #10                 // String   seconds
      39: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokevirtual #12                 // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
      48: aload_0
      49: invokestatic  #13                 // Method com/arjuna/ats/arjuna/objectstore/StoreManager.getRecoveryStore:()Lcom/arjuna/ats/arjuna/objectstore/RecoveryStore;
      52: putfield      #14                 // Field _recoveryStore:Lcom/arjuna/ats/arjuna/objectstore/RecoveryStore;
      55: aload_0
      56: invokestatic  #15                 // Method com/arjuna/ats/internal/arjuna/recovery/TransactionStatusManagerItem.typeName:()Ljava/lang/String;
      59: putfield      #16                 // Field _itemTypeName:Ljava/lang/String;
      62: return

  public void scan();
    Code:
       0: new           #17                 // class java/util/Date
       3: dup
       4: new           #17                 // class java/util/Date
       7: dup
       8: invokespecial #18                 // Method java/util/Date."<init>":()V
      11: invokevirtual #19                 // Method java/util/Date.getTime:()J
      14: getstatic     #8                  // Field _expiryTime:I
      17: sipush        1000
      20: imul
      21: i2l
      22: lsub
      23: invokespecial #20                 // Method java/util/Date."<init>":(J)V
      26: astore_1
      27: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
      30: invokevirtual #3                  // Method org/jboss/logging/Logger.isDebugEnabled:()Z
      33: ifeq          67
      36: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
      39: new           #4                  // class java/lang/StringBuilder
      42: dup
      43: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
      46: ldc           #21                 // String ExpiredTransactionStatusManagerScanner - scanning to remove items from before
      48: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: getstatic     #22                 // Field _timeFormat:Ljava/text/SimpleDateFormat;
      54: aload_1
      55: invokevirtual #23                 // Method java/text/SimpleDateFormat.format:(Ljava/util/Date;)Ljava/lang/String;
      58: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      64: invokevirtual #12                 // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
      67: new           #24                 // class com/arjuna/ats/arjuna/state/InputObjectState
      70: dup
      71: invokespecial #25                 // Method com/arjuna/ats/arjuna/state/InputObjectState."<init>":()V
      74: astore_2
      75: aload_0
      76: getfield      #14                 // Field _recoveryStore:Lcom/arjuna/ats/arjuna/objectstore/RecoveryStore;
      79: aload_0
      80: getfield      #16                 // Field _itemTypeName:Ljava/lang/String;
      83: aload_2
      84: invokeinterface #26,  3           // InterfaceMethod com/arjuna/ats/arjuna/objectstore/RecoveryStore.allObjUids:(Ljava/lang/String;Lcom/arjuna/ats/arjuna/state/InputObjectState;)Z
      89: ifeq          256
      92: aconst_null
      93: astore_3
      94: iconst_0
      95: istore        4
      97: iload         4
      99: ifne          256
     102: aload_2
     103: invokestatic  #27                 // Method com/arjuna/ats/internal/arjuna/common/UidHelper.unpackFrom:(Lcom/arjuna/ats/arjuna/state/InputBuffer;)Lcom/arjuna/ats/arjuna/common/Uid;
     106: astore_3
     107: aload_3
     108: invokestatic  #28                 // Method com/arjuna/ats/arjuna/common/Uid.nullUid:()Lcom/arjuna/ats/arjuna/common/Uid;
     111: invokevirtual #29                 // Method com/arjuna/ats/arjuna/common/Uid.equals:(Lcom/arjuna/ats/arjuna/common/Uid;)Z
     114: ifeq          123
     117: iconst_1
     118: istore        4
     120: goto          97
     123: new           #30                 // class com/arjuna/ats/arjuna/common/Uid
     126: dup
     127: aload_3
     128: invokespecial #31                 // Method com/arjuna/ats/arjuna/common/Uid."<init>":(Lcom/arjuna/ats/arjuna/common/Uid;)V
     131: astore        5
     133: aload         5
     135: invokestatic  #32                 // Method com/arjuna/ats/internal/arjuna/recovery/TransactionStatusManagerItem.recreate:(Lcom/arjuna/ats/arjuna/common/Uid;)Lcom/arjuna/ats/internal/arjuna/recovery/TransactionStatusManagerItem;
     138: astore        6
     140: aload         6
     142: ifnull        253
     145: aload         6
     147: invokevirtual #33                 // Method com/arjuna/ats/internal/arjuna/recovery/TransactionStatusManagerItem.getDeadTime:()Ljava/util/Date;
     150: astore        7
     152: aload         7
     154: ifnull        195
     157: aload         7
     159: aload_1
     160: invokevirtual #34                 // Method java/util/Date.before:(Ljava/util/Date;)Z
     163: ifeq          195
     166: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
     169: ldc           #35                 // String Removing old transaction status manager item %s
     171: aload         5
     173: invokevirtual #36                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
     176: aload_0
     177: getfield      #14                 // Field _recoveryStore:Lcom/arjuna/ats/arjuna/objectstore/RecoveryStore;
     180: aload         5
     182: aload_0
     183: getfield      #16                 // Field _itemTypeName:Ljava/lang/String;
     186: invokeinterface #37,  3           // InterfaceMethod com/arjuna/ats/arjuna/objectstore/RecoveryStore.remove_committed:(Lcom/arjuna/ats/arjuna/common/Uid;Ljava/lang/String;)Z
     191: pop
     192: goto          253
     195: aload         5
     197: astore        8
     199: aload         8
     201: invokevirtual #38                 // Method com/arjuna/ats/arjuna/common/Uid.getHexPid:()Ljava/lang/String;
     204: astore        9
     206: new           #39                 // class com/arjuna/ats/internal/arjuna/recovery/TransactionStatusConnector
     209: dup
     210: aload         9
     212: aload         8
     214: invokespecial #40                 // Method com/arjuna/ats/internal/arjuna/recovery/TransactionStatusConnector."<init>":(Ljava/lang/String;Lcom/arjuna/ats/arjuna/common/Uid;)V
     217: astore        10
     219: aload         10
     221: aload         6
     223: invokevirtual #41                 // Method com/arjuna/ats/internal/arjuna/recovery/TransactionStatusConnector.test:(Lcom/arjuna/ats/internal/arjuna/recovery/TransactionStatusManagerItem;)Z
     226: pop
     227: aload         10
     229: invokevirtual #42                 // Method com/arjuna/ats/internal/arjuna/recovery/TransactionStatusConnector.isDead:()Z
     232: ifeq          253
     235: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
     238: ldc           #35                 // String Removing old transaction status manager item %s
     240: aload         5
     242: invokevirtual #36                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
     245: aload         10
     247: invokevirtual #43                 // Method com/arjuna/ats/internal/arjuna/recovery/TransactionStatusConnector.delete:()V
     250: aconst_null
     251: astore        10
     253: goto          97
     256: goto          260
     259: astore_2
     260: return
    Exception table:
       from    to  target type
          67   256   259   Class java/lang/Exception

  public boolean toBeUsed();
    Code:
       0: getstatic     #8                  // Field _expiryTime:I
       3: ifeq          10
       6: iconst_1
       7: goto          11
      10: iconst_0
      11: ireturn

  static {};
    Code:
       0: invokestatic  #45                 // Method com/arjuna/ats/arjuna/common/recoveryPropertyManager.getRecoveryEnvironmentBean:()Lcom/arjuna/ats/arjuna/common/RecoveryEnvironmentBean;
       3: invokevirtual #46                 // Method com/arjuna/ats/arjuna/common/RecoveryEnvironmentBean.getTransactionStatusManagerExpiryTime:()I
       6: bipush        60
       8: imul
       9: bipush        60
      11: imul
      12: putstatic     #8                  // Field _expiryTime:I
      15: new           #47                 // class java/text/SimpleDateFormat
      18: dup
      19: ldc           #48                 // String EEE, d MMM yyyy HH:mm:ss
      21: invokespecial #49                 // Method java/text/SimpleDateFormat."<init>":(Ljava/lang/String;)V
      24: putstatic     #22                 // Field _timeFormat:Ljava/text/SimpleDateFormat;
      27: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
      30: invokevirtual #3                  // Method org/jboss/logging/Logger.isDebugEnabled:()Z
      33: ifeq          71
      36: getstatic     #2                  // Field com/arjuna/ats/arjuna/logging/tsLogger.logger:Lorg/jboss/logging/Logger;
      39: new           #4                  // class java/lang/StringBuilder
      42: dup
      43: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
      46: ldc           #50                 // String Expiry scan interval set to
      48: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: getstatic     #8                  // Field _expiryTime:I
      54: invokestatic  #9                  // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      57: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      60: ldc           #10                 // String   seconds
      62: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      68: invokevirtual #12                 // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
      71: return
}
