Compiled from "ReceiverInterceptor.java"
public final class org.jboss.ejb.client.ReceiverInterceptor implements org.jboss.ejb.client.EJBClientInterceptor {
  private static final org.jboss.logging.Logger logger;

  public org.jboss.ejb.client.ReceiverInterceptor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void handleInvocation(org.jboss.ejb.client.EJBClientInvocationContext) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #2                  // Method org/jboss/ejb/client/EJBClientInvocationContext.getClientContext:()Lorg/jboss/ejb/client/EJBClientContext;
       4: astore_2
       5: aload_1
       6: invokevirtual #3                  // Method org/jboss/ejb/client/EJBClientInvocationContext.getLocator:()Lorg/jboss/ejb/client/EJBLocator;
       9: astore_3
      10: aload_1
      11: invokevirtual #4                  // Method org/jboss/ejb/client/EJBClientInvocationContext.getExcludedNodes:()Ljava/util/Set;
      14: astore        4
      16: invokestatic  #5                  // Method org/jboss/ejb/client/EJBClientTransactionContext.getCurrent:()Lorg/jboss/ejb/client/EJBClientTransactionContext;
      19: astore        5
      21: aload         5
      23: ifnonnull     30
      26: aconst_null
      27: goto          35
      30: aload         5
      32: invokevirtual #6                  // Method org/jboss/ejb/client/EJBClientTransactionContext.getTransactionNode:()Ljava/lang/String;
      35: astore        6
      37: aload         6
      39: ifnull        191
      42: aload         4
      44: aload         6
      46: invokeinterface #7,  2            // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      51: ifeq          66
      54: getstatic     #8                  // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
      57: aload         6
      59: aload_1
      60: invokeinterface #9,  3            // InterfaceMethod org/jboss/ejb/client/Logs.txNodeIsExcludedForInvocation:(Ljava/lang/String;Lorg/jboss/ejb/client/EJBClientInvocationContext;)Ljava/lang/IllegalStateException;
      65: athrow
      66: aload_2
      67: aload         6
      69: invokevirtual #10                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
      72: astore        7
      74: aload         7
      76: invokevirtual #11                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      79: aload_3
      80: invokevirtual #12                 // Method org/jboss/ejb/client/EJBLocator.getAppName:()Ljava/lang/String;
      83: aload_3
      84: invokevirtual #13                 // Method org/jboss/ejb/client/EJBLocator.getModuleName:()Ljava/lang/String;
      87: aload_3
      88: invokevirtual #14                 // Method org/jboss/ejb/client/EJBLocator.getDistinctName:()Ljava/lang/String;
      91: invokevirtual #15                 // Method org/jboss/ejb/client/EJBReceiver.acceptsModule:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Z
      94: ifne          109
      97: getstatic     #8                  // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
     100: aload         6
     102: aload_3
     103: invokeinterface #16,  3           // InterfaceMethod org/jboss/ejb/client/Logs.nodeDoesNotAcceptLocator:(Ljava/lang/String;Lorg/jboss/ejb/client/EJBLocator;)Ljava/lang/IllegalStateException;
     108: athrow
     109: aload_3
     110: invokevirtual #17                 // Method org/jboss/ejb/client/EJBLocator.getAffinity:()Lorg/jboss/ejb/client/Affinity;
     113: astore        8
     115: aload         8
     117: instanceof    #18                 // class org/jboss/ejb/client/NodeAffinity
     120: ifeq          151
     123: aload         6
     125: aload         8
     127: checkcast     #18                 // class org/jboss/ejb/client/NodeAffinity
     130: invokevirtual #19                 // Method org/jboss/ejb/client/NodeAffinity.getNodeName:()Ljava/lang/String;
     133: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     136: ifne          188
     139: getstatic     #8                  // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
     142: aload         6
     144: aload_3
     145: invokeinterface #16,  3           // InterfaceMethod org/jboss/ejb/client/Logs.nodeDoesNotAcceptLocator:(Ljava/lang/String;Lorg/jboss/ejb/client/EJBLocator;)Ljava/lang/IllegalStateException;
     150: athrow
     151: aload         8
     153: instanceof    #21                 // class org/jboss/ejb/client/ClusterAffinity
     156: ifeq          188
     159: aload_2
     160: aload         8
     162: checkcast     #21                 // class org/jboss/ejb/client/ClusterAffinity
     165: invokevirtual #22                 // Method org/jboss/ejb/client/ClusterAffinity.getClusterName:()Ljava/lang/String;
     168: aload         6
     170: invokevirtual #23                 // Method org/jboss/ejb/client/EJBClientContext.clusterContains:(Ljava/lang/String;Ljava/lang/String;)Z
     173: ifne          188
     176: getstatic     #8                  // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
     179: aload         6
     181: aload_3
     182: invokeinterface #16,  3           // InterfaceMethod org/jboss/ejb/client/Logs.nodeDoesNotAcceptLocator:(Ljava/lang/String;Lorg/jboss/ejb/client/EJBLocator;)Ljava/lang/IllegalStateException;
     187: athrow
     188: goto          708
     191: aload_3
     192: invokevirtual #17                 // Method org/jboss/ejb/client/EJBLocator.getAffinity:()Lorg/jboss/ejb/client/Affinity;
     195: astore        8
     197: aload         8
     199: instanceof    #18                 // class org/jboss/ejb/client/NodeAffinity
     202: ifeq          251
     205: aload         8
     207: checkcast     #18                 // class org/jboss/ejb/client/NodeAffinity
     210: invokevirtual #19                 // Method org/jboss/ejb/client/NodeAffinity.getNodeName:()Ljava/lang/String;
     213: astore        9
     215: aload         4
     217: aload         9
     219: invokeinterface #7,  2            // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     224: ifeq          240
     227: getstatic     #8                  // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
     230: aload_3
     231: aload         9
     233: aload_1
     234: invokeinterface #24,  4           // InterfaceMethod org/jboss/ejb/client/Logs.requiredNodeExcludedFromInvocation:(Lorg/jboss/ejb/client/EJBLocator;Ljava/lang/String;Lorg/jboss/ejb/client/EJBClientInvocationContext;)Ljava/lang/IllegalStateException;
     239: athrow
     240: aload_2
     241: aload         9
     243: invokevirtual #10                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
     246: astore        7
     248: goto          708
     251: aload         8
     253: instanceof    #21                 // class org/jboss/ejb/client/ClusterAffinity
     256: ifeq          440
     259: aload_1
     260: invokevirtual #25                 // Method org/jboss/ejb/client/EJBClientInvocationContext.getInvocationHandler:()Lorg/jboss/ejb/client/EJBInvocationHandler;
     263: invokevirtual #26                 // Method org/jboss/ejb/client/EJBInvocationHandler.getWeakAffinity:()Lorg/jboss/ejb/client/Affinity;
     266: astore        9
     268: aload         9
     270: instanceof    #18                 // class org/jboss/ejb/client/NodeAffinity
     273: ifeq          422
     276: aload         9
     278: checkcast     #18                 // class org/jboss/ejb/client/NodeAffinity
     281: invokevirtual #19                 // Method org/jboss/ejb/client/NodeAffinity.getNodeName:()Ljava/lang/String;
     284: astore        10
     286: aload         4
     288: aload         10
     290: invokeinterface #7,  2            // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     295: ifeq          315
     298: getstatic     #27                 // Field logger:Lorg/jboss/logging/Logger;
     301: ldc           #28                 // String Ignoring weak affinity on node %s since that node has been marked as excluded for invocation context %s
     303: aload         10
     305: aload_1
     306: invokevirtual #29                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     309: aconst_null
     310: astore        11
     312: goto          368
     315: aload_2
     316: aload         10
     318: invokevirtual #30                 // Method org/jboss/ejb/client/EJBClientContext.getNodeEJBReceiver:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiver;
     321: astore        11
     323: aload         11
     325: ifnull        368
     328: aload         11
     330: aload_3
     331: invokevirtual #12                 // Method org/jboss/ejb/client/EJBLocator.getAppName:()Ljava/lang/String;
     334: aload_3
     335: invokevirtual #13                 // Method org/jboss/ejb/client/EJBLocator.getModuleName:()Ljava/lang/String;
     338: aload_3
     339: invokevirtual #14                 // Method org/jboss/ejb/client/EJBLocator.getDistinctName:()Ljava/lang/String;
     342: invokevirtual #15                 // Method org/jboss/ejb/client/EJBReceiver.acceptsModule:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Z
     345: ifne          368
     348: getstatic     #27                 // Field logger:Lorg/jboss/logging/Logger;
     351: ldc           #31                 // String Ignoring weak affinity on node %s since that node does not currently accept %s
     353: aload         10
     355: aload_3
     356: invokevirtual #29                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     359: aload_1
     360: aload         10
     362: invokevirtual #32                 // Method org/jboss/ejb/client/EJBClientInvocationContext.markNodeAsExcluded:(Ljava/lang/String;)V
     365: aconst_null
     366: astore        11
     368: aload         11
     370: ifnull        404
     373: aload_2
     374: aload         8
     376: checkcast     #21                 // class org/jboss/ejb/client/ClusterAffinity
     379: invokevirtual #22                 // Method org/jboss/ejb/client/ClusterAffinity.getClusterName:()Ljava/lang/String;
     382: aload         11
     384: invokevirtual #33                 // Method org/jboss/ejb/client/EJBReceiver.getNodeName:()Ljava/lang/String;
     387: invokevirtual #23                 // Method org/jboss/ejb/client/EJBClientContext.clusterContains:(Ljava/lang/String;Ljava/lang/String;)Z
     390: ifeq          404
     393: aload_2
     394: aload         11
     396: invokevirtual #34                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiverContext:(Lorg/jboss/ejb/client/EJBReceiver;)Lorg/jboss/ejb/client/EJBReceiverContext;
     399: astore        7
     401: goto          419
     404: aload_2
     405: aload_1
     406: aload         8
     408: checkcast     #21                 // class org/jboss/ejb/client/ClusterAffinity
     411: invokevirtual #22                 // Method org/jboss/ejb/client/ClusterAffinity.getClusterName:()Ljava/lang/String;
     414: invokevirtual #35                 // Method org/jboss/ejb/client/EJBClientContext.requireClusterEJBReceiverContext:(Lorg/jboss/ejb/client/EJBClientInvocationContext;Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
     417: astore        7
     419: goto          437
     422: aload_2
     423: aload_1
     424: aload         8
     426: checkcast     #21                 // class org/jboss/ejb/client/ClusterAffinity
     429: invokevirtual #22                 // Method org/jboss/ejb/client/ClusterAffinity.getClusterName:()Ljava/lang/String;
     432: invokevirtual #35                 // Method org/jboss/ejb/client/EJBClientContext.requireClusterEJBReceiverContext:(Lorg/jboss/ejb/client/EJBClientInvocationContext;Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
     435: astore        7
     437: goto          708
     440: aload         8
     442: getstatic     #36                 // Field org/jboss/ejb/client/Affinity.NONE:Lorg/jboss/ejb/client/Affinity;
     445: if_acmpne     698
     448: aload_1
     449: invokevirtual #25                 // Method org/jboss/ejb/client/EJBClientInvocationContext.getInvocationHandler:()Lorg/jboss/ejb/client/EJBInvocationHandler;
     452: invokevirtual #26                 // Method org/jboss/ejb/client/EJBInvocationHandler.getWeakAffinity:()Lorg/jboss/ejb/client/Affinity;
     455: astore        9
     457: aload         9
     459: instanceof    #18                 // class org/jboss/ejb/client/NodeAffinity
     462: ifeq          603
     465: aload         9
     467: checkcast     #18                 // class org/jboss/ejb/client/NodeAffinity
     470: invokevirtual #19                 // Method org/jboss/ejb/client/NodeAffinity.getNodeName:()Ljava/lang/String;
     473: astore        10
     475: aload         4
     477: aload         10
     479: invokeinterface #7,  2            // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     484: ifeq          504
     487: getstatic     #27                 // Field logger:Lorg/jboss/logging/Logger;
     490: ldc           #28                 // String Ignoring weak affinity on node %s since that node has been marked as excluded for invocation context %s
     492: aload         10
     494: aload_1
     495: invokevirtual #29                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     498: aconst_null
     499: astore        11
     501: goto          557
     504: aload_2
     505: aload         10
     507: invokevirtual #30                 // Method org/jboss/ejb/client/EJBClientContext.getNodeEJBReceiver:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiver;
     510: astore        11
     512: aload         11
     514: ifnull        557
     517: aload         11
     519: aload_3
     520: invokevirtual #12                 // Method org/jboss/ejb/client/EJBLocator.getAppName:()Ljava/lang/String;
     523: aload_3
     524: invokevirtual #13                 // Method org/jboss/ejb/client/EJBLocator.getModuleName:()Ljava/lang/String;
     527: aload_3
     528: invokevirtual #14                 // Method org/jboss/ejb/client/EJBLocator.getDistinctName:()Ljava/lang/String;
     531: invokevirtual #15                 // Method org/jboss/ejb/client/EJBReceiver.acceptsModule:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Z
     534: ifne          557
     537: getstatic     #27                 // Field logger:Lorg/jboss/logging/Logger;
     540: ldc           #31                 // String Ignoring weak affinity on node %s since that node does not currently accept %s
     542: aload         10
     544: aload_3
     545: invokevirtual #29                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     548: aload_1
     549: aload         10
     551: invokevirtual #32                 // Method org/jboss/ejb/client/EJBClientInvocationContext.markNodeAsExcluded:(Ljava/lang/String;)V
     554: aconst_null
     555: astore        11
     557: aload         11
     559: ifnull        573
     562: aload_2
     563: aload         11
     565: invokevirtual #34                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiverContext:(Lorg/jboss/ejb/client/EJBReceiver;)Lorg/jboss/ejb/client/EJBReceiverContext;
     568: astore        7
     570: goto          600
     573: aload_2
     574: aload_1
     575: aload_3
     576: invokevirtual #12                 // Method org/jboss/ejb/client/EJBLocator.getAppName:()Ljava/lang/String;
     579: aload_3
     580: invokevirtual #13                 // Method org/jboss/ejb/client/EJBLocator.getModuleName:()Ljava/lang/String;
     583: aload_3
     584: invokevirtual #14                 // Method org/jboss/ejb/client/EJBLocator.getDistinctName:()Ljava/lang/String;
     587: invokevirtual #37                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiver:(Lorg/jboss/ejb/client/EJBClientInvocationContext;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiver;
     590: astore        12
     592: aload_2
     593: aload         12
     595: invokevirtual #34                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiverContext:(Lorg/jboss/ejb/client/EJBReceiver;)Lorg/jboss/ejb/client/EJBReceiverContext;
     598: astore        7
     600: goto          695
     603: aload         9
     605: instanceof    #21                 // class org/jboss/ejb/client/ClusterAffinity
     608: ifeq          668
     611: aload_2
     612: aload_1
     613: aload         9
     615: checkcast     #21                 // class org/jboss/ejb/client/ClusterAffinity
     618: invokevirtual #22                 // Method org/jboss/ejb/client/ClusterAffinity.getClusterName:()Ljava/lang/String;
     621: invokevirtual #38                 // Method org/jboss/ejb/client/EJBClientContext.getClusterEJBReceiverContext:(Lorg/jboss/ejb/client/EJBClientInvocationContext;Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
     624: astore        10
     626: aload         10
     628: ifnull        638
     631: aload         10
     633: astore        7
     635: goto          665
     638: aload_2
     639: aload_1
     640: aload_3
     641: invokevirtual #12                 // Method org/jboss/ejb/client/EJBLocator.getAppName:()Ljava/lang/String;
     644: aload_3
     645: invokevirtual #13                 // Method org/jboss/ejb/client/EJBLocator.getModuleName:()Ljava/lang/String;
     648: aload_3
     649: invokevirtual #14                 // Method org/jboss/ejb/client/EJBLocator.getDistinctName:()Ljava/lang/String;
     652: invokevirtual #37                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiver:(Lorg/jboss/ejb/client/EJBClientInvocationContext;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiver;
     655: astore        11
     657: aload_2
     658: aload         11
     660: invokevirtual #34                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiverContext:(Lorg/jboss/ejb/client/EJBReceiver;)Lorg/jboss/ejb/client/EJBReceiverContext;
     663: astore        7
     665: goto          695
     668: aload_2
     669: aload_1
     670: aload_3
     671: invokevirtual #12                 // Method org/jboss/ejb/client/EJBLocator.getAppName:()Ljava/lang/String;
     674: aload_3
     675: invokevirtual #13                 // Method org/jboss/ejb/client/EJBLocator.getModuleName:()Ljava/lang/String;
     678: aload_3
     679: invokevirtual #14                 // Method org/jboss/ejb/client/EJBLocator.getDistinctName:()Ljava/lang/String;
     682: invokevirtual #37                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiver:(Lorg/jboss/ejb/client/EJBClientInvocationContext;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiver;
     685: astore        10
     687: aload_2
     688: aload         10
     690: invokevirtual #34                 // Method org/jboss/ejb/client/EJBClientContext.requireEJBReceiverContext:(Lorg/jboss/ejb/client/EJBReceiver;)Lorg/jboss/ejb/client/EJBReceiverContext;
     693: astore        7
     695: goto          708
     698: new           #39                 // class java/lang/IllegalStateException
     701: dup
     702: ldc           #40                 // String Unknown affinity type
     704: invokespecial #41                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     707: athrow
     708: getstatic     #27                 // Field logger:Lorg/jboss/logging/Logger;
     711: new           #42                 // class java/lang/StringBuilder
     714: dup
     715: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     718: ldc           #44                 // String Sending invocation to node
     720: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     723: aload         7
     725: invokevirtual #11                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
     728: invokevirtual #33                 // Method org/jboss/ejb/client/EJBReceiver.getNodeName:()Ljava/lang/String;
     731: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     734: invokevirtual #46                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     737: invokevirtual #47                 // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
     740: aload_1
     741: new           #48                 // class org/jboss/ejb/client/EJBReceiverInvocationContext
     744: dup
     745: aload_1
     746: aload         7
     748: invokespecial #49                 // Method org/jboss/ejb/client/EJBReceiverInvocationContext."<init>":(Lorg/jboss/ejb/client/EJBClientInvocationContext;Lorg/jboss/ejb/client/EJBReceiverContext;)V
     751: invokevirtual #50                 // Method org/jboss/ejb/client/EJBClientInvocationContext.setReceiverInvocationContext:(Lorg/jboss/ejb/client/EJBReceiverInvocationContext;)V
     754: aload_1
     755: invokevirtual #51                 // Method org/jboss/ejb/client/EJBClientInvocationContext.sendRequest:()V
     758: return

  public java.lang.Object handleInvocationResult(org.jboss.ejb.client.EJBClientInvocationContext) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #52                 // Method org/jboss/ejb/client/EJBClientInvocationContext.getResult:()Ljava/lang/Object;
       4: areturn

  static {};
    Code:
       0: ldc_w         #53                 // class org/jboss/ejb/client/ReceiverInterceptor
       3: invokestatic  #54                 // Method org/jboss/logging/Logger.getLogger:(Ljava/lang/Class;)Lorg/jboss/logging/Logger;
       6: putstatic     #27                 // Field logger:Lorg/jboss/logging/Logger;
       9: return
}
