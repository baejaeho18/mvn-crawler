Compiled from "EJBClientUserTransactionContext.java"
class org.jboss.ejb.client.EJBClientUserTransactionContext$UserTransactionImpl implements javax.transaction.UserTransaction {
  private final java.lang.String nodeName;

  final org.jboss.ejb.client.EJBClientUserTransactionContext this$0;

  org.jboss.ejb.client.EJBClientUserTransactionContext$UserTransactionImpl(org.jboss.ejb.client.EJBClientUserTransactionContext, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/ejb/client/EJBClientUserTransactionContext;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field nodeName:Ljava/lang/String;
      14: return

  public void begin() throws javax.transaction.NotSupportedException, javax.transaction.SystemException;
    Code:
       0: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
       3: invokevirtual #5                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
       9: astore_1
      10: aload_1
      11: ifnonnull     29
      14: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
      17: new           #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
      20: dup
      21: invokespecial #7                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext$State."<init>":()V
      24: dup
      25: astore_1
      26: invokevirtual #8                  // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      29: aload_1
      30: getfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
      33: ifnull        45
      36: getstatic     #10                 // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
      39: invokeinterface #11,  1           // InterfaceMethod org/jboss/ejb/client/Logs.txAlreadyAssociatedWithThread:()Ljavax/transaction/NotSupportedException;
      44: athrow
      45: new           #12                 // class org/jboss/ejb/client/UserTransactionID
      48: dup
      49: aload_0
      50: getfield      #3                  // Field nodeName:Ljava/lang/String;
      53: invokestatic  #13                 // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$100:()Ljava/util/concurrent/atomic/AtomicInteger;
      56: bipush        127
      58: invokevirtual #14                 // Method java/util/concurrent/atomic/AtomicInteger.getAndAdd:(I)I
      61: invokespecial #15                 // Method org/jboss/ejb/client/UserTransactionID."<init>":(Ljava/lang/String;I)V
      64: astore_2
      65: aload_1
      66: aload_2
      67: putfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
      70: aload_1
      71: iconst_0
      72: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      75: return

  public void commit() throws javax.transaction.RollbackException, javax.transaction.HeuristicMixedException, javax.transaction.HeuristicRollbackException, java.lang.SecurityException, java.lang.IllegalStateException, javax.transaction.SystemException;
    Code:
       0: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
       3: invokevirtual #5                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
       9: astore_1
      10: aload_1
      11: ifnull        21
      14: aload_1
      15: getfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
      18: ifnonnull     30
      21: getstatic     #10                 // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
      24: invokeinterface #17,  1           // InterfaceMethod org/jboss/ejb/client/Logs.noTxAssociatedWithThread:()Ljava/lang/IllegalStateException;
      29: athrow
      30: aload_1
      31: getfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      34: ifeq          54
      37: aload_1
      38: getfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      41: iconst_1
      42: if_icmpeq     54
      45: getstatic     #10                 // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
      48: invokeinterface #18,  1           // InterfaceMethod org/jboss/ejb/client/Logs.txNotActiveForThread:()Ljava/lang/IllegalStateException;
      53: athrow
      54: aload_1
      55: getfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
      58: astore_2
      59: invokestatic  #19                 // Method org/jboss/ejb/client/EJBClientContext.requireCurrent:()Lorg/jboss/ejb/client/EJBClientContext;
      62: astore_3
      63: aload_3
      64: aload_0
      65: getfield      #3                  // Field nodeName:Ljava/lang/String;
      68: invokevirtual #20                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
      71: astore        4
      73: aload         4
      75: invokevirtual #21                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      78: astore        5
      80: aload_1
      81: getfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      84: iconst_1
      85: if_icmpne     117
      88: aload_1
      89: bipush        9
      91: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      94: aload         5
      96: aload         4
      98: aload_2
      99: invokevirtual #22                 // Method org/jboss/ejb/client/EJBReceiver.sendRollback:(Lorg/jboss/ejb/client/EJBReceiverContext;Lorg/jboss/ejb/client/TransactionID;)V
     102: goto          107
     105: astore        6
     107: new           #24                 // class javax/transaction/RollbackException
     110: dup
     111: ldc           #25                 // String Transaction marked for rollback only
     113: invokespecial #26                 // Method javax/transaction/RollbackException."<init>":(Ljava/lang/String;)V
     116: athrow
     117: aload_1
     118: bipush        8
     120: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
     123: aload         5
     125: aload         4
     127: aload_2
     128: iconst_1
     129: invokevirtual #27                 // Method org/jboss/ejb/client/EJBReceiver.sendCommit:(Lorg/jboss/ejb/client/EJBReceiverContext;Lorg/jboss/ejb/client/TransactionID;Z)V
     132: goto          228
     135: astore        6
     137: aload         6
     139: getfield      #29                 // Field javax/transaction/xa/XAException.errorCode:I
     142: bipush        100
     144: if_icmplt     170
     147: aload         6
     149: getfield      #29                 // Field javax/transaction/xa/XAException.errorCode:I
     152: bipush        107
     154: if_icmpgt     170
     157: new           #24                 // class javax/transaction/RollbackException
     160: dup
     161: aload         6
     163: invokevirtual #30                 // Method javax/transaction/xa/XAException.getMessage:()Ljava/lang/String;
     166: invokespecial #26                 // Method javax/transaction/RollbackException."<init>":(Ljava/lang/String;)V
     169: athrow
     170: aload         6
     172: getfield      #29                 // Field javax/transaction/xa/XAException.errorCode:I
     175: iconst_5
     176: if_icmpne     192
     179: new           #31                 // class javax/transaction/HeuristicMixedException
     182: dup
     183: aload         6
     185: invokevirtual #30                 // Method javax/transaction/xa/XAException.getMessage:()Ljava/lang/String;
     188: invokespecial #32                 // Method javax/transaction/HeuristicMixedException."<init>":(Ljava/lang/String;)V
     191: athrow
     192: aload         6
     194: getfield      #29                 // Field javax/transaction/xa/XAException.errorCode:I
     197: bipush        6
     199: if_icmpne     215
     202: new           #33                 // class javax/transaction/HeuristicRollbackException
     205: dup
     206: aload         6
     208: invokevirtual #30                 // Method javax/transaction/xa/XAException.getMessage:()Ljava/lang/String;
     211: invokespecial #34                 // Method javax/transaction/HeuristicRollbackException."<init>":(Ljava/lang/String;)V
     214: athrow
     215: new           #35                 // class javax/transaction/SystemException
     218: dup
     219: aload         6
     221: invokevirtual #30                 // Method javax/transaction/xa/XAException.getMessage:()Ljava/lang/String;
     224: invokespecial #36                 // Method javax/transaction/SystemException."<init>":(Ljava/lang/String;)V
     227: athrow
     228: aload_1
     229: aconst_null
     230: putfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
     233: aload_1
     234: bipush        6
     236: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
     239: goto          258
     242: astore        7
     244: aload_1
     245: aconst_null
     246: putfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
     249: aload_1
     250: bipush        6
     252: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
     255: aload         7
     257: athrow
     258: return
    Exception table:
       from    to  target type
          94   102   105   Class java/lang/Throwable
         123   132   135   Class javax/transaction/xa/XAException
          59   228   242   any
         242   244   242   any

  public void rollback() throws java.lang.IllegalStateException, java.lang.SecurityException, javax.transaction.SystemException;
    Code:
       0: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
       3: invokevirtual #5                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
       9: astore_1
      10: aload_1
      11: ifnull        21
      14: aload_1
      15: getfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
      18: ifnonnull     30
      21: getstatic     #10                 // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
      24: invokeinterface #17,  1           // InterfaceMethod org/jboss/ejb/client/Logs.noTxAssociatedWithThread:()Ljava/lang/IllegalStateException;
      29: athrow
      30: aload_1
      31: getfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      34: ifeq          54
      37: aload_1
      38: getfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      41: iconst_1
      42: if_icmpeq     54
      45: getstatic     #10                 // Field org/jboss/ejb/client/Logs.MAIN:Lorg/jboss/ejb/client/Logs;
      48: invokeinterface #18,  1           // InterfaceMethod org/jboss/ejb/client/Logs.txNotActiveForThread:()Ljava/lang/IllegalStateException;
      53: athrow
      54: aload_1
      55: getfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
      58: astore_2
      59: invokestatic  #19                 // Method org/jboss/ejb/client/EJBClientContext.requireCurrent:()Lorg/jboss/ejb/client/EJBClientContext;
      62: astore_3
      63: aload_3
      64: aload_0
      65: getfield      #3                  // Field nodeName:Ljava/lang/String;
      68: invokevirtual #20                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
      71: astore        4
      73: aload         4
      75: invokevirtual #21                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      78: astore        5
      80: aload_1
      81: bipush        9
      83: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      86: aload         5
      88: aload         4
      90: aload_2
      91: invokevirtual #22                 // Method org/jboss/ejb/client/EJBReceiver.sendRollback:(Lorg/jboss/ejb/client/EJBReceiverContext;Lorg/jboss/ejb/client/TransactionID;)V
      94: goto          112
      97: astore        6
      99: new           #35                 // class javax/transaction/SystemException
     102: dup
     103: aload         6
     105: invokevirtual #30                 // Method javax/transaction/xa/XAException.getMessage:()Ljava/lang/String;
     108: invokespecial #36                 // Method javax/transaction/SystemException."<init>":(Ljava/lang/String;)V
     111: athrow
     112: aload_1
     113: aconst_null
     114: putfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
     117: aload_1
     118: bipush        6
     120: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
     123: goto          142
     126: astore        7
     128: aload_1
     129: aconst_null
     130: putfield      #9                  // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.currentId:Lorg/jboss/ejb/client/UserTransactionID;
     133: aload_1
     134: bipush        6
     136: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
     139: aload         7
     141: athrow
     142: return
    Exception table:
       from    to  target type
          86    94    97   Class javax/transaction/xa/XAException
          59   112   126   any
         126   128   126   any

  public void setRollbackOnly() throws java.lang.IllegalStateException, javax.transaction.SystemException;
    Code:
       0: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
       3: invokevirtual #5                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
       9: astore_1
      10: aload_1
      11: ifnull        79
      14: aload_1
      15: getfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      18: tableswitch   { // 0 to 9
                     0: 73
                     1: 72
                     2: 79
                     3: 79
                     4: 72
                     5: 79
                     6: 79
                     7: 79
                     8: 79
                     9: 72
               default: 79
          }
      72: return
      73: aload_1
      74: iconst_1
      75: putfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      78: return
      79: new           #37                 // class java/lang/IllegalStateException
      82: dup
      83: ldc           #38                 // String Transaction not active
      85: invokespecial #39                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      88: athrow

  public int getStatus() throws javax.transaction.SystemException;
    Code:
       0: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
       3: invokevirtual #5                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
       9: astore_1
      10: aload_1
      11: ifnonnull     19
      14: bipush        6
      16: goto          23
      19: aload_1
      20: getfield      #16                 // Field org/jboss/ejb/client/EJBClientUserTransactionContext$State.status:I
      23: ireturn

  public void setTransactionTimeout(int) throws javax.transaction.SystemException;
    Code:
       0: iload_1
       1: ifge          6
       4: iconst_0
       5: istore_1
       6: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
       9: invokevirtual #5                  // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      12: checkcast     #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
      15: astore_2
      16: aload_2
      17: ifnonnull     35
      20: invokestatic  #4                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext.access$000:()Ljava/lang/ThreadLocal;
      23: new           #6                  // class org/jboss/ejb/client/EJBClientUserTransactionContext$State
      26: dup
      27: invokespecial #7                  // Method org/jboss/ejb/client/EJBClientUserTransactionContext$State."<init>":()V
      30: dup
      31: astore_2
      32: invokevirtual #8                  // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      35: return
}
