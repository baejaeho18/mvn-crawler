Compiled from "EJBClientManagedTransactionContext.java"
final class org.jboss.ejb.client.EJBClientManagedTransactionContext$ResourceImpl implements javax.transaction.xa.XAResource,java.io.Serializable {
  private final java.lang.Object transactionKey;

  private final org.jboss.ejb.client.EJBClientContext ejbClientContext;

  private final java.lang.String nodeName;

  volatile org.jboss.ejb.client.EJBClientManagedTransactionContext$State state;

  final org.jboss.ejb.client.EJBClientManagedTransactionContext this$0;

  org.jboss.ejb.client.EJBClientManagedTransactionContext$ResourceImpl(org.jboss.ejb.client.EJBClientManagedTransactionContext, org.jboss.ejb.client.EJBClientInvocationContext, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/ejb/client/EJBClientManagedTransactionContext;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: invokevirtual #3                  // Method org/jboss/ejb/client/EJBClientInvocationContext.getClientContext:()Lorg/jboss/ejb/client/EJBClientContext;
      14: putfield      #4                  // Field ejbClientContext:Lorg/jboss/ejb/client/EJBClientContext;
      17: aload_0
      18: aload_3
      19: putfield      #5                  // Field transactionKey:Ljava/lang/Object;
      22: aload_0
      23: aload_2
      24: invokevirtual #6                  // Method org/jboss/ejb/client/EJBClientInvocationContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      27: invokevirtual #7                  // Method org/jboss/ejb/client/EJBReceiver.getNodeName:()Ljava/lang/String;
      30: putfield      #8                  // Field nodeName:Ljava/lang/String;
      33: return

  org.jboss.ejb.client.XidTransactionID getTransactionID();
    Code:
       0: aload_0
       1: getfield      #9                  // Field state:Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;
       4: astore_1
       5: aload_1
       6: ifnonnull     13
       9: aconst_null
      10: goto          17
      13: aload_1
      14: invokestatic  #10                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext$State.access$000:(Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;)Lorg/jboss/ejb/client/XidTransactionID;
      17: areturn

  public void start(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: iload_2
       1: ifeq          10
       4: iload_2
       5: ldc           #11                 // int 2097152
       7: if_icmpne     59
      10: new           #12                 // class org/jboss/ejb/client/XidTransactionID
      13: dup
      14: aload_1
      15: invokespecial #13                 // Method org/jboss/ejb/client/XidTransactionID."<init>":(Ljavax/transaction/xa/Xid;)V
      18: astore_3
      19: invokestatic  #14                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext.access$100:()Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
      22: aload_0
      23: aconst_null
      24: new           #15                 // class org/jboss/ejb/client/EJBClientManagedTransactionContext$State
      27: dup
      28: aload_3
      29: iconst_0
      30: new           #16                 // class java/util/concurrent/atomic/AtomicInteger
      33: dup
      34: invokespecial #17                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      37: invokespecial #18                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext$State."<init>":(Lorg/jboss/ejb/client/XidTransactionID;ZLjava/util/concurrent/atomic/AtomicInteger;)V
      40: invokevirtual #19                 // Method java/util/concurrent/atomic/AtomicReferenceFieldUpdater.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Z
      43: ifne          56
      46: new           #20                 // class javax/transaction/xa/XAException
      49: dup
      50: bipush        -5
      52: invokespecial #21                 // Method javax/transaction/xa/XAException."<init>":(I)V
      55: athrow
      56: goto          126
      59: iload_2
      60: ldc           #22                 // int 134217728
      62: if_icmpne     116
      65: aload_0
      66: getfield      #9                  // Field state:Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;
      69: astore_3
      70: aload_3
      71: ifnull        81
      74: aload_3
      75: invokestatic  #23                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext$State.access$200:(Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;)Z
      78: ifne          91
      81: new           #20                 // class javax/transaction/xa/XAException
      84: dup
      85: bipush        -5
      87: invokespecial #21                 // Method javax/transaction/xa/XAException."<init>":(I)V
      90: athrow
      91: invokestatic  #14                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext.access$100:()Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
      94: aload_0
      95: aload_3
      96: new           #15                 // class org/jboss/ejb/client/EJBClientManagedTransactionContext$State
      99: dup
     100: aload_3
     101: iconst_0
     102: invokespecial #24                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext$State."<init>":(Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;Z)V
     105: dup
     106: astore_3
     107: invokevirtual #19                 // Method java/util/concurrent/atomic/AtomicReferenceFieldUpdater.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Z
     110: ifeq          65
     113: goto          126
     116: new           #20                 // class javax/transaction/xa/XAException
     119: dup
     120: bipush        -5
     122: invokespecial #21                 // Method javax/transaction/xa/XAException."<init>":(I)V
     125: athrow
     126: return

  public void end(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: iload_2
       1: ldc           #25                 // int 33554432
       3: if_icmpne     57
       6: aload_0
       7: getfield      #9                  // Field state:Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;
      10: astore_3
      11: aload_3
      12: ifnull        22
      15: aload_3
      16: invokestatic  #23                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext$State.access$200:(Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;)Z
      19: ifeq          32
      22: new           #20                 // class javax/transaction/xa/XAException
      25: dup
      26: bipush        -5
      28: invokespecial #21                 // Method javax/transaction/xa/XAException."<init>":(I)V
      31: athrow
      32: invokestatic  #14                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext.access$100:()Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
      35: aload_0
      36: aload_3
      37: new           #15                 // class org/jboss/ejb/client/EJBClientManagedTransactionContext$State
      40: dup
      41: aload_3
      42: iconst_1
      43: invokespecial #24                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext$State."<init>":(Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;Z)V
      46: dup
      47: astore_3
      48: invokevirtual #19                 // Method java/util/concurrent/atomic/AtomicReferenceFieldUpdater.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Z
      51: ifeq          6
      54: goto          100
      57: iload_2
      58: ldc           #26                 // int 536870912
      60: if_icmpeq     69
      63: iload_2
      64: ldc           #27                 // int 67108864
      66: if_icmpne     90
      69: invokestatic  #14                 // Method org/jboss/ejb/client/EJBClientManagedTransactionContext.access$100:()Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
      72: aload_0
      73: aconst_null
      74: invokevirtual #28                 // Method java/util/concurrent/atomic/AtomicReferenceFieldUpdater.getAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      77: ifnonnull     100
      80: new           #20                 // class javax/transaction/xa/XAException
      83: dup
      84: bipush        -5
      86: invokespecial #21                 // Method javax/transaction/xa/XAException."<init>":(I)V
      89: athrow
      90: new           #20                 // class javax/transaction/xa/XAException
      93: dup
      94: bipush        -5
      96: invokespecial #21                 // Method javax/transaction/xa/XAException."<init>":(I)V
      99: athrow
     100: return

  public int prepare(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: new           #12                 // class org/jboss/ejb/client/XidTransactionID
       3: dup
       4: aload_1
       5: invokespecial #13                 // Method org/jboss/ejb/client/XidTransactionID."<init>":(Ljavax/transaction/xa/Xid;)V
       8: astore_2
       9: aload_0
      10: getfield      #4                  // Field ejbClientContext:Lorg/jboss/ejb/client/EJBClientContext;
      13: aload_0
      14: getfield      #8                  // Field nodeName:Ljava/lang/String;
      17: invokevirtual #29                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
      20: astore_3
      21: aload_3
      22: invokevirtual #30                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      25: astore        4
      27: aload         4
      29: aload_3
      30: aload_2
      31: invokevirtual #31                 // Method org/jboss/ejb/client/EJBReceiver.sendPrepare:(Lorg/jboss/ejb/client/EJBReceiverContext;Lorg/jboss/ejb/client/TransactionID;)I
      34: ireturn

  public void commit(javax.transaction.xa.Xid, boolean) throws javax.transaction.xa.XAException;
    Code:
       0: new           #12                 // class org/jboss/ejb/client/XidTransactionID
       3: dup
       4: aload_1
       5: invokespecial #13                 // Method org/jboss/ejb/client/XidTransactionID."<init>":(Ljavax/transaction/xa/Xid;)V
       8: astore_3
       9: aload_0
      10: getfield      #4                  // Field ejbClientContext:Lorg/jboss/ejb/client/EJBClientContext;
      13: aload_0
      14: getfield      #8                  // Field nodeName:Ljava/lang/String;
      17: invokevirtual #29                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
      20: astore        4
      22: aload         4
      24: invokevirtual #30                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      27: astore        5
      29: aload         5
      31: aload         4
      33: aload_3
      34: iload_2
      35: invokevirtual #32                 // Method org/jboss/ejb/client/EJBReceiver.sendCommit:(Lorg/jboss/ejb/client/EJBReceiverContext;Lorg/jboss/ejb/client/TransactionID;Z)V
      38: return

  public void forget(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: new           #12                 // class org/jboss/ejb/client/XidTransactionID
       3: dup
       4: aload_1
       5: invokespecial #13                 // Method org/jboss/ejb/client/XidTransactionID."<init>":(Ljavax/transaction/xa/Xid;)V
       8: astore_2
       9: aload_0
      10: getfield      #4                  // Field ejbClientContext:Lorg/jboss/ejb/client/EJBClientContext;
      13: aload_0
      14: getfield      #8                  // Field nodeName:Ljava/lang/String;
      17: invokevirtual #29                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
      20: astore_3
      21: aload_3
      22: invokevirtual #30                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      25: astore        4
      27: aload         4
      29: aload_3
      30: aload_2
      31: invokevirtual #33                 // Method org/jboss/ejb/client/EJBReceiver.sendForget:(Lorg/jboss/ejb/client/EJBReceiverContext;Lorg/jboss/ejb/client/TransactionID;)V
      34: return

  public void rollback(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: new           #12                 // class org/jboss/ejb/client/XidTransactionID
       3: dup
       4: aload_1
       5: invokespecial #13                 // Method org/jboss/ejb/client/XidTransactionID."<init>":(Ljavax/transaction/xa/Xid;)V
       8: astore_2
       9: aload_0
      10: getfield      #4                  // Field ejbClientContext:Lorg/jboss/ejb/client/EJBClientContext;
      13: aload_0
      14: getfield      #8                  // Field nodeName:Ljava/lang/String;
      17: invokevirtual #29                 // Method org/jboss/ejb/client/EJBClientContext.requireNodeEJBReceiverContext:(Ljava/lang/String;)Lorg/jboss/ejb/client/EJBReceiverContext;
      20: astore_3
      21: aload_3
      22: invokevirtual #30                 // Method org/jboss/ejb/client/EJBReceiverContext.getReceiver:()Lorg/jboss/ejb/client/EJBReceiver;
      25: astore        4
      27: aload         4
      29: aload_3
      30: aload_2
      31: invokevirtual #34                 // Method org/jboss/ejb/client/EJBReceiver.sendRollback:(Lorg/jboss/ejb/client/EJBReceiverContext;Lorg/jboss/ejb/client/TransactionID;)V
      34: return

  public boolean isSameRM(javax.transaction.xa.XAResource) throws javax.transaction.xa.XAException;
    Code:
       0: aload_1
       1: instanceof    #35                 // class org/jboss/ejb/client/EJBClientManagedTransactionContext$ResourceImpl
       4: ifeq          22
       7: aload_0
       8: aload_1
       9: checkcast     #35                 // class org/jboss/ejb/client/EJBClientManagedTransactionContext$ResourceImpl
      12: invokevirtual #36                 // Method isSameRM:(Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$ResourceImpl;)Z
      15: ifeq          22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ireturn

  boolean isSameRM(org.jboss.ejb.client.EJBClientManagedTransactionContext$ResourceImpl) throws javax.transaction.xa.XAException;
    Code:
       0: aload_1
       1: ifnull        33
       4: aload_0
       5: getfield      #5                  // Field transactionKey:Ljava/lang/Object;
       8: aload_1
       9: getfield      #5                  // Field transactionKey:Ljava/lang/Object;
      12: if_acmpne     33
      15: aload_0
      16: getfield      #8                  // Field nodeName:Ljava/lang/String;
      19: aload_1
      20: getfield      #8                  // Field nodeName:Ljava/lang/String;
      23: invokevirtual #37                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      26: ifeq          33
      29: iconst_1
      30: goto          34
      33: iconst_0
      34: ireturn

  public boolean setTransactionTimeout(int) throws javax.transaction.xa.XAException;
    Code:
       0: iconst_0
       1: ireturn

  public int getTransactionTimeout() throws javax.transaction.xa.XAException;
    Code:
       0: iconst_0
       1: ireturn

  public javax.transaction.xa.Xid[] recover(int) throws javax.transaction.xa.XAException;
    Code:
       0: iconst_0
       1: anewarray     #38                 // class javax/transaction/xa/Xid
       4: areturn

  public java.lang.String toString();
    Code:
       0: new           #39                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #41                 // String ResourceImpl
      11: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: pop
      15: aload_1
      16: ldc           #43                 // String {transactionKey=
      18: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: aload_0
      22: getfield      #5                  // Field transactionKey:Ljava/lang/Object;
      25: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: pop
      29: aload_1
      30: ldc           #45                 // String , ejbClientContext=
      32: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: aload_0
      36: getfield      #4                  // Field ejbClientContext:Lorg/jboss/ejb/client/EJBClientContext;
      39: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      42: pop
      43: aload_1
      44: ldc           #46                 // String , nodeName=\'
      46: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: aload_0
      50: getfield      #8                  // Field nodeName:Ljava/lang/String;
      53: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      56: bipush        39
      58: invokevirtual #47                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      61: pop
      62: aload_1
      63: ldc           #48                 // String , state=
      65: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: aload_0
      69: getfield      #9                  // Field state:Lorg/jboss/ejb/client/EJBClientManagedTransactionContext$State;
      72: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      75: pop
      76: aload_1
      77: bipush        125
      79: invokevirtual #47                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      82: pop
      83: aload_1
      84: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      87: areturn

  private java.lang.Object writeReplace() throws java.io.ObjectStreamException;
    Code:
       0: new           #50                 // class org/jboss/ejb/client/RecoveryOnlySerializedEJBXAResource
       3: dup
       4: aload_0
       5: getfield      #8                  // Field nodeName:Ljava/lang/String;
       8: invokespecial #51                 // Method org/jboss/ejb/client/RecoveryOnlySerializedEJBXAResource."<init>":(Ljava/lang/String;)V
      11: areturn
}
