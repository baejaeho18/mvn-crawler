Compiled from "UpdateTagSupport.java"
public abstract class org.apache.taglibs.standard.tag.common.sql.UpdateTagSupport extends javax.servlet.jsp.tagext.BodyTagSupport implements javax.servlet.jsp.tagext.TryCatchFinally,javax.servlet.jsp.jstl.sql.SQLExecutionTag {
  private java.lang.String var;

  private int scope;

  protected java.lang.Object rawDataSource;

  protected boolean dataSourceSpecified;

  protected java.lang.String sql;

  private java.sql.Connection conn;

  private java.util.List parameters;

  private boolean isPartOfTransaction;

  public org.apache.taglibs.standard.tag.common.sql.UpdateTagSupport();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/servlet/jsp/tagext/BodyTagSupport."<init>":()V
       4: aload_0
       5: invokespecial #2                  // Method init:()V
       8: return

  private void init();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #3                  // Field rawDataSource:Ljava/lang/Object;
       5: aload_0
       6: aconst_null
       7: putfield      #4                  // Field sql:Ljava/lang/String;
      10: aload_0
      11: aconst_null
      12: putfield      #5                  // Field conn:Ljava/sql/Connection;
      15: aload_0
      16: aconst_null
      17: putfield      #6                  // Field parameters:Ljava/util/List;
      20: aload_0
      21: aload_0
      22: iconst_0
      23: dup_x1
      24: putfield      #7                  // Field dataSourceSpecified:Z
      27: putfield      #8                  // Field isPartOfTransaction:Z
      30: aload_0
      31: iconst_1
      32: putfield      #9                  // Field scope:I
      35: aload_0
      36: aconst_null
      37: putfield      #10                 // Field var:Ljava/lang/String;
      40: return

  public void setVar(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #10                 // Field var:Ljava/lang/String;
       5: return

  public void setScope(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #11                 // Method org/apache/taglibs/standard/tag/common/core/Util.getScope:(Ljava/lang/String;)I
       5: putfield      #9                  // Field scope:I
       8: return

  public int doStartTag() throws javax.servlet.jsp.JspException;
    Code:
       0: aload_0
       1: aload_0
       2: invokespecial #12                 // Method getConnection:()Ljava/sql/Connection;
       5: putfield      #5                  // Field conn:Ljava/sql/Connection;
       8: goto          50
      11: astore_1
      12: new           #14                 // class javax/servlet/jsp/JspException
      15: dup
      16: new           #15                 // class java/lang/StringBuilder
      19: dup
      20: invokespecial #16                 // Method java/lang/StringBuilder."<init>":()V
      23: aload_0
      24: getfield      #4                  // Field sql:Ljava/lang/String;
      27: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #18                 // String :
      32: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: aload_1
      36: invokevirtual #19                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
      39: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #20                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: aload_1
      46: invokespecial #21                 // Method javax/servlet/jsp/JspException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      49: athrow
      50: iconst_2
      51: ireturn
    Exception table:
       from    to  target type
           0     8    11   Class java/sql/SQLException

  public int doEndTag() throws javax.servlet.jsp.JspException;
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: getfield      #4                  // Field sql:Ljava/lang/String;
       6: ifnull        17
       9: aload_0
      10: getfield      #4                  // Field sql:Ljava/lang/String;
      13: astore_1
      14: goto          32
      17: aload_0
      18: getfield      #22                 // Field bodyContent:Ljavax/servlet/jsp/tagext/BodyContent;
      21: ifnull        32
      24: aload_0
      25: getfield      #22                 // Field bodyContent:Ljavax/servlet/jsp/tagext/BodyContent;
      28: invokevirtual #23                 // Method javax/servlet/jsp/tagext/BodyContent.getString:()Ljava/lang/String;
      31: astore_1
      32: aload_1
      33: ifnull        46
      36: aload_1
      37: invokevirtual #24                 // Method java/lang/String.trim:()Ljava/lang/String;
      40: invokevirtual #25                 // Method java/lang/String.length:()I
      43: ifne          59
      46: new           #26                 // class javax/servlet/jsp/JspTagException
      49: dup
      50: ldc           #27                 // String SQL_NO_STATEMENT
      52: invokestatic  #28                 // Method org/apache/taglibs/standard/resources/Resources.getMessage:(Ljava/lang/String;)Ljava/lang/String;
      55: invokespecial #29                 // Method javax/servlet/jsp/JspTagException."<init>":(Ljava/lang/String;)V
      58: athrow
      59: iconst_0
      60: istore_2
      61: aconst_null
      62: astore_3
      63: aload_0
      64: getfield      #5                  // Field conn:Ljava/sql/Connection;
      67: aload_1
      68: invokeinterface #30,  2           // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
      73: astore_3
      74: aload_0
      75: aload_3
      76: aload_0
      77: getfield      #6                  // Field parameters:Ljava/util/List;
      80: invokespecial #31                 // Method setParameters:(Ljava/sql/PreparedStatement;Ljava/util/List;)V
      83: aload_3
      84: invokeinterface #32,  1           // InterfaceMethod java/sql/PreparedStatement.executeUpdate:()I
      89: istore_2
      90: aload_3
      91: ifnull        194
      94: aload_3
      95: invokeinterface #33,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     100: goto          194
     103: astore        4
     105: new           #14                 // class javax/servlet/jsp/JspException
     108: dup
     109: aload         4
     111: invokevirtual #19                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     114: aload         4
     116: invokespecial #21                 // Method javax/servlet/jsp/JspException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     119: athrow
     120: astore        4
     122: new           #14                 // class javax/servlet/jsp/JspException
     125: dup
     126: new           #15                 // class java/lang/StringBuilder
     129: dup
     130: invokespecial #16                 // Method java/lang/StringBuilder."<init>":()V
     133: aload_1
     134: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     137: ldc           #18                 // String :
     139: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     142: aload         4
     144: invokevirtual #35                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
     147: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     150: invokevirtual #20                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     153: aload         4
     155: invokespecial #21                 // Method javax/servlet/jsp/JspException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     158: athrow
     159: astore        5
     161: aload_3
     162: ifnull        191
     165: aload_3
     166: invokeinterface #33,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     171: goto          191
     174: astore        6
     176: new           #14                 // class javax/servlet/jsp/JspException
     179: dup
     180: aload         6
     182: invokevirtual #19                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     185: aload         6
     187: invokespecial #21                 // Method javax/servlet/jsp/JspException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     190: athrow
     191: aload         5
     193: athrow
     194: aload_0
     195: getfield      #10                 // Field var:Ljava/lang/String;
     198: ifnull        224
     201: aload_0
     202: getfield      #36                 // Field pageContext:Ljavax/servlet/jsp/PageContext;
     205: aload_0
     206: getfield      #10                 // Field var:Ljava/lang/String;
     209: new           #37                 // class java/lang/Integer
     212: dup
     213: iload_2
     214: invokespecial #38                 // Method java/lang/Integer."<init>":(I)V
     217: aload_0
     218: getfield      #9                  // Field scope:I
     221: invokevirtual #39                 // Method javax/servlet/jsp/PageContext.setAttribute:(Ljava/lang/String;Ljava/lang/Object;I)V
     224: bipush        6
     226: ireturn
    Exception table:
       from    to  target type
          94   100   103   Class java/sql/SQLException
          63    90   120   Class java/lang/Throwable
          63    90   159   any
         165   171   174   Class java/sql/SQLException
         120   161   159   any

  public void doCatch(java.lang.Throwable) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: athrow

  public void doFinally();
    Code:
       0: aload_0
       1: getfield      #5                  // Field conn:Ljava/sql/Connection;
       4: ifnull        27
       7: aload_0
       8: getfield      #8                  // Field isPartOfTransaction:Z
      11: ifne          27
      14: aload_0
      15: getfield      #5                  // Field conn:Ljava/sql/Connection;
      18: invokeinterface #40,  1           // InterfaceMethod java/sql/Connection.close:()V
      23: goto          27
      26: astore_1
      27: aload_0
      28: aconst_null
      29: putfield      #6                  // Field parameters:Ljava/util/List;
      32: aload_0
      33: aconst_null
      34: putfield      #5                  // Field conn:Ljava/sql/Connection;
      37: return
    Exception table:
       from    to  target type
          14    23    26   Class java/sql/SQLException

  public void addSQLParameter(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #6                  // Field parameters:Ljava/util/List;
       4: ifnonnull     18
       7: aload_0
       8: new           #41                 // class java/util/ArrayList
      11: dup
      12: invokespecial #42                 // Method java/util/ArrayList."<init>":()V
      15: putfield      #6                  // Field parameters:Ljava/util/List;
      18: aload_0
      19: getfield      #6                  // Field parameters:Ljava/util/List;
      22: aload_1
      23: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      28: pop
      29: return

  private java.sql.Connection getConnection() throws javax.servlet.jsp.JspException, java.sql.SQLException;
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: iconst_0
       4: putfield      #8                  // Field isPartOfTransaction:Z
       7: aload_0
       8: ldc_w         #44                 // class org/apache/taglibs/standard/tag/common/sql/TransactionTagSupport
      11: invokestatic  #45                 // Method findAncestorWithClass:(Ljavax/servlet/jsp/tagext/Tag;Ljava/lang/Class;)Ljavax/servlet/jsp/tagext/Tag;
      14: checkcast     #44                 // class org/apache/taglibs/standard/tag/common/sql/TransactionTagSupport
      17: astore_2
      18: aload_2
      19: ifnull        55
      22: aload_0
      23: getfield      #7                  // Field dataSourceSpecified:Z
      26: ifeq          42
      29: new           #26                 // class javax/servlet/jsp/JspTagException
      32: dup
      33: ldc           #46                 // String ERROR_NESTED_DATASOURCE
      35: invokestatic  #28                 // Method org/apache/taglibs/standard/resources/Resources.getMessage:(Ljava/lang/String;)Ljava/lang/String;
      38: invokespecial #29                 // Method javax/servlet/jsp/JspTagException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: aload_2
      43: invokevirtual #47                 // Method org/apache/taglibs/standard/tag/common/sql/TransactionTagSupport.getSharedConnection:()Ljava/sql/Connection;
      46: astore_1
      47: aload_0
      48: iconst_1
      49: putfield      #8                  // Field isPartOfTransaction:Z
      52: goto          131
      55: aload_0
      56: getfield      #3                  // Field rawDataSource:Ljava/lang/Object;
      59: ifnonnull     82
      62: aload_0
      63: getfield      #7                  // Field dataSourceSpecified:Z
      66: ifeq          82
      69: new           #14                 // class javax/servlet/jsp/JspException
      72: dup
      73: ldc           #48                 // String SQL_DATASOURCE_NULL
      75: invokestatic  #28                 // Method org/apache/taglibs/standard/resources/Resources.getMessage:(Ljava/lang/String;)Ljava/lang/String;
      78: invokespecial #49                 // Method javax/servlet/jsp/JspException."<init>":(Ljava/lang/String;)V
      81: athrow
      82: aload_0
      83: getfield      #3                  // Field rawDataSource:Ljava/lang/Object;
      86: aload_0
      87: getfield      #36                 // Field pageContext:Ljavax/servlet/jsp/PageContext;
      90: invokestatic  #50                 // Method org/apache/taglibs/standard/tag/common/sql/DataSourceUtil.getDataSource:(Ljava/lang/Object;Ljavax/servlet/jsp/PageContext;)Ljavax/sql/DataSource;
      93: astore_3
      94: aload_3
      95: invokeinterface #51,  1           // InterfaceMethod javax/sql/DataSource.getConnection:()Ljava/sql/Connection;
     100: astore_1
     101: goto          131
     104: astore        4
     106: new           #14                 // class javax/servlet/jsp/JspException
     109: dup
     110: ldc           #53                 // String DATASOURCE_INVALID
     112: iconst_1
     113: anewarray     #54                 // class java/lang/Object
     116: dup
     117: iconst_0
     118: aload         4
     120: invokevirtual #55                 // Method java/lang/Exception.toString:()Ljava/lang/String;
     123: aastore
     124: invokestatic  #56                 // Method org/apache/taglibs/standard/resources/Resources.getMessage:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     127: invokespecial #49                 // Method javax/servlet/jsp/JspException."<init>":(Ljava/lang/String;)V
     130: athrow
     131: aload_1
     132: areturn
    Exception table:
       from    to  target type
          94   101   104   Class java/lang/Exception

  private void setParameters(java.sql.PreparedStatement, java.util.List) throws java.sql.SQLException;
    Code:
       0: aload_2
       1: ifnull        38
       4: iconst_0
       5: istore_3
       6: iload_3
       7: aload_2
       8: invokeinterface #57,  1           // InterfaceMethod java/util/List.size:()I
      13: if_icmpge     38
      16: aload_1
      17: iload_3
      18: iconst_1
      19: iadd
      20: aload_2
      21: iload_3
      22: invokeinterface #58,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      27: invokeinterface #59,  3           // InterfaceMethod java/sql/PreparedStatement.setObject:(ILjava/lang/Object;)V
      32: iinc          3, 1
      35: goto          6
      38: return
}
