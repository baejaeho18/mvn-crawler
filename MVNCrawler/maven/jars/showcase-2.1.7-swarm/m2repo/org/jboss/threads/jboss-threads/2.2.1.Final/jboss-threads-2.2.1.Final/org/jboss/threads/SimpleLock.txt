Compiled from "SimpleLock.java"
final class org.jboss.threads.SimpleLock implements java.util.concurrent.locks.Lock {
  private boolean locked;

  org.jboss.threads.SimpleLock();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void lock();
    Code:
       0: invokestatic  #2                  // Method java/lang/Thread.interrupted:()Z
       3: istore_1
       4: aload_0
       5: dup
       6: astore_2
       7: monitorenter
       8: aload_0
       9: getfield      #3                  // Field locked:Z
      12: ifeq          28
      15: aload_0
      16: invokevirtual #4                  // Method java/lang/Object.wait:()V
      19: goto          8
      22: astore_3
      23: iconst_1
      24: istore_1
      25: goto          8
      28: aload_0
      29: iconst_1
      30: putfield      #3                  // Field locked:Z
      33: aload_2
      34: monitorexit
      35: goto          45
      38: astore        4
      40: aload_2
      41: monitorexit
      42: aload         4
      44: athrow
      45: iload_1
      46: ifeq          73
      49: invokestatic  #6                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      52: invokevirtual #7                  // Method java/lang/Thread.interrupt:()V
      55: goto          73
      58: astore        5
      60: iload_1
      61: ifeq          70
      64: invokestatic  #6                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      67: invokevirtual #7                  // Method java/lang/Thread.interrupt:()V
      70: aload         5
      72: athrow
      73: return
    Exception table:
       from    to  target type
          15    19    22   Class java/lang/InterruptedException
           8    35    38   any
          38    42    38   any
           4    45    58   any
          58    60    58   any

  public void lockInterruptibly() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: dup
       2: astore_1
       3: monitorenter
       4: aload_0
       5: getfield      #3                  // Field locked:Z
       8: ifeq          18
      11: aload_0
      12: invokevirtual #4                  // Method java/lang/Object.wait:()V
      15: goto          4
      18: aload_0
      19: iconst_1
      20: putfield      #3                  // Field locked:Z
      23: aload_1
      24: monitorexit
      25: goto          33
      28: astore_2
      29: aload_1
      30: monitorexit
      31: aload_2
      32: athrow
      33: return
    Exception table:
       from    to  target type
           4    25    28   any
          28    31    28   any

  public boolean tryLock();
    Code:
       0: aload_0
       1: dup
       2: astore_1
       3: monitorenter
       4: aload_0
       5: getfield      #3                  // Field locked:Z
       8: ifeq          15
      11: iconst_0
      12: aload_1
      13: monitorexit
      14: ireturn
      15: aload_0
      16: iconst_1
      17: putfield      #3                  // Field locked:Z
      20: iconst_1
      21: aload_1
      22: monitorexit
      23: ireturn
      24: astore_2
      25: aload_1
      26: monitorexit
      27: aload_2
      28: athrow
    Exception table:
       from    to  target type
           4    14    24   any
          15    23    24   any
          24    27    24   any

  private static long clipHigh(long);
    Code:
       0: lload_0
       1: lconst_0
       2: lcmp
       3: ifge          12
       6: ldc2_w        #8                  // long 9223372036854775807l
       9: goto          13
      12: lload_0
      13: lreturn

  public boolean tryLock(long, java.util.concurrent.TimeUnit) throws java.lang.InterruptedException;
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifge          11
       6: aload_0
       7: invokevirtual #10                 // Method tryLock:()Z
      10: ireturn
      11: invokestatic  #11                 // Method java/lang/System.currentTimeMillis:()J
      14: lstore        4
      16: lload         4
      18: aload_3
      19: lload_1
      20: invokevirtual #12                 // Method java/util/concurrent/TimeUnit.toMillis:(J)J
      23: ladd
      24: invokestatic  #13                 // Method clipHigh:(J)J
      27: lstore        6
      29: aload_0
      30: dup
      31: astore        8
      33: monitorenter
      34: aload_0
      35: getfield      #3                  // Field locked:Z
      38: ifne          51
      41: aload_0
      42: iconst_1
      43: dup_x1
      44: putfield      #3                  // Field locked:Z
      47: aload         8
      49: monitorexit
      50: ireturn
      51: lload         6
      53: lload         4
      55: lsub
      56: lstore        9
      58: lload         9
      60: lconst_0
      61: lcmp
      62: ifgt          70
      65: iconst_0
      66: aload         8
      68: monitorexit
      69: ireturn
      70: aload_0
      71: lload         9
      73: invokevirtual #14                 // Method java/lang/Object.wait:(J)V
      76: aload_0
      77: getfield      #3                  // Field locked:Z
      80: ifne          93
      83: aload_0
      84: iconst_1
      85: dup_x1
      86: putfield      #3                  // Field locked:Z
      89: aload         8
      91: monitorexit
      92: ireturn
      93: invokestatic  #11                 // Method java/lang/System.currentTimeMillis:()J
      96: lstore        4
      98: goto          51
     101: astore        11
     103: aload         8
     105: monitorexit
     106: aload         11
     108: athrow
    Exception table:
       from    to  target type
          34    50   101   any
          51    69   101   any
          70    92   101   any
          93   106   101   any

  public void unlock();
    Code:
       0: aload_0
       1: dup
       2: astore_1
       3: monitorenter
       4: aload_0
       5: iconst_0
       6: putfield      #3                  // Field locked:Z
       9: aload_1
      10: monitorexit
      11: goto          19
      14: astore_2
      15: aload_1
      16: monitorexit
      17: aload_2
      18: athrow
      19: return
    Exception table:
       from    to  target type
           4    11    14   any
          14    17    14   any

  public java.util.concurrent.locks.Condition newCondition();
    Code:
       0: new           #15                 // class org/jboss/threads/SimpleLock$SimpleCondition
       3: dup
       4: aload_0
       5: invokespecial #16                 // Method org/jboss/threads/SimpleLock$SimpleCondition."<init>":(Lorg/jboss/threads/SimpleLock;)V
       8: areturn
}
