Compiled from "ThreadFactoryExecutor.java"
class org.jboss.threads.ThreadFactoryExecutor implements org.jboss.threads.BlockingExecutor,org.jboss.threads.management.BoundedThreadPoolExecutorMBean {
  private final java.util.concurrent.ThreadFactory factory;

  private final java.util.concurrent.Semaphore limitSemaphore;

  private final org.jboss.threads.DirectExecutor taskExecutor;

  private final java.lang.Object lock;

  private int maxThreads;

  private int largestThreadCount;

  private int currentThreadCount;

  private final java.util.concurrent.atomic.AtomicInteger rejected;

  private volatile boolean blocking;

  org.jboss.threads.ThreadFactoryExecutor(java.util.concurrent.ThreadFactory, int, boolean, org.jboss.threads.DirectExecutor);
    Code:
       0: aload_0
       1: invokespecial #6                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #7                  // class java/lang/Object
       8: dup
       9: invokespecial #6                  // Method java/lang/Object."<init>":()V
      12: putfield      #5                  // Field lock:Ljava/lang/Object;
      15: aload_0
      16: new           #8                  // class java/util/concurrent/atomic/AtomicInteger
      19: dup
      20: invokespecial #9                  // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      23: putfield      #10                 // Field rejected:Ljava/util/concurrent/atomic/AtomicInteger;
      26: aload_0
      27: aload_1
      28: putfield      #11                 // Field factory:Ljava/util/concurrent/ThreadFactory;
      31: aload_0
      32: iload_2
      33: putfield      #12                 // Field maxThreads:I
      36: aload_0
      37: iload_3
      38: putfield      #13                 // Field blocking:Z
      41: aload_0
      42: aload         4
      44: putfield      #2                  // Field taskExecutor:Lorg/jboss/threads/DirectExecutor;
      47: aload_0
      48: new           #14                 // class java/util/concurrent/Semaphore
      51: dup
      52: iload_2
      53: invokespecial #15                 // Method java/util/concurrent/Semaphore."<init>":(I)V
      56: putfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
      59: return

  public int getMaxThreads();
    Code:
       0: aload_0
       1: getfield      #5                  // Field lock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #12                 // Field maxThreads:I
      11: aload_1
      12: monitorexit
      13: ireturn
      14: astore_2
      15: aload_1
      16: monitorexit
      17: aload_2
      18: athrow
    Exception table:
       from    to  target type
           7    13    14   any
          14    17    14   any

  public void setMaxThreads(int);
    Code:
       0: iload_1
       1: ifge          14
       4: new           #16                 // class java/lang/IllegalArgumentException
       7: dup
       8: ldc           #17                 // String Max threads must not be negative
      10: invokespecial #18                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #5                  // Field lock:Ljava/lang/Object;
      18: dup
      19: astore_2
      20: monitorenter
      21: aload_0
      22: getfield      #12                 // Field maxThreads:I
      25: istore_3
      26: iload_3
      27: iload_1
      28: isub
      29: istore        4
      31: iload         4
      33: ifge          49
      36: aload_0
      37: getfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
      40: iload         4
      42: ineg
      43: invokevirtual #19                 // Method java/util/concurrent/Semaphore.release:(I)V
      46: goto          76
      49: iload         4
      51: ifle          76
      54: aload_0
      55: getfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
      58: iload         4
      60: invokevirtual #20                 // Method java/util/concurrent/Semaphore.tryAcquire:(I)Z
      63: ifne          76
      66: new           #16                 // class java/lang/IllegalArgumentException
      69: dup
      70: ldc           #21                 // String Cannot reduce maximum threads below current number of running threads
      72: invokespecial #18                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      75: athrow
      76: aload_0
      77: iload_1
      78: putfield      #12                 // Field maxThreads:I
      81: aload_2
      82: monitorexit
      83: goto          93
      86: astore        5
      88: aload_2
      89: monitorexit
      90: aload         5
      92: athrow
      93: return
    Exception table:
       from    to  target type
          21    83    86   any
          86    90    86   any

  public void execute(java.lang.Runnable);
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #22                 // class java/lang/NullPointerException
       7: dup
       8: ldc           #23                 // String task is null
      10: invokespecial #24                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
      18: astore_2
      19: aload_0
      20: getfield      #13                 // Field blocking:Z
      23: ifeq          48
      26: aload_2
      27: invokevirtual #25                 // Method java/util/concurrent/Semaphore.acquire:()V
      30: goto          65
      33: astore_3
      34: invokestatic  #27                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      37: invokevirtual #28                 // Method java/lang/Thread.interrupt:()V
      40: new           #29                 // class org/jboss/threads/ExecutionInterruptedException
      43: dup
      44: invokespecial #30                 // Method org/jboss/threads/ExecutionInterruptedException."<init>":()V
      47: athrow
      48: aload_2
      49: invokevirtual #31                 // Method java/util/concurrent/Semaphore.tryAcquire:()Z
      52: ifne          65
      55: new           #32                 // class java/util/concurrent/RejectedExecutionException
      58: dup
      59: ldc           #33                 // String Task limit reached
      61: invokespecial #34                 // Method java/util/concurrent/RejectedExecutionException."<init>":(Ljava/lang/String;)V
      64: athrow
      65: iconst_0
      66: istore_3
      67: aload_0
      68: getfield      #11                 // Field factory:Ljava/util/concurrent/ThreadFactory;
      71: new           #35                 // class org/jboss/threads/ThreadFactoryExecutor$1
      74: dup
      75: aload_0
      76: aload_1
      77: invokespecial #36                 // Method org/jboss/threads/ThreadFactoryExecutor$1."<init>":(Lorg/jboss/threads/ThreadFactoryExecutor;Ljava/lang/Runnable;)V
      80: invokeinterface #37,  2           // InterfaceMethod java/util/concurrent/ThreadFactory.newThread:(Ljava/lang/Runnable;)Ljava/lang/Thread;
      85: astore        4
      87: aload         4
      89: ifnonnull     102
      92: new           #38                 // class org/jboss/threads/ThreadCreationException
      95: dup
      96: ldc           #39                 // String No threads can be created
      98: invokespecial #40                 // Method org/jboss/threads/ThreadCreationException."<init>":(Ljava/lang/String;)V
     101: athrow
     102: aload         4
     104: invokevirtual #41                 // Method java/lang/Thread.start:()V
     107: iconst_1
     108: istore_3
     109: iload_3
     110: ifne          133
     113: aload_2
     114: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
     117: goto          133
     120: astore        5
     122: iload_3
     123: ifne          130
     126: aload_2
     127: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
     130: aload         5
     132: athrow
     133: goto          147
     136: astore_2
     137: aload_0
     138: getfield      #10                 // Field rejected:Ljava/util/concurrent/atomic/AtomicInteger;
     141: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.getAndIncrement:()I
     144: pop
     145: aload_2
     146: athrow
     147: return
    Exception table:
       from    to  target type
          26    30    33   Class java/lang/InterruptedException
          67   109   120   any
         120   122   120   any
          14   133   136   Class java/util/concurrent/RejectedExecutionException

  public void executeBlocking(java.lang.Runnable) throws java.util.concurrent.RejectedExecutionException, java.lang.InterruptedException;
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #22                 // class java/lang/NullPointerException
       7: dup
       8: ldc           #23                 // String task is null
      10: invokespecial #24                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
      18: astore_2
      19: aload_2
      20: invokevirtual #25                 // Method java/util/concurrent/Semaphore.acquire:()V
      23: iconst_0
      24: istore_3
      25: aload_0
      26: getfield      #11                 // Field factory:Ljava/util/concurrent/ThreadFactory;
      29: new           #44                 // class org/jboss/threads/ThreadFactoryExecutor$2
      32: dup
      33: aload_0
      34: aload_1
      35: invokespecial #45                 // Method org/jboss/threads/ThreadFactoryExecutor$2."<init>":(Lorg/jboss/threads/ThreadFactoryExecutor;Ljava/lang/Runnable;)V
      38: invokeinterface #37,  2           // InterfaceMethod java/util/concurrent/ThreadFactory.newThread:(Ljava/lang/Runnable;)Ljava/lang/Thread;
      43: astore        4
      45: aload         4
      47: ifnonnull     60
      50: new           #38                 // class org/jboss/threads/ThreadCreationException
      53: dup
      54: ldc           #39                 // String No threads can be created
      56: invokespecial #40                 // Method org/jboss/threads/ThreadCreationException."<init>":(Ljava/lang/String;)V
      59: athrow
      60: aload         4
      62: invokevirtual #41                 // Method java/lang/Thread.start:()V
      65: iconst_1
      66: istore_3
      67: iload_3
      68: ifne          91
      71: aload_2
      72: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
      75: goto          91
      78: astore        5
      80: iload_3
      81: ifne          88
      84: aload_2
      85: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
      88: aload         5
      90: athrow
      91: goto          105
      94: astore_2
      95: aload_0
      96: getfield      #10                 // Field rejected:Ljava/util/concurrent/atomic/AtomicInteger;
      99: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.getAndIncrement:()I
     102: pop
     103: aload_2
     104: athrow
     105: return
    Exception table:
       from    to  target type
          25    67    78   any
          78    80    78   any
          14    91    94   Class java/util/concurrent/RejectedExecutionException

  public void executeBlocking(java.lang.Runnable, long, java.util.concurrent.TimeUnit) throws java.util.concurrent.RejectedExecutionException, java.lang.InterruptedException;
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #22                 // class java/lang/NullPointerException
       7: dup
       8: ldc           #23                 // String task is null
      10: invokespecial #24                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
      18: astore        5
      20: aload         5
      22: lload_2
      23: aload         4
      25: invokevirtual #46                 // Method java/util/concurrent/Semaphore.tryAcquire:(JLjava/util/concurrent/TimeUnit;)Z
      28: ifne          39
      31: new           #47                 // class org/jboss/threads/ExecutionTimedOutException
      34: dup
      35: invokespecial #48                 // Method org/jboss/threads/ExecutionTimedOutException."<init>":()V
      38: athrow
      39: iconst_0
      40: istore        6
      42: aload_0
      43: getfield      #11                 // Field factory:Ljava/util/concurrent/ThreadFactory;
      46: new           #49                 // class org/jboss/threads/ThreadFactoryExecutor$3
      49: dup
      50: aload_0
      51: aload_1
      52: invokespecial #50                 // Method org/jboss/threads/ThreadFactoryExecutor$3."<init>":(Lorg/jboss/threads/ThreadFactoryExecutor;Ljava/lang/Runnable;)V
      55: invokeinterface #37,  2           // InterfaceMethod java/util/concurrent/ThreadFactory.newThread:(Ljava/lang/Runnable;)Ljava/lang/Thread;
      60: astore        7
      62: aload         7
      64: ifnonnull     77
      67: new           #38                 // class org/jboss/threads/ThreadCreationException
      70: dup
      71: ldc           #39                 // String No threads can be created
      73: invokespecial #40                 // Method org/jboss/threads/ThreadCreationException."<init>":(Ljava/lang/String;)V
      76: athrow
      77: aload         7
      79: invokevirtual #41                 // Method java/lang/Thread.start:()V
      82: iconst_1
      83: istore        6
      85: iload         6
      87: ifne          113
      90: aload         5
      92: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
      95: goto          113
      98: astore        8
     100: iload         6
     102: ifne          110
     105: aload         5
     107: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
     110: aload         8
     112: athrow
     113: goto          129
     116: astore        5
     118: aload_0
     119: getfield      #10                 // Field rejected:Ljava/util/concurrent/atomic/AtomicInteger;
     122: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.getAndIncrement:()I
     125: pop
     126: aload         5
     128: athrow
     129: return
    Exception table:
       from    to  target type
          42    85    98   any
          98   100    98   any
          14   113   116   Class java/util/concurrent/RejectedExecutionException

  public void executeNonBlocking(java.lang.Runnable) throws java.util.concurrent.RejectedExecutionException;
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #22                 // class java/lang/NullPointerException
       7: dup
       8: ldc           #23                 // String task is null
      10: invokespecial #24                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
      18: astore_2
      19: aload_2
      20: invokevirtual #31                 // Method java/util/concurrent/Semaphore.tryAcquire:()Z
      23: ifne          36
      26: new           #32                 // class java/util/concurrent/RejectedExecutionException
      29: dup
      30: ldc           #33                 // String Task limit reached
      32: invokespecial #34                 // Method java/util/concurrent/RejectedExecutionException."<init>":(Ljava/lang/String;)V
      35: athrow
      36: iconst_0
      37: istore_3
      38: aload_0
      39: getfield      #11                 // Field factory:Ljava/util/concurrent/ThreadFactory;
      42: new           #51                 // class org/jboss/threads/ThreadFactoryExecutor$4
      45: dup
      46: aload_0
      47: aload_1
      48: invokespecial #52                 // Method org/jboss/threads/ThreadFactoryExecutor$4."<init>":(Lorg/jboss/threads/ThreadFactoryExecutor;Ljava/lang/Runnable;)V
      51: invokeinterface #37,  2           // InterfaceMethod java/util/concurrent/ThreadFactory.newThread:(Ljava/lang/Runnable;)Ljava/lang/Thread;
      56: astore        4
      58: aload         4
      60: ifnonnull     73
      63: new           #38                 // class org/jboss/threads/ThreadCreationException
      66: dup
      67: ldc           #39                 // String No threads can be created
      69: invokespecial #40                 // Method org/jboss/threads/ThreadCreationException."<init>":(Ljava/lang/String;)V
      72: athrow
      73: aload         4
      75: invokevirtual #41                 // Method java/lang/Thread.start:()V
      78: iconst_1
      79: istore_3
      80: iload_3
      81: ifne          104
      84: aload_2
      85: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
      88: goto          104
      91: astore        5
      93: iload_3
      94: ifne          101
      97: aload_2
      98: invokevirtual #42                 // Method java/util/concurrent/Semaphore.release:()V
     101: aload         5
     103: athrow
     104: goto          118
     107: astore_2
     108: aload_0
     109: getfield      #10                 // Field rejected:Ljava/util/concurrent/atomic/AtomicInteger;
     112: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.getAndIncrement:()I
     115: pop
     116: aload_2
     117: athrow
     118: return
    Exception table:
       from    to  target type
          38    80    91   any
          91    93    91   any
          14   104   107   Class java/util/concurrent/RejectedExecutionException

  public boolean isBlocking();
    Code:
       0: aload_0
       1: getfield      #13                 // Field blocking:Z
       4: ireturn

  public void setBlocking(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #13                 // Field blocking:Z
       5: return

  public int getLargestThreadCount();
    Code:
       0: aload_0
       1: getfield      #5                  // Field lock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #3                  // Field largestThreadCount:I
      11: aload_1
      12: monitorexit
      13: ireturn
      14: astore_2
      15: aload_1
      16: monitorexit
      17: aload_2
      18: athrow
    Exception table:
       from    to  target type
           7    13    14   any
          14    17    14   any

  public int getCurrentThreadCount();
    Code:
       0: aload_0
       1: getfield      #5                  // Field lock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #4                  // Field currentThreadCount:I
      11: aload_1
      12: monitorexit
      13: ireturn
      14: astore_2
      15: aload_1
      16: monitorexit
      17: aload_2
      18: athrow
    Exception table:
       from    to  target type
           7    13    14   any
          14    17    14   any

  public int getQueueSize();
    Code:
       0: iconst_0
       1: ireturn

  public int getRejectedCount();
    Code:
       0: aload_0
       1: getfield      #10                 // Field rejected:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: ireturn

  public long getKeepAliveTime();
    Code:
       0: lconst_0
       1: lreturn

  public void setKeepAliveTime(long);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifeq          16
       6: new           #16                 // class java/lang/IllegalArgumentException
       9: dup
      10: ldc           #54                 // String Keep-alive may only be set to 0ms
      12: invokespecial #18                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      15: athrow
      16: return

  public java.lang.String toString();
    Code:
       0: ldc           #55                 // String %s (%s)
       2: iconst_2
       3: anewarray     #7                  // class java/lang/Object
       6: dup
       7: iconst_0
       8: aload_0
       9: invokespecial #56                 // Method java/lang/Object.toString:()Ljava/lang/String;
      12: aastore
      13: dup
      14: iconst_1
      15: aload_0
      16: getfield      #11                 // Field factory:Ljava/util/concurrent/ThreadFactory;
      19: aastore
      20: invokestatic  #57                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      23: areturn

  static java.lang.Object access$000(org.jboss.threads.ThreadFactoryExecutor);
    Code:
       0: aload_0
       1: getfield      #5                  // Field lock:Ljava/lang/Object;
       4: areturn

  static int access$104(org.jboss.threads.ThreadFactoryExecutor);
    Code:
       0: aload_0
       1: dup
       2: getfield      #4                  // Field currentThreadCount:I
       5: iconst_1
       6: iadd
       7: dup_x1
       8: putfield      #4                  // Field currentThreadCount:I
      11: ireturn

  static int access$200(org.jboss.threads.ThreadFactoryExecutor);
    Code:
       0: aload_0
       1: getfield      #3                  // Field largestThreadCount:I
       4: ireturn

  static int access$202(org.jboss.threads.ThreadFactoryExecutor, int);
    Code:
       0: aload_0
       1: iload_1
       2: dup_x1
       3: putfield      #3                  // Field largestThreadCount:I
       6: ireturn

  static org.jboss.threads.DirectExecutor access$300(org.jboss.threads.ThreadFactoryExecutor);
    Code:
       0: aload_0
       1: getfield      #2                  // Field taskExecutor:Lorg/jboss/threads/DirectExecutor;
       4: areturn

  static int access$110(org.jboss.threads.ThreadFactoryExecutor);
    Code:
       0: aload_0
       1: dup
       2: getfield      #4                  // Field currentThreadCount:I
       5: dup_x1
       6: iconst_1
       7: isub
       8: putfield      #4                  // Field currentThreadCount:I
      11: ireturn

  static java.util.concurrent.Semaphore access$400(org.jboss.threads.ThreadFactoryExecutor);
    Code:
       0: aload_0
       1: getfield      #1                  // Field limitSemaphore:Ljava/util/concurrent/Semaphore;
       4: areturn
}
