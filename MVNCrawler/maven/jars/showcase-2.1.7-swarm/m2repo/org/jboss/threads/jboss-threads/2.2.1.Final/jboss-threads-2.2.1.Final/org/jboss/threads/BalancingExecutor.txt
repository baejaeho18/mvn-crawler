Compiled from "BalancingExecutor.java"
public class org.jboss.threads.BalancingExecutor implements java.util.concurrent.Executor {
  private volatile java.util.concurrent.Executor[] executors;

  private final java.util.concurrent.atomic.AtomicInteger seq;

  private final java.util.concurrent.locks.Lock writeLock;

  private static final org.jboss.threads.AtomicArray<org.jboss.threads.BalancingExecutor, java.util.concurrent.Executor> executorsUpdater;

  public org.jboss.threads.BalancingExecutor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field executors:[Ljava/util/concurrent/Executor;
       9: aload_0
      10: new           #3                  // class java/util/concurrent/atomic/AtomicInteger
      13: dup
      14: invokespecial #4                  // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      17: putfield      #5                  // Field seq:Ljava/util/concurrent/atomic/AtomicInteger;
      20: aload_0
      21: new           #6                  // class java/util/concurrent/locks/ReentrantLock
      24: dup
      25: invokespecial #7                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      28: putfield      #8                  // Field writeLock:Ljava/util/concurrent/locks/Lock;
      31: getstatic     #9                  // Field executorsUpdater:Lorg/jboss/threads/AtomicArray;
      34: aload_0
      35: invokevirtual #10                 // Method org/jboss/threads/AtomicArray.clear:(Ljava/lang/Object;)V
      38: return

  public org.jboss.threads.BalancingExecutor(java.util.concurrent.Executor...);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field executors:[Ljava/util/concurrent/Executor;
       9: aload_0
      10: new           #3                  // class java/util/concurrent/atomic/AtomicInteger
      13: dup
      14: invokespecial #4                  // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      17: putfield      #5                  // Field seq:Ljava/util/concurrent/atomic/AtomicInteger;
      20: aload_0
      21: new           #6                  // class java/util/concurrent/locks/ReentrantLock
      24: dup
      25: invokespecial #7                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      28: putfield      #8                  // Field writeLock:Ljava/util/concurrent/locks/Lock;
      31: aload_1
      32: ifnull        111
      35: aload_1
      36: arraylength
      37: ifle          111
      40: aload_1
      41: invokevirtual #11                 // Method "[Ljava/util/concurrent/Executor;".clone:()Ljava/lang/Object;
      44: checkcast     #12                 // class "[Ljava/util/concurrent/Executor;"
      47: astore_2
      48: iconst_0
      49: istore_3
      50: iload_3
      51: aload_2
      52: arraylength
      53: if_icmpge     100
      56: aload_2
      57: iload_3
      58: aaload
      59: ifnonnull     94
      62: new           #13                 // class java/lang/NullPointerException
      65: dup
      66: new           #14                 // class java/lang/StringBuilder
      69: dup
      70: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      73: ldc           #16                 // String executor at index
      75: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      78: iload_3
      79: invokevirtual #18                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      82: ldc           #19                 // String  is null
      84: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      87: invokevirtual #20                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      90: invokespecial #21                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      93: athrow
      94: iinc          3, 1
      97: goto          50
     100: getstatic     #9                  // Field executorsUpdater:Lorg/jboss/threads/AtomicArray;
     103: aload_0
     104: aload_2
     105: invokevirtual #22                 // Method org/jboss/threads/AtomicArray.set:(Ljava/lang/Object;[Ljava/lang/Object;)V
     108: goto          118
     111: getstatic     #9                  // Field executorsUpdater:Lorg/jboss/threads/AtomicArray;
     114: aload_0
     115: invokevirtual #10                 // Method org/jboss/threads/AtomicArray.clear:(Ljava/lang/Object;)V
     118: return

  public void execute(java.lang.Runnable) throws java.util.concurrent.RejectedExecutionException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field executors:[Ljava/util/concurrent/Executor;
       4: astore_2
       5: aload_2
       6: arraylength
       7: istore_3
       8: iload_3
       9: ifne          22
      12: new           #23                 // class java/util/concurrent/RejectedExecutionException
      15: dup
      16: ldc           #24                 // String No executors available to run task
      18: invokespecial #25                 // Method java/util/concurrent/RejectedExecutionException."<init>":(Ljava/lang/String;)V
      21: athrow
      22: aload_2
      23: aload_0
      24: getfield      #5                  // Field seq:Ljava/util/concurrent/atomic/AtomicInteger;
      27: invokevirtual #26                 // Method java/util/concurrent/atomic/AtomicInteger.getAndIncrement:()I
      30: iload_3
      31: irem
      32: aaload
      33: aload_1
      34: invokeinterface #27,  2           // InterfaceMethod java/util/concurrent/Executor.execute:(Ljava/lang/Runnable;)V
      39: return

  public void clear();
    Code:
       0: getstatic     #9                  // Field executorsUpdater:Lorg/jboss/threads/AtomicArray;
       3: aload_0
       4: invokevirtual #10                 // Method org/jboss/threads/AtomicArray.clear:(Ljava/lang/Object;)V
       7: return

  public void addExecutor(java.util.concurrent.Executor);
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #13                 // class java/lang/NullPointerException
       7: dup
       8: ldc           #28                 // String executor is null
      10: invokespecial #21                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #8                  // Field writeLock:Ljava/util/concurrent/locks/Lock;
      18: astore_2
      19: aload_2
      20: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      25: getstatic     #9                  // Field executorsUpdater:Lorg/jboss/threads/AtomicArray;
      28: aload_0
      29: aload_1
      30: invokevirtual #30                 // Method org/jboss/threads/AtomicArray.add:(Ljava/lang/Object;Ljava/lang/Object;)V
      33: aload_2
      34: invokeinterface #31,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      39: goto          51
      42: astore_3
      43: aload_2
      44: invokeinterface #31,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      49: aload_3
      50: athrow
      51: return
    Exception table:
       from    to  target type
          25    33    42   any
          42    43    42   any

  public void removeExecutor(java.util.concurrent.Executor);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_0
       6: getfield      #8                  // Field writeLock:Ljava/util/concurrent/locks/Lock;
       9: astore_2
      10: aload_2
      11: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      16: getstatic     #9                  // Field executorsUpdater:Lorg/jboss/threads/AtomicArray;
      19: aload_0
      20: aload_1
      21: iconst_1
      22: invokevirtual #32                 // Method org/jboss/threads/AtomicArray.remove:(Ljava/lang/Object;Ljava/lang/Object;Z)Z
      25: pop
      26: aload_2
      27: invokeinterface #31,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      32: goto          44
      35: astore_3
      36: aload_2
      37: invokeinterface #31,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      42: aload_3
      43: athrow
      44: return
    Exception table:
       from    to  target type
          16    26    35   any
          35    36    35   any

  static {};
    Code:
       0: ldc_w         #33                 // class org/jboss/threads/BalancingExecutor
       3: ldc_w         #12                 // class "[Ljava/util/concurrent/Executor;"
       6: ldc           #34                 // String executors
       8: invokestatic  #35                 // Method java/util/concurrent/atomic/AtomicReferenceFieldUpdater.newUpdater:(Ljava/lang/Class;Ljava/lang/Class;Ljava/lang/String;)Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
      11: new           #36                 // class org/jboss/threads/BalancingExecutor$1
      14: dup
      15: invokespecial #37                 // Method org/jboss/threads/BalancingExecutor$1."<init>":()V
      18: invokestatic  #38                 // Method org/jboss/threads/AtomicArray.create:(Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;Lorg/jboss/threads/AtomicArray$Creator;)Lorg/jboss/threads/AtomicArray;
      21: putstatic     #9                  // Field executorsUpdater:Lorg/jboss/threads/AtomicArray;
      24: return
}
