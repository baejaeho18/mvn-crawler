Compiled from "ServerConnectionOpenListener.java"
final class org.jboss.remoting3.remote.ServerConnectionOpenListener implements org.xnio.ChannelListener<org.xnio.channels.ConnectedMessageChannel> {
  private final org.jboss.remoting3.remote.RemoteConnection connection;

  private final org.jboss.remoting3.spi.ConnectionProviderContext connectionProviderContext;

  private final org.jboss.remoting3.security.ServerAuthenticationProvider serverAuthenticationProvider;

  private final org.xnio.OptionMap optionMap;

  private final java.security.AccessControlContext accessControlContext;

  private final java.util.concurrent.atomic.AtomicInteger retryCount;

  private final java.lang.String serverName;

  org.jboss.remoting3.remote.ServerConnectionOpenListener(org.jboss.remoting3.remote.RemoteConnection, org.jboss.remoting3.spi.ConnectionProviderContext, org.jboss.remoting3.security.ServerAuthenticationProvider, org.xnio.OptionMap, java.security.AccessControlContext);
    Code:
       0: aload_0
       1: invokespecial #9                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #10                 // class java/util/concurrent/atomic/AtomicInteger
       8: dup
       9: bipush        8
      11: invokespecial #11                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      14: putfield      #6                  // Field retryCount:Ljava/util/concurrent/atomic/AtomicInteger;
      17: aload_0
      18: aload_1
      19: putfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
      22: aload_0
      23: aload_2
      24: putfield      #2                  // Field connectionProviderContext:Lorg/jboss/remoting3/spi/ConnectionProviderContext;
      27: aload_0
      28: aload_3
      29: putfield      #5                  // Field serverAuthenticationProvider:Lorg/jboss/remoting3/security/ServerAuthenticationProvider;
      32: aload_0
      33: aload         4
      35: putfield      #7                  // Field optionMap:Lorg/xnio/OptionMap;
      38: aload_0
      39: aload         5
      41: putfield      #3                  // Field accessControlContext:Ljava/security/AccessControlContext;
      44: aload         4
      46: getstatic     #12                 // Field org/jboss/remoting3/RemotingOptions.SERVER_NAME:Lorg/xnio/Option;
      49: invokevirtual #13                 // Method org/xnio/OptionMap.contains:(Lorg/xnio/Option;)Z
      52: ifeq          73
      55: aload_0
      56: aload         4
      58: getstatic     #12                 // Field org/jboss/remoting3/RemotingOptions.SERVER_NAME:Lorg/xnio/Option;
      61: invokevirtual #14                 // Method org/xnio/OptionMap.get:(Lorg/xnio/Option;)Ljava/lang/Object;
      64: checkcast     #15                 // class java/lang/String
      67: putfield      #4                  // Field serverName:Ljava/lang/String;
      70: goto          94
      73: aload_0
      74: aload_1
      75: invokevirtual #16                 // Method org/jboss/remoting3/remote/RemoteConnection.getChannel:()Lorg/xnio/channels/ConnectedMessageChannel;
      78: ldc           #17                 // class java/net/InetSocketAddress
      80: invokeinterface #18,  2           // InterfaceMethod org/xnio/channels/ConnectedMessageChannel.getLocalAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
      85: checkcast     #17                 // class java/net/InetSocketAddress
      88: invokevirtual #19                 // Method java/net/InetSocketAddress.getHostName:()Ljava/lang/String;
      91: putfield      #4                  // Field serverName:Ljava/lang/String;
      94: return

  public void handleEvent(org.xnio.channels.ConnectedMessageChannel);
    Code:
       0: aload_0
       1: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
       4: invokevirtual #20                 // Method org/jboss/remoting3/remote/RemoteConnection.allocate:()Lorg/xnio/Pooled;
       7: astore_2
       8: iconst_0
       9: istore_3
      10: aload_2
      11: invokeinterface #21,  1           // InterfaceMethod org/xnio/Pooled.getResource:()Ljava/lang/Object;
      16: checkcast     #22                 // class java/nio/ByteBuffer
      19: astore        4
      21: aload         4
      23: iconst_0
      24: invokevirtual #24                 // Method java/nio/ByteBuffer.put:(B)Ljava/nio/ByteBuffer;
      27: pop
      28: aload         4
      30: iconst_0
      31: aload_0
      32: getfield      #4                  // Field serverName:Ljava/lang/String;
      35: invokestatic  #25                 // Method org/jboss/remoting3/remote/ProtocolUtils.writeString:(Ljava/nio/ByteBuffer;BLjava/lang/String;)V
      38: aload         4
      40: invokevirtual #26                 // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
      43: pop
      44: aload_0
      45: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
      48: new           #27                 // class org/jboss/remoting3/remote/ServerConnectionOpenListener$Initial
      51: dup
      52: aload_0
      53: invokespecial #28                 // Method org/jboss/remoting3/remote/ServerConnectionOpenListener$Initial."<init>":(Lorg/jboss/remoting3/remote/ServerConnectionOpenListener;)V
      56: iconst_1
      57: invokevirtual #29                 // Method org/jboss/remoting3/remote/RemoteConnection.setReadListener:(Lorg/xnio/ChannelListener;Z)V
      60: aload_0
      61: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
      64: aload_2
      65: invokevirtual #30                 // Method org/jboss/remoting3/remote/RemoteConnection.send:(Lorg/xnio/Pooled;)V
      68: iconst_1
      69: istore_3
      70: iload_3
      71: ifne          80
      74: aload_2
      75: invokeinterface #31,  1           // InterfaceMethod org/xnio/Pooled.free:()V
      80: return
      81: astore        4
      83: aload_0
      84: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
      87: getstatic     #33                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
      90: aload_0
      91: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
      94: invokeinterface #34,  2           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.invalidMessage:(Lorg/jboss/remoting3/remote/RemoteConnection;)Ljava/io/IOException;
      99: invokevirtual #35                 // Method org/jboss/remoting3/remote/RemoteConnection.handleException:(Ljava/io/IOException;)V
     102: iload_3
     103: ifne          112
     106: aload_2
     107: invokeinterface #31,  1           // InterfaceMethod org/xnio/Pooled.free:()V
     112: return
     113: astore        4
     115: aload_0
     116: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
     119: getstatic     #33                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
     122: aload_0
     123: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
     126: invokeinterface #34,  2           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.invalidMessage:(Lorg/jboss/remoting3/remote/RemoteConnection;)Ljava/io/IOException;
     131: invokevirtual #35                 // Method org/jboss/remoting3/remote/RemoteConnection.handleException:(Ljava/io/IOException;)V
     134: iload_3
     135: ifne          144
     138: aload_2
     139: invokeinterface #31,  1           // InterfaceMethod org/xnio/Pooled.free:()V
     144: return
     145: astore        5
     147: iload_3
     148: ifne          157
     151: aload_2
     152: invokeinterface #31,  1           // InterfaceMethod org/xnio/Pooled.free:()V
     157: aload         5
     159: athrow
    Exception table:
       from    to  target type
          10    70    81   Class java/nio/BufferUnderflowException
          10    70   113   Class java/nio/BufferOverflowException
          10    70   145   any
          81   102   145   any
         113   134   145   any
         145   147   145   any

  private void saslDispose(javax.security.sasl.SaslServer);
    Code:
       0: aload_1
       1: ifnull        25
       4: aload_1
       5: invokeinterface #37,  1           // InterfaceMethod javax/security/sasl/SaslServer.dispose:()V
      10: goto          25
      13: astore_2
      14: getstatic     #39                 // Field org/jboss/remoting3/remote/RemoteLogger.server:Lorg/jboss/remoting3/remote/RemoteLogger;
      17: ldc           #40                 // String Failure disposing of SaslServer
      19: aload_2
      20: invokeinterface #41,  3           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.trace:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      25: return
    Exception table:
       from    to  target type
           4    10    13   Class javax/security/sasl/SaslException

  public void handleEvent(java.nio.channels.Channel);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #42                 // class org/xnio/channels/ConnectedMessageChannel
       5: invokevirtual #43                 // Method handleEvent:(Lorg/xnio/channels/ConnectedMessageChannel;)V
       8: return

  static org.jboss.remoting3.remote.RemoteConnection access$000(org.jboss.remoting3.remote.ServerConnectionOpenListener);
    Code:
       0: aload_0
       1: getfield      #8                  // Field connection:Lorg/jboss/remoting3/remote/RemoteConnection;
       4: areturn

  static org.xnio.OptionMap access$100(org.jboss.remoting3.remote.ServerConnectionOpenListener);
    Code:
       0: aload_0
       1: getfield      #7                  // Field optionMap:Lorg/xnio/OptionMap;
       4: areturn

  static java.util.concurrent.atomic.AtomicInteger access$200(org.jboss.remoting3.remote.ServerConnectionOpenListener);
    Code:
       0: aload_0
       1: getfield      #6                  // Field retryCount:Ljava/util/concurrent/atomic/AtomicInteger;
       4: areturn

  static org.jboss.remoting3.security.ServerAuthenticationProvider access$300(org.jboss.remoting3.remote.ServerConnectionOpenListener);
    Code:
       0: aload_0
       1: getfield      #5                  // Field serverAuthenticationProvider:Lorg/jboss/remoting3/security/ServerAuthenticationProvider;
       4: areturn

  static java.lang.String access$400(org.jboss.remoting3.remote.ServerConnectionOpenListener);
    Code:
       0: aload_0
       1: getfield      #4                  // Field serverName:Ljava/lang/String;
       4: areturn

  static java.security.AccessControlContext access$600(org.jboss.remoting3.remote.ServerConnectionOpenListener);
    Code:
       0: aload_0
       1: getfield      #3                  // Field accessControlContext:Ljava/security/AccessControlContext;
       4: areturn

  static org.jboss.remoting3.spi.ConnectionProviderContext access$700(org.jboss.remoting3.remote.ServerConnectionOpenListener);
    Code:
       0: aload_0
       1: getfield      #2                  // Field connectionProviderContext:Lorg/jboss/remoting3/spi/ConnectionProviderContext;
       4: areturn

  static void access$1400(org.jboss.remoting3.remote.ServerConnectionOpenListener, javax.security.sasl.SaslServer);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method saslDispose:(Ljavax/security/sasl/SaslServer;)V
       5: return
}
