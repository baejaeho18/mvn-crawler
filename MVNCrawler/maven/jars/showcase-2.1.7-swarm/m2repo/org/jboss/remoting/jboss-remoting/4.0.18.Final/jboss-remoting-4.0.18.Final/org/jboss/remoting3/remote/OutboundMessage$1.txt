Compiled from "OutboundMessage.java"
class org.jboss.remoting3.remote.OutboundMessage$1 implements org.xnio.streams.BufferPipeOutputStream$BufferWriter {
  static final boolean $assertionsDisabled;

  final org.jboss.remoting3.remote.OutboundMessage this$0;

  org.jboss.remoting3.remote.OutboundMessage$1(org.jboss.remoting3.remote.OutboundMessage);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: return

  public org.xnio.Pooled<java.nio.ByteBuffer> getBuffer(boolean) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
       4: bipush        48
       6: invokevirtual #4                  // Method org/jboss/remoting3/remote/OutboundMessage.allocate:(B)Lorg/xnio/Pooled;
       9: astore_2
      10: iconst_0
      11: istore_3
      12: aload_2
      13: invokeinterface #5,  1            // InterfaceMethod org/xnio/Pooled.getResource:()Ljava/lang/Object;
      18: checkcast     #6                  // class java/nio/ByteBuffer
      21: astore        4
      23: aload         4
      25: aload         4
      27: invokevirtual #7                  // Method java/nio/ByteBuffer.limit:()I
      30: iconst_4
      31: isub
      32: invokevirtual #8                  // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/Buffer;
      35: pop
      36: aload         4
      38: iload_1
      39: ifeq          46
      42: iconst_2
      43: goto          47
      46: iconst_0
      47: invokevirtual #9                  // Method java/nio/ByteBuffer.put:(B)Ljava/nio/ByteBuffer;
      50: pop
      51: aload_0
      52: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
      55: getfield      #10                 // Field org/jboss/remoting3/remote/OutboundMessage.maximumWindow:I
      58: bipush        8
      60: iadd
      61: istore        5
      63: aload         4
      65: invokevirtual #11                 // Method java/nio/ByteBuffer.remaining:()I
      68: iload         5
      70: if_icmple     81
      73: aload         4
      75: iload         5
      77: invokevirtual #8                  // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/Buffer;
      80: pop
      81: iconst_1
      82: istore_3
      83: aload_2
      84: astore        6
      86: iload_3
      87: ifne          96
      90: aload_2
      91: invokeinterface #12,  1           // InterfaceMethod org/xnio/Pooled.free:()V
      96: aload         6
      98: areturn
      99: astore        7
     101: iload_3
     102: ifne          111
     105: aload_2
     106: invokeinterface #12,  1           // InterfaceMethod org/xnio/Pooled.free:()V
     111: aload         7
     113: athrow
    Exception table:
       from    to  target type
          12    86    99   any
          99   101    99   any

  public void accept(org.xnio.Pooled<java.nio.ByteBuffer>, boolean) throws java.io.IOException;
    Code:
       0: iconst_0
       1: istore_3
       2: getstatic     #13                 // Field $assertionsDisabled:Z
       5: ifne          29
       8: aload_0
       9: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
      12: getfield      #14                 // Field org/jboss/remoting3/remote/OutboundMessage.pipeOutputStream:Lorg/xnio/streams/BufferPipeOutputStream;
      15: invokestatic  #15                 // Method java/lang/Thread.holdsLock:(Ljava/lang/Object;)Z
      18: ifne          29
      21: new           #16                 // class java/lang/AssertionError
      24: dup
      25: invokespecial #17                 // Method java/lang/AssertionError."<init>":()V
      28: athrow
      29: aload_0
      30: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
      33: getfield      #18                 // Field org/jboss/remoting3/remote/OutboundMessage.closeCalled:Z
      36: ifeq          49
      39: new           #19                 // class org/jboss/remoting3/NotOpenException
      42: dup
      43: ldc           #20                 // String Message was closed asynchronously by another thread
      45: invokespecial #21                 // Method org/jboss/remoting3/NotOpenException."<init>":(Ljava/lang/String;)V
      48: athrow
      49: aload_0
      50: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
      53: getfield      #22                 // Field org/jboss/remoting3/remote/OutboundMessage.cancelSent:Z
      56: ifeq          69
      59: new           #23                 // class org/jboss/remoting3/MessageCancelledException
      62: dup
      63: ldc           #24                 // String Message was cancelled
      65: invokespecial #25                 // Method org/jboss/remoting3/MessageCancelledException."<init>":(Ljava/lang/String;)V
      68: athrow
      69: aload_0
      70: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
      73: getfield      #26                 // Field org/jboss/remoting3/remote/OutboundMessage.closeReceived:Z
      76: ifeq          89
      79: new           #27                 // class org/xnio/BrokenPipeException
      82: dup
      83: ldc           #28                 // String Remote side closed the message stream
      85: invokespecial #29                 // Method org/xnio/BrokenPipeException."<init>":(Ljava/lang/String;)V
      88: athrow
      89: iload_2
      90: ifeq          111
      93: aload_0
      94: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
      97: iconst_1
      98: putfield      #18                 // Field org/jboss/remoting3/remote/OutboundMessage.closeCalled:Z
     101: aload_0
     102: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     105: getfield      #14                 // Field org/jboss/remoting3/remote/OutboundMessage.pipeOutputStream:Lorg/xnio/streams/BufferPipeOutputStream;
     108: invokevirtual #30                 // Method java/lang/Object.notifyAll:()V
     111: aload_1
     112: invokeinterface #5,  1            // InterfaceMethod org/xnio/Pooled.getResource:()Ljava/lang/Object;
     117: checkcast     #6                  // class java/nio/ByteBuffer
     120: astore        4
     122: aload_0
     123: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     126: getfield      #31                 // Field org/jboss/remoting3/remote/OutboundMessage.channel:Lorg/jboss/remoting3/remote/RemoteConnectionChannel;
     129: invokevirtual #32                 // Method org/jboss/remoting3/remote/RemoteConnectionChannel.getRemoteConnection:()Lorg/jboss/remoting3/remote/RemoteConnection;
     132: invokevirtual #33                 // Method org/jboss/remoting3/remote/RemoteConnection.getChannel:()Lorg/xnio/channels/ConnectedMessageChannel;
     135: astore        5
     137: aload_0
     138: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     141: getfield      #31                 // Field org/jboss/remoting3/remote/OutboundMessage.channel:Lorg/jboss/remoting3/remote/RemoteConnectionChannel;
     144: invokevirtual #34                 // Method org/jboss/remoting3/remote/RemoteConnectionChannel.getConnectionHandler:()Lorg/jboss/remoting3/remote/RemoteConnectionHandler;
     147: invokevirtual #35                 // Method org/jboss/remoting3/remote/RemoteConnectionHandler.isFaultyMessageSize:()Z
     150: istore        6
     152: iload         6
     154: ifeq          165
     157: aload         4
     159: invokevirtual #11                 // Method java/nio/ByteBuffer.remaining:()I
     162: goto          173
     165: aload         4
     167: invokevirtual #11                 // Method java/nio/ByteBuffer.remaining:()I
     170: bipush        8
     172: isub
     173: istore        7
     175: aload_0
     176: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     179: getfield      #36                 // Field org/jboss/remoting3/remote/OutboundMessage.cancelled:Z
     182: ifeq          199
     185: aload_0
     186: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     189: getfield      #22                 // Field org/jboss/remoting3/remote/OutboundMessage.cancelSent:Z
     192: ifne          199
     195: iconst_1
     196: goto          200
     199: iconst_0
     200: istore        8
     202: iconst_0
     203: istore        9
     205: iload         7
     207: ifle          396
     210: iload         8
     212: ifne          396
     215: aload_0
     216: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     219: getfield      #37                 // Field org/jboss/remoting3/remote/OutboundMessage.window:I
     222: iload         7
     224: if_icmplt     293
     227: aload_0
     228: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     231: dup
     232: getfield      #37                 // Field org/jboss/remoting3/remote/OutboundMessage.window:I
     235: iload         7
     237: isub
     238: putfield      #37                 // Field org/jboss/remoting3/remote/OutboundMessage.window:I
     241: getstatic     #38                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
     244: invokeinterface #39,  1           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.isTraceEnabled:()Z
     249: ifeq          396
     252: getstatic     #38                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
     255: ldc           #40                 // String Message window is open (%d-%d=%d remaining), proceeding with send
     257: aload_0
     258: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     261: getfield      #37                 // Field org/jboss/remoting3/remote/OutboundMessage.window:I
     264: iload         7
     266: iadd
     267: invokestatic  #41                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     270: iload         7
     272: invokestatic  #41                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     275: aload_0
     276: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     279: getfield      #37                 // Field org/jboss/remoting3/remote/OutboundMessage.window:I
     282: invokestatic  #41                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     285: invokeinterface #42,  5           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
     290: goto          396
     293: getstatic     #38                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
     296: ldc           #43                 // String Message window is closed, waiting
     298: invokeinterface #44,  2           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.trace:(Ljava/lang/Object;)V
     303: aload_0
     304: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     307: getfield      #14                 // Field org/jboss/remoting3/remote/OutboundMessage.pipeOutputStream:Lorg/xnio/streams/BufferPipeOutputStream;
     310: invokevirtual #45                 // Method java/lang/Object.wait:()V
     313: goto          332
     316: astore        10
     318: aload_0
     319: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     322: iconst_1
     323: putfield      #36                 // Field org/jboss/remoting3/remote/OutboundMessage.cancelled:Z
     326: iconst_1
     327: istore        9
     329: goto          396
     332: aload_0
     333: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     336: getfield      #26                 // Field org/jboss/remoting3/remote/OutboundMessage.closeReceived:Z
     339: ifeq          352
     342: new           #27                 // class org/xnio/BrokenPipeException
     345: dup
     346: ldc           #28                 // String Remote side closed the message stream
     348: invokespecial #29                 // Method org/xnio/BrokenPipeException."<init>":(Ljava/lang/String;)V
     351: athrow
     352: aload_0
     353: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     356: getfield      #18                 // Field org/jboss/remoting3/remote/OutboundMessage.closeCalled:Z
     359: ifeq          376
     362: iload_2
     363: ifne          376
     366: new           #19                 // class org/jboss/remoting3/NotOpenException
     369: dup
     370: ldc           #20                 // String Message was closed asynchronously by another thread
     372: invokespecial #21                 // Method org/jboss/remoting3/NotOpenException."<init>":(Ljava/lang/String;)V
     375: athrow
     376: aload_0
     377: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     380: getfield      #22                 // Field org/jboss/remoting3/remote/OutboundMessage.cancelSent:Z
     383: ifeq          215
     386: new           #23                 // class org/jboss/remoting3/MessageCancelledException
     389: dup
     390: ldc           #24                 // String Message was cancelled
     392: invokespecial #25                 // Method org/jboss/remoting3/MessageCancelledException."<init>":(Ljava/lang/String;)V
     395: athrow
     396: iload_2
     397: ifne          410
     400: iload         8
     402: ifne          410
     405: iload         9
     407: ifeq          508
     410: aload_0
     411: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     414: iconst_1
     415: putfield      #47                 // Field org/jboss/remoting3/remote/OutboundMessage.eofSent:Z
     418: aload         4
     420: bipush        7
     422: aload         4
     424: bipush        7
     426: invokevirtual #48                 // Method java/nio/ByteBuffer.get:(I)B
     429: iconst_1
     430: ior
     431: i2b
     432: invokevirtual #49                 // Method java/nio/ByteBuffer.put:(IB)Ljava/nio/ByteBuffer;
     435: pop
     436: getstatic     #38                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
     439: ldc           #50                 // String Sending message (with EOF) (%s) to %s
     441: aload         4
     443: aload         5
     445: invokeinterface #51,  4           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     450: aload_0
     451: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     454: getfield      #31                 // Field org/jboss/remoting3/remote/OutboundMessage.channel:Lorg/jboss/remoting3/remote/RemoteConnectionChannel;
     457: invokevirtual #34                 // Method org/jboss/remoting3/remote/RemoteConnectionChannel.getConnectionHandler:()Lorg/jboss/remoting3/remote/RemoteConnectionHandler;
     460: invokevirtual #52                 // Method org/jboss/remoting3/remote/RemoteConnectionHandler.isMessageClose:()Z
     463: ifne          480
     466: aload_0
     467: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     470: getfield      #31                 // Field org/jboss/remoting3/remote/OutboundMessage.channel:Lorg/jboss/remoting3/remote/RemoteConnectionChannel;
     473: aload_0
     474: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     477: invokevirtual #53                 // Method org/jboss/remoting3/remote/RemoteConnectionChannel.free:(Lorg/jboss/remoting3/remote/OutboundMessage;)V
     480: aload_0
     481: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     484: getfield      #54                 // Field org/jboss/remoting3/remote/OutboundMessage.released:Z
     487: ifne          508
     490: aload_0
     491: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     494: iconst_1
     495: putfield      #54                 // Field org/jboss/remoting3/remote/OutboundMessage.released:Z
     498: aload_0
     499: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     502: getfield      #31                 // Field org/jboss/remoting3/remote/OutboundMessage.channel:Lorg/jboss/remoting3/remote/RemoteConnectionChannel;
     505: invokevirtual #55                 // Method org/jboss/remoting3/remote/RemoteConnectionChannel.closeOutboundMessage:()V
     508: iload         8
     510: ifne          518
     513: iload         9
     515: ifeq          562
     518: aload_0
     519: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     522: iconst_1
     523: putfield      #22                 // Field org/jboss/remoting3/remote/OutboundMessage.cancelSent:Z
     526: aload         4
     528: bipush        7
     530: aload         4
     532: bipush        7
     534: invokevirtual #48                 // Method java/nio/ByteBuffer.get:(I)B
     537: iconst_4
     538: ior
     539: i2b
     540: invokevirtual #49                 // Method java/nio/ByteBuffer.put:(IB)Ljava/nio/ByteBuffer;
     543: pop
     544: aload         4
     546: bipush        8
     548: invokevirtual #8                  // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/Buffer;
     551: pop
     552: getstatic     #38                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
     555: ldc           #56                 // String Message includes cancel flag
     557: invokeinterface #44,  2           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.trace:(Ljava/lang/Object;)V
     562: aload_0
     563: getfield      #1                  // Field this$0:Lorg/jboss/remoting3/remote/OutboundMessage;
     566: getfield      #31                 // Field org/jboss/remoting3/remote/OutboundMessage.channel:Lorg/jboss/remoting3/remote/RemoteConnectionChannel;
     569: invokevirtual #32                 // Method org/jboss/remoting3/remote/RemoteConnectionChannel.getRemoteConnection:()Lorg/jboss/remoting3/remote/RemoteConnection;
     572: aload_1
     573: invokevirtual #57                 // Method org/jboss/remoting3/remote/RemoteConnection.send:(Lorg/xnio/Pooled;)V
     576: iconst_1
     577: istore_3
     578: iload         9
     580: ifeq          599
     583: invokestatic  #58                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     586: invokevirtual #59                 // Method java/lang/Thread.interrupt:()V
     589: new           #60                 // class java/io/InterruptedIOException
     592: dup
     593: ldc           #61                 // String Interrupted on write (message cancelled)
     595: invokespecial #62                 // Method java/io/InterruptedIOException."<init>":(Ljava/lang/String;)V
     598: athrow
     599: iload_3
     600: ifne          627
     603: aload_1
     604: invokeinterface #12,  1           // InterfaceMethod org/xnio/Pooled.free:()V
     609: goto          627
     612: astore        11
     614: iload_3
     615: ifne          624
     618: aload_1
     619: invokeinterface #12,  1           // InterfaceMethod org/xnio/Pooled.free:()V
     624: aload         11
     626: athrow
     627: return
    Exception table:
       from    to  target type
         293   313   316   Class java/lang/InterruptedException
           2   599   612   any
         612   614   612   any

  public void flush() throws java.io.IOException;
    Code:
       0: getstatic     #38                 // Field org/jboss/remoting3/remote/RemoteLogger.log:Lorg/jboss/remoting3/remote/RemoteLogger;
       3: ldc           #63                 // String Flushing message channel
       5: invokeinterface #44,  2           // InterfaceMethod org/jboss/remoting3/remote/RemoteLogger.trace:(Ljava/lang/Object;)V
      10: return

  static {};
    Code:
       0: ldc           #64                 // class org/jboss/remoting3/remote/OutboundMessage
       2: invokevirtual #65                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #13                 // Field $assertionsDisabled:Z
      16: return
}
