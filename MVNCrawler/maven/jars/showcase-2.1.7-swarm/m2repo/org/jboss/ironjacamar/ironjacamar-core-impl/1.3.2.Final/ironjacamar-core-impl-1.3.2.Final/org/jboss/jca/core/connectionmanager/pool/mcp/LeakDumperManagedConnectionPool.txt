Compiled from "LeakDumperManagedConnectionPool.java"
public class org.jboss.jca.core.connectionmanager.pool.mcp.LeakDumperManagedConnectionPool extends org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool {
  private static org.jboss.jca.core.CoreLogger log;

  private static boolean useFile;

  private static java.lang.String leakFileName;

  private static java.lang.Object leakLock;

  private final java.util.concurrent.ConcurrentMap<org.jboss.jca.core.connectionmanager.listener.ConnectionListener, java.lang.Throwable> tracker;

  private final java.util.concurrent.ConcurrentMap<org.jboss.jca.core.connectionmanager.listener.ConnectionListener, java.lang.Long> times;

  public org.jboss.jca.core.connectionmanager.pool.mcp.LeakDumperManagedConnectionPool();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/jca/core/connectionmanager/pool/mcp/SemaphoreArrayListManagedConnectionPool."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
      15: aload_0
      16: new           #2                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      23: putfield      #5                  // Field times:Ljava/util/concurrent/ConcurrentMap;
      26: return

  public org.jboss.jca.core.connectionmanager.listener.ConnectionListener getConnection(javax.security.auth.Subject, javax.resource.spi.ConnectionRequestInfo) throws javax.resource.ResourceException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #6                  // Method org/jboss/jca/core/connectionmanager/pool/mcp/SemaphoreArrayListManagedConnectionPool.getConnection:(Ljavax/security/auth/Subject;Ljavax/resource/spi/ConnectionRequestInfo;)Lorg/jboss/jca/core/connectionmanager/listener/ConnectionListener;
       6: astore_3
       7: aload_0
       8: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
      11: aload_3
      12: new           #7                  // class java/lang/Throwable
      15: dup
      16: ldc           #8                  // String ALLOCATION LEAK
      18: invokespecial #9                  // Method java/lang/Throwable."<init>":(Ljava/lang/String;)V
      21: invokeinterface #10,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      26: pop
      27: aload_0
      28: getfield      #5                  // Field times:Ljava/util/concurrent/ConcurrentMap;
      31: aload_3
      32: invokestatic  #11                 // Method java/lang/System.currentTimeMillis:()J
      35: invokestatic  #12                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      38: invokeinterface #10,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      43: pop
      44: aload_3
      45: areturn

  public void returnConnection(org.jboss.jca.core.connectionmanager.listener.ConnectionListener, boolean, boolean);
    Code:
       0: aload_0
       1: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #13,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: pop
      11: aload_0
      12: getfield      #5                  // Field times:Ljava/util/concurrent/ConcurrentMap;
      15: aload_1
      16: invokeinterface #13,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      21: pop
      22: aload_0
      23: aload_1
      24: iload_2
      25: iload_3
      26: invokespecial #14                 // Method org/jboss/jca/core/connectionmanager/pool/mcp/SemaphoreArrayListManagedConnectionPool.returnConnection:(Lorg/jboss/jca/core/connectionmanager/listener/ConnectionListener;ZZ)V
      29: return

  void doDestroy(org.jboss.jca.core.connectionmanager.listener.ConnectionListener);
    Code:
       0: aload_0
       1: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #15,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      10: ifeq          103
      13: aload_0
      14: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
      17: aload_1
      18: invokeinterface #16,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #7                  // class java/lang/Throwable
      26: astore_2
      27: aload_0
      28: getfield      #5                  // Field times:Ljava/util/concurrent/ConcurrentMap;
      31: aload_1
      32: invokeinterface #16,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      37: checkcast     #17                 // class java/lang/Long
      40: astore_3
      41: getstatic     #18                 // Field log:Lorg/jboss/jca/core/CoreLogger;
      44: aload_0
      45: invokevirtual #19                 // Method getPoolName:()Ljava/lang/String;
      48: aload_1
      49: invokestatic  #20                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
      52: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      55: aload_3
      56: invokevirtual #22                 // Method java/lang/Long.longValue:()J
      59: aload_2
      60: invokeinterface #23,  6           // InterfaceMethod org/jboss/jca/core/CoreLogger.connectionLeak:(Ljava/lang/String;Ljava/lang/String;JLjava/lang/Throwable;)V
      65: getstatic     #24                 // Field useFile:Z
      68: ifeq          81
      71: aload_0
      72: aload_1
      73: aload_2
      74: aload_3
      75: invokevirtual #22                 // Method java/lang/Long.longValue:()J
      78: invokespecial #25                 // Method dump:(Lorg/jboss/jca/core/connectionmanager/listener/ConnectionListener;Ljava/lang/Throwable;J)V
      81: aload_0
      82: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
      85: aload_1
      86: invokeinterface #13,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      91: pop
      92: aload_0
      93: getfield      #5                  // Field times:Ljava/util/concurrent/ConcurrentMap;
      96: aload_1
      97: invokeinterface #13,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     102: pop
     103: aload_0
     104: aload_1
     105: invokespecial #26                 // Method org/jboss/jca/core/connectionmanager/pool/mcp/SemaphoreArrayListManagedConnectionPool.doDestroy:(Lorg/jboss/jca/core/connectionmanager/listener/ConnectionListener;)V
     108: return

  public void shutdown();
    Code:
       0: aload_0
       1: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
       4: invokeinterface #27,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.size:()I
       9: ifle          155
      12: aload_0
      13: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
      16: invokeinterface #28,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.entrySet:()Ljava/util/Set;
      21: invokeinterface #29,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      26: astore_1
      27: aload_1
      28: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          137
      36: aload_1
      37: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: checkcast     #32                 // class java/util/Map$Entry
      45: astore_2
      46: aload_0
      47: getfield      #5                  // Field times:Ljava/util/concurrent/ConcurrentMap;
      50: aload_2
      51: invokeinterface #33,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      56: invokeinterface #16,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      61: checkcast     #17                 // class java/lang/Long
      64: astore_3
      65: getstatic     #18                 // Field log:Lorg/jboss/jca/core/CoreLogger;
      68: aload_0
      69: invokevirtual #19                 // Method getPoolName:()Ljava/lang/String;
      72: aload_2
      73: invokeinterface #33,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      78: invokestatic  #20                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
      81: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      84: aload_3
      85: invokevirtual #22                 // Method java/lang/Long.longValue:()J
      88: aload_2
      89: invokeinterface #34,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      94: checkcast     #7                  // class java/lang/Throwable
      97: invokeinterface #23,  6           // InterfaceMethod org/jboss/jca/core/CoreLogger.connectionLeak:(Ljava/lang/String;Ljava/lang/String;JLjava/lang/Throwable;)V
     102: getstatic     #24                 // Field useFile:Z
     105: ifeq          134
     108: aload_0
     109: aload_2
     110: invokeinterface #33,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     115: checkcast     #35                 // class org/jboss/jca/core/connectionmanager/listener/ConnectionListener
     118: aload_2
     119: invokeinterface #34,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     124: checkcast     #7                  // class java/lang/Throwable
     127: aload_3
     128: invokevirtual #22                 // Method java/lang/Long.longValue:()J
     131: invokespecial #25                 // Method dump:(Lorg/jboss/jca/core/connectionmanager/listener/ConnectionListener;Ljava/lang/Throwable;J)V
     134: goto          27
     137: aload_0
     138: getfield      #4                  // Field tracker:Ljava/util/concurrent/ConcurrentMap;
     141: invokeinterface #36,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.clear:()V
     146: aload_0
     147: getfield      #5                  // Field times:Ljava/util/concurrent/ConcurrentMap;
     150: invokeinterface #36,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.clear:()V
     155: aload_0
     156: invokespecial #37                 // Method org/jboss/jca/core/connectionmanager/pool/mcp/SemaphoreArrayListManagedConnectionPool.shutdown:()V
     159: return

  private void dump(org.jboss.jca.core.connectionmanager.listener.ConnectionListener, java.lang.Throwable, long);
    Code:
       0: getstatic     #38                 // Field leakLock:Ljava/lang/Object;
       3: dup
       4: astore        5
       6: monitorenter
       7: aconst_null
       8: astore        6
      10: new           #39                 // class java/io/FileOutputStream
      13: dup
      14: getstatic     #40                 // Field leakFileName:Ljava/lang/String;
      17: iconst_1
      18: invokespecial #41                 // Method java/io/FileOutputStream."<init>":(Ljava/lang/String;Z)V
      21: astore        6
      23: new           #42                 // class java/io/PrintStream
      26: dup
      27: aload         6
      29: iconst_1
      30: invokespecial #43                 // Method java/io/PrintStream."<init>":(Ljava/io/OutputStream;Z)V
      33: astore        7
      35: aload         7
      37: ldc           #44                 // String Leak detected in pool:
      39: invokevirtual #45                 // Method java/io/PrintStream.print:(Ljava/lang/String;)V
      42: aload         7
      44: aload_0
      45: invokevirtual #19                 // Method getPoolName:()Ljava/lang/String;
      48: invokevirtual #46                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      51: aload         7
      53: ldc           #47                 // String   ConnectionListener:
      55: invokevirtual #45                 // Method java/io/PrintStream.print:(Ljava/lang/String;)V
      58: aload         7
      60: aload_1
      61: invokestatic  #20                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
      64: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      67: invokevirtual #46                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      70: aload         7
      72: ldc           #48                 // String   Allocation timestamp:
      74: invokevirtual #45                 // Method java/io/PrintStream.print:(Ljava/lang/String;)V
      77: aload         7
      79: lload_3
      80: invokevirtual #49                 // Method java/io/PrintStream.println:(J)V
      83: aload         7
      85: ldc           #50                 // String   Allocation stacktrack:
      87: invokevirtual #46                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      90: aload_2
      91: aload         7
      93: invokevirtual #51                 // Method java/lang/Throwable.printStackTrace:(Ljava/io/PrintStream;)V
      96: aload         7
      98: invokevirtual #52                 // Method java/io/PrintStream.println:()V
     101: aload         7
     103: invokevirtual #53                 // Method java/io/PrintStream.flush:()V
     106: aload         6
     108: ifnull        179
     111: aload         6
     113: invokevirtual #54                 // Method java/io/OutputStream.close:()V
     116: goto          179
     119: astore        7
     121: goto          179
     124: astore        7
     126: getstatic     #18                 // Field log:Lorg/jboss/jca/core/CoreLogger;
     129: aload         7
     131: invokevirtual #57                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     134: aload         7
     136: invokeinterface #58,  3           // InterfaceMethod org/jboss/jca/core/CoreLogger.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     141: aload         6
     143: ifnull        179
     146: aload         6
     148: invokevirtual #54                 // Method java/io/OutputStream.close:()V
     151: goto          179
     154: astore        7
     156: goto          179
     159: astore        8
     161: aload         6
     163: ifnull        176
     166: aload         6
     168: invokevirtual #54                 // Method java/io/OutputStream.close:()V
     171: goto          176
     174: astore        9
     176: aload         8
     178: athrow
     179: aload         5
     181: monitorexit
     182: goto          193
     185: astore        10
     187: aload         5
     189: monitorexit
     190: aload         10
     192: athrow
     193: return
    Exception table:
       from    to  target type
         111   116   119   Class java/io/IOException
          10   106   124   Class java/lang/Exception
         146   151   154   Class java/io/IOException
          10   106   159   any
         124   141   159   any
         166   171   174   Class java/io/IOException
         159   161   159   any
           7   182   185   any
         185   190   185   any

  public java.lang.String toString();
    Code:
       0: new           #59                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #60                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #61                 // String LeakDumperManagedConnectionPool@
      11: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_0
      15: invokestatic  #20                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
      18: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      21: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: pop
      25: aload_1
      26: ldc           #63                 // String [super=
      28: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: aload_0
      32: invokespecial #64                 // Method org/jboss/jca/core/connectionmanager/pool/mcp/SemaphoreArrayListManagedConnectionPool.toString:()Ljava/lang/String;
      35: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: pop
      39: aload_1
      40: ldc           #65                 // String ]
      42: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: pop
      46: aload_1
      47: invokevirtual #66                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      50: areturn

  static {};
    Code:
       0: ldc_w         #67                 // class org/jboss/jca/core/CoreLogger
       3: ldc_w         #68                 // class org/jboss/jca/core/connectionmanager/pool/mcp/LeakDumperManagedConnectionPool
       6: invokevirtual #69                 // Method java/lang/Class.getName:()Ljava/lang/String;
       9: invokestatic  #70                 // Method org/jboss/logging/Logger.getMessageLogger:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Object;
      12: checkcast     #67                 // class org/jboss/jca/core/CoreLogger
      15: putstatic     #18                 // Field log:Lorg/jboss/jca/core/CoreLogger;
      18: iconst_0
      19: putstatic     #24                 // Field useFile:Z
      22: aconst_null
      23: putstatic     #40                 // Field leakFileName:Ljava/lang/String;
      26: new           #71                 // class java/lang/Object
      29: dup
      30: invokespecial #72                 // Method java/lang/Object."<init>":()V
      33: putstatic     #38                 // Field leakLock:Ljava/lang/Object;
      36: ldc           #73                 // String ironjacamar.leaklog
      38: invokestatic  #74                 // Method org/jboss/jca/core/connectionmanager/pool/mcp/SecurityActions.getSystemProperty:(Ljava/lang/String;)Ljava/lang/String;
      41: astore_0
      42: aload_0
      43: ifnull        66
      46: aload_0
      47: invokevirtual #75                 // Method java/lang/String.trim:()Ljava/lang/String;
      50: ldc           #76                 // String
      52: invokevirtual #77                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      55: ifne          66
      58: iconst_1
      59: putstatic     #24                 // Field useFile:Z
      62: aload_0
      63: putstatic     #40                 // Field leakFileName:Ljava/lang/String;
      66: return
}
