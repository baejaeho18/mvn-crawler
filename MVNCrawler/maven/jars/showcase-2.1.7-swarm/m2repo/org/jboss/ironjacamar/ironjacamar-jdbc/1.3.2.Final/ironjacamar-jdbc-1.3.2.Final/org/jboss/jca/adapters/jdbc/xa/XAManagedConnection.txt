Compiled from "XAManagedConnection.java"
public class org.jboss.jca.adapters.jdbc.xa.XAManagedConnection extends org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection implements javax.transaction.xa.XAResource,javax.resource.spi.LocalTransaction {
  protected final javax.sql.XAConnection xaConnection;

  protected final javax.transaction.xa.XAResource xaResource;

  protected javax.transaction.xa.Xid currentXid;

  public org.jboss.jca.adapters.jdbc.xa.XAManagedConnection(org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory, javax.sql.XAConnection, java.util.Properties, int, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokeinterface #1,  1            // InterfaceMethod javax/sql/XAConnection.getConnection:()Ljava/sql/Connection;
       8: aload_3
       9: iload         4
      11: iload         5
      13: invokespecial #2                  // Method org/jboss/jca/adapters/jdbc/BaseWrapperManagedConnection."<init>":(Lorg/jboss/jca/adapters/jdbc/BaseWrapperManagedConnectionFactory;Ljava/sql/Connection;Ljava/util/Properties;II)V
      16: aload_0
      17: aload_2
      18: putfield      #3                  // Field xaConnection:Ljavax/sql/XAConnection;
      21: aload_2
      22: new           #4                  // class org/jboss/jca/adapters/jdbc/xa/XAManagedConnection$1
      25: dup
      26: aload_0
      27: invokespecial #5                  // Method org/jboss/jca/adapters/jdbc/xa/XAManagedConnection$1."<init>":(Lorg/jboss/jca/adapters/jdbc/xa/XAManagedConnection;)V
      30: invokeinterface #6,  2            // InterfaceMethod javax/sql/XAConnection.addConnectionEventListener:(Ljavax/sql/ConnectionEventListener;)V
      35: aload_0
      36: aload_2
      37: invokeinterface #7,  1            // InterfaceMethod javax/sql/XAConnection.getXAResource:()Ljavax/transaction/xa/XAResource;
      42: putfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
      45: return

  public void begin() throws javax.resource.ResourceException;
    Code:
       0: aload_0
       1: invokevirtual #9                  // Method lock:()V
       4: aload_0
       5: getfield      #10                 // Field stateLock:Ljava/lang/Object;
       8: dup
       9: astore_1
      10: monitorenter
      11: aload_0
      12: getfield      #11                 // Field inManagedTransaction:Z
      15: ifne          61
      18: aload_0
      19: getfield      #12                 // Field underlyingAutoCommit:Z
      22: ifeq          40
      25: aload_0
      26: iconst_0
      27: putfield      #12                 // Field underlyingAutoCommit:Z
      30: aload_0
      31: getfield      #13                 // Field con:Ljava/sql/Connection;
      34: iconst_0
      35: invokeinterface #14,  2           // InterfaceMethod java/sql/Connection.setAutoCommit:(Z)V
      40: aload_0
      41: invokevirtual #15                 // Method checkState:()V
      44: aload_0
      45: iconst_1
      46: putfield      #11                 // Field inManagedTransaction:Z
      49: goto          77
      52: astore_2
      53: aload_0
      54: aload_2
      55: invokevirtual #17                 // Method checkException:(Ljava/sql/SQLException;)V
      58: goto          77
      61: new           #18                 // class javax/resource/ResourceException
      64: dup
      65: getstatic     #19                 // Field bundle:Lorg/jboss/jca/adapters/AdaptersBundle;
      68: invokeinterface #20,  1           // InterfaceMethod org/jboss/jca/adapters/AdaptersBundle.localTransactionNested:()Ljava/lang/String;
      73: invokespecial #21                 // Method javax/resource/ResourceException."<init>":(Ljava/lang/String;)V
      76: athrow
      77: aload_1
      78: monitorexit
      79: goto          87
      82: astore_3
      83: aload_1
      84: monitorexit
      85: aload_3
      86: athrow
      87: aload_0
      88: invokevirtual #22                 // Method unlock:()V
      91: goto          103
      94: astore        4
      96: aload_0
      97: invokevirtual #22                 // Method unlock:()V
     100: aload         4
     102: athrow
     103: return
    Exception table:
       from    to  target type
          18    49    52   Class java/sql/SQLException
          11    79    82   any
          82    85    82   any
           4    87    94   any
          94    96    94   any

  public void commit() throws javax.resource.ResourceException;
    Code:
       0: aload_0
       1: invokevirtual #9                  // Method lock:()V
       4: aload_0
       5: getfield      #10                 // Field stateLock:Ljava/lang/Object;
       8: dup
       9: astore_1
      10: monitorenter
      11: aload_0
      12: getfield      #11                 // Field inManagedTransaction:Z
      15: ifeq          23
      18: aload_0
      19: iconst_0
      20: putfield      #11                 // Field inManagedTransaction:Z
      23: aload_1
      24: monitorexit
      25: goto          33
      28: astore_2
      29: aload_1
      30: monitorexit
      31: aload_2
      32: athrow
      33: aload_0
      34: getfield      #13                 // Field con:Ljava/sql/Connection;
      37: invokeinterface #23,  1           // InterfaceMethod java/sql/Connection.commit:()V
      42: goto          51
      45: astore_1
      46: aload_0
      47: aload_1
      48: invokevirtual #17                 // Method checkException:(Ljava/sql/SQLException;)V
      51: aload_0
      52: invokevirtual #22                 // Method unlock:()V
      55: goto          65
      58: astore_3
      59: aload_0
      60: invokevirtual #22                 // Method unlock:()V
      63: aload_3
      64: athrow
      65: return
    Exception table:
       from    to  target type
          11    25    28   any
          28    31    28   any
          33    42    45   Class java/sql/SQLException
           4    51    58   any
          58    59    58   any

  public void rollback() throws javax.resource.ResourceException;
    Code:
       0: aload_0
       1: invokevirtual #9                  // Method lock:()V
       4: aload_0
       5: getfield      #10                 // Field stateLock:Ljava/lang/Object;
       8: dup
       9: astore_1
      10: monitorenter
      11: aload_0
      12: getfield      #11                 // Field inManagedTransaction:Z
      15: ifeq          23
      18: aload_0
      19: iconst_0
      20: putfield      #11                 // Field inManagedTransaction:Z
      23: aload_1
      24: monitorexit
      25: goto          33
      28: astore_2
      29: aload_1
      30: monitorexit
      31: aload_2
      32: athrow
      33: aload_0
      34: getfield      #13                 // Field con:Ljava/sql/Connection;
      37: invokeinterface #24,  1           // InterfaceMethod java/sql/Connection.rollback:()V
      42: goto          55
      45: astore_1
      46: aload_0
      47: aload_1
      48: invokevirtual #17                 // Method checkException:(Ljava/sql/SQLException;)V
      51: goto          55
      54: astore_2
      55: aload_0
      56: invokevirtual #22                 // Method unlock:()V
      59: goto          69
      62: astore_3
      63: aload_0
      64: invokevirtual #22                 // Method unlock:()V
      67: aload_3
      68: athrow
      69: return
    Exception table:
       from    to  target type
          11    25    28   any
          28    31    28   any
          33    42    45   Class java/sql/SQLException
          46    51    54   Class java/lang/Exception
           4    55    62   any
          62    63    62   any

  protected void broadcastConnectionError(java.sql.SQLException);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #26                 // Method org/jboss/jca/adapters/jdbc/BaseWrapperManagedConnection.broadcastConnectionError:(Ljava/lang/Throwable;)V
       5: return

  public javax.resource.spi.LocalTransaction getLocalTransaction() throws javax.resource.ResourceException;
    Code:
       0: aload_0
       1: areturn

  public javax.transaction.xa.XAResource getXAResource() throws javax.resource.ResourceException;
    Code:
       0: aload_0
       1: areturn

  public void destroy() throws javax.resource.ResourceException;
    Code:
       0: aload_0
       1: invokespecial #27                 // Method org/jboss/jca/adapters/jdbc/BaseWrapperManagedConnection.destroy:()V
       4: aload_0
       5: getfield      #3                  // Field xaConnection:Ljavax/sql/XAConnection;
       8: invokeinterface #28,  1           // InterfaceMethod javax/sql/XAConnection.close:()V
      13: goto          46
      16: astore_1
      17: aload_0
      18: aload_1
      19: invokevirtual #17                 // Method checkException:(Ljava/sql/SQLException;)V
      22: goto          46
      25: astore_2
      26: aload_0
      27: getfield      #3                  // Field xaConnection:Ljavax/sql/XAConnection;
      30: invokeinterface #28,  1           // InterfaceMethod javax/sql/XAConnection.close:()V
      35: goto          44
      38: astore_3
      39: aload_0
      40: aload_3
      41: invokevirtual #17                 // Method checkException:(Ljava/sql/SQLException;)V
      44: aload_2
      45: athrow
      46: return
    Exception table:
       from    to  target type
           4    13    16   Class java/sql/SQLException
           0     4    25   any
          26    35    38   Class java/sql/SQLException
          25    26    25   any

  public void start(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: invokevirtual #9                  // Method lock:()V
       4: aload_0
       5: invokevirtual #15                 // Method checkState:()V
       8: goto          22
      11: astore_3
      12: aload_0
      13: invokevirtual #29                 // Method getLog:()Lorg/jboss/jca/adapters/AdaptersLogger;
      16: aload_3
      17: invokeinterface #30,  2           // InterfaceMethod org/jboss/jca/adapters/AdaptersLogger.errorCheckingState:(Ljava/lang/Throwable;)V
      22: aload_0
      23: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
      26: aload_1
      27: iload_2
      28: invokeinterface #31,  3           // InterfaceMethod javax/transaction/xa/XAResource.start:(Ljavax/transaction/xa/Xid;I)V
      33: goto          55
      36: astore_3
      37: aload_0
      38: aload_3
      39: getfield      #33                 // Field javax/transaction/xa/XAException.errorCode:I
      42: invokespecial #34                 // Method isFailedXA:(I)Z
      45: ifeq          53
      48: aload_0
      49: aload_3
      50: invokevirtual #35                 // Method broadcastConnectionError:(Ljava/lang/Throwable;)V
      53: aload_3
      54: athrow
      55: aload_0
      56: getfield      #10                 // Field stateLock:Ljava/lang/Object;
      59: dup
      60: astore_3
      61: monitorenter
      62: aload_0
      63: aload_1
      64: putfield      #36                 // Field currentXid:Ljavax/transaction/xa/Xid;
      67: aload_0
      68: iconst_1
      69: putfield      #11                 // Field inManagedTransaction:Z
      72: aload_3
      73: monitorexit
      74: goto          84
      77: astore        4
      79: aload_3
      80: monitorexit
      81: aload         4
      83: athrow
      84: aload_0
      85: invokevirtual #22                 // Method unlock:()V
      88: goto          100
      91: astore        5
      93: aload_0
      94: invokevirtual #22                 // Method unlock:()V
      97: aload         5
      99: athrow
     100: return
    Exception table:
       from    to  target type
           4     8    11   Class java/sql/SQLException
          22    33    36   Class javax/transaction/xa/XAException
          62    74    77   any
          77    81    77   any
           4    84    91   any
          91    93    91   any

  public void end(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: invokevirtual #9                  // Method lock:()V
       4: aload_0
       5: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       8: aload_1
       9: iload_2
      10: invokeinterface #37,  3           // InterfaceMethod javax/transaction/xa/XAResource.end:(Ljavax/transaction/xa/Xid;I)V
      15: goto          37
      18: astore_3
      19: aload_0
      20: aload_3
      21: getfield      #33                 // Field javax/transaction/xa/XAException.errorCode:I
      24: invokespecial #34                 // Method isFailedXA:(I)Z
      27: ifeq          35
      30: aload_0
      31: aload_3
      32: invokevirtual #35                 // Method broadcastConnectionError:(Ljava/lang/Throwable;)V
      35: aload_3
      36: athrow
      37: aload_0
      38: getfield      #10                 // Field stateLock:Ljava/lang/Object;
      41: dup
      42: astore_3
      43: monitorenter
      44: aload_0
      45: getfield      #36                 // Field currentXid:Ljavax/transaction/xa/Xid;
      48: ifnull        72
      51: aload_0
      52: getfield      #36                 // Field currentXid:Ljavax/transaction/xa/Xid;
      55: aload_1
      56: invokevirtual #38                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      59: ifeq          72
      62: aload_0
      63: iconst_0
      64: putfield      #11                 // Field inManagedTransaction:Z
      67: aload_0
      68: aconst_null
      69: putfield      #36                 // Field currentXid:Ljavax/transaction/xa/Xid;
      72: aload_3
      73: monitorexit
      74: goto          84
      77: astore        4
      79: aload_3
      80: monitorexit
      81: aload         4
      83: athrow
      84: aload_0
      85: invokevirtual #22                 // Method unlock:()V
      88: goto          100
      91: astore        5
      93: aload_0
      94: invokevirtual #22                 // Method unlock:()V
      97: aload         5
      99: athrow
     100: return
    Exception table:
       from    to  target type
           4    15    18   Class javax/transaction/xa/XAException
          44    74    77   any
          77    81    77   any
           4    84    91   any
          91    93    91   any

  public int prepare(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       4: aload_1
       5: invokeinterface #39,  2           // InterfaceMethod javax/transaction/xa/XAResource.prepare:(Ljavax/transaction/xa/Xid;)I
      10: ireturn

  public void commit(javax.transaction.xa.Xid, boolean) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       4: aload_1
       5: iload_2
       6: invokeinterface #40,  3           // InterfaceMethod javax/transaction/xa/XAResource.commit:(Ljavax/transaction/xa/Xid;Z)V
      11: return

  public void rollback(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       4: aload_1
       5: invokeinterface #41,  2           // InterfaceMethod javax/transaction/xa/XAResource.rollback:(Ljavax/transaction/xa/Xid;)V
      10: return

  public void forget(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       4: aload_1
       5: invokeinterface #42,  2           // InterfaceMethod javax/transaction/xa/XAResource.forget:(Ljavax/transaction/xa/Xid;)V
      10: return

  public javax.transaction.xa.Xid[] recover(int) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       4: iload_1
       5: invokeinterface #43,  2           // InterfaceMethod javax/transaction/xa/XAResource.recover:(I)[Ljavax/transaction/xa/Xid;
      10: areturn

  public boolean isSameRM(javax.transaction.xa.XAResource) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #44                 // Field mcf:Lorg/jboss/jca/adapters/jdbc/BaseWrapperManagedConnectionFactory;
       4: checkcast     #45                 // class org/jboss/jca/adapters/jdbc/xa/XAManagedConnectionFactory
       7: invokevirtual #46                 // Method org/jboss/jca/adapters/jdbc/xa/XAManagedConnectionFactory.getIsSameRMOverrideValue:()Ljava/lang/Boolean;
      10: astore_2
      11: aload_2
      12: ifnull        20
      15: aload_2
      16: invokevirtual #47                 // Method java/lang/Boolean.booleanValue:()Z
      19: ireturn
      20: aload_1
      21: instanceof    #48                 // class org/jboss/jca/adapters/jdbc/xa/XAManagedConnection
      24: ifeq          46
      27: aload_0
      28: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
      31: aload_1
      32: checkcast     #48                 // class org/jboss/jca/adapters/jdbc/xa/XAManagedConnection
      35: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
      38: invokeinterface #49,  2           // InterfaceMethod javax/transaction/xa/XAResource.isSameRM:(Ljavax/transaction/xa/XAResource;)Z
      43: goto          56
      46: aload_0
      47: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
      50: aload_1
      51: invokeinterface #49,  2           // InterfaceMethod javax/transaction/xa/XAResource.isSameRM:(Ljavax/transaction/xa/XAResource;)Z
      56: ireturn

  public int getTransactionTimeout() throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       4: invokeinterface #50,  1           // InterfaceMethod javax/transaction/xa/XAResource.getTransactionTimeout:()I
       9: ireturn

  public boolean setTransactionTimeout(int) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field xaResource:Ljavax/transaction/xa/XAResource;
       4: iload_1
       5: invokeinterface #51,  2           // InterfaceMethod javax/transaction/xa/XAResource.setTransactionTimeout:(I)Z
      10: ireturn

  private boolean isFailedXA(int);
    Code:
       0: iload_1
       1: bipush        100
       3: if_icmplt     12
       6: iload_1
       7: bipush        107
       9: if_icmple     16
      12: iconst_1
      13: goto          17
      16: iconst_0
      17: ireturn

  public boolean isXA();
    Code:
       0: iconst_1
       1: ireturn
}
