Compiled from "GSSUtil.java"
class org.jboss.security.negotiation.GSSUtil {
  private static final org.jboss.logging.Logger log;

  private static final java.lang.reflect.Method CREATE_SUBJECT_METHOD;

  org.jboss.security.negotiation.GSSUtil();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  static javax.security.auth.Subject populateSubject(javax.security.auth.Subject, org.ietf.jgss.GSSCredential, org.ietf.jgss.GSSCredential) throws javax.security.auth.login.LoginException;
    Code:
       0: aconst_null
       1: astore_3
       2: getstatic     #2                  // Field CREATE_SUBJECT_METHOD:Ljava/lang/reflect/Method;
       5: ifnull        73
       8: aload_1
       9: getstatic     #3                  // Field org/jboss/security/negotiation/Constants.KERBEROS_V5:Lorg/ietf/jgss/Oid;
      12: invokeinterface #4,  2            // InterfaceMethod org/ietf/jgss/GSSCredential.getName:(Lorg/ietf/jgss/Oid;)Lorg/ietf/jgss/GSSName;
      17: astore        4
      19: getstatic     #2                  // Field CREATE_SUBJECT_METHOD:Ljava/lang/reflect/Method;
      22: aload         4
      24: aload_1
      25: invokestatic  #5                  // Method org/jboss/security/negotiation/SecurityActions.invokeCreateSubject:(Ljava/lang/reflect/Method;Lorg/ietf/jgss/GSSName;Lorg/ietf/jgss/GSSCredential;)Ljavax/security/auth/Subject;
      28: astore_3
      29: getstatic     #6                  // Field log:Lorg/jboss/logging/Logger;
      32: ldc           #7                  // String Delegated credential converted to Subject.
      34: invokevirtual #8                  // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      37: aload_3
      38: aload_0
      39: invokestatic  #9                  // Method org/jboss/security/negotiation/SecurityActions.copySubjectContents:(Ljavax/security/auth/Subject;Ljavax/security/auth/Subject;)V
      42: getstatic     #6                  // Field log:Lorg/jboss/logging/Logger;
      45: ldc           #10                 // String Copied conents of temporary Subject to Subject from the LoginContext
      47: invokevirtual #8                  // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      50: goto          87
      53: astore        4
      55: getstatic     #6                  // Field log:Lorg/jboss/logging/Logger;
      58: aload         4
      60: invokevirtual #12                 // Method org/jboss/logging/Logger.debug:(Ljava/lang/Object;)V
      63: new           #13                 // class javax/security/auth/login/LoginException
      66: dup
      67: ldc           #14                 // String Unable to use supplied GSSCredential to populate Subject.
      69: invokespecial #15                 // Method javax/security/auth/login/LoginException."<init>":(Ljava/lang/String;)V
      72: athrow
      73: aload_2
      74: ifnonnull     87
      77: new           #13                 // class javax/security/auth/login/LoginException
      80: dup
      81: ldc           #16                 // String Utility not available to convert from GSSCredential and adding GSSCredential to Subject disabled - this would just result in an empty Subject!
      83: invokespecial #15                 // Method javax/security/auth/login/LoginException."<init>":(Ljava/lang/String;)V
      86: athrow
      87: aload_2
      88: ifnull        104
      91: getstatic     #6                  // Field log:Lorg/jboss/logging/Logger;
      94: ldc           #17                 // String Also add the GSSCredential to the Subject
      96: invokevirtual #8                  // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      99: aload_0
     100: aload_2
     101: invokestatic  #18                 // Method org/jboss/security/negotiation/SecurityActions.addPrivateCredential:(Ljavax/security/auth/Subject;Ljava/lang/Object;)V
     104: aload_3
     105: areturn
    Exception table:
       from    to  target type
           8    50    53   Class org/ietf/jgss/GSSException

  static void clearSubject(javax.security.auth.Subject, javax.security.auth.Subject, org.ietf.jgss.GSSCredential);
    Code:
       0: getstatic     #6                  // Field log:Lorg/jboss/logging/Logger;
       3: ldc           #19                 // String Remove the GSSCredential from the Subject
       5: invokevirtual #8                  // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
       8: aload_0
       9: aload_2
      10: invokestatic  #20                 // Method org/jboss/security/negotiation/SecurityActions.removePrivateCredential:(Ljavax/security/auth/Subject;Ljava/lang/Object;)V
      13: getstatic     #6                  // Field log:Lorg/jboss/logging/Logger;
      16: ldc           #21                 // String Subtract the remaining principals and credentials we added to the Subject
      18: invokevirtual #8                  // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      21: aload_1
      22: aload_0
      23: invokestatic  #22                 // Method org/jboss/security/negotiation/SecurityActions.removeSubjectContents:(Ljavax/security/auth/Subject;Ljavax/security/auth/Subject;)V
      26: return

  static {};
    Code:
       0: ldc           #23                 // class org/jboss/security/negotiation/GSSUtil
       2: invokestatic  #24                 // Method org/jboss/logging/Logger.getLogger:(Ljava/lang/Class;)Lorg/jboss/logging/Logger;
       5: putstatic     #6                  // Field log:Lorg/jboss/logging/Logger;
       8: invokestatic  #25                 // Method org/jboss/security/negotiation/SecurityActions.getCreateSubjectMethod:()Ljava/lang/reflect/Method;
      11: putstatic     #2                  // Field CREATE_SUBJECT_METHOD:Ljava/lang/reflect/Method;
      14: return
}
