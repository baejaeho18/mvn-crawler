Compiled from "TransactionManagerLocator.java"
public class org.jboss.tm.TransactionManagerLocator implements org.jboss.tm.TransactionManagerFactory {
  private static final org.jboss.logging.Logger log;

  private static final java.lang.String JNDI_NAME;

  private static org.jboss.tm.TransactionManagerLocator instance;

  private javax.transaction.TransactionManager tm;

  private org.jboss.tm.TransactionManagerLocator();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static org.jboss.tm.TransactionManagerLocator getInstance();
    Code:
       0: getstatic     #2                  // Field instance:Lorg/jboss/tm/TransactionManagerLocator;
       3: areturn

  public static javax.transaction.TransactionManager locateTransactionManager();
    Code:
       0: invokestatic  #3                  // Method getInstance:()Lorg/jboss/tm/TransactionManagerLocator;
       3: invokevirtual #4                  // Method locate:()Ljavax/transaction/TransactionManager;
       6: areturn

  public static javax.transaction.TransactionManager locateTransactionManager(boolean);
    Code:
       0: invokestatic  #3                  // Method getInstance:()Lorg/jboss/tm/TransactionManagerLocator;
       3: iload_0
       4: invokevirtual #5                  // Method locate:(Z)Ljavax/transaction/TransactionManager;
       7: areturn

  public javax.transaction.TransactionManager getTransactionManager();
    Code:
       0: aload_0
       1: invokevirtual #4                  // Method locate:()Ljavax/transaction/TransactionManager;
       4: areturn

  public javax.transaction.TransactionManager locate();
    Code:
       0: aload_0
       1: iconst_1
       2: invokevirtual #5                  // Method locate:(Z)Ljavax/transaction/TransactionManager;
       5: areturn

  public javax.transaction.TransactionManager locate(boolean);
    Code:
       0: aload_0
       1: getfield      #6                  // Field tm:Ljavax/transaction/TransactionManager;
       4: ifnull        12
       7: aload_0
       8: getfield      #6                  // Field tm:Ljavax/transaction/TransactionManager;
      11: areturn
      12: aload_0
      13: invokevirtual #7                  // Method tryJNDI:()Ljavax/transaction/TransactionManager;
      16: astore_2
      17: aload_2
      18: ifnonnull     26
      21: aload_0
      22: invokevirtual #8                  // Method usePrivateAPI:()Ljavax/transaction/TransactionManager;
      25: astore_2
      26: aload_2
      27: ifnonnull     44
      30: iload_1
      31: ifeq          44
      34: new           #9                  // class java/lang/RuntimeException
      37: dup
      38: ldc           #10                 // String Unable to locate the transaction manager
      40: invokespecial #11                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      43: athrow
      44: aload_2
      45: areturn

  protected javax.transaction.TransactionManager tryJNDI();
    Code:
       0: new           #12                 // class javax/naming/InitialContext
       3: dup
       4: invokespecial #13                 // Method javax/naming/InitialContext."<init>":()V
       7: astore_1
       8: aload_0
       9: aload_1
      10: ldc           #15                 // String java:/TransactionManager
      12: invokevirtual #16                 // Method javax/naming/InitialContext.lookup:(Ljava/lang/String;)Ljava/lang/Object;
      15: checkcast     #17                 // class javax/transaction/TransactionManager
      18: putfield      #6                  // Field tm:Ljavax/transaction/TransactionManager;
      21: getstatic     #18                 // Field log:Lorg/jboss/logging/Logger;
      24: invokevirtual #19                 // Method org/jboss/logging/Logger.isTraceEnabled:()Z
      27: ifeq          58
      30: getstatic     #18                 // Field log:Lorg/jboss/logging/Logger;
      33: new           #20                 // class java/lang/StringBuilder
      36: dup
      37: invokespecial #21                 // Method java/lang/StringBuilder."<init>":()V
      40: ldc           #22                 // String Got a transaction manager from jndi
      42: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_0
      46: getfield      #6                  // Field tm:Ljavax/transaction/TransactionManager;
      49: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      52: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: invokevirtual #26                 // Method org/jboss/logging/Logger.trace:(Ljava/lang/Object;)V
      58: goto          76
      61: astore_1
      62: getstatic     #18                 // Field log:Lorg/jboss/logging/Logger;
      65: ldc           #28                 // String Unable to lookup JNDI name %s reason %s
      67: ldc           #15                 // String java:/TransactionManager
      69: aload_1
      70: invokevirtual #29                 // Method javax/naming/NamingException.getMessage:()Ljava/lang/String;
      73: invokevirtual #30                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      76: aload_0
      77: getfield      #6                  // Field tm:Ljavax/transaction/TransactionManager;
      80: areturn
    Exception table:
       from    to  target type
           0    58    61   Class javax/naming/NamingException

  protected javax.transaction.TransactionManager usePrivateAPI();
    Code:
       0: ldc           #31                 // String org.jboss.tm.TxManager
       2: invokestatic  #32                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;
       5: astore_1
       6: aload_1
       7: ldc           #33                 // String getInstance
       9: iconst_0
      10: anewarray     #34                 // class java/lang/Class
      13: invokevirtual #35                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      16: astore_2
      17: aload_2
      18: aconst_null
      19: aconst_null
      20: invokevirtual #36                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #17                 // class javax/transaction/TransactionManager
      26: astore_3
      27: getstatic     #18                 // Field log:Lorg/jboss/logging/Logger;
      30: new           #20                 // class java/lang/StringBuilder
      33: dup
      34: invokespecial #21                 // Method java/lang/StringBuilder."<init>":()V
      37: ldc           #37                 // String Using the old JBoss transaction manager
      39: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_0
      43: getfield      #6                  // Field tm:Ljavax/transaction/TransactionManager;
      46: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      49: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      52: invokevirtual #38                 // Method org/jboss/logging/Logger.warn:(Ljava/lang/Object;)V
      55: aload_3
      56: areturn
      57: astore_1
      58: getstatic     #18                 // Field log:Lorg/jboss/logging/Logger;
      61: ldc           #40                 // String Unable to instantiate legacy transaction manager: %s
      63: aload_1
      64: invokevirtual #41                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      67: invokevirtual #42                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
      70: aconst_null
      71: areturn
    Exception table:
       from    to  target type
           0    56    57   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #14                 // class org/jboss/tm/TransactionManagerLocator
       2: invokestatic  #43                 // Method org/jboss/logging/Logger.getLogger:(Ljava/lang/Class;)Lorg/jboss/logging/Logger;
       5: putstatic     #18                 // Field log:Lorg/jboss/logging/Logger;
       8: new           #14                 // class org/jboss/tm/TransactionManagerLocator
      11: dup
      12: invokespecial #44                 // Method "<init>":()V
      15: putstatic     #2                  // Field instance:Lorg/jboss/tm/TransactionManagerLocator;
      18: return
}
