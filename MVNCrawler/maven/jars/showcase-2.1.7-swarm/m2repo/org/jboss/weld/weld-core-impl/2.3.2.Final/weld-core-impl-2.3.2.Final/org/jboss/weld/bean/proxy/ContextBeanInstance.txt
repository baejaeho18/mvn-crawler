Compiled from "ContextBeanInstance.java"
public class org.jboss.weld.bean.proxy.ContextBeanInstance<T> extends org.jboss.weld.bean.proxy.AbstractBeanInstance implements java.io.Serializable {
  private static final long serialVersionUID;

  private transient javax.enterprise.inject.spi.Bean<T> bean;

  private final org.jboss.weld.serialization.spi.BeanIdentifier id;

  private final java.lang.String contextId;

  private final transient java.lang.Class<?> instanceType;

  private final transient org.jboss.weld.manager.BeanManagerImpl manager;

  private final transient org.jboss.weld.injection.CurrentInjectionPoint currentInjectionPoint;

  private static final java.lang.ThreadLocal<org.jboss.weld.context.WeldCreationalContext<?>> currentCreationalContext;

  public org.jboss.weld.bean.proxy.ContextBeanInstance(javax.enterprise.inject.spi.Bean<T>, org.jboss.weld.serialization.spi.BeanIdentifier, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/weld/bean/proxy/AbstractBeanInstance."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field bean:Ljavax/enterprise/inject/spi/Bean;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field id:Lorg/jboss/weld/serialization/spi/BeanIdentifier;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field contextId:Ljava/lang/String;
      19: aload_0
      20: aload_0
      21: aload_1
      22: invokevirtual #5                  // Method computeInstanceType:(Ljavax/enterprise/inject/spi/Bean;)Ljava/lang/Class;
      25: putfield      #6                  // Field instanceType:Ljava/lang/Class;
      28: getstatic     #7                  // Field org/jboss/weld/logging/BeanLogger.LOG:Lorg/jboss/weld/logging/BeanLogger;
      31: aload_1
      32: aload_2
      33: invokeinterface #8,  3            // InterfaceMethod org/jboss/weld/logging/BeanLogger.createdContextInstance:(Ljava/lang/Object;Ljava/lang/Object;)V
      38: aload_0
      39: aload_3
      40: invokestatic  #9                  // Method org/jboss/weld/Container.instance:(Ljava/lang/String;)Lorg/jboss/weld/Container;
      43: invokevirtual #10                 // Method org/jboss/weld/Container.deploymentManager:()Lorg/jboss/weld/manager/BeanManagerImpl;
      46: putfield      #11                 // Field manager:Lorg/jboss/weld/manager/BeanManagerImpl;
      49: aload_0
      50: aload_0
      51: getfield      #11                 // Field manager:Lorg/jboss/weld/manager/BeanManagerImpl;
      54: invokevirtual #12                 // Method org/jboss/weld/manager/BeanManagerImpl.getServices:()Lorg/jboss/weld/bootstrap/api/ServiceRegistry;
      57: ldc           #13                 // class org/jboss/weld/injection/CurrentInjectionPoint
      59: invokeinterface #14,  2           // InterfaceMethod org/jboss/weld/bootstrap/api/ServiceRegistry.get:(Ljava/lang/Class;)Lorg/jboss/weld/bootstrap/api/Service;
      64: checkcast     #13                 // class org/jboss/weld/injection/CurrentInjectionPoint
      67: putfield      #15                 // Field currentInjectionPoint:Lorg/jboss/weld/injection/CurrentInjectionPoint;
      70: return

  public T getInstance();
    Code:
       0: aload_0
       1: getfield      #2                  // Field bean:Ljavax/enterprise/inject/spi/Bean;
       4: aload_0
       5: getfield      #11                 // Field manager:Lorg/jboss/weld/manager/BeanManagerImpl;
       8: invokestatic  #16                 // Method org/jboss/weld/bean/ContextualInstance.getIfExists:(Ljavax/enterprise/inject/spi/Bean;Lorg/jboss/weld/manager/BeanManagerImpl;)Ljava/lang/Object;
      11: astore_1
      12: aload_1
      13: ifnull        18
      16: aload_1
      17: areturn
      18: getstatic     #17                 // Field currentCreationalContext:Ljava/lang/ThreadLocal;
      21: invokevirtual #18                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      24: checkcast     #19                 // class org/jboss/weld/context/WeldCreationalContext
      27: astore_3
      28: aload_3
      29: ifnonnull     47
      32: new           #20                 // class org/jboss/weld/context/CreationalContextImpl
      35: dup
      36: aload_0
      37: getfield      #2                  // Field bean:Ljavax/enterprise/inject/spi/Bean;
      40: invokespecial #21                 // Method org/jboss/weld/context/CreationalContextImpl."<init>":(Ljavax/enterprise/context/spi/Contextual;)V
      43: astore_2
      44: goto          58
      47: aload_3
      48: aload_0
      49: getfield      #2                  // Field bean:Ljavax/enterprise/inject/spi/Bean;
      52: invokeinterface #22,  2           // InterfaceMethod org/jboss/weld/context/WeldCreationalContext.getCreationalContext:(Ljavax/enterprise/context/spi/Contextual;)Lorg/jboss/weld/context/WeldCreationalContext;
      57: astore_2
      58: getstatic     #17                 // Field currentCreationalContext:Ljava/lang/ThreadLocal;
      61: aload_2
      62: invokevirtual #23                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      65: aload_0
      66: getfield      #15                 // Field currentInjectionPoint:Lorg/jboss/weld/injection/CurrentInjectionPoint;
      69: getstatic     #24                 // Field org/jboss/weld/injection/EmptyInjectionPoint.INSTANCE:Ljavax/enterprise/inject/spi/InjectionPoint;
      72: invokevirtual #25                 // Method org/jboss/weld/injection/CurrentInjectionPoint.push:(Ljava/lang/Object;)Lorg/jboss/weld/injection/ThreadLocalStack$ThreadLocalStackReference;
      75: astore        4
      77: aload_0
      78: getfield      #2                  // Field bean:Ljavax/enterprise/inject/spi/Bean;
      81: aload_0
      82: getfield      #11                 // Field manager:Lorg/jboss/weld/manager/BeanManagerImpl;
      85: aload_2
      86: invokestatic  #26                 // Method org/jboss/weld/bean/ContextualInstance.get:(Ljavax/enterprise/inject/spi/Bean;Lorg/jboss/weld/manager/BeanManagerImpl;Ljavax/enterprise/context/spi/CreationalContext;)Ljava/lang/Object;
      89: astore        5
      91: aload         4
      93: invokeinterface #27,  1           // InterfaceMethod org/jboss/weld/injection/ThreadLocalStack$ThreadLocalStackReference.pop:()Ljava/lang/Object;
      98: pop
      99: aload_3
     100: ifnonnull     112
     103: getstatic     #17                 // Field currentCreationalContext:Ljava/lang/ThreadLocal;
     106: invokevirtual #28                 // Method java/lang/ThreadLocal.remove:()V
     109: goto          119
     112: getstatic     #17                 // Field currentCreationalContext:Ljava/lang/ThreadLocal;
     115: aload_3
     116: invokevirtual #23                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
     119: aload         5
     121: areturn
     122: astore        6
     124: aload         4
     126: invokeinterface #27,  1           // InterfaceMethod org/jboss/weld/injection/ThreadLocalStack$ThreadLocalStackReference.pop:()Ljava/lang/Object;
     131: pop
     132: aload_3
     133: ifnonnull     145
     136: getstatic     #17                 // Field currentCreationalContext:Ljava/lang/ThreadLocal;
     139: invokevirtual #28                 // Method java/lang/ThreadLocal.remove:()V
     142: goto          152
     145: getstatic     #17                 // Field currentCreationalContext:Ljava/lang/ThreadLocal;
     148: aload_3
     149: invokevirtual #23                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
     152: aload         6
     154: athrow
    Exception table:
       from    to  target type
          77    91   122   any
         122   124   122   any

  public java.lang.Class<T> getInstanceType();
    Code:
       0: aload_0
       1: getfield      #6                  // Field instanceType:Ljava/lang/Class;
       4: invokestatic  #29                 // Method org/jboss/weld/util/reflection/Reflections.cast:(Ljava/lang/Object;)Ljava/lang/Object;
       7: checkcast     #30                 // class java/lang/Class
      10: areturn

  private java.lang.Object readResolve() throws java.io.ObjectStreamException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field contextId:Ljava/lang/String;
       4: invokestatic  #9                  // Method org/jboss/weld/Container.instance:(Ljava/lang/String;)Lorg/jboss/weld/Container;
       7: invokevirtual #31                 // Method org/jboss/weld/Container.services:()Lorg/jboss/weld/bootstrap/api/ServiceRegistry;
      10: ldc           #32                 // class org/jboss/weld/serialization/spi/ContextualStore
      12: invokeinterface #14,  2           // InterfaceMethod org/jboss/weld/bootstrap/api/ServiceRegistry.get:(Ljava/lang/Class;)Lorg/jboss/weld/bootstrap/api/Service;
      17: checkcast     #32                 // class org/jboss/weld/serialization/spi/ContextualStore
      20: aload_0
      21: getfield      #3                  // Field id:Lorg/jboss/weld/serialization/spi/BeanIdentifier;
      24: invokeinterface #33,  2           // InterfaceMethod org/jboss/weld/serialization/spi/ContextualStore.getContextual:(Lorg/jboss/weld/serialization/spi/BeanIdentifier;)Ljavax/enterprise/context/spi/Contextual;
      29: checkcast     #34                 // class javax/enterprise/inject/spi/Bean
      32: astore_1
      33: new           #35                 // class org/jboss/weld/bean/proxy/ContextBeanInstance
      36: dup
      37: aload_1
      38: aload_0
      39: getfield      #3                  // Field id:Lorg/jboss/weld/serialization/spi/BeanIdentifier;
      42: aload_0
      43: getfield      #4                  // Field contextId:Ljava/lang/String;
      46: invokespecial #36                 // Method "<init>":(Ljavax/enterprise/inject/spi/Bean;Lorg/jboss/weld/serialization/spi/BeanIdentifier;Ljava/lang/String;)V
      49: areturn

  static {};
    Code:
       0: new           #37                 // class java/lang/ThreadLocal
       3: dup
       4: invokespecial #38                 // Method java/lang/ThreadLocal."<init>":()V
       7: putstatic     #17                 // Field currentCreationalContext:Ljava/lang/ThreadLocal;
      10: return
}
