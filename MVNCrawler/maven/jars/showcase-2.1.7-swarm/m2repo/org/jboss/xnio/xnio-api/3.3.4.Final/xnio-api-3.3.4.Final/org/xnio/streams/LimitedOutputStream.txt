Compiled from "LimitedOutputStream.java"
public final class org.xnio.streams.LimitedOutputStream extends java.io.OutputStream {
  private final java.io.OutputStream delegate;

  private long remaining;

  public org.xnio.streams.LimitedOutputStream(java.io.OutputStream, long);
    Code:
       0: aload_0
       1: invokespecial #14                 // Method java/io/OutputStream."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #16                 // Field delegate:Ljava/io/OutputStream;
       9: aload_0
      10: lload_2
      11: putfield      #18                 // Field remaining:J
      14: return

  public void write(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #18                 // Field remaining:J
       4: lstore_2
       5: lload_2
       6: lconst_1
       7: lcmp
       8: ifge          15
      11: invokestatic  #29                 // Method notEnoughSpace:()Ljava/io/IOException;
      14: athrow
      15: aload_0
      16: getfield      #16                 // Field delegate:Ljava/io/OutputStream;
      19: iload_1
      20: invokevirtual #31                 // Method java/io/OutputStream.write:(I)V
      23: aload_0
      24: lload_2
      25: lconst_1
      26: lsub
      27: putfield      #18                 // Field remaining:J
      30: return

  public void write(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #18                 // Field remaining:J
       4: lstore        4
       6: lload         4
       8: iload_3
       9: i2l
      10: lcmp
      11: ifge          18
      14: invokestatic  #29                 // Method notEnoughSpace:()Ljava/io/IOException;
      17: athrow
      18: aload_0
      19: getfield      #16                 // Field delegate:Ljava/io/OutputStream;
      22: aload_1
      23: iload_2
      24: iload_3
      25: invokevirtual #38                 // Method java/io/OutputStream.write:([BII)V
      28: aload_0
      29: lload         4
      31: iload_3
      32: i2l
      33: lsub
      34: putfield      #18                 // Field remaining:J
      37: goto          62
      40: astore        6
      42: aload_0
      43: lload         4
      45: aload         6
      47: getfield      #41                 // Field java/io/InterruptedIOException.bytesTransferred:I
      50: i2l
      51: ldc2_w        #42                 // long 4294967295l
      54: land
      55: lsub
      56: putfield      #18                 // Field remaining:J
      59: aload         6
      61: athrow
      62: return
    Exception table:
       from    to  target type
          18    37    40   Class java/io/InterruptedIOException

  public void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #16                 // Field delegate:Ljava/io/OutputStream;
       4: invokevirtual #51                 // Method java/io/OutputStream.flush:()V
       7: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #16                 // Field delegate:Ljava/io/OutputStream;
       4: invokevirtual #54                 // Method java/io/OutputStream.close:()V
       7: return

  private static java.io.IOException notEnoughSpace();
    Code:
       0: new           #25                 // class java/io/IOException
       3: dup
       4: ldc           #56                 // String Not enough space in output stream
       6: invokespecial #59                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
       9: areturn
}
