Compiled from "QueryResultsRegionImpl.java"
public class org.hibernate.cache.infinispan.query.QueryResultsRegionImpl extends org.hibernate.cache.infinispan.impl.BaseTransactionalDataRegion implements org.hibernate.cache.spi.QueryResultsRegion {
  private static final org.infinispan.util.logging.Log log;

  private final org.infinispan.AdvancedCache evictCache;

  private final org.infinispan.AdvancedCache putCache;

  private final org.infinispan.AdvancedCache getCache;

  private final java.util.concurrent.ConcurrentMap<org.hibernate.engine.spi.SessionImplementor, java.util.Map> transactionContext;

  private final boolean putCacheRequiresTransaction;

  public org.hibernate.cache.infinispan.query.QueryResultsRegionImpl(org.infinispan.AdvancedCache, java.lang.String, javax.transaction.TransactionManager, org.hibernate.cache.infinispan.InfinispanRegionFactory);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aconst_null
       5: aload         4
       7: aconst_null
       8: invokespecial #4                  // Method org/hibernate/cache/infinispan/impl/BaseTransactionalDataRegion."<init>":(Lorg/infinispan/AdvancedCache;Ljava/lang/String;Ljavax/transaction/TransactionManager;Lorg/hibernate/cache/spi/CacheDataDescription;Lorg/hibernate/cache/infinispan/InfinispanRegionFactory;Lorg/hibernate/cache/spi/CacheKeysFactory;)V
      11: aload_0
      12: new           #5                  // class java/util/concurrent/ConcurrentHashMap
      15: dup
      16: invokespecial #6                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      19: putfield      #1                  // Field transactionContext:Ljava/util/concurrent/ConcurrentMap;
      22: aload_1
      23: invokestatic  #7                  // Method org/hibernate/cache/infinispan/util/Caches.isInvalidationCache:(Lorg/infinispan/AdvancedCache;)Z
      26: istore        5
      28: aload_0
      29: iload         5
      31: ifeq          41
      34: aload_1
      35: invokestatic  #8                  // Method org/hibernate/cache/infinispan/util/Caches.localCache:(Lorg/infinispan/AdvancedCache;)Lorg/infinispan/AdvancedCache;
      38: goto          42
      41: aload_1
      42: putfield      #9                  // Field evictCache:Lorg/infinispan/AdvancedCache;
      45: aload_0
      46: iload         5
      48: ifeq          61
      51: aload_1
      52: getstatic     #10                 // Field org/infinispan/context/Flag.CACHE_MODE_LOCAL:Lorg/infinispan/context/Flag;
      55: invokestatic  #11                 // Method org/hibernate/cache/infinispan/util/Caches.failSilentWriteCache:(Lorg/infinispan/AdvancedCache;Lorg/infinispan/context/Flag;)Lorg/infinispan/AdvancedCache;
      58: goto          65
      61: aload_1
      62: invokestatic  #12                 // Method org/hibernate/cache/infinispan/util/Caches.failSilentWriteCache:(Lorg/infinispan/AdvancedCache;)Lorg/infinispan/AdvancedCache;
      65: putfield      #3                  // Field putCache:Lorg/infinispan/AdvancedCache;
      68: aload_0
      69: aload_1
      70: invokestatic  #13                 // Method org/hibernate/cache/infinispan/util/Caches.failSilentReadCache:(Lorg/infinispan/AdvancedCache;)Lorg/infinispan/AdvancedCache;
      73: putfield      #14                 // Field getCache:Lorg/infinispan/AdvancedCache;
      76: aload_0
      77: getfield      #3                  // Field putCache:Lorg/infinispan/AdvancedCache;
      80: invokeinterface #15,  1           // InterfaceMethod org/infinispan/AdvancedCache.getCacheConfiguration:()Lorg/infinispan/configuration/cache/Configuration;
      85: invokevirtual #16                 // Method org/infinispan/configuration/cache/Configuration.transaction:()Lorg/infinispan/configuration/cache/TransactionConfiguration;
      88: astore        6
      90: aload         6
      92: invokevirtual #17                 // Method org/infinispan/configuration/cache/TransactionConfiguration.transactionMode:()Lorg/infinispan/transaction/TransactionMode;
      95: getstatic     #18                 // Field org/infinispan/transaction/TransactionMode.NON_TRANSACTIONAL:Lorg/infinispan/transaction/TransactionMode;
      98: if_acmpeq     105
     101: iconst_1
     102: goto          106
     105: iconst_0
     106: istore        7
     108: aload_0
     109: iload         7
     111: ifeq          126
     114: aload         6
     116: invokevirtual #19                 // Method org/infinispan/configuration/cache/TransactionConfiguration.autoCommit:()Z
     119: ifne          126
     122: iconst_1
     123: goto          127
     126: iconst_0
     127: putfield      #2                  // Field putCacheRequiresTransaction:Z
     130: iload         7
     132: ifeq          145
     135: getstatic     #20                 // Field log:Lorg/infinispan/util/logging/Log;
     138: ldc           #21                 // String Use non-transactional query caches for best performance!
     140: invokeinterface #22,  2           // InterfaceMethod org/infinispan/util/logging/Log.warn:(Ljava/lang/Object;)V
     145: return

  protected boolean isRegionAccessStrategyEnabled();
    Code:
       0: iconst_0
       1: ireturn

  public void evict(java.lang.Object) throws org.hibernate.cache.CacheException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field transactionContext:Ljava/util/concurrent/ConcurrentMap;
       4: invokeinterface #23,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.values:()Ljava/util/Collection;
       9: invokeinterface #24,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore_2
      15: aload_2
      16: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          45
      24: aload_2
      25: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #27                 // class java/util/Map
      33: astore_3
      34: aload_3
      35: aload_1
      36: invokeinterface #28,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      41: pop
      42: goto          15
      45: aload_0
      46: getfield      #9                  // Field evictCache:Lorg/infinispan/AdvancedCache;
      49: aload_1
      50: invokeinterface #29,  2           // InterfaceMethod org/infinispan/AdvancedCache.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      55: pop
      56: return

  public void evictAll() throws org.hibernate.cache.CacheException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field transactionContext:Ljava/util/concurrent/ConcurrentMap;
       4: invokeinterface #30,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.clear:()V
       9: aload_0
      10: invokevirtual #31                 // Method suspend:()Ljavax/transaction/Transaction;
      13: astore_1
      14: aload_0
      15: invokevirtual #32                 // Method invalidateRegion:()V
      18: aload_0
      19: getfield      #33                 // Field cache:Lorg/infinispan/AdvancedCache;
      22: invokestatic  #34                 // Method org/hibernate/cache/infinispan/util/Caches.broadcastEvictAll:(Lorg/infinispan/AdvancedCache;)V
      25: aload_0
      26: aload_1
      27: invokevirtual #35                 // Method resume:(Ljavax/transaction/Transaction;)V
      30: goto          41
      33: astore_2
      34: aload_0
      35: aload_1
      36: invokevirtual #35                 // Method resume:(Ljavax/transaction/Transaction;)V
      39: aload_2
      40: athrow
      41: return
    Exception table:
       from    to  target type
          14    25    33   any

  public java.lang.Object get(org.hibernate.engine.spi.SessionImplementor, java.lang.Object) throws org.hibernate.cache.CacheException;
    Code:
       0: aload_0
       1: invokevirtual #36                 // Method checkValid:()Z
       4: ifne          9
       7: aconst_null
       8: areturn
       9: aconst_null
      10: astore_3
      11: aload_0
      12: getfield      #1                  // Field transactionContext:Ljava/util/concurrent/ConcurrentMap;
      15: aload_1
      16: invokeinterface #37,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      21: checkcast     #27                 // class java/util/Map
      24: astore        4
      26: aload         4
      28: ifnull        40
      31: aload         4
      33: aload_2
      34: invokeinterface #38,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      39: astore_3
      40: aload_3
      41: ifnonnull     55
      44: aload_0
      45: getfield      #14                 // Field getCache:Lorg/infinispan/AdvancedCache;
      48: aload_2
      49: invokeinterface #39,  2           // InterfaceMethod org/infinispan/AdvancedCache.get:(Ljava/lang/Object;)Ljava/lang/Object;
      54: astore_3
      55: aload_3
      56: areturn

  public void put(org.hibernate.engine.spi.SessionImplementor, java.lang.Object, java.lang.Object) throws org.hibernate.cache.CacheException;
    Code:
       0: aload_0
       1: invokevirtual #36                 // Method checkValid:()Z
       4: ifeq          119
       7: aload_1
       8: invokeinterface #40,  1           // InterfaceMethod org/hibernate/engine/spi/SessionImplementor.getTransactionCoordinator:()Lorg/hibernate/resource/transaction/TransactionCoordinator;
      13: astore        4
      15: aload         4
      17: ifnull        107
      20: aload         4
      22: invokeinterface #41,  1           // InterfaceMethod org/hibernate/resource/transaction/TransactionCoordinator.isJoined:()Z
      27: ifeq          107
      30: aload         4
      32: invokeinterface #42,  1           // InterfaceMethod org/hibernate/resource/transaction/TransactionCoordinator.getLocalSynchronizations:()Lorg/hibernate/resource/transaction/SynchronizationRegistry;
      37: new           #43                 // class org/hibernate/cache/infinispan/query/QueryResultsRegionImpl$PostTransactionQueryUpdate
      40: dup
      41: aload_0
      42: aload         4
      44: aload_1
      45: aload_2
      46: aload_3
      47: invokespecial #44                 // Method org/hibernate/cache/infinispan/query/QueryResultsRegionImpl$PostTransactionQueryUpdate."<init>":(Lorg/hibernate/cache/infinispan/query/QueryResultsRegionImpl;Lorg/hibernate/resource/transaction/TransactionCoordinator;Lorg/hibernate/engine/spi/SessionImplementor;Ljava/lang/Object;Ljava/lang/Object;)V
      50: invokeinterface #45,  2           // InterfaceMethod org/hibernate/resource/transaction/SynchronizationRegistry.registerSynchronization:(Ljavax/transaction/Synchronization;)V
      55: aload_0
      56: getfield      #1                  // Field transactionContext:Ljava/util/concurrent/ConcurrentMap;
      59: aload_1
      60: invokeinterface #37,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      65: checkcast     #27                 // class java/util/Map
      68: astore        5
      70: aload         5
      72: ifnonnull     96
      75: aload_0
      76: getfield      #1                  // Field transactionContext:Ljava/util/concurrent/ConcurrentMap;
      79: aload_1
      80: new           #46                 // class java/util/HashMap
      83: dup
      84: invokespecial #47                 // Method java/util/HashMap."<init>":()V
      87: dup
      88: astore        5
      90: invokeinterface #48,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      95: pop
      96: aload         5
      98: aload_2
      99: aload_3
     100: invokeinterface #49,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     105: pop
     106: return
     107: aload_0
     108: getfield      #3                  // Field putCache:Lorg/infinispan/AdvancedCache;
     111: aload_2
     112: aload_3
     113: invokeinterface #50,  3           // InterfaceMethod org/infinispan/AdvancedCache.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     118: pop
     119: return

  static org.infinispan.AdvancedCache access$000(org.hibernate.cache.infinispan.query.QueryResultsRegionImpl);
    Code:
       0: aload_0
       1: getfield      #3                  // Field putCache:Lorg/infinispan/AdvancedCache;
       4: areturn

  static boolean access$100(org.hibernate.cache.infinispan.query.QueryResultsRegionImpl);
    Code:
       0: aload_0
       1: getfield      #2                  // Field putCacheRequiresTransaction:Z
       4: ireturn

  static java.util.concurrent.ConcurrentMap access$200(org.hibernate.cache.infinispan.query.QueryResultsRegionImpl);
    Code:
       0: aload_0
       1: getfield      #1                  // Field transactionContext:Ljava/util/concurrent/ConcurrentMap;
       4: areturn

  static {};
    Code:
       0: ldc           #51                 // class org/hibernate/cache/infinispan/query/QueryResultsRegionImpl
       2: invokestatic  #52                 // Method org/infinispan/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/infinispan/util/logging/Log;
       5: putstatic     #20                 // Field log:Lorg/infinispan/util/logging/Log;
       8: return
}
