Compiled from "EntityManagerImpl.java"
public class org.hibernate.jpa.internal.EntityManagerImpl extends org.hibernate.ejb.AbstractEntityManagerImpl implements org.hibernate.engine.spi.SessionOwner {
  public static final org.hibernate.jpa.internal.EntityManagerMessageLogger LOG;

  protected org.hibernate.Session session;

  protected boolean open;

  protected boolean discardOnClose;

  private java.lang.Class sessionInterceptorClass;

  public org.hibernate.jpa.internal.EntityManagerImpl(org.hibernate.jpa.internal.EntityManagerFactoryImpl, javax.persistence.PersistenceContextType, javax.persistence.SynchronizationType, javax.persistence.spi.PersistenceUnitTransactionType, boolean, java.lang.Class, java.util.Map);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         7
       8: invokespecial #2                  // Method org/hibernate/ejb/AbstractEntityManagerImpl."<init>":(Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;Ljavax/persistence/PersistenceContextType;Ljavax/persistence/SynchronizationType;Ljavax/persistence/spi/PersistenceUnitTransactionType;Ljava/util/Map;)V
      11: aload_0
      12: iconst_1
      13: putfield      #3                  // Field open:Z
      16: aload_0
      17: iload         5
      19: putfield      #4                  // Field discardOnClose:Z
      22: aconst_null
      23: astore        8
      25: aload         7
      27: ifnull        41
      30: aload         7
      32: ldc           #6                  // String hibernate.ejb.interceptor.session_scoped
      34: invokeinterface #7,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      39: astore        8
      41: aload         8
      43: ifnull        173
      46: aload         8
      48: instanceof    #8                  // class java/lang/Class
      51: ifeq          64
      54: aload         8
      56: checkcast     #8                  // class java/lang/Class
      59: astore        6
      61: goto          173
      64: aload         8
      66: instanceof    #9                  // class java/lang/String
      69: ifeq          145
      72: aload_1
      73: invokevirtual #10                 // Method org/hibernate/jpa/internal/EntityManagerFactoryImpl.getSessionFactory:()Lorg/hibernate/engine/spi/SessionFactoryImplementor;
      76: invokeinterface #11,  1           // InterfaceMethod org/hibernate/engine/spi/SessionFactoryImplementor.getServiceRegistry:()Lorg/hibernate/service/spi/ServiceRegistryImplementor;
      81: ldc           #12                 // class org/hibernate/boot/registry/classloading/spi/ClassLoaderService
      83: invokeinterface #13,  2           // InterfaceMethod org/hibernate/service/spi/ServiceRegistryImplementor.getService:(Ljava/lang/Class;)Lorg/hibernate/service/Service;
      88: checkcast     #12                 // class org/hibernate/boot/registry/classloading/spi/ClassLoaderService
      91: astore        9
      93: aload         9
      95: aload         8
      97: checkcast     #9                  // class java/lang/String
     100: invokeinterface #14,  2           // InterfaceMethod org/hibernate/boot/registry/classloading/spi/ClassLoaderService.classForName:(Ljava/lang/String;)Ljava/lang/Class;
     105: astore        6
     107: goto          142
     110: astore        10
     112: new           #16                 // class javax/persistence/PersistenceException
     115: dup
     116: new           #17                 // class java/lang/StringBuilder
     119: dup
     120: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     123: ldc           #19                 // String Unable to instanciate interceptor:
     125: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload         8
     130: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     133: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     136: aload         10
     138: invokespecial #23                 // Method javax/persistence/PersistenceException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     141: athrow
     142: goto          173
     145: new           #16                 // class javax/persistence/PersistenceException
     148: dup
     149: new           #17                 // class java/lang/StringBuilder
     152: dup
     153: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     156: ldc           #19                 // String Unable to instanciate interceptor:
     158: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     161: aload         8
     163: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     166: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     169: invokespecial #24                 // Method javax/persistence/PersistenceException."<init>":(Ljava/lang/String;)V
     172: athrow
     173: aload_0
     174: aload         6
     176: putfield      #25                 // Field sessionInterceptorClass:Ljava/lang/Class;
     179: aload_0
     180: invokevirtual #26                 // Method postInit:()V
     183: return
    Exception table:
       from    to  target type
          93   107   110   Class org/hibernate/boot/registry/classloading/spi/ClassLoadingException

  protected void checkOpen();
    Code:
       0: aload_0
       1: iconst_1
       2: invokevirtual #27                 // Method checkOpen:(Z)V
       5: return

  public void checkOpen(boolean);
    Code:
       0: aload_0
       1: invokevirtual #28                 // Method isOpen:()Z
       4: ifne          25
       7: iload_1
       8: ifeq          15
      11: aload_0
      12: invokevirtual #29                 // Method markForRollbackOnly:()V
      15: new           #30                 // class java/lang/IllegalStateException
      18: dup
      19: ldc           #31                 // String EntityManager is closed
      21: invokespecial #32                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      24: athrow
      25: return

  public org.hibernate.Session getSession();
    Code:
       0: aload_0
       1: invokevirtual #33                 // Method checkOpen:()V
       4: aload_0
       5: invokevirtual #34                 // Method internalGetSession:()Lorg/hibernate/Session;
       8: areturn

  protected org.hibernate.Session getRawSession();
    Code:
       0: aload_0
       1: invokevirtual #34                 // Method internalGetSession:()Lorg/hibernate/Session;
       4: areturn

  protected org.hibernate.Session internalGetSession();
    Code:
       0: aload_0
       1: getfield      #35                 // Field session:Lorg/hibernate/Session;
       4: ifnonnull     185
       7: aload_0
       8: invokevirtual #36                 // Method internalGetEntityManagerFactory:()Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;
      11: invokevirtual #10                 // Method org/hibernate/jpa/internal/EntityManagerFactoryImpl.getSessionFactory:()Lorg/hibernate/engine/spi/SessionFactoryImplementor;
      14: invokeinterface #37,  1           // InterfaceMethod org/hibernate/engine/spi/SessionFactoryImplementor.withOptions:()Lorg/hibernate/engine/spi/SessionBuilderImplementor;
      19: astore_1
      20: aload_1
      21: aload_0
      22: invokeinterface #38,  2           // InterfaceMethod org/hibernate/engine/spi/SessionBuilderImplementor.owner:(Lorg/hibernate/engine/spi/SessionOwner;)Lorg/hibernate/SessionBuilder;
      27: pop
      28: aload_0
      29: getfield      #25                 // Field sessionInterceptorClass:Ljava/lang/Class;
      32: ifnull        153
      35: aload_0
      36: getfield      #25                 // Field sessionInterceptorClass:Ljava/lang/Class;
      39: invokevirtual #39                 // Method java/lang/Class.newInstance:()Ljava/lang/Object;
      42: checkcast     #40                 // class org/hibernate/Interceptor
      45: astore_2
      46: aload_1
      47: aload_2
      48: invokeinterface #41,  2           // InterfaceMethod org/hibernate/engine/spi/SessionBuilderImplementor.interceptor:(Lorg/hibernate/Interceptor;)Lorg/hibernate/SessionBuilder;
      53: pop
      54: goto          153
      57: astore_2
      58: new           #16                 // class javax/persistence/PersistenceException
      61: dup
      62: new           #17                 // class java/lang/StringBuilder
      65: dup
      66: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      69: ldc           #43                 // String Unable to instantiate session interceptor:
      71: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: aload_0
      75: getfield      #25                 // Field sessionInterceptorClass:Ljava/lang/Class;
      78: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      81: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: aload_2
      85: invokespecial #23                 // Method javax/persistence/PersistenceException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      88: athrow
      89: astore_2
      90: new           #16                 // class javax/persistence/PersistenceException
      93: dup
      94: new           #17                 // class java/lang/StringBuilder
      97: dup
      98: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     101: ldc           #43                 // String Unable to instantiate session interceptor:
     103: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: aload_0
     107: getfield      #25                 // Field sessionInterceptorClass:Ljava/lang/Class;
     110: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     113: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     116: aload_2
     117: invokespecial #23                 // Method javax/persistence/PersistenceException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     120: athrow
     121: astore_2
     122: new           #16                 // class javax/persistence/PersistenceException
     125: dup
     126: new           #17                 // class java/lang/StringBuilder
     129: dup
     130: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     133: ldc           #46                 // String Session interceptor does not implement Interceptor:
     135: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: aload_0
     139: getfield      #25                 // Field sessionInterceptorClass:Ljava/lang/Class;
     142: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     145: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     148: aload_2
     149: invokespecial #23                 // Method javax/persistence/PersistenceException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     152: athrow
     153: aload_1
     154: aload_0
     155: invokevirtual #47                 // Method getSynchronizationType:()Ljavax/persistence/SynchronizationType;
     158: getstatic     #48                 // Field javax/persistence/SynchronizationType.SYNCHRONIZED:Ljavax/persistence/SynchronizationType;
     161: if_acmpne     168
     164: iconst_1
     165: goto          169
     168: iconst_0
     169: invokeinterface #49,  2           // InterfaceMethod org/hibernate/engine/spi/SessionBuilderImplementor.autoJoinTransactions:(Z)Lorg/hibernate/SessionBuilder;
     174: pop
     175: aload_0
     176: aload_1
     177: invokeinterface #50,  1           // InterfaceMethod org/hibernate/engine/spi/SessionBuilderImplementor.openSession:()Lorg/hibernate/Session;
     182: putfield      #35                 // Field session:Lorg/hibernate/Session;
     185: aload_0
     186: getfield      #35                 // Field session:Lorg/hibernate/Session;
     189: areturn
    Exception table:
       from    to  target type
          35    54    57   Class java/lang/InstantiationException
          35    54    89   Class java/lang/IllegalAccessException
          35    54   121   Class java/lang/ClassCastException

  public void close();
    Code:
       0: aload_0
       1: invokespecial #51                 // Method checkEntityManagerFactory:()V
       4: aload_0
       5: invokevirtual #33                 // Method checkOpen:()V
       8: aload_0
       9: getfield      #4                  // Field discardOnClose:Z
      12: ifne          22
      15: aload_0
      16: invokevirtual #52                 // Method isTransactionInProgress:()Z
      19: ifne          38
      22: aload_0
      23: getfield      #35                 // Field session:Lorg/hibernate/Session;
      26: ifnull        38
      29: aload_0
      30: getfield      #35                 // Field session:Lorg/hibernate/Session;
      33: invokeinterface #53,  1           // InterfaceMethod org/hibernate/Session.close:()V
      38: aload_0
      39: iconst_0
      40: putfield      #3                  // Field open:Z
      43: return

  public boolean isOpen();
    Code:
       0: aload_0
       1: invokespecial #51                 // Method checkEntityManagerFactory:()V
       4: aload_0
       5: getfield      #3                  // Field open:Z
       8: ifeq          21
      11: aload_0
      12: invokevirtual #34                 // Method internalGetSession:()Lorg/hibernate/Session;
      15: invokeinterface #54,  1           // InterfaceMethod org/hibernate/Session.isOpen:()Z
      20: pop
      21: aload_0
      22: getfield      #3                  // Field open:Z
      25: ireturn
      26: astore_1
      27: aload_0
      28: aload_1
      29: invokevirtual #56                 // Method throwPersistenceException:(Lorg/hibernate/HibernateException;)V
      32: iconst_0
      33: ireturn
    Exception table:
       from    to  target type
           4    25    26   Class org/hibernate/HibernateException

  public <T> javax.persistence.EntityGraph<T> createEntityGraph(java.lang.Class<T>);
    Code:
       0: aload_0
       1: invokevirtual #33                 // Method checkOpen:()V
       4: new           #57                 // class org/hibernate/jpa/graph/internal/EntityGraphImpl
       7: dup
       8: aconst_null
       9: aload_0
      10: invokevirtual #58                 // Method getMetamodel:()Ljavax/persistence/metamodel/Metamodel;
      13: aload_1
      14: invokeinterface #59,  2           // InterfaceMethod javax/persistence/metamodel/Metamodel.entity:(Ljava/lang/Class;)Ljavax/persistence/metamodel/EntityType;
      19: aload_0
      20: invokevirtual #60                 // Method getEntityManagerFactory:()Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;
      23: invokespecial #61                 // Method org/hibernate/jpa/graph/internal/EntityGraphImpl."<init>":(Ljava/lang/String;Ljavax/persistence/metamodel/EntityType;Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;)V
      26: areturn

  public javax.persistence.EntityGraph<?> createEntityGraph(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #33                 // Method checkOpen:()V
       4: aload_0
       5: invokevirtual #60                 // Method getEntityManagerFactory:()Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;
       8: aload_1
       9: invokevirtual #62                 // Method org/hibernate/jpa/internal/EntityManagerFactoryImpl.findEntityGraphByName:(Ljava/lang/String;)Lorg/hibernate/jpa/graph/internal/EntityGraphImpl;
      12: astore_2
      13: aload_2
      14: ifnonnull     19
      17: aconst_null
      18: areturn
      19: aload_2
      20: invokevirtual #63                 // Method org/hibernate/jpa/graph/internal/EntityGraphImpl.makeMutableCopy:()Lorg/hibernate/jpa/graph/internal/EntityGraphImpl;
      23: areturn

  public javax.persistence.EntityGraph<?> getEntityGraph(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #33                 // Method checkOpen:()V
       4: aload_0
       5: invokevirtual #60                 // Method getEntityManagerFactory:()Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;
       8: aload_1
       9: invokevirtual #62                 // Method org/hibernate/jpa/internal/EntityManagerFactoryImpl.findEntityGraphByName:(Ljava/lang/String;)Lorg/hibernate/jpa/graph/internal/EntityGraphImpl;
      12: astore_2
      13: aload_2
      14: ifnonnull     44
      17: new           #64                 // class java/lang/IllegalArgumentException
      20: dup
      21: new           #17                 // class java/lang/StringBuilder
      24: dup
      25: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      28: ldc           #65                 // String Could not locate EntityGraph with given name :
      30: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_1
      34: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      40: invokespecial #66                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      43: athrow
      44: aload_2
      45: areturn

  public <T> java.util.List<javax.persistence.EntityGraph<? super T>> getEntityGraphs(java.lang.Class<T>);
    Code:
       0: aload_0
       1: invokevirtual #33                 // Method checkOpen:()V
       4: aload_0
       5: invokevirtual #60                 // Method getEntityManagerFactory:()Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;
       8: aload_1
       9: invokevirtual #67                 // Method org/hibernate/jpa/internal/EntityManagerFactoryImpl.findEntityGraphsByType:(Ljava/lang/Class;)Ljava/util/List;
      12: areturn

  public boolean shouldAutoCloseSession();
    Code:
       0: aload_0
       1: invokevirtual #28                 // Method isOpen:()Z
       4: ifne          11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  public org.hibernate.resource.transaction.backend.jta.internal.synchronization.ExceptionMapper getExceptionMapper();
    Code:
       0: new           #68                 // class org/hibernate/jpa/internal/EntityManagerImpl$CallbackExceptionMapperImpl
       3: dup
       4: aload_0
       5: aconst_null
       6: invokespecial #69                 // Method org/hibernate/jpa/internal/EntityManagerImpl$CallbackExceptionMapperImpl."<init>":(Lorg/hibernate/jpa/internal/EntityManagerImpl;Lorg/hibernate/jpa/internal/EntityManagerImpl$1;)V
       9: areturn

  public org.hibernate.resource.transaction.backend.jta.internal.synchronization.AfterCompletionAction getAfterCompletionAction();
    Code:
       0: new           #70                 // class org/hibernate/jpa/internal/EntityManagerImpl$AfterCompletionActionImpl
       3: dup
       4: aload_0
       5: aconst_null
       6: invokespecial #71                 // Method org/hibernate/jpa/internal/EntityManagerImpl$AfterCompletionActionImpl."<init>":(Lorg/hibernate/jpa/internal/EntityManagerImpl;Lorg/hibernate/jpa/internal/EntityManagerImpl$1;)V
       9: areturn

  public org.hibernate.resource.transaction.backend.jta.internal.synchronization.ManagedFlushChecker getManagedFlushChecker();
    Code:
       0: new           #72                 // class org/hibernate/jpa/internal/EntityManagerImpl$ManagedFlushCheckerImpl
       3: dup
       4: aload_0
       5: aconst_null
       6: invokespecial #73                 // Method org/hibernate/jpa/internal/EntityManagerImpl$ManagedFlushCheckerImpl."<init>":(Lorg/hibernate/jpa/internal/EntityManagerImpl;Lorg/hibernate/jpa/internal/EntityManagerImpl$1;)V
       9: areturn

  private void checkEntityManagerFactory();
    Code:
       0: aload_0
       1: invokevirtual #36                 // Method internalGetEntityManagerFactory:()Lorg/hibernate/jpa/internal/EntityManagerFactoryImpl;
       4: invokevirtual #74                 // Method org/hibernate/jpa/internal/EntityManagerFactoryImpl.isOpen:()Z
       7: ifne          15
      10: aload_0
      11: iconst_0
      12: putfield      #3                  // Field open:Z
      15: return

  private boolean isManualFlushMode(org.hibernate.FlushMode);
    Code:
       0: getstatic     #75                 // Field org/hibernate/FlushMode.MANUAL:Lorg/hibernate/FlushMode;
       3: aload_1
       4: if_acmpne     11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  static boolean access$300(org.hibernate.jpa.internal.EntityManagerImpl, org.hibernate.FlushMode);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method isManualFlushMode:(Lorg/hibernate/FlushMode;)Z
       5: ireturn

  static {};
    Code:
       0: ldc           #76                 // class org/hibernate/jpa/internal/EntityManagerImpl
       2: invokevirtual #77                 // Method java/lang/Class.getName:()Ljava/lang/String;
       5: invokestatic  #78                 // Method org/hibernate/jpa/internal/HEMLogging.messageLogger:(Ljava/lang/String;)Lorg/hibernate/jpa/internal/EntityManagerMessageLogger;
       8: putstatic     #79                 // Field LOG:Lorg/hibernate/jpa/internal/EntityManagerMessageLogger;
      11: return
}
