Compiled from "DefaultRefreshEventListener.java"
public class org.hibernate.event.internal.DefaultRefreshEventListener implements org.hibernate.event.spi.RefreshEventListener {
  private static final org.hibernate.internal.CoreMessageLogger LOG;

  public org.hibernate.event.internal.DefaultRefreshEventListener();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void onRefresh(org.hibernate.event.spi.RefreshEvent) throws org.hibernate.HibernateException;
    Code:
       0: aload_0
       1: aload_1
       2: new           #2                  // class java/util/IdentityHashMap
       5: dup
       6: bipush        10
       8: invokespecial #3                  // Method java/util/IdentityHashMap."<init>":(I)V
      11: invokevirtual #4                  // Method onRefresh:(Lorg/hibernate/event/spi/RefreshEvent;Ljava/util/Map;)V
      14: return

  public void onRefresh(org.hibernate.event.spi.RefreshEvent, java.util.Map);
    Code:
       0: aload_1
       1: invokevirtual #5                  // Method org/hibernate/event/spi/RefreshEvent.getSession:()Lorg/hibernate/event/spi/EventSource;
       4: astore_3
       5: aload_3
       6: aload_1
       7: invokevirtual #6                  // Method org/hibernate/event/spi/RefreshEvent.getObject:()Ljava/lang/Object;
      10: invokeinterface #7,  2            // InterfaceMethod org/hibernate/event/spi/EventSource.contains:(Ljava/lang/Object;)Z
      15: ifne          22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: istore        4
      25: aload_3
      26: invokeinterface #8,  1            // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
      31: aload_1
      32: invokevirtual #6                  // Method org/hibernate/event/spi/RefreshEvent.getObject:()Ljava/lang/Object;
      35: invokeinterface #9,  2            // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.reassociateIfUninitializedProxy:(Ljava/lang/Object;)Z
      40: ifeq          65
      43: iload         4
      45: ifeq          64
      48: aload_3
      49: aload_1
      50: invokevirtual #6                  // Method org/hibernate/event/spi/RefreshEvent.getObject:()Ljava/lang/Object;
      53: aload_3
      54: invokeinterface #10,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.isDefaultReadOnly:()Z
      59: invokeinterface #11,  3           // InterfaceMethod org/hibernate/event/spi/EventSource.setReadOnly:(Ljava/lang/Object;Z)V
      64: return
      65: aload_3
      66: invokeinterface #8,  1            // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
      71: aload_1
      72: invokevirtual #6                  // Method org/hibernate/event/spi/RefreshEvent.getObject:()Ljava/lang/Object;
      75: invokeinterface #12,  2           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.unproxyAndReassociate:(Ljava/lang/Object;)Ljava/lang/Object;
      80: astore        5
      82: aload_2
      83: aload         5
      85: invokeinterface #13,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      90: ifeq          104
      93: getstatic     #14                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      96: ldc           #15                 // String Already refreshed
      98: invokeinterface #16,  2           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.trace:(Ljava/lang/Object;)V
     103: return
     104: aload_3
     105: invokeinterface #8,  1            // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
     110: aload         5
     112: invokeinterface #17,  2           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.getEntry:(Ljava/lang/Object;)Lorg/hibernate/engine/spi/EntityEntry;
     117: astore        6
     119: aload         6
     121: ifnonnull     257
     124: aload_3
     125: aload_1
     126: invokevirtual #18                 // Method org/hibernate/event/spi/RefreshEvent.getEntityName:()Ljava/lang/String;
     129: aload         5
     131: invokeinterface #19,  3           // InterfaceMethod org/hibernate/event/spi/EventSource.getEntityPersister:(Ljava/lang/String;Ljava/lang/Object;)Lorg/hibernate/persister/entity/EntityPersister;
     136: astore        7
     138: aload         7
     140: aload         5
     142: aload_1
     143: invokevirtual #5                  // Method org/hibernate/event/spi/RefreshEvent.getSession:()Lorg/hibernate/event/spi/EventSource;
     146: invokeinterface #20,  3           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.getIdentifier:(Ljava/lang/Object;Lorg/hibernate/engine/spi/SessionImplementor;)Ljava/io/Serializable;
     151: astore        8
     153: getstatic     #14                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
     156: invokeinterface #21,  1           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.isTraceEnabled:()Z
     161: ifeq          187
     164: getstatic     #14                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
     167: ldc           #22                 // String Refreshing transient {0}
     169: aload         7
     171: aload         8
     173: aload_3
     174: invokeinterface #23,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getFactory:()Lorg/hibernate/engine/spi/SessionFactoryImplementor;
     179: invokestatic  #24                 // Method org/hibernate/pretty/MessageHelper.infoString:(Lorg/hibernate/persister/entity/EntityPersister;Ljava/lang/Object;Lorg/hibernate/engine/spi/SessionFactoryImplementor;)Ljava/lang/String;
     182: invokeinterface #25,  3           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.tracev:(Ljava/lang/String;Ljava/lang/Object;)V
     187: aload_3
     188: aload         8
     190: aload         7
     192: invokeinterface #26,  3           // InterfaceMethod org/hibernate/event/spi/EventSource.generateEntityKey:(Ljava/io/Serializable;Lorg/hibernate/persister/entity/EntityPersister;)Lorg/hibernate/engine/spi/EntityKey;
     197: astore        9
     199: aload_3
     200: invokeinterface #8,  1            // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
     205: aload         9
     207: invokeinterface #17,  2           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.getEntry:(Ljava/lang/Object;)Lorg/hibernate/engine/spi/EntityEntry;
     212: ifnull        254
     215: new           #27                 // class org/hibernate/PersistentObjectException
     218: dup
     219: new           #28                 // class java/lang/StringBuilder
     222: dup
     223: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
     226: ldc           #30                 // String attempted to refresh transient instance when persistent instance was already associated with the Session:
     228: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     231: aload         7
     233: aload         8
     235: aload_3
     236: invokeinterface #23,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getFactory:()Lorg/hibernate/engine/spi/SessionFactoryImplementor;
     241: invokestatic  #24                 // Method org/hibernate/pretty/MessageHelper.infoString:(Lorg/hibernate/persister/entity/EntityPersister;Ljava/lang/Object;Lorg/hibernate/engine/spi/SessionFactoryImplementor;)Ljava/lang/String;
     244: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     247: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     250: invokespecial #33                 // Method org/hibernate/PersistentObjectException."<init>":(Ljava/lang/String;)V
     253: athrow
     254: goto          346
     257: getstatic     #14                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
     260: invokeinterface #21,  1           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.isTraceEnabled:()Z
     265: ifeq          301
     268: getstatic     #14                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
     271: ldc           #34                 // String Refreshing
     273: aload         6
     275: invokeinterface #35,  1           // InterfaceMethod org/hibernate/engine/spi/EntityEntry.getPersister:()Lorg/hibernate/persister/entity/EntityPersister;
     280: aload         6
     282: invokeinterface #36,  1           // InterfaceMethod org/hibernate/engine/spi/EntityEntry.getId:()Ljava/io/Serializable;
     287: aload_3
     288: invokeinterface #23,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getFactory:()Lorg/hibernate/engine/spi/SessionFactoryImplementor;
     293: invokestatic  #24                 // Method org/hibernate/pretty/MessageHelper.infoString:(Lorg/hibernate/persister/entity/EntityPersister;Ljava/lang/Object;Lorg/hibernate/engine/spi/SessionFactoryImplementor;)Ljava/lang/String;
     296: invokeinterface #25,  3           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.tracev:(Ljava/lang/String;Ljava/lang/Object;)V
     301: aload         6
     303: invokeinterface #37,  1           // InterfaceMethod org/hibernate/engine/spi/EntityEntry.isExistsInDatabase:()Z
     308: ifne          328
     311: new           #38                 // class org/hibernate/UnresolvableObjectException
     314: dup
     315: aload         6
     317: invokeinterface #36,  1           // InterfaceMethod org/hibernate/engine/spi/EntityEntry.getId:()Ljava/io/Serializable;
     322: ldc           #39                 // String this instance does not yet exist as a row in the database
     324: invokespecial #40                 // Method org/hibernate/UnresolvableObjectException."<init>":(Ljava/io/Serializable;Ljava/lang/String;)V
     327: athrow
     328: aload         6
     330: invokeinterface #35,  1           // InterfaceMethod org/hibernate/engine/spi/EntityEntry.getPersister:()Lorg/hibernate/persister/entity/EntityPersister;
     335: astore        7
     337: aload         6
     339: invokeinterface #36,  1           // InterfaceMethod org/hibernate/engine/spi/EntityEntry.getId:()Ljava/io/Serializable;
     344: astore        8
     346: aload_2
     347: aload         5
     349: aload         5
     351: invokeinterface #41,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     356: pop
     357: getstatic     #42                 // Field org/hibernate/engine/spi/CascadingActions.REFRESH:Lorg/hibernate/engine/spi/CascadingAction;
     360: getstatic     #43                 // Field org/hibernate/engine/internal/CascadePoint.BEFORE_REFRESH:Lorg/hibernate/engine/internal/CascadePoint;
     363: aload_3
     364: aload         7
     366: aload         5
     368: aload_2
     369: invokestatic  #44                 // Method org/hibernate/engine/internal/Cascade.cascade:(Lorg/hibernate/engine/spi/CascadingAction;Lorg/hibernate/engine/internal/CascadePoint;Lorg/hibernate/event/spi/EventSource;Lorg/hibernate/persister/entity/EntityPersister;Ljava/lang/Object;Ljava/lang/Object;)V
     372: aload         6
     374: ifnull        428
     377: aload_3
     378: aload         8
     380: aload         7
     382: invokeinterface #26,  3           // InterfaceMethod org/hibernate/event/spi/EventSource.generateEntityKey:(Ljava/io/Serializable;Lorg/hibernate/persister/entity/EntityPersister;)Lorg/hibernate/engine/spi/EntityKey;
     387: astore        9
     389: aload_3
     390: invokeinterface #8,  1            // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
     395: aload         9
     397: invokeinterface #45,  2           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.removeEntity:(Lorg/hibernate/engine/spi/EntityKey;)Ljava/lang/Object;
     402: pop
     403: aload         7
     405: invokeinterface #46,  1           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.hasCollections:()Z
     410: ifeq          428
     413: new           #47                 // class org/hibernate/event/internal/EvictVisitor
     416: dup
     417: aload_3
     418: invokespecial #48                 // Method org/hibernate/event/internal/EvictVisitor."<init>":(Lorg/hibernate/event/spi/EventSource;)V
     421: aload         5
     423: aload         7
     425: invokevirtual #49                 // Method org/hibernate/event/internal/EvictVisitor.process:(Ljava/lang/Object;Lorg/hibernate/persister/entity/EntityPersister;)V
     428: aload         7
     430: invokeinterface #50,  1           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.hasCache:()Z
     435: ifeq          481
     438: aload         7
     440: invokeinterface #51,  1           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.getCacheAccessStrategy:()Lorg/hibernate/cache/spi/access/EntityRegionAccessStrategy;
     445: astore        9
     447: aload         9
     449: aload         8
     451: aload         7
     453: aload_3
     454: invokeinterface #23,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getFactory:()Lorg/hibernate/engine/spi/SessionFactoryImplementor;
     459: aload_3
     460: invokeinterface #52,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getTenantIdentifier:()Ljava/lang/String;
     465: invokeinterface #53,  5           // InterfaceMethod org/hibernate/cache/spi/access/EntityRegionAccessStrategy.generateCacheKey:(Ljava/lang/Object;Lorg/hibernate/persister/entity/EntityPersister;Lorg/hibernate/engine/spi/SessionFactoryImplementor;Ljava/lang/String;)Ljava/lang/Object;
     470: astore        10
     472: aload         9
     474: aload         10
     476: invokeinterface #54,  2           // InterfaceMethod org/hibernate/cache/spi/access/EntityRegionAccessStrategy.evict:(Ljava/lang/Object;)V
     481: aload_0
     482: aload         7
     484: aload         8
     486: aload_3
     487: invokeinterface #23,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getFactory:()Lorg/hibernate/engine/spi/SessionFactoryImplementor;
     492: invokespecial #55                 // Method evictCachedCollections:(Lorg/hibernate/persister/entity/EntityPersister;Ljava/io/Serializable;Lorg/hibernate/engine/spi/SessionFactoryImplementor;)V
     495: aload_3
     496: invokeinterface #56,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getLoadQueryInfluencers:()Lorg/hibernate/engine/spi/LoadQueryInfluencers;
     501: invokevirtual #57                 // Method org/hibernate/engine/spi/LoadQueryInfluencers.getInternalFetchProfile:()Ljava/lang/String;
     504: astore        9
     506: aload_3
     507: invokeinterface #56,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getLoadQueryInfluencers:()Lorg/hibernate/engine/spi/LoadQueryInfluencers;
     512: ldc           #58                 // String refresh
     514: invokevirtual #59                 // Method org/hibernate/engine/spi/LoadQueryInfluencers.setInternalFetchProfile:(Ljava/lang/String;)V
     517: aload         7
     519: aload         8
     521: aload         5
     523: aload_1
     524: invokevirtual #60                 // Method org/hibernate/event/spi/RefreshEvent.getLockOptions:()Lorg/hibernate/LockOptions;
     527: aload_3
     528: invokeinterface #61,  5           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.load:(Ljava/io/Serializable;Ljava/lang/Object;Lorg/hibernate/LockOptions;Lorg/hibernate/engine/spi/SessionImplementor;)Ljava/lang/Object;
     533: astore        10
     535: aload         10
     537: ifnull        591
     540: aload         7
     542: invokeinterface #62,  1           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.isMutable:()Z
     547: ifne          562
     550: aload_3
     551: aload         10
     553: iconst_1
     554: invokeinterface #11,  3           // InterfaceMethod org/hibernate/event/spi/EventSource.setReadOnly:(Ljava/lang/Object;Z)V
     559: goto          591
     562: aload_3
     563: aload         10
     565: aload         6
     567: ifnonnull     579
     570: aload_3
     571: invokeinterface #10,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.isDefaultReadOnly:()Z
     576: goto          586
     579: aload         6
     581: invokeinterface #63,  1           // InterfaceMethod org/hibernate/engine/spi/EntityEntry.isReadOnly:()Z
     586: invokeinterface #11,  3           // InterfaceMethod org/hibernate/event/spi/EventSource.setReadOnly:(Ljava/lang/Object;Z)V
     591: aload_3
     592: invokeinterface #56,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getLoadQueryInfluencers:()Lorg/hibernate/engine/spi/LoadQueryInfluencers;
     597: aload         9
     599: invokevirtual #59                 // Method org/hibernate/engine/spi/LoadQueryInfluencers.setInternalFetchProfile:(Ljava/lang/String;)V
     602: aload         10
     604: aload         8
     606: aload         7
     608: invokeinterface #64,  1           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.getEntityName:()Ljava/lang/String;
     613: invokestatic  #65                 // Method org/hibernate/UnresolvableObjectException.throwIfNull:(Ljava/lang/Object;Ljava/io/Serializable;Ljava/lang/String;)V
     616: return

  private void evictCachedCollections(org.hibernate.persister.entity.EntityPersister, java.io.Serializable, org.hibernate.engine.spi.SessionFactoryImplementor);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #66,  1           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.getPropertyTypes:()[Lorg/hibernate/type/Type;
       7: aload_2
       8: aload_3
       9: invokespecial #67                 // Method evictCachedCollections:([Lorg/hibernate/type/Type;Ljava/io/Serializable;Lorg/hibernate/engine/spi/SessionFactoryImplementor;)V
      12: return

  private void evictCachedCollections(org.hibernate.type.Type[], java.io.Serializable, org.hibernate.engine.spi.SessionFactoryImplementor) throws org.hibernate.HibernateException;
    Code:
       0: aload_1
       1: astore        4
       3: aload         4
       5: arraylength
       6: istore        5
       8: iconst_0
       9: istore        6
      11: iload         6
      13: iload         5
      15: if_icmpge     94
      18: aload         4
      20: iload         6
      22: aaload
      23: astore        7
      25: aload         7
      27: invokeinterface #68,  1           // InterfaceMethod org/hibernate/type/Type.isCollectionType:()Z
      32: ifeq          58
      35: aload_3
      36: invokeinterface #69,  1           // InterfaceMethod org/hibernate/engine/spi/SessionFactoryImplementor.getCache:()Lorg/hibernate/Cache;
      41: aload         7
      43: checkcast     #70                 // class org/hibernate/type/CollectionType
      46: invokevirtual #71                 // Method org/hibernate/type/CollectionType.getRole:()Ljava/lang/String;
      49: aload_2
      50: invokeinterface #72,  3           // InterfaceMethod org/hibernate/Cache.evictCollection:(Ljava/lang/String;Ljava/io/Serializable;)V
      55: goto          88
      58: aload         7
      60: invokeinterface #73,  1           // InterfaceMethod org/hibernate/type/Type.isComponentType:()Z
      65: ifeq          88
      68: aload         7
      70: checkcast     #74                 // class org/hibernate/type/CompositeType
      73: astore        8
      75: aload_0
      76: aload         8
      78: invokeinterface #75,  1           // InterfaceMethod org/hibernate/type/CompositeType.getSubtypes:()[Lorg/hibernate/type/Type;
      83: aload_2
      84: aload_3
      85: invokespecial #67                 // Method evictCachedCollections:([Lorg/hibernate/type/Type;Ljava/io/Serializable;Lorg/hibernate/engine/spi/SessionFactoryImplementor;)V
      88: iinc          6, 1
      91: goto          11
      94: return

  static {};
    Code:
       0: ldc           #76                 // class org/hibernate/event/internal/DefaultRefreshEventListener
       2: invokestatic  #77                 // Method org/hibernate/internal/CoreLogging.messageLogger:(Ljava/lang/Class;)Lorg/hibernate/internal/CoreMessageLogger;
       5: putstatic     #14                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
       8: return
}
