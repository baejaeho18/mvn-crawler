Compiled from "JtaIsolationDelegate.java"
public class org.hibernate.resource.transaction.backend.jta.internal.JtaIsolationDelegate implements org.hibernate.engine.transaction.spi.IsolationDelegate {
  private static final org.hibernate.internal.CoreMessageLogger LOG;

  private final org.hibernate.engine.jdbc.connections.spi.JdbcConnectionAccess connectionAccess;

  private final org.hibernate.engine.jdbc.spi.SqlExceptionHelper sqlExceptionHelper;

  private final javax.transaction.TransactionManager transactionManager;

  public org.hibernate.resource.transaction.backend.jta.internal.JtaIsolationDelegate(org.hibernate.engine.jdbc.connections.spi.JdbcConnectionAccess, org.hibernate.engine.jdbc.spi.SqlExceptionHelper, javax.transaction.TransactionManager);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field connectionAccess:Lorg/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field sqlExceptionHelper:Lorg/hibernate/engine/jdbc/spi/SqlExceptionHelper;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field transactionManager:Ljavax/transaction/TransactionManager;
      19: return

  protected org.hibernate.engine.jdbc.connections.spi.JdbcConnectionAccess jdbcConnectionAccess();
    Code:
       0: aload_0
       1: getfield      #2                  // Field connectionAccess:Lorg/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess;
       4: areturn

  protected org.hibernate.engine.jdbc.spi.SqlExceptionHelper sqlExceptionHelper();
    Code:
       0: aload_0
       1: getfield      #3                  // Field sqlExceptionHelper:Lorg/hibernate/engine/jdbc/spi/SqlExceptionHelper;
       4: areturn

  public <T> T delegateWork(org.hibernate.jdbc.WorkExecutorVisitable<T>, boolean) throws org.hibernate.HibernateException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field transactionManager:Ljavax/transaction/TransactionManager;
       4: invokeinterface #5,  1            // InterfaceMethod javax/transaction/TransactionManager.suspend:()Ljavax/transaction/Transaction;
       9: astore_3
      10: getstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      13: ldc           #7                  // String Surrounding JTA transaction suspended [%s]
      15: aload_3
      16: invokeinterface #8,  3            // InterfaceMethod org/hibernate/internal/CoreMessageLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
      21: iconst_0
      22: istore        4
      24: iload_2
      25: ifeq          85
      28: aload_0
      29: aload_1
      30: aload_0
      31: getfield      #4                  // Field transactionManager:Ljavax/transaction/TransactionManager;
      34: invokespecial #9                  // Method doTheWorkInNewTransaction:(Lorg/hibernate/jdbc/WorkExecutorVisitable;Ljavax/transaction/TransactionManager;)Ljava/lang/Object;
      37: astore        5
      39: aload_0
      40: getfield      #4                  // Field transactionManager:Ljavax/transaction/TransactionManager;
      43: aload_3
      44: invokeinterface #10,  2           // InterfaceMethod javax/transaction/TransactionManager.resume:(Ljavax/transaction/Transaction;)V
      49: getstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      52: ldc           #11                 // String Surrounding JTA transaction resumed [%s]
      54: aload_3
      55: invokeinterface #8,  3            // InterfaceMethod org/hibernate/internal/CoreMessageLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
      60: goto          82
      63: astore        6
      65: iload         4
      67: ifne          82
      70: new           #13                 // class org/hibernate/HibernateException
      73: dup
      74: ldc           #14                 // String Unable to resume previously suspended transaction
      76: aload         6
      78: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      81: athrow
      82: aload         5
      84: areturn
      85: aload_0
      86: aload_1
      87: invokespecial #16                 // Method doTheWorkInNoTransaction:(Lorg/hibernate/jdbc/WorkExecutorVisitable;)Ljava/lang/Object;
      90: astore        5
      92: aload_0
      93: getfield      #4                  // Field transactionManager:Ljavax/transaction/TransactionManager;
      96: aload_3
      97: invokeinterface #10,  2           // InterfaceMethod javax/transaction/TransactionManager.resume:(Ljavax/transaction/Transaction;)V
     102: getstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
     105: ldc           #11                 // String Surrounding JTA transaction resumed [%s]
     107: aload_3
     108: invokeinterface #8,  3            // InterfaceMethod org/hibernate/internal/CoreMessageLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
     113: goto          135
     116: astore        6
     118: iload         4
     120: ifne          135
     123: new           #13                 // class org/hibernate/HibernateException
     126: dup
     127: ldc           #14                 // String Unable to resume previously suspended transaction
     129: aload         6
     131: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     134: athrow
     135: aload         5
     137: areturn
     138: astore        5
     140: iconst_1
     141: istore        4
     143: aload         5
     145: athrow
     146: astore        7
     148: aload_0
     149: getfield      #4                  // Field transactionManager:Ljavax/transaction/TransactionManager;
     152: aload_3
     153: invokeinterface #10,  2           // InterfaceMethod javax/transaction/TransactionManager.resume:(Ljavax/transaction/Transaction;)V
     158: getstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
     161: ldc           #11                 // String Surrounding JTA transaction resumed [%s]
     163: aload_3
     164: invokeinterface #8,  3            // InterfaceMethod org/hibernate/internal/CoreMessageLogger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
     169: goto          191
     172: astore        8
     174: iload         4
     176: ifne          191
     179: new           #13                 // class org/hibernate/HibernateException
     182: dup
     183: ldc           #14                 // String Unable to resume previously suspended transaction
     185: aload         8
     187: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     190: athrow
     191: aload         7
     193: athrow
     194: astore_3
     195: new           #13                 // class org/hibernate/HibernateException
     198: dup
     199: ldc           #18                 // String Unable to suspend current JTA transaction
     201: aload_3
     202: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     205: athrow
    Exception table:
       from    to  target type
          39    60    63   Class java/lang/Throwable
          92   113   116   Class java/lang/Throwable
          24    39   138   Class org/hibernate/HibernateException
          85    92   138   Class org/hibernate/HibernateException
          24    39   146   any
          85    92   146   any
         148   169   172   Class java/lang/Throwable
         138   148   146   any
           0    82   194   Class javax/transaction/SystemException
          85   135   194   Class javax/transaction/SystemException
         138   194   194   Class javax/transaction/SystemException

  private <T> T doTheWorkInNewTransaction(org.hibernate.jdbc.WorkExecutorVisitable<T>, javax.transaction.TransactionManager);
    Code:
       0: aload_2
       1: invokeinterface #19,  1           // InterfaceMethod javax/transaction/TransactionManager.begin:()V
       6: aload_0
       7: aload_1
       8: invokespecial #20                 // Method doTheWork:(Lorg/hibernate/jdbc/WorkExecutorVisitable;)Ljava/lang/Object;
      11: astore_3
      12: aload_2
      13: invokeinterface #21,  1           // InterfaceMethod javax/transaction/TransactionManager.commit:()V
      18: aload_3
      19: areturn
      20: astore_3
      21: aload_2
      22: invokeinterface #23,  1           // InterfaceMethod javax/transaction/TransactionManager.rollback:()V
      27: goto          43
      30: astore        4
      32: getstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      35: aload_3
      36: aload         4
      38: invokeinterface #24,  3           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.unableToRollbackIsolatedTransaction:(Ljava/lang/Exception;Ljava/lang/Exception;)V
      43: new           #13                 // class org/hibernate/HibernateException
      46: dup
      47: ldc           #25                 // String Could not apply work
      49: aload_3
      50: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      53: athrow
      54: astore_3
      55: new           #13                 // class org/hibernate/HibernateException
      58: dup
      59: ldc           #26                 // String Unable to start isolated transaction
      61: aload_3
      62: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      65: athrow
      66: astore_3
      67: new           #13                 // class org/hibernate/HibernateException
      70: dup
      71: ldc           #26                 // String Unable to start isolated transaction
      73: aload_3
      74: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      77: athrow
    Exception table:
       from    to  target type
           6    19    20   Class java/lang/Exception
          21    27    30   Class java/lang/Exception
           0    19    54   Class javax/transaction/SystemException
          20    54    54   Class javax/transaction/SystemException
           0    19    66   Class javax/transaction/NotSupportedException
          20    54    66   Class javax/transaction/NotSupportedException

  private <T> T doTheWorkInNoTransaction(org.hibernate.jdbc.WorkExecutorVisitable<T>);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #20                 // Method doTheWork:(Lorg/hibernate/jdbc/WorkExecutorVisitable;)Ljava/lang/Object;
       5: areturn

  private <T> T doTheWork(org.hibernate.jdbc.WorkExecutorVisitable<T>);
    Code:
       0: aload_0
       1: invokevirtual #28                 // Method jdbcConnectionAccess:()Lorg/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess;
       4: invokeinterface #29,  1           // InterfaceMethod org/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess.obtainConnection:()Ljava/sql/Connection;
       9: astore_2
      10: aload_1
      11: new           #30                 // class org/hibernate/jdbc/WorkExecutor
      14: dup
      15: invokespecial #31                 // Method org/hibernate/jdbc/WorkExecutor."<init>":()V
      18: aload_2
      19: invokeinterface #32,  3           // InterfaceMethod org/hibernate/jdbc/WorkExecutorVisitable.accept:(Lorg/hibernate/jdbc/WorkExecutor;Ljava/sql/Connection;)Ljava/lang/Object;
      24: astore_3
      25: aload_0
      26: invokevirtual #28                 // Method jdbcConnectionAccess:()Lorg/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess;
      29: aload_2
      30: invokeinterface #33,  2           // InterfaceMethod org/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess.releaseConnection:(Ljava/sql/Connection;)V
      35: goto          50
      38: astore        4
      40: getstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      43: aload         4
      45: invokeinterface #34,  2           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.unableToReleaseIsolatedConnection:(Ljava/lang/Throwable;)V
      50: aload_3
      51: areturn
      52: astore_3
      53: aload_3
      54: athrow
      55: astore_3
      56: new           #13                 // class org/hibernate/HibernateException
      59: dup
      60: ldc           #35                 // String Unable to perform isolated work
      62: aload_3
      63: invokespecial #15                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      66: athrow
      67: astore        5
      69: aload_0
      70: invokevirtual #28                 // Method jdbcConnectionAccess:()Lorg/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess;
      73: aload_2
      74: invokeinterface #33,  2           // InterfaceMethod org/hibernate/engine/jdbc/connections/spi/JdbcConnectionAccess.releaseConnection:(Ljava/sql/Connection;)V
      79: goto          94
      82: astore        6
      84: getstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      87: aload         6
      89: invokeinterface #34,  2           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.unableToReleaseIsolatedConnection:(Ljava/lang/Throwable;)V
      94: aload         5
      96: athrow
      97: astore_2
      98: aload_0
      99: invokevirtual #37                 // Method sqlExceptionHelper:()Lorg/hibernate/engine/jdbc/spi/SqlExceptionHelper;
     102: aload_2
     103: ldc           #38                 // String unable to obtain isolated JDBC connection
     105: invokevirtual #39                 // Method org/hibernate/engine/jdbc/spi/SqlExceptionHelper.convert:(Ljava/sql/SQLException;Ljava/lang/String;)Lorg/hibernate/JDBCException;
     108: athrow
    Exception table:
       from    to  target type
          25    35    38   Class java/lang/Throwable
          10    25    52   Class org/hibernate/HibernateException
          10    25    55   Class java/lang/Exception
          10    25    67   any
          69    79    82   Class java/lang/Throwable
          52    69    67   any
           0    50    97   Class java/sql/SQLException
          52    97    97   Class java/sql/SQLException

  static {};
    Code:
       0: ldc           #40                 // class org/hibernate/resource/transaction/backend/jta/internal/JtaIsolationDelegate
       2: invokestatic  #41                 // Method org/hibernate/internal/CoreLogging.messageLogger:(Ljava/lang/Class;)Lorg/hibernate/internal/CoreMessageLogger;
       5: putstatic     #6                  // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
       8: return
}
