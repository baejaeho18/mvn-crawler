Compiled from "AddNotOnOrAfterConditionToAssertions.java"
public class org.opensaml.saml.common.profile.impl.AddNotOnOrAfterConditionToAssertions extends org.opensaml.profile.action.AbstractConditionalProfileAction {
  private final org.slf4j.Logger log;

  private com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, org.opensaml.saml.common.SAMLObject> responseLookupStrategy;

  private com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.lang.Long> assertionLifetimeStrategy;

  private long defaultAssertionLifetime;

  private org.opensaml.saml.common.SAMLObject response;

  public org.opensaml.saml.common.profile.impl.AddNotOnOrAfterConditionToAssertions();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/opensaml/profile/action/AbstractConditionalProfileAction."<init>":()V
       4: aload_0
       5: ldc_w         #2                  // class org/opensaml/saml/common/profile/impl/AddNotOnOrAfterConditionToAssertions
       8: invokestatic  #3                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      11: putfield      #4                  // Field log:Lorg/slf4j/Logger;
      14: aload_0
      15: new           #5                  // class org/opensaml/messaging/context/navigate/MessageLookup
      18: dup
      19: ldc_w         #6                  // class org/opensaml/saml/common/SAMLObject
      22: invokespecial #7                  // Method org/opensaml/messaging/context/navigate/MessageLookup."<init>":(Ljava/lang/Class;)V
      25: new           #8                  // class org/opensaml/profile/context/navigate/OutboundMessageContextLookup
      28: dup
      29: invokespecial #9                  // Method org/opensaml/profile/context/navigate/OutboundMessageContextLookup."<init>":()V
      32: invokestatic  #10                 // Method com/google/common/base/Functions.compose:(Lcom/google/common/base/Function;Lcom/google/common/base/Function;)Lcom/google/common/base/Function;
      35: putfield      #11                 // Field responseLookupStrategy:Lcom/google/common/base/Function;
      38: aload_0
      39: ldc2_w        #12                 // long 300000l
      42: putfield      #14                 // Field defaultAssertionLifetime:J
      45: return

  public void setResponseLookupStrategy(com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, org.opensaml.saml.common.SAMLObject>);
    Code:
       0: aload_0
       1: invokestatic  #15                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: ldc           #16                 // String Response lookup strategy cannot be null
       8: invokestatic  #17                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #18                 // class com/google/common/base/Function
      14: putfield      #11                 // Field responseLookupStrategy:Lcom/google/common/base/Function;
      17: return

  public void setAssertionLifetimeStrategy(com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.lang.Long>);
    Code:
       0: aload_0
       1: invokestatic  #15                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: putfield      #19                 // Field assertionLifetimeStrategy:Lcom/google/common/base/Function;
       9: return

  public void setDefaultAssertionLifetime(long);
    Code:
       0: aload_0
       1: invokestatic  #15                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: lconst_0
       6: lload_1
       7: ldc           #20                 // String Default assertion lifetime must be greater than or equal to 0
       9: invokestatic  #21                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isGreaterThanOrEqual:(JJLjava/lang/String;)J
      12: putfield      #14                 // Field defaultAssertionLifetime:J
      15: return

  protected boolean doPreExecute(org.opensaml.profile.context.ProfileRequestContext);
    Code:
       0: aload_0
       1: getfield      #4                  // Field log:Lorg/slf4j/Logger;
       4: ldc           #22                 // String {} Attempting to add NotOnOrAfter condition to every Assertion in outgoing Response
       6: aload_0
       7: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
      10: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      15: aload_0
      16: aload_0
      17: getfield      #11                 // Field responseLookupStrategy:Lcom/google/common/base/Function;
      20: aload_1
      21: invokeinterface #25,  2           // InterfaceMethod com/google/common/base/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      26: checkcast     #6                  // class org/opensaml/saml/common/SAMLObject
      29: putfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
      32: aload_0
      33: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
      36: ifnonnull     62
      39: aload_0
      40: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      43: ldc           #27                 // String {} No SAML Response located in current profile request context
      45: aload_0
      46: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
      49: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      54: aload_1
      55: ldc           #28                 // String InvalidMessageContext
      57: invokestatic  #29                 // Method org/opensaml/profile/action/ActionSupport.buildEvent:(Lorg/opensaml/profile/context/ProfileRequestContext;Ljava/lang/String;)V
      60: iconst_0
      61: ireturn
      62: aload_0
      63: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
      66: instanceof    #30                 // class org/opensaml/saml/saml1/core/Response
      69: ifeq          109
      72: aload_0
      73: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
      76: checkcast     #30                 // class org/opensaml/saml/saml1/core/Response
      79: invokeinterface #31,  1           // InterfaceMethod org/opensaml/saml/saml1/core/Response.getAssertions:()Ljava/util/List;
      84: invokeinterface #32,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      89: ifeq          179
      92: aload_0
      93: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      96: ldc           #33                 // String {} No assertions available, nothing to do
      98: aload_0
      99: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
     102: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     107: iconst_0
     108: ireturn
     109: aload_0
     110: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
     113: instanceof    #34                 // class org/opensaml/saml/saml2/core/Response
     116: ifeq          156
     119: aload_0
     120: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
     123: checkcast     #34                 // class org/opensaml/saml/saml2/core/Response
     126: invokeinterface #35,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Response.getAssertions:()Ljava/util/List;
     131: invokeinterface #32,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     136: ifeq          179
     139: aload_0
     140: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     143: ldc           #33                 // String {} No assertions available, nothing to do
     145: aload_0
     146: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
     149: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     154: iconst_0
     155: ireturn
     156: aload_0
     157: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     160: ldc           #36                 // String {} Message returned by lookup strategy was not a SAML Response
     162: aload_0
     163: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
     166: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     171: aload_1
     172: ldc           #28                 // String InvalidMessageContext
     174: invokestatic  #29                 // Method org/opensaml/profile/action/ActionSupport.buildEvent:(Lorg/opensaml/profile/context/ProfileRequestContext;Ljava/lang/String;)V
     177: iconst_0
     178: ireturn
     179: aload_0
     180: aload_1
     181: invokespecial #37                 // Method org/opensaml/profile/action/AbstractConditionalProfileAction.doPreExecute:(Lorg/opensaml/profile/context/ProfileRequestContext;)Z
     184: ireturn

  protected void doExecute(org.opensaml.profile.context.ProfileRequestContext);
    Code:
       0: aload_0
       1: getfield      #19                 // Field assertionLifetimeStrategy:Lcom/google/common/base/Function;
       4: ifnull        23
       7: aload_0
       8: getfield      #19                 // Field assertionLifetimeStrategy:Lcom/google/common/base/Function;
      11: aload_1
      12: invokeinterface #25,  2           // InterfaceMethod com/google/common/base/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      17: checkcast     #38                 // class java/lang/Long
      20: goto          24
      23: aconst_null
      24: astore_2
      25: aload_2
      26: ifnonnull     44
      29: aload_0
      30: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      33: ldc           #39                 // String {} No assertion lifetime supplied, using default
      35: aload_0
      36: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
      39: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      44: aload_0
      45: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
      48: instanceof    #30                 // class org/opensaml/saml/saml1/core/Response
      51: ifeq          182
      54: aload_0
      55: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
      58: checkcast     #30                 // class org/opensaml/saml/saml1/core/Response
      61: invokeinterface #31,  1           // InterfaceMethod org/opensaml/saml/saml1/core/Response.getAssertions:()Ljava/util/List;
      66: invokeinterface #40,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      71: astore_3
      72: aload_3
      73: invokeinterface #41,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      78: ifeq          179
      81: aload_3
      82: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      87: checkcast     #43                 // class org/opensaml/saml/saml1/core/Assertion
      90: astore        4
      92: new           #44                 // class org/joda/time/DateTime
      95: dup
      96: aload         4
      98: invokeinterface #45,  1           // InterfaceMethod org/opensaml/saml/saml1/core/Assertion.getIssueInstant:()Lorg/joda/time/DateTime;
     103: invokespecial #46                 // Method org/joda/time/DateTime."<init>":(Ljava/lang/Object;)V
     106: aload_2
     107: ifnull        117
     110: aload_2
     111: invokevirtual #47                 // Method java/lang/Long.longValue:()J
     114: goto          121
     117: aload_0
     118: getfield      #14                 // Field defaultAssertionLifetime:J
     121: invokevirtual #48                 // Method org/joda/time/DateTime.plus:(J)Lorg/joda/time/DateTime;
     124: astore        5
     126: aload_0
     127: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     130: ldc           #49                 // String {} Added NotOnOrAfter condition, indicating an expiration of {}, to Assertion {}
     132: iconst_3
     133: anewarray     #50                 // class java/lang/Object
     136: dup
     137: iconst_0
     138: aload_0
     139: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
     142: aastore
     143: dup
     144: iconst_1
     145: aload         5
     147: aastore
     148: dup
     149: iconst_2
     150: aload         4
     152: invokeinterface #51,  1           // InterfaceMethod org/opensaml/saml/saml1/core/Assertion.getID:()Ljava/lang/String;
     157: aastore
     158: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     163: aload_0
     164: aload         4
     166: invokestatic  #53                 // Method org/opensaml/saml/saml1/profile/SAML1ActionSupport.addConditionsToAssertion:(Lorg/opensaml/profile/action/AbstractProfileAction;Lorg/opensaml/saml/saml1/core/Assertion;)Lorg/opensaml/saml/saml1/core/Conditions;
     169: aload         5
     171: invokeinterface #54,  2           // InterfaceMethod org/opensaml/saml/saml1/core/Conditions.setNotOnOrAfter:(Lorg/joda/time/DateTime;)V
     176: goto          72
     179: goto          317
     182: aload_0
     183: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
     186: instanceof    #34                 // class org/opensaml/saml/saml2/core/Response
     189: ifeq          317
     192: aload_0
     193: getfield      #26                 // Field response:Lorg/opensaml/saml/common/SAMLObject;
     196: checkcast     #34                 // class org/opensaml/saml/saml2/core/Response
     199: invokeinterface #35,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Response.getAssertions:()Ljava/util/List;
     204: invokeinterface #40,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     209: astore_3
     210: aload_3
     211: invokeinterface #41,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     216: ifeq          317
     219: aload_3
     220: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     225: checkcast     #55                 // class org/opensaml/saml/saml2/core/Assertion
     228: astore        4
     230: new           #44                 // class org/joda/time/DateTime
     233: dup
     234: aload         4
     236: invokeinterface #56,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getIssueInstant:()Lorg/joda/time/DateTime;
     241: invokespecial #46                 // Method org/joda/time/DateTime."<init>":(Ljava/lang/Object;)V
     244: aload_2
     245: ifnull        255
     248: aload_2
     249: invokevirtual #47                 // Method java/lang/Long.longValue:()J
     252: goto          259
     255: aload_0
     256: getfield      #14                 // Field defaultAssertionLifetime:J
     259: invokevirtual #48                 // Method org/joda/time/DateTime.plus:(J)Lorg/joda/time/DateTime;
     262: astore        5
     264: aload_0
     265: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     268: ldc           #49                 // String {} Added NotOnOrAfter condition, indicating an expiration of {}, to Assertion {}
     270: iconst_3
     271: anewarray     #50                 // class java/lang/Object
     274: dup
     275: iconst_0
     276: aload_0
     277: invokevirtual #23                 // Method getLogPrefix:()Ljava/lang/String;
     280: aastore
     281: dup
     282: iconst_1
     283: aload         5
     285: aastore
     286: dup
     287: iconst_2
     288: aload         4
     290: invokeinterface #57,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getID:()Ljava/lang/String;
     295: aastore
     296: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     301: aload_0
     302: aload         4
     304: invokestatic  #58                 // Method org/opensaml/saml/saml2/profile/SAML2ActionSupport.addConditionsToAssertion:(Lorg/opensaml/profile/action/AbstractProfileAction;Lorg/opensaml/saml/saml2/core/Assertion;)Lorg/opensaml/saml/saml2/core/Conditions;
     307: aload         5
     309: invokeinterface #59,  2           // InterfaceMethod org/opensaml/saml/saml2/core/Conditions.setNotOnOrAfter:(Lorg/joda/time/DateTime;)V
     314: goto          210
     317: return
}
