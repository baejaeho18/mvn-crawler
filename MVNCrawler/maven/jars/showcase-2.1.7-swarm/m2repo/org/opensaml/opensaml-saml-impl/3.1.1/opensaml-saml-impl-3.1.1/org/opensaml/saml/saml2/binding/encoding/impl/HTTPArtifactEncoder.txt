Compiled from "HTTPArtifactEncoder.java"
public class org.opensaml.saml.saml2.binding.encoding.impl.HTTPArtifactEncoder extends org.opensaml.saml.saml2.binding.encoding.impl.BaseSAML2MessageEncoder {
  public static final java.lang.String DEFAULT_TEMPLATE_ID;

  private final org.slf4j.Logger log;

  private boolean postEncoding;

  private org.apache.velocity.app.VelocityEngine velocityEngine;

  private java.lang.String velocityTemplateId;

  private org.opensaml.saml.common.binding.artifact.SAMLArtifactMap artifactMap;

  private byte[] defaultArtifactType;

  public org.opensaml.saml.saml2.binding.encoding.impl.HTTPArtifactEncoder();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/opensaml/saml/saml2/binding/encoding/impl/BaseSAML2MessageEncoder."<init>":()V
       4: aload_0
       5: ldc_w         #2                  // class org/opensaml/saml/saml2/binding/encoding/impl/HTTPArtifactEncoder
       8: invokestatic  #3                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      11: putfield      #4                  // Field log:Lorg/slf4j/Logger;
      14: aload_0
      15: getstatic     #5                  // Field org/opensaml/saml/saml2/binding/artifact/SAML2ArtifactType0004.TYPE_CODE:[B
      18: putfield      #6                  // Field defaultArtifactType:[B
      21: aload_0
      22: ldc           #7                  // String /templates/saml2-post-artifact-binding.vm
      24: invokevirtual #8                  // Method setVelocityTemplateId:(Ljava/lang/String;)V
      27: return

  public java.lang.String getBindingURI();
    Code:
       0: ldc           #9                  // String urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact
       2: areturn

  public boolean isPostEncoding();
    Code:
       0: aload_0
       1: getfield      #10                 // Field postEncoding:Z
       4: ireturn

  public void setPostEncoding(boolean);
    Code:
       0: aload_0
       1: invokestatic  #11                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: invokestatic  #12                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifDestroyedThrowDestroyedComponentException:(Lnet/shibboleth/utilities/java/support/component/DestructableComponent;)V
       8: aload_0
       9: iload_1
      10: putfield      #10                 // Field postEncoding:Z
      13: return

  public org.apache.velocity.app.VelocityEngine getVelocityEngine();
    Code:
       0: aload_0
       1: getfield      #13                 // Field velocityEngine:Lorg/apache/velocity/app/VelocityEngine;
       4: areturn

  public void setVelocityEngine(org.apache.velocity.app.VelocityEngine);
    Code:
       0: aload_0
       1: invokestatic  #11                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: invokestatic  #12                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifDestroyedThrowDestroyedComponentException:(Lnet/shibboleth/utilities/java/support/component/DestructableComponent;)V
       8: aload_0
       9: aload_1
      10: putfield      #13                 // Field velocityEngine:Lorg/apache/velocity/app/VelocityEngine;
      13: return

  public java.lang.String getVelocityTemplateId();
    Code:
       0: aload_0
       1: getfield      #14                 // Field velocityTemplateId:Ljava/lang/String;
       4: areturn

  public void setVelocityTemplateId(java.lang.String);
    Code:
       0: aload_0
       1: invokestatic  #11                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: invokestatic  #12                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifDestroyedThrowDestroyedComponentException:(Lnet/shibboleth/utilities/java/support/component/DestructableComponent;)V
       8: aload_0
       9: aload_1
      10: invokestatic  #15                 // Method net/shibboleth/utilities/java/support/primitive/StringSupport.trimOrNull:(Ljava/lang/String;)Ljava/lang/String;
      13: ldc           #16                 // String Velocity template ID cannot be null or empty
      15: invokestatic  #17                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      18: checkcast     #18                 // class java/lang/String
      21: putfield      #14                 // Field velocityTemplateId:Ljava/lang/String;
      24: return

  public org.opensaml.saml.common.binding.artifact.SAMLArtifactMap getArtifactMap();
    Code:
       0: aload_0
       1: getfield      #19                 // Field artifactMap:Lorg/opensaml/saml/common/binding/artifact/SAMLArtifactMap;
       4: areturn

  public void setArtifactMap(org.opensaml.saml.common.binding.artifact.SAMLArtifactMap);
    Code:
       0: aload_0
       1: invokestatic  #11                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: invokestatic  #12                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifDestroyedThrowDestroyedComponentException:(Lnet/shibboleth/utilities/java/support/component/DestructableComponent;)V
       8: aload_0
       9: aload_1
      10: ldc           #20                 // String SAMLArtifactMap cannot be null
      12: invokestatic  #17                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      15: checkcast     #21                 // class org/opensaml/saml/common/binding/artifact/SAMLArtifactMap
      18: putfield      #19                 // Field artifactMap:Lorg/opensaml/saml/common/binding/artifact/SAMLArtifactMap;
      21: return

  protected void doInitialize() throws net.shibboleth.utilities.java.support.component.ComponentInitializationException;
    Code:
       0: aload_0
       1: invokespecial #22                 // Method org/opensaml/saml/saml2/binding/encoding/impl/BaseSAML2MessageEncoder.doInitialize:()V
       4: aload_0
       5: getfield      #19                 // Field artifactMap:Lorg/opensaml/saml/common/binding/artifact/SAMLArtifactMap;
       8: ifnonnull     21
      11: new           #23                 // class net/shibboleth/utilities/java/support/component/ComponentInitializationException
      14: dup
      15: ldc           #20                 // String SAMLArtifactMap cannot be null
      17: invokespecial #24                 // Method net/shibboleth/utilities/java/support/component/ComponentInitializationException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: aload_0
      22: invokevirtual #25                 // Method isPostEncoding:()Z
      25: ifeq          45
      28: aload_0
      29: getfield      #13                 // Field velocityEngine:Lorg/apache/velocity/app/VelocityEngine;
      32: ifnonnull     45
      35: new           #23                 // class net/shibboleth/utilities/java/support/component/ComponentInitializationException
      38: dup
      39: ldc           #26                 // String VelocityEngine cannot be null when POST is used
      41: invokespecial #24                 // Method net/shibboleth/utilities/java/support/component/ComponentInitializationException."<init>":(Ljava/lang/String;)V
      44: athrow
      45: return

  protected void doDestroy();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #13                 // Field velocityEngine:Lorg/apache/velocity/app/VelocityEngine;
       5: aload_0
       6: aconst_null
       7: putfield      #14                 // Field velocityTemplateId:Ljava/lang/String;
      10: aload_0
      11: aconst_null
      12: putfield      #19                 // Field artifactMap:Lorg/opensaml/saml/common/binding/artifact/SAMLArtifactMap;
      15: aload_0
      16: invokespecial #27                 // Method org/opensaml/saml/saml2/binding/encoding/impl/BaseSAML2MessageEncoder.doDestroy:()V
      19: return

  protected void doEncode() throws org.opensaml.messaging.encoder.MessageEncodingException;
    Code:
       0: aload_0
       1: invokevirtual #28                 // Method getHttpServletResponse:()Ljavax/servlet/http/HttpServletResponse;
       4: astore_1
       5: aload_1
       6: ifnonnull     19
       9: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
      12: dup
      13: ldc           #30                 // String HttpServletResponse was null
      15: invokespecial #31                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;)V
      18: athrow
      19: aload_1
      20: ldc           #32                 // String UTF-8
      22: invokeinterface #33,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setCharacterEncoding:(Ljava/lang/String;)V
      27: aload_0
      28: getfield      #10                 // Field postEncoding:Z
      31: ifeq          41
      34: aload_0
      35: invokevirtual #34                 // Method postEncode:()V
      38: goto          45
      41: aload_0
      42: invokevirtual #35                 // Method getEncode:()V
      45: return

  protected void postEncode() throws org.opensaml.messaging.encoder.MessageEncodingException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field log:Lorg/slf4j/Logger;
       4: ldc           #36                 // String Performing HTTP POST SAML 2 artifact encoding
       6: invokeinterface #37,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      11: aload_0
      12: invokevirtual #38                 // Method getMessageContext:()Lorg/opensaml/messaging/context/MessageContext;
      15: astore_1
      16: aload_0
      17: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      20: ldc           #39                 // String Creating velocity context
      22: invokeinterface #37,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      27: new           #40                 // class org/apache/velocity/VelocityContext
      30: dup
      31: invokespecial #41                 // Method org/apache/velocity/VelocityContext."<init>":()V
      34: astore_2
      35: aload_0
      36: aload_1
      37: invokevirtual #42                 // Method getEndpointURL:(Lorg/opensaml/messaging/context/MessageContext;)Ljava/net/URI;
      40: invokevirtual #43                 // Method java/net/URI.toString:()Ljava/lang/String;
      43: astore_3
      44: aload_3
      45: invokestatic  #44                 // Method net/shibboleth/utilities/java/support/codec/HTMLEncoder.encodeForHTMLAttribute:(Ljava/lang/String;)Ljava/lang/String;
      48: astore        4
      50: aload_0
      51: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      54: ldc           #45                 // String Setting action parameter to: \'{}\', encoded as \'{}\'
      56: aload_3
      57: aload         4
      59: invokeinterface #46,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      64: aload_2
      65: ldc           #47                 // String action
      67: aload         4
      69: invokevirtual #48                 // Method org/apache/velocity/VelocityContext.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      72: pop
      73: aload_2
      74: ldc           #49                 // String SAMLArt
      76: aload_0
      77: aload_1
      78: invokevirtual #50                 // Method buildArtifact:(Lorg/opensaml/messaging/context/MessageContext;)Lorg/opensaml/saml/saml2/binding/artifact/AbstractSAML2Artifact;
      81: invokevirtual #51                 // Method org/opensaml/saml/saml2/binding/artifact/AbstractSAML2Artifact.base64Encode:()Ljava/lang/String;
      84: invokevirtual #48                 // Method org/apache/velocity/VelocityContext.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      87: pop
      88: aload_2
      89: ldc           #52                 // String binding
      91: aload_0
      92: invokevirtual #53                 // Method getBindingURI:()Ljava/lang/String;
      95: invokevirtual #48                 // Method org/apache/velocity/VelocityContext.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      98: pop
      99: aload_1
     100: invokestatic  #54                 // Method org/opensaml/saml/common/binding/SAMLBindingSupport.getRelayState:(Lorg/opensaml/messaging/context/MessageContext;)Ljava/lang/String;
     103: astore        5
     105: aload         5
     107: invokestatic  #55                 // Method org/opensaml/saml/common/binding/SAMLBindingSupport.checkRelayState:(Ljava/lang/String;)Z
     110: ifeq          144
     113: aload         5
     115: invokestatic  #44                 // Method net/shibboleth/utilities/java/support/codec/HTMLEncoder.encodeForHTMLAttribute:(Ljava/lang/String;)Ljava/lang/String;
     118: astore        6
     120: aload_0
     121: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     124: ldc           #56                 // String Setting RelayState parameter to: \'{}\', encoded as \'{}\'
     126: aload         5
     128: aload         6
     130: invokeinterface #46,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     135: aload_2
     136: ldc           #57                 // String RelayState
     138: aload         6
     140: invokevirtual #48                 // Method org/apache/velocity/VelocityContext.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     143: pop
     144: aload_0
     145: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     148: ldc           #58                 // String Invoking velocity template
     150: invokeinterface #37,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     155: aload_0
     156: invokevirtual #28                 // Method getHttpServletResponse:()Ljavax/servlet/http/HttpServletResponse;
     159: astore        6
     161: new           #59                 // class java/io/OutputStreamWriter
     164: dup
     165: aload         6
     167: invokeinterface #60,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     172: invokespecial #61                 // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;)V
     175: astore        7
     177: aload_0
     178: getfield      #13                 // Field velocityEngine:Lorg/apache/velocity/app/VelocityEngine;
     181: aload_0
     182: getfield      #14                 // Field velocityTemplateId:Ljava/lang/String;
     185: ldc           #32                 // String UTF-8
     187: aload_2
     188: aload         7
     190: invokevirtual #62                 // Method org/apache/velocity/app/VelocityEngine.mergeTemplate:(Ljava/lang/String;Ljava/lang/String;Lorg/apache/velocity/context/Context;Ljava/io/Writer;)Z
     193: pop
     194: goto          224
     197: astore        6
     199: aload_0
     200: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     203: ldc           #64                 // String Error invoking velocity template to create POST form
     205: aload         6
     207: invokeinterface #65,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     212: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
     215: dup
     216: ldc           #66                 // String Error creating output document
     218: aload         6
     220: invokespecial #67                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;Ljava/lang/Exception;)V
     223: athrow
     224: return
    Exception table:
       from    to  target type
         144   194   197   Class java/lang/Exception

  protected void getEncode() throws org.opensaml.messaging.encoder.MessageEncodingException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field log:Lorg/slf4j/Logger;
       4: ldc           #68                 // String Performing HTTP GET SAML 2 artifact encoding
       6: invokeinterface #37,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      11: aload_0
      12: invokevirtual #38                 // Method getMessageContext:()Lorg/opensaml/messaging/context/MessageContext;
      15: astore_1
      16: aload_0
      17: aload_1
      18: invokevirtual #42                 // Method getEndpointURL:(Lorg/opensaml/messaging/context/MessageContext;)Ljava/net/URI;
      21: invokevirtual #43                 // Method java/net/URI.toString:()Ljava/lang/String;
      24: astore_2
      25: new           #69                 // class net/shibboleth/utilities/java/support/net/URLBuilder
      28: dup
      29: aload_2
      30: invokespecial #70                 // Method net/shibboleth/utilities/java/support/net/URLBuilder."<init>":(Ljava/lang/String;)V
      33: astore_3
      34: goto          73
      37: astore        4
      39: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
      42: dup
      43: new           #72                 // class java/lang/StringBuilder
      46: dup
      47: invokespecial #73                 // Method java/lang/StringBuilder."<init>":()V
      50: ldc           #74                 // String Endpoint URL
      52: invokevirtual #75                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: aload_2
      56: invokevirtual #75                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: ldc           #76                 // String  is not a valid URL
      61: invokevirtual #75                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: invokevirtual #77                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      67: aload         4
      69: invokespecial #67                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;Ljava/lang/Exception;)V
      72: athrow
      73: aload_3
      74: invokevirtual #78                 // Method net/shibboleth/utilities/java/support/net/URLBuilder.getQueryParams:()Ljava/util/List;
      77: astore        4
      79: aload         4
      81: invokeinterface #79,  1           // InterfaceMethod java/util/List.clear:()V
      86: aload_0
      87: aload_1
      88: invokevirtual #50                 // Method buildArtifact:(Lorg/opensaml/messaging/context/MessageContext;)Lorg/opensaml/saml/saml2/binding/artifact/AbstractSAML2Artifact;
      91: astore        5
      93: aload         5
      95: ifnonnull     119
      98: aload_0
      99: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     102: ldc           #80                 // String Unable to build artifact for message to relying party
     104: invokeinterface #81,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     109: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
     112: dup
     113: ldc           #80                 // String Unable to build artifact for message to relying party
     115: invokespecial #31                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;)V
     118: athrow
     119: aload         4
     121: new           #82                 // class net/shibboleth/utilities/java/support/collection/Pair
     124: dup
     125: ldc           #83                 // String SAMLart
     127: aload         5
     129: invokevirtual #84                 // Method org/opensaml/saml/common/binding/artifact/AbstractSAMLArtifact.base64Encode:()Ljava/lang/String;
     132: invokespecial #85                 // Method net/shibboleth/utilities/java/support/collection/Pair."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
     135: invokeinterface #86,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     140: pop
     141: aload_1
     142: invokestatic  #54                 // Method org/opensaml/saml/common/binding/SAMLBindingSupport.getRelayState:(Lorg/opensaml/messaging/context/MessageContext;)Ljava/lang/String;
     145: astore        6
     147: aload         6
     149: invokestatic  #55                 // Method org/opensaml/saml/common/binding/SAMLBindingSupport.checkRelayState:(Ljava/lang/String;)Z
     152: ifeq          174
     155: aload         4
     157: new           #82                 // class net/shibboleth/utilities/java/support/collection/Pair
     160: dup
     161: ldc           #57                 // String RelayState
     163: aload         6
     165: invokespecial #85                 // Method net/shibboleth/utilities/java/support/collection/Pair."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
     168: invokeinterface #86,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     173: pop
     174: aload_0
     175: invokevirtual #28                 // Method getHttpServletResponse:()Ljavax/servlet/http/HttpServletResponse;
     178: astore        7
     180: aload         7
     182: aload_3
     183: invokevirtual #87                 // Method net/shibboleth/utilities/java/support/net/URLBuilder.buildURL:()Ljava/lang/String;
     186: invokeinterface #88,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendRedirect:(Ljava/lang/String;)V
     191: goto          208
     194: astore        8
     196: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
     199: dup
     200: ldc           #90                 // String Problem sending HTTP redirect
     202: aload         8
     204: invokespecial #67                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;Ljava/lang/Exception;)V
     207: athrow
     208: return
    Exception table:
       from    to  target type
          25    34    37   Class java/net/MalformedURLException
         180   191   194   Class java/io/IOException

  protected org.opensaml.saml.saml2.binding.artifact.AbstractSAML2Artifact buildArtifact(org.opensaml.messaging.context.MessageContext<org.opensaml.saml.common.SAMLObject>) throws org.opensaml.messaging.encoder.MessageEncodingException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #91                 // Method getInboundMessageIssuer:(Lorg/opensaml/messaging/context/MessageContext;)Ljava/lang/String;
       5: astore_2
       6: aload_0
       7: aload_1
       8: invokespecial #92                 // Method getOutboundMessageIssuer:(Lorg/opensaml/messaging/context/MessageContext;)Ljava/lang/String;
      11: astore_3
      12: aload_2
      13: ifnull        20
      16: aload_3
      17: ifnonnull     30
      20: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
      23: dup
      24: ldc           #93                 // String Unable to obtain issuer or relying party for message encoding
      26: invokespecial #31                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;)V
      29: athrow
      30: aload_0
      31: aload_1
      32: invokespecial #94                 // Method getSAMLArtifactType:(Lorg/opensaml/messaging/context/MessageContext;)[B
      35: astore        5
      37: aload         5
      39: ifnull        55
      42: invokestatic  #95                 // Method org/opensaml/saml/config/SAMLConfigurationSupport.getSAML2ArtifactBuilderFactory:()Lorg/opensaml/saml/saml2/binding/artifact/SAML2ArtifactBuilderFactory;
      45: aload         5
      47: invokevirtual #96                 // Method org/opensaml/saml/saml2/binding/artifact/SAML2ArtifactBuilderFactory.getArtifactBuilder:([B)Lorg/opensaml/saml/saml2/binding/artifact/SAML2ArtifactBuilder;
      50: astore        4
      52: goto          76
      55: invokestatic  #95                 // Method org/opensaml/saml/config/SAMLConfigurationSupport.getSAML2ArtifactBuilderFactory:()Lorg/opensaml/saml/saml2/binding/artifact/SAML2ArtifactBuilderFactory;
      58: aload_0
      59: getfield      #6                  // Field defaultArtifactType:[B
      62: invokevirtual #96                 // Method org/opensaml/saml/saml2/binding/artifact/SAML2ArtifactBuilderFactory.getArtifactBuilder:([B)Lorg/opensaml/saml/saml2/binding/artifact/SAML2ArtifactBuilder;
      65: astore        4
      67: aload_0
      68: aload_1
      69: aload_0
      70: getfield      #6                  // Field defaultArtifactType:[B
      73: invokespecial #97                 // Method storeSAMLArtifactType:(Lorg/opensaml/messaging/context/MessageContext;[B)V
      76: aload         4
      78: aload_1
      79: invokeinterface #98,  2           // InterfaceMethod org/opensaml/saml/saml2/binding/artifact/SAML2ArtifactBuilder.buildArtifact:(Lorg/opensaml/messaging/context/MessageContext;)Lorg/opensaml/saml/saml2/binding/artifact/AbstractSAML2Artifact;
      84: astore        6
      86: aload         6
      88: ifnonnull     112
      91: aload_0
      92: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      95: ldc           #80                 // String Unable to build artifact for message to relying party
      97: invokeinterface #81,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     102: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
     105: dup
     106: ldc           #80                 // String Unable to build artifact for message to relying party
     108: invokespecial #31                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;)V
     111: athrow
     112: aload         6
     114: invokevirtual #51                 // Method org/opensaml/saml/saml2/binding/artifact/AbstractSAML2Artifact.base64Encode:()Ljava/lang/String;
     117: astore        7
     119: aload_0
     120: getfield      #19                 // Field artifactMap:Lorg/opensaml/saml/common/binding/artifact/SAMLArtifactMap;
     123: aload         7
     125: aload_2
     126: aload_3
     127: aload_1
     128: invokevirtual #99                 // Method org/opensaml/messaging/context/MessageContext.getMessage:()Ljava/lang/Object;
     131: checkcast     #100                // class org/opensaml/saml/common/SAMLObject
     134: invokeinterface #101,  5          // InterfaceMethod org/opensaml/saml/common/binding/artifact/SAMLArtifactMap.put:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lorg/opensaml/saml/common/SAMLObject;)V
     139: goto          169
     142: astore        8
     144: aload_0
     145: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     148: ldc           #102                // String Unable to store message mapping for artifact
     150: aload         8
     152: invokeinterface #65,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     157: new           #29                 // class org/opensaml/messaging/encoder/MessageEncodingException
     160: dup
     161: ldc           #102                // String Unable to store message mapping for artifact
     163: aload         8
     165: invokespecial #67                 // Method org/opensaml/messaging/encoder/MessageEncodingException."<init>":(Ljava/lang/String;Ljava/lang/Exception;)V
     168: athrow
     169: aload         6
     171: areturn
    Exception table:
       from    to  target type
         119   139   142   Class java/io/IOException

  private java.lang.String getOutboundMessageIssuer(org.opensaml.messaging.context.MessageContext<org.opensaml.saml.common.SAMLObject>);
    Code:
       0: aload_1
       1: ldc_w         #103                // class org/opensaml/saml/common/messaging/context/SAMLSelfEntityContext
       4: invokevirtual #104                // Method org/opensaml/messaging/context/MessageContext.getSubcontext:(Ljava/lang/Class;)Lorg/opensaml/messaging/context/BaseContext;
       7: checkcast     #103                // class org/opensaml/saml/common/messaging/context/SAMLSelfEntityContext
      10: astore_2
      11: aload_2
      12: ifnonnull     17
      15: aconst_null
      16: areturn
      17: aload_2
      18: invokevirtual #105                // Method org/opensaml/saml/common/messaging/context/SAMLSelfEntityContext.getEntityId:()Ljava/lang/String;
      21: areturn

  private java.lang.String getInboundMessageIssuer(org.opensaml.messaging.context.MessageContext<org.opensaml.saml.common.SAMLObject>);
    Code:
       0: aload_1
       1: ldc_w         #106                // class org/opensaml/saml/common/messaging/context/SAMLPeerEntityContext
       4: invokevirtual #104                // Method org/opensaml/messaging/context/MessageContext.getSubcontext:(Ljava/lang/Class;)Lorg/opensaml/messaging/context/BaseContext;
       7: checkcast     #106                // class org/opensaml/saml/common/messaging/context/SAMLPeerEntityContext
      10: astore_2
      11: aload_2
      12: ifnonnull     17
      15: aconst_null
      16: areturn
      17: aload_2
      18: invokevirtual #107                // Method org/opensaml/saml/common/messaging/context/SAMLPeerEntityContext.getEntityId:()Ljava/lang/String;
      21: areturn

  private void storeSAMLArtifactType(org.opensaml.messaging.context.MessageContext<org.opensaml.saml.common.SAMLObject>, byte[]);
    Code:
       0: aload_1
       1: ldc_w         #108                // class org/opensaml/saml/common/messaging/context/SAMLArtifactContext
       4: iconst_1
       5: invokevirtual #109                // Method org/opensaml/messaging/context/MessageContext.getSubcontext:(Ljava/lang/Class;Z)Lorg/opensaml/messaging/context/BaseContext;
       8: checkcast     #108                // class org/opensaml/saml/common/messaging/context/SAMLArtifactContext
      11: aload_2
      12: invokevirtual #110                // Method org/opensaml/saml/common/messaging/context/SAMLArtifactContext.setArtifactType:([B)V
      15: return

  private byte[] getSAMLArtifactType(org.opensaml.messaging.context.MessageContext<org.opensaml.saml.common.SAMLObject>);
    Code:
       0: aload_1
       1: ldc_w         #108                // class org/opensaml/saml/common/messaging/context/SAMLArtifactContext
       4: iconst_1
       5: invokevirtual #109                // Method org/opensaml/messaging/context/MessageContext.getSubcontext:(Ljava/lang/Class;Z)Lorg/opensaml/messaging/context/BaseContext;
       8: checkcast     #108                // class org/opensaml/saml/common/messaging/context/SAMLArtifactContext
      11: invokevirtual #111                // Method org/opensaml/saml/common/messaging/context/SAMLArtifactContext.getArtifactType:()[B
      14: areturn
}
