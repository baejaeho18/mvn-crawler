Compiled from "AddNameIDToSubjects.java"
public class org.opensaml.saml.saml2.profile.impl.AddNameIDToSubjects extends org.opensaml.profile.action.AbstractProfileAction {
  private final org.slf4j.Logger log;

  private org.opensaml.saml.common.SAMLObjectBuilder<org.opensaml.saml.saml2.core.Subject> subjectBuilder;

  private org.opensaml.saml.common.SAMLObjectBuilder<org.opensaml.saml.saml2.core.NameID> nameIdBuilder;

  private boolean overwriteExisting;

  private com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, org.opensaml.saml.saml2.core.AuthnRequest> requestLookupStrategy;

  private com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.util.List<org.opensaml.saml.saml2.core.Assertion>> assertionsLookupStrategy;

  private com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, net.shibboleth.utilities.java.support.security.IdentifierGenerationStrategy> idGeneratorLookupStrategy;

  private com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.lang.String> issuerLookupStrategy;

  private com.google.common.base.Predicate<org.opensaml.profile.context.ProfileRequestContext> nameIDPolicyPredicate;

  private com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.util.List<java.lang.String>> formatLookupStrategy;

  private org.opensaml.saml.saml2.profile.SAML2NameIDGenerator generator;

  private java.util.List<java.lang.String> formats;

  private java.lang.String requiredFormat;

  private org.opensaml.saml.saml2.core.AuthnRequest request;

  private java.util.List<org.opensaml.saml.saml2.core.Assertion> assertions;

  private net.shibboleth.utilities.java.support.security.IdentifierGenerationStrategy idGenerator;

  private java.lang.String issuerId;

  public org.opensaml.saml.saml2.profile.impl.AddNameIDToSubjects() throws net.shibboleth.utilities.java.support.component.ComponentInitializationException;
    Code:
       0: aload_0
       1: invokespecial #3                  // Method org/opensaml/profile/action/AbstractProfileAction."<init>":()V
       4: aload_0
       5: ldc_w         #4                  // class org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects
       8: invokestatic  #5                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      11: putfield      #6                  // Field log:Lorg/slf4j/Logger;
      14: aload_0
      15: invokestatic  #7                  // Method org/opensaml/core/xml/config/XMLObjectProviderRegistrySupport.getBuilderFactory:()Lorg/opensaml/core/xml/XMLObjectBuilderFactory;
      18: getstatic     #8                  // Field org/opensaml/saml/saml2/core/Subject.DEFAULT_ELEMENT_NAME:Ljavax/xml/namespace/QName;
      21: invokevirtual #9                  // Method org/opensaml/core/xml/XMLObjectBuilderFactory.getBuilderOrThrow:(Ljavax/xml/namespace/QName;)Lorg/opensaml/core/xml/XMLObjectBuilder;
      24: checkcast     #10                 // class org/opensaml/saml/common/SAMLObjectBuilder
      27: putfield      #11                 // Field subjectBuilder:Lorg/opensaml/saml/common/SAMLObjectBuilder;
      30: aload_0
      31: invokestatic  #7                  // Method org/opensaml/core/xml/config/XMLObjectProviderRegistrySupport.getBuilderFactory:()Lorg/opensaml/core/xml/XMLObjectBuilderFactory;
      34: getstatic     #12                 // Field org/opensaml/saml/saml2/core/NameID.DEFAULT_ELEMENT_NAME:Ljavax/xml/namespace/QName;
      37: invokevirtual #9                  // Method org/opensaml/core/xml/XMLObjectBuilderFactory.getBuilderOrThrow:(Ljavax/xml/namespace/QName;)Lorg/opensaml/core/xml/XMLObjectBuilder;
      40: checkcast     #10                 // class org/opensaml/saml/common/SAMLObjectBuilder
      43: putfield      #13                 // Field nameIdBuilder:Lorg/opensaml/saml/common/SAMLObjectBuilder;
      46: aload_0
      47: iconst_1
      48: putfield      #14                 // Field overwriteExisting:Z
      51: aload_0
      52: new           #15                 // class org/opensaml/messaging/context/navigate/MessageLookup
      55: dup
      56: ldc_w         #16                 // class org/opensaml/saml/saml2/core/AuthnRequest
      59: invokespecial #17                 // Method org/opensaml/messaging/context/navigate/MessageLookup."<init>":(Ljava/lang/Class;)V
      62: new           #18                 // class org/opensaml/profile/context/navigate/InboundMessageContextLookup
      65: dup
      66: invokespecial #19                 // Method org/opensaml/profile/context/navigate/InboundMessageContextLookup."<init>":()V
      69: invokestatic  #20                 // Method com/google/common/base/Functions.compose:(Lcom/google/common/base/Function;Lcom/google/common/base/Function;)Lcom/google/common/base/Function;
      72: putfield      #21                 // Field requestLookupStrategy:Lcom/google/common/base/Function;
      75: aload_0
      76: new           #22                 // class org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$AssertionStrategy
      79: dup
      80: aload_0
      81: aconst_null
      82: invokespecial #23                 // Method org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$AssertionStrategy."<init>":(Lorg/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects;Lorg/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$1;)V
      85: putfield      #24                 // Field assertionsLookupStrategy:Lcom/google/common/base/Function;
      88: aload_0
      89: new           #25                 // class org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$1
      92: dup
      93: aload_0
      94: invokespecial #26                 // Method org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$1."<init>":(Lorg/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects;)V
      97: putfield      #27                 // Field idGeneratorLookupStrategy:Lcom/google/common/base/Function;
     100: aload_0
     101: new           #28                 // class org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate
     104: dup
     105: invokespecial #29                 // Method org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate."<init>":()V
     108: putfield      #30                 // Field nameIDPolicyPredicate:Lcom/google/common/base/Predicate;
     111: aload_0
     112: getfield      #30                 // Field nameIDPolicyPredicate:Lcom/google/common/base/Predicate;
     115: checkcast     #28                 // class org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate
     118: new           #31                 // class org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$RequesterIdFromIssuerFunction
     121: dup
     122: invokespecial #32                 // Method org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$RequesterIdFromIssuerFunction."<init>":()V
     125: invokevirtual #33                 // Method org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate.setRequesterIdLookupStrategy:(Lcom/google/common/base/Function;)V
     128: aload_0
     129: getfield      #30                 // Field nameIDPolicyPredicate:Lcom/google/common/base/Predicate;
     132: checkcast     #28                 // class org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate
     135: new           #34                 // class org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$NameIDPolicyLookupFunction
     138: dup
     139: invokespecial #35                 // Method org/opensaml/saml/saml2/profile/impl/AddNameIDToSubjects$NameIDPolicyLookupFunction."<init>":()V
     142: invokevirtual #36                 // Method org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate.setObjectLookupStrategy:(Lcom/google/common/base/Function;)V
     145: aload_0
     146: getfield      #30                 // Field nameIDPolicyPredicate:Lcom/google/common/base/Predicate;
     149: checkcast     #28                 // class org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate
     152: invokevirtual #37                 // Method org/opensaml/saml/common/profile/logic/DefaultNameIDPolicyPredicate.initialize:()V
     155: aload_0
     156: new           #38                 // class org/opensaml/saml/common/profile/logic/MetadataNameIdentifierFormatStrategy
     159: dup
     160: invokespecial #39                 // Method org/opensaml/saml/common/profile/logic/MetadataNameIdentifierFormatStrategy."<init>":()V
     163: putfield      #40                 // Field formatLookupStrategy:Lcom/google/common/base/Function;
     166: aload_0
     167: invokestatic  #41                 // Method java/util/Collections.emptyList:()Ljava/util/List;
     170: putfield      #42                 // Field formats:Ljava/util/List;
     173: return

  public void setOverwriteExisting(boolean);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: iload_1
       6: putfield      #14                 // Field overwriteExisting:Z
       9: return

  public void setRequestLookupStrategy(com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, org.opensaml.saml.saml2.core.AuthnRequest>);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: ldc           #44                 // String AuthnRequest lookup strategy cannot be null
       8: invokestatic  #45                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #46                 // class com/google/common/base/Function
      14: putfield      #21                 // Field requestLookupStrategy:Lcom/google/common/base/Function;
      17: return

  public void setAssertionsLookupStrategy(com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.util.List<org.opensaml.saml.saml2.core.Assertion>>);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: ldc           #47                 // String Assertions lookup strategy cannot be null
       8: invokestatic  #45                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #46                 // class com/google/common/base/Function
      14: putfield      #24                 // Field assertionsLookupStrategy:Lcom/google/common/base/Function;
      17: return

  public void setIdentifierGeneratorLookupStrategy(com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, net.shibboleth.utilities.java.support.security.IdentifierGenerationStrategy>);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: ldc           #48                 // String IdentifierGenerationStrategy lookup strategy cannot be null
       8: invokestatic  #45                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #46                 // class com/google/common/base/Function
      14: putfield      #27                 // Field idGeneratorLookupStrategy:Lcom/google/common/base/Function;
      17: return

  public void setIssuerLookupStrategy(com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.lang.String>);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: putfield      #49                 // Field issuerLookupStrategy:Lcom/google/common/base/Function;
       9: return

  public void setNameIDPolicyPredicate(com.google.common.base.Predicate<org.opensaml.profile.context.ProfileRequestContext>);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: ldc           #50                 // String NameIDPolicy predicate cannot be null
       8: invokestatic  #45                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #51                 // class com/google/common/base/Predicate
      14: putfield      #30                 // Field nameIDPolicyPredicate:Lcom/google/common/base/Predicate;
      17: return

  public void setFormatLookupStrategy(com.google.common.base.Function<org.opensaml.profile.context.ProfileRequestContext, java.util.List<java.lang.String>>);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: ldc           #52                 // String Format lookup strategy cannot be null
       8: invokestatic  #45                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #46                 // class com/google/common/base/Function
      14: putfield      #40                 // Field formatLookupStrategy:Lcom/google/common/base/Function;
      17: return

  public void setNameIDGenerator(org.opensaml.saml.saml2.profile.SAML2NameIDGenerator);
    Code:
       0: aload_0
       1: invokestatic  #43                 // Method net/shibboleth/utilities/java/support/component/ComponentSupport.ifInitializedThrowUnmodifiabledComponentException:(Lnet/shibboleth/utilities/java/support/component/InitializableComponent;)V
       4: aload_0
       5: aload_1
       6: ldc           #53                 // String SAML2NameIDGenerator cannot be null
       8: invokestatic  #45                 // Method net/shibboleth/utilities/java/support/logic/Constraint.isNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #54                 // class org/opensaml/saml/saml2/profile/SAML2NameIDGenerator
      14: putfield      #55                 // Field generator:Lorg/opensaml/saml/saml2/profile/SAML2NameIDGenerator;
      17: return

  protected void doInitialize() throws net.shibboleth.utilities.java.support.component.ComponentInitializationException;
    Code:
       0: aload_0
       1: invokespecial #56                 // Method org/opensaml/profile/action/AbstractProfileAction.doInitialize:()V
       4: aload_0
       5: getfield      #55                 // Field generator:Lorg/opensaml/saml/saml2/profile/SAML2NameIDGenerator;
       8: ifnonnull     21
      11: new           #57                 // class net/shibboleth/utilities/java/support/component/ComponentInitializationException
      14: dup
      15: ldc           #53                 // String SAML2NameIDGenerator cannot be null
      17: invokespecial #58                 // Method net/shibboleth/utilities/java/support/component/ComponentInitializationException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: return

  protected boolean doPreExecute(org.opensaml.profile.context.ProfileRequestContext);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #59                 // Method org/opensaml/profile/action/AbstractProfileAction.doPreExecute:(Lorg/opensaml/profile/context/ProfileRequestContext;)Z
       5: ifne          10
       8: iconst_0
       9: ireturn
      10: aload_0
      11: getfield      #6                  // Field log:Lorg/slf4j/Logger;
      14: ldc           #60                 // String {} Attempting to add NameID to outgoing Assertion Subjects
      16: aload_0
      17: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
      20: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      25: aload_0
      26: aload_0
      27: getfield      #27                 // Field idGeneratorLookupStrategy:Lcom/google/common/base/Function;
      30: aload_1
      31: invokeinterface #63,  2           // InterfaceMethod com/google/common/base/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      36: checkcast     #64                 // class net/shibboleth/utilities/java/support/security/IdentifierGenerationStrategy
      39: putfield      #2                  // Field idGenerator:Lnet/shibboleth/utilities/java/support/security/IdentifierGenerationStrategy;
      42: aload_0
      43: getfield      #2                  // Field idGenerator:Lnet/shibboleth/utilities/java/support/security/IdentifierGenerationStrategy;
      46: ifnonnull     72
      49: aload_0
      50: getfield      #6                  // Field log:Lorg/slf4j/Logger;
      53: ldc           #65                 // String {} No identifier generation strategy
      55: aload_0
      56: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
      59: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      64: aload_1
      65: ldc           #66                 // String InvalidProfileContext
      67: invokestatic  #67                 // Method org/opensaml/profile/action/ActionSupport.buildEvent:(Lorg/opensaml/profile/context/ProfileRequestContext;Ljava/lang/String;)V
      70: iconst_0
      71: ireturn
      72: aload_0
      73: getfield      #49                 // Field issuerLookupStrategy:Lcom/google/common/base/Function;
      76: ifnull        96
      79: aload_0
      80: aload_0
      81: getfield      #49                 // Field issuerLookupStrategy:Lcom/google/common/base/Function;
      84: aload_1
      85: invokeinterface #63,  2           // InterfaceMethod com/google/common/base/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      90: checkcast     #68                 // class java/lang/String
      93: putfield      #1                  // Field issuerId:Ljava/lang/String;
      96: aload_0
      97: aload_0
      98: getfield      #24                 // Field assertionsLookupStrategy:Lcom/google/common/base/Function;
     101: aload_1
     102: invokeinterface #63,  2           // InterfaceMethod com/google/common/base/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
     107: checkcast     #69                 // class java/util/List
     110: putfield      #70                 // Field assertions:Ljava/util/List;
     113: aload_0
     114: getfield      #70                 // Field assertions:Ljava/util/List;
     117: ifnull        132
     120: aload_0
     121: getfield      #70                 // Field assertions:Ljava/util/List;
     124: invokeinterface #71,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     129: ifeq          149
     132: aload_0
     133: getfield      #6                  // Field log:Lorg/slf4j/Logger;
     136: ldc           #72                 // String {} No assertions returned, nothing to do
     138: aload_0
     139: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
     142: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     147: iconst_0
     148: ireturn
     149: aload_0
     150: getfield      #30                 // Field nameIDPolicyPredicate:Lcom/google/common/base/Predicate;
     153: aload_1
     154: invokeinterface #73,  2           // InterfaceMethod com/google/common/base/Predicate.apply:(Ljava/lang/Object;)Z
     159: ifne          185
     162: aload_0
     163: getfield      #6                  // Field log:Lorg/slf4j/Logger;
     166: ldc           #74                 // String {} NameIDPolicy was unacceptable
     168: aload_0
     169: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
     172: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     177: aload_1
     178: ldc           #75                 // String InvalidNameIDPolicy
     180: invokestatic  #67                 // Method org/opensaml/profile/action/ActionSupport.buildEvent:(Lorg/opensaml/profile/context/ProfileRequestContext;Ljava/lang/String;)V
     183: iconst_0
     184: ireturn
     185: aload_0
     186: aload_0
     187: getfield      #21                 // Field requestLookupStrategy:Lcom/google/common/base/Function;
     190: aload_1
     191: invokeinterface #63,  2           // InterfaceMethod com/google/common/base/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
     196: checkcast     #16                 // class org/opensaml/saml/saml2/core/AuthnRequest
     199: putfield      #76                 // Field request:Lorg/opensaml/saml/saml2/core/AuthnRequest;
     202: aload_0
     203: aload_0
     204: aload_1
     205: invokespecial #77                 // Method getRequiredFormat:(Lorg/opensaml/profile/context/ProfileRequestContext;)Ljava/lang/String;
     208: putfield      #78                 // Field requiredFormat:Ljava/lang/String;
     211: aload_0
     212: getfield      #78                 // Field requiredFormat:Ljava/lang/String;
     215: ifnull        251
     218: aload_0
     219: aload_0
     220: getfield      #78                 // Field requiredFormat:Ljava/lang/String;
     223: invokestatic  #79                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     226: putfield      #42                 // Field formats:Ljava/util/List;
     229: aload_0
     230: getfield      #6                  // Field log:Lorg/slf4j/Logger;
     233: ldc           #80                 // String {} Request specified NameID format: {}
     235: aload_0
     236: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
     239: aload_0
     240: getfield      #78                 // Field requiredFormat:Ljava/lang/String;
     243: invokeinterface #81,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     248: goto          323
     251: aload_0
     252: aload_0
     253: getfield      #40                 // Field formatLookupStrategy:Lcom/google/common/base/Function;
     256: aload_1
     257: invokeinterface #63,  2           // InterfaceMethod com/google/common/base/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
     262: checkcast     #69                 // class java/util/List
     265: putfield      #42                 // Field formats:Ljava/util/List;
     268: aload_0
     269: getfield      #42                 // Field formats:Ljava/util/List;
     272: ifnull        287
     275: aload_0
     276: getfield      #42                 // Field formats:Ljava/util/List;
     279: invokeinterface #71,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     284: ifeq          304
     287: aload_0
     288: getfield      #6                  // Field log:Lorg/slf4j/Logger;
     291: ldc           #82                 // String {} No candidate NameID formats, nothing to do
     293: aload_0
     294: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
     297: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     302: iconst_0
     303: ireturn
     304: aload_0
     305: getfield      #6                  // Field log:Lorg/slf4j/Logger;
     308: ldc           #83                 // String {} Candidate NameID formats: {}
     310: aload_0
     311: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
     314: aload_0
     315: getfield      #42                 // Field formats:Ljava/util/List;
     318: invokeinterface #81,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     323: iconst_1
     324: ireturn

  protected void doExecute(org.opensaml.profile.context.ProfileRequestContext);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #84                 // Method generateNameID:(Lorg/opensaml/profile/context/ProfileRequestContext;)Lorg/opensaml/saml/saml2/core/NameID;
       5: astore_2
       6: aload_2
       7: ifnonnull     61
      10: aload_0
      11: getfield      #78                 // Field requiredFormat:Ljava/lang/String;
      14: ifnull        45
      17: aload_0
      18: getfield      #6                  // Field log:Lorg/slf4j/Logger;
      21: ldc           #85                 // String {} Request specified use of an unsupportable identifier format: {}
      23: aload_0
      24: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
      27: aload_0
      28: getfield      #78                 // Field requiredFormat:Ljava/lang/String;
      31: invokeinterface #86,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      36: aload_1
      37: ldc           #75                 // String InvalidNameIDPolicy
      39: invokestatic  #67                 // Method org/opensaml/profile/action/ActionSupport.buildEvent:(Lorg/opensaml/profile/context/ProfileRequestContext;Ljava/lang/String;)V
      42: goto          60
      45: aload_0
      46: getfield      #6                  // Field log:Lorg/slf4j/Logger;
      49: ldc           #87                 // String {} Unable to generate a NameID, leaving empty
      51: aload_0
      52: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
      55: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      60: return
      61: iconst_0
      62: istore_3
      63: aload_0
      64: getfield      #70                 // Field assertions:Ljava/util/List;
      67: invokeinterface #88,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      72: astore        4
      74: aload         4
      76: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      81: ifeq          151
      84: aload         4
      86: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      91: checkcast     #91                 // class org/opensaml/saml/saml2/core/Assertion
      94: astore        5
      96: aload_0
      97: aload         5
      99: invokespecial #92                 // Method getAssertionSubject:(Lorg/opensaml/saml/saml2/core/Assertion;)Lorg/opensaml/saml/saml2/core/Subject;
     102: astore        6
     104: aload         6
     106: invokeinterface #93,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Subject.getNameID:()Lorg/opensaml/saml/saml2/core/NameID;
     111: astore        7
     113: aload         7
     115: ifnull        125
     118: aload_0
     119: getfield      #14                 // Field overwriteExisting:Z
     122: ifeq          145
     125: aload         6
     127: iload_3
     128: ifle          139
     131: aload_0
     132: aload_2
     133: invokespecial #94                 // Method cloneNameID:(Lorg/opensaml/saml/saml2/core/NameID;)Lorg/opensaml/saml/saml2/core/NameID;
     136: goto          140
     139: aload_2
     140: invokeinterface #95,  2           // InterfaceMethod org/opensaml/saml/saml2/core/Subject.setNameID:(Lorg/opensaml/saml/saml2/core/NameID;)V
     145: iinc          3, 1
     148: goto          74
     151: iload_3
     152: ifle          174
     155: aload_0
     156: getfield      #6                  // Field log:Lorg/slf4j/Logger;
     159: ldc           #96                 // String {} Added NameID to {} assertion subject(s)
     161: aload_0
     162: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
     165: iload_3
     166: invokestatic  #97                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     169: invokeinterface #81,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     174: return

  private java.lang.String getRequiredFormat(org.opensaml.profile.context.ProfileRequestContext);
    Code:
       0: aload_0
       1: getfield      #76                 // Field request:Lorg/opensaml/saml/saml2/core/AuthnRequest;
       4: ifnull        55
       7: aload_0
       8: getfield      #76                 // Field request:Lorg/opensaml/saml/saml2/core/AuthnRequest;
      11: invokeinterface #98,  1           // InterfaceMethod org/opensaml/saml/saml2/core/AuthnRequest.getNameIDPolicy:()Lorg/opensaml/saml/saml2/core/NameIDPolicy;
      16: astore_2
      17: aload_2
      18: ifnull        55
      21: aload_2
      22: invokeinterface #99,  1           // InterfaceMethod org/opensaml/saml/saml2/core/NameIDPolicy.getFormat:()Ljava/lang/String;
      27: astore_3
      28: aload_3
      29: invokestatic  #100                // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      32: ifne          55
      35: ldc           #101                // String urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified
      37: aload_3
      38: invokevirtual #102                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      41: ifne          55
      44: ldc           #103                // String urn:oasis:names:tc:SAML:2.0:nameid-format:encrypted
      46: aload_3
      47: invokevirtual #102                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      50: ifne          55
      53: aload_3
      54: areturn
      55: aconst_null
      56: areturn

  private org.opensaml.saml.saml2.core.NameID generateNameID(org.opensaml.profile.context.ProfileRequestContext);
    Code:
       0: aload_0
       1: getfield      #42                 // Field formats:Ljava/util/List;
       4: invokeinterface #88,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_2
      10: aload_2
      11: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          107
      19: aload_2
      20: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #68                 // class java/lang/String
      28: astore_3
      29: aload_0
      30: getfield      #6                  // Field log:Lorg/slf4j/Logger;
      33: ldc           #104                // String {} Trying to generate NameID with Format {}
      35: aload_0
      36: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
      39: aload_3
      40: invokeinterface #81,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      45: aload_0
      46: getfield      #55                 // Field generator:Lorg/opensaml/saml/saml2/profile/SAML2NameIDGenerator;
      49: aload_1
      50: aload_3
      51: invokeinterface #105,  3          // InterfaceMethod org/opensaml/saml/saml2/profile/SAML2NameIDGenerator.generate:(Lorg/opensaml/profile/context/ProfileRequestContext;Ljava/lang/String;)Lorg/opensaml/saml/saml2/core/NameID;
      56: astore        4
      58: aload         4
      60: ifnull        82
      63: aload_0
      64: getfield      #6                  // Field log:Lorg/slf4j/Logger;
      67: ldc           #106                // String {} Successfully generated NameID with Format {}
      69: aload_0
      70: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
      73: aload_3
      74: invokeinterface #81,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      79: aload         4
      81: areturn
      82: goto          104
      85: astore        4
      87: aload_0
      88: getfield      #6                  // Field log:Lorg/slf4j/Logger;
      91: ldc           #108                // String {} Error while generating NameID
      93: aload_0
      94: invokevirtual #61                 // Method getLogPrefix:()Ljava/lang/String;
      97: aload         4
      99: invokeinterface #109,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     104: goto          10
     107: aconst_null
     108: areturn
    Exception table:
       from    to  target type
          45    81    85   Class org/opensaml/saml/common/SAMLException

  private org.opensaml.saml.saml2.core.Subject getAssertionSubject(org.opensaml.saml.saml2.core.Assertion);
    Code:
       0: aload_1
       1: invokeinterface #110,  1          // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getSubject:()Lorg/opensaml/saml/saml2/core/Subject;
       6: ifnull        16
       9: aload_1
      10: invokeinterface #110,  1          // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getSubject:()Lorg/opensaml/saml/saml2/core/Subject;
      15: areturn
      16: aload_0
      17: getfield      #11                 // Field subjectBuilder:Lorg/opensaml/saml/common/SAMLObjectBuilder;
      20: invokeinterface #111,  1          // InterfaceMethod org/opensaml/saml/common/SAMLObjectBuilder.buildObject:()Lorg/opensaml/saml/common/SAMLObject;
      25: checkcast     #112                // class org/opensaml/saml/saml2/core/Subject
      28: astore_2
      29: aload_1
      30: aload_2
      31: invokeinterface #113,  2          // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.setSubject:(Lorg/opensaml/saml/saml2/core/Subject;)V
      36: aload_2
      37: areturn

  private org.opensaml.saml.saml2.core.NameID cloneNameID(org.opensaml.saml.saml2.core.NameID);
    Code:
       0: aload_0
       1: getfield      #13                 // Field nameIdBuilder:Lorg/opensaml/saml/common/SAMLObjectBuilder;
       4: invokeinterface #111,  1          // InterfaceMethod org/opensaml/saml/common/SAMLObjectBuilder.buildObject:()Lorg/opensaml/saml/common/SAMLObject;
       9: checkcast     #114                // class org/opensaml/saml/saml2/core/NameID
      12: astore_2
      13: aload_2
      14: aload_1
      15: invokeinterface #115,  1          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.getFormat:()Ljava/lang/String;
      20: invokeinterface #116,  2          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.setFormat:(Ljava/lang/String;)V
      25: aload_2
      26: aload_1
      27: invokeinterface #117,  1          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.getNameQualifier:()Ljava/lang/String;
      32: invokeinterface #118,  2          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.setNameQualifier:(Ljava/lang/String;)V
      37: aload_2
      38: aload_1
      39: invokeinterface #119,  1          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.getSPNameQualifier:()Ljava/lang/String;
      44: invokeinterface #120,  2          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.setSPNameQualifier:(Ljava/lang/String;)V
      49: aload_2
      50: aload_1
      51: invokeinterface #121,  1          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.getSPProvidedID:()Ljava/lang/String;
      56: invokeinterface #122,  2          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.setSPProvidedID:(Ljava/lang/String;)V
      61: aload_2
      62: aload_1
      63: invokeinterface #123,  1          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.getValue:()Ljava/lang/String;
      68: invokeinterface #124,  2          // InterfaceMethod org/opensaml/saml/saml2/core/NameID.setValue:(Ljava/lang/String;)V
      73: aload_2
      74: areturn

  static net.shibboleth.utilities.java.support.security.IdentifierGenerationStrategy access$100(org.opensaml.saml.saml2.profile.impl.AddNameIDToSubjects);
    Code:
       0: aload_0
       1: getfield      #2                  // Field idGenerator:Lnet/shibboleth/utilities/java/support/security/IdentifierGenerationStrategy;
       4: areturn

  static java.lang.String access$200(org.opensaml.saml.saml2.profile.impl.AddNameIDToSubjects);
    Code:
       0: aload_0
       1: getfield      #1                  // Field issuerId:Ljava/lang/String;
       4: areturn
}
