Compiled from "CertificateStreamProvider.java"
public class org.openshift.ping.common.stream.CertificateStreamProvider extends org.openshift.ping.common.stream.BaseStreamProvider {
  private static final java.util.logging.Logger log;

  private final javax.net.ssl.SSLSocketFactory factory;

  public org.openshift.ping.common.stream.CertificateStreamProvider(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/openshift/ping/common/stream/BaseStreamProvider."<init>":()V
       4: aload_3
       5: ifnull        15
       8: aload_3
       9: invokevirtual #2                  // Method java/lang/String.toCharArray:()[C
      12: goto          18
      15: iconst_0
      16: newarray       char
      18: astore        6
      20: aload         4
      22: ifnull        30
      25: aload         4
      27: goto          32
      30: ldc           #3                  // String RSA
      32: astore        7
      34: aload_0
      35: aload_1
      36: aload_2
      37: aload         6
      39: aload         7
      41: invokespecial #4                  // Method configureClientCert:(Ljava/lang/String;Ljava/lang/String;[CLjava/lang/String;)[Ljavax/net/ssl/KeyManager;
      44: astore        8
      46: aload_0
      47: aload         5
      49: invokespecial #5                  // Method configureCaCert:(Ljava/lang/String;)[Ljavax/net/ssl/TrustManager;
      52: astore        9
      54: ldc           #6                  // String TLS
      56: invokestatic  #7                  // Method javax/net/ssl/SSLContext.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/SSLContext;
      59: astore        10
      61: aload         10
      63: aload         8
      65: aload         9
      67: aconst_null
      68: invokevirtual #8                  // Method javax/net/ssl/SSLContext.init:([Ljavax/net/ssl/KeyManager;[Ljavax/net/ssl/TrustManager;Ljava/security/SecureRandom;)V
      71: aload_0
      72: aload         10
      74: invokevirtual #9                  // Method javax/net/ssl/SSLContext.getSocketFactory:()Ljavax/net/ssl/SSLSocketFactory;
      77: putfield      #10                 // Field factory:Ljavax/net/ssl/SSLSocketFactory;
      80: return

  public java.io.InputStream openStream(java.lang.String, java.util.Map<java.lang.String, java.lang.String>, int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: iload         4
       6: invokevirtual #11                 // Method openConnection:(Ljava/lang/String;Ljava/util/Map;II)Ljava/net/URLConnection;
       9: astore        5
      11: aload         5
      13: instanceof    #12                 // class javax/net/ssl/HttpsURLConnection
      16: ifeq          81
      19: ldc           #12                 // class javax/net/ssl/HttpsURLConnection
      21: aload         5
      23: invokevirtual #13                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
      26: checkcast     #12                 // class javax/net/ssl/HttpsURLConnection
      29: astore        6
      31: aload         6
      33: aload_0
      34: getfield      #10                 // Field factory:Ljavax/net/ssl/SSLSocketFactory;
      37: invokevirtual #14                 // Method javax/net/ssl/HttpsURLConnection.setSSLSocketFactory:(Ljavax/net/ssl/SSLSocketFactory;)V
      40: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
      43: getstatic     #16                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
      46: invokevirtual #17                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      49: ifeq          78
      52: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
      55: ldc           #18                 // String Using HttpsURLConnection with SSLSocketFactory [%s] for url [%s].
      57: iconst_2
      58: anewarray     #19                 // class java/lang/Object
      61: dup
      62: iconst_0
      63: aload_0
      64: getfield      #10                 // Field factory:Ljavax/net/ssl/SSLSocketFactory;
      67: aastore
      68: dup
      69: iconst_1
      70: aload_1
      71: aastore
      72: invokestatic  #20                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      75: invokevirtual #21                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
      78: goto          112
      81: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
      84: getstatic     #16                 // Field java/util/logging/Level.FINE:Ljava/util/logging/Level;
      87: invokevirtual #17                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      90: ifeq          112
      93: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
      96: ldc           #22                 // String Using URLConnection for url [%s].
      98: iconst_1
      99: anewarray     #19                 // class java/lang/Object
     102: dup
     103: iconst_0
     104: aload_1
     105: aastore
     106: invokestatic  #20                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     109: invokevirtual #21                 // Method java/util/logging/Logger.fine:(Ljava/lang/String;)V
     112: aload         5
     114: invokevirtual #23                 // Method java/net/URLConnection.getInputStream:()Ljava/io/InputStream;
     117: areturn

  private javax.net.ssl.KeyManager[] configureClientCert(java.lang.String, java.lang.String, char[], java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokestatic  #24                 // Method org/openshift/ping/common/Utils.openFile:(Ljava/lang/String;)Ljava/io/InputStream;
       4: astore        5
       6: ldc           #25                 // String X509
       8: invokestatic  #26                 // Method java/security/cert/CertificateFactory.getInstance:(Ljava/lang/String;)Ljava/security/cert/CertificateFactory;
      11: astore        6
      13: aload         6
      15: aload         5
      17: invokevirtual #27                 // Method java/security/cert/CertificateFactory.generateCertificate:(Ljava/io/InputStream;)Ljava/security/cert/Certificate;
      20: checkcast     #28                 // class java/security/cert/X509Certificate
      23: astore        7
      25: aload_2
      26: invokestatic  #24                 // Method org/openshift/ping/common/Utils.openFile:(Ljava/lang/String;)Ljava/io/InputStream;
      29: astore        8
      31: new           #29                 // class net/oauth/signature/pem/PEMReader
      34: dup
      35: aload         8
      37: invokespecial #30                 // Method net/oauth/signature/pem/PEMReader."<init>":(Ljava/io/InputStream;)V
      40: astore        9
      42: new           #31                 // class net/oauth/signature/pem/PKCS1EncodedKeySpec
      45: dup
      46: aload         9
      48: invokevirtual #32                 // Method net/oauth/signature/pem/PEMReader.getDerBytes:()[B
      51: invokespecial #33                 // Method net/oauth/signature/pem/PKCS1EncodedKeySpec."<init>":([B)V
      54: invokevirtual #34                 // Method net/oauth/signature/pem/PKCS1EncodedKeySpec.getKeySpec:()Ljava/security/spec/RSAPrivateCrtKeySpec;
      57: astore        10
      59: aload         4
      61: invokestatic  #35                 // Method java/security/KeyFactory.getInstance:(Ljava/lang/String;)Ljava/security/KeyFactory;
      64: astore        11
      66: aload         11
      68: aload         10
      70: invokevirtual #36                 // Method java/security/KeyFactory.generatePrivate:(Ljava/security/spec/KeySpec;)Ljava/security/PrivateKey;
      73: checkcast     #37                 // class java/security/interfaces/RSAPrivateKey
      76: astore        12
      78: ldc           #38                 // String JKS
      80: invokestatic  #39                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
      83: astore        13
      85: aload         13
      87: aconst_null
      88: invokevirtual #40                 // Method java/security/KeyStore.load:(Ljava/security/KeyStore$LoadStoreParameter;)V
      91: aload         7
      93: invokevirtual #41                 // Method java/security/cert/X509Certificate.getSubjectX500Principal:()Ljavax/security/auth/x500/X500Principal;
      96: invokevirtual #42                 // Method javax/security/auth/x500/X500Principal.getName:()Ljava/lang/String;
      99: astore        14
     101: aload         13
     103: aload         14
     105: aload         12
     107: aload_3
     108: iconst_1
     109: anewarray     #43                 // class java/security/cert/Certificate
     112: dup
     113: iconst_0
     114: aload         7
     116: aastore
     117: invokevirtual #44                 // Method java/security/KeyStore.setKeyEntry:(Ljava/lang/String;Ljava/security/Key;[C[Ljava/security/cert/Certificate;)V
     120: invokestatic  #45                 // Method javax/net/ssl/KeyManagerFactory.getDefaultAlgorithm:()Ljava/lang/String;
     123: invokestatic  #46                 // Method javax/net/ssl/KeyManagerFactory.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/KeyManagerFactory;
     126: astore        15
     128: aload         15
     130: aload         13
     132: aload_3
     133: invokevirtual #47                 // Method javax/net/ssl/KeyManagerFactory.init:(Ljava/security/KeyStore;[C)V
     136: aload         15
     138: invokevirtual #48                 // Method javax/net/ssl/KeyManagerFactory.getKeyManagers:()[Ljavax/net/ssl/KeyManager;
     141: areturn
     142: astore        5
     144: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
     147: getstatic     #50                 // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
     150: new           #51                 // class java/lang/StringBuilder
     153: dup
     154: invokespecial #52                 // Method java/lang/StringBuilder."<init>":()V
     157: ldc           #53                 // String Could not create key manager for
     159: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     162: aload_1
     163: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: ldc           #55                 // String  (
     168: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     171: aload_2
     172: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: ldc           #56                 // String )
     177: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     180: invokevirtual #57                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     183: aload         5
     185: invokevirtual #58                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     188: aload         5
     190: athrow
    Exception table:
       from    to  target type
           0   141   142   Class java/lang/Exception

  private javax.net.ssl.TrustManager[] configureCaCert(java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_1
       1: ifnull        110
       4: aload_1
       5: invokestatic  #24                 // Method org/openshift/ping/common/Utils.openFile:(Ljava/lang/String;)Ljava/io/InputStream;
       8: astore_2
       9: ldc           #25                 // String X509
      11: invokestatic  #26                 // Method java/security/cert/CertificateFactory.getInstance:(Ljava/lang/String;)Ljava/security/cert/CertificateFactory;
      14: astore_3
      15: aload_3
      16: aload_2
      17: invokevirtual #27                 // Method java/security/cert/CertificateFactory.generateCertificate:(Ljava/io/InputStream;)Ljava/security/cert/Certificate;
      20: checkcast     #28                 // class java/security/cert/X509Certificate
      23: astore        4
      25: ldc           #38                 // String JKS
      27: invokestatic  #39                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
      30: astore        5
      32: aload         5
      34: aconst_null
      35: invokevirtual #40                 // Method java/security/KeyStore.load:(Ljava/security/KeyStore$LoadStoreParameter;)V
      38: aload         4
      40: invokevirtual #41                 // Method java/security/cert/X509Certificate.getSubjectX500Principal:()Ljavax/security/auth/x500/X500Principal;
      43: invokevirtual #42                 // Method javax/security/auth/x500/X500Principal.getName:()Ljava/lang/String;
      46: astore        6
      48: aload         5
      50: aload         6
      52: aload         4
      54: invokevirtual #59                 // Method java/security/KeyStore.setCertificateEntry:(Ljava/lang/String;Ljava/security/cert/Certificate;)V
      57: invokestatic  #60                 // Method javax/net/ssl/TrustManagerFactory.getDefaultAlgorithm:()Ljava/lang/String;
      60: invokestatic  #61                 // Method javax/net/ssl/TrustManagerFactory.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/TrustManagerFactory;
      63: astore        7
      65: aload         7
      67: aload         5
      69: invokevirtual #62                 // Method javax/net/ssl/TrustManagerFactory.init:(Ljava/security/KeyStore;)V
      72: aload         7
      74: invokevirtual #63                 // Method javax/net/ssl/TrustManagerFactory.getTrustManagers:()[Ljavax/net/ssl/TrustManager;
      77: areturn
      78: astore_2
      79: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
      82: getstatic     #50                 // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
      85: new           #51                 // class java/lang/StringBuilder
      88: dup
      89: invokespecial #52                 // Method java/lang/StringBuilder."<init>":()V
      92: ldc           #64                 // String Could not create trust manager for
      94: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: aload_1
      98: invokevirtual #54                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: invokevirtual #57                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     104: aload_2
     105: invokevirtual #58                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     108: aload_2
     109: athrow
     110: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
     113: getstatic     #65                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     116: invokevirtual #17                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     119: ifeq          133
     122: getstatic     #15                 // Field log:Ljava/util/logging/Logger;
     125: getstatic     #65                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     128: ldc           #66                 // String ca cert file undefined
     130: invokevirtual #67                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     133: getstatic     #68                 // Field org/openshift/ping/common/stream/InsecureStreamProvider.INSECURE_TRUST_MANAGERS:[Ljavax/net/ssl/TrustManager;
     136: areturn
    Exception table:
       from    to  target type
           4    77    78   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #69                 // class org/openshift/ping/common/stream/CertificateStreamProvider
       2: invokevirtual #70                 // Method java/lang/Class.getName:()Ljava/lang/String;
       5: invokestatic  #71                 // Method java/util/logging/Logger.getLogger:(Ljava/lang/String;)Ljava/util/logging/Logger;
       8: putstatic     #15                 // Field log:Ljava/util/logging/Logger;
      11: return
}
