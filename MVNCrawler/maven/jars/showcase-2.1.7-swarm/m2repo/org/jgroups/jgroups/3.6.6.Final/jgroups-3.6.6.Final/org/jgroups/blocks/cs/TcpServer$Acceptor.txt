Compiled from "TcpServer.java"
public class org.jgroups.blocks.cs.TcpServer$Acceptor implements java.lang.Runnable {
  final org.jgroups.blocks.cs.TcpServer this$0;

  protected org.jgroups.blocks.cs.TcpServer$Acceptor(org.jgroups.blocks.cs.TcpServer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
       4: getfield      #3                  // Field org/jgroups/blocks/cs/TcpServer.srv_sock:Ljava/net/ServerSocket;
       7: invokevirtual #4                  // Method java/net/ServerSocket.isClosed:()Z
      10: ifne          101
      13: invokestatic  #5                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      16: invokevirtual #6                  // Method java/lang/Thread.isInterrupted:()Z
      19: ifne          101
      22: aconst_null
      23: astore_1
      24: aload_0
      25: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      28: getfield      #3                  // Field org/jgroups/blocks/cs/TcpServer.srv_sock:Ljava/net/ServerSocket;
      31: invokevirtual #7                  // Method java/net/ServerSocket.accept:()Ljava/net/Socket;
      34: astore_1
      35: aload_0
      36: aload_1
      37: invokevirtual #8                  // Method handleAccept:(Ljava/net/Socket;)V
      40: goto          98
      43: astore_2
      44: aload_2
      45: instanceof    #10                 // class java/net/SocketException
      48: ifeq          64
      51: aload_0
      52: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      55: getfield      #3                  // Field org/jgroups/blocks/cs/TcpServer.srv_sock:Ljava/net/ServerSocket;
      58: invokevirtual #4                  // Method java/net/ServerSocket.isClosed:()Z
      61: ifne          73
      64: invokestatic  #5                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      67: invokevirtual #6                  // Method java/lang/Thread.isInterrupted:()Z
      70: ifeq          76
      73: goto          101
      76: aload_0
      77: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      80: getfield      #11                 // Field org/jgroups/blocks/cs/TcpServer.log:Lorg/jgroups/logging/Log;
      83: ldc           #12                 // String AcceptError
      85: invokestatic  #13                 // Method org/jgroups/util/Util.getMessage:(Ljava/lang/String;)Ljava/lang/String;
      88: aload_2
      89: invokeinterface #14,  3           // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      94: aload_1
      95: invokestatic  #15                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
      98: goto          0
     101: return
    Exception table:
       from    to  target type
          24    40    43   Class java/lang/Exception

  protected void handleAccept(java.net.Socket) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_2
       2: new           #16                 // class org/jgroups/blocks/cs/TcpConnection
       5: dup
       6: aload_1
       7: aload_0
       8: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      11: invokespecial #17                 // Method org/jgroups/blocks/cs/TcpConnection."<init>":(Ljava/net/Socket;Lorg/jgroups/blocks/cs/TcpServer;)V
      14: astore_2
      15: aload_2
      16: invokevirtual #18                 // Method org/jgroups/blocks/cs/TcpConnection.peerAddress:()Lorg/jgroups/Address;
      19: astore_3
      20: aload_0
      21: dup
      22: astore        4
      24: monitorenter
      25: aload_0
      26: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      29: aload_3
      30: invokevirtual #19                 // Method org/jgroups/blocks/cs/TcpServer.hasConnection:(Lorg/jgroups/Address;)Z
      33: istore        5
      35: iload         5
      37: ifeq          70
      40: aload_0
      41: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      44: getfield      #20                 // Field org/jgroups/blocks/cs/TcpServer.use_peer_connections:Z
      47: ifeq          70
      50: aload_0
      51: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      54: getfield      #21                 // Field org/jgroups/blocks/cs/TcpServer.local_addr:Lorg/jgroups/Address;
      57: aload_3
      58: invokeinterface #22,  2           // InterfaceMethod org/jgroups/Address.compareTo:(Ljava/lang/Object;)I
      63: ifge          70
      66: iconst_1
      67: goto          71
      70: iconst_0
      71: istore        6
      73: iload         5
      75: ifeq          83
      78: iload         6
      80: ifeq          131
      83: aload_0
      84: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
      87: aload_3
      88: aload_2
      89: invokevirtual #23                 // Method org/jgroups/blocks/cs/TcpServer.replaceConnection:(Lorg/jgroups/Address;Lorg/jgroups/blocks/cs/Connection;)V
      92: aload_2
      93: invokevirtual #24                 // Method org/jgroups/blocks/cs/TcpConnection.start:()V
      96: aload_0
      97: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
     100: getfield      #11                 // Field org/jgroups/blocks/cs/TcpServer.log:Lorg/jgroups/logging/Log;
     103: ldc           #25                 // String %s: accepted connection from %s
     105: iconst_2
     106: anewarray     #26                 // class java/lang/Object
     109: dup
     110: iconst_0
     111: aload_0
     112: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
     115: getfield      #21                 // Field org/jgroups/blocks/cs/TcpServer.local_addr:Lorg/jgroups/Address;
     118: aastore
     119: dup
     120: iconst_1
     121: aload_3
     122: aastore
     123: invokeinterface #27,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     128: goto          177
     131: aload_0
     132: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
     135: getfield      #11                 // Field org/jgroups/blocks/cs/TcpServer.log:Lorg/jgroups/logging/Log;
     138: ldc           #28                 // String %s: rejected connection from %s %s
     140: iconst_3
     141: anewarray     #26                 // class java/lang/Object
     144: dup
     145: iconst_0
     146: aload_0
     147: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/TcpServer;
     150: getfield      #21                 // Field org/jgroups/blocks/cs/TcpServer.local_addr:Lorg/jgroups/Address;
     153: aastore
     154: dup
     155: iconst_1
     156: aload_3
     157: aastore
     158: dup
     159: iconst_2
     160: iload         5
     162: iload         6
     164: invokestatic  #29                 // Method org/jgroups/blocks/cs/BaseServer.explanation:(ZZ)Ljava/lang/String;
     167: aastore
     168: invokeinterface #27,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     173: aload_2
     174: invokestatic  #15                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
     177: aload         4
     179: monitorexit
     180: goto          191
     183: astore        7
     185: aload         4
     187: monitorexit
     188: aload         7
     190: athrow
     191: goto          201
     194: astore_3
     195: aload_2
     196: invokestatic  #15                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
     199: aload_3
     200: athrow
     201: return
    Exception table:
       from    to  target type
          25   180   183   any
         183   188   183   any
           2   191   194   Class java/lang/Exception
}
