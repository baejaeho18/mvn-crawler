Compiled from "TCP_NIO2.java"
public class org.jgroups.protocols.TCP_NIO2 extends org.jgroups.protocols.BasicTCP {
  protected org.jgroups.blocks.cs.NioServer server;

  protected int max_send_buffers;

  protected int max_read_batch_size;

  public org.jgroups.protocols.TCP_NIO2();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jgroups/protocols/BasicTCP."<init>":()V
       4: aload_0
       5: iconst_5
       6: putfield      #2                  // Field max_send_buffers:I
       9: aload_0
      10: bipush        10
      12: putfield      #3                  // Field max_read_batch_size:I
      15: return

  public int getOpenConnections();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: invokevirtual #5                  // Method org/jgroups/blocks/cs/NioServer.getNumConnections:()I
       7: ireturn

  public java.lang.String printConnections();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: invokevirtual #6                  // Method org/jgroups/blocks/cs/NioServer.printConnections:()Ljava/lang/String;
       7: areturn

  public java.lang.String printBuffers();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: invokevirtual #7                  // Method org/jgroups/blocks/cs/NioServer.printBuffers:()Ljava/lang/String;
       7: areturn

  public void clearConnections();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: invokevirtual #8                  // Method org/jgroups/blocks/cs/NioServer.clearConnections:()V
       7: return

  public int maxReadBatchSize();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: invokevirtual #9                  // Method org/jgroups/blocks/cs/NioServer.maxReadBatchSize:()I
       7: istore_1
       8: iload_1
       9: aload_0
      10: getfield      #3                  // Field max_read_batch_size:I
      13: if_icmpeq     21
      16: aload_0
      17: iload_1
      18: putfield      #3                  // Field max_read_batch_size:I
      21: aload_0
      22: getfield      #3                  // Field max_read_batch_size:I
      25: ireturn

  public void maxReadBatchSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #3                  // Field max_read_batch_size:I
       5: aload_0
       6: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       9: iload_1
      10: invokevirtual #10                 // Method org/jgroups/blocks/cs/NioServer.maxReadBatchSize:(I)Lorg/jgroups/blocks/cs/NioBaseServer;
      13: pop
      14: return

  public boolean isSelectorOpen();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: ifnull        21
       7: aload_0
       8: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      11: invokevirtual #11                 // Method org/jgroups/blocks/cs/NioServer.selectorOpen:()Z
      14: ifeq          21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ireturn

  public boolean isAcceptorRunning();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: ifnull        21
       7: aload_0
       8: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      11: invokevirtual #12                 // Method org/jgroups/blocks/cs/NioServer.acceptorRunning:()Z
      14: ifeq          21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ireturn

  public int numSelects();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: ifnull        17
       7: aload_0
       8: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      11: invokevirtual #13                 // Method org/jgroups/blocks/cs/NioServer.numSelects:()I
      14: goto          18
      17: iconst_m1
      18: ireturn

  public void send(org.jgroups.Address, byte[], int, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: ifnull        60
       7: aload_0
       8: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      11: aload_1
      12: aload_2
      13: iload_3
      14: iload         4
      16: invokevirtual #14                 // Method org/jgroups/blocks/cs/NioServer.send:(Lorg/jgroups/Address;[BII)V
      19: goto          60
      22: astore        5
      24: goto          60
      27: astore        5
      29: aload_0
      30: getfield      #18                 // Field log:Lorg/jgroups/logging/Log;
      33: ldc           #19                 // String %s: failed sending message to %s: %s
      35: iconst_3
      36: anewarray     #20                 // class java/lang/Object
      39: dup
      40: iconst_0
      41: aload_0
      42: getfield      #21                 // Field local_addr:Lorg/jgroups/Address;
      45: aastore
      46: dup
      47: iconst_1
      48: aload_1
      49: aastore
      50: dup
      51: iconst_2
      52: aload         5
      54: aastore
      55: invokeinterface #22,  3           // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
      60: return
    Exception table:
       from    to  target type
           7    19    22   Class java/nio/channels/ClosedChannelException
           7    19    22   Class java/nio/channels/CancelledKeyException
           7    19    27   Class java/lang/Throwable

  public void retainAll(java.util.Collection<org.jgroups.Address>);
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: aload_1
       5: invokevirtual #23                 // Method org/jgroups/blocks/cs/NioServer.retainAll:(Ljava/util/Collection;)V
       8: return

  public void start() throws java.lang.Exception;
    Code:
       0: aload_0
       1: new           #24                 // class org/jgroups/blocks/cs/NioServer
       4: dup
       5: aload_0
       6: invokevirtual #25                 // Method getThreadFactory:()Lorg/jgroups/util/ThreadFactory;
       9: aload_0
      10: getfield      #26                 // Field bind_addr:Ljava/net/InetAddress;
      13: aload_0
      14: getfield      #27                 // Field bind_port:I
      17: aload_0
      18: getfield      #27                 // Field bind_port:I
      21: aload_0
      22: getfield      #28                 // Field port_range:I
      25: iadd
      26: aload_0
      27: getfield      #29                 // Field external_addr:Ljava/net/InetAddress;
      30: aload_0
      31: getfield      #30                 // Field external_port:I
      34: invokespecial #31                 // Method org/jgroups/blocks/cs/NioServer."<init>":(Lorg/jgroups/util/ThreadFactory;Ljava/net/InetAddress;IILjava/net/InetAddress;I)V
      37: aload_0
      38: invokevirtual #32                 // Method org/jgroups/blocks/cs/NioServer.receiver:(Lorg/jgroups/blocks/cs/Receiver;)Lorg/jgroups/blocks/cs/BaseServer;
      41: aload_0
      42: getfield      #33                 // Field time_service:Lorg/jgroups/util/TimeService;
      45: invokevirtual #34                 // Method org/jgroups/blocks/cs/BaseServer.timeService:(Lorg/jgroups/util/TimeService;)Lorg/jgroups/blocks/cs/BaseServer;
      48: aload_0
      49: getfield      #35                 // Field recv_buf_size:I
      52: invokevirtual #36                 // Method org/jgroups/blocks/cs/BaseServer.receiveBufferSize:(I)Lorg/jgroups/blocks/cs/BaseServer;
      55: aload_0
      56: getfield      #37                 // Field send_buf_size:I
      59: invokevirtual #38                 // Method org/jgroups/blocks/cs/BaseServer.sendBufferSize:(I)Lorg/jgroups/blocks/cs/BaseServer;
      62: aload_0
      63: getfield      #39                 // Field sock_conn_timeout:I
      66: invokevirtual #40                 // Method org/jgroups/blocks/cs/BaseServer.socketConnectionTimeout:(I)Lorg/jgroups/blocks/cs/BaseServer;
      69: aload_0
      70: getfield      #41                 // Field tcp_nodelay:Z
      73: invokevirtual #42                 // Method org/jgroups/blocks/cs/BaseServer.tcpNodelay:(Z)Lorg/jgroups/blocks/cs/BaseServer;
      76: aload_0
      77: getfield      #43                 // Field linger:I
      80: invokevirtual #44                 // Method org/jgroups/blocks/cs/BaseServer.linger:(I)Lorg/jgroups/blocks/cs/BaseServer;
      83: aload_0
      84: getfield      #45                 // Field client_bind_addr:Ljava/net/InetAddress;
      87: invokevirtual #46                 // Method org/jgroups/blocks/cs/BaseServer.clientBindAddress:(Ljava/net/InetAddress;)Lorg/jgroups/blocks/cs/BaseServer;
      90: aload_0
      91: getfield      #47                 // Field client_bind_port:I
      94: invokevirtual #48                 // Method org/jgroups/blocks/cs/BaseServer.clientBindPort:(I)Lorg/jgroups/blocks/cs/BaseServer;
      97: aload_0
      98: getfield      #49                 // Field defer_client_bind_addr:Z
     101: invokevirtual #50                 // Method org/jgroups/blocks/cs/BaseServer.deferClientBinding:(Z)Lorg/jgroups/blocks/cs/BaseServer;
     104: aload_0
     105: getfield      #18                 // Field log:Lorg/jgroups/logging/Log;
     108: invokevirtual #51                 // Method org/jgroups/blocks/cs/BaseServer.log:(Lorg/jgroups/logging/Log;)Lorg/jgroups/blocks/cs/BaseServer;
     111: checkcast     #24                 // class org/jgroups/blocks/cs/NioServer
     114: aload_0
     115: getfield      #2                  // Field max_send_buffers:I
     118: invokevirtual #52                 // Method org/jgroups/blocks/cs/NioServer.maxSendBuffers:(I)Lorg/jgroups/blocks/cs/NioBaseServer;
     121: aload_0
     122: getfield      #3                  // Field max_read_batch_size:I
     125: invokevirtual #53                 // Method org/jgroups/blocks/cs/NioBaseServer.maxReadBatchSize:(I)Lorg/jgroups/blocks/cs/NioBaseServer;
     128: iconst_1
     129: invokevirtual #54                 // Method org/jgroups/blocks/cs/NioBaseServer.usePeerConnections:(Z)Lorg/jgroups/blocks/cs/BaseServer;
     132: checkcast     #24                 // class org/jgroups/blocks/cs/NioServer
     135: putfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
     138: aload_0
     139: getfield      #55                 // Field reaper_interval:J
     142: lconst_0
     143: lcmp
     144: ifgt          156
     147: aload_0
     148: getfield      #56                 // Field conn_expire_time:J
     151: lconst_0
     152: lcmp
     153: ifle          257
     156: aload_0
     157: getfield      #55                 // Field reaper_interval:J
     160: lconst_0
     161: lcmp
     162: ifne          197
     165: aload_0
     166: ldc2_w        #57                 // long 5000l
     169: putfield      #55                 // Field reaper_interval:J
     172: aload_0
     173: getfield      #18                 // Field log:Lorg/jgroups/logging/Log;
     176: ldc           #59                 // String reaper_interval was 0, set it to %d
     178: iconst_1
     179: anewarray     #20                 // class java/lang/Object
     182: dup
     183: iconst_0
     184: aload_0
     185: getfield      #55                 // Field reaper_interval:J
     188: invokestatic  #60                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     191: aastore
     192: invokeinterface #22,  3           // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     197: aload_0
     198: getfield      #56                 // Field conn_expire_time:J
     201: lconst_0
     202: lcmp
     203: ifne          238
     206: aload_0
     207: ldc2_w        #61                 // long 300000l
     210: putfield      #56                 // Field conn_expire_time:J
     213: aload_0
     214: getfield      #18                 // Field log:Lorg/jgroups/logging/Log;
     217: ldc           #63                 // String conn_expire_time was 0, set it to %d
     219: iconst_1
     220: anewarray     #20                 // class java/lang/Object
     223: dup
     224: iconst_0
     225: aload_0
     226: getfield      #56                 // Field conn_expire_time:J
     229: invokestatic  #60                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     232: aastore
     233: invokeinterface #22,  3           // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     238: aload_0
     239: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
     242: aload_0
     243: getfield      #56                 // Field conn_expire_time:J
     246: invokevirtual #64                 // Method org/jgroups/blocks/cs/NioServer.connExpireTimeout:(J)Lorg/jgroups/blocks/cs/BaseServer;
     249: aload_0
     250: getfield      #55                 // Field reaper_interval:J
     253: invokevirtual #65                 // Method org/jgroups/blocks/cs/BaseServer.reaperInterval:(J)Lorg/jgroups/blocks/cs/BaseServer;
     256: pop
     257: aload_0
     258: invokespecial #66                 // Method org/jgroups/protocols/BasicTCP.start:()V
     261: return

  public void stop();
    Code:
       0: aload_0
       1: getfield      #18                 // Field log:Lorg/jgroups/logging/Log;
       4: ldc           #67                 // String closing sockets and stopping threads
       6: invokeinterface #68,  2           // InterfaceMethod org/jgroups/logging/Log.debug:(Ljava/lang/String;)V
      11: aload_0
      12: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      15: invokevirtual #69                 // Method org/jgroups/blocks/cs/NioServer.stop:()V
      18: aload_0
      19: invokespecial #70                 // Method org/jgroups/protocols/BasicTCP.stop:()V
      22: return

  protected void handleConnect() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #71                 // Method isSingleton:()Z
       4: ifeq          28
       7: aload_0
       8: getfield      #72                 // Field connect_count:I
      11: ifne          21
      14: aload_0
      15: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      18: invokevirtual #73                 // Method org/jgroups/blocks/cs/NioServer.start:()V
      21: aload_0
      22: invokespecial #74                 // Method org/jgroups/protocols/BasicTCP.handleConnect:()V
      25: goto          35
      28: aload_0
      29: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      32: invokevirtual #73                 // Method org/jgroups/blocks/cs/NioServer.start:()V
      35: return

  protected void handleDisconnect();
    Code:
       0: aload_0
       1: invokevirtual #71                 // Method isSingleton:()Z
       4: ifeq          28
       7: aload_0
       8: invokespecial #75                 // Method org/jgroups/protocols/BasicTCP.handleDisconnect:()V
      11: aload_0
      12: getfield      #72                 // Field connect_count:I
      15: ifne          35
      18: aload_0
      19: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      22: invokevirtual #69                 // Method org/jgroups/blocks/cs/NioServer.stop:()V
      25: goto          35
      28: aload_0
      29: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      32: invokevirtual #69                 // Method org/jgroups/blocks/cs/NioServer.stop:()V
      35: return

  protected org.jgroups.PhysicalAddress getPhysicalAddress();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
       4: ifnull        20
       7: aload_0
       8: getfield      #4                  // Field server:Lorg/jgroups/blocks/cs/NioServer;
      11: invokevirtual #76                 // Method org/jgroups/blocks/cs/NioServer.localAddress:()Lorg/jgroups/Address;
      14: checkcast     #77                 // class org/jgroups/PhysicalAddress
      17: goto          21
      20: aconst_null
      21: areturn
}
