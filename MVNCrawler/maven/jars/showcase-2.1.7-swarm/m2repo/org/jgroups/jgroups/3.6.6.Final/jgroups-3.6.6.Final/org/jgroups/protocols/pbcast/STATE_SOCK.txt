Compiled from "STATE_SOCK.java"
public class org.jgroups.protocols.pbcast.STATE_SOCK extends org.jgroups.protocols.pbcast.StreamingStateTransfer {
  protected java.net.InetAddress bind_addr;

  protected java.net.InetAddress external_addr;

  protected int external_port;

  protected java.lang.String bind_interface_str;

  protected int bind_port;

  protected volatile org.jgroups.protocols.pbcast.STATE_SOCK$StateProviderAcceptor spawner;

  public org.jgroups.protocols.pbcast.STATE_SOCK();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/jgroups/protocols/pbcast/StreamingStateTransfer."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #3                  // Field external_addr:Ljava/net/InetAddress;
       9: aload_0
      10: iconst_0
      11: putfield      #4                  // Field external_port:I
      14: aload_0
      15: aconst_null
      16: putfield      #5                  // Field bind_interface_str:Ljava/lang/String;
      19: aload_0
      20: iconst_0
      21: putfield      #6                  // Field bind_port:I
      24: return

  public void stop();
    Code:
       0: aload_0
       1: invokespecial #7                  // Method org/jgroups/protocols/pbcast/StreamingStateTransfer.stop:()V
       4: aload_0
       5: getfield      #8                  // Field spawner:Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
       8: ifnull        18
      11: aload_0
      12: getfield      #8                  // Field spawner:Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
      15: invokevirtual #9                  // Method org/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor.stop:()V
      18: return

  protected org.jgroups.protocols.pbcast.STATE_SOCK$StateProviderAcceptor createAcceptor();
    Code:
       0: new           #10                 // class org/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor
       3: dup
       4: aload_0
       5: aload_0
       6: getfield      #11                 // Field thread_pool:Ljava/util/concurrent/ThreadPoolExecutor;
       9: aload_0
      10: invokevirtual #12                 // Method getSocketFactory:()Lorg/jgroups/util/SocketFactory;
      13: ldc           #13                 // String jgroups.streaming_state_transfer.srv_sock
      15: aload_0
      16: getfield      #14                 // Field bind_addr:Ljava/net/InetAddress;
      19: aload_0
      20: getfield      #6                  // Field bind_port:I
      23: invokestatic  #15                 // Method org/jgroups/util/Util.createServerSocket:(Lorg/jgroups/util/SocketFactory;Ljava/lang/String;Ljava/net/InetAddress;I)Ljava/net/ServerSocket;
      26: invokespecial #16                 // Method org/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor."<init>":(Lorg/jgroups/protocols/pbcast/STATE_SOCK;Ljava/util/concurrent/ExecutorService;Ljava/net/ServerSocket;)V
      29: astore_1
      30: aload_0
      31: invokevirtual #17                 // Method getThreadFactory:()Lorg/jgroups/util/ThreadFactory;
      34: aload_1
      35: ldc           #18                 // String STATE server socket acceptor
      37: invokeinterface #19,  3           // InterfaceMethod org/jgroups/util/ThreadFactory.newThread:(Ljava/lang/Runnable;Ljava/lang/String;)Ljava/lang/Thread;
      42: astore_2
      43: aload_2
      44: invokevirtual #20                 // Method java/lang/Thread.start:()V
      47: aload_1
      48: areturn

  protected void modifyStateResponseHeader(org.jgroups.protocols.pbcast.StreamingStateTransfer$StateHeader);
    Code:
       0: aload_0
       1: getfield      #8                  // Field spawner:Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
       4: ifnull        18
       7: aload_1
       8: aload_0
       9: getfield      #8                  // Field spawner:Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
      12: invokevirtual #21                 // Method org/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor.getServerSocketAddress:()Lorg/jgroups/stack/IpAddress;
      15: putfield      #22                 // Field org/jgroups/protocols/pbcast/StreamingStateTransfer$StateHeader.bind_addr:Lorg/jgroups/stack/IpAddress;
      18: return

  protected org.jgroups.util.Tuple<java.io.InputStream, java.lang.Object> createStreamToProvider(org.jgroups.Address, org.jgroups.protocols.pbcast.StreamingStateTransfer$StateHeader) throws java.lang.Exception;
    Code:
       0: aload_2
       1: getfield      #22                 // Field org/jgroups/protocols/pbcast/StreamingStateTransfer$StateHeader.bind_addr:Lorg/jgroups/stack/IpAddress;
       4: astore_3
       5: new           #23                 // class org/jgroups/util/Tuple
       8: dup
       9: aconst_null
      10: aconst_null
      11: invokespecial #24                 // Method org/jgroups/util/Tuple."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
      14: astore        4
      16: aconst_null
      17: astore        5
      19: aload_0
      20: invokevirtual #12                 // Method getSocketFactory:()Lorg/jgroups/util/SocketFactory;
      23: ldc           #25                 // String jgroups.state_sock.sock
      25: invokeinterface #26,  2           // InterfaceMethod org/jgroups/util/SocketFactory.createSocket:(Ljava/lang/String;)Ljava/net/Socket;
      30: astore        5
      32: aload         4
      34: aload         5
      36: invokevirtual #27                 // Method org/jgroups/util/Tuple.setVal2:(Ljava/lang/Object;)V
      39: aload         5
      41: new           #28                 // class java/net/InetSocketAddress
      44: dup
      45: aload_0
      46: getfield      #14                 // Field bind_addr:Ljava/net/InetAddress;
      49: iconst_0
      50: invokespecial #29                 // Method java/net/InetSocketAddress."<init>":(Ljava/net/InetAddress;I)V
      53: invokevirtual #30                 // Method java/net/Socket.bind:(Ljava/net/SocketAddress;)V
      56: aload         5
      58: aload_0
      59: getfield      #31                 // Field buffer_size:I
      62: invokevirtual #32                 // Method java/net/Socket.setReceiveBufferSize:(I)V
      65: aload         5
      67: new           #28                 // class java/net/InetSocketAddress
      70: dup
      71: aload_3
      72: invokevirtual #33                 // Method org/jgroups/stack/IpAddress.getIpAddress:()Ljava/net/InetAddress;
      75: aload_3
      76: invokevirtual #34                 // Method org/jgroups/stack/IpAddress.getPort:()I
      79: invokespecial #29                 // Method java/net/InetSocketAddress."<init>":(Ljava/net/InetAddress;I)V
      82: iconst_0
      83: invokestatic  #35                 // Method org/jgroups/util/Util.connect:(Ljava/net/Socket;Ljava/net/SocketAddress;I)V
      86: aload_0
      87: getfield      #1                  // Field log:Lorg/jgroups/logging/Log;
      90: ldc           #36                 // String %s: connected to state provider %s:%d
      92: iconst_3
      93: anewarray     #37                 // class java/lang/Object
      96: dup
      97: iconst_0
      98: aload_0
      99: getfield      #38                 // Field local_addr:Lorg/jgroups/Address;
     102: aastore
     103: dup
     104: iconst_1
     105: aload_3
     106: invokevirtual #33                 // Method org/jgroups/stack/IpAddress.getIpAddress:()Ljava/net/InetAddress;
     109: aastore
     110: dup
     111: iconst_2
     112: aload_3
     113: invokevirtual #34                 // Method org/jgroups/stack/IpAddress.getPort:()I
     116: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     119: aastore
     120: invokeinterface #40,  3           // InterfaceMethod org/jgroups/logging/Log.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     125: new           #41                 // class java/io/DataOutputStream
     128: dup
     129: aload         5
     131: invokevirtual #42                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
     134: invokespecial #43                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
     137: astore        6
     139: aload_0
     140: getfield      #38                 // Field local_addr:Lorg/jgroups/Address;
     143: aload         6
     145: invokestatic  #44                 // Method org/jgroups/util/Util.writeAddress:(Lorg/jgroups/Address;Ljava/io/DataOutput;)V
     148: aload         4
     150: new           #45                 // class java/io/BufferedInputStream
     153: dup
     154: aload         5
     156: invokevirtual #46                 // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
     159: aload_0
     160: getfield      #31                 // Field buffer_size:I
     163: invokespecial #47                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;I)V
     166: invokevirtual #48                 // Method org/jgroups/util/Tuple.setVal1:(Ljava/lang/Object;)V
     169: aload         4
     171: areturn
     172: astore        6
     174: aload         5
     176: invokestatic  #50                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
     179: aload         6
     181: instanceof    #51                 // class java/lang/Exception
     184: ifeq          193
     187: aload         6
     189: checkcast     #51                 // class java/lang/Exception
     192: athrow
     193: new           #51                 // class java/lang/Exception
     196: dup
     197: ldc           #52                 // String failed creating socket
     199: aload         6
     201: invokespecial #53                 // Method java/lang/Exception."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     204: athrow
    Exception table:
       from    to  target type
          19   171   172   Class java/lang/Throwable

  protected void close(java.lang.Object);
    Code:
       0: aload_1
       1: instanceof    #54                 // class java/net/Socket
       4: ifeq          14
       7: aload_1
       8: checkcast     #54                 // class java/net/Socket
      11: invokestatic  #50                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
      14: return

  protected void handleStateReq(org.jgroups.Address);
    Code:
       0: aload_0
       1: getfield      #8                  // Field spawner:Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
       4: ifnull        17
       7: aload_0
       8: getfield      #8                  // Field spawner:Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
      11: invokevirtual #55                 // Method org/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor.isRunning:()Z
      14: ifne          25
      17: aload_0
      18: aload_0
      19: invokevirtual #56                 // Method createAcceptor:()Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
      22: putfield      #8                  // Field spawner:Lorg/jgroups/protocols/pbcast/STATE_SOCK$StateProviderAcceptor;
      25: aload_0
      26: aload_1
      27: invokespecial #57                 // Method org/jgroups/protocols/pbcast/StreamingStateTransfer.handleStateReq:(Lorg/jgroups/Address;)V
      30: return

  protected void handleViewChange(org.jgroups.View);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #58                 // Method org/jgroups/protocols/pbcast/StreamingStateTransfer.handleViewChange:(Lorg/jgroups/View;)V
       5: aload_0
       6: getfield      #59                 // Field state_provider:Lorg/jgroups/Address;
       9: ifnull        92
      12: aload_1
      13: invokevirtual #60                 // Method org/jgroups/View.getMembers:()Ljava/util/List;
      16: aload_0
      17: getfield      #59                 // Field state_provider:Lorg/jgroups/Address;
      20: invokeinterface #61,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      25: ifne          92
      28: aload_0
      29: invokevirtual #62                 // Method openBarrierAndResumeStable:()V
      32: new           #63                 // class java/io/EOFException
      35: dup
      36: new           #64                 // class java/lang/StringBuilder
      39: dup
      40: invokespecial #65                 // Method java/lang/StringBuilder."<init>":()V
      43: ldc           #66                 // String state provider
      45: invokevirtual #67                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: aload_0
      49: getfield      #59                 // Field state_provider:Lorg/jgroups/Address;
      52: invokevirtual #68                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      55: ldc           #69                 // String  left
      57: invokevirtual #67                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      60: invokevirtual #70                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      63: invokespecial #71                 // Method java/io/EOFException."<init>":(Ljava/lang/String;)V
      66: astore_2
      67: aload_0
      68: getfield      #72                 // Field up_prot:Lorg/jgroups/stack/Protocol;
      71: new           #73                 // class org/jgroups/Event
      74: dup
      75: bipush        73
      77: new           #74                 // class org/jgroups/util/StateTransferResult
      80: dup
      81: aload_2
      82: invokespecial #75                 // Method org/jgroups/util/StateTransferResult."<init>":(Ljava/lang/Throwable;)V
      85: invokespecial #76                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
      88: invokevirtual #77                 // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/Event;)Ljava/lang/Object;
      91: pop
      92: return

  protected void handleConfig(java.util.Map<java.lang.String, java.lang.Object>);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #78                 // Method org/jgroups/protocols/pbcast/StreamingStateTransfer.handleConfig:(Ljava/util/Map;)V
       5: aload_0
       6: getfield      #14                 // Field bind_addr:Ljava/net/InetAddress;
       9: ifnonnull     27
      12: aload_0
      13: aload_1
      14: ldc           #79                 // String bind_addr
      16: invokeinterface #80,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      21: checkcast     #81                 // class java/net/InetAddress
      24: putfield      #14                 // Field bind_addr:Ljava/net/InetAddress;
      27: aload_0
      28: getfield      #3                  // Field external_addr:Ljava/net/InetAddress;
      31: ifnonnull     49
      34: aload_0
      35: aload_1
      36: ldc           #82                 // String external_addr
      38: invokeinterface #80,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      43: checkcast     #81                 // class java/net/InetAddress
      46: putfield      #3                  // Field external_addr:Ljava/net/InetAddress;
      49: aload_0
      50: getfield      #4                  // Field external_port:I
      53: ifgt          80
      56: aload_1
      57: ldc           #83                 // String external_port
      59: invokeinterface #80,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      64: astore_2
      65: aload_2
      66: ifnull        80
      69: aload_0
      70: aload_2
      71: checkcast     #84                 // class java/lang/Integer
      74: invokevirtual #85                 // Method java/lang/Integer.intValue:()I
      77: putfield      #4                  // Field external_port:I
      80: return

  static org.jgroups.logging.Log access$000(org.jgroups.protocols.pbcast.STATE_SOCK);
    Code:
       0: aload_0
       1: getfield      #1                  // Field log:Lorg/jgroups/logging/Log;
       4: areturn

  static org.jgroups.logging.Log access$100(org.jgroups.protocols.pbcast.STATE_SOCK);
    Code:
       0: aload_0
       1: getfield      #1                  // Field log:Lorg/jgroups/logging/Log;
       4: areturn

  static org.jgroups.logging.Log access$200(org.jgroups.protocols.pbcast.STATE_SOCK);
    Code:
       0: aload_0
       1: getfield      #1                  // Field log:Lorg/jgroups/logging/Log;
       4: areturn

  static org.jgroups.logging.Log access$300(org.jgroups.protocols.pbcast.STATE_SOCK);
    Code:
       0: aload_0
       1: getfield      #1                  // Field log:Lorg/jgroups/logging/Log;
       4: areturn

  static org.jgroups.logging.Log access$400(org.jgroups.protocols.pbcast.STATE_SOCK);
    Code:
       0: aload_0
       1: getfield      #1                  // Field log:Lorg/jgroups/logging/Log;
       4: areturn

  static org.jgroups.logging.Log access$500(org.jgroups.protocols.pbcast.STATE_SOCK);
    Code:
       0: aload_0
       1: getfield      #1                  // Field log:Lorg/jgroups/logging/Log;
       4: areturn
}
