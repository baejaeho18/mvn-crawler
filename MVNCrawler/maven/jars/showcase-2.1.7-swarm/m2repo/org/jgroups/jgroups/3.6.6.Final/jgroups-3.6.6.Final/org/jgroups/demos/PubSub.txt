Compiled from "PubSub.java"
public class org.jgroups.demos.PubSub {
  final java.util.Map<java.lang.String, org.jgroups.JChannel> topics;

  public org.jgroups.demos.PubSub();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/HashMap
       8: dup
       9: invokespecial #3                  // Method java/util/HashMap."<init>":()V
      12: putfield      #4                  // Field topics:Ljava/util/Map;
      15: return

  void start(java.lang.String) throws java.lang.Exception;
    Code:
       0: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #6                  // String \n========== PubSub instance started =========
       5: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
       8: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      11: ldc           #8                  // String Valid commands are:
      13: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      16: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      19: ldc           #9                  // String subscribe <topic>
      21: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      24: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      27: ldc           #10                 // String unsubscribe <topic>
      29: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      32: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      35: ldc           #11                 // String exit
      37: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      40: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      43: ldc           #12                 // String print (prints all topics)
      45: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      48: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      51: ldc           #13                 // String <topic>: <message>\n\n
      53: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      56: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      59: ldc           #14                 // String Example
      61: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      64: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      67: ldc           #15                 // String subscribe one\nsubscribe two\none: hello world\n\n
      69: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      72: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      75: ldc           #16                 // String >
      77: invokevirtual #17                 // Method java/io/PrintStream.print:(Ljava/lang/String;)V
      80: getstatic     #18                 // Field java/lang/System.in:Ljava/io/InputStream;
      83: invokestatic  #19                 // Method org/jgroups/util/Util.readLine:(Ljava/io/InputStream;)Ljava/lang/String;
      86: invokevirtual #20                 // Method java/lang/String.trim:()Ljava/lang/String;
      89: astore_2
      90: aload_2
      91: ldc           #21                 // String subscribe
      93: invokevirtual #22                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      96: ifeq          211
      99: aload_2
     100: ldc           #21                 // String subscribe
     102: invokevirtual #23                 // Method java/lang/String.length:()I
     105: invokevirtual #24                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     108: invokevirtual #20                 // Method java/lang/String.trim:()Ljava/lang/String;
     111: astore_3
     112: aload_0
     113: getfield      #4                  // Field topics:Ljava/util/Map;
     116: aload_3
     117: invokeinterface #25,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     122: ifne          72
     125: ldc           #26                 // String pubsub
     127: aload_1
     128: invokestatic  #27                 // Method createSharedChannel:(Ljava/lang/String;Ljava/lang/String;)Lorg/jgroups/JChannel;
     131: astore        4
     133: aload         4
     135: new           #28                 // class org/jgroups/demos/PubSub$1
     138: dup
     139: aload_0
     140: aload_3
     141: invokespecial #29                 // Method org/jgroups/demos/PubSub$1."<init>":(Lorg/jgroups/demos/PubSub;Ljava/lang/String;)V
     144: invokevirtual #30                 // Method org/jgroups/JChannel.setReceiver:(Lorg/jgroups/Receiver;)V
     147: aload         4
     149: aload_3
     150: invokevirtual #31                 // Method org/jgroups/JChannel.connect:(Ljava/lang/String;)V
     153: aload_0
     154: getfield      #4                  // Field topics:Ljava/util/Map;
     157: aload_3
     158: aload         4
     160: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     165: pop
     166: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
     169: new           #33                 // class java/lang/StringBuilder
     172: dup
     173: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
     176: ldc           #35                 // String subscribed to topic \"
     178: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     181: aload_3
     182: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     185: ldc           #37                 // String \"; current subscriptions:
     187: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     190: aload_0
     191: getfield      #4                  // Field topics:Ljava/util/Map;
     194: invokeinterface #38,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     199: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     202: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     205: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     208: goto          72
     211: aload_2
     212: ldc           #41                 // String unsubscribe
     214: invokevirtual #22                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     217: ifeq          336
     220: aload_2
     221: ldc           #41                 // String unsubscribe
     223: invokevirtual #23                 // Method java/lang/String.length:()I
     226: invokevirtual #24                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     229: invokevirtual #20                 // Method java/lang/String.trim:()Ljava/lang/String;
     232: astore_3
     233: aload_0
     234: getfield      #4                  // Field topics:Ljava/util/Map;
     237: aload_3
     238: invokeinterface #42,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     243: checkcast     #43                 // class org/jgroups/JChannel
     246: astore        4
     248: aload         4
     250: ifnonnull     286
     253: getstatic     #44                 // Field java/lang/System.err:Ljava/io/PrintStream;
     256: new           #33                 // class java/lang/StringBuilder
     259: dup
     260: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
     263: ldc           #45                 // String Topic \"
     265: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     268: aload_3
     269: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     272: ldc           #46                 // String \" not found
     274: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     277: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     280: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     283: goto          72
     286: aload         4
     288: invokestatic  #47                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
     291: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
     294: new           #33                 // class java/lang/StringBuilder
     297: dup
     298: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
     301: ldc           #48                 // String unsubscribed from topic \"
     303: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     306: aload_3
     307: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     310: ldc           #37                 // String \"; current subscriptions:
     312: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     315: aload_0
     316: getfield      #4                  // Field topics:Ljava/util/Map;
     319: invokeinterface #38,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     324: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     327: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     330: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     333: goto          72
     336: aload_2
     337: ldc           #11                 // String exit
     339: invokevirtual #22                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     342: ifeq          348
     345: goto          567
     348: aload_2
     349: ldc           #49                 // String print
     351: invokevirtual #22                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     354: ifeq          393
     357: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
     360: new           #33                 // class java/lang/StringBuilder
     363: dup
     364: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
     367: ldc           #50                 // String topics:
     369: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     372: aload_0
     373: getfield      #4                  // Field topics:Ljava/util/Map;
     376: invokeinterface #38,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     381: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     384: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     387: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     390: goto          72
     393: aload_2
     394: ldc           #51                 // String :
     396: invokevirtual #52                 // Method java/lang/String.indexOf:(Ljava/lang/String;)I
     399: istore_3
     400: iload_3
     401: iconst_m1
     402: if_icmpne     468
     405: aload_0
     406: getfield      #4                  // Field topics:Ljava/util/Map;
     409: invokeinterface #53,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     414: invokeinterface #54,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     419: astore        4
     421: aload         4
     423: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     428: ifeq          465
     431: aload         4
     433: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     438: checkcast     #43                 // class org/jgroups/JChannel
     441: astore        5
     443: new           #57                 // class org/jgroups/Message
     446: dup
     447: aconst_null
     448: aconst_null
     449: aload_2
     450: invokespecial #58                 // Method org/jgroups/Message."<init>":(Lorg/jgroups/Address;Lorg/jgroups/Address;Ljava/lang/Object;)V
     453: astore        6
     455: aload         5
     457: aload         6
     459: invokevirtual #59                 // Method org/jgroups/JChannel.send:(Lorg/jgroups/Message;)V
     462: goto          421
     465: goto          72
     468: aload_2
     469: iconst_0
     470: iload_3
     471: invokevirtual #60                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     474: invokevirtual #20                 // Method java/lang/String.trim:()Ljava/lang/String;
     477: astore        4
     479: aload_2
     480: iload_3
     481: invokevirtual #24                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     484: invokevirtual #20                 // Method java/lang/String.trim:()Ljava/lang/String;
     487: astore        5
     489: aload_0
     490: getfield      #4                  // Field topics:Ljava/util/Map;
     493: aload         4
     495: invokeinterface #61,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     500: checkcast     #43                 // class org/jgroups/JChannel
     503: astore        6
     505: aload         6
     507: ifnonnull     544
     510: getstatic     #44                 // Field java/lang/System.err:Ljava/io/PrintStream;
     513: new           #33                 // class java/lang/StringBuilder
     516: dup
     517: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
     520: ldc           #62                 // String sending to topic \"
     522: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     525: aload         4
     527: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     530: ldc           #63                 // String \" failed as topic doesn\'t exist, subscribe first
     532: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     535: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     538: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     541: goto          72
     544: new           #57                 // class org/jgroups/Message
     547: dup
     548: aconst_null
     549: aconst_null
     550: aload         5
     552: invokespecial #58                 // Method org/jgroups/Message."<init>":(Lorg/jgroups/Address;Lorg/jgroups/Address;Ljava/lang/Object;)V
     555: astore        7
     557: aload         6
     559: aload         7
     561: invokevirtual #59                 // Method org/jgroups/JChannel.send:(Lorg/jgroups/Message;)V
     564: goto          72
     567: aload_0
     568: getfield      #4                  // Field topics:Ljava/util/Map;
     571: invokeinterface #53,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     576: invokeinterface #54,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     581: astore_2
     582: aload_2
     583: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     588: ifeq          608
     591: aload_2
     592: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     597: checkcast     #43                 // class org/jgroups/JChannel
     600: astore_3
     601: aload_3
     602: invokestatic  #47                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
     605: goto          582
     608: return

  private static org.jgroups.JChannel createSharedChannel(java.lang.String, java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokestatic  #64                 // Method org/jgroups/conf/ConfiguratorFactory.getStackConfigurator:(Ljava/lang/String;)Lorg/jgroups/conf/ProtocolStackConfigurator;
       4: astore_2
       5: aload_2
       6: invokeinterface #65,  1           // InterfaceMethod org/jgroups/conf/ProtocolStackConfigurator.getProtocolStack:()Ljava/util/List;
      11: astore_3
      12: aload_3
      13: iconst_0
      14: invokeinterface #66,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      19: checkcast     #67                 // class org/jgroups/conf/ProtocolConfiguration
      22: astore        4
      24: aload         4
      26: invokevirtual #68                 // Method org/jgroups/conf/ProtocolConfiguration.getProperties:()Ljava/util/Map;
      29: ldc           #69                 // String singleton_name
      31: aload_0
      32: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      37: pop
      38: new           #43                 // class org/jgroups/JChannel
      41: dup
      42: aload_2
      43: invokespecial #70                 // Method org/jgroups/JChannel."<init>":(Lorg/jgroups/conf/ProtocolStackConfigurator;)V
      46: areturn

  public static void main(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_1
       2: iconst_0
       3: istore_2
       4: iload_2
       5: aload_0
       6: arraylength
       7: if_icmpge     41
      10: aload_0
      11: iload_2
      12: aaload
      13: ldc           #71                 // String -props
      15: invokevirtual #72                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      18: ifeq          31
      21: aload_0
      22: iinc          2, 1
      25: iload_2
      26: aaload
      27: astore_1
      28: goto          35
      31: invokestatic  #73                 // Method help:()V
      34: return
      35: iinc          2, 1
      38: goto          4
      41: new           #74                 // class org/jgroups/demos/PubSub
      44: dup
      45: invokespecial #75                 // Method "<init>":()V
      48: aload_1
      49: invokevirtual #76                 // Method start:(Ljava/lang/String;)V
      52: return

  protected static void help();
    Code:
       0: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #77                 // String PubSub [-props props]
       5: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
       8: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      11: ldc           #8                  // String Valid commands are:
      13: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      16: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      19: ldc           #9                  // String subscribe <topic>
      21: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      24: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      27: ldc           #10                 // String unsubscribe <topic>
      29: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      32: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      35: ldc           #11                 // String exit
      37: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      40: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      43: ldc           #12                 // String print (prints all topics)
      45: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      48: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      51: ldc           #13                 // String <topic>: <message>\n\n
      53: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      56: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      59: ldc           #14                 // String Example
      61: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      64: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
      67: ldc           #78                 // String subscribe one\nsubscribe two\none: hello world
      69: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      72: return
}
