Compiled from "TP.java"
public class org.jgroups.protocols.TP$BaseBundler implements org.jgroups.protocols.TP$Bundler {
  final java.util.Map<org.jgroups.util.SingletonAddress, java.util.List<org.jgroups.Message>> msgs;

  long count;

  final java.util.concurrent.locks.ReentrantLock lock;

  final org.jgroups.protocols.TP this$0;

  protected org.jgroups.protocols.TP$BaseBundler(org.jgroups.protocols.TP);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #3                  // class java/util/HashMap
      13: dup
      14: bipush        24
      16: invokespecial #4                  // Method java/util/HashMap."<init>":(I)V
      19: putfield      #5                  // Field msgs:Ljava/util/Map;
      22: aload_0
      23: new           #6                  // class java/util/concurrent/locks/ReentrantLock
      26: dup
      27: invokespecial #7                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      30: putfield      #8                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      33: return

  public void start();
    Code:
       0: return

  public void stop();
    Code:
       0: return

  public void send(org.jgroups.Message) throws java.lang.Exception;
    Code:
       0: return

  protected void sendBundledMessages();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
       4: invokestatic  #9                  // Method org/jgroups/protocols/TP.access$700:(Lorg/jgroups/protocols/TP;)Lorg/jgroups/logging/Log;
       7: invokeinterface #10,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      12: ifeq          117
      15: ldc2_w        #11                 // double 100.0d
      18: aload_0
      19: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      22: getfield      #13                 // Field org/jgroups/protocols/TP.max_bundle_size:I
      25: i2d
      26: ddiv
      27: aload_0
      28: getfield      #14                 // Field count:J
      31: l2d
      32: dmul
      33: dstore_1
      34: aload_0
      35: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      38: invokestatic  #15                 // Method org/jgroups/protocols/TP.access$800:(Lorg/jgroups/protocols/TP;)Lorg/jgroups/logging/Log;
      41: ldc           #16                 // String %s: sending %d msgs (%d bytes (%.2f%% of max_bundle_size) to %d dests(s): %s
      43: bipush        6
      45: anewarray     #17                 // class java/lang/Object
      48: dup
      49: iconst_0
      50: aload_0
      51: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      54: getfield      #18                 // Field org/jgroups/protocols/TP.local_addr:Lorg/jgroups/Address;
      57: aastore
      58: dup
      59: iconst_1
      60: aload_0
      61: invokevirtual #19                 // Method numMessages:()I
      64: invokestatic  #20                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      67: aastore
      68: dup
      69: iconst_2
      70: aload_0
      71: getfield      #14                 // Field count:J
      74: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      77: aastore
      78: dup
      79: iconst_3
      80: dload_1
      81: invokestatic  #22                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      84: aastore
      85: dup
      86: iconst_4
      87: aload_0
      88: getfield      #5                  // Field msgs:Ljava/util/Map;
      91: invokeinterface #23,  1           // InterfaceMethod java/util/Map.size:()I
      96: invokestatic  #20                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      99: aastore
     100: dup
     101: iconst_5
     102: aload_0
     103: getfield      #5                  // Field msgs:Ljava/util/Map;
     106: invokeinterface #24,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     111: aastore
     112: invokeinterface #25,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     117: aload_0
     118: getfield      #5                  // Field msgs:Ljava/util/Map;
     121: invokeinterface #26,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     126: invokeinterface #27,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     131: astore_1
     132: aload_1
     133: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     138: ifeq          265
     141: aload_1
     142: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     147: checkcast     #30                 // class java/util/Map$Entry
     150: astore_2
     151: aload_2
     152: invokeinterface #31,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     157: checkcast     #32                 // class java/util/List
     160: astore_3
     161: aload_3
     162: invokeinterface #33,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     167: ifeq          173
     170: goto          132
     173: aload_3
     174: invokeinterface #34,  1           // InterfaceMethod java/util/List.size:()I
     179: iconst_1
     180: if_icmpne     200
     183: aload_0
     184: aload_3
     185: iconst_0
     186: invokeinterface #35,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     191: checkcast     #36                 // class org/jgroups/Message
     194: invokevirtual #37                 // Method sendSingleMessage:(Lorg/jgroups/Message;)V
     197: goto          262
     200: aload_2
     201: invokeinterface #38,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     206: checkcast     #39                 // class org/jgroups/util/SingletonAddress
     209: astore        4
     211: aload_0
     212: aload         4
     214: invokevirtual #40                 // Method org/jgroups/util/SingletonAddress.getAddress:()Lorg/jgroups/Address;
     217: aload_3
     218: iconst_0
     219: invokeinterface #35,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     224: checkcast     #36                 // class org/jgroups/Message
     227: invokevirtual #41                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
     230: aload         4
     232: invokevirtual #42                 // Method org/jgroups/util/SingletonAddress.getClusterName:()[B
     235: aload_3
     236: invokevirtual #43                 // Method sendMessageList:(Lorg/jgroups/Address;Lorg/jgroups/Address;[BLjava/util/List;)V
     239: aload_0
     240: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     243: invokestatic  #44                 // Method org/jgroups/protocols/TP.access$900:(Lorg/jgroups/protocols/TP;)Z
     246: ifeq          262
     249: aload_0
     250: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     253: dup
     254: getfield      #45                 // Field org/jgroups/protocols/TP.num_batches_sent:J
     257: lconst_1
     258: ladd
     259: putfield      #45                 // Field org/jgroups/protocols/TP.num_batches_sent:J
     262: goto          132
     265: aload_0
     266: getfield      #5                  // Field msgs:Ljava/util/Map;
     269: invokeinterface #46,  1           // InterfaceMethod java/util/Map.clear:()V
     274: aload_0
     275: lconst_0
     276: putfield      #14                 // Field count:J
     279: return

  protected int numMessages();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #5                  // Field msgs:Ljava/util/Map;
       6: invokeinterface #47,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      11: astore_2
      12: aload_2
      13: invokeinterface #48,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      18: astore_3
      19: aload_3
      20: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      25: ifeq          52
      28: aload_3
      29: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #32                 // class java/util/List
      37: astore        4
      39: iload_1
      40: aload         4
      42: invokeinterface #34,  1           // InterfaceMethod java/util/List.size:()I
      47: iadd
      48: istore_1
      49: goto          19
      52: iload_1
      53: ireturn

  protected void sendSingleMessage(org.jgroups.Message);
    Code:
       0: aload_1
       1: invokevirtual #49                 // Method org/jgroups/Message.getDest:()Lorg/jgroups/Address;
       4: astore_2
       5: aload_0
       6: getfield      #14                 // Field count:J
       9: lconst_0
      10: lcmp
      11: ifle          25
      14: aload_0
      15: getfield      #14                 // Field count:J
      18: ldc2_w        #50                 // long 3l
      21: ladd
      22: goto          33
      25: aload_1
      26: invokevirtual #52                 // Method org/jgroups/Message.size:()J
      29: ldc2_w        #50                 // long 3l
      32: ladd
      33: l2i
      34: istore_3
      35: new           #53                 // class org/jgroups/util/ByteArrayDataOutputStream
      38: dup
      39: iload_3
      40: invokespecial #54                 // Method org/jgroups/util/ByteArrayDataOutputStream."<init>":(I)V
      43: astore        4
      45: aload_1
      46: aload         4
      48: aload_2
      49: ifnonnull     56
      52: iconst_1
      53: goto          57
      56: iconst_0
      57: invokestatic  #55                 // Method org/jgroups/protocols/TP.writeMessage:(Lorg/jgroups/Message;Ljava/io/DataOutput;Z)V
      60: aload_0
      61: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      64: aload_0
      65: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      68: aload_1
      69: invokevirtual #56                 // Method org/jgroups/protocols/TP.getClusterName:(Lorg/jgroups/Message;)Lorg/jgroups/util/AsciiString;
      72: aload         4
      74: invokevirtual #57                 // Method org/jgroups/util/ByteArrayDataOutputStream.buffer:()[B
      77: iconst_0
      78: aload         4
      80: invokevirtual #58                 // Method org/jgroups/util/ByteArrayDataOutputStream.position:()I
      83: aload_2
      84: invokevirtual #59                 // Method org/jgroups/protocols/TP.doSend:(Lorg/jgroups/util/AsciiString;[BIILorg/jgroups/Address;)V
      87: aload_0
      88: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      91: invokestatic  #60                 // Method org/jgroups/protocols/TP.access$1000:(Lorg/jgroups/protocols/TP;)Z
      94: ifeq          110
      97: aload_0
      98: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     101: dup
     102: getfield      #61                 // Field org/jgroups/protocols/TP.num_single_msgs_sent:J
     105: lconst_1
     106: ladd
     107: putfield      #61                 // Field org/jgroups/protocols/TP.num_single_msgs_sent:J
     110: goto          258
     113: astore        5
     115: aload_0
     116: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     119: invokestatic  #63                 // Method org/jgroups/protocols/TP.access$1100:(Lorg/jgroups/protocols/TP;)Lorg/jgroups/logging/Log;
     122: ldc           #64                 // String SendFailure
     124: invokestatic  #65                 // Method org/jgroups/util/Util.getMessage:(Ljava/lang/String;)Ljava/lang/String;
     127: iconst_5
     128: anewarray     #17                 // class java/lang/Object
     131: dup
     132: iconst_0
     133: aload_0
     134: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     137: getfield      #18                 // Field org/jgroups/protocols/TP.local_addr:Lorg/jgroups/Address;
     140: aastore
     141: dup
     142: iconst_1
     143: aload_2
     144: ifnonnull     152
     147: ldc           #66                 // String cluster
     149: goto          153
     152: aload_2
     153: aastore
     154: dup
     155: iconst_2
     156: aload_1
     157: invokevirtual #52                 // Method org/jgroups/Message.size:()J
     160: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     163: aastore
     164: dup
     165: iconst_3
     166: aload         5
     168: invokevirtual #67                 // Method java/net/SocketException.toString:()Ljava/lang/String;
     171: aastore
     172: dup
     173: iconst_4
     174: aload_1
     175: invokevirtual #68                 // Method org/jgroups/Message.printHeaders:()Ljava/lang/String;
     178: aastore
     179: invokeinterface #25,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     184: goto          258
     187: astore        5
     189: aload_0
     190: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     193: invokestatic  #70                 // Method org/jgroups/protocols/TP.access$1200:(Lorg/jgroups/protocols/TP;)Lorg/jgroups/logging/Log;
     196: ldc           #64                 // String SendFailure
     198: invokestatic  #65                 // Method org/jgroups/util/Util.getMessage:(Ljava/lang/String;)Ljava/lang/String;
     201: iconst_5
     202: anewarray     #17                 // class java/lang/Object
     205: dup
     206: iconst_0
     207: aload_0
     208: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     211: getfield      #18                 // Field org/jgroups/protocols/TP.local_addr:Lorg/jgroups/Address;
     214: aastore
     215: dup
     216: iconst_1
     217: aload_2
     218: ifnonnull     226
     221: ldc           #66                 // String cluster
     223: goto          227
     226: aload_2
     227: aastore
     228: dup
     229: iconst_2
     230: aload_1
     231: invokevirtual #52                 // Method org/jgroups/Message.size:()J
     234: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     237: aastore
     238: dup
     239: iconst_3
     240: aload         5
     242: invokevirtual #71                 // Method java/lang/Throwable.toString:()Ljava/lang/String;
     245: aastore
     246: dup
     247: iconst_4
     248: aload_1
     249: invokevirtual #68                 // Method org/jgroups/Message.printHeaders:()Ljava/lang/String;
     252: aastore
     253: invokeinterface #72,  3           // InterfaceMethod org/jgroups/logging/Log.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     258: return
    Exception table:
       from    to  target type
          45   110   113   Class java/net/SocketException
          45   110   187   Class java/lang/Throwable

  protected void sendMessageList(org.jgroups.Address, org.jgroups.Address, byte[], java.util.List<org.jgroups.Message>);
    Code:
       0: new           #53                 // class org/jgroups/util/ByteArrayDataOutputStream
       3: dup
       4: aload_0
       5: getfield      #14                 // Field count:J
       8: l2i
       9: invokespecial #54                 // Method org/jgroups/util/ByteArrayDataOutputStream."<init>":(I)V
      12: astore        5
      14: aload_1
      15: aload_2
      16: aload_3
      17: aload         4
      19: aload         5
      21: aload_1
      22: ifnonnull     29
      25: iconst_1
      26: goto          30
      29: iconst_0
      30: aload_0
      31: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      34: invokestatic  #73                 // Method org/jgroups/protocols/TP.access$1300:(Lorg/jgroups/protocols/TP;)S
      37: invokestatic  #74                 // Method org/jgroups/protocols/TP.writeMessageList:(Lorg/jgroups/Address;Lorg/jgroups/Address;[BLjava/util/List;Ljava/io/DataOutput;ZS)V
      40: aload_0
      41: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      44: aload_0
      45: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      48: invokevirtual #75                 // Method org/jgroups/protocols/TP.isSingleton:()Z
      51: ifeq          65
      54: new           #76                 // class org/jgroups/util/AsciiString
      57: dup
      58: aload_3
      59: invokespecial #77                 // Method org/jgroups/util/AsciiString."<init>":([B)V
      62: goto          66
      65: aconst_null
      66: aload         5
      68: invokevirtual #57                 // Method org/jgroups/util/ByteArrayDataOutputStream.buffer:()[B
      71: iconst_0
      72: aload         5
      74: invokevirtual #58                 // Method org/jgroups/util/ByteArrayDataOutputStream.position:()I
      77: aload_1
      78: invokevirtual #59                 // Method org/jgroups/protocols/TP.doSend:(Lorg/jgroups/util/AsciiString;[BIILorg/jgroups/Address;)V
      81: goto          163
      84: astore        6
      86: aload_0
      87: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      90: invokestatic  #78                 // Method org/jgroups/protocols/TP.access$1400:(Lorg/jgroups/protocols/TP;)Lorg/jgroups/logging/Log;
      93: ldc           #79                 // String FailureSendingMsgBundle
      95: invokestatic  #65                 // Method org/jgroups/util/Util.getMessage:(Ljava/lang/String;)Ljava/lang/String;
      98: iconst_2
      99: anewarray     #17                 // class java/lang/Object
     102: dup
     103: iconst_0
     104: aload_0
     105: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     108: getfield      #18                 // Field org/jgroups/protocols/TP.local_addr:Lorg/jgroups/Address;
     111: aastore
     112: dup
     113: iconst_1
     114: aload         6
     116: aastore
     117: invokeinterface #80,  3           // InterfaceMethod org/jgroups/logging/Log.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     122: goto          163
     125: astore        6
     127: aload_0
     128: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     131: invokestatic  #81                 // Method org/jgroups/protocols/TP.access$1500:(Lorg/jgroups/protocols/TP;)Lorg/jgroups/logging/Log;
     134: ldc           #79                 // String FailureSendingMsgBundle
     136: invokestatic  #65                 // Method org/jgroups/util/Util.getMessage:(Ljava/lang/String;)Ljava/lang/String;
     139: iconst_2
     140: anewarray     #17                 // class java/lang/Object
     143: dup
     144: iconst_0
     145: aload_0
     146: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
     149: getfield      #18                 // Field org/jgroups/protocols/TP.local_addr:Lorg/jgroups/Address;
     152: aastore
     153: dup
     154: iconst_1
     155: aload         6
     157: aastore
     158: invokeinterface #72,  3           // InterfaceMethod org/jgroups/logging/Log.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     163: return
    Exception table:
       from    to  target type
          14    81    84   Class java/net/SocketException
          14    81   125   Class java/lang/Throwable

  protected void addMessage(org.jgroups.Message, long);
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
       4: invokevirtual #75                 // Method org/jgroups/protocols/TP.isSingleton:()Z
       7: ifne          23
      10: aload_0
      11: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      14: getfield      #82                 // Field org/jgroups/protocols/TP.cluster_name:Lorg/jgroups/util/AsciiString;
      17: invokevirtual #83                 // Method org/jgroups/util/AsciiString.chars:()[B
      20: goto          40
      23: aload_1
      24: aload_0
      25: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/TP;
      28: invokestatic  #84                 // Method org/jgroups/protocols/TP.access$1600:(Lorg/jgroups/protocols/TP;)S
      31: invokevirtual #85                 // Method org/jgroups/Message.getHeader:(S)Lorg/jgroups/Header;
      34: checkcast     #86                 // class org/jgroups/protocols/TpHeader
      37: getfield      #87                 // Field org/jgroups/protocols/TpHeader.cluster_name:[B
      40: astore        4
      42: new           #39                 // class org/jgroups/util/SingletonAddress
      45: dup
      46: aload         4
      48: aload_1
      49: invokevirtual #49                 // Method org/jgroups/Message.getDest:()Lorg/jgroups/Address;
      52: invokespecial #88                 // Method org/jgroups/util/SingletonAddress."<init>":([BLorg/jgroups/Address;)V
      55: astore        5
      57: aload_0
      58: getfield      #5                  // Field msgs:Ljava/util/Map;
      61: aload         5
      63: invokeinterface #89,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      68: checkcast     #32                 // class java/util/List
      71: astore        6
      73: aload         6
      75: ifnonnull     101
      78: new           #90                 // class java/util/LinkedList
      81: dup
      82: invokespecial #91                 // Method java/util/LinkedList."<init>":()V
      85: astore        6
      87: aload_0
      88: getfield      #5                  // Field msgs:Ljava/util/Map;
      91: aload         5
      93: aload         6
      95: invokeinterface #92,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     100: pop
     101: aload         6
     103: aload_1
     104: invokeinterface #93,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     109: pop
     110: aload_0
     111: dup
     112: getfield      #14                 // Field count:J
     115: lload_2
     116: ladd
     117: putfield      #14                 // Field count:J
     120: return
}
