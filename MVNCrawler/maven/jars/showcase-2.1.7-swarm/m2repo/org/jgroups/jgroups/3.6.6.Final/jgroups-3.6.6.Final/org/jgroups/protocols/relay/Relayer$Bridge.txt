Compiled from "Relayer.java"
public class org.jgroups.protocols.relay.Relayer$Bridge extends org.jgroups.ReceiverAdapter {
  protected org.jgroups.JChannel channel;

  protected final java.lang.String cluster_name;

  protected org.jgroups.View view;

  final org.jgroups.protocols.relay.Relayer this$0;

  protected org.jgroups.protocols.relay.Relayer$Bridge(org.jgroups.protocols.relay.Relayer, org.jgroups.JChannel, java.lang.String, java.lang.String, org.jgroups.stack.AddressGenerator) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
       5: aload_0
       6: invokespecial #2                  // Method org/jgroups/ReceiverAdapter."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      14: aload_0
      15: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      18: aload         4
      20: invokevirtual #4                  // Method org/jgroups/JChannel.setName:(Ljava/lang/String;)V
      23: aload_0
      24: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      27: aload_0
      28: invokevirtual #5                  // Method org/jgroups/JChannel.setReceiver:(Lorg/jgroups/Receiver;)V
      31: aload_0
      32: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      35: aload         5
      37: invokevirtual #6                  // Method org/jgroups/JChannel.addAddressGenerator:(Lorg/jgroups/stack/AddressGenerator;)V
      40: aload_0
      41: aload_3
      42: putfield      #7                  // Field cluster_name:Ljava/lang/String;
      45: return

  protected void start() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
       4: aload_0
       5: getfield      #7                  // Field cluster_name:Ljava/lang/String;
       8: invokevirtual #8                  // Method org/jgroups/JChannel.connect:(Ljava/lang/String;)V
      11: aload_0
      12: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
      15: getfield      #9                  // Field org/jgroups/protocols/relay/Relayer.log:Lorg/jgroups/logging/Log;
      18: ldc           #10                 // String %s: joined bridge cluster \'%s\'
      20: iconst_2
      21: anewarray     #11                 // class java/lang/Object
      24: dup
      25: iconst_0
      26: aload_0
      27: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      30: invokevirtual #12                 // Method org/jgroups/JChannel.getAddress:()Lorg/jgroups/Address;
      33: aastore
      34: dup
      35: iconst_1
      36: aload_0
      37: getfield      #7                  // Field cluster_name:Ljava/lang/String;
      40: aastore
      41: invokeinterface #13,  3           // InterfaceMethod org/jgroups/logging/Log.info:(Ljava/lang/String;[Ljava/lang/Object;)V
      46: return

  protected void stop();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
       4: getfield      #9                  // Field org/jgroups/protocols/relay/Relayer.log:Lorg/jgroups/logging/Log;
       7: ldc           #14                 // String %s: leaving bridge cluster \'%s\'
       9: iconst_2
      10: anewarray     #11                 // class java/lang/Object
      13: dup
      14: iconst_0
      15: aload_0
      16: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      19: invokevirtual #12                 // Method org/jgroups/JChannel.getAddress:()Lorg/jgroups/Address;
      22: aastore
      23: dup
      24: iconst_1
      25: aload_0
      26: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      29: invokevirtual #15                 // Method org/jgroups/JChannel.getClusterName:()Ljava/lang/String;
      32: aastore
      33: invokeinterface #13,  3           // InterfaceMethod org/jgroups/logging/Log.info:(Ljava/lang/String;[Ljava/lang/Object;)V
      38: aload_0
      39: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      42: invokestatic  #16                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
      45: return

  public void receive(org.jgroups.Message);
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
       5: getfield      #17                 // Field org/jgroups/protocols/relay/Relayer.relay:Lorg/jgroups/protocols/relay/RELAY2;
       8: invokevirtual #18                 // Method org/jgroups/protocols/relay/RELAY2.getId:()S
      11: invokevirtual #19                 // Method org/jgroups/Message.getHeader:(S)Lorg/jgroups/Header;
      14: checkcast     #20                 // class org/jgroups/protocols/relay/RELAY2$Relay2Header
      17: astore_2
      18: aload_2
      19: ifnonnull     37
      22: aload_0
      23: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
      26: getfield      #9                  // Field org/jgroups/protocols/relay/Relayer.log:Lorg/jgroups/logging/Log;
      29: ldc           #21                 // String received a message without a relay header; discarding it
      31: invokeinterface #22,  2           // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;)V
      36: return
      37: aload_0
      38: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
      41: getfield      #17                 // Field org/jgroups/protocols/relay/Relayer.relay:Lorg/jgroups/protocols/relay/RELAY2;
      44: aload_2
      45: aload_1
      46: invokevirtual #23                 // Method org/jgroups/protocols/relay/RELAY2.handleRelayMessage:(Lorg/jgroups/protocols/relay/RELAY2$Relay2Header;Lorg/jgroups/Message;)V
      49: return

  public void viewAccepted(org.jgroups.View);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #24                 // Field view:Lorg/jgroups/View;
       5: aload_0
       6: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
       9: getfield      #9                  // Field org/jgroups/protocols/relay/Relayer.log:Lorg/jgroups/logging/Log;
      12: new           #25                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #27                 // String [Relayer
      21: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
      28: invokevirtual #12                 // Method org/jgroups/JChannel.getAddress:()Lorg/jgroups/Address;
      31: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      34: ldc           #30                 // String ] view:
      36: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_1
      40: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      43: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: invokeinterface #32,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      51: aload_0
      52: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
      55: getfield      #17                 // Field org/jgroups/protocols/relay/Relayer.relay:Lorg/jgroups/protocols/relay/RELAY2;
      58: invokevirtual #33                 // Method org/jgroups/protocols/relay/RELAY2.getRouteStatusListener:()Lorg/jgroups/protocols/relay/RouteStatusListener;
      61: astore_2
      62: aload_0
      63: aload_1
      64: invokevirtual #34                 // Method extract:(Lorg/jgroups/View;)Ljava/util/Map;
      67: astore_3
      68: aload_2
      69: ifnull        94
      72: new           #35                 // class java/util/HashSet
      75: dup
      76: aload_0
      77: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
      80: getfield      #36                 // Field org/jgroups/protocols/relay/Relayer.routes:Ljava/util/concurrent/ConcurrentMap;
      83: invokeinterface #37,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      88: invokespecial #38                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      91: goto          95
      94: aconst_null
      95: astore        4
      97: aload_2
      98: ifnull        111
     101: new           #35                 // class java/util/HashSet
     104: dup
     105: invokespecial #39                 // Method java/util/HashSet."<init>":()V
     108: goto          112
     111: aconst_null
     112: astore        5
     114: aload_2
     115: ifnull        132
     118: aload         4
     120: aload_3
     121: invokeinterface #40,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     126: invokeinterface #41,  2           // InterfaceMethod java/util/Set.removeAll:(Ljava/util/Collection;)Z
     131: pop
     132: aload_0
     133: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
     136: getfield      #36                 // Field org/jgroups/protocols/relay/Relayer.routes:Ljava/util/concurrent/ConcurrentMap;
     139: invokeinterface #37,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
     144: aload_3
     145: invokeinterface #40,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     150: invokeinterface #42,  2           // InterfaceMethod java/util/Set.retainAll:(Ljava/util/Collection;)Z
     155: pop
     156: aload_3
     157: invokeinterface #43,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     162: invokeinterface #44,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     167: astore        6
     169: aload         6
     171: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     176: ifeq          466
     179: aload         6
     181: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     186: checkcast     #47                 // class java/util/Map$Entry
     189: astore        7
     191: aload         7
     193: invokeinterface #48,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     198: checkcast     #49                 // class java/lang/String
     201: astore        8
     203: aload         7
     205: invokeinterface #50,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     210: checkcast     #51                 // class java/util/List
     213: astore        9
     215: aload_0
     216: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
     219: getfield      #36                 // Field org/jgroups/protocols/relay/Relayer.routes:Ljava/util/concurrent/ConcurrentMap;
     222: aload         8
     224: invokeinterface #52,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
     229: ifne          269
     232: aload_0
     233: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
     236: getfield      #36                 // Field org/jgroups/protocols/relay/Relayer.routes:Ljava/util/concurrent/ConcurrentMap;
     239: aload         8
     241: new           #53                 // class java/util/ArrayList
     244: dup
     245: invokespecial #54                 // Method java/util/ArrayList."<init>":()V
     248: invokeinterface #55,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     253: pop
     254: aload         5
     256: ifnull        269
     259: aload         5
     261: aload         8
     263: invokeinterface #56,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     268: pop
     269: aload_0
     270: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
     273: getfield      #36                 // Field org/jgroups/protocols/relay/Relayer.routes:Ljava/util/concurrent/ConcurrentMap;
     276: aload         8
     278: invokeinterface #57,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     283: checkcast     #51                 // class java/util/List
     286: astore        10
     288: aload         10
     290: invokeinterface #58,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     295: astore        11
     297: aload         11
     299: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     304: ifeq          344
     307: aload         11
     309: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     314: checkcast     #59                 // class org/jgroups/protocols/relay/Relayer$Route
     317: astore        12
     319: aload         9
     321: aload         12
     323: invokevirtual #60                 // Method org/jgroups/protocols/relay/Relayer$Route.siteMaster:()Lorg/jgroups/Address;
     326: invokeinterface #61,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     331: ifne          341
     334: aload         11
     336: invokeinterface #62,  1           // InterfaceMethod java/util/Iterator.remove:()V
     341: goto          297
     344: aload         9
     346: invokeinterface #63,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     351: astore        11
     353: aload         11
     355: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     360: ifeq          414
     363: aload         11
     365: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     370: checkcast     #64                 // class org/jgroups/Address
     373: astore        12
     375: aload_0
     376: aload         10
     378: aload         12
     380: invokevirtual #65                 // Method contains:(Ljava/util/List;Lorg/jgroups/Address;)Z
     383: ifne          411
     386: aload         10
     388: new           #59                 // class org/jgroups/protocols/relay/Relayer$Route
     391: dup
     392: aload_0
     393: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
     396: aload         12
     398: aload_0
     399: getfield      #3                  // Field channel:Lorg/jgroups/JChannel;
     402: invokespecial #66                 // Method org/jgroups/protocols/relay/Relayer$Route."<init>":(Lorg/jgroups/protocols/relay/Relayer;Lorg/jgroups/Address;Lorg/jgroups/JChannel;)V
     405: invokeinterface #67,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     410: pop
     411: goto          353
     414: aload         10
     416: invokeinterface #68,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     421: ifeq          463
     424: aload_0
     425: getfield      #1                  // Field this$0:Lorg/jgroups/protocols/relay/Relayer;
     428: getfield      #36                 // Field org/jgroups/protocols/relay/Relayer.routes:Ljava/util/concurrent/ConcurrentMap;
     431: aload         8
     433: invokeinterface #69,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     438: pop
     439: aload_2
     440: ifnull        463
     443: aload         4
     445: aload         8
     447: invokeinterface #56,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     452: pop
     453: aload         5
     455: aload         8
     457: invokeinterface #70,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     462: pop
     463: goto          169
     466: aload_2
     467: ifnull        542
     470: aload         4
     472: invokeinterface #71,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     477: ifne          506
     480: aload_2
     481: aload         4
     483: aload         4
     485: invokeinterface #72,  1           // InterfaceMethod java/util/Set.size:()I
     490: anewarray     #49                 // class java/lang/String
     493: invokeinterface #73,  2           // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     498: checkcast     #74                 // class "[Ljava/lang/String;"
     501: invokeinterface #75,  2           // InterfaceMethod org/jgroups/protocols/relay/RouteStatusListener.sitesDown:([Ljava/lang/String;)V
     506: aload         5
     508: invokeinterface #71,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     513: ifne          542
     516: aload_2
     517: aload         5
     519: aload         5
     521: invokeinterface #72,  1           // InterfaceMethod java/util/Set.size:()I
     526: anewarray     #49                 // class java/lang/String
     529: invokeinterface #73,  2           // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     534: checkcast     #74                 // class "[Ljava/lang/String;"
     537: invokeinterface #76,  2           // InterfaceMethod org/jgroups/protocols/relay/RouteStatusListener.sitesUp:([Ljava/lang/String;)V
     542: return

  protected boolean contains(java.util.List<org.jgroups.protocols.relay.Relayer$Route>, org.jgroups.Address);
    Code:
       0: aload_1
       1: invokeinterface #63,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       6: astore_3
       7: aload_3
       8: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          44
      16: aload_3
      17: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #59                 // class org/jgroups/protocols/relay/Relayer$Route
      25: astore        4
      27: aload         4
      29: invokevirtual #60                 // Method org/jgroups/protocols/relay/Relayer$Route.siteMaster:()Lorg/jgroups/Address;
      32: aload_2
      33: invokevirtual #77                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      36: ifeq          41
      39: iconst_1
      40: ireturn
      41: goto          7
      44: iconst_0
      45: ireturn

  protected java.util.Map<java.lang.String, java.util.List<org.jgroups.Address>> extract(org.jgroups.View);
    Code:
       0: new           #78                 // class java/util/HashMap
       3: dup
       4: aload_1
       5: invokevirtual #79                 // Method org/jgroups/View.size:()I
       8: invokespecial #80                 // Method java/util/HashMap."<init>":(I)V
      11: astore_2
      12: aload_1
      13: invokevirtual #81                 // Method org/jgroups/View.iterator:()Ljava/util/Iterator;
      16: astore_3
      17: aload_3
      18: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          116
      26: aload_3
      27: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #64                 // class org/jgroups/Address
      35: astore        4
      37: aload         4
      39: checkcast     #82                 // class org/jgroups/protocols/relay/SiteAddress
      42: astore        5
      44: aload         5
      46: invokeinterface #83,  1           // InterfaceMethod org/jgroups/protocols/relay/SiteAddress.getSite:()Ljava/lang/String;
      51: astore        6
      53: aload_2
      54: aload         6
      56: invokeinterface #84,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      61: checkcast     #51                 // class java/util/List
      64: astore        7
      66: aload         7
      68: ifnonnull     91
      71: new           #53                 // class java/util/ArrayList
      74: dup
      75: invokespecial #54                 // Method java/util/ArrayList."<init>":()V
      78: astore        7
      80: aload_2
      81: aload         6
      83: aload         7
      85: invokeinterface #85,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      90: pop
      91: aload         7
      93: aload         5
      95: invokeinterface #61,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     100: ifne          113
     103: aload         7
     105: aload         5
     107: invokeinterface #67,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     112: pop
     113: goto          17
     116: aload_2
     117: areturn
}
