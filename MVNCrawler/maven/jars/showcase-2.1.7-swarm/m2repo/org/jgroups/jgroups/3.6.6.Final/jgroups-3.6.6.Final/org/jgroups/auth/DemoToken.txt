Compiled from "DemoToken.java"
public class org.jgroups.auth.DemoToken extends org.jgroups.auth.AuthToken implements org.jgroups.protocols.AUTH$UpHandler {
  protected static final short ID;

  protected long block_time;

  protected final java.util.Map<org.jgroups.Address, org.jgroups.auth.DemoToken$Entry> pending_requests;

  public org.jgroups.auth.DemoToken();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jgroups/auth/AuthToken."<init>":()V
       4: aload_0
       5: ldc2_w        #2                  // long 5000l
       8: putfield      #4                  // Field block_time:J
      11: aload_0
      12: new           #5                  // class java/util/HashMap
      15: dup
      16: invokespecial #6                  // Method java/util/HashMap."<init>":()V
      19: putfield      #7                  // Field pending_requests:Ljava/util/Map;
      22: return

  public java.lang.String getName();
    Code:
       0: ldc           #8                  // String org.jgroups.auth.DemoToken
       2: areturn

  public void init();
    Code:
       0: aload_0
       1: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
       4: aload_0
       5: invokevirtual #10                 // Method org/jgroups/protocols/AUTH.register:(Lorg/jgroups/protocols/AUTH$UpHandler;)V
       8: return

  public boolean authenticate(org.jgroups.auth.AuthToken, org.jgroups.Message);
    Code:
       0: aload_2
       1: invokevirtual #11                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
       4: astore_3
       5: new           #12                 // class org/jgroups/Message
       8: dup
       9: aload_3
      10: invokespecial #13                 // Method org/jgroups/Message."<init>":(Lorg/jgroups/Address;)V
      13: iconst_1
      14: anewarray     #14                 // class org/jgroups/Message$Flag
      17: dup
      18: iconst_0
      19: getstatic     #15                 // Field org/jgroups/Message$Flag.OOB:Lorg/jgroups/Message$Flag;
      22: aastore
      23: invokevirtual #16                 // Method org/jgroups/Message.setFlag:([Lorg/jgroups/Message$Flag;)Lorg/jgroups/Message;
      26: astore        4
      28: invokestatic  #17                 // Method generateRandomBytes:()[B
      31: astore        5
      33: new           #18                 // class org/jgroups/auth/DemoToken$DemoHeader
      36: dup
      37: aload         5
      39: invokespecial #19                 // Method org/jgroups/auth/DemoToken$DemoHeader."<init>":([B)V
      42: astore        6
      44: aload         4
      46: sipush        1555
      49: aload         6
      51: invokevirtual #20                 // Method org/jgroups/Message.putHeader:(SLorg/jgroups/Header;)Lorg/jgroups/Message;
      54: pop
      55: new           #21                 // class org/jgroups/auth/DemoToken$Entry
      58: dup
      59: aload         5
      61: invokespecial #22                 // Method org/jgroups/auth/DemoToken$Entry."<init>":([B)V
      64: astore        7
      66: aload_0
      67: getfield      #7                  // Field pending_requests:Ljava/util/Map;
      70: aload_3
      71: aload         7
      73: invokeinterface #23,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      78: pop
      79: aload_0
      80: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
      83: invokeinterface #25,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      88: ifeq          129
      91: aload_0
      92: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
      95: new           #26                 // class java/lang/StringBuilder
      98: dup
      99: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     102: aload_0
     103: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
     106: invokevirtual #28                 // Method org/jgroups/protocols/AUTH.getAddress:()Lorg/jgroups/Address;
     109: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     112: ldc           #30                 // String : sending challenge to
     114: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     117: aload_3
     118: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     121: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     124: invokeinterface #33,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     129: aload_0
     130: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
     133: invokevirtual #34                 // Method org/jgroups/protocols/AUTH.getDownProtocol:()Lorg/jgroups/stack/Protocol;
     136: new           #35                 // class org/jgroups/Event
     139: dup
     140: iconst_1
     141: aload         4
     143: invokespecial #36                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     146: invokevirtual #37                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     149: pop
     150: aload         7
     152: getfield      #38                 // Field org/jgroups/auth/DemoToken$Entry.latch:Ljava/util/concurrent/CountDownLatch;
     155: aload_0
     156: getfield      #4                  // Field block_time:J
     159: getstatic     #39                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     162: invokevirtual #40                 // Method java/util/concurrent/CountDownLatch.await:(JLjava/util/concurrent/TimeUnit;)Z
     165: pop
     166: aload_0
     167: getfield      #7                  // Field pending_requests:Ljava/util/Map;
     170: aload_3
     171: invokeinterface #41,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     176: pop
     177: aload         7
     179: getfield      #42                 // Field org/jgroups/auth/DemoToken$Entry.hash:J
     182: lconst_0
     183: lcmp
     184: ifle          211
     187: aload         7
     189: getfield      #42                 // Field org/jgroups/auth/DemoToken$Entry.hash:J
     192: aload         7
     194: getfield      #43                 // Field org/jgroups/auth/DemoToken$Entry.challenge:[B
     197: invokestatic  #44                 // Method encrypt:([B)[B
     200: invokestatic  #45                 // Method hash:([B)J
     203: lcmp
     204: ifne          211
     207: iconst_1
     208: goto          212
     211: iconst_0
     212: istore        8
     214: aload_0
     215: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
     218: invokeinterface #25,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     223: ifeq          292
     226: aload_0
     227: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
     230: new           #26                 // class java/lang/StringBuilder
     233: dup
     234: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     237: aload_0
     238: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
     241: invokevirtual #28                 // Method org/jgroups/protocols/AUTH.getAddress:()Lorg/jgroups/Address;
     244: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     247: ldc           #46                 // String : authentication of
     249: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     252: aload_3
     253: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     256: ldc           #47                 // String :
     258: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     261: iload         8
     263: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
     266: ldc           #49                 // String  (hash=
     268: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     271: aload         7
     273: getfield      #42                 // Field org/jgroups/auth/DemoToken$Entry.hash:J
     276: invokevirtual #50                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     279: ldc           #51                 // String )
     281: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     284: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     287: invokeinterface #33,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     292: iload         8
     294: ireturn
     295: astore        8
     297: iconst_0
     298: ireturn
    Exception table:
       from    to  target type
         150   294   295   Class java/lang/InterruptedException

  public void writeTo(java.io.DataOutput) throws java.lang.Exception;
    Code:
       0: return

  public void readFrom(java.io.DataInput) throws java.lang.Exception;
    Code:
       0: return

  public int size();
    Code:
       0: iconst_0
       1: ireturn

  public boolean handleUpEvent(org.jgroups.Event);
    Code:
       0: aload_1
       1: invokevirtual #53                 // Method org/jgroups/Event.getType:()I
       4: lookupswitch  { // 1
                     1: 24
               default: 356
          }
      24: aload_1
      25: invokevirtual #54                 // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      28: checkcast     #12                 // class org/jgroups/Message
      31: astore_2
      32: aload_2
      33: sipush        1555
      36: invokevirtual #55                 // Method org/jgroups/Message.getHeader:(S)Lorg/jgroups/Header;
      39: checkcast     #18                 // class org/jgroups/auth/DemoToken$DemoHeader
      42: astore_3
      43: aload_3
      44: ifnonnull     50
      47: goto          356
      50: aload_3
      51: getfield      #56                 // Field org/jgroups/auth/DemoToken$DemoHeader.type:B
      54: lookupswitch  { // 2
                     1: 80
                     2: 266
               default: 354
          }
      80: aload_0
      81: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
      84: invokeinterface #25,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      89: ifeq          133
      92: aload_0
      93: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
      96: new           #26                 // class java/lang/StringBuilder
      99: dup
     100: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     103: aload_0
     104: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
     107: invokevirtual #28                 // Method org/jgroups/protocols/AUTH.getAddress:()Lorg/jgroups/Address;
     110: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     113: ldc           #57                 // String : received CHALLENGE from
     115: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: aload_2
     119: invokevirtual #11                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
     122: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     125: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     128: invokeinterface #33,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     133: aload_3
     134: getfield      #58                 // Field org/jgroups/auth/DemoToken$DemoHeader.payload:[B
     137: invokestatic  #44                 // Method encrypt:([B)[B
     140: invokestatic  #45                 // Method hash:([B)J
     143: lstore        4
     145: new           #12                 // class org/jgroups/Message
     148: dup
     149: aload_2
     150: invokevirtual #11                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
     153: invokespecial #13                 // Method org/jgroups/Message."<init>":(Lorg/jgroups/Address;)V
     156: iconst_1
     157: anewarray     #14                 // class org/jgroups/Message$Flag
     160: dup
     161: iconst_0
     162: getstatic     #15                 // Field org/jgroups/Message$Flag.OOB:Lorg/jgroups/Message$Flag;
     165: aastore
     166: invokevirtual #16                 // Method org/jgroups/Message.setFlag:([Lorg/jgroups/Message$Flag;)Lorg/jgroups/Message;
     169: astore        6
     171: aload         6
     173: sipush        1555
     176: new           #18                 // class org/jgroups/auth/DemoToken$DemoHeader
     179: dup
     180: lload         4
     182: invokespecial #59                 // Method org/jgroups/auth/DemoToken$DemoHeader."<init>":(J)V
     185: invokevirtual #20                 // Method org/jgroups/Message.putHeader:(SLorg/jgroups/Header;)Lorg/jgroups/Message;
     188: pop
     189: aload_0
     190: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
     193: invokeinterface #25,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     198: ifeq          242
     201: aload_0
     202: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
     205: new           #26                 // class java/lang/StringBuilder
     208: dup
     209: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     212: aload_0
     213: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
     216: invokevirtual #28                 // Method org/jgroups/protocols/AUTH.getAddress:()Lorg/jgroups/Address;
     219: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     222: ldc           #60                 // String : sending RESPONSE to
     224: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     227: aload_2
     228: invokevirtual #11                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
     231: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     234: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     237: invokeinterface #33,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     242: aload_0
     243: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
     246: invokevirtual #34                 // Method org/jgroups/protocols/AUTH.getDownProtocol:()Lorg/jgroups/stack/Protocol;
     249: new           #35                 // class org/jgroups/Event
     252: dup
     253: iconst_1
     254: aload         6
     256: invokespecial #36                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     259: invokevirtual #37                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     262: pop
     263: goto          354
     266: aload_0
     267: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
     270: invokeinterface #25,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     275: ifeq          319
     278: aload_0
     279: getfield      #24                 // Field log:Lorg/jgroups/logging/Log;
     282: new           #26                 // class java/lang/StringBuilder
     285: dup
     286: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     289: aload_0
     290: getfield      #9                  // Field auth:Lorg/jgroups/protocols/AUTH;
     293: invokevirtual #28                 // Method org/jgroups/protocols/AUTH.getAddress:()Lorg/jgroups/Address;
     296: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     299: ldc           #61                 // String : received RESPONSE from
     301: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     304: aload_2
     305: invokevirtual #11                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
     308: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     311: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     314: invokeinterface #33,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     319: aload_0
     320: getfield      #7                  // Field pending_requests:Ljava/util/Map;
     323: aload_2
     324: invokevirtual #11                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
     327: invokeinterface #62,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     332: checkcast     #21                 // class org/jgroups/auth/DemoToken$Entry
     335: astore        7
     337: aload         7
     339: ifnonnull     345
     342: goto          354
     345: aload         7
     347: aload_3
     348: getfield      #63                 // Field org/jgroups/auth/DemoToken$DemoHeader.hash:J
     351: invokevirtual #64                 // Method org/jgroups/auth/DemoToken$Entry.setResponse:(J)V
     354: iconst_0
     355: ireturn
     356: iconst_1
     357: ireturn

  protected static byte[] generateRandomBytes();
    Code:
       0: bipush        10
       2: newarray       byte
       4: astore_0
       5: iconst_0
       6: istore_1
       7: iload_1
       8: aload_0
       9: arraylength
      10: if_icmpge     30
      13: aload_0
      14: iload_1
      15: ldc2_w        #65                 // long 127l
      18: invokestatic  #67                 // Method org/jgroups/util/Util.random:(J)J
      21: l2i
      22: i2b
      23: bastore
      24: iinc          1, 1
      27: goto          7
      30: aload_0
      31: areturn

  protected static byte[] encrypt(byte[]);
    Code:
       0: aload_0
       1: areturn

  protected static long hash(byte[]);
    Code:
       0: lconst_0
       1: lstore_1
       2: iconst_0
       3: istore_3
       4: iload_3
       5: aload_0
       6: arraylength
       7: if_icmpge     23
      10: lload_1
      11: aload_0
      12: iload_3
      13: baload
      14: i2l
      15: ladd
      16: lstore_1
      17: iinc          3, 1
      20: goto          4
      23: lload_1
      24: lreturn

  static {};
    Code:
       0: sipush        1555
       3: ldc_w         #18                 // class org/jgroups/auth/DemoToken$DemoHeader
       6: invokestatic  #68                 // Method org/jgroups/conf/ClassConfigurator.add:(SLjava/lang/Class;)V
       9: return
}
