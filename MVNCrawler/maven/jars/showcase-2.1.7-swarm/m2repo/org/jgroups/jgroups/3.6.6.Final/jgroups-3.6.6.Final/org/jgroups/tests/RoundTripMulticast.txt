Compiled from "RoundTripMulticast.java"
public class org.jgroups.tests.RoundTripMulticast extends org.jgroups.ReceiverAdapter {
  java.net.MulticastSocket mcast_recv_sock;

  java.net.MulticastSocket mcast_send_sock;

  java.net.DatagramSocket ucast_sock;

  java.net.InetAddress bind_addr;

  java.net.InetAddress mcast_addr;

  int mcast_port;

  int num;

  int msg_size;

  boolean server;

  final byte[] RSP_BUF;

  int num_responses;

  final java.lang.Object mutex;

  org.jgroups.stack.IpAddress local_addr;

  public org.jgroups.tests.RoundTripMulticast();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jgroups/ReceiverAdapter."<init>":()V
       4: aload_0
       5: sipush        7500
       8: putfield      #2                  // Field mcast_port:I
      11: aload_0
      12: sipush        1000
      15: putfield      #3                  // Field num:I
      18: aload_0
      19: bipush        10
      21: putfield      #4                  // Field msg_size:I
      24: aload_0
      25: iconst_0
      26: putfield      #5                  // Field server:Z
      29: aload_0
      30: iconst_1
      31: newarray       byte
      33: dup
      34: iconst_0
      35: iconst_1
      36: bastore
      37: putfield      #6                  // Field RSP_BUF:[B
      40: aload_0
      41: iconst_0
      42: putfield      #7                  // Field num_responses:I
      45: aload_0
      46: new           #8                  // class java/lang/Object
      49: dup
      50: invokespecial #9                  // Method java/lang/Object."<init>":()V
      53: putfield      #10                 // Field mutex:Ljava/lang/Object;
      56: return

  private void start(boolean, int, int, java.net.InetAddress, java.net.InetAddress, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #5                  // Field server:Z
       5: aload_0
       6: iload_2
       7: putfield      #3                  // Field num:I
      10: aload_0
      11: iload_3
      12: putfield      #4                  // Field msg_size:I
      15: aload_0
      16: aload         4
      18: putfield      #11                 // Field bind_addr:Ljava/net/InetAddress;
      21: aload_0
      22: aload         5
      24: putfield      #12                 // Field mcast_addr:Ljava/net/InetAddress;
      27: aload_0
      28: iload         6
      30: putfield      #2                  // Field mcast_port:I
      33: aload_0
      34: new           #13                 // class java/net/MulticastSocket
      37: dup
      38: iload         6
      40: invokespecial #14                 // Method java/net/MulticastSocket."<init>":(I)V
      43: putfield      #15                 // Field mcast_send_sock:Ljava/net/MulticastSocket;
      46: aload_0
      47: getfield      #15                 // Field mcast_send_sock:Ljava/net/MulticastSocket;
      50: iconst_2
      51: invokevirtual #16                 // Method java/net/MulticastSocket.setTimeToLive:(I)V
      54: aload_0
      55: getfield      #15                 // Field mcast_send_sock:Ljava/net/MulticastSocket;
      58: aload         4
      60: invokevirtual #17                 // Method java/net/MulticastSocket.setInterface:(Ljava/net/InetAddress;)V
      63: new           #18                 // class java/net/InetSocketAddress
      66: dup
      67: aload         5
      69: iload         6
      71: invokespecial #19                 // Method java/net/InetSocketAddress."<init>":(Ljava/net/InetAddress;I)V
      74: astore        7
      76: aload_0
      77: getfield      #15                 // Field mcast_send_sock:Ljava/net/MulticastSocket;
      80: aload         7
      82: aconst_null
      83: invokevirtual #20                 // Method java/net/MulticastSocket.joinGroup:(Ljava/net/SocketAddress;Ljava/net/NetworkInterface;)V
      86: aload_0
      87: new           #13                 // class java/net/MulticastSocket
      90: dup
      91: iload         6
      93: invokespecial #14                 // Method java/net/MulticastSocket."<init>":(I)V
      96: putfield      #21                 // Field mcast_recv_sock:Ljava/net/MulticastSocket;
      99: aload_0
     100: getfield      #21                 // Field mcast_recv_sock:Ljava/net/MulticastSocket;
     103: iconst_2
     104: invokevirtual #16                 // Method java/net/MulticastSocket.setTimeToLive:(I)V
     107: aload_0
     108: getfield      #21                 // Field mcast_recv_sock:Ljava/net/MulticastSocket;
     111: aload         4
     113: invokevirtual #17                 // Method java/net/MulticastSocket.setInterface:(Ljava/net/InetAddress;)V
     116: aload_0
     117: getfield      #21                 // Field mcast_recv_sock:Ljava/net/MulticastSocket;
     120: aload         7
     122: aconst_null
     123: invokevirtual #20                 // Method java/net/MulticastSocket.joinGroup:(Ljava/net/SocketAddress;Ljava/net/NetworkInterface;)V
     126: aload_0
     127: new           #22                 // class java/net/DatagramSocket
     130: dup
     131: iconst_0
     132: aload         4
     134: invokespecial #23                 // Method java/net/DatagramSocket."<init>":(ILjava/net/InetAddress;)V
     137: putfield      #24                 // Field ucast_sock:Ljava/net/DatagramSocket;
     140: aload_0
     141: getfield      #24                 // Field ucast_sock:Ljava/net/DatagramSocket;
     144: bipush        16
     146: invokevirtual #25                 // Method java/net/DatagramSocket.setTrafficClass:(I)V
     149: aload_0
     150: new           #26                 // class org/jgroups/stack/IpAddress
     153: dup
     154: aload_0
     155: getfield      #24                 // Field ucast_sock:Ljava/net/DatagramSocket;
     158: invokevirtual #27                 // Method java/net/DatagramSocket.getLocalAddress:()Ljava/net/InetAddress;
     161: aload_0
     162: getfield      #24                 // Field ucast_sock:Ljava/net/DatagramSocket;
     165: invokevirtual #28                 // Method java/net/DatagramSocket.getLocalPort:()I
     168: invokespecial #29                 // Method org/jgroups/stack/IpAddress."<init>":(Ljava/net/InetAddress;I)V
     171: putfield      #30                 // Field local_addr:Lorg/jgroups/stack/IpAddress;
     174: iload_1
     175: ifeq          225
     178: new           #31                 // class org/jgroups/tests/RoundTripMulticast$1
     181: dup
     182: aload_0
     183: invokespecial #32                 // Method org/jgroups/tests/RoundTripMulticast$1."<init>":(Lorg/jgroups/tests/RoundTripMulticast;)V
     186: astore        8
     188: new           #33                 // class org/jgroups/tests/RoundTripMulticast$ReceiverThread
     191: dup
     192: aload         8
     194: aload_0
     195: getfield      #21                 // Field mcast_recv_sock:Ljava/net/MulticastSocket;
     198: invokespecial #34                 // Method org/jgroups/tests/RoundTripMulticast$ReceiverThread."<init>":(Lorg/jgroups/tests/RoundTripMulticast$Receiver;Ljava/net/DatagramSocket;)V
     201: astore        9
     203: aload         9
     205: invokevirtual #35                 // Method org/jgroups/tests/RoundTripMulticast$ReceiverThread.start:()V
     208: getstatic     #36                 // Field java/lang/System.out:Ljava/io/PrintStream;
     211: ldc           #37                 // String server started (ctrl-c to kill)
     213: invokevirtual #38                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     216: ldc2_w        #39                 // long 60000l
     219: invokestatic  #41                 // Method org/jgroups/util/Util.sleep:(J)V
     222: goto          216
     225: getstatic     #36                 // Field java/lang/System.out:Ljava/io/PrintStream;
     228: new           #42                 // class java/lang/StringBuilder
     231: dup
     232: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     235: ldc           #44                 // String sending
     237: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     240: iload_2
     241: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     244: ldc           #47                 // String  requests
     246: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     249: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     252: invokevirtual #38                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     255: aload_0
     256: invokespecial #49                 // Method sendRequests:()V
     259: aload_0
     260: getfield      #21                 // Field mcast_recv_sock:Ljava/net/MulticastSocket;
     263: invokevirtual #50                 // Method java/net/MulticastSocket.close:()V
     266: aload_0
     267: getfield      #15                 // Field mcast_send_sock:Ljava/net/MulticastSocket;
     270: invokevirtual #50                 // Method java/net/MulticastSocket.close:()V
     273: aload_0
     274: getfield      #24                 // Field ucast_sock:Ljava/net/DatagramSocket;
     277: invokevirtual #51                 // Method java/net/DatagramSocket.close:()V
     280: return

  private void sendRequests() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #30                 // Field local_addr:Lorg/jgroups/stack/IpAddress;
       4: invokestatic  #52                 // Method org/jgroups/util/Util.streamableToByteBuffer:(Lorg/jgroups/util/Streamable;)[B
       7: astore_1
       8: iconst_3
       9: aload_1
      10: arraylength
      11: iadd
      12: aload_0
      13: getfield      #4                  // Field msg_size:I
      16: iadd
      17: istore_2
      18: aload_0
      19: getfield      #3                  // Field num:I
      22: bipush        10
      24: idiv
      25: istore        13
      27: iconst_0
      28: istore        14
      30: aload_0
      31: iconst_0
      32: putfield      #7                  // Field num_responses:I
      35: iload_2
      36: invokestatic  #53                 // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
      39: astore        15
      41: aload         15
      43: iconst_0
      44: invokevirtual #54                 // Method java/nio/ByteBuffer.put:(B)Ljava/nio/ByteBuffer;
      47: pop
      48: aload         15
      50: aload_1
      51: arraylength
      52: i2s
      53: invokevirtual #55                 // Method java/nio/ByteBuffer.putShort:(S)Ljava/nio/ByteBuffer;
      56: pop
      57: aload         15
      59: aload_1
      60: iconst_0
      61: aload_1
      62: arraylength
      63: invokevirtual #56                 // Method java/nio/ByteBuffer.put:([BII)Ljava/nio/ByteBuffer;
      66: pop
      67: aload_0
      68: getfield      #4                  // Field msg_size:I
      71: newarray       byte
      73: astore        16
      75: aload         15
      77: aload         16
      79: iconst_0
      80: aload         16
      82: arraylength
      83: invokevirtual #56                 // Method java/nio/ByteBuffer.put:([BII)Ljava/nio/ByteBuffer;
      86: pop
      87: aload         15
      89: invokevirtual #57                 // Method java/nio/ByteBuffer.array:()[B
      92: astore        17
      94: new           #33                 // class org/jgroups/tests/RoundTripMulticast$ReceiverThread
      97: dup
      98: new           #58                 // class org/jgroups/tests/RoundTripMulticast$2
     101: dup
     102: aload_0
     103: invokespecial #59                 // Method org/jgroups/tests/RoundTripMulticast$2."<init>":(Lorg/jgroups/tests/RoundTripMulticast;)V
     106: aload_0
     107: getfield      #21                 // Field mcast_recv_sock:Ljava/net/MulticastSocket;
     110: invokespecial #34                 // Method org/jgroups/tests/RoundTripMulticast$ReceiverThread."<init>":(Lorg/jgroups/tests/RoundTripMulticast$Receiver;Ljava/net/DatagramSocket;)V
     113: astore        18
     115: aload         18
     117: invokevirtual #35                 // Method org/jgroups/tests/RoundTripMulticast$ReceiverThread.start:()V
     120: new           #33                 // class org/jgroups/tests/RoundTripMulticast$ReceiverThread
     123: dup
     124: new           #60                 // class org/jgroups/tests/RoundTripMulticast$3
     127: dup
     128: aload_0
     129: invokespecial #61                 // Method org/jgroups/tests/RoundTripMulticast$3."<init>":(Lorg/jgroups/tests/RoundTripMulticast;)V
     132: aload_0
     133: getfield      #24                 // Field ucast_sock:Ljava/net/DatagramSocket;
     136: invokespecial #34                 // Method org/jgroups/tests/RoundTripMulticast$ReceiverThread."<init>":(Lorg/jgroups/tests/RoundTripMulticast$Receiver;Ljava/net/DatagramSocket;)V
     139: astore        19
     141: aload         19
     143: invokevirtual #35                 // Method org/jgroups/tests/RoundTripMulticast$ReceiverThread.start:()V
     146: invokestatic  #62                 // Method java/lang/System.currentTimeMillis:()J
     149: lstore_3
     150: iconst_0
     151: istore        20
     153: iload         20
     155: aload_0
     156: getfield      #3                  // Field num:I
     159: if_icmpge     350
     162: new           #63                 // class java/net/DatagramPacket
     165: dup
     166: aload         17
     168: iconst_0
     169: aload         17
     171: arraylength
     172: aload_0
     173: getfield      #12                 // Field mcast_addr:Ljava/net/InetAddress;
     176: aload_0
     177: getfield      #2                  // Field mcast_port:I
     180: invokespecial #64                 // Method java/net/DatagramPacket."<init>":([BIILjava/net/InetAddress;I)V
     183: astore        21
     185: aload_0
     186: getfield      #15                 // Field mcast_send_sock:Ljava/net/MulticastSocket;
     189: aload         21
     191: invokevirtual #65                 // Method java/net/MulticastSocket.send:(Ljava/net/DatagramPacket;)V
     194: aload_0
     195: getfield      #10                 // Field mutex:Ljava/lang/Object;
     198: dup
     199: astore        22
     201: monitorenter
     202: aload_0
     203: getfield      #7                  // Field num_responses:I
     206: iload         14
     208: iconst_1
     209: iadd
     210: if_icmpeq     226
     213: aload_0
     214: getfield      #10                 // Field mutex:Ljava/lang/Object;
     217: ldc2_w        #66                 // long 1000l
     220: invokevirtual #68                 // Method java/lang/Object.wait:(J)V
     223: goto          202
     226: aload_0
     227: getfield      #7                  // Field num_responses:I
     230: istore        14
     232: aload_0
     233: getfield      #7                  // Field num_responses:I
     236: aload_0
     237: getfield      #3                  // Field num:I
     240: if_icmplt     282
     243: getstatic     #36                 // Field java/lang/System.out:Ljava/io/PrintStream;
     246: new           #42                 // class java/lang/StringBuilder
     249: dup
     250: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     253: ldc           #69                 // String received all responses (
     255: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     258: aload_0
     259: getfield      #7                  // Field num_responses:I
     262: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     265: ldc           #70                 // String )
     267: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     270: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     273: invokevirtual #38                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     276: aload         22
     278: monitorexit
     279: goto          350
     282: aload         22
     284: monitorexit
     285: goto          296
     288: astore        23
     290: aload         22
     292: monitorexit
     293: aload         23
     295: athrow
     296: aload_0
     297: getfield      #7                  // Field num_responses:I
     300: iload         13
     302: irem
     303: ifne          334
     306: getstatic     #36                 // Field java/lang/System.out:Ljava/io/PrintStream;
     309: new           #42                 // class java/lang/StringBuilder
     312: dup
     313: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     316: ldc           #71                 // String - received
     318: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     321: aload_0
     322: getfield      #7                  // Field num_responses:I
     325: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     328: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     331: invokevirtual #38                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     334: goto          344
     337: astore        22
     339: aload         22
     341: invokevirtual #73                 // Method java/lang/Exception.printStackTrace:()V
     344: iinc          20, 1
     347: goto          153
     350: invokestatic  #62                 // Method java/lang/System.currentTimeMillis:()J
     353: lstore        5
     355: lload         5
     357: lload_3
     358: lsub
     359: lstore        7
     361: aload_0
     362: getfield      #3                  // Field num:I
     365: i2d
     366: lload         7
     368: l2d
     369: ldc2_w        #74                 // double 1000.0d
     372: ddiv
     373: ddiv
     374: dstore        9
     376: lload         7
     378: l2d
     379: aload_0
     380: getfield      #3                  // Field num:I
     383: i2d
     384: ddiv
     385: dstore        11
     387: getstatic     #36                 // Field java/lang/System.out:Ljava/io/PrintStream;
     390: new           #42                 // class java/lang/StringBuilder
     393: dup
     394: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     397: ldc           #76                 // String Took
     399: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     402: lload         7
     404: invokevirtual #77                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     407: ldc           #78                 // String ms for
     409: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     412: aload_0
     413: getfield      #3                  // Field num:I
     416: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     419: ldc           #79                 // String  requests:
     421: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     424: dload         9
     426: invokevirtual #80                 // Method java/lang/StringBuilder.append:(D)Ljava/lang/StringBuilder;
     429: ldc           #81                 // String  requests/sec,
     431: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     434: dload         11
     436: invokevirtual #80                 // Method java/lang/StringBuilder.append:(D)Ljava/lang/StringBuilder;
     439: ldc           #82                 // String  ms/request
     441: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     444: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     447: invokevirtual #38                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     450: return
    Exception table:
       from    to  target type
         202   279   288   any
         282   285   288   any
         288   293   288   any
         185   279   337   Class java/lang/Exception
         282   334   337   Class java/lang/Exception

  public static void main(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore_1
       2: bipush        100
       4: istore_2
       5: bipush        10
       7: istore_3
       8: aconst_null
       9: astore        4
      11: aconst_null
      12: astore        5
      14: sipush        7500
      17: istore        6
      19: iconst_0
      20: istore        7
      22: iload         7
      24: aload_0
      25: arraylength
      26: if_icmpge     189
      29: aload_0
      30: iload         7
      32: aaload
      33: ldc           #83                 // String -num
      35: invokevirtual #84                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      38: ifeq          55
      41: aload_0
      42: iinc          7, 1
      45: iload         7
      47: aaload
      48: invokestatic  #85                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      51: istore_2
      52: goto          183
      55: aload_0
      56: iload         7
      58: aaload
      59: ldc           #86                 // String -server
      61: invokevirtual #84                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      64: ifeq          72
      67: iconst_1
      68: istore_1
      69: goto          183
      72: aload_0
      73: iload         7
      75: aaload
      76: ldc           #87                 // String -size
      78: invokevirtual #84                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      81: ifeq          98
      84: aload_0
      85: iinc          7, 1
      88: iload         7
      90: aaload
      91: invokestatic  #85                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      94: istore_3
      95: goto          183
      98: aload_0
      99: iload         7
     101: aaload
     102: ldc           #88                 // String -bind_addr
     104: invokevirtual #84                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     107: ifeq          125
     110: aload_0
     111: iinc          7, 1
     114: iload         7
     116: aaload
     117: invokestatic  #89                 // Method java/net/InetAddress.getByName:(Ljava/lang/String;)Ljava/net/InetAddress;
     120: astore        4
     122: goto          183
     125: aload_0
     126: iload         7
     128: aaload
     129: ldc           #90                 // String -mcast_addr
     131: invokevirtual #84                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     134: ifeq          152
     137: aload_0
     138: iinc          7, 1
     141: iload         7
     143: aaload
     144: invokestatic  #89                 // Method java/net/InetAddress.getByName:(Ljava/lang/String;)Ljava/net/InetAddress;
     147: astore        5
     149: goto          183
     152: aload_0
     153: iload         7
     155: aaload
     156: ldc           #91                 // String -mcast_port
     158: invokevirtual #84                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     161: ifeq          179
     164: aload_0
     165: iinc          7, 1
     168: iload         7
     170: aaload
     171: invokestatic  #85                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     174: istore        6
     176: goto          183
     179: invokestatic  #92                 // Method help:()V
     182: return
     183: iinc          7, 1
     186: goto          22
     189: aload         4
     191: ifnonnull     199
     194: invokestatic  #93                 // Method java/net/InetAddress.getLocalHost:()Ljava/net/InetAddress;
     197: astore        4
     199: aload         5
     201: ifnonnull     211
     204: ldc           #94                 // String 225.5.5.5
     206: invokestatic  #89                 // Method java/net/InetAddress.getByName:(Ljava/lang/String;)Ljava/net/InetAddress;
     209: astore        5
     211: new           #95                 // class org/jgroups/tests/RoundTripMulticast
     214: dup
     215: invokespecial #96                 // Method "<init>":()V
     218: iload_1
     219: iload_2
     220: iload_3
     221: aload         4
     223: aload         5
     225: iload         6
     227: invokespecial #97                 // Method start:(ZIILjava/net/InetAddress;Ljava/net/InetAddress;I)V
     230: return

  private static void help();
    Code:
       0: getstatic     #36                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #98                 // String RoundTrip [-server] [-num <number of messages>] [-size <size of each message (in bytes)>] [-bind_addr <bind address>] [-mcast_addr <mcast addr>] [-mcast_port <mcast port>]
       5: invokevirtual #38                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
       8: return
}
