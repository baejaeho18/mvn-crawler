Compiled from "Relayer.java"
public class org.jgroups.protocols.relay.Relayer {
  protected java.util.concurrent.ConcurrentMap<java.lang.String, java.util.List<org.jgroups.protocols.relay.Relayer$Route>> routes;

  protected final java.util.Queue<org.jgroups.protocols.relay.Relayer$Bridge> bridges;

  protected final org.jgroups.logging.Log log;

  protected final org.jgroups.protocols.relay.RELAY2 relay;

  protected volatile boolean done;

  protected boolean stats;

  public org.jgroups.protocols.relay.Relayer(org.jgroups.protocols.relay.RELAY2, org.jgroups.logging.Log);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: iconst_5
      10: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":(I)V
      13: putfield      #4                  // Field routes:Ljava/util/concurrent/ConcurrentMap;
      16: aload_0
      17: new           #5                  // class java/util/concurrent/ConcurrentLinkedQueue
      20: dup
      21: invokespecial #6                  // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
      24: putfield      #7                  // Field bridges:Ljava/util/Queue;
      27: aload_0
      28: aload_1
      29: putfield      #8                  // Field relay:Lorg/jgroups/protocols/relay/RELAY2;
      32: aload_0
      33: aload_1
      34: invokevirtual #9                  // Method org/jgroups/protocols/relay/RELAY2.statsEnabled:()Z
      37: putfield      #10                 // Field stats:Z
      40: aload_0
      41: aload_2
      42: putfield      #11                 // Field log:Lorg/jgroups/logging/Log;
      45: return

  public boolean done();
    Code:
       0: aload_0
       1: getfield      #12                 // Field done:Z
       4: ireturn

  public void start(java.util.List<org.jgroups.protocols.relay.config.RelayConfig$BridgeConfig>, java.lang.String, java.lang.String) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #12                 // Field done:Z
       4: ifeq          42
       7: aload_0
       8: getfield      #11                 // Field log:Lorg/jgroups/logging/Log;
      11: new           #13                 // class java/lang/StringBuilder
      14: dup
      15: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      18: aload_0
      19: getfield      #8                  // Field relay:Lorg/jgroups/protocols/relay/RELAY2;
      22: invokevirtual #15                 // Method org/jgroups/protocols/relay/RELAY2.getLocalAddress:()Lorg/jgroups/Address;
      25: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: ldc           #17                 // String : will not start the Relayer as stop() has been called
      30: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokeinterface #20,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      41: return
      42: aload_1
      43: invokeinterface #21,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      48: astore        4
      50: aload         4
      52: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      57: ifeq          117
      60: aload         4
      62: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      67: checkcast     #24                 // class org/jgroups/protocols/relay/config/RelayConfig$BridgeConfig
      70: astore        5
      72: new           #25                 // class org/jgroups/protocols/relay/Relayer$Bridge
      75: dup
      76: aload_0
      77: aload         5
      79: invokevirtual #26                 // Method org/jgroups/protocols/relay/config/RelayConfig$BridgeConfig.createChannel:()Lorg/jgroups/JChannel;
      82: aload         5
      84: invokevirtual #27                 // Method org/jgroups/protocols/relay/config/RelayConfig$BridgeConfig.getClusterName:()Ljava/lang/String;
      87: aload_2
      88: new           #28                 // class org/jgroups/protocols/relay/Relayer$1
      91: dup
      92: aload_0
      93: aload_3
      94: invokespecial #29                 // Method org/jgroups/protocols/relay/Relayer$1."<init>":(Lorg/jgroups/protocols/relay/Relayer;Ljava/lang/String;)V
      97: invokespecial #30                 // Method org/jgroups/protocols/relay/Relayer$Bridge."<init>":(Lorg/jgroups/protocols/relay/Relayer;Lorg/jgroups/JChannel;Ljava/lang/String;Ljava/lang/String;Lorg/jgroups/stack/AddressGenerator;)V
     100: astore        6
     102: aload_0
     103: getfield      #7                  // Field bridges:Ljava/util/Queue;
     106: aload         6
     108: invokeinterface #31,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
     113: pop
     114: goto          50
     117: aload_0
     118: getfield      #7                  // Field bridges:Ljava/util/Queue;
     121: invokeinterface #32,  1           // InterfaceMethod java/util/Queue.iterator:()Ljava/util/Iterator;
     126: astore        4
     128: aload         4
     130: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     135: ifeq          158
     138: aload         4
     140: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     145: checkcast     #25                 // class org/jgroups/protocols/relay/Relayer$Bridge
     148: astore        5
     150: aload         5
     152: invokevirtual #33                 // Method org/jgroups/protocols/relay/Relayer$Bridge.start:()V
     155: goto          128
     158: aload_0
     159: getfield      #12                 // Field done:Z
     162: ifeq          265
     165: aload_0
     166: getfield      #11                 // Field log:Lorg/jgroups/logging/Log;
     169: new           #13                 // class java/lang/StringBuilder
     172: dup
     173: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
     176: aload_0
     177: getfield      #8                  // Field relay:Lorg/jgroups/protocols/relay/RELAY2;
     180: invokevirtual #15                 // Method org/jgroups/protocols/relay/RELAY2.getLocalAddress:()Lorg/jgroups/Address;
     183: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     186: ldc           #34                 // String : stop() was called while starting the relayer; stopping the relayer now
     188: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     191: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     194: invokeinterface #20,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     199: aload_0
     200: invokevirtual #35                 // Method stop:()V
     203: goto          265
     206: astore        4
     208: aload_0
     209: invokevirtual #35                 // Method stop:()V
     212: aload         4
     214: athrow
     215: astore        7
     217: aload_0
     218: getfield      #12                 // Field done:Z
     221: ifeq          262
     224: aload_0
     225: getfield      #11                 // Field log:Lorg/jgroups/logging/Log;
     228: new           #13                 // class java/lang/StringBuilder
     231: dup
     232: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
     235: aload_0
     236: getfield      #8                  // Field relay:Lorg/jgroups/protocols/relay/RELAY2;
     239: invokevirtual #15                 // Method org/jgroups/protocols/relay/RELAY2.getLocalAddress:()Lorg/jgroups/Address;
     242: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     245: ldc           #34                 // String : stop() was called while starting the relayer; stopping the relayer now
     247: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     250: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     253: invokeinterface #20,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     258: aload_0
     259: invokevirtual #35                 // Method stop:()V
     262: aload         7
     264: athrow
     265: return
    Exception table:
       from    to  target type
          42   158   206   Class java/lang/Throwable
          42   158   215   any
         206   217   215   any

  public void stop();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #12                 // Field done:Z
       5: aload_0
       6: getfield      #7                  // Field bridges:Ljava/util/Queue;
       9: invokeinterface #32,  1           // InterfaceMethod java/util/Queue.iterator:()Ljava/util/Iterator;
      14: astore_1
      15: aload_1
      16: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          41
      24: aload_1
      25: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #25                 // class org/jgroups/protocols/relay/Relayer$Bridge
      33: astore_2
      34: aload_2
      35: invokevirtual #37                 // Method org/jgroups/protocols/relay/Relayer$Bridge.stop:()V
      38: goto          15
      41: aload_0
      42: getfield      #7                  // Field bridges:Ljava/util/Queue;
      45: invokeinterface #38,  1           // InterfaceMethod java/util/Queue.clear:()V
      50: return

  public synchronized java.lang.String printRoutes();
    Code:
       0: new           #13                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #4                  // Field routes:Ljava/util/concurrent/ConcurrentMap;
      12: invokeinterface #39,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.entrySet:()Ljava/util/Set;
      17: invokeinterface #40,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      22: astore_2
      23: aload_2
      24: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          116
      32: aload_2
      33: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #41                 // class java/util/Map$Entry
      41: astore_3
      42: aload_3
      43: invokeinterface #42,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      48: checkcast     #43                 // class java/util/List
      51: astore        4
      53: aload         4
      55: ifnull        113
      58: aload         4
      60: invokeinterface #44,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      65: ifne          113
      68: aload_1
      69: new           #13                 // class java/lang/StringBuilder
      72: dup
      73: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      76: aload_3
      77: invokeinterface #45,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      82: checkcast     #46                 // class java/lang/String
      85: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: ldc           #47                 // String  -->
      90: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      96: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      99: aload         4
     101: invokestatic  #48                 // Method org/jgroups/util/Util.print:(Ljava/util/Collection;)Ljava/lang/String;
     104: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     107: ldc           #49                 // String \n
     109: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: pop
     113: goto          23
     116: aload_1
     117: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     120: areturn

  protected synchronized org.jgroups.protocols.relay.Relayer$Route getRoute(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field routes:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #50,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #43                 // class java/util/List
      13: astore_2
      14: aload_2
      15: ifnonnull     22
      18: aconst_null
      19: goto          29
      22: aload_2
      23: invokestatic  #51                 // Method org/jgroups/util/Util.pickRandomElement:(Ljava/util/List;)Ljava/lang/Object;
      26: checkcast     #52                 // class org/jgroups/protocols/relay/Relayer$Route
      29: areturn

  protected java.util.List<java.lang.String> getSiteNames();
    Code:
       0: new           #53                 // class java/util/ArrayList
       3: dup
       4: aload_0
       5: getfield      #4                  // Field routes:Ljava/util/concurrent/ConcurrentMap;
       8: invokeinterface #54,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      13: invokespecial #55                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      16: areturn

  protected synchronized java.util.List<org.jgroups.protocols.relay.Relayer$Route> getRoutes(java.lang.String...);
    Code:
       0: new           #53                 // class java/util/ArrayList
       3: dup
       4: aload_0
       5: getfield      #4                  // Field routes:Ljava/util/concurrent/ConcurrentMap;
       8: invokeinterface #56,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.size:()I
      13: invokespecial #57                 // Method java/util/ArrayList."<init>":(I)V
      16: astore_2
      17: aload_0
      18: getfield      #4                  // Field routes:Ljava/util/concurrent/ConcurrentMap;
      21: invokeinterface #58,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.values:()Ljava/util/Collection;
      26: invokeinterface #59,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      31: astore_3
      32: aload_3
      33: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      38: ifeq          115
      41: aload_3
      42: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      47: checkcast     #43                 // class java/util/List
      50: astore        4
      52: aload         4
      54: invokeinterface #21,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      59: astore        5
      61: aload         5
      63: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      68: ifeq          112
      71: aload         5
      73: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      78: checkcast     #52                 // class org/jgroups/protocols/relay/Relayer$Route
      81: astore        6
      83: aload         6
      85: ifnull        109
      88: aload         6
      90: aload_1
      91: invokestatic  #60                 // Method isExcluded:(Lorg/jgroups/protocols/relay/Relayer$Route;[Ljava/lang/String;)Z
      94: ifne          109
      97: aload_2
      98: aload         6
     100: invokeinterface #61,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     105: pop
     106: goto          112
     109: goto          61
     112: goto          32
     115: aload_2
     116: areturn

  protected org.jgroups.View getBridgeView(java.lang.String);
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_0
       5: getfield      #7                  // Field bridges:Ljava/util/Queue;
       8: ifnonnull     13
      11: aconst_null
      12: areturn
      13: aload_0
      14: getfield      #7                  // Field bridges:Ljava/util/Queue;
      17: invokeinterface #32,  1           // InterfaceMethod java/util/Queue.iterator:()Ljava/util/Iterator;
      22: astore_2
      23: aload_2
      24: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          68
      32: aload_2
      33: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #25                 // class org/jgroups/protocols/relay/Relayer$Bridge
      41: astore_3
      42: aload_3
      43: getfield      #62                 // Field org/jgroups/protocols/relay/Relayer$Bridge.cluster_name:Ljava/lang/String;
      46: ifnull        65
      49: aload_3
      50: getfield      #62                 // Field org/jgroups/protocols/relay/Relayer$Bridge.cluster_name:Ljava/lang/String;
      53: aload_1
      54: invokevirtual #63                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      57: ifeq          65
      60: aload_3
      61: getfield      #64                 // Field org/jgroups/protocols/relay/Relayer$Bridge.view:Lorg/jgroups/View;
      64: areturn
      65: goto          23
      68: aconst_null
      69: areturn

  protected static boolean isExcluded(org.jgroups.protocols.relay.Relayer$Route, java.lang.String...);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: iconst_0
       5: ireturn
       6: aload_0
       7: getfield      #65                 // Field org/jgroups/protocols/relay/Relayer$Route.site_master:Lorg/jgroups/Address;
      10: checkcast     #66                 // class org/jgroups/protocols/relay/SiteUUID
      13: invokevirtual #67                 // Method org/jgroups/protocols/relay/SiteUUID.getSite:()Ljava/lang/String;
      16: astore_2
      17: aload_1
      18: astore_3
      19: aload_3
      20: arraylength
      21: istore        4
      23: iconst_0
      24: istore        5
      26: iload         5
      28: iload         4
      30: if_icmpge     56
      33: aload_3
      34: iload         5
      36: aaload
      37: astore        6
      39: aload_2
      40: aload         6
      42: invokevirtual #63                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      45: ifeq          50
      48: iconst_1
      49: ireturn
      50: iinc          5, 1
      53: goto          26
      56: iconst_0
      57: ireturn
}
