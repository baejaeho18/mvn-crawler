Compiled from "NioBaseServer.java"
public class org.jgroups.blocks.cs.NioBaseServer$Acceptor implements java.lang.Runnable {
  final org.jgroups.blocks.cs.NioBaseServer this$0;

  protected org.jgroups.blocks.cs.NioBaseServer$Acceptor(org.jgroups.blocks.cs.NioBaseServer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: return

  public void run();
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
       6: getfield      #3                  // Field org/jgroups/blocks/cs/NioBaseServer.running:Ljava/util/concurrent/atomic/AtomicBoolean;
       9: invokevirtual #4                  // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      12: ifeq          237
      15: aload_0
      16: invokevirtual #5                  // Method doSelect:()Z
      19: ifeq          237
      22: aload_0
      23: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      26: getfield      #6                  // Field org/jgroups/blocks/cs/NioBaseServer.selector:Ljava/nio/channels/Selector;
      29: invokevirtual #7                  // Method java/nio/channels/Selector.selectedKeys:()Ljava/util/Set;
      32: invokeinterface #8,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      37: astore_1
      38: goto          45
      41: astore_2
      42: goto          2
      45: aload_1
      46: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      51: ifeq          2
      54: aload_1
      55: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      60: checkcast     #12                 // class java/nio/channels/SelectionKey
      63: astore_2
      64: aload_2
      65: invokevirtual #13                 // Method java/nio/channels/SelectionKey.attachment:()Ljava/lang/Object;
      68: checkcast     #14                 // class org/jgroups/blocks/cs/NioConnection
      71: astore_3
      72: aload_1
      73: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.remove:()V
      78: aload_2
      79: invokevirtual #16                 // Method java/nio/channels/SelectionKey.isValid:()Z
      82: ifne          88
      85: goto          45
      88: aload_2
      89: invokevirtual #17                 // Method java/nio/channels/SelectionKey.isReadable:()Z
      92: ifeq          124
      95: aload_0
      96: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      99: getfield      #18                 // Field org/jgroups/blocks/cs/NioBaseServer.max_read_batch_size:I
     102: iconst_1
     103: if_icmple     120
     106: aload_3
     107: aload_0
     108: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
     111: getfield      #18                 // Field org/jgroups/blocks/cs/NioBaseServer.max_read_batch_size:I
     114: invokevirtual #19                 // Method org/jgroups/blocks/cs/NioConnection.receive:(I)V
     117: goto          124
     120: aload_3
     121: invokevirtual #20                 // Method org/jgroups/blocks/cs/NioConnection.receive:()V
     124: aload_2
     125: invokevirtual #21                 // Method java/nio/channels/SelectionKey.isWritable:()Z
     128: ifeq          135
     131: aload_3
     132: invokevirtual #22                 // Method org/jgroups/blocks/cs/NioConnection.send:()V
     135: aload_2
     136: invokevirtual #23                 // Method java/nio/channels/SelectionKey.isAcceptable:()Z
     139: ifeq          153
     142: aload_0
     143: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
     146: aload_2
     147: invokevirtual #24                 // Method org/jgroups/blocks/cs/NioBaseServer.handleAccept:(Ljava/nio/channels/SelectionKey;)V
     150: goto          192
     153: aload_2
     154: invokevirtual #25                 // Method java/nio/channels/SelectionKey.isConnectable:()Z
     157: ifeq          192
     160: aload_2
     161: invokevirtual #26                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
     164: checkcast     #27                 // class java/nio/channels/SocketChannel
     167: astore        4
     169: aload         4
     171: invokevirtual #28                 // Method java/nio/channels/SocketChannel.finishConnect:()Z
     174: ifne          185
     177: aload         4
     179: invokevirtual #29                 // Method java/nio/channels/SocketChannel.isConnected:()Z
     182: ifeq          192
     185: aload_3
     186: bipush        8
     188: invokevirtual #30                 // Method org/jgroups/blocks/cs/NioConnection.clearSelectionKey:(I)I
     191: pop
     192: goto          234
     195: astore        4
     197: aload_3
     198: invokestatic  #31                 // Method org/jgroups/util/Util.close:(Ljava/io/Closeable;)V
     201: aload_0
     202: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
     205: aload_3
     206: aload         4
     208: invokevirtual #32                 // Method java/lang/Throwable.toString:()Ljava/lang/String;
     211: invokevirtual #33                 // Method org/jgroups/blocks/cs/NioBaseServer.notifyConnectionClosed:(Lorg/jgroups/blocks/cs/Connection;Ljava/lang/String;)V
     214: aload_0
     215: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
     218: aload_3
     219: ifnull        229
     222: aload_3
     223: invokevirtual #34                 // Method org/jgroups/blocks/cs/NioConnection.peerAddress:()Lorg/jgroups/Address;
     226: goto          230
     229: aconst_null
     230: aload_3
     231: invokevirtual #35                 // Method org/jgroups/blocks/cs/NioBaseServer.removeConnectionIfPresent:(Lorg/jgroups/Address;Lorg/jgroups/blocks/cs/Connection;)V
     234: goto          45
     237: return
    Exception table:
       from    to  target type
          22    38    41   Class java/lang/Throwable
          78    85   195   Class java/lang/Throwable
          88   192   195   Class java/lang/Throwable

  protected boolean doSelect();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
       4: getfield      #6                  // Field org/jgroups/blocks/cs/NioBaseServer.selector:Ljava/nio/channels/Selector;
       7: invokevirtual #36                 // Method java/nio/channels/Selector.select:()I
      10: istore_1
      11: aload_0
      12: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      15: dup
      16: getfield      #37                 // Field org/jgroups/blocks/cs/NioBaseServer.num_selects:I
      19: iconst_1
      20: iadd
      21: putfield      #37                 // Field org/jgroups/blocks/cs/NioBaseServer.num_selects:I
      24: aload_0
      25: invokevirtual #38                 // Method checkforPendingRegistrations:()V
      28: iload_1
      29: ifne          34
      32: iconst_1
      33: ireturn
      34: goto          70
      37: astore_1
      38: aload_0
      39: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      42: getfield      #40                 // Field org/jgroups/blocks/cs/NioBaseServer.log:Lorg/jgroups/logging/Log;
      45: ldc           #41                 // String selector was closed; acceptor terminating
      47: invokeinterface #42,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      52: iconst_0
      53: ireturn
      54: astore_1
      55: aload_0
      56: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      59: getfield      #40                 // Field org/jgroups/blocks/cs/NioBaseServer.log:Lorg/jgroups/logging/Log;
      62: ldc           #43                 // String acceptor failure
      64: aload_1
      65: invokeinterface #44,  3           // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      70: iconst_1
      71: ireturn
    Exception table:
       from    to  target type
           0    33    37   Class java/nio/channels/ClosedSelectorException
           0    33    54   Class java/lang/Throwable

  protected void checkforPendingRegistrations();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
       4: getfield      #45                 // Field org/jgroups/blocks/cs/NioBaseServer.registration:Z
       7: ifeq          60
      10: aload_0
      11: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      14: getfield      #46                 // Field org/jgroups/blocks/cs/NioBaseServer.reg_lock:Ljava/util/concurrent/locks/Lock;
      17: invokeinterface #47,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      22: aload_0
      23: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      26: iconst_0
      27: putfield      #45                 // Field org/jgroups/blocks/cs/NioBaseServer.registration:Z
      30: aload_0
      31: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      34: getfield      #46                 // Field org/jgroups/blocks/cs/NioBaseServer.reg_lock:Ljava/util/concurrent/locks/Lock;
      37: invokeinterface #48,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      42: goto          60
      45: astore_1
      46: aload_0
      47: getfield      #1                  // Field this$0:Lorg/jgroups/blocks/cs/NioBaseServer;
      50: getfield      #46                 // Field org/jgroups/blocks/cs/NioBaseServer.reg_lock:Ljava/util/concurrent/locks/Lock;
      53: invokeinterface #48,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      58: aload_1
      59: athrow
      60: return
    Exception table:
       from    to  target type
          22    30    45   any
          45    46    45   any
}
