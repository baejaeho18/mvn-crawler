Compiled from "BlockingInputStream.java"
public class org.jgroups.util.BlockingInputStream extends java.io.InputStream {
  protected boolean closed;

  protected final byte[] buf;

  protected int read_pos;

  protected int write_pos;

  protected final java.util.concurrent.locks.Lock lock;

  protected final java.util.concurrent.locks.Condition not_full;

  protected final java.util.concurrent.locks.Condition not_empty;

  public org.jgroups.util.BlockingInputStream();
    Code:
       0: aload_0
       1: ldc           #1                  // int 100000
       3: invokespecial #2                  // Method "<init>":(I)V
       6: return

  public org.jgroups.util.BlockingInputStream(int);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/io/InputStream."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #4                  // Field closed:Z
       9: aload_0
      10: iconst_0
      11: putfield      #5                  // Field read_pos:I
      14: aload_0
      15: iconst_0
      16: putfield      #6                  // Field write_pos:I
      19: aload_0
      20: new           #7                  // class java/util/concurrent/locks/ReentrantLock
      23: dup
      24: invokespecial #8                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      27: putfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      30: aload_0
      31: aload_0
      32: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      35: invokeinterface #10,  1           // InterfaceMethod java/util/concurrent/locks/Lock.newCondition:()Ljava/util/concurrent/locks/Condition;
      40: putfield      #11                 // Field not_full:Ljava/util/concurrent/locks/Condition;
      43: aload_0
      44: aload_0
      45: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      48: invokeinterface #10,  1           // InterfaceMethod java/util/concurrent/locks/Lock.newCondition:()Ljava/util/concurrent/locks/Condition;
      53: putfield      #12                 // Field not_empty:Ljava/util/concurrent/locks/Condition;
      56: aload_0
      57: iload_1
      58: newarray       byte
      60: putfield      #13                 // Field buf:[B
      63: return

  public int read() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #14,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #5                  // Field read_pos:I
      13: aload_0
      14: getfield      #6                  // Field write_pos:I
      17: if_icmpge     63
      20: aload_0
      21: getfield      #13                 // Field buf:[B
      24: aload_0
      25: dup
      26: getfield      #5                  // Field read_pos:I
      29: dup_x1
      30: iconst_1
      31: iadd
      32: putfield      #5                  // Field read_pos:I
      35: baload
      36: sipush        255
      39: iand
      40: istore_1
      41: aload_0
      42: getfield      #11                 // Field not_full:Ljava/util/concurrent/locks/Condition;
      45: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
      50: iload_1
      51: istore_2
      52: aload_0
      53: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      56: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      61: iload_2
      62: ireturn
      63: aload_0
      64: getfield      #4                  // Field closed:Z
      67: ifeq          83
      70: iconst_m1
      71: istore_1
      72: aload_0
      73: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      76: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      81: iload_1
      82: ireturn
      83: aload_0
      84: getfield      #12                 // Field not_empty:Ljava/util/concurrent/locks/Condition;
      87: invokeinterface #17,  1           // InterfaceMethod java/util/concurrent/locks/Condition.await:()V
      92: goto          9
      95: astore_1
      96: goto          9
      99: astore_3
     100: aload_0
     101: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
     104: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     109: aload_3
     110: athrow
    Exception table:
       from    to  target type
          83    92    95   Class java/lang/InterruptedException
           9    52    99   any
          63    72    99   any
          83   100    99   any

  public int read(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: aload_1
       4: arraylength
       5: invokevirtual #19                 // Method read:([BII)I
       8: ireturn

  public int read(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_1
       1: iload_2
       2: iload_3
       3: invokestatic  #20                 // Method sanityCheck:([BII)V
       6: iconst_0
       7: istore        4
       9: aload_1
      10: arraylength
      11: iload_3
      12: invokestatic  #21                 // Method java/lang/Math.min:(II)I
      15: istore        5
      17: aload_0
      18: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      21: invokeinterface #14,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      26: iload         4
      28: iload         5
      30: if_icmpge     154
      33: aload_0
      34: getfield      #5                  // Field read_pos:I
      37: aload_0
      38: getfield      #6                  // Field write_pos:I
      41: if_icmpge     105
      44: iload_3
      45: iload         4
      47: isub
      48: aload_0
      49: invokevirtual #22                 // Method size:()I
      52: invokestatic  #21                 // Method java/lang/Math.min:(II)I
      55: istore        6
      57: aload_0
      58: getfield      #13                 // Field buf:[B
      61: aload_0
      62: getfield      #5                  // Field read_pos:I
      65: aload_1
      66: iload         4
      68: iload_2
      69: iadd
      70: iload         6
      72: invokestatic  #23                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      75: aload_0
      76: dup
      77: getfield      #5                  // Field read_pos:I
      80: iload         6
      82: iadd
      83: putfield      #5                  // Field read_pos:I
      86: iload         4
      88: iload         6
      90: iadd
      91: istore        4
      93: aload_0
      94: getfield      #11                 // Field not_full:Ljava/util/concurrent/locks/Condition;
      97: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
     102: goto          26
     105: aload_0
     106: getfield      #4                  // Field closed:Z
     109: ifeq          137
     112: iload         4
     114: ifle          122
     117: iload         4
     119: goto          123
     122: iconst_m1
     123: istore        6
     125: aload_0
     126: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
     129: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     134: iload         6
     136: ireturn
     137: aload_0
     138: getfield      #12                 // Field not_empty:Ljava/util/concurrent/locks/Condition;
     141: invokeinterface #17,  1           // InterfaceMethod java/util/concurrent/locks/Condition.await:()V
     146: goto          26
     149: astore        6
     151: goto          26
     154: iload         4
     156: ifle          164
     159: iload         4
     161: goto          165
     164: iconst_m1
     165: istore        6
     167: aload_0
     168: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
     171: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     176: iload         6
     178: ireturn
     179: astore        7
     181: aload_0
     182: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
     185: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     190: aload         7
     192: athrow
    Exception table:
       from    to  target type
         137   146   149   Class java/lang/InterruptedException
          26   125   179   any
         137   167   179   any
         179   181   179   any

  public void write(byte[]) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnull        12
       4: aload_0
       5: aload_1
       6: iconst_0
       7: aload_1
       8: arraylength
       9: invokevirtual #24                 // Method write:([BII)V
      12: return

  public void write(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_1
       6: iload_2
       7: iload_3
       8: invokestatic  #20                 // Method sanityCheck:([BII)V
      11: aload_0
      12: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      15: invokeinterface #14,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      20: aload_0
      21: getfield      #4                  // Field closed:Z
      24: ifeq          37
      27: aload_0
      28: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      31: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      36: return
      37: iconst_0
      38: istore        4
      40: iload         4
      42: iload_3
      43: if_icmpge     160
      46: aload_0
      47: getfield      #4                  // Field closed:Z
      50: ifne          160
      53: aload_0
      54: getfield      #5                  // Field read_pos:I
      57: ifle          75
      60: iload_3
      61: iload         4
      63: isub
      64: aload_0
      65: invokevirtual #25                 // Method remaining:()I
      68: if_icmple     75
      71: aload_0
      72: invokevirtual #26                 // Method compact:()V
      75: aload_0
      76: invokevirtual #25                 // Method remaining:()I
      79: ifle          143
      82: iload_3
      83: iload         4
      85: isub
      86: aload_0
      87: invokevirtual #25                 // Method remaining:()I
      90: invokestatic  #21                 // Method java/lang/Math.min:(II)I
      93: istore        5
      95: aload_1
      96: iload_2
      97: iload         4
      99: iadd
     100: aload_0
     101: getfield      #13                 // Field buf:[B
     104: aload_0
     105: getfield      #6                  // Field write_pos:I
     108: iload         5
     110: invokestatic  #23                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
     113: aload_0
     114: dup
     115: getfield      #6                  // Field write_pos:I
     118: iload         5
     120: iadd
     121: putfield      #6                  // Field write_pos:I
     124: iload         4
     126: iload         5
     128: iadd
     129: istore        4
     131: aload_0
     132: getfield      #12                 // Field not_empty:Ljava/util/concurrent/locks/Condition;
     135: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
     140: goto          40
     143: aload_0
     144: getfield      #11                 // Field not_full:Ljava/util/concurrent/locks/Condition;
     147: invokeinterface #17,  1           // InterfaceMethod java/util/concurrent/locks/Condition.await:()V
     152: goto          40
     155: astore        5
     157: goto          40
     160: aload_0
     161: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
     164: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     169: goto          186
     172: astore        6
     174: aload_0
     175: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
     178: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     183: aload         6
     185: athrow
     186: return
    Exception table:
       from    to  target type
         143   152   155   Class java/lang/InterruptedException
          20    27   172   any
          37   160   172   any
         172   174   172   any

  public long skip(long) throws java.io.IOException;
    Code:
       0: new           #27                 // class java/io/IOException
       3: dup
       4: ldc           #28                 // String skip() not supported
       6: invokespecial #29                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
       9: athrow

  public int available() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #14,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: invokevirtual #22                 // Method size:()I
      13: istore_1
      14: aload_0
      15: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      18: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      23: iload_1
      24: ireturn
      25: astore_2
      26: aload_0
      27: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      30: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      35: aload_2
      36: athrow
    Exception table:
       from    to  target type
           9    14    25   any
          25    26    25   any

  public int capacity();
    Code:
       0: aload_0
       1: getfield      #13                 // Field buf:[B
       4: arraylength
       5: ireturn

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #14,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #4                  // Field closed:Z
      13: ifeq          26
      16: aload_0
      17: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      20: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      25: return
      26: aload_0
      27: iconst_1
      28: putfield      #4                  // Field closed:Z
      31: aload_0
      32: getfield      #12                 // Field not_empty:Ljava/util/concurrent/locks/Condition;
      35: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
      40: aload_0
      41: getfield      #11                 // Field not_full:Ljava/util/concurrent/locks/Condition;
      44: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
      49: aload_0
      50: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      53: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      58: goto          73
      61: astore_1
      62: aload_0
      63: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      66: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      71: aload_1
      72: athrow
      73: return
    Exception table:
       from    to  target type
           9    16    61   any
          26    49    61   any
          61    62    61   any

  public boolean isClosed();
    Code:
       0: aload_0
       1: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #14,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #4                  // Field closed:Z
      13: istore_1
      14: aload_0
      15: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      18: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      23: iload_1
      24: ireturn
      25: astore_2
      26: aload_0
      27: getfield      #9                  // Field lock:Ljava/util/concurrent/locks/Lock;
      30: invokeinterface #16,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      35: aload_2
      36: athrow
    Exception table:
       from    to  target type
           9    14    25   any
          25    26    25   any

  public java.lang.String toString();
    Code:
       0: new           #30                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: invokevirtual #22                 // Method size:()I
      11: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      14: ldc           #33                 // String /
      16: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload_0
      20: invokevirtual #35                 // Method capacity:()I
      23: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      26: ldc           #36                 // String , size=
      28: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: aload_0
      32: invokevirtual #22                 // Method size:()I
      35: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      38: ldc           #37                 // String , remaining=
      40: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: aload_0
      44: invokevirtual #25                 // Method remaining:()I
      47: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      50: aload_0
      51: getfield      #4                  // Field closed:Z
      54: ifeq          62
      57: ldc           #38                 // String  (closed)
      59: goto          64
      62: ldc           #39                 // String
      64: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: areturn

  protected int size();
    Code:
       0: aload_0
       1: getfield      #6                  // Field write_pos:I
       4: aload_0
       5: getfield      #5                  // Field read_pos:I
       8: isub
       9: ireturn

  protected int remaining();
    Code:
       0: aload_0
       1: getfield      #13                 // Field buf:[B
       4: arraylength
       5: aload_0
       6: getfield      #6                  // Field write_pos:I
       9: isub
      10: ireturn

  protected void compact();
    Code:
       0: aload_0
       1: getfield      #5                  // Field read_pos:I
       4: ifne          8
       7: return
       8: aload_0
       9: invokevirtual #22                 // Method size:()I
      12: ifne          26
      15: aload_0
      16: aload_0
      17: iconst_0
      18: dup_x1
      19: putfield      #6                  // Field write_pos:I
      22: putfield      #5                  // Field read_pos:I
      25: return
      26: aload_0
      27: getfield      #6                  // Field write_pos:I
      30: aload_0
      31: getfield      #5                  // Field read_pos:I
      34: isub
      35: istore_1
      36: aload_0
      37: getfield      #13                 // Field buf:[B
      40: aload_0
      41: getfield      #5                  // Field read_pos:I
      44: aload_0
      45: getfield      #13                 // Field buf:[B
      48: iconst_0
      49: iload_1
      50: invokestatic  #23                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      53: aload_0
      54: dup
      55: getfield      #6                  // Field write_pos:I
      58: aload_0
      59: getfield      #5                  // Field read_pos:I
      62: isub
      63: putfield      #6                  // Field write_pos:I
      66: aload_0
      67: iconst_0
      68: putfield      #5                  // Field read_pos:I
      71: aload_0
      72: getfield      #11                 // Field not_full:Ljava/util/concurrent/locks/Condition;
      75: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
      80: return

  protected static void sanityCheck(byte[], int, int);
    Code:
       0: aload_0
       1: ifnonnull     14
       4: new           #41                 // class java/lang/NullPointerException
       7: dup
       8: ldc           #42                 // String buffer is null
      10: invokespecial #43                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: iload_1
      15: iload_2
      16: iadd
      17: aload_0
      18: arraylength
      19: if_icmple     73
      22: new           #44                 // class java/lang/ArrayIndexOutOfBoundsException
      25: dup
      26: new           #30                 // class java/lang/StringBuilder
      29: dup
      30: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #45                 // String length (
      35: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: iload_2
      39: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      42: ldc           #46                 // String ) + offset (
      44: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: iload_1
      48: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      51: ldc           #47                 // String ) > buf.length (
      53: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      56: aload_0
      57: arraylength
      58: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      61: ldc           #48                 // String )
      63: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      69: invokespecial #49                 // Method java/lang/ArrayIndexOutOfBoundsException."<init>":(Ljava/lang/String;)V
      72: athrow
      73: return
}
