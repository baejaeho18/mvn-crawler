Compiled from "FRAG2.java"
public class org.jgroups.protocols.FRAG2 extends org.jgroups.stack.Protocol {
  protected int frag_size;

  protected final java.util.concurrent.ConcurrentMap<org.jgroups.Address, java.util.concurrent.ConcurrentMap<java.lang.Long, org.jgroups.protocols.FRAG2$FragEntry>> fragment_list;

  protected int curr_id;

  protected final java.util.List<org.jgroups.Address> members;

  protected org.jgroups.Address local_addr;

  java.util.concurrent.atomic.AtomicLong num_frags_sent;

  java.util.concurrent.atomic.AtomicLong num_frags_received;

  public org.jgroups.protocols.FRAG2();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jgroups/stack/Protocol."<init>":()V
       4: aload_0
       5: ldc           #2                  // int 60000
       7: putfield      #3                  // Field frag_size:I
      10: aload_0
      11: bipush        11
      13: invokestatic  #4                  // Method org/jgroups/util/Util.createConcurrentMap:(I)Ljava/util/concurrent/ConcurrentMap;
      16: putfield      #5                  // Field fragment_list:Ljava/util/concurrent/ConcurrentMap;
      19: aload_0
      20: iconst_1
      21: putfield      #6                  // Field curr_id:I
      24: aload_0
      25: new           #7                  // class java/util/ArrayList
      28: dup
      29: bipush        11
      31: invokespecial #8                  // Method java/util/ArrayList."<init>":(I)V
      34: putfield      #9                  // Field members:Ljava/util/List;
      37: aload_0
      38: new           #10                 // class java/util/concurrent/atomic/AtomicLong
      41: dup
      42: lconst_0
      43: invokespecial #11                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      46: putfield      #12                 // Field num_frags_sent:Ljava/util/concurrent/atomic/AtomicLong;
      49: aload_0
      50: new           #10                 // class java/util/concurrent/atomic/AtomicLong
      53: dup
      54: lconst_0
      55: invokespecial #11                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      58: putfield      #13                 // Field num_frags_received:Ljava/util/concurrent/atomic/AtomicLong;
      61: return

  public int getFragSize();
    Code:
       0: aload_0
       1: getfield      #3                  // Field frag_size:I
       4: ireturn

  public void setFragSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #3                  // Field frag_size:I
       5: return

  public long getNumberOfSentFragments();
    Code:
       0: aload_0
       1: getfield      #12                 // Field num_frags_sent:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #14                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public long getNumberOfReceivedFragments();
    Code:
       0: aload_0
       1: getfield      #13                 // Field num_frags_received:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #14                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public int fragSize();
    Code:
       0: aload_0
       1: getfield      #3                  // Field frag_size:I
       4: ireturn

  public org.jgroups.protocols.FRAG2 fragSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #3                  // Field frag_size:I
       5: aload_0
       6: areturn

  synchronized int getNextId();
    Code:
       0: aload_0
       1: dup
       2: getfield      #6                  // Field curr_id:I
       5: dup_x1
       6: iconst_1
       7: iadd
       8: putfield      #6                  // Field curr_id:I
      11: ireturn

  public void init() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #15                 // Method org/jgroups/stack/Protocol.init:()V
       4: aload_0
       5: getfield      #3                  // Field frag_size:I
       8: istore_1
       9: aload_0
      10: getfield      #3                  // Field frag_size:I
      13: ifgt          60
      16: new           #16                 // class java/lang/Exception
      19: dup
      20: new           #17                 // class java/lang/StringBuilder
      23: dup
      24: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #19                 // String frag_size=
      29: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: iload_1
      33: invokevirtual #21                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      36: ldc           #22                 // String , new frag_size=
      38: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: aload_0
      42: getfield      #3                  // Field frag_size:I
      45: invokevirtual #21                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      48: ldc           #23                 // String : new frag_size is invalid
      50: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      56: invokespecial #25                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
      59: athrow
      60: aload_0
      61: invokevirtual #26                 // Method getTransport:()Lorg/jgroups/protocols/TP;
      64: astore_2
      65: aload_2
      66: ifnull        126
      69: aload_2
      70: invokevirtual #27                 // Method org/jgroups/protocols/TP.getMaxBundleSize:()I
      73: istore_3
      74: aload_0
      75: getfield      #3                  // Field frag_size:I
      78: iload_3
      79: if_icmplt     126
      82: new           #28                 // class java/lang/IllegalArgumentException
      85: dup
      86: new           #17                 // class java/lang/StringBuilder
      89: dup
      90: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      93: ldc           #29                 // String frag_size (
      95: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: aload_0
      99: getfield      #3                  // Field frag_size:I
     102: invokevirtual #21                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     105: ldc           #30                 // String ) has to be < TP.max_bundle_size (
     107: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: iload_3
     111: invokevirtual #21                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     114: ldc           #31                 // String )
     116: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     119: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     122: invokespecial #32                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     125: athrow
     126: new           #33                 // class java/util/HashMap
     129: dup
     130: iconst_1
     131: invokespecial #34                 // Method java/util/HashMap."<init>":(I)V
     134: astore_3
     135: aload_3
     136: ldc           #35                 // String frag_size
     138: aload_0
     139: getfield      #3                  // Field frag_size:I
     142: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     145: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     150: pop
     151: aload_0
     152: getfield      #38                 // Field down_prot:Lorg/jgroups/stack/Protocol;
     155: new           #39                 // class org/jgroups/Event
     158: dup
     159: bipush        56
     161: aload_3
     162: invokespecial #40                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     165: invokevirtual #41                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     168: pop
     169: return

  public void resetStats();
    Code:
       0: aload_0
       1: invokespecial #42                 // Method org/jgroups/stack/Protocol.resetStats:()V
       4: aload_0
       5: getfield      #12                 // Field num_frags_sent:Ljava/util/concurrent/atomic/AtomicLong;
       8: lconst_0
       9: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
      12: aload_0
      13: getfield      #13                 // Field num_frags_received:Ljava/util/concurrent/atomic/AtomicLong;
      16: lconst_0
      17: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
      20: return

  public java.lang.Object down(org.jgroups.Event);
    Code:
       0: aload_1
       1: invokevirtual #44                 // Method org/jgroups/Event.getType:()I
       4: lookupswitch  { // 3
                     1: 40
                     6: 71
                     8: 85
               default: 96
          }
      40: aload_1
      41: invokevirtual #45                 // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      44: checkcast     #46                 // class org/jgroups/Message
      47: astore_2
      48: aload_2
      49: invokevirtual #47                 // Method org/jgroups/Message.getLength:()I
      52: i2l
      53: lstore_3
      54: lload_3
      55: aload_0
      56: getfield      #3                  // Field frag_size:I
      59: i2l
      60: lcmp
      61: ifle          96
      64: aload_0
      65: aload_2
      66: invokevirtual #48                 // Method fragment:(Lorg/jgroups/Message;)V
      69: aconst_null
      70: areturn
      71: aload_0
      72: aload_1
      73: invokevirtual #45                 // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      76: checkcast     #49                 // class org/jgroups/View
      79: invokevirtual #50                 // Method handleViewChange:(Lorg/jgroups/View;)V
      82: goto          96
      85: aload_0
      86: aload_1
      87: invokevirtual #45                 // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      90: checkcast     #51                 // class org/jgroups/Address
      93: putfield      #52                 // Field local_addr:Lorg/jgroups/Address;
      96: aload_0
      97: getfield      #38                 // Field down_prot:Lorg/jgroups/stack/Protocol;
     100: aload_1
     101: invokevirtual #41                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     104: areturn

  public java.lang.Object up(org.jgroups.Event);
    Code:
       0: aload_1
       1: invokevirtual #44                 // Method org/jgroups/Event.getType:()I
       4: lookupswitch  { // 2
                     1: 32
                     6: 137
               default: 148
          }
      32: aload_1
      33: invokevirtual #45                 // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      36: checkcast     #46                 // class org/jgroups/Message
      39: astore_2
      40: aload_2
      41: aload_0
      42: getfield      #53                 // Field id:S
      45: invokevirtual #54                 // Method org/jgroups/Message.getHeader:(S)Lorg/jgroups/Header;
      48: checkcast     #55                 // class org/jgroups/protocols/FragHeader
      51: astore_3
      52: aload_3
      53: ifnull        148
      56: aload_0
      57: aload_2
      58: aload_3
      59: invokevirtual #56                 // Method unfragment:(Lorg/jgroups/Message;Lorg/jgroups/protocols/FragHeader;)Lorg/jgroups/Message;
      62: astore        4
      64: aload         4
      66: ifnull        135
      69: aload_0
      70: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
      73: invokeinterface #58,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      78: ifeq          108
      81: aload_0
      82: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
      85: ldc           #59                 // String %s: assembled_msg is %s
      87: iconst_2
      88: anewarray     #60                 // class java/lang/Object
      91: dup
      92: iconst_0
      93: aload_0
      94: getfield      #52                 // Field local_addr:Lorg/jgroups/Address;
      97: aastore
      98: dup
      99: iconst_1
     100: aload         4
     102: aastore
     103: invokeinterface #61,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     108: aload         4
     110: aload_2
     111: invokevirtual #62                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
     114: invokevirtual #63                 // Method org/jgroups/Message.setSrc:(Lorg/jgroups/Address;)V
     117: aload_0
     118: getfield      #64                 // Field up_prot:Lorg/jgroups/stack/Protocol;
     121: new           #39                 // class org/jgroups/Event
     124: dup
     125: iconst_1
     126: aload         4
     128: invokespecial #40                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     131: invokevirtual #65                 // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/Event;)Ljava/lang/Object;
     134: pop
     135: aconst_null
     136: areturn
     137: aload_0
     138: aload_1
     139: invokevirtual #45                 // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
     142: checkcast     #49                 // class org/jgroups/View
     145: invokevirtual #50                 // Method handleViewChange:(Lorg/jgroups/View;)V
     148: aload_0
     149: getfield      #64                 // Field up_prot:Lorg/jgroups/stack/Protocol;
     152: aload_1
     153: invokevirtual #65                 // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/Event;)Ljava/lang/Object;
     156: areturn

  public void up(org.jgroups.util.MessageBatch);
    Code:
       0: aload_1
       1: invokevirtual #66                 // Method org/jgroups/util/MessageBatch.iterator:()Ljava/util/Iterator;
       4: astore_2
       5: aload_2
       6: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      11: ifeq          76
      14: aload_2
      15: invokeinterface #68,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      20: checkcast     #46                 // class org/jgroups/Message
      23: astore_3
      24: aload_3
      25: aload_0
      26: getfield      #53                 // Field id:S
      29: invokevirtual #54                 // Method org/jgroups/Message.getHeader:(S)Lorg/jgroups/Header;
      32: checkcast     #55                 // class org/jgroups/protocols/FragHeader
      35: astore        4
      37: aload         4
      39: ifnull        73
      42: aload_0
      43: aload_3
      44: aload         4
      46: invokevirtual #56                 // Method unfragment:(Lorg/jgroups/Message;Lorg/jgroups/protocols/FragHeader;)Lorg/jgroups/Message;
      49: astore        5
      51: aload         5
      53: ifnull        67
      56: aload_1
      57: aload_3
      58: aload         5
      60: invokevirtual #69                 // Method org/jgroups/util/MessageBatch.replace:(Lorg/jgroups/Message;Lorg/jgroups/Message;)Lorg/jgroups/util/MessageBatch;
      63: pop
      64: goto          73
      67: aload_1
      68: aload_3
      69: invokevirtual #70                 // Method org/jgroups/util/MessageBatch.remove:(Lorg/jgroups/Message;)Lorg/jgroups/util/MessageBatch;
      72: pop
      73: goto          5
      76: aload_1
      77: invokevirtual #71                 // Method org/jgroups/util/MessageBatch.isEmpty:()Z
      80: ifne          91
      83: aload_0
      84: getfield      #64                 // Field up_prot:Lorg/jgroups/stack/Protocol;
      87: aload_1
      88: invokevirtual #72                 // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/util/MessageBatch;)V
      91: return

  protected void handleViewChange(org.jgroups.View);
    Code:
       0: aload_1
       1: invokevirtual #73                 // Method org/jgroups/View.getMembers:()Ljava/util/List;
       4: astore_2
       5: aload_0
       6: getfield      #9                  // Field members:Ljava/util/List;
       9: aload_2
      10: invokestatic  #74                 // Method org/jgroups/util/Util.determineLeftMembers:(Ljava/util/List;Ljava/util/List;)Ljava/util/List;
      13: astore_3
      14: aload_0
      15: getfield      #9                  // Field members:Ljava/util/List;
      18: invokeinterface #75,  1           // InterfaceMethod java/util/List.clear:()V
      23: aload_0
      24: getfield      #9                  // Field members:Ljava/util/List;
      27: aload_2
      28: invokeinterface #76,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      33: pop
      34: aload_3
      35: invokeinterface #77,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      40: astore        4
      42: aload         4
      44: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      49: ifeq          106
      52: aload         4
      54: invokeinterface #68,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      59: checkcast     #51                 // class org/jgroups/Address
      62: astore        5
      64: aload_0
      65: getfield      #5                  // Field fragment_list:Ljava/util/concurrent/ConcurrentMap;
      68: aload         5
      70: invokeinterface #78,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      75: pop
      76: aload_0
      77: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
      80: ldc           #79                 // String %s: removed %s from fragmentation table
      82: iconst_2
      83: anewarray     #60                 // class java/lang/Object
      86: dup
      87: iconst_0
      88: aload_0
      89: getfield      #52                 // Field local_addr:Lorg/jgroups/Address;
      92: aastore
      93: dup
      94: iconst_1
      95: aload         5
      97: aastore
      98: invokeinterface #61,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     103: goto          42
     106: return

  public void clearFragmentsFor(org.jgroups.Address);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_0
       6: getfield      #5                  // Field fragment_list:Ljava/util/concurrent/ConcurrentMap;
       9: aload_1
      10: invokeinterface #78,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      15: pop
      16: aload_0
      17: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
      20: ldc           #79                 // String %s: removed %s from fragmentation table
      22: iconst_2
      23: anewarray     #60                 // class java/lang/Object
      26: dup
      27: iconst_0
      28: aload_0
      29: getfield      #52                 // Field local_addr:Lorg/jgroups/Address;
      32: aastore
      33: dup
      34: iconst_1
      35: aload_1
      36: aastore
      37: invokeinterface #61,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
      42: return

  public void clearAllFragments();
    Code:
       0: aload_0
       1: getfield      #5                  // Field fragment_list:Ljava/util/concurrent/ConcurrentMap;
       4: invokeinterface #80,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.clear:()V
       9: return

  protected void fragment(org.jgroups.Message);
    Code:
       0: aload_1
       1: invokevirtual #81                 // Method org/jgroups/Message.getRawBuffer:()[B
       4: astore_2
       5: aload_1
       6: invokevirtual #82                 // Method org/jgroups/Message.getOffset:()I
       9: aload_1
      10: invokevirtual #47                 // Method org/jgroups/Message.getLength:()I
      13: aload_0
      14: getfield      #3                  // Field frag_size:I
      17: invokestatic  #83                 // Method org/jgroups/util/Util.computeFragOffsets:(III)Ljava/util/List;
      20: astore_3
      21: aload_3
      22: invokeinterface #84,  1           // InterfaceMethod java/util/List.size:()I
      27: istore        4
      29: aload_0
      30: getfield      #12                 // Field num_frags_sent:Ljava/util/concurrent/atomic/AtomicLong;
      33: iload         4
      35: i2l
      36: invokevirtual #85                 // Method java/util/concurrent/atomic/AtomicLong.addAndGet:(J)J
      39: pop2
      40: aload_0
      41: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
      44: invokeinterface #58,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      49: ifeq          123
      52: aload_1
      53: invokevirtual #86                 // Method org/jgroups/Message.getDest:()Lorg/jgroups/Address;
      56: astore        5
      58: aload_0
      59: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
      62: ldc           #87                 // String %s: fragmenting message to %s (size=%d) into %d fragment(s) [frag_size=%d]
      64: iconst_5
      65: anewarray     #60                 // class java/lang/Object
      68: dup
      69: iconst_0
      70: aload_0
      71: getfield      #52                 // Field local_addr:Lorg/jgroups/Address;
      74: aastore
      75: dup
      76: iconst_1
      77: aload         5
      79: ifnull        87
      82: aload         5
      84: goto          89
      87: ldc           #88                 // String <all>
      89: aastore
      90: dup
      91: iconst_2
      92: aload_1
      93: invokevirtual #47                 // Method org/jgroups/Message.getLength:()I
      96: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      99: aastore
     100: dup
     101: iconst_3
     102: iload         4
     104: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     107: aastore
     108: dup
     109: iconst_4
     110: aload_0
     111: getfield      #3                  // Field frag_size:I
     114: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     117: aastore
     118: invokeinterface #61,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     123: aload_0
     124: invokevirtual #89                 // Method getNextId:()I
     127: i2l
     128: lstore        5
     130: iconst_0
     131: istore        7
     133: iload         7
     135: iload         4
     137: if_icmpge     240
     140: aload_3
     141: iload         7
     143: invokeinterface #90,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     148: checkcast     #91                 // class org/jgroups/util/Range
     151: astore        8
     153: aload_1
     154: iconst_0
     155: iload         7
     157: ifne          164
     160: iconst_1
     161: goto          165
     164: iconst_0
     165: invokevirtual #92                 // Method org/jgroups/Message.copy:(ZZ)Lorg/jgroups/Message;
     168: astore        9
     170: aload         9
     172: aload_2
     173: aload         8
     175: getfield      #93                 // Field org/jgroups/util/Range.low:J
     178: l2i
     179: aload         8
     181: getfield      #94                 // Field org/jgroups/util/Range.high:J
     184: l2i
     185: invokevirtual #95                 // Method org/jgroups/Message.setBuffer:([BII)Lorg/jgroups/Message;
     188: pop
     189: new           #55                 // class org/jgroups/protocols/FragHeader
     192: dup
     193: lload         5
     195: iload         7
     197: iload         4
     199: invokespecial #96                 // Method org/jgroups/protocols/FragHeader."<init>":(JII)V
     202: astore        10
     204: aload         9
     206: aload_0
     207: getfield      #53                 // Field id:S
     210: aload         10
     212: invokevirtual #97                 // Method org/jgroups/Message.putHeader:(SLorg/jgroups/Header;)Lorg/jgroups/Message;
     215: pop
     216: aload_0
     217: getfield      #38                 // Field down_prot:Lorg/jgroups/stack/Protocol;
     220: new           #39                 // class org/jgroups/Event
     223: dup
     224: iconst_1
     225: aload         9
     227: invokespecial #40                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     230: invokevirtual #41                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     233: pop
     234: iinc          7, 1
     237: goto          133
     240: goto          270
     243: astore_2
     244: aload_0
     245: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
     248: ldc           #98                 // String %s: fragmentation failure: %s
     250: iconst_2
     251: anewarray     #60                 // class java/lang/Object
     254: dup
     255: iconst_0
     256: aload_0
     257: getfield      #52                 // Field local_addr:Lorg/jgroups/Address;
     260: aastore
     261: dup
     262: iconst_1
     263: aload_2
     264: aastore
     265: invokeinterface #99,  3           // InterfaceMethod org/jgroups/logging/Log.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     270: return
    Exception table:
       from    to  target type
           0   240   243   Class java/lang/Exception

  protected org.jgroups.Message unfragment(org.jgroups.Message, org.jgroups.protocols.FragHeader);
    Code:
       0: aload_1
       1: invokevirtual #62                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
       4: astore_3
       5: aconst_null
       6: astore        4
       8: aload_0
       9: getfield      #5                  // Field fragment_list:Ljava/util/concurrent/ConcurrentMap;
      12: aload_3
      13: invokeinterface #100,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      18: checkcast     #101                // class java/util/concurrent/ConcurrentMap
      21: astore        5
      23: aload         5
      25: ifnonnull     65
      28: bipush        16
      30: ldc           #102                // float 0.075f
      32: bipush        16
      34: invokestatic  #103                // Method org/jgroups/util/Util.createConcurrentMap:(IFI)Ljava/util/concurrent/ConcurrentMap;
      37: astore        5
      39: aload_0
      40: getfield      #5                  // Field fragment_list:Ljava/util/concurrent/ConcurrentMap;
      43: aload_3
      44: aload         5
      46: invokeinterface #104,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      51: checkcast     #101                // class java/util/concurrent/ConcurrentMap
      54: astore        6
      56: aload         6
      58: ifnull        65
      61: aload         6
      63: astore        5
      65: aload_0
      66: getfield      #13                 // Field num_frags_received:Ljava/util/concurrent/atomic/AtomicLong;
      69: invokevirtual #105                // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      72: pop2
      73: aload         5
      75: aload_2
      76: getfield      #106                // Field org/jgroups/protocols/FragHeader.id:J
      79: invokestatic  #107                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      82: invokeinterface #100,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      87: checkcast     #108                // class org/jgroups/protocols/FRAG2$FragEntry
      90: astore        6
      92: aload         6
      94: ifnonnull     140
      97: new           #108                // class org/jgroups/protocols/FRAG2$FragEntry
     100: dup
     101: aload_2
     102: getfield      #109                // Field org/jgroups/protocols/FragHeader.num_frags:I
     105: invokespecial #110                // Method org/jgroups/protocols/FRAG2$FragEntry."<init>":(I)V
     108: astore        6
     110: aload         5
     112: aload_2
     113: getfield      #106                // Field org/jgroups/protocols/FragHeader.id:J
     116: invokestatic  #107                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     119: aload         6
     121: invokeinterface #104,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     126: checkcast     #108                // class org/jgroups/protocols/FRAG2$FragEntry
     129: astore        7
     131: aload         7
     133: ifnull        140
     136: aload         7
     138: astore        6
     140: aload         6
     142: invokevirtual #111                // Method org/jgroups/protocols/FRAG2$FragEntry.lock:()V
     145: aload         6
     147: aload_2
     148: getfield      #112                // Field org/jgroups/protocols/FragHeader.frag_id:I
     151: aload_1
     152: invokevirtual #113                // Method org/jgroups/protocols/FRAG2$FragEntry.set:(ILorg/jgroups/Message;)V
     155: aload         6
     157: invokevirtual #114                // Method org/jgroups/protocols/FRAG2$FragEntry.isComplete:()Z
     160: ifeq          245
     163: aload         6
     165: invokevirtual #115                // Method org/jgroups/protocols/FRAG2$FragEntry.assembleMessage:()Lorg/jgroups/Message;
     168: astore        4
     170: aload         5
     172: aload_2
     173: getfield      #106                // Field org/jgroups/protocols/FragHeader.id:J
     176: invokestatic  #107                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     179: invokeinterface #78,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     184: pop
     185: aload_0
     186: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
     189: invokeinterface #58,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     194: ifeq          245
     197: aload_0
     198: getfield      #57                 // Field log:Lorg/jgroups/logging/Log;
     201: ldc           #116                // String %s: unfragmented message from %s (size=%d) from %d fragments
     203: iconst_4
     204: anewarray     #60                 // class java/lang/Object
     207: dup
     208: iconst_0
     209: aload_0
     210: getfield      #52                 // Field local_addr:Lorg/jgroups/Address;
     213: aastore
     214: dup
     215: iconst_1
     216: aload_3
     217: aastore
     218: dup
     219: iconst_2
     220: aload         4
     222: invokevirtual #47                 // Method org/jgroups/Message.getLength:()I
     225: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     228: aastore
     229: dup
     230: iconst_3
     231: aload         6
     233: getfield      #117                // Field org/jgroups/protocols/FRAG2$FragEntry.number_of_frags_recvd:I
     236: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     239: aastore
     240: invokeinterface #61,  3           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     245: aload         6
     247: invokevirtual #118                // Method org/jgroups/protocols/FRAG2$FragEntry.unlock:()V
     250: goto          263
     253: astore        8
     255: aload         6
     257: invokevirtual #118                // Method org/jgroups/protocols/FRAG2$FragEntry.unlock:()V
     260: aload         8
     262: athrow
     263: aload         4
     265: areturn
    Exception table:
       from    to  target type
         145   245   253   any
         253   255   253   any
}
