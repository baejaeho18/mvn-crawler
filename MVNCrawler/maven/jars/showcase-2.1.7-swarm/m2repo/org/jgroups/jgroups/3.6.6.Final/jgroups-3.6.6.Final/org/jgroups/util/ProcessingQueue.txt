Compiled from "ProcessingQueue.java"
public class org.jgroups.util.ProcessingQueue<T> {
  protected final java.util.Queue<T> queue;

  protected final java.util.concurrent.locks.ReentrantLock producer_lock;

  protected final java.util.concurrent.locks.ReentrantLock consumer_lock;

  protected int count;

  protected org.jgroups.util.ProcessingQueue$Handler<T> handler;

  public org.jgroups.util.ProcessingQueue();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentLinkedQueue
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
      12: putfield      #4                  // Field queue:Ljava/util/Queue;
      15: aload_0
      16: new           #5                  // class java/util/concurrent/locks/ReentrantLock
      19: dup
      20: invokespecial #6                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      23: putfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      26: aload_0
      27: new           #5                  // class java/util/concurrent/locks/ReentrantLock
      30: dup
      31: invokespecial #6                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      34: putfield      #8                  // Field consumer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      37: aload_0
      38: iconst_0
      39: putfield      #9                  // Field count:I
      42: return

  public java.util.Queue<T> getQueue();
    Code:
       0: aload_0
       1: getfield      #4                  // Field queue:Ljava/util/Queue;
       4: areturn

  public int size();
    Code:
       0: aload_0
       1: getfield      #4                  // Field queue:Ljava/util/Queue;
       4: invokeinterface #10,  1           // InterfaceMethod java/util/Queue.size:()I
       9: ireturn

  public org.jgroups.util.ProcessingQueue<T> setHandler(org.jgroups.util.ProcessingQueue$Handler<T>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #11                 // Field handler:Lorg/jgroups/util/ProcessingQueue$Handler;
       5: aload_0
       6: areturn

  public void add(T);
    Code:
       0: aload_0
       1: getfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: getfield      #4                  // Field queue:Ljava/util/Queue;
      11: aload_1
      12: invokeinterface #13,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      17: pop
      18: aload_0
      19: dup
      20: getfield      #9                  // Field count:I
      23: iconst_1
      24: iadd
      25: putfield      #9                  // Field count:I
      28: aload_0
      29: getfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      32: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      35: goto          48
      38: astore_2
      39: aload_0
      40: getfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      43: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      46: aload_2
      47: athrow
      48: aload_0
      49: invokevirtual #15                 // Method process:()V
      52: return
    Exception table:
       from    to  target type
           7    28    38   any
          38    39    38   any

  public boolean retainAll(java.util.Collection<T>);
    Code:
       0: aload_0
       1: getfield      #4                  // Field queue:Ljava/util/Queue;
       4: aload_1
       5: invokeinterface #16,  2           // InterfaceMethod java/util/Queue.retainAll:(Ljava/util/Collection;)Z
      10: ireturn

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #4                  // Field queue:Ljava/util/Queue;
       4: invokevirtual #17                 // Method java/lang/Object.toString:()Ljava/lang/String;
       7: areturn

  protected void process();
    Code:
       0: aload_0
       1: getfield      #8                  // Field consumer_lock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantLock.tryLock:()Z
       7: ifeq          167
      10: aload_0
      11: getfield      #4                  // Field queue:Ljava/util/Queue;
      14: invokeinterface #19,  1           // InterfaceMethod java/util/Queue.poll:()Ljava/lang/Object;
      19: astore_1
      20: aload_1
      21: ifnull        52
      24: aload_0
      25: getfield      #11                 // Field handler:Lorg/jgroups/util/ProcessingQueue$Handler;
      28: ifnull        52
      31: aload_0
      32: getfield      #11                 // Field handler:Lorg/jgroups/util/ProcessingQueue$Handler;
      35: aload_1
      36: invokeinterface #20,  2           // InterfaceMethod org/jgroups/util/ProcessingQueue$Handler.handle:(Ljava/lang/Object;)V
      41: goto          52
      44: astore_2
      45: aload_2
      46: getstatic     #22                 // Field java/lang/System.err:Ljava/io/PrintStream;
      49: invokevirtual #23                 // Method java/lang/Throwable.printStackTrace:(Ljava/io/PrintStream;)V
      52: aload_0
      53: getfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      56: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
      59: aload_0
      60: getfield      #9                  // Field count:I
      63: ifeq          75
      66: aload_0
      67: getfield      #9                  // Field count:I
      70: iconst_1
      71: isub
      72: ifne          112
      75: aload_0
      76: iconst_0
      77: putfield      #9                  // Field count:I
      80: aload_0
      81: getfield      #8                  // Field consumer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      84: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      87: aload_0
      88: getfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      91: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      94: aload_0
      95: getfield      #8                  // Field consumer_lock:Ljava/util/concurrent/locks/ReentrantLock;
      98: invokevirtual #24                 // Method java/util/concurrent/locks/ReentrantLock.isHeldByCurrentThread:()Z
     101: ifeq          111
     104: aload_0
     105: getfield      #8                  // Field consumer_lock:Ljava/util/concurrent/locks/ReentrantLock;
     108: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     111: return
     112: aload_0
     113: dup
     114: getfield      #9                  // Field count:I
     117: iconst_1
     118: isub
     119: putfield      #9                  // Field count:I
     122: aload_0
     123: getfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
     126: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     129: goto          142
     132: astore_3
     133: aload_0
     134: getfield      #7                  // Field producer_lock:Ljava/util/concurrent/locks/ReentrantLock;
     137: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     140: aload_3
     141: athrow
     142: goto          10
     145: astore        4
     147: aload_0
     148: getfield      #8                  // Field consumer_lock:Ljava/util/concurrent/locks/ReentrantLock;
     151: invokevirtual #24                 // Method java/util/concurrent/locks/ReentrantLock.isHeldByCurrentThread:()Z
     154: ifeq          164
     157: aload_0
     158: getfield      #8                  // Field consumer_lock:Ljava/util/concurrent/locks/ReentrantLock;
     161: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     164: aload         4
     166: athrow
     167: return
    Exception table:
       from    to  target type
          31    41    44   Class java/lang/Throwable
          59    87   132   any
         112   122   132   any
         132   133   132   any
          10    94   145   any
         112   147   145   any
}
