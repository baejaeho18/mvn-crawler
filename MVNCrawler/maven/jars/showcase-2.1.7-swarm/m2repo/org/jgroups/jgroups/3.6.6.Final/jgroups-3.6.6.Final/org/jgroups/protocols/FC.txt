Compiled from "FC.java"
public class org.jgroups.protocols.FC extends org.jgroups.stack.Protocol {
  private static final org.jgroups.protocols.FcHeader REPLENISH_HDR;

  private static final org.jgroups.protocols.FcHeader CREDIT_REQUEST_HDR;

  private long max_credits;

  private long max_block_time;

  private java.util.Map<java.lang.Long, java.lang.Long> max_block_times;

  private static final java.lang.ThreadLocal<java.lang.Long> end_time;

  private double min_threshold;

  private long min_credits;

  private boolean ignore_synchronous_response;

  private int num_blockings;

  private int num_credit_requests_received;

  private int num_credit_requests_sent;

  private int num_credit_responses_sent;

  private int num_credit_responses_received;

  private long total_time_blocking;

  private final org.jgroups.util.BoundedList<java.lang.Long> last_blockings;

  private final java.util.concurrent.ConcurrentMap<org.jgroups.Address, org.jgroups.protocols.FC$Credit> sent;

  private final java.util.concurrent.ConcurrentMap<org.jgroups.Address, org.jgroups.protocols.FC$Credit> received;

  private final java.util.Set<org.jgroups.Address> creditors;

  private volatile boolean running;

  private boolean frag_size_received;

  private long lowest_credit;

  private final java.util.concurrent.locks.Lock lock;

  private final java.util.concurrent.locks.Condition credits_available;

  private long last_credit_request;

  public org.jgroups.protocols.FC();
    Code:
       0: aload_0
       1: invokespecial #3                  // Method org/jgroups/stack/Protocol."<init>":()V
       4: aload_0
       5: ldc2_w        #4                  // long 500000l
       8: putfield      #2                  // Field max_credits:J
      11: aload_0
      12: ldc2_w        #6                  // long 5000l
      15: putfield      #8                  // Field max_block_time:J
      18: aload_0
      19: aconst_null
      20: putfield      #9                  // Field max_block_times:Ljava/util/Map;
      23: aload_0
      24: ldc2_w        #10                 // double 0.6d
      27: putfield      #12                 // Field min_threshold:D
      30: aload_0
      31: lconst_0
      32: putfield      #1                  // Field min_credits:J
      35: aload_0
      36: iconst_0
      37: putfield      #13                 // Field ignore_synchronous_response:Z
      40: aload_0
      41: iconst_0
      42: putfield      #14                 // Field num_blockings:I
      45: aload_0
      46: iconst_0
      47: putfield      #15                 // Field num_credit_requests_received:I
      50: aload_0
      51: iconst_0
      52: putfield      #16                 // Field num_credit_requests_sent:I
      55: aload_0
      56: iconst_0
      57: putfield      #17                 // Field num_credit_responses_sent:I
      60: aload_0
      61: iconst_0
      62: putfield      #18                 // Field num_credit_responses_received:I
      65: aload_0
      66: lconst_0
      67: putfield      #19                 // Field total_time_blocking:J
      70: aload_0
      71: new           #20                 // class org/jgroups/util/BoundedList
      74: dup
      75: bipush        50
      77: invokespecial #21                 // Method org/jgroups/util/BoundedList."<init>":(I)V
      80: putfield      #22                 // Field last_blockings:Lorg/jgroups/util/BoundedList;
      83: aload_0
      84: invokestatic  #23                 // Method org/jgroups/util/Util.createConcurrentMap:()Ljava/util/concurrent/ConcurrentMap;
      87: putfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
      90: aload_0
      91: invokestatic  #23                 // Method org/jgroups/util/Util.createConcurrentMap:()Ljava/util/concurrent/ConcurrentMap;
      94: putfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
      97: aload_0
      98: new           #26                 // class java/util/HashSet
     101: dup
     102: bipush        11
     104: invokespecial #27                 // Method java/util/HashSet."<init>":(I)V
     107: putfield      #28                 // Field creditors:Ljava/util/Set;
     110: aload_0
     111: iconst_1
     112: putfield      #29                 // Field running:Z
     115: aload_0
     116: iconst_0
     117: putfield      #30                 // Field frag_size_received:Z
     120: aload_0
     121: aload_0
     122: getfield      #2                  // Field max_credits:J
     125: putfield      #31                 // Field lowest_credit:J
     128: aload_0
     129: new           #32                 // class java/util/concurrent/locks/ReentrantLock
     132: dup
     133: invokespecial #33                 // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
     136: putfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     139: aload_0
     140: aload_0
     141: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     144: invokeinterface #35,  1           // InterfaceMethod java/util/concurrent/locks/Lock.newCondition:()Ljava/util/concurrent/locks/Condition;
     149: putfield      #36                 // Field credits_available:Ljava/util/concurrent/locks/Condition;
     152: aload_0
     153: lconst_0
     154: putfield      #37                 // Field last_credit_request:J
     157: return

  public void resetStats();
    Code:
       0: aload_0
       1: invokespecial #38                 // Method org/jgroups/stack/Protocol.resetStats:()V
       4: aload_0
       5: iconst_0
       6: putfield      #14                 // Field num_blockings:I
       9: aload_0
      10: aload_0
      11: aload_0
      12: aload_0
      13: iconst_0
      14: dup_x1
      15: putfield      #16                 // Field num_credit_requests_sent:I
      18: dup_x1
      19: putfield      #15                 // Field num_credit_requests_received:I
      22: dup_x1
      23: putfield      #18                 // Field num_credit_responses_received:I
      26: putfield      #17                 // Field num_credit_responses_sent:I
      29: aload_0
      30: lconst_0
      31: putfield      #19                 // Field total_time_blocking:J
      34: aload_0
      35: getfield      #22                 // Field last_blockings:Lorg/jgroups/util/BoundedList;
      38: invokevirtual #39                 // Method org/jgroups/util/BoundedList.clear:()V
      41: return

  public long getMaxCredits();
    Code:
       0: aload_0
       1: getfield      #2                  // Field max_credits:J
       4: lreturn

  public void setMaxCredits(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #2                  // Field max_credits:J
       5: return

  public double getMinThreshold();
    Code:
       0: aload_0
       1: getfield      #12                 // Field min_threshold:D
       4: dreturn

  public void setMinThreshold(double);
    Code:
       0: aload_0
       1: dload_1
       2: putfield      #12                 // Field min_threshold:D
       5: return

  public long getMinCredits();
    Code:
       0: aload_0
       1: getfield      #1                  // Field min_credits:J
       4: lreturn

  public void setMinCredits(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #1                  // Field min_credits:J
       5: return

  public int getNumberOfBlockings();
    Code:
       0: aload_0
       1: getfield      #14                 // Field num_blockings:I
       4: ireturn

  public long getMaxBlockTime();
    Code:
       0: aload_0
       1: getfield      #8                  // Field max_block_time:J
       4: lreturn

  public void setMaxBlockTime(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #8                  // Field max_block_time:J
       5: return

  public void setMaxBlockTimes(java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aconst_null
       6: astore_2
       7: aconst_null
       8: astore_3
       9: aload_1
      10: invokestatic  #40                 // Method org/jgroups/util/Util.parseCommaDelimitedStrings:(Ljava/lang/String;)Ljava/util/List;
      13: astore        4
      15: aload_0
      16: getfield      #9                  // Field max_block_times:Ljava/util/Map;
      19: ifnonnull     33
      22: aload_0
      23: new           #41                 // class java/util/TreeMap
      26: dup
      27: invokespecial #42                 // Method java/util/TreeMap."<init>":()V
      30: putfield      #9                  // Field max_block_times:Ljava/util/Map;
      33: aload         4
      35: invokeinterface #43,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      40: astore        5
      42: aload         5
      44: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      49: ifeq          294
      52: aload         5
      54: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      59: checkcast     #46                 // class java/lang/String
      62: astore        6
      64: aload         6
      66: bipush        58
      68: invokevirtual #47                 // Method java/lang/String.indexOf:(I)I
      71: istore        7
      73: iload         7
      75: iconst_m1
      76: if_icmpne     112
      79: new           #48                 // class java/lang/IllegalArgumentException
      82: dup
      83: new           #49                 // class java/lang/StringBuilder
      86: dup
      87: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      90: ldc           #51                 // String element \'
      92: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      95: aload         6
      97: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     100: ldc           #53                 // String \'  is missing a \':\' separator
     102: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     108: invokespecial #55                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     111: athrow
     112: aload         6
     114: iconst_0
     115: iload         7
     117: invokevirtual #56                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     120: invokevirtual #57                 // Method java/lang/String.trim:()Ljava/lang/String;
     123: invokestatic  #58                 // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
     126: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     129: astore        8
     131: aload         6
     133: iload         7
     135: iconst_1
     136: iadd
     137: invokevirtual #60                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     140: invokevirtual #57                 // Method java/lang/String.trim:()Ljava/lang/String;
     143: invokestatic  #58                 // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
     146: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     149: astore        9
     151: aload         8
     153: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     156: lconst_0
     157: lcmp
     158: iflt          171
     161: aload         9
     163: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     166: lconst_0
     167: lcmp
     168: ifge          181
     171: new           #48                 // class java/lang/IllegalArgumentException
     174: dup
     175: ldc           #62                 // String keys and values must be >= 0
     177: invokespecial #55                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     180: athrow
     181: aload_2
     182: ifnull        226
     185: aload         8
     187: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     190: aload_2
     191: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     194: lcmp
     195: ifgt          226
     198: new           #48                 // class java/lang/IllegalArgumentException
     201: dup
     202: new           #49                 // class java/lang/StringBuilder
     205: dup
     206: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     209: ldc           #63                 // String keys are not sorted:
     211: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     214: aload         4
     216: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     219: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     222: invokespecial #55                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     225: athrow
     226: aload         8
     228: astore_2
     229: aload_3
     230: ifnull        274
     233: aload         9
     235: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     238: aload_3
     239: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     242: lcmp
     243: ifgt          274
     246: new           #48                 // class java/lang/IllegalArgumentException
     249: dup
     250: new           #49                 // class java/lang/StringBuilder
     253: dup
     254: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     257: ldc           #65                 // String values are not sorted:
     259: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     262: aload         4
     264: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     267: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     270: invokespecial #55                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     273: athrow
     274: aload         9
     276: astore_3
     277: aload_0
     278: getfield      #9                  // Field max_block_times:Ljava/util/Map;
     281: aload         8
     283: aload         9
     285: invokeinterface #66,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     290: pop
     291: goto          42
     294: aload_0
     295: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     298: invokeinterface #68,  1           // InterfaceMethod org/jgroups/logging/Log.isDebugEnabled:()Z
     303: ifeq          337
     306: aload_0
     307: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     310: new           #49                 // class java/lang/StringBuilder
     313: dup
     314: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     317: ldc           #69                 // String max_block_times:
     319: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     322: aload_0
     323: getfield      #9                  // Field max_block_times:Ljava/util/Map;
     326: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     329: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     332: invokeinterface #70,  2           // InterfaceMethod org/jgroups/logging/Log.debug:(Ljava/lang/String;)V
     337: return

  public java.lang.String getMaxBlockTimes();
    Code:
       0: aload_0
       1: getfield      #9                  // Field max_block_times:Ljava/util/Map;
       4: ifnonnull     10
       7: ldc           #71                 // String n/a
       9: areturn
      10: new           #49                 // class java/lang/StringBuilder
      13: dup
      14: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      17: astore_1
      18: iconst_1
      19: istore_2
      20: aload_0
      21: getfield      #9                  // Field max_block_times:Ljava/util/Map;
      24: invokeinterface #72,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      29: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      34: astore_3
      35: aload_3
      36: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      41: ifeq          101
      44: aload_3
      45: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #74                 // class java/util/Map$Entry
      53: astore        4
      55: iload_2
      56: ifne          69
      59: aload_1
      60: ldc           #75                 // String ,
      62: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: pop
      66: goto          71
      69: iconst_0
      70: istore_2
      71: aload_1
      72: aload         4
      74: invokeinterface #76,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      79: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      82: ldc           #77                 // String :
      84: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      87: aload         4
      89: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      94: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      97: pop
      98: goto          35
     101: aload_1
     102: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     105: areturn

  public long getTotalTimeBlocked();
    Code:
       0: aload_0
       1: getfield      #19                 // Field total_time_blocking:J
       4: lreturn

  public double getAverageTimeBlocked();
    Code:
       0: aload_0
       1: getfield      #14                 // Field num_blockings:I
       4: ifne          11
       7: dconst_0
       8: goto          22
      11: aload_0
      12: getfield      #19                 // Field total_time_blocking:J
      15: l2d
      16: aload_0
      17: getfield      #14                 // Field num_blockings:I
      20: i2d
      21: ddiv
      22: dreturn

  public int getNumberOfCreditRequestsReceived();
    Code:
       0: aload_0
       1: getfield      #15                 // Field num_credit_requests_received:I
       4: ireturn

  public int getNumberOfCreditRequestsSent();
    Code:
       0: aload_0
       1: getfield      #16                 // Field num_credit_requests_sent:I
       4: ireturn

  public int getNumberOfCreditResponsesReceived();
    Code:
       0: aload_0
       1: getfield      #18                 // Field num_credit_responses_received:I
       4: ireturn

  public int getNumberOfCreditResponsesSent();
    Code:
       0: aload_0
       1: getfield      #17                 // Field num_credit_responses_sent:I
       4: ireturn

  public java.lang.String printSenderCredits();
    Code:
       0: aload_0
       1: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
       4: invokestatic  #79                 // Method printMap:(Ljava/util/Map;)Ljava/lang/String;
       7: areturn

  public java.lang.String printReceiverCredits();
    Code:
       0: aload_0
       1: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
       4: invokestatic  #79                 // Method printMap:(Ljava/util/Map;)Ljava/lang/String;
       7: areturn

  public java.lang.String printCredits();
    Code:
       0: new           #49                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #80                 // String senders:\n
      11: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_0
      15: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
      18: invokestatic  #79                 // Method printMap:(Ljava/util/Map;)Ljava/lang/String;
      21: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: ldc           #81                 // String \n\nreceivers:\n
      26: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: aload_0
      30: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
      33: invokestatic  #79                 // Method printMap:(Ljava/util/Map;)Ljava/lang/String;
      36: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: pop
      40: aload_1
      41: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      44: areturn

  public java.lang.String printCreditors();
    Code:
       0: aload_0
       1: getfield      #28                 // Field creditors:Ljava/util/Set;
       4: invokevirtual #82                 // Method java/lang/Object.toString:()Ljava/lang/String;
       7: areturn

  public java.util.Map<java.lang.String, java.lang.Object> dumpStats();
    Code:
       0: aload_0
       1: invokespecial #83                 // Method org/jgroups/stack/Protocol.dumpStats:()Ljava/util/Map;
       4: astore_1
       5: aload_1
       6: ldc           #84                 // String senders
       8: aload_0
       9: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
      12: invokestatic  #79                 // Method printMap:(Ljava/util/Map;)Ljava/lang/String;
      15: invokeinterface #66,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      20: pop
      21: aload_1
      22: ldc           #85                 // String receivers
      24: aload_0
      25: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
      28: invokestatic  #79                 // Method printMap:(Ljava/util/Map;)Ljava/lang/String;
      31: invokeinterface #66,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      36: pop
      37: aload_1
      38: areturn

  public java.lang.String showLastBlockingTimes();
    Code:
       0: aload_0
       1: getfield      #22                 // Field last_blockings:Lorg/jgroups/util/BoundedList;
       4: invokevirtual #86                 // Method org/jgroups/util/BoundedList.toString:()Ljava/lang/String;
       7: areturn

  private long getMaxBlockTime(long);
    Code:
       0: aload_0
       1: getfield      #9                  // Field max_block_times:Ljava/util/Map;
       4: ifnonnull     9
       7: lconst_0
       8: lreturn
       9: aconst_null
      10: astore_3
      11: aload_0
      12: getfield      #9                  // Field max_block_times:Ljava/util/Map;
      15: invokeinterface #72,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      20: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      25: astore        4
      27: aload         4
      29: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      34: ifeq          84
      37: aload         4
      39: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      44: checkcast     #74                 // class java/util/Map$Entry
      47: astore        5
      49: aload         5
      51: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      56: checkcast     #87                 // class java/lang/Long
      59: astore_3
      60: lload_1
      61: aload         5
      63: invokeinterface #76,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      68: checkcast     #87                 // class java/lang/Long
      71: invokevirtual #61                 // Method java/lang/Long.longValue:()J
      74: lcmp
      75: ifgt          81
      78: goto          84
      81: goto          27
      84: aload_3
      85: ifnull        95
      88: aload_3
      89: invokevirtual #61                 // Method java/lang/Long.longValue:()J
      92: goto          96
      95: lconst_0
      96: lreturn

  public void unblock();
    Code:
       0: aload_0
       1: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      13: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      18: ifeq          52
      21: aload_0
      22: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      25: new           #49                 // class java/lang/StringBuilder
      28: dup
      29: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      32: ldc           #90                 // String unblocking the sender and replenishing all members, creditors are
      34: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: aload_0
      38: getfield      #28                 // Field creditors:Ljava/util/Set;
      41: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      44: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      47: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      52: aload_0
      53: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
      56: invokeinterface #92,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.entrySet:()Ljava/util/Set;
      61: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      66: astore_1
      67: aload_1
      68: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      73: ifeq          105
      76: aload_1
      77: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      82: checkcast     #74                 // class java/util/Map$Entry
      85: astore_2
      86: aload_2
      87: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      92: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      95: aload_0
      96: getfield      #2                  // Field max_credits:J
      99: invokestatic  #94                 // Method org/jgroups/protocols/FC$Credit.access$000:(Lorg/jgroups/protocols/FC$Credit;J)V
     102: goto          67
     105: aload_0
     106: aload_0
     107: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     110: invokestatic  #95                 // Method computeLowestCredit:(Ljava/util/Map;)J
     113: putfield      #31                 // Field lowest_credit:J
     116: aload_0
     117: getfield      #28                 // Field creditors:Ljava/util/Set;
     120: invokeinterface #96,  1           // InterfaceMethod java/util/Set.clear:()V
     125: aload_0
     126: getfield      #36                 // Field credits_available:Ljava/util/concurrent/locks/Condition;
     129: invokeinterface #97,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
     134: aload_0
     135: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     138: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     143: goto          158
     146: astore_3
     147: aload_0
     148: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     151: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     156: aload_3
     157: athrow
     158: return
    Exception table:
       from    to  target type
           9   134   146   any
         146   147   146   any

  public void init() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #1                  // Field min_credits:J
       4: lconst_0
       5: lcmp
       6: ifeq          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: istore_1
      15: iload_1
      16: ifne          34
      19: aload_0
      20: aload_0
      21: getfield      #2                  // Field max_credits:J
      24: l2d
      25: aload_0
      26: getfield      #12                 // Field min_threshold:D
      29: dmul
      30: d2l
      31: putfield      #1                  // Field min_credits:J
      34: aload_0
      35: aload_0
      36: getfield      #2                  // Field max_credits:J
      39: putfield      #31                 // Field lowest_credit:J
      42: return

  public void start() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #99                 // Method org/jgroups/stack/Protocol.start:()V
       4: aload_0
       5: getfield      #30                 // Field frag_size_received:Z
       8: ifne          22
      11: aload_0
      12: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      15: ldc           #100                // String No fragmentation protocol was found. When flow control (e.g. FC or SFC) is used, we recommend a fragmentation protocol, due to http://jira.jboss.com/jira/browse/JGRP-590
      17: invokeinterface #101,  2          // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;)V
      22: aload_0
      23: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      26: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      31: aload_0
      32: iconst_1
      33: putfield      #29                 // Field running:Z
      36: aload_0
      37: aload_0
      38: getfield      #2                  // Field max_credits:J
      41: putfield      #31                 // Field lowest_credit:J
      44: aload_0
      45: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      48: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      53: goto          68
      56: astore_1
      57: aload_0
      58: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      61: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      66: aload_1
      67: athrow
      68: return
    Exception table:
       from    to  target type
          31    44    56   any
          56    57    56   any

  public void stop();
    Code:
       0: aload_0
       1: invokespecial #102                // Method org/jgroups/stack/Protocol.stop:()V
       4: aload_0
       5: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
       8: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      13: aload_0
      14: iconst_0
      15: putfield      #29                 // Field running:Z
      18: aload_0
      19: getfield      #36                 // Field credits_available:Ljava/util/concurrent/locks/Condition;
      22: invokeinterface #97,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
      27: aload_0
      28: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      31: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      36: goto          51
      39: astore_1
      40: aload_0
      41: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      44: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      49: aload_1
      50: athrow
      51: return
    Exception table:
       from    to  target type
          13    27    39   any
          39    40    39   any

  public java.lang.Object down(org.jgroups.Event);
    Code:
       0: aload_1
       1: invokevirtual #103                // Method org/jgroups/Event.getType:()I
       4: lookupswitch  { // 3
                     1: 40
                     6: 95
                    56: 81
               default: 109
          }
      40: aload_1
      41: invokevirtual #104                // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      44: checkcast     #105                // class org/jgroups/Message
      47: astore_2
      48: aload_2
      49: getstatic     #106                // Field org/jgroups/Message$Flag.NO_FC:Lorg/jgroups/Message$Flag;
      52: invokevirtual #107                // Method org/jgroups/Message.isFlagSet:(Lorg/jgroups/Message$Flag;)Z
      55: ifeq          61
      58: goto          109
      61: aload_2
      62: invokevirtual #108                // Method org/jgroups/Message.getLength:()I
      65: istore_3
      66: iload_3
      67: ifne          73
      70: goto          109
      73: aload_0
      74: aload_1
      75: aload_2
      76: iload_3
      77: invokespecial #109                // Method handleDownMessage:(Lorg/jgroups/Event;Lorg/jgroups/Message;I)Ljava/lang/Object;
      80: areturn
      81: aload_0
      82: aload_1
      83: invokevirtual #104                // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      86: checkcast     #110                // class java/util/Map
      89: invokespecial #111                // Method handleConfigEvent:(Ljava/util/Map;)V
      92: goto          109
      95: aload_0
      96: aload_1
      97: invokevirtual #104                // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
     100: checkcast     #112                // class org/jgroups/View
     103: invokevirtual #113                // Method org/jgroups/View.getMembers:()Ljava/util/List;
     106: invokespecial #114                // Method handleViewChange:(Ljava/util/List;)V
     109: aload_0
     110: getfield      #115                // Field down_prot:Lorg/jgroups/stack/Protocol;
     113: aload_1
     114: invokevirtual #116                // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     117: areturn

  public java.lang.Object up(org.jgroups.Event);
    Code:
       0: aload_1
       1: invokevirtual #103                // Method org/jgroups/Event.getType:()I
       4: lookupswitch  { // 2
                     1: 32
                     6: 249
               default: 263
          }
      32: aload_1
      33: invokevirtual #104                // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
      36: checkcast     #105                // class org/jgroups/Message
      39: astore_2
      40: aload_2
      41: getstatic     #106                // Field org/jgroups/Message$Flag.NO_FC:Lorg/jgroups/Message$Flag;
      44: invokevirtual #107                // Method org/jgroups/Message.isFlagSet:(Lorg/jgroups/Message$Flag;)Z
      47: ifeq          53
      50: goto          263
      53: aload_2
      54: aload_0
      55: getfield      #117                // Field id:S
      58: invokevirtual #118                // Method org/jgroups/Message.getHeader:(S)Lorg/jgroups/Header;
      61: checkcast     #119                // class org/jgroups/protocols/FcHeader
      64: astore_3
      65: aload_3
      66: ifnull        77
      69: aload_0
      70: aload_3
      71: aload_2
      72: invokevirtual #120                // Method handleUpEvent:(Lorg/jgroups/protocols/FcHeader;Lorg/jgroups/Message;)V
      75: aconst_null
      76: areturn
      77: aload_2
      78: invokevirtual #121                // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
      81: astore        4
      83: aload_0
      84: aload_0
      85: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
      88: aload         4
      90: aload_2
      91: invokevirtual #108                // Method org/jgroups/Message.getLength:()I
      94: invokespecial #122                // Method adjustCredit:(Ljava/util/Map;Lorg/jgroups/Address;I)J
      97: lstore        5
      99: aload_0
     100: getfield      #123                // Field up_prot:Lorg/jgroups/stack/Protocol;
     103: aload_1
     104: invokevirtual #124                // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/Event;)Ljava/lang/Object;
     107: astore        7
     109: lload         5
     111: lconst_0
     112: lcmp
     113: ifle          175
     116: aload_0
     117: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     120: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     125: ifeq          167
     128: aload_0
     129: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     132: new           #49                 // class java/lang/StringBuilder
     135: dup
     136: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     139: ldc           #125                // String sending
     141: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: lload         5
     146: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     149: ldc           #127                // String  credits to
     151: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     154: aload         4
     156: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     159: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     162: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     167: aload_0
     168: aload         4
     170: lload         5
     172: invokespecial #128                // Method sendCredit:(Lorg/jgroups/Address;J)V
     175: aload         7
     177: areturn
     178: astore        8
     180: lload         5
     182: lconst_0
     183: lcmp
     184: ifle          246
     187: aload_0
     188: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     191: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     196: ifeq          238
     199: aload_0
     200: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     203: new           #49                 // class java/lang/StringBuilder
     206: dup
     207: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     210: ldc           #125                // String sending
     212: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     215: lload         5
     217: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     220: ldc           #127                // String  credits to
     222: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     225: aload         4
     227: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     230: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     233: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     238: aload_0
     239: aload         4
     241: lload         5
     243: invokespecial #128                // Method sendCredit:(Lorg/jgroups/Address;J)V
     246: aload         8
     248: athrow
     249: aload_0
     250: aload_1
     251: invokevirtual #104                // Method org/jgroups/Event.getArg:()Ljava/lang/Object;
     254: checkcast     #112                // class org/jgroups/View
     257: invokevirtual #113                // Method org/jgroups/View.getMembers:()Ljava/util/List;
     260: invokespecial #114                // Method handleViewChange:(Ljava/util/List;)V
     263: aload_0
     264: getfield      #123                // Field up_prot:Lorg/jgroups/stack/Protocol;
     267: aload_1
     268: invokevirtual #124                // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/Event;)Ljava/lang/Object;
     271: areturn
    Exception table:
       from    to  target type
          99   109   178   any
         178   180   178   any

  public void up(org.jgroups.util.MessageBatch);
    Code:
       0: iconst_0
       1: istore_2
       2: aload_1
       3: invokevirtual #129                // Method org/jgroups/util/MessageBatch.iterator:()Ljava/util/Iterator;
       6: astore_3
       7: aload_3
       8: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          89
      16: aload_3
      17: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #105                // class org/jgroups/Message
      25: astore        4
      27: aload         4
      29: getstatic     #106                // Field org/jgroups/Message$Flag.NO_FC:Lorg/jgroups/Message$Flag;
      32: invokevirtual #107                // Method org/jgroups/Message.isFlagSet:(Lorg/jgroups/Message$Flag;)Z
      35: ifeq          41
      38: goto          7
      41: aload         4
      43: aload_0
      44: getfield      #117                // Field id:S
      47: invokevirtual #118                // Method org/jgroups/Message.getHeader:(S)Lorg/jgroups/Header;
      50: checkcast     #119                // class org/jgroups/protocols/FcHeader
      53: astore        5
      55: aload         5
      57: ifnull        78
      60: aload_1
      61: aload         4
      63: invokevirtual #130                // Method org/jgroups/util/MessageBatch.remove:(Lorg/jgroups/Message;)Lorg/jgroups/util/MessageBatch;
      66: pop
      67: aload_0
      68: aload         5
      70: aload         4
      72: invokevirtual #120                // Method handleUpEvent:(Lorg/jgroups/protocols/FcHeader;Lorg/jgroups/Message;)V
      75: goto          7
      78: iload_2
      79: aload         4
      81: invokevirtual #108                // Method org/jgroups/Message.getLength:()I
      84: iadd
      85: istore_2
      86: goto          7
      89: aload_1
      90: invokevirtual #131                // Method org/jgroups/util/MessageBatch.sender:()Lorg/jgroups/Address;
      93: astore_3
      94: lconst_0
      95: lstore        4
      97: iload_2
      98: ifle          113
     101: aload_0
     102: aload_0
     103: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
     106: aload_3
     107: iload_2
     108: invokespecial #122                // Method adjustCredit:(Ljava/util/Map;Lorg/jgroups/Address;I)J
     111: lstore        4
     113: aload_1
     114: invokevirtual #132                // Method org/jgroups/util/MessageBatch.isEmpty:()Z
     117: ifne          164
     120: aload_0
     121: getfield      #123                // Field up_prot:Lorg/jgroups/stack/Protocol;
     124: aload_1
     125: invokevirtual #133                // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/util/MessageBatch;)V
     128: lload         4
     130: lconst_0
     131: lcmp
     132: ifle          164
     135: aload_0
     136: aload_3
     137: lload         4
     139: invokespecial #128                // Method sendCredit:(Lorg/jgroups/Address;J)V
     142: goto          164
     145: astore        6
     147: lload         4
     149: lconst_0
     150: lcmp
     151: ifle          161
     154: aload_0
     155: aload_3
     156: lload         4
     158: invokespecial #128                // Method sendCredit:(Lorg/jgroups/Address;J)V
     161: aload         6
     163: athrow
     164: return
    Exception table:
       from    to  target type
         120   128   145   any
         145   147   145   any

  protected void handleUpEvent(org.jgroups.protocols.FcHeader, org.jgroups.Message);
    Code:
       0: aload_1
       1: getfield      #134                // Field org/jgroups/protocols/FcHeader.type:B
       4: lookupswitch  { // 2
                     1: 32
                     2: 60
               default: 106
          }
      32: aload_0
      33: dup
      34: getfield      #18                 // Field num_credit_responses_received:I
      37: iconst_1
      38: iadd
      39: putfield      #18                 // Field num_credit_responses_received:I
      42: aload_0
      43: aload_2
      44: invokevirtual #121                // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
      47: aload_2
      48: invokevirtual #135                // Method org/jgroups/Message.getObject:()Ljava/lang/Object;
      51: checkcast     #136                // class java/lang/Number
      54: invokespecial #137                // Method handleCredit:(Lorg/jgroups/Address;Ljava/lang/Number;)V
      57: goto          142
      60: aload_0
      61: dup
      62: getfield      #15                 // Field num_credit_requests_received:I
      65: iconst_1
      66: iadd
      67: putfield      #15                 // Field num_credit_requests_received:I
      70: aload_2
      71: invokevirtual #121                // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
      74: astore_3
      75: aload_2
      76: invokevirtual #135                // Method org/jgroups/Message.getObject:()Ljava/lang/Object;
      79: checkcast     #87                 // class java/lang/Long
      82: astore        4
      84: aload         4
      86: ifnull        142
      89: aload_0
      90: aload_0
      91: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
      94: aload_3
      95: aload         4
      97: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     100: invokespecial #138                // Method handleCreditRequest:(Ljava/util/Map;Lorg/jgroups/Address;J)V
     103: goto          142
     106: aload_0
     107: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     110: new           #49                 // class java/lang/StringBuilder
     113: dup
     114: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     117: ldc           #139                // String header type
     119: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     122: aload_1
     123: getfield      #134                // Field org/jgroups/protocols/FcHeader.type:B
     126: invokevirtual #140                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     129: ldc           #141                // String  not known
     131: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     134: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     137: invokeinterface #142,  2          // InterfaceMethod org/jgroups/logging/Log.error:(Ljava/lang/String;)V
     142: return

  private void handleConfigEvent(java.util.Map<java.lang.String, java.lang.Object>);
    Code:
       0: aload_1
       1: ifnull        81
       4: aload_1
       5: ldc           #143                // String frag_size
       7: invokeinterface #144,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      12: checkcast     #145                // class java/lang/Integer
      15: astore_2
      16: aload_2
      17: ifnull        81
      20: aload_2
      21: invokevirtual #146                // Method java/lang/Integer.intValue:()I
      24: i2l
      25: aload_0
      26: getfield      #2                  // Field max_credits:J
      29: lcmp
      30: ifle          76
      33: aload_0
      34: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      37: new           #49                 // class java/lang/StringBuilder
      40: dup
      41: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      44: ldc           #147                // String The fragmentation size of the fragmentation protocol is
      46: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: aload_2
      50: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      53: ldc           #148                // String , which is greater than the max credits. While this is not incorrect,
      55: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: ldc           #149                // String it may lead to long blockings. Frag size should be less than max_credits
      60: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: ldc           #150                // String (http://jira.jboss.com/jira/browse/JGRP-590)
      65: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      71: invokeinterface #101,  2          // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;)V
      76: aload_0
      77: iconst_1
      78: putfield      #30                 // Field frag_size_received:Z
      81: return

  private java.lang.Object handleDownMessage(org.jgroups.Event, org.jgroups.Message, int);
    Code:
       0: aload_2
       1: invokevirtual #151                // Method org/jgroups/Message.getDest:()Lorg/jgroups/Address;
       4: astore        4
       6: aload_0
       7: getfield      #9                  // Field max_block_times:Ljava/util/Map;
      10: ifnull        43
      13: aload_0
      14: iload_3
      15: i2l
      16: invokespecial #152                // Method getMaxBlockTime:(J)J
      19: lstore        5
      21: lload         5
      23: lconst_0
      24: lcmp
      25: ifle          43
      28: getstatic     #153                // Field end_time:Ljava/lang/ThreadLocal;
      31: invokestatic  #154                // Method java/lang/System.currentTimeMillis:()J
      34: lload         5
      36: ladd
      37: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      40: invokevirtual #155                // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      43: aload_0
      44: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      47: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      52: iload_3
      53: i2l
      54: aload_0
      55: getfield      #31                 // Field lowest_credit:J
      58: lcmp
      59: ifle          500
      62: aload_0
      63: aload         4
      65: iload_3
      66: invokespecial #156                // Method determineCreditors:(Lorg/jgroups/Address;I)V
      69: invokestatic  #154                // Method java/lang/System.currentTimeMillis:()J
      72: lstore        5
      74: aload_0
      75: dup
      76: getfield      #14                 // Field num_blockings:I
      79: iconst_1
      80: iadd
      81: putfield      #14                 // Field num_blockings:I
      84: aload_0
      85: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      88: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      93: ifeq          141
      96: aload_0
      97: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     100: new           #49                 // class java/lang/StringBuilder
     103: dup
     104: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     107: ldc           #157                // String Blocking (lowest_credit=
     109: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: aload_0
     113: getfield      #31                 // Field lowest_credit:J
     116: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     119: ldc           #158                // String ; length=
     121: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     124: iload_3
     125: invokevirtual #140                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     128: ldc           #159                // String )
     130: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     133: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     136: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     141: iload_3
     142: i2l
     143: aload_0
     144: getfield      #31                 // Field lowest_credit:J
     147: lcmp
     148: ifle          422
     151: aload_0
     152: getfield      #29                 // Field running:Z
     155: ifeq          422
     158: aload_0
     159: getfield      #8                  // Field max_block_time:J
     162: lstore        7
     164: aload_0
     165: getfield      #9                  // Field max_block_times:Ljava/util/Map;
     168: ifnull        197
     171: getstatic     #153                // Field end_time:Ljava/lang/ThreadLocal;
     174: invokevirtual #160                // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
     177: checkcast     #87                 // class java/lang/Long
     180: astore        9
     182: aload         9
     184: ifnull        197
     187: aload         9
     189: invokevirtual #61                 // Method java/lang/Long.longValue:()J
     192: lload         5
     194: lsub
     195: lstore        7
     197: aload_0
     198: getfield      #36                 // Field credits_available:Ljava/util/concurrent/locks/Condition;
     201: lload         7
     203: getstatic     #161                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     206: invokeinterface #162,  4          // InterfaceMethod java/util/concurrent/locks/Condition.await:(JLjava/util/concurrent/TimeUnit;)Z
     211: istore        9
     213: iload_3
     214: i2l
     215: aload_0
     216: getfield      #31                 // Field lowest_credit:J
     219: lcmp
     220: ifle          235
     223: iload         9
     225: ifne          235
     228: aload_0
     229: getfield      #29                 // Field running:Z
     232: ifne          238
     235: goto          422
     238: iload         9
     240: ifne          253
     243: aload_0
     244: getfield      #9                  // Field max_block_times:Ljava/util/Map;
     247: ifnull        253
     250: goto          422
     253: invokestatic  #154                // Method java/lang/System.currentTimeMillis:()J
     256: aload_0
     257: getfield      #37                 // Field last_credit_request:J
     260: lsub
     261: lstore        10
     263: lload         10
     265: aload_0
     266: getfield      #8                  // Field max_block_time:J
     269: lcmp
     270: iflt          414
     273: aload_0
     274: invokestatic  #154                // Method java/lang/System.currentTimeMillis:()J
     277: putfield      #37                 // Field last_credit_request:J
     280: new           #163                // class java/util/HashMap
     283: dup
     284: aload_0
     285: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     288: invokespecial #164                // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
     291: astore        12
     293: aload         12
     295: invokeinterface #165,  1          // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     300: aload_0
     301: getfield      #28                 // Field creditors:Ljava/util/Set;
     304: invokeinterface #166,  2          // InterfaceMethod java/util/Set.retainAll:(Ljava/util/Collection;)Z
     309: pop
     310: aload_0
     311: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     314: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     319: aload         12
     321: invokeinterface #72,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     326: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     331: astore        13
     333: aload         13
     335: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     340: ifeq          388
     343: aload         13
     345: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     350: checkcast     #74                 // class java/util/Map$Entry
     353: astore        14
     355: aload_0
     356: aload         14
     358: invokeinterface #76,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     363: checkcast     #167                // class org/jgroups/Address
     366: aload         14
     368: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     373: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
     376: invokestatic  #168                // Method org/jgroups/protocols/FC$Credit.access$100:(Lorg/jgroups/protocols/FC$Credit;)J
     379: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     382: invokespecial #169                // Method sendCreditRequest:(Lorg/jgroups/Address;Ljava/lang/Long;)V
     385: goto          333
     388: aload_0
     389: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     392: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
     397: goto          414
     400: astore        15
     402: aload_0
     403: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     406: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
     411: aload         15
     413: athrow
     414: goto          141
     417: astore        7
     419: goto          141
     422: invokestatic  #154                // Method java/lang/System.currentTimeMillis:()J
     425: lload         5
     427: lsub
     428: lstore        7
     430: aload_0
     431: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     434: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     439: ifeq          476
     442: aload_0
     443: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     446: new           #49                 // class java/lang/StringBuilder
     449: dup
     450: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     453: ldc           #171                // String total time blocked:
     455: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     458: lload         7
     460: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     463: ldc           #172                // String  ms
     465: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     468: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     471: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     476: aload_0
     477: dup
     478: getfield      #19                 // Field total_time_blocking:J
     481: lload         7
     483: ladd
     484: putfield      #19                 // Field total_time_blocking:J
     487: aload_0
     488: getfield      #22                 // Field last_blockings:Lorg/jgroups/util/BoundedList;
     491: lload         7
     493: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     496: invokevirtual #173                // Method org/jgroups/util/BoundedList.add:(Ljava/lang/Object;)Z
     499: pop
     500: aload_0
     501: aload_0
     502: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     505: aload         4
     507: iload_3
     508: i2l
     509: invokespecial #174                // Method decrementCredit:(Ljava/util/Map;Lorg/jgroups/Address;J)J
     512: lstore        5
     514: lload         5
     516: ldc2_w        #175                // long -1l
     519: lcmp
     520: ifeq          536
     523: aload_0
     524: lload         5
     526: aload_0
     527: getfield      #31                 // Field lowest_credit:J
     530: invokestatic  #177                // Method java/lang/Math.min:(JJ)J
     533: putfield      #31                 // Field lowest_credit:J
     536: aload_0
     537: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     540: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     545: goto          562
     548: astore        16
     550: aload_0
     551: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     554: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     559: aload         16
     561: athrow
     562: aload_0
     563: getfield      #115                // Field down_prot:Lorg/jgroups/stack/Protocol;
     566: aload_1
     567: invokevirtual #116                // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     570: areturn
    Exception table:
       from    to  target type
         319   388   400   any
         400   402   400   any
         158   235   417   Class java/lang/InterruptedException
         238   250   417   Class java/lang/InterruptedException
         253   414   417   Class java/lang/InterruptedException
          52   536   548   any
         548   550   548   any

  private void determineCreditors(org.jgroups.Address, int);
    Code:
       0: aload_1
       1: ifnonnull     81
       4: aload_0
       5: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
       8: invokeinterface #92,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.entrySet:()Ljava/util/Set;
      13: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      18: astore_3
      19: aload_3
      20: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      25: ifeq          78
      28: aload_3
      29: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #74                 // class java/util/Map$Entry
      37: astore        4
      39: aload         4
      41: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      46: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      49: invokestatic  #168                // Method org/jgroups/protocols/FC$Credit.access$100:(Lorg/jgroups/protocols/FC$Credit;)J
      52: iload_2
      53: i2l
      54: lcmp
      55: ifgt          75
      58: aload_0
      59: getfield      #28                 // Field creditors:Ljava/util/Set;
      62: aload         4
      64: invokeinterface #76,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      69: invokeinterface #178,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      74: pop
      75: goto          19
      78: goto          120
      81: aload_0
      82: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
      85: aload_1
      86: invokeinterface #179,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      91: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      94: astore_3
      95: aload_3
      96: ifnull        120
      99: aload_3
     100: invokestatic  #168                // Method org/jgroups/protocols/FC$Credit.access$100:(Lorg/jgroups/protocols/FC$Credit;)J
     103: iload_2
     104: i2l
     105: lcmp
     106: ifgt          120
     109: aload_0
     110: getfield      #28                 // Field creditors:Ljava/util/Set;
     113: aload_1
     114: invokeinterface #178,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     119: pop
     120: return

  private long decrementCredit(java.util.Map<org.jgroups.Address, org.jgroups.protocols.FC$Credit>, org.jgroups.Address, long);
    Code:
       0: aload_0
       1: getfield      #2                  // Field max_credits:J
       4: lstore        5
       6: aload_2
       7: ifnonnull     77
      10: aload_1
      11: invokeinterface #180,  1          // InterfaceMethod java/util/Map.isEmpty:()Z
      16: ifeq          23
      19: ldc2_w        #175                // long -1l
      22: lreturn
      23: aload_1
      24: invokeinterface #181,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      29: invokeinterface #182,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      34: astore        7
      36: aload         7
      38: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      43: ifeq          74
      46: aload         7
      48: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      53: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      56: astore        8
      58: aload         8
      60: lload_3
      61: invokestatic  #183                // Method org/jgroups/protocols/FC$Credit.access$200:(Lorg/jgroups/protocols/FC$Credit;J)J
      64: lload         5
      66: invokestatic  #177                // Method java/lang/Math.min:(JJ)J
      69: lstore        5
      71: goto          36
      74: lload         5
      76: lreturn
      77: aload_1
      78: aload_2
      79: invokeinterface #144,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      84: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      87: astore        7
      89: aload         7
      91: ifnull        104
      94: aload         7
      96: lload_3
      97: invokestatic  #183                // Method org/jgroups/protocols/FC$Credit.access$200:(Lorg/jgroups/protocols/FC$Credit;J)J
     100: dup2
     101: lstore        5
     103: lreturn
     104: ldc2_w        #175                // long -1l
     107: lreturn

  private void handleCredit(org.jgroups.Address, java.lang.Number);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aconst_null
       6: astore_3
       7: aload_0
       8: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      11: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      16: aload_0
      17: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
      20: aload_1
      21: invokeinterface #179,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      26: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      29: astore        4
      31: aload         4
      33: ifnonnull     46
      36: aload_0
      37: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      40: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      45: return
      46: aload_0
      47: getfield      #2                  // Field max_credits:J
      50: aload         4
      52: invokestatic  #168                // Method org/jgroups/protocols/FC$Credit.access$100:(Lorg/jgroups/protocols/FC$Credit;)J
      55: aload_2
      56: invokevirtual #184                // Method java/lang/Number.longValue:()J
      59: ladd
      60: invokestatic  #177                // Method java/lang/Math.min:(JJ)J
      63: lstore        5
      65: aload_0
      66: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      69: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      74: ifeq          128
      77: new           #49                 // class java/lang/StringBuilder
      80: dup
      81: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      84: astore_3
      85: aload_3
      86: ldc           #185                // String received credit from
      88: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: aload_1
      92: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      95: ldc           #186                // String , old credit was
      97: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     100: aload         4
     102: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     105: ldc           #187                // String , new credits are
     107: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: lload         5
     112: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     115: ldc           #188                // String .\nCreditors before are:
     117: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: aload_0
     121: getfield      #28                 // Field creditors:Ljava/util/Set;
     124: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     127: pop
     128: aload         4
     130: aload_2
     131: invokevirtual #184                // Method java/lang/Number.longValue:()J
     134: invokestatic  #189                // Method org/jgroups/protocols/FC$Credit.access$300:(Lorg/jgroups/protocols/FC$Credit;J)J
     137: pop2
     138: aload_0
     139: aload_0
     140: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     143: invokestatic  #95                 // Method computeLowestCredit:(Ljava/util/Map;)J
     146: putfield      #31                 // Field lowest_credit:J
     149: aload_0
     150: getfield      #28                 // Field creditors:Ljava/util/Set;
     153: invokeinterface #190,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     158: ifne          195
     161: aload_0
     162: getfield      #28                 // Field creditors:Ljava/util/Set;
     165: aload_1
     166: invokeinterface #191,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     171: ifeq          195
     174: aload_0
     175: getfield      #28                 // Field creditors:Ljava/util/Set;
     178: invokeinterface #190,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     183: ifeq          195
     186: aload_0
     187: getfield      #36                 // Field credits_available:Ljava/util/concurrent/locks/Condition;
     190: invokeinterface #97,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
     195: aload_0
     196: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     199: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     204: goto          221
     207: astore        7
     209: aload_0
     210: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     213: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     218: aload         7
     220: athrow
     221: return
    Exception table:
       from    to  target type
          16    36   207   any
          46   195   207   any
         207   209   207   any

  private static long computeLowestCredit(java.util.Map<org.jgroups.Address, org.jgroups.protocols.FC$Credit>);
    Code:
       0: aload_0
       1: invokeinterface #181,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       6: astore_1
       7: aload_1
       8: invokestatic  #192                // Method java/util/Collections.min:(Ljava/util/Collection;)Ljava/lang/Object;
      11: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      14: invokestatic  #168                // Method org/jgroups/protocols/FC$Credit.access$100:(Lorg/jgroups/protocols/FC$Credit;)J
      17: lreturn

  private long adjustCredit(java.util.Map<org.jgroups.Address, org.jgroups.protocols.FC$Credit>, org.jgroups.Address, int);
    Code:
       0: aload_2
       1: ifnull        8
       4: iload_3
       5: ifne          10
       8: lconst_0
       9: lreturn
      10: aload_1
      11: aload_2
      12: invokeinterface #144,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      17: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      20: astore        4
      22: aload         4
      24: ifnonnull     29
      27: lconst_0
      28: lreturn
      29: aload_0
      30: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      33: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      38: ifeq          99
      41: aload_0
      42: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      45: new           #49                 // class java/lang/StringBuilder
      48: dup
      49: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      52: ldc           #193                // String sender
      54: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: aload_2
      58: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      61: ldc           #194                // String  minus
      63: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: iload_3
      67: invokevirtual #140                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      70: ldc           #195                // String  credits,
      72: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: aload         4
      77: invokestatic  #168                // Method org/jgroups/protocols/FC$Credit.access$100:(Lorg/jgroups/protocols/FC$Credit;)J
      80: iload_3
      81: i2l
      82: lsub
      83: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      86: ldc           #196                // String  remaining
      88: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      94: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      99: aload         4
     101: iload_3
     102: i2l
     103: invokestatic  #197                // Method org/jgroups/protocols/FC$Credit.access$400:(Lorg/jgroups/protocols/FC$Credit;J)J
     106: lreturn

  private void handleCreditRequest(java.util.Map<org.jgroups.Address, org.jgroups.protocols.FC$Credit>, org.jgroups.Address, long);
    Code:
       0: aload_2
       1: ifnonnull     5
       4: return
       5: aload_1
       6: aload_2
       7: invokeinterface #144,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      12: checkcast     #93                 // class org/jgroups/protocols/FC$Credit
      15: astore        5
      17: aload         5
      19: ifnonnull     23
      22: return
      23: aload_0
      24: getfield      #2                  // Field max_credits:J
      27: lload_3
      28: lsub
      29: aload_0
      30: getfield      #2                  // Field max_credits:J
      33: invokestatic  #177                // Method java/lang/Math.min:(JJ)J
      36: lstore        6
      38: aload_0
      39: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      42: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      47: ifeq          93
      50: aload_0
      51: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      54: new           #49                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #198                // String received credit request from
      63: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_2
      67: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      70: ldc           #199                // String : sending
      72: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: lload         6
      77: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      80: ldc           #200                // String  credits
      82: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      88: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      93: aload         5
      95: aload_0
      96: getfield      #2                  // Field max_credits:J
      99: invokestatic  #94                 // Method org/jgroups/protocols/FC$Credit.access$000:(Lorg/jgroups/protocols/FC$Credit;J)V
     102: aload_0
     103: aload_2
     104: lload         6
     106: invokespecial #128                // Method sendCredit:(Lorg/jgroups/Address;J)V
     109: return

  private void sendCredit(org.jgroups.Address, long);
    Code:
       0: aload_0
       1: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
       4: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
       9: ifeq          54
      12: aload_0
      13: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      16: new           #49                 // class java/lang/StringBuilder
      19: dup
      20: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #201                // String replenishing
      25: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_1
      29: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      32: ldc           #202                // String  with
      34: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: lload_2
      38: invokevirtual #126                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      41: ldc           #200                // String  credits
      43: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      54: lload_2
      55: ldc2_w        #203                // long 2147483647l
      58: lcmp
      59: ifge          72
      62: lload_2
      63: l2i
      64: invokestatic  #205                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      67: astore        4
      69: goto          78
      72: lload_2
      73: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      76: astore        4
      78: new           #105                // class org/jgroups/Message
      81: dup
      82: aload_1
      83: aload         4
      85: invokespecial #206                // Method org/jgroups/Message."<init>":(Lorg/jgroups/Address;Ljava/lang/Object;)V
      88: iconst_3
      89: anewarray     #207                // class org/jgroups/Message$Flag
      92: dup
      93: iconst_0
      94: getstatic     #208                // Field org/jgroups/Message$Flag.OOB:Lorg/jgroups/Message$Flag;
      97: aastore
      98: dup
      99: iconst_1
     100: getstatic     #209                // Field org/jgroups/Message$Flag.INTERNAL:Lorg/jgroups/Message$Flag;
     103: aastore
     104: dup
     105: iconst_2
     106: getstatic     #210                // Field org/jgroups/Message$Flag.DONT_BUNDLE:Lorg/jgroups/Message$Flag;
     109: aastore
     110: invokevirtual #211                // Method org/jgroups/Message.setFlag:([Lorg/jgroups/Message$Flag;)Lorg/jgroups/Message;
     113: aload_0
     114: getfield      #117                // Field id:S
     117: getstatic     #212                // Field REPLENISH_HDR:Lorg/jgroups/protocols/FcHeader;
     120: invokevirtual #213                // Method org/jgroups/Message.putHeader:(SLorg/jgroups/Header;)Lorg/jgroups/Message;
     123: astore        5
     125: aload_0
     126: getfield      #115                // Field down_prot:Lorg/jgroups/stack/Protocol;
     129: new           #214                // class org/jgroups/Event
     132: dup
     133: iconst_1
     134: aload         5
     136: invokespecial #215                // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     139: invokevirtual #116                // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     142: pop
     143: aload_0
     144: dup
     145: getfield      #17                 // Field num_credit_responses_sent:I
     148: iconst_1
     149: iadd
     150: putfield      #17                 // Field num_credit_responses_sent:I
     153: return

  private void sendCreditRequest(org.jgroups.Address, java.lang.Long);
    Code:
       0: aload_0
       1: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
       4: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
       9: ifeq          40
      12: aload_0
      13: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      16: new           #49                 // class java/lang/StringBuilder
      19: dup
      20: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #216                // String sending credit request to
      25: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_1
      29: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      32: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      35: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      40: new           #105                // class org/jgroups/Message
      43: dup
      44: aload_1
      45: aload_2
      46: invokespecial #206                // Method org/jgroups/Message."<init>":(Lorg/jgroups/Address;Ljava/lang/Object;)V
      49: iconst_2
      50: anewarray     #207                // class org/jgroups/Message$Flag
      53: dup
      54: iconst_0
      55: getstatic     #210                // Field org/jgroups/Message$Flag.DONT_BUNDLE:Lorg/jgroups/Message$Flag;
      58: aastore
      59: dup
      60: iconst_1
      61: getstatic     #209                // Field org/jgroups/Message$Flag.INTERNAL:Lorg/jgroups/Message$Flag;
      64: aastore
      65: invokevirtual #211                // Method org/jgroups/Message.setFlag:([Lorg/jgroups/Message$Flag;)Lorg/jgroups/Message;
      68: aload_0
      69: getfield      #117                // Field id:S
      72: getstatic     #217                // Field CREDIT_REQUEST_HDR:Lorg/jgroups/protocols/FcHeader;
      75: invokevirtual #213                // Method org/jgroups/Message.putHeader:(SLorg/jgroups/Header;)Lorg/jgroups/Message;
      78: astore_3
      79: aload_0
      80: getfield      #115                // Field down_prot:Lorg/jgroups/stack/Protocol;
      83: new           #214                // class org/jgroups/Event
      86: dup
      87: iconst_1
      88: aload_3
      89: invokespecial #215                // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
      92: invokevirtual #116                // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
      95: pop
      96: aload_0
      97: dup
      98: getfield      #16                 // Field num_credit_requests_sent:I
     101: iconst_1
     102: iadd
     103: putfield      #16                 // Field num_credit_requests_sent:I
     106: return

  private void handleViewChange(java.util.List<org.jgroups.Address>);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_0
       6: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
       9: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      14: ifeq          45
      17: aload_0
      18: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
      21: new           #49                 // class java/lang/StringBuilder
      24: dup
      25: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
      28: ldc           #218                // String new membership:
      30: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_1
      34: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      37: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      40: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      45: aload_0
      46: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
      49: invokeinterface #88,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      54: aload_1
      55: invokeinterface #43,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      60: astore_2
      61: aload_2
      62: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      67: ifeq          157
      70: aload_2
      71: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      76: checkcast     #167                // class org/jgroups/Address
      79: astore_3
      80: aload_0
      81: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
      84: aload_3
      85: invokeinterface #219,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      90: ifne          117
      93: aload_0
      94: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
      97: aload_3
      98: new           #93                 // class org/jgroups/protocols/FC$Credit
     101: dup
     102: aload_0
     103: aload_0
     104: getfield      #2                  // Field max_credits:J
     107: aconst_null
     108: invokespecial #220                // Method org/jgroups/protocols/FC$Credit."<init>":(Lorg/jgroups/protocols/FC;JLorg/jgroups/protocols/FC$1;)V
     111: invokeinterface #221,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     116: pop
     117: aload_0
     118: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     121: aload_3
     122: invokeinterface #219,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
     127: ifne          154
     130: aload_0
     131: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     134: aload_3
     135: new           #93                 // class org/jgroups/protocols/FC$Credit
     138: dup
     139: aload_0
     140: aload_0
     141: getfield      #2                  // Field max_credits:J
     144: aconst_null
     145: invokespecial #220                // Method org/jgroups/protocols/FC$Credit."<init>":(Lorg/jgroups/protocols/FC;JLorg/jgroups/protocols/FC$1;)V
     148: invokeinterface #221,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     153: pop
     154: goto          61
     157: aload_0
     158: getfield      #25                 // Field received:Ljava/util/concurrent/ConcurrentMap;
     161: invokeinterface #222,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
     166: invokeinterface #223,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     171: astore_2
     172: aload_2
     173: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     178: ifeq          210
     181: aload_2
     182: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     187: checkcast     #167                // class org/jgroups/Address
     190: astore_3
     191: aload_1
     192: aload_3
     193: invokeinterface #224,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     198: ifne          207
     201: aload_2
     202: invokeinterface #225,  1          // InterfaceMethod java/util/Iterator.remove:()V
     207: goto          172
     210: aload_0
     211: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     214: invokeinterface #222,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
     219: invokeinterface #223,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     224: astore_2
     225: aload_2
     226: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     231: ifeq          263
     234: aload_2
     235: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     240: checkcast     #167                // class org/jgroups/Address
     243: astore_3
     244: aload_1
     245: aload_3
     246: invokeinterface #224,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     251: ifne          260
     254: aload_2
     255: invokeinterface #225,  1          // InterfaceMethod java/util/Iterator.remove:()V
     260: goto          225
     263: aload_0
     264: getfield      #28                 // Field creditors:Ljava/util/Set;
     267: invokeinterface #223,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     272: astore_2
     273: aload_2
     274: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     279: ifeq          311
     282: aload_2
     283: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     288: checkcast     #167                // class org/jgroups/Address
     291: astore_3
     292: aload_1
     293: aload_3
     294: invokeinterface #224,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     299: ifne          308
     302: aload_2
     303: invokeinterface #225,  1          // InterfaceMethod java/util/Iterator.remove:()V
     308: goto          273
     311: aload_0
     312: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     315: invokeinterface #89,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     320: ifeq          354
     323: aload_0
     324: getfield      #67                 // Field log:Lorg/jgroups/logging/Log;
     327: new           #49                 // class java/lang/StringBuilder
     330: dup
     331: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
     334: ldc           #226                // String creditors are
     336: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     339: aload_0
     340: getfield      #28                 // Field creditors:Ljava/util/Set;
     343: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     346: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     349: invokeinterface #91,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     354: aload_0
     355: getfield      #28                 // Field creditors:Ljava/util/Set;
     358: invokeinterface #190,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     363: ifeq          386
     366: aload_0
     367: aload_0
     368: getfield      #24                 // Field sent:Ljava/util/concurrent/ConcurrentMap;
     371: invokestatic  #95                 // Method computeLowestCredit:(Ljava/util/Map;)J
     374: putfield      #31                 // Field lowest_credit:J
     377: aload_0
     378: getfield      #36                 // Field credits_available:Ljava/util/concurrent/locks/Condition;
     381: invokeinterface #97,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
     386: aload_0
     387: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     390: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     395: goto          412
     398: astore        4
     400: aload_0
     401: getfield      #34                 // Field lock:Ljava/util/concurrent/locks/Lock;
     404: invokeinterface #98,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     409: aload         4
     411: athrow
     412: return
    Exception table:
       from    to  target type
          54   386   398   any
         398   400   398   any

  private static java.lang.String printMap(java.util.Map<org.jgroups.Address, org.jgroups.protocols.FC$Credit>);
    Code:
       0: new           #49                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_0
       9: invokeinterface #72,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      14: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      19: astore_2
      20: aload_2
      21: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          72
      29: aload_2
      30: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #74                 // class java/util/Map$Entry
      38: astore_3
      39: aload_1
      40: aload_3
      41: invokeinterface #76,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      46: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      49: ldc           #227                // String :
      51: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: aload_3
      55: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      60: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      63: ldc           #228                // String \n
      65: invokevirtual #52                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: pop
      69: goto          20
      72: aload_1
      73: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      76: areturn

  static long access$600(org.jgroups.protocols.FC);
    Code:
       0: aload_0
       1: getfield      #2                  // Field max_credits:J
       4: lreturn

  static long access$700(org.jgroups.protocols.FC);
    Code:
       0: aload_0
       1: getfield      #1                  // Field min_credits:J
       4: lreturn

  static {};
    Code:
       0: new           #119                // class org/jgroups/protocols/FcHeader
       3: dup
       4: iconst_1
       5: invokespecial #229                // Method org/jgroups/protocols/FcHeader."<init>":(B)V
       8: putstatic     #212                // Field REPLENISH_HDR:Lorg/jgroups/protocols/FcHeader;
      11: new           #119                // class org/jgroups/protocols/FcHeader
      14: dup
      15: iconst_2
      16: invokespecial #229                // Method org/jgroups/protocols/FcHeader."<init>":(B)V
      19: putstatic     #217                // Field CREDIT_REQUEST_HDR:Lorg/jgroups/protocols/FcHeader;
      22: new           #230                // class java/lang/ThreadLocal
      25: dup
      26: invokespecial #231                // Method java/lang/ThreadLocal."<init>":()V
      29: putstatic     #153                // Field end_time:Ljava/lang/ThreadLocal;
      32: return
}
