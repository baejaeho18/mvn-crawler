Compiled from "GridOutputStream.java"
public class org.jgroups.blocks.GridOutputStream extends java.io.OutputStream {
  final org.jgroups.blocks.ReplCache<java.lang.String, byte[]> cache;

  final short repl_count;

  final int chunk_size;

  final java.lang.String name;

  protected final org.jgroups.blocks.GridFile file;

  int index;

  int local_index;

  final byte[] current_buffer;

  static final org.jgroups.logging.Log log;

  org.jgroups.blocks.GridOutputStream(org.jgroups.blocks.GridFile, boolean, org.jgroups.blocks.ReplCache<java.lang.String, byte[]>, short, int) throws java.io.FileNotFoundException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/io/OutputStream."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field index:I
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field local_index:I
      14: aload_0
      15: aload_1
      16: putfield      #4                  // Field file:Lorg/jgroups/blocks/GridFile;
      19: aload_0
      20: aload_1
      21: invokevirtual #5                  // Method org/jgroups/blocks/GridFile.getPath:()Ljava/lang/String;
      24: putfield      #6                  // Field name:Ljava/lang/String;
      27: aload_0
      28: aload_3
      29: putfield      #7                  // Field cache:Lorg/jgroups/blocks/ReplCache;
      32: aload_0
      33: iload         4
      35: putfield      #8                  // Field repl_count:S
      38: aload_0
      39: iload         5
      41: putfield      #9                  // Field chunk_size:I
      44: aload_0
      45: iload         5
      47: newarray       byte
      49: putfield      #10                 // Field current_buffer:[B
      52: return

  public void write(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #11                 // Method getBytesRemainingInChunk:()I
       4: istore_2
       5: iload_2
       6: ifne          23
       9: aload_0
      10: invokevirtual #12                 // Method flush:()V
      13: aload_0
      14: iconst_0
      15: putfield      #3                  // Field local_index:I
      18: aload_0
      19: getfield      #9                  // Field chunk_size:I
      22: istore_2
      23: aload_0
      24: getfield      #10                 // Field current_buffer:[B
      27: aload_0
      28: getfield      #3                  // Field local_index:I
      31: iload_1
      32: i2b
      33: bastore
      34: aload_0
      35: dup
      36: getfield      #3                  // Field local_index:I
      39: iconst_1
      40: iadd
      41: putfield      #3                  // Field local_index:I
      44: aload_0
      45: dup
      46: getfield      #2                  // Field index:I
      49: iconst_1
      50: iadd
      51: putfield      #2                  // Field index:I
      54: return

  public void write(byte[]) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnull        12
       4: aload_0
       5: aload_1
       6: iconst_0
       7: aload_1
       8: arraylength
       9: invokevirtual #13                 // Method write:([BII)V
      12: return

  public void write(byte[], int, int) throws java.io.IOException;
    Code:
       0: iload_3
       1: ifle          88
       4: aload_0
       5: invokespecial #11                 // Method getBytesRemainingInChunk:()I
       8: istore        4
      10: iload         4
      12: ifne          30
      15: aload_0
      16: invokevirtual #12                 // Method flush:()V
      19: aload_0
      20: iconst_0
      21: putfield      #3                  // Field local_index:I
      24: aload_0
      25: getfield      #9                  // Field chunk_size:I
      28: istore        4
      30: iload         4
      32: iload_3
      33: invokestatic  #14                 // Method java/lang/Math.min:(II)I
      36: istore        5
      38: aload_1
      39: iload_2
      40: aload_0
      41: getfield      #10                 // Field current_buffer:[B
      44: aload_0
      45: getfield      #3                  // Field local_index:I
      48: iload         5
      50: invokestatic  #15                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      53: iload_2
      54: iload         5
      56: iadd
      57: istore_2
      58: iload_3
      59: iload         5
      61: isub
      62: istore_3
      63: aload_0
      64: dup
      65: getfield      #3                  // Field local_index:I
      68: iload         5
      70: iadd
      71: putfield      #3                  // Field local_index:I
      74: aload_0
      75: dup
      76: getfield      #2                  // Field index:I
      79: iload         5
      81: iadd
      82: putfield      #2                  // Field index:I
      85: goto          0
      88: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #12                 // Method flush:()V
       4: aload_0
       5: invokespecial #16                 // Method reset:()V
       8: return

  public void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #17                 // Method getChunkNumber:()I
       4: istore_1
       5: new           #18                 // class java/lang/StringBuilder
       8: dup
       9: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      12: aload_0
      13: getfield      #6                  // Field name:Ljava/lang/String;
      16: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: ldc           #21                 // String .#
      21: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: iload_1
      25: invokevirtual #22                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      28: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      31: astore_2
      32: aload_0
      33: getfield      #3                  // Field local_index:I
      36: newarray       byte
      38: astore_3
      39: aload_0
      40: getfield      #10                 // Field current_buffer:[B
      43: iconst_0
      44: aload_3
      45: iconst_0
      46: aload_0
      47: getfield      #3                  // Field local_index:I
      50: invokestatic  #15                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      53: aload_0
      54: getfield      #7                  // Field cache:Lorg/jgroups/blocks/ReplCache;
      57: aload_2
      58: aload_3
      59: aload_0
      60: getfield      #8                  // Field repl_count:S
      63: lconst_0
      64: invokevirtual #24                 // Method org/jgroups/blocks/ReplCache.put:(Ljava/lang/Object;Ljava/lang/Object;SJ)V
      67: getstatic     #25                 // Field log:Lorg/jgroups/logging/Log;
      70: invokeinterface #26,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      75: ifeq          132
      78: getstatic     #25                 // Field log:Lorg/jgroups/logging/Log;
      81: new           #18                 // class java/lang/StringBuilder
      84: dup
      85: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      88: ldc           #27                 // String put(): index=
      90: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: aload_0
      94: getfield      #2                  // Field index:I
      97: invokevirtual #22                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     100: ldc           #28                 // String , key=
     102: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: aload_2
     106: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: ldc           #29                 // String :
     111: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: aload_3
     115: arraylength
     116: invokevirtual #22                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     119: ldc           #30                 // String  bytes
     121: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     124: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     127: invokeinterface #31,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     132: aload_0
     133: getfield      #4                  // Field file:Lorg/jgroups/blocks/GridFile;
     136: aload_0
     137: getfield      #2                  // Field index:I
     140: invokevirtual #32                 // Method org/jgroups/blocks/GridFile.setLength:(I)V
     143: return

  private int getBytesRemainingInChunk();
    Code:
       0: aload_0
       1: getfield      #9                  // Field chunk_size:I
       4: aload_0
       5: getfield      #3                  // Field local_index:I
       8: isub
       9: ireturn

  private int getChunkNumber();
    Code:
       0: aload_0
       1: getfield      #2                  // Field index:I
       4: iconst_1
       5: isub
       6: aload_0
       7: getfield      #9                  // Field chunk_size:I
      10: idiv
      11: ireturn

  private void reset();
    Code:
       0: aload_0
       1: aload_0
       2: iconst_0
       3: dup_x1
       4: putfield      #3                  // Field local_index:I
       7: putfield      #2                  // Field index:I
      10: return

  static {};
    Code:
       0: ldc_w         #33                 // class org/jgroups/blocks/GridOutputStream
       3: invokestatic  #34                 // Method org/jgroups/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/jgroups/logging/Log;
       6: putstatic     #25                 // Field log:Lorg/jgroups/logging/Log;
       9: return
}
