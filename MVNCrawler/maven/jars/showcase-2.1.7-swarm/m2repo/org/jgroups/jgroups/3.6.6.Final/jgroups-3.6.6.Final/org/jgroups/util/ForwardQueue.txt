Compiled from "ForwardQueue.java"
public class org.jgroups.util.ForwardQueue {
  protected org.jgroups.stack.Protocol up_prot;

  protected org.jgroups.stack.Protocol down_prot;

  protected org.jgroups.Address local_addr;

  protected final java.util.NavigableMap<java.lang.Long, org.jgroups.Message> forward_table;

  protected final java.util.concurrent.locks.Lock send_lock;

  protected final java.util.concurrent.locks.Condition send_cond;

  protected volatile boolean flushing;

  protected volatile boolean running;

  protected final java.util.concurrent.atomic.AtomicInteger in_flight_sends;

  protected final java.util.concurrent.ConcurrentMap<org.jgroups.Address, org.jgroups.util.BoundedHashMap<java.lang.Long, java.lang.Long>> delivery_table;

  protected volatile org.jgroups.util.ForwardQueue$Flusher flusher;

  protected final org.jgroups.util.Promise<java.lang.Long> ack_promise;

  protected final org.jgroups.logging.Log log;

  protected int delivery_table_max_size;

  public org.jgroups.util.ForwardQueue(org.jgroups.logging.Log);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentSkipListMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentSkipListMap."<init>":()V
      12: putfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
      15: aload_0
      16: new           #5                  // class java/util/concurrent/locks/ReentrantLock
      19: dup
      20: invokespecial #6                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      23: putfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
      26: aload_0
      27: aload_0
      28: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
      31: invokeinterface #8,  1            // InterfaceMethod java/util/concurrent/locks/Lock.newCondition:()Ljava/util/concurrent/locks/Condition;
      36: putfield      #9                  // Field send_cond:Ljava/util/concurrent/locks/Condition;
      39: aload_0
      40: iconst_0
      41: putfield      #10                 // Field flushing:Z
      44: aload_0
      45: iconst_1
      46: putfield      #11                 // Field running:Z
      49: aload_0
      50: new           #12                 // class java/util/concurrent/atomic/AtomicInteger
      53: dup
      54: iconst_0
      55: invokespecial #13                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      58: putfield      #14                 // Field in_flight_sends:Ljava/util/concurrent/atomic/AtomicInteger;
      61: aload_0
      62: invokestatic  #15                 // Method org/jgroups/util/Util.createConcurrentMap:()Ljava/util/concurrent/ConcurrentMap;
      65: putfield      #16                 // Field delivery_table:Ljava/util/concurrent/ConcurrentMap;
      68: aload_0
      69: new           #17                 // class org/jgroups/util/Promise
      72: dup
      73: invokespecial #18                 // Method org/jgroups/util/Promise."<init>":()V
      76: putfield      #19                 // Field ack_promise:Lorg/jgroups/util/Promise;
      79: aload_0
      80: sipush        500
      83: putfield      #20                 // Field delivery_table_max_size:I
      86: aload_0
      87: aload_1
      88: putfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      91: return

  public org.jgroups.stack.Protocol getUpProt();
    Code:
       0: aload_0
       1: getfield      #22                 // Field up_prot:Lorg/jgroups/stack/Protocol;
       4: areturn

  public void setUpProt(org.jgroups.stack.Protocol);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #22                 // Field up_prot:Lorg/jgroups/stack/Protocol;
       5: return

  public org.jgroups.stack.Protocol getDownProt();
    Code:
       0: aload_0
       1: getfield      #23                 // Field down_prot:Lorg/jgroups/stack/Protocol;
       4: areturn

  public void setDownProt(org.jgroups.stack.Protocol);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #23                 // Field down_prot:Lorg/jgroups/stack/Protocol;
       5: return

  public org.jgroups.Address getLocalAddr();
    Code:
       0: aload_0
       1: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
       4: areturn

  public void setLocalAddr(org.jgroups.Address);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #24                 // Field local_addr:Lorg/jgroups/Address;
       5: return

  public int getDeliveryTableMaxSize();
    Code:
       0: aload_0
       1: getfield      #20                 // Field delivery_table_max_size:I
       4: ireturn

  public void setDeliveryTableMaxSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #20                 // Field delivery_table_max_size:I
       5: return

  public int deliveryTableSize();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #16                 // Field delivery_table:Ljava/util/concurrent/ConcurrentMap;
       6: invokeinterface #25,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.values:()Ljava/util/Collection;
      11: invokeinterface #26,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      16: astore_2
      17: aload_2
      18: invokeinterface #27,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          46
      26: aload_2
      27: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #29                 // class org/jgroups/util/BoundedHashMap
      35: astore_3
      36: iload_1
      37: aload_3
      38: invokevirtual #30                 // Method org/jgroups/util/BoundedHashMap.size:()I
      41: iadd
      42: istore_1
      43: goto          17
      46: iload_1
      47: ireturn

  public void start();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #11                 // Field running:Z
       5: return

  public void stop();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #11                 // Field running:Z
       5: aload_0
       6: invokevirtual #31                 // Method unblockAll:()V
       9: aload_0
      10: invokevirtual #32                 // Method stopFlusher:()V
      13: aload_0
      14: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
      17: invokeinterface #33,  1           // InterfaceMethod java/util/NavigableMap.clear:()V
      22: return

  public void send(long, org.jgroups.Message);
    Code:
       0: aload_0
       1: getfield      #10                 // Field flushing:Z
       4: ifeq          11
       7: aload_0
       8: invokevirtual #34                 // Method block:()V
      11: aload_0
      12: getfield      #14                 // Field in_flight_sends:Ljava/util/concurrent/atomic/AtomicInteger;
      15: invokevirtual #35                 // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      18: pop
      19: aload_0
      20: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
      23: lload_1
      24: invokestatic  #36                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      27: aload_3
      28: invokeinterface #37,  3           // InterfaceMethod java/util/NavigableMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      33: pop
      34: aload_0
      35: getfield      #11                 // Field running:Z
      38: ifeq          65
      41: aload_0
      42: getfield      #10                 // Field flushing:Z
      45: ifne          65
      48: aload_0
      49: getfield      #23                 // Field down_prot:Lorg/jgroups/stack/Protocol;
      52: new           #38                 // class org/jgroups/Event
      55: dup
      56: iconst_1
      57: aload_3
      58: invokespecial #39                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
      61: invokevirtual #40                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
      64: pop
      65: aload_0
      66: getfield      #14                 // Field in_flight_sends:Ljava/util/concurrent/atomic/AtomicInteger;
      69: invokevirtual #41                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
      72: pop
      73: goto          89
      76: astore        4
      78: aload_0
      79: getfield      #14                 // Field in_flight_sends:Ljava/util/concurrent/atomic/AtomicInteger;
      82: invokevirtual #41                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
      85: pop
      86: aload         4
      88: athrow
      89: return
    Exception table:
       from    to  target type
          19    65    76   any
          76    78    76   any

  public void receive(long, org.jgroups.Message);
    Code:
       0: aload_3
       1: invokevirtual #42                 // Method org/jgroups/Message.getSrc:()Lorg/jgroups/Address;
       4: astore        4
       6: aload         4
       8: ifnonnull     64
      11: aload_0
      12: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      15: invokeinterface #43,  1           // InterfaceMethod org/jgroups/logging/Log.isErrorEnabled:()Z
      20: ifeq          63
      23: aload_0
      24: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      27: new           #44                 // class java/lang/StringBuilder
      30: dup
      31: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
      34: aload_0
      35: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
      38: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      41: ldc           #47                 // String : sender is null, cannot deliver message
      43: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: ldc           #49                 // String ::
      48: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: lload_1
      52: invokevirtual #50                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      55: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      58: invokeinterface #52,  2           // InterfaceMethod org/jgroups/logging/Log.error:(Ljava/lang/String;)V
      63: return
      64: aload_0
      65: aload         4
      67: lload_1
      68: invokevirtual #53                 // Method canDeliver:(Lorg/jgroups/Address;J)Z
      71: ifne          132
      74: aload_0
      75: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      78: invokeinterface #54,  1           // InterfaceMethod org/jgroups/logging/Log.isWarnEnabled:()Z
      83: ifeq          131
      86: aload_0
      87: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      90: new           #44                 // class java/lang/StringBuilder
      93: dup
      94: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
      97: aload_0
      98: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
     101: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     104: ldc           #55                 // String : dropped duplicate message
     106: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: aload         4
     111: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     114: ldc           #49                 // String ::
     116: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     119: lload_1
     120: invokevirtual #50                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     123: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     126: invokeinterface #56,  2           // InterfaceMethod org/jgroups/logging/Log.warn:(Ljava/lang/String;)V
     131: return
     132: aload_0
     133: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     136: invokeinterface #57,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     141: ifeq          189
     144: aload_0
     145: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     148: new           #44                 // class java/lang/StringBuilder
     151: dup
     152: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     155: aload_0
     156: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
     159: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     162: ldc           #58                 // String : delivering
     164: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     167: aload         4
     169: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     172: ldc           #49                 // String ::
     174: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     177: lload_1
     178: invokevirtual #50                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     181: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     184: invokeinterface #59,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     189: aload_0
     190: getfield      #22                 // Field up_prot:Lorg/jgroups/stack/Protocol;
     193: new           #38                 // class org/jgroups/Event
     196: dup
     197: iconst_1
     198: aload_3
     199: invokespecial #39                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     202: invokevirtual #60                 // Method org/jgroups/stack/Protocol.up:(Lorg/jgroups/Event;)Ljava/lang/Object;
     205: pop
     206: return

  public void flush(org.jgroups.Address, java.util.List<org.jgroups.Address>);
    Code:
       0: aload_0
       1: getfield      #16                 // Field delivery_table:Ljava/util/concurrent/ConcurrentMap;
       4: invokeinterface #61,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
       9: aload_2
      10: invokeinterface #62,  2           // InterfaceMethod java/util/Set.retainAll:(Ljava/util/Collection;)Z
      15: pop
      16: aload_1
      17: ifnull        29
      20: aload_0
      21: invokevirtual #32                 // Method stopFlusher:()V
      24: aload_0
      25: aload_1
      26: invokevirtual #63                 // Method startFlusher:(Lorg/jgroups/Address;)V
      29: return

  public void ack(long);
    Code:
       0: aload_0
       1: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
       4: lload_1
       5: invokestatic  #36                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokeinterface #64,  2           // InterfaceMethod java/util/NavigableMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      13: pop
      14: aload_0
      15: getfield      #19                 // Field ack_promise:Lorg/jgroups/util/Promise;
      18: lload_1
      19: invokestatic  #36                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      22: invokevirtual #65                 // Method org/jgroups/util/Promise.setResult:(Ljava/lang/Object;)V
      25: return

  public int size();
    Code:
       0: aload_0
       1: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
       4: invokeinterface #66,  1           // InterfaceMethod java/util/NavigableMap.size:()I
       9: ireturn

  protected void doFlush(org.jgroups.Address) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field flushing:Z
       4: ifeq          36
       7: aload_0
       8: getfield      #11                 // Field running:Z
      11: ifeq          36
      14: aload_0
      15: getfield      #14                 // Field in_flight_sends:Ljava/util/concurrent/atomic/AtomicInteger;
      18: invokevirtual #67                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      21: ifne          27
      24: goto          36
      27: ldc2_w        #68                 // long 100l
      30: invokestatic  #70                 // Method java/lang/Thread.sleep:(J)V
      33: goto          0
      36: aload_0
      37: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
      40: invokeinterface #71,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lockInterruptibly:()V
      45: aload_0
      46: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      49: invokeinterface #57,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      54: ifeq          92
      57: aload_0
      58: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      61: new           #44                 // class java/lang/StringBuilder
      64: dup
      65: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
      68: aload_0
      69: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
      72: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      75: ldc           #72                 // String : target changed to
      77: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: aload_1
      81: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      84: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      87: invokeinterface #59,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      92: aload_0
      93: aload_1
      94: invokevirtual #73                 // Method flushMessagesInForwardTable:(Lorg/jgroups/Address;)V
      97: aload_0
      98: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     101: invokeinterface #57,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     106: ifeq          140
     109: aload_0
     110: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     113: new           #44                 // class java/lang/StringBuilder
     116: dup
     117: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     120: aload_0
     121: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
     124: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     127: ldc           #74                 // String : flushing completed
     129: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     135: invokeinterface #59,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     140: aload_0
     141: iconst_0
     142: putfield      #10                 // Field flushing:Z
     145: aload_0
     146: getfield      #9                  // Field send_cond:Ljava/util/concurrent/locks/Condition;
     149: invokeinterface #75,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
     154: aload_0
     155: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
     158: invokeinterface #76,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     163: goto          235
     166: astore_2
     167: aload_0
     168: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     171: invokeinterface #57,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     176: ifeq          210
     179: aload_0
     180: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     183: new           #44                 // class java/lang/StringBuilder
     186: dup
     187: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     190: aload_0
     191: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
     194: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     197: ldc           #74                 // String : flushing completed
     199: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     202: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     205: invokeinterface #59,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     210: aload_0
     211: iconst_0
     212: putfield      #10                 // Field flushing:Z
     215: aload_0
     216: getfield      #9                  // Field send_cond:Ljava/util/concurrent/locks/Condition;
     219: invokeinterface #75,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
     224: aload_0
     225: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
     228: invokeinterface #76,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     233: aload_2
     234: athrow
     235: return
    Exception table:
       from    to  target type
          45    97   166   any
         166   167   166   any

  protected void flushMessagesInForwardTable(org.jgroups.Address);
    Code:
       0: aload_0
       1: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
       4: invokeinterface #77,  1           // InterfaceMethod java/util/NavigableMap.firstEntry:()Ljava/util/Map$Entry;
       9: astore_2
      10: aload_2
      11: ifnonnull     15
      14: return
      15: aload_2
      16: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      21: checkcast     #79                 // class java/lang/Long
      24: astore_3
      25: aload_2
      26: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      31: checkcast     #81                 // class org/jgroups/Message
      34: astore        4
      36: aload_0
      37: getfield      #10                 // Field flushing:Z
      40: ifeq          225
      43: aload_0
      44: getfield      #11                 // Field running:Z
      47: ifeq          225
      50: aload_0
      51: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
      54: invokeinterface #82,  1           // InterfaceMethod java/util/NavigableMap.isEmpty:()Z
      59: ifne          225
      62: aload         4
      64: invokevirtual #83                 // Method org/jgroups/Message.copy:()Lorg/jgroups/Message;
      67: astore        5
      69: aload         5
      71: aload_1
      72: invokevirtual #84                 // Method org/jgroups/Message.setDest:(Lorg/jgroups/Address;)V
      75: aload         5
      77: iconst_1
      78: anewarray     #85                 // class org/jgroups/Message$Flag
      81: dup
      82: iconst_0
      83: getstatic     #86                 // Field org/jgroups/Message$Flag.DONT_BUNDLE:Lorg/jgroups/Message$Flag;
      86: aastore
      87: invokevirtual #87                 // Method org/jgroups/Message.setFlag:([Lorg/jgroups/Message$Flag;)Lorg/jgroups/Message;
      90: pop
      91: aload_0
      92: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      95: invokeinterface #57,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     100: ifeq          152
     103: aload_0
     104: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     107: new           #44                 // class java/lang/StringBuilder
     110: dup
     111: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     114: aload_0
     115: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
     118: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     121: ldc           #88                 // String : flushing (forwarding)
     123: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     126: ldc           #49                 // String ::
     128: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: aload_3
     132: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     135: ldc           #89                 // String  to target
     137: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_1
     141: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     144: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     147: invokeinterface #59,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     152: aload_0
     153: getfield      #19                 // Field ack_promise:Lorg/jgroups/util/Promise;
     156: invokevirtual #90                 // Method org/jgroups/util/Promise.reset:()V
     159: aload_0
     160: getfield      #23                 // Field down_prot:Lorg/jgroups/stack/Protocol;
     163: new           #38                 // class org/jgroups/Event
     166: dup
     167: iconst_1
     168: aload         5
     170: invokespecial #39                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     173: invokevirtual #40                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     176: pop
     177: aload_0
     178: getfield      #19                 // Field ack_promise:Lorg/jgroups/util/Promise;
     181: ldc2_w        #91                 // long 500l
     184: invokevirtual #93                 // Method org/jgroups/util/Promise.getResult:(J)Ljava/lang/Object;
     187: checkcast     #79                 // class java/lang/Long
     190: astore        6
     192: aload         6
     194: ifnull        206
     197: aload         6
     199: aload_3
     200: invokevirtual #94                 // Method java/lang/Long.equals:(Ljava/lang/Object;)Z
     203: ifne          225
     206: aload_0
     207: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
     210: aload_3
     211: invokeinterface #95,  2           // InterfaceMethod java/util/NavigableMap.containsKey:(Ljava/lang/Object;)Z
     216: ifne          222
     219: goto          225
     222: goto          36
     225: aload_0
     226: getfield      #4                  // Field forward_table:Ljava/util/NavigableMap;
     229: invokeinterface #96,  1           // InterfaceMethod java/util/NavigableMap.entrySet:()Ljava/util/Set;
     234: invokeinterface #97,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     239: astore        6
     241: aload         6
     243: invokeinterface #27,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     248: ifeq          411
     251: aload         6
     253: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     258: checkcast     #98                 // class java/util/Map$Entry
     261: astore        7
     263: aload         7
     265: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     270: checkcast     #79                 // class java/lang/Long
     273: astore_3
     274: aload         7
     276: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     281: checkcast     #81                 // class org/jgroups/Message
     284: astore        4
     286: aload_0
     287: getfield      #10                 // Field flushing:Z
     290: ifeq          408
     293: aload_0
     294: getfield      #11                 // Field running:Z
     297: ifeq          408
     300: aload         4
     302: invokevirtual #83                 // Method org/jgroups/Message.copy:()Lorg/jgroups/Message;
     305: astore        5
     307: aload         5
     309: aload_1
     310: invokevirtual #84                 // Method org/jgroups/Message.setDest:(Lorg/jgroups/Address;)V
     313: aload         5
     315: iconst_1
     316: anewarray     #85                 // class org/jgroups/Message$Flag
     319: dup
     320: iconst_0
     321: getstatic     #86                 // Field org/jgroups/Message$Flag.DONT_BUNDLE:Lorg/jgroups/Message$Flag;
     324: aastore
     325: invokevirtual #87                 // Method org/jgroups/Message.setFlag:([Lorg/jgroups/Message$Flag;)Lorg/jgroups/Message;
     328: pop
     329: aload_0
     330: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     333: invokeinterface #57,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
     338: ifeq          390
     341: aload_0
     342: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
     345: new           #44                 // class java/lang/StringBuilder
     348: dup
     349: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     352: aload_0
     353: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
     356: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     359: ldc           #88                 // String : flushing (forwarding)
     361: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     364: ldc           #49                 // String ::
     366: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     369: aload_3
     370: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     373: ldc           #89                 // String  to target
     375: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     378: aload_1
     379: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     382: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     385: invokeinterface #59,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
     390: aload_0
     391: getfield      #23                 // Field down_prot:Lorg/jgroups/stack/Protocol;
     394: new           #38                 // class org/jgroups/Event
     397: dup
     398: iconst_1
     399: aload         5
     401: invokespecial #39                 // Method org/jgroups/Event."<init>":(ILjava/lang/Object;)V
     404: invokevirtual #40                 // Method org/jgroups/stack/Protocol.down:(Lorg/jgroups/Event;)Ljava/lang/Object;
     407: pop
     408: goto          241
     411: return

  protected boolean canDeliver(org.jgroups.Address, long);
    Code:
       0: aload_0
       1: getfield      #16                 // Field delivery_table:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #99,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #29                 // class org/jgroups/util/BoundedHashMap
      13: astore        4
      15: aload         4
      17: ifnonnull     59
      20: new           #29                 // class org/jgroups/util/BoundedHashMap
      23: dup
      24: aload_0
      25: getfield      #20                 // Field delivery_table_max_size:I
      28: invokespecial #100                // Method org/jgroups/util/BoundedHashMap."<init>":(I)V
      31: astore        4
      33: aload_0
      34: getfield      #16                 // Field delivery_table:Ljava/util/concurrent/ConcurrentMap;
      37: aload_1
      38: aload         4
      40: invokeinterface #101,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      45: checkcast     #29                 // class org/jgroups/util/BoundedHashMap
      48: astore        5
      50: aload         5
      52: ifnull        59
      55: aload         5
      57: astore        4
      59: aload         4
      61: lload_2
      62: invokestatic  #36                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      65: lload_2
      66: invokestatic  #36                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      69: invokevirtual #102                // Method org/jgroups/util/BoundedHashMap.add:(Ljava/lang/Object;Ljava/lang/Object;)Z
      72: ireturn

  protected void block();
    Code:
       0: aload_0
       1: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #103,  1          // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #10                 // Field flushing:Z
      13: ifeq          39
      16: aload_0
      17: getfield      #11                 // Field running:Z
      20: ifeq          39
      23: aload_0
      24: getfield      #9                  // Field send_cond:Ljava/util/concurrent/locks/Condition;
      27: invokeinterface #104,  1          // InterfaceMethod java/util/concurrent/locks/Condition.await:()V
      32: goto          9
      35: astore_1
      36: goto          9
      39: aload_0
      40: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
      43: invokeinterface #76,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      48: goto          63
      51: astore_2
      52: aload_0
      53: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
      56: invokeinterface #76,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      61: aload_2
      62: athrow
      63: return
    Exception table:
       from    to  target type
          23    32    35   Class java/lang/InterruptedException
           9    39    51   any
          51    52    51   any

  protected void unblockAll();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #10                 // Field flushing:Z
       5: aload_0
       6: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
       9: invokeinterface #103,  1          // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      14: aload_0
      15: getfield      #9                  // Field send_cond:Ljava/util/concurrent/locks/Condition;
      18: invokeinterface #75,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signalAll:()V
      23: aload_0
      24: getfield      #19                 // Field ack_promise:Lorg/jgroups/util/Promise;
      27: aconst_null
      28: invokevirtual #65                 // Method org/jgroups/util/Promise.setResult:(Ljava/lang/Object;)V
      31: aload_0
      32: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
      35: invokeinterface #76,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      40: goto          55
      43: astore_1
      44: aload_0
      45: getfield      #7                  // Field send_lock:Ljava/util/concurrent/locks/Lock;
      48: invokeinterface #76,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      53: aload_1
      54: athrow
      55: return
    Exception table:
       from    to  target type
          14    31    43   any
          43    44    43   any

  protected synchronized void startFlusher(org.jgroups.Address);
    Code:
       0: aload_0
       1: getfield      #106                // Field flusher:Lorg/jgroups/util/ForwardQueue$Flusher;
       4: ifnull        17
       7: aload_0
       8: getfield      #106                // Field flusher:Lorg/jgroups/util/ForwardQueue$Flusher;
      11: invokevirtual #107                // Method org/jgroups/util/ForwardQueue$Flusher.isAlive:()Z
      14: ifne          94
      17: aload_0
      18: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      21: invokeinterface #57,  1           // InterfaceMethod org/jgroups/logging/Log.isTraceEnabled:()Z
      26: ifeq          60
      29: aload_0
      30: getfield      #21                 // Field log:Lorg/jgroups/logging/Log;
      33: new           #44                 // class java/lang/StringBuilder
      36: dup
      37: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
      40: aload_0
      41: getfield      #24                 // Field local_addr:Lorg/jgroups/Address;
      44: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      47: ldc           #108                // String : flushing started
      49: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: invokeinterface #59,  2           // InterfaceMethod org/jgroups/logging/Log.trace:(Ljava/lang/String;)V
      60: aload_0
      61: iconst_1
      62: putfield      #10                 // Field flushing:Z
      65: aload_0
      66: new           #109                // class org/jgroups/util/ForwardQueue$Flusher
      69: dup
      70: aload_0
      71: aload_1
      72: invokespecial #110                // Method org/jgroups/util/ForwardQueue$Flusher."<init>":(Lorg/jgroups/util/ForwardQueue;Lorg/jgroups/Address;)V
      75: putfield      #106                // Field flusher:Lorg/jgroups/util/ForwardQueue$Flusher;
      78: aload_0
      79: getfield      #106                // Field flusher:Lorg/jgroups/util/ForwardQueue$Flusher;
      82: ldc           #111                // String Flusher
      84: invokevirtual #112                // Method org/jgroups/util/ForwardQueue$Flusher.setName:(Ljava/lang/String;)V
      87: aload_0
      88: getfield      #106                // Field flusher:Lorg/jgroups/util/ForwardQueue$Flusher;
      91: invokevirtual #113                // Method org/jgroups/util/ForwardQueue$Flusher.start:()V
      94: return

  protected void stopFlusher();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #10                 // Field flushing:Z
       5: aload_0
       6: getfield      #106                // Field flusher:Lorg/jgroups/util/ForwardQueue$Flusher;
       9: astore_1
      10: aload_1
      11: ifnull        44
      14: aload_1
      15: invokevirtual #114                // Method java/lang/Thread.isAlive:()Z
      18: ifeq          44
      21: aload_1
      22: invokevirtual #115                // Method java/lang/Thread.interrupt:()V
      25: aload_0
      26: getfield      #19                 // Field ack_promise:Lorg/jgroups/util/Promise;
      29: aconst_null
      30: invokevirtual #65                 // Method org/jgroups/util/Promise.setResult:(Ljava/lang/Object;)V
      33: aload_1
      34: invokevirtual #116                // Method java/lang/Thread.join:()V
      37: goto          10
      40: astore_2
      41: goto          10
      44: return
    Exception table:
       from    to  target type
          33    37    40   Class java/lang/InterruptedException
}
