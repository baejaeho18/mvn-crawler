Compiled from "NettyConnector.java"
class org.hornetq.core.remoting.impl.netty.NettyConnector$HttpUpgradeHandler extends io.netty.channel.SimpleChannelInboundHandler<io.netty.handler.codec.http.HttpObject> {
  private final io.netty.channel.ChannelPipeline pipeline;

  private final io.netty.handler.codec.http.HttpClientCodec httpClientCodec;

  private final java.util.concurrent.CountDownLatch latch;

  private boolean handshakeComplete;

  public org.hornetq.core.remoting.impl.netty.NettyConnector$HttpUpgradeHandler(io.netty.channel.ChannelPipeline, io.netty.handler.codec.http.HttpClientCodec);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method io/netty/channel/SimpleChannelInboundHandler."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/concurrent/CountDownLatch
       8: dup
       9: iconst_1
      10: invokespecial #4                  // Method java/util/concurrent/CountDownLatch."<init>":(I)V
      13: putfield      #5                  // Field latch:Ljava/util/concurrent/CountDownLatch;
      16: aload_0
      17: iconst_0
      18: putfield      #6                  // Field handshakeComplete:Z
      21: aload_0
      22: aload_1
      23: putfield      #7                  // Field pipeline:Lio/netty/channel/ChannelPipeline;
      26: aload_0
      27: aload_2
      28: putfield      #8                  // Field httpClientCodec:Lio/netty/handler/codec/http/HttpClientCodec;
      31: return

  public void channelRead0(io.netty.channel.ChannelHandlerContext, io.netty.handler.codec.http.HttpObject) throws java.lang.Exception;
    Code:
       0: aload_2
       1: instanceof    #9                  // class io/netty/handler/codec/http/HttpResponse
       4: ifeq          182
       7: aload_2
       8: checkcast     #9                  // class io/netty/handler/codec/http/HttpResponse
      11: astore_3
      12: aload_3
      13: invokeinterface #10,  1           // InterfaceMethod io/netty/handler/codec/http/HttpResponse.getStatus:()Lio/netty/handler/codec/http/HttpResponseStatus;
      18: invokevirtual #11                 // Method io/netty/handler/codec/http/HttpResponseStatus.code:()I
      21: getstatic     #12                 // Field io/netty/handler/codec/http/HttpResponseStatus.SWITCHING_PROTOCOLS:Lio/netty/handler/codec/http/HttpResponseStatus;
      24: invokevirtual #11                 // Method io/netty/handler/codec/http/HttpResponseStatus.code:()I
      27: if_icmpne     175
      30: aload_3
      31: invokeinterface #13,  1           // InterfaceMethod io/netty/handler/codec/http/HttpResponse.headers:()Lio/netty/handler/codec/http/HttpHeaders;
      36: ldc           #15                 // String Upgrade
      38: invokevirtual #16                 // Method io/netty/handler/codec/http/HttpHeaders.get:(Ljava/lang/String;)Ljava/lang/String;
      41: ldc           #17                 // String hornetq-remoting
      43: invokevirtual #18                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      46: ifeq          175
      49: aload_3
      50: invokeinterface #13,  1           // InterfaceMethod io/netty/handler/codec/http/HttpResponse.headers:()Lio/netty/handler/codec/http/HttpHeaders;
      55: ldc           #19                 // String Sec-HornetQRemoting-Accept
      57: invokevirtual #16                 // Method io/netty/handler/codec/http/HttpHeaders.get:(Ljava/lang/String;)Ljava/lang/String;
      60: astore        4
      62: ldc           #20                 // String CF70DEB8-70F9-4FBA-8B4F-DFC3E723B4CD
      64: aload_1
      65: invokeinterface #21,  1           // InterfaceMethod io/netty/channel/ChannelHandlerContext.channel:()Lio/netty/channel/Channel;
      70: invokestatic  #22                 // Method org/hornetq/core/remoting/impl/netty/NettyConnector.access$1000:()Lio/netty/util/AttributeKey;
      73: invokeinterface #23,  2           // InterfaceMethod io/netty/channel/Channel.attr:(Lio/netty/util/AttributeKey;)Lio/netty/util/Attribute;
      78: invokeinterface #24,  1           // InterfaceMethod io/netty/util/Attribute.get:()Ljava/lang/Object;
      83: checkcast     #25                 // class java/lang/String
      86: invokestatic  #26                 // Method org/hornetq/core/remoting/impl/netty/NettyConnector.createExpectedResponse:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      89: astore        5
      91: aload         5
      93: aload         4
      95: invokevirtual #18                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      98: ifeq          156
     101: aload_0
     102: getfield      #7                  // Field pipeline:Lio/netty/channel/ChannelPipeline;
     105: aload_0
     106: getfield      #8                  // Field httpClientCodec:Lio/netty/handler/codec/http/HttpClientCodec;
     109: invokeinterface #27,  2           // InterfaceMethod io/netty/channel/ChannelPipeline.remove:(Lio/netty/channel/ChannelHandler;)Lio/netty/channel/ChannelPipeline;
     114: pop
     115: aload_0
     116: getfield      #7                  // Field pipeline:Lio/netty/channel/ChannelPipeline;
     119: aload_0
     120: invokeinterface #27,  2           // InterfaceMethod io/netty/channel/ChannelPipeline.remove:(Lio/netty/channel/ChannelHandler;)Lio/netty/channel/ChannelPipeline;
     125: pop
     126: aload_0
     127: iconst_1
     128: putfield      #6                  // Field handshakeComplete:Z
     131: aload_0
     132: getfield      #7                  // Field pipeline:Lio/netty/channel/ChannelPipeline;
     135: ldc           #28                 // class org/hornetq/core/remoting/impl/netty/HornetQChannelHandler
     137: invokeinterface #29,  2           // InterfaceMethod io/netty/channel/ChannelPipeline.get:(Ljava/lang/Class;)Lio/netty/channel/ChannelHandler;
     142: checkcast     #28                 // class org/hornetq/core/remoting/impl/netty/HornetQChannelHandler
     145: astore        6
     147: aload         6
     149: iconst_1
     150: putfield      #30                 // Field org/hornetq/core/remoting/impl/netty/HornetQChannelHandler.active:Z
     153: goto          175
     156: getstatic     #31                 // Field org/hornetq/core/client/HornetQClientLogger.LOGGER:Lorg/hornetq/core/client/HornetQClientLogger;
     159: aload         4
     161: aload         5
     163: invokeinterface #32,  3           // InterfaceMethod org/hornetq/core/client/HornetQClientLogger.httpHandshakeFailed:(Ljava/lang/String;Ljava/lang/String;)V
     168: aload_1
     169: invokeinterface #33,  1           // InterfaceMethod io/netty/channel/ChannelHandlerContext.close:()Lio/netty/channel/ChannelFuture;
     174: pop
     175: aload_0
     176: getfield      #5                  // Field latch:Ljava/util/concurrent/CountDownLatch;
     179: invokevirtual #34                 // Method java/util/concurrent/CountDownLatch.countDown:()V
     182: return

  public void exceptionCaught(io.netty.channel.ChannelHandlerContext, java.lang.Throwable) throws java.lang.Exception;
    Code:
       0: getstatic     #31                 // Field org/hornetq/core/client/HornetQClientLogger.LOGGER:Lorg/hornetq/core/client/HornetQClientLogger;
       3: aload_2
       4: invokeinterface #35,  2           // InterfaceMethod org/hornetq/core/client/HornetQClientLogger.errorCreatingNettyConnection:(Ljava/lang/Throwable;)V
       9: aload_1
      10: invokeinterface #33,  1           // InterfaceMethod io/netty/channel/ChannelHandlerContext.close:()Lio/netty/channel/ChannelFuture;
      15: pop
      16: return

  public boolean awaitHandshake();
    Code:
       0: aload_0
       1: getfield      #5                  // Field latch:Ljava/util/concurrent/CountDownLatch;
       4: ldc2_w        #36                 // long 30000l
       7: getstatic     #38                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      10: invokevirtual #39                 // Method java/util/concurrent/CountDownLatch.await:(JLjava/util/concurrent/TimeUnit;)Z
      13: ifne          18
      16: iconst_0
      17: ireturn
      18: goto          24
      21: astore_1
      22: iconst_0
      23: ireturn
      24: aload_0
      25: getfield      #6                  // Field handshakeComplete:Z
      28: ireturn
    Exception table:
       from    to  target type
           0    17    21   Class java/lang/InterruptedException

  public void channelRead0(io.netty.channel.ChannelHandlerContext, java.lang.Object) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: checkcast     #41                 // class io/netty/handler/codec/http/HttpObject
       6: invokevirtual #42                 // Method channelRead0:(Lio/netty/channel/ChannelHandlerContext;Lio/netty/handler/codec/http/HttpObject;)V
       9: return
}
