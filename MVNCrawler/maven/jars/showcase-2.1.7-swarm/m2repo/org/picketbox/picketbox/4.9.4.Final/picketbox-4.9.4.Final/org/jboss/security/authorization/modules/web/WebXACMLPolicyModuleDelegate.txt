Compiled from "WebXACMLPolicyModuleDelegate.java"
public class org.jboss.security.authorization.modules.web.WebXACMLPolicyModuleDelegate extends org.jboss.security.authorization.modules.AuthorizationModuleDelegate {
  private java.lang.String policyContextID;

  public org.jboss.security.authorization.modules.web.WebXACMLPolicyModuleDelegate();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/security/authorization/modules/AuthorizationModuleDelegate."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field policyContextID:Ljava/lang/String;
       9: return

  public int authorize(org.jboss.security.authorization.Resource, javax.security.auth.Subject, org.jboss.security.identity.RoleGroup);
    Code:
       0: aload_1
       1: instanceof    #3                  // class org/jboss/security/authorization/resources/WebResource
       4: ifne          21
       7: getstatic     #4                  // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      10: ldc           #3                  // class org/jboss/security/authorization/resources/WebResource
      12: invokevirtual #5                  // Method java/lang/Class.getName:()Ljava/lang/String;
      15: invokeinterface #6,  2            // InterfaceMethod org/jboss/security/PicketBoxMessages.invalidType:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      20: athrow
      21: aload_1
      22: checkcast     #3                  // class org/jboss/security/authorization/resources/WebResource
      25: astore        4
      27: aload_1
      28: invokeinterface #7,  1            // InterfaceMethod org/jboss/security/authorization/Resource.getMap:()Ljava/util/Map;
      33: astore        5
      35: aload         5
      37: ifnonnull     51
      40: getstatic     #4                  // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      43: ldc           #8                  // String resourceMap
      45: invokeinterface #9,  2            // InterfaceMethod org/jboss/security/PicketBoxMessages.invalidNullProperty:(Ljava/lang/String;)Ljava/lang/IllegalStateException;
      50: athrow
      51: aload         4
      53: invokevirtual #10                 // Method org/jboss/security/authorization/resources/WebResource.getServletRequest:()Ljavax/servlet/ServletRequest;
      56: checkcast     #11                 // class javax/servlet/http/HttpServletRequest
      59: astore        6
      61: aload_0
      62: aload         5
      64: ldc           #13                 // String policyRegistration
      66: invokeinterface #14,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      71: checkcast     #15                 // class org/jboss/security/authorization/PolicyRegistration
      74: putfield      #16                 // Field policyRegistration:Lorg/jboss/security/authorization/PolicyRegistration;
      77: aload_0
      78: getfield      #16                 // Field policyRegistration:Lorg/jboss/security/authorization/PolicyRegistration;
      81: ifnonnull     95
      84: getstatic     #4                  // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      87: ldc           #13                 // String policyRegistration
      89: invokeinterface #9,  2            // InterfaceMethod org/jboss/security/PicketBoxMessages.invalidNullProperty:(Ljava/lang/String;)Ljava/lang/IllegalStateException;
      94: athrow
      95: aload_0
      96: aload         4
      98: invokevirtual #17                 // Method org/jboss/security/authorization/resources/WebResource.getPolicyContextID:()Ljava/lang/String;
     101: putfield      #2                  // Field policyContextID:Ljava/lang/String;
     104: aload_0
     105: aload         5
     107: ldc           #18                 // String userDataPermissionCheck
     109: invokeinterface #14,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     114: checkcast     #19                 // class java/lang/Boolean
     117: invokespecial #20                 // Method checkBooleanValue:(Ljava/lang/Boolean;)Ljava/lang/Boolean;
     120: astore        7
     122: aload_0
     123: aload         5
     125: ldc           #21                 // String roleRefPermissionCheck
     127: invokeinterface #14,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     132: checkcast     #19                 // class java/lang/Boolean
     135: invokespecial #20                 // Method checkBooleanValue:(Ljava/lang/Boolean;)Ljava/lang/Boolean;
     138: astore        8
     140: aload         7
     142: invokevirtual #22                 // Method java/lang/Boolean.booleanValue:()Z
     145: ifne          156
     148: aload         8
     150: invokevirtual #22                 // Method java/lang/Boolean.booleanValue:()Z
     153: ifeq          158
     156: iconst_1
     157: ireturn
     158: aload         6
     160: ifnonnull     174
     163: getstatic     #4                  // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
     166: ldc           #24                 // String servletRequest
     168: invokeinterface #9,  2            // InterfaceMethod org/jboss/security/PicketBoxMessages.invalidNullProperty:(Ljava/lang/String;)Ljava/lang/IllegalStateException;
     173: athrow
     174: aload_0
     175: aload         6
     177: aload_3
     178: invokespecial #25                 // Method process:(Ljavax/servlet/http/HttpServletRequest;Lorg/jboss/security/identity/RoleGroup;)I
     181: ireturn

  private java.lang.Boolean checkBooleanValue(java.lang.Boolean);
    Code:
       0: aload_1
       1: ifnonnull     8
       4: getstatic     #26                 // Field java/lang/Boolean.FALSE:Ljava/lang/Boolean;
       7: areturn
       8: aload_1
       9: areturn

  private int process(javax.servlet.http.HttpServletRequest, org.jboss.security.identity.RoleGroup);
    Code:
       0: aload_1
       1: invokeinterface #27,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getUserPrincipal:()Ljava/security/Principal;
       6: astore_3
       7: aload_3
       8: ifnonnull     22
      11: getstatic     #4                  // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      14: ldc           #28                 // String userPrincipal
      16: invokeinterface #9,  2            // InterfaceMethod org/jboss/security/PicketBoxMessages.invalidNullProperty:(Ljava/lang/String;)Ljava/lang/IllegalStateException;
      21: athrow
      22: iconst_m1
      23: istore        4
      25: new           #29                 // class org/jboss/security/authorization/modules/web/WebXACMLUtil
      28: dup
      29: invokespecial #30                 // Method org/jboss/security/authorization/modules/web/WebXACMLUtil."<init>":()V
      32: astore        5
      34: aload         5
      36: aload_1
      37: aload_2
      38: invokevirtual #31                 // Method org/jboss/security/authorization/modules/web/WebXACMLUtil.createXACMLRequest:(Ljavax/servlet/http/HttpServletRequest;Lorg/jboss/security/identity/RoleGroup;)Lorg/jboss/security/xacml/interfaces/RequestContext;
      41: astore        6
      43: aload_0
      44: getfield      #2                  // Field policyContextID:Ljava/lang/String;
      47: ifnonnull     57
      50: aload_0
      51: invokestatic  #32                 // Method javax/security/jacc/PolicyContext.getContextID:()Ljava/lang/String;
      54: putfield      #2                  // Field policyContextID:Ljava/lang/String;
      57: aload         5
      59: aload_0
      60: getfield      #16                 // Field policyRegistration:Lorg/jboss/security/authorization/PolicyRegistration;
      63: aload_0
      64: getfield      #2                  // Field policyContextID:Ljava/lang/String;
      67: invokevirtual #33                 // Method org/jboss/security/authorization/modules/web/WebXACMLUtil.getPDP:(Lorg/jboss/security/authorization/PolicyRegistration;Ljava/lang/String;)Lorg/jboss/security/xacml/interfaces/PolicyDecisionPoint;
      70: astore        7
      72: aload         7
      74: aload         6
      76: invokeinterface #34,  2           // InterfaceMethod org/jboss/security/xacml/interfaces/PolicyDecisionPoint.evaluate:(Lorg/jboss/security/xacml/interfaces/RequestContext;)Lorg/jboss/security/xacml/interfaces/ResponseContext;
      81: astore        8
      83: aload         8
      85: invokeinterface #35,  1           // InterfaceMethod org/jboss/security/xacml/interfaces/ResponseContext.getDecision:()I
      90: ifne          97
      93: iconst_1
      94: goto          98
      97: iconst_m1
      98: istore        4
     100: goto          118
     103: astore        6
     105: getstatic     #37                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     108: aload         6
     110: invokeinterface #38,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.debugIgnoredException:(Ljava/lang/Throwable;)V
     115: iconst_m1
     116: istore        4
     118: iload         4
     120: ireturn
    Exception table:
       from    to  target type
          34   100   103   Class java/lang/Exception
}
