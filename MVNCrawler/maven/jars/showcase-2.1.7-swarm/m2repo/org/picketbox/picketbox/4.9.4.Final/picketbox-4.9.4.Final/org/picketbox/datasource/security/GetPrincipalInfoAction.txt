Compiled from "GetPrincipalInfoAction.java"
class org.picketbox.datasource.security.GetPrincipalInfoAction {
  org.picketbox.datasource.security.GetPrincipalInfoAction();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: return

  private static char[] getPassword();
    Code:
       0: invokestatic  #3                  // Method org/jboss/security/SecurityContextAssociation.getCredential:()Ljava/lang/Object;
       3: astore_0
       4: aconst_null
       5: astore_1
       6: aload_0
       7: instanceof    #4                  // class "[C"
      10: ifeq          24
      13: aload_0
      14: checkcast     #4                  // class "[C"
      17: checkcast     #4                  // class "[C"
      20: astore_1
      21: goto          83
      24: aload_0
      25: instanceof    #5                  // class "[B"
      28: ifeq          69
      31: new           #6                  // class java/lang/String
      34: dup
      35: aload_0
      36: checkcast     #5                  // class "[B"
      39: checkcast     #5                  // class "[B"
      42: ldc           #7                  // String UTF-8
      44: invokespecial #8                  // Method java/lang/String."<init>":([BLjava/lang/String;)V
      47: astore_2
      48: aload_2
      49: invokevirtual #9                  // Method java/lang/String.toCharArray:()[C
      52: astore_1
      53: goto          83
      56: astore_2
      57: new           #11                 // class java/lang/SecurityException
      60: dup
      61: aload_2
      62: invokevirtual #12                 // Method java/io/UnsupportedEncodingException.getMessage:()Ljava/lang/String;
      65: invokespecial #13                 // Method java/lang/SecurityException."<init>":(Ljava/lang/String;)V
      68: athrow
      69: aload_0
      70: ifnull        83
      73: aload_0
      74: invokevirtual #14                 // Method java/lang/Object.toString:()Ljava/lang/String;
      77: astore_2
      78: aload_2
      79: invokevirtual #9                  // Method java/lang/String.toCharArray:()[C
      82: astore_1
      83: aload_1
      84: areturn
    Exception table:
       from    to  target type
          31    53    56   Class java/io/UnsupportedEncodingException

  static java.security.Principal getPrincipal();
    Code:
       0: invokestatic  #15                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
       3: ifnonnull     18
       6: getstatic     #16                 // Field org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.NON_PRIVILEGED:Lorg/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions;
       9: invokeinterface #17,  1           // InterfaceMethod org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.getPrincipal:()Ljava/security/Principal;
      14: astore_0
      15: goto          27
      18: getstatic     #18                 // Field org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.PRIVILEGED:Lorg/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions;
      21: invokeinterface #17,  1           // InterfaceMethod org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.getPrincipal:()Ljava/security/Principal;
      26: astore_0
      27: aload_0
      28: areturn

  static char[] getCredential();
    Code:
       0: invokestatic  #15                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
       3: ifnonnull     18
       6: getstatic     #16                 // Field org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.NON_PRIVILEGED:Lorg/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions;
       9: invokeinterface #19,  1           // InterfaceMethod org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.getCredential:()[C
      14: astore_0
      15: goto          27
      18: getstatic     #18                 // Field org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.PRIVILEGED:Lorg/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions;
      21: invokeinterface #19,  1           // InterfaceMethod org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.getCredential:()[C
      26: astore_0
      27: aload_0
      28: areturn

  static org.jboss.security.RunAsIdentity peekRunAsIdentity();
    Code:
       0: invokestatic  #15                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
       3: ifnonnull     18
       6: getstatic     #16                 // Field org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.NON_PRIVILEGED:Lorg/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions;
       9: invokeinterface #20,  1           // InterfaceMethod org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.peek:()Lorg/jboss/security/RunAs;
      14: checkcast     #21                 // class org/jboss/security/RunAsIdentity
      17: areturn
      18: getstatic     #18                 // Field org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.PRIVILEGED:Lorg/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions;
      21: invokeinterface #20,  1           // InterfaceMethod org/picketbox/datasource/security/GetPrincipalInfoAction$PrincipalActions.peek:()Lorg/jboss/security/RunAs;
      26: checkcast     #21                 // class org/jboss/security/RunAsIdentity
      29: areturn

  static char[] access$000();
    Code:
       0: invokestatic  #1                  // Method getPassword:()[C
       3: areturn
}
