Compiled from "JBossPolicyConfigurationFactory.java"
public class org.jboss.security.jacc.JBossPolicyConfigurationFactory extends javax.security.jacc.PolicyConfigurationFactory {
  private org.jboss.security.util.state.StateMachine configStateMachine;

  private java.util.concurrent.ConcurrentMap<java.lang.String, org.jboss.security.jacc.JBossPolicyConfiguration> policyConfigMap;

  private org.jboss.security.jacc.DelegatingPolicy policy;

  public org.jboss.security.jacc.JBossPolicyConfigurationFactory();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/security/jacc/PolicyConfigurationFactory."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field policyConfigMap:Ljava/util/concurrent/ConcurrentMap;
      15: invokestatic  #5                  // Method org/jboss/security/jacc/SecurityActions.getContextClassLoader:()Ljava/lang/ClassLoader;
      18: astore_1
      19: aload_1
      20: ldc           #6                  // String org/jboss/security/jacc/jacc-policy-config-states.xml
      22: invokestatic  #7                  // Method org/jboss/security/jacc/SecurityActions.getResource:(Ljava/lang/ClassLoader;Ljava/lang/String;)Ljava/net/URL;
      25: astore_2
      26: new           #8                  // class org/jboss/security/util/state/xml/StateMachineParser
      29: dup
      30: invokespecial #9                  // Method org/jboss/security/util/state/xml/StateMachineParser."<init>":()V
      33: astore_3
      34: aload_0
      35: aload_3
      36: aload_2
      37: invokevirtual #10                 // Method org/jboss/security/util/state/xml/StateMachineParser.parse:(Ljava/net/URL;)Lorg/jboss/security/util/state/StateMachine;
      40: putfield      #11                 // Field configStateMachine:Lorg/jboss/security/util/state/StateMachine;
      43: goto          57
      46: astore_1
      47: getstatic     #13                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      50: aload_1
      51: invokeinterface #14,  2           // InterfaceMethod org/jboss/security/PicketBoxMessages.failedToParseJACCStatesConfigFile:(Ljava/lang/Throwable;)Ljava/lang/IllegalStateException;
      56: athrow
      57: invokestatic  #15                 // Method org/jboss/security/jacc/SecurityActions.getPolicy:()Ljava/security/Policy;
      60: astore_1
      61: aload_1
      62: instanceof    #16                 // class org/jboss/security/jacc/DelegatingPolicy
      65: ifne          72
      68: invokestatic  #17                 // Method org/jboss/security/jacc/DelegatingPolicy.getInstance:()Lorg/jboss/security/jacc/DelegatingPolicy;
      71: astore_1
      72: aload_0
      73: aload_1
      74: checkcast     #16                 // class org/jboss/security/jacc/DelegatingPolicy
      77: putfield      #18                 // Field policy:Lorg/jboss/security/jacc/DelegatingPolicy;
      80: return
    Exception table:
       from    to  target type
          15    43    46   Class java/lang/Exception

  public javax.security.jacc.PolicyConfiguration getPolicyConfiguration(java.lang.String, boolean) throws javax.security.jacc.PolicyContextException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field policyConfigMap:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #19,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #20                 // class org/jboss/security/jacc/JBossPolicyConfiguration
      13: astore_3
      14: aload_3
      15: ifnonnull     57
      18: aload_0
      19: getfield      #11                 // Field configStateMachine:Lorg/jboss/security/util/state/StateMachine;
      22: invokevirtual #21                 // Method org/jboss/security/util/state/StateMachine.clone:()Ljava/lang/Object;
      25: checkcast     #22                 // class org/jboss/security/util/state/StateMachine
      28: astore        4
      30: new           #20                 // class org/jboss/security/jacc/JBossPolicyConfiguration
      33: dup
      34: aload_1
      35: aload_0
      36: getfield      #18                 // Field policy:Lorg/jboss/security/jacc/DelegatingPolicy;
      39: aload         4
      41: invokespecial #23                 // Method org/jboss/security/jacc/JBossPolicyConfiguration."<init>":(Ljava/lang/String;Lorg/jboss/security/jacc/DelegatingPolicy;Lorg/jboss/security/util/state/StateMachine;)V
      44: astore_3
      45: aload_0
      46: getfield      #4                  // Field policyConfigMap:Ljava/util/concurrent/ConcurrentMap;
      49: aload_1
      50: aload_3
      51: invokeinterface #24,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      56: pop
      57: aload_3
      58: iload_2
      59: invokevirtual #25                 // Method org/jboss/security/jacc/JBossPolicyConfiguration.initPolicyConfiguration:(Z)V
      62: aload_3
      63: areturn

  public boolean inService(java.lang.String) throws javax.security.jacc.PolicyContextException;
    Code:
       0: iconst_0
       1: istore_2
       2: aload_0
       3: getfield      #4                  // Field policyConfigMap:Ljava/util/concurrent/ConcurrentMap;
       6: aload_1
       7: invokeinterface #19,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      12: checkcast     #20                 // class org/jboss/security/jacc/JBossPolicyConfiguration
      15: astore_3
      16: aload_3
      17: ifnull        25
      20: aload_3
      21: invokevirtual #26                 // Method org/jboss/security/jacc/JBossPolicyConfiguration.inService:()Z
      24: istore_2
      25: iload_2
      26: ireturn
}
