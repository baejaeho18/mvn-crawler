Compiled from "JBossSecuritySubjectFactory.java"
public class org.jboss.security.plugins.JBossSecuritySubjectFactory implements org.jboss.security.SubjectFactory {
  private org.jboss.security.ISecurityManagement securityManagement;

  public org.jboss.security.plugins.JBossSecuritySubjectFactory();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public javax.security.auth.Subject createSubject();
    Code:
       0: aload_0
       1: ldc           #3                  // String other
       3: invokevirtual #4                  // Method createSubject:(Ljava/lang/String;)Ljavax/security/auth/Subject;
       6: areturn

  public javax.security.auth.Subject createSubject(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field securityManagement:Lorg/jboss/security/ISecurityManagement;
       4: ifnonnull     33
       7: getstatic     #6                  // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      10: invokeinterface #7,  1            // InterfaceMethod org/jboss/security/PicketBoxLogger.warnSecurityMagementNotSet:()V
      15: aload_0
      16: new           #8                  // class org/jboss/security/plugins/DefaultSecurityManagement
      19: dup
      20: new           #9                  // class org/jboss/security/auth/callback/JBossCallbackHandler
      23: dup
      24: invokespecial #10                 // Method org/jboss/security/auth/callback/JBossCallbackHandler."<init>":()V
      27: invokespecial #11                 // Method org/jboss/security/plugins/DefaultSecurityManagement."<init>":(Ljavax/security/auth/callback/CallbackHandler;)V
      30: putfield      #5                  // Field securityManagement:Lorg/jboss/security/ISecurityManagement;
      33: new           #12                 // class javax/security/auth/Subject
      36: dup
      37: invokespecial #13                 // Method javax/security/auth/Subject."<init>":()V
      40: astore_2
      41: invokestatic  #14                 // Method org/jboss/security/plugins/SubjectActions.getPrincipal:()Ljava/security/Principal;
      44: astore_3
      45: aload_0
      46: getfield      #5                  // Field securityManagement:Lorg/jboss/security/ISecurityManagement;
      49: aload_1
      50: invokeinterface #15,  2           // InterfaceMethod org/jboss/security/ISecurityManagement.getAuthenticationManager:(Ljava/lang/String;)Lorg/jboss/security/AuthenticationManager;
      55: astore        4
      57: aload         4
      59: ifnonnull     88
      62: ldc           #3                  // String other
      64: astore        5
      66: getstatic     #6                  // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      69: aload_1
      70: invokeinterface #16,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.debugNullAuthenticationManager:(Ljava/lang/String;)V
      75: aload_0
      76: getfield      #5                  // Field securityManagement:Lorg/jboss/security/ISecurityManagement;
      79: aload         5
      81: invokeinterface #15,  2           // InterfaceMethod org/jboss/security/ISecurityManagement.getAuthenticationManager:(Ljava/lang/String;)Lorg/jboss/security/AuthenticationManager;
      86: astore        4
      88: invokestatic  #17                 // Method org/jboss/security/plugins/SubjectActions.getContextClassLoader:()Ljava/lang/ClassLoader;
      91: astore        5
      93: aload_0
      94: invokevirtual #18                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      97: invokevirtual #19                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
     100: invokestatic  #20                 // Method org/jboss/security/plugins/SubjectActions.setContextClassLoader:(Ljava/lang/ClassLoader;)V
     103: aload         4
     105: aload_3
     106: invokestatic  #21                 // Method org/jboss/security/plugins/SubjectActions.getCredential:()Ljava/lang/Object;
     109: aload_2
     110: invokeinterface #22,  4           // InterfaceMethod org/jboss/security/AuthenticationManager.isValid:(Ljava/security/Principal;Ljava/lang/Object;Ljavax/security/auth/Subject;)Z
     115: ifne          134
     118: new           #23                 // class java/lang/SecurityException
     121: dup
     122: getstatic     #24                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
     125: invokeinterface #25,  1           // InterfaceMethod org/jboss/security/PicketBoxMessages.authenticationFailedMessage:()Ljava/lang/String;
     130: invokespecial #26                 // Method java/lang/SecurityException."<init>":(Ljava/lang/String;)V
     133: athrow
     134: aload         5
     136: invokestatic  #20                 // Method org/jboss/security/plugins/SubjectActions.setContextClassLoader:(Ljava/lang/ClassLoader;)V
     139: goto          152
     142: astore        6
     144: aload         5
     146: invokestatic  #20                 // Method org/jboss/security/plugins/SubjectActions.setContextClassLoader:(Ljava/lang/ClassLoader;)V
     149: aload         6
     151: athrow
     152: aload_2
     153: areturn
    Exception table:
       from    to  target type
          93   134   142   any
         142   144   142   any

  public void setSecurityManagement(org.jboss.security.ISecurityManagement);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field securityManagement:Lorg/jboss/security/ISecurityManagement;
       5: return
}
