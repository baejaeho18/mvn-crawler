Compiled from "ConfiguredIdentityLoginModule.java"
public class org.picketbox.datasource.security.ConfiguredIdentityLoginModule extends org.picketbox.datasource.security.AbstractPasswordCredentialLoginModule {
  private java.lang.String principalName;

  private java.lang.String userName;

  private java.lang.String password;

  public org.picketbox.datasource.security.ConfiguredIdentityLoginModule();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/picketbox/datasource/security/AbstractPasswordCredentialLoginModule."<init>":()V
       4: return

  public void initialize(javax.security.auth.Subject, javax.security.auth.callback.CallbackHandler, java.util.Map<java.lang.String, ?>, java.util.Map<java.lang.String, ?>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: invokespecial #2                  // Method org/picketbox/datasource/security/AbstractPasswordCredentialLoginModule.initialize:(Ljavax/security/auth/Subject;Ljavax/security/auth/callback/CallbackHandler;Ljava/util/Map;Ljava/util/Map;)V
       9: aload_0
      10: aload         4
      12: ldc           #3                  // String principal
      14: invokeinterface #4,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      19: checkcast     #5                  // class java/lang/String
      22: putfield      #6                  // Field principalName:Ljava/lang/String;
      25: aload_0
      26: getfield      #6                  // Field principalName:Ljava/lang/String;
      29: ifnonnull     50
      32: new           #7                  // class java/lang/IllegalArgumentException
      35: dup
      36: getstatic     #8                  // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      39: ldc           #3                  // String principal
      41: invokeinterface #9,  2            // InterfaceMethod org/jboss/security/PicketBoxMessages.missingRequiredModuleOptionMessage:(Ljava/lang/String;)Ljava/lang/String;
      46: invokespecial #10                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      49: athrow
      50: aload_0
      51: aload         4
      53: ldc           #11                 // String userName
      55: invokeinterface #4,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      60: checkcast     #5                  // class java/lang/String
      63: putfield      #12                 // Field userName:Ljava/lang/String;
      66: aload_0
      67: getfield      #12                 // Field userName:Ljava/lang/String;
      70: ifnonnull     114
      73: aload_0
      74: aload         4
      76: ldc           #13                 // String username
      78: invokeinterface #4,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      83: checkcast     #5                  // class java/lang/String
      86: putfield      #12                 // Field userName:Ljava/lang/String;
      89: aload_0
      90: getfield      #12                 // Field userName:Ljava/lang/String;
      93: ifnonnull     114
      96: new           #7                  // class java/lang/IllegalArgumentException
      99: dup
     100: getstatic     #8                  // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
     103: ldc           #13                 // String username
     105: invokeinterface #9,  2            // InterfaceMethod org/jboss/security/PicketBoxMessages.missingRequiredModuleOptionMessage:(Ljava/lang/String;)Ljava/lang/String;
     110: invokespecial #10                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     113: athrow
     114: aload_0
     115: aload         4
     117: ldc           #14                 // String password
     119: invokeinterface #4,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     124: checkcast     #5                  // class java/lang/String
     127: putfield      #15                 // Field password:Ljava/lang/String;
     130: aload_0
     131: getfield      #15                 // Field password:Ljava/lang/String;
     134: ifnonnull     154
     137: getstatic     #16                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     140: invokeinterface #17,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.warnModuleCreationWithEmptyPassword:()V
     145: aload_0
     146: ldc           #18                 // String
     148: putfield      #15                 // Field password:Ljava/lang/String;
     151: goto          190
     154: aload_0
     155: getfield      #15                 // Field password:Ljava/lang/String;
     158: invokestatic  #19                 // Method org/jboss/security/vault/SecurityVaultUtil.isVaultFormat:(Ljava/lang/String;)Z
     161: ifeq          190
     164: aload_0
     165: aload_0
     166: getfield      #15                 // Field password:Ljava/lang/String;
     169: invokestatic  #20                 // Method org/jboss/security/vault/SecurityVaultUtil.getValueAsString:(Ljava/lang/String;)Ljava/lang/String;
     172: putfield      #15                 // Field password:Ljava/lang/String;
     175: goto          190
     178: astore        5
     180: new           #22                 // class java/lang/RuntimeException
     183: dup
     184: aload         5
     186: invokespecial #23                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     189: athrow
     190: getstatic     #16                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     193: ldc           #3                  // String principal
     195: aload_0
     196: getfield      #6                  // Field principalName:Ljava/lang/String;
     199: invokeinterface #24,  3           // InterfaceMethod org/jboss/security/PicketBoxLogger.debugModuleOption:(Ljava/lang/String;Ljava/lang/Object;)V
     204: getstatic     #16                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     207: ldc           #13                 // String username
     209: aload_0
     210: getfield      #12                 // Field userName:Ljava/lang/String;
     213: invokeinterface #24,  3           // InterfaceMethod org/jboss/security/PicketBoxLogger.debugModuleOption:(Ljava/lang/String;Ljava/lang/Object;)V
     218: getstatic     #16                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     221: ldc           #14                 // String password
     223: aload_0
     224: getfield      #15                 // Field password:Ljava/lang/String;
     227: invokeinterface #24,  3           // InterfaceMethod org/jboss/security/PicketBoxLogger.debugModuleOption:(Ljava/lang/String;Ljava/lang/Object;)V
     232: return
    Exception table:
       from    to  target type
         164   175   178   Class org/jboss/security/vault/SecurityVaultException

  public boolean login() throws javax.security.auth.login.LoginException;
    Code:
       0: getstatic     #16                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
       3: invokeinterface #25,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceBeginLogin:()V
       8: aload_0
       9: invokespecial #26                 // Method org/picketbox/datasource/security/AbstractPasswordCredentialLoginModule.login:()Z
      12: ifeq          17
      15: iconst_1
      16: ireturn
      17: new           #27                 // class org/jboss/security/SimplePrincipal
      20: dup
      21: aload_0
      22: getfield      #6                  // Field principalName:Ljava/lang/String;
      25: invokespecial #28                 // Method org/jboss/security/SimplePrincipal."<init>":(Ljava/lang/String;)V
      28: astore_1
      29: aload_0
      30: getfield      #29                 // Field subject:Ljavax/security/auth/Subject;
      33: aload_1
      34: invokestatic  #30                 // Method org/picketbox/datasource/security/SubjectActions.addPrincipals:(Ljavax/security/auth/Subject;Ljava/security/Principal;)V
      37: aload_0
      38: getfield      #31                 // Field sharedState:Ljava/util/Map;
      41: ldc           #32                 // String javax.security.auth.login.name
      43: aload_0
      44: getfield      #6                  // Field principalName:Ljava/lang/String;
      47: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      52: pop
      53: new           #34                 // class javax/resource/spi/security/PasswordCredential
      56: dup
      57: aload_0
      58: getfield      #12                 // Field userName:Ljava/lang/String;
      61: aload_0
      62: getfield      #15                 // Field password:Ljava/lang/String;
      65: invokevirtual #35                 // Method java/lang/String.toCharArray:()[C
      68: invokespecial #36                 // Method javax/resource/spi/security/PasswordCredential."<init>":(Ljava/lang/String;[C)V
      71: astore_2
      72: aload_0
      73: getfield      #29                 // Field subject:Ljavax/security/auth/Subject;
      76: aload_2
      77: invokestatic  #37                 // Method org/picketbox/datasource/security/SubjectActions.addCredentials:(Ljavax/security/auth/Subject;Ljavax/resource/spi/security/PasswordCredential;)V
      80: aload_0
      81: iconst_1
      82: putfield      #38                 // Field org/picketbox/datasource/security/AbstractPasswordCredentialLoginModule.loginOk:Z
      85: iconst_1
      86: ireturn

  protected java.security.Principal getIdentity();
    Code:
       0: getstatic     #16                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
       3: aload_0
       4: getfield      #6                  // Field principalName:Ljava/lang/String;
       7: invokeinterface #39,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceBeginGetIdentity:(Ljava/lang/String;)V
      12: new           #27                 // class org/jboss/security/SimplePrincipal
      15: dup
      16: aload_0
      17: getfield      #6                  // Field principalName:Ljava/lang/String;
      20: invokespecial #28                 // Method org/jboss/security/SimplePrincipal."<init>":(Ljava/lang/String;)V
      23: astore_1
      24: aload_1
      25: areturn

  protected java.security.acl.Group[] getRoleSets() throws javax.security.auth.login.LoginException;
    Code:
       0: getstatic     #16                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
       3: invokeinterface #40,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceBeginGetRoleSets:()V
       8: iconst_0
       9: anewarray     #41                 // class java/security/acl/Group
      12: areturn
}
