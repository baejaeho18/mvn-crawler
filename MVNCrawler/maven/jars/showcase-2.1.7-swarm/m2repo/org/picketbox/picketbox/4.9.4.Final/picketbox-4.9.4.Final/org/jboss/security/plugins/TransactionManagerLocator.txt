Compiled from "TransactionManagerLocator.java"
public class org.jboss.security.plugins.TransactionManagerLocator {
  private static org.jboss.logging.Logger log;

  private boolean trace;

  private static javax.transaction.TransactionManager transactionManager;

  public org.jboss.security.plugins.TransactionManagerLocator();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: getstatic     #2                  // Field log:Lorg/jboss/logging/Logger;
       8: invokevirtual #3                  // Method org/jboss/logging/Logger.isTraceEnabled:()Z
      11: putfield      #4                  // Field trace:Z
      14: return

  public javax.transaction.TransactionManager getTM(java.lang.String) throws javax.naming.NamingException;
    Code:
       0: aconst_null
       1: astore_2
       2: new           #5                  // class javax/naming/InitialContext
       5: dup
       6: invokespecial #6                  // Method javax/naming/InitialContext."<init>":()V
       9: astore_3
      10: aload_3
      11: aload_1
      12: invokevirtual #7                  // Method javax/naming/InitialContext.lookup:(Ljava/lang/String;)Ljava/lang/Object;
      15: checkcast     #8                  // class javax/transaction/TransactionManager
      18: astore_2
      19: goto          54
      22: astore        4
      24: aload_0
      25: invokespecial #10                 // Method getJBossTM:()Ljavax/transaction/TransactionManager;
      28: astore_2
      29: goto          54
      32: astore        5
      34: getstatic     #12                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      37: aload         5
      39: invokeinterface #13,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.debugIgnoredException:(Ljava/lang/Throwable;)V
      44: getstatic     #14                 // Field transactionManager:Ljavax/transaction/TransactionManager;
      47: ifnull        54
      50: getstatic     #14                 // Field transactionManager:Ljavax/transaction/TransactionManager;
      53: astore_2
      54: aload_2
      55: areturn
    Exception table:
       from    to  target type
          10    19    22   Class javax/naming/NameNotFoundException
          24    29    32   Class java/lang/Exception

  private javax.transaction.TransactionManager getJBossTM() throws java.lang.Exception;
    Code:
       0: invokestatic  #15                 // Method org/jboss/security/plugins/SubjectActions.getContextClassLoader:()Ljava/lang/ClassLoader;
       3: astore_1
       4: aload_1
       5: ldc           #16                 // String org.jboss.tm.TransactionManagerLocator
       7: invokevirtual #17                 // Method java/lang/ClassLoader.loadClass:(Ljava/lang/String;)Ljava/lang/Class;
      10: astore_2
      11: aload_2
      12: ldc           #18                 // String locate
      14: iconst_0
      15: anewarray     #19                 // class java/lang/Class
      18: invokevirtual #20                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      21: astore_3
      22: aload_3
      23: aconst_null
      24: iconst_0
      25: anewarray     #21                 // class java/lang/Object
      28: invokevirtual #22                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      31: checkcast     #8                  // class javax/transaction/TransactionManager
      34: areturn

  public static void setTransactionManager(javax.transaction.TransactionManager);
    Code:
       0: invokestatic  #23                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
       3: astore_1
       4: aload_1
       5: ifnull        42
       8: aload_1
       9: new           #24                 // class java/lang/RuntimePermission
      12: dup
      13: new           #25                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #27                 // class org/jboss/security/plugins/TransactionManagerLocator
      22: invokevirtual #28                 // Method java/lang/Class.getName:()Ljava/lang/String;
      25: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: ldc           #30                 // String .setTransactionManager
      30: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokespecial #32                 // Method java/lang/RuntimePermission."<init>":(Ljava/lang/String;)V
      39: invokevirtual #33                 // Method java/lang/SecurityManager.checkPermission:(Ljava/security/Permission;)V
      42: aload_0
      43: putstatic     #14                 // Field transactionManager:Ljavax/transaction/TransactionManager;
      46: return

  static {};
    Code:
       0: ldc           #27                 // class org/jboss/security/plugins/TransactionManagerLocator
       2: invokestatic  #34                 // Method org/jboss/logging/Logger.getLogger:(Ljava/lang/Class;)Lorg/jboss/logging/Logger;
       5: putstatic     #2                  // Field log:Lorg/jboss/logging/Logger;
       8: return
}
