Compiled from "RunAsLoginModule.java"
public class org.jboss.security.auth.spi.RunAsLoginModule implements javax.security.auth.spi.LoginModule {
  private static final java.lang.String ROLE_NAME;

  private static final java.lang.String PRINCIPLE_NAME;

  private static final java.lang.String PRINCIPAL_CLASS;

  private static final java.lang.String[] ALL_VALID_OPTIONS;

  private java.lang.String roleName;

  private java.lang.String principalName;

  private boolean pushedRole;

  public org.jboss.security.auth.spi.RunAsLoginModule();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void initialize(javax.security.auth.Subject, javax.security.auth.callback.CallbackHandler, java.util.Map<java.lang.String, ?>, java.util.Map<java.lang.String, ?>);
    Code:
       0: new           #2                  // class java/util/HashSet
       3: dup
       4: getstatic     #3                  // Field ALL_VALID_OPTIONS:[Ljava/lang/String;
       7: invokestatic  #4                  // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      10: invokespecial #5                  // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      13: astore        5
      15: aload         4
      17: invokeinterface #6,  1            // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      22: invokeinterface #7,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      27: astore        6
      29: aload         6
      31: invokeinterface #8,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      36: ifeq          74
      39: aload         6
      41: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: astore        7
      48: aload         5
      50: aload         7
      52: invokevirtual #10                 // Method java/util/HashSet.contains:(Ljava/lang/Object;)Z
      55: ifne          71
      58: getstatic     #11                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      61: aload         7
      63: checkcast     #12                 // class java/lang/String
      66: invokeinterface #13,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.warnInvalidModuleOption:(Ljava/lang/String;)V
      71: goto          29
      74: aload_0
      75: aload         4
      77: ldc           #15                 // String roleName
      79: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      84: checkcast     #12                 // class java/lang/String
      87: putfield      #17                 // Field roleName:Ljava/lang/String;
      90: aload_0
      91: getfield      #17                 // Field roleName:Ljava/lang/String;
      94: ifnonnull     103
      97: aload_0
      98: ldc           #18                 // String nobody
     100: putfield      #17                 // Field roleName:Ljava/lang/String;
     103: aload_0
     104: aload         4
     106: ldc           #19                 // String principalName
     108: invokeinterface #16,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     113: checkcast     #12                 // class java/lang/String
     116: putfield      #20                 // Field principalName:Ljava/lang/String;
     119: aload_0
     120: getfield      #20                 // Field principalName:Ljava/lang/String;
     123: ifnonnull     132
     126: aload_0
     127: ldc           #18                 // String nobody
     129: putfield      #20                 // Field principalName:Ljava/lang/String;
     132: return

  public boolean login();
    Code:
       0: new           #21                 // class org/jboss/security/RunAsIdentity
       3: dup
       4: aload_0
       5: getfield      #17                 // Field roleName:Ljava/lang/String;
       8: aload_0
       9: getfield      #20                 // Field principalName:Ljava/lang/String;
      12: invokespecial #22                 // Method org/jboss/security/RunAsIdentity."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      15: astore_1
      16: aload_1
      17: invokestatic  #23                 // Method org/jboss/security/SecurityContextAssociation.pushRunAsIdentity:(Lorg/jboss/security/RunAs;)V
      20: aload_0
      21: iconst_1
      22: putfield      #24                 // Field pushedRole:Z
      25: iconst_1
      26: ireturn

  public boolean commit();
    Code:
       0: aload_0
       1: invokevirtual #25                 // Method abort:()Z
       4: ireturn

  public boolean abort();
    Code:
       0: aload_0
       1: getfield      #24                 // Field pushedRole:Z
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: invokestatic  #26                 // Method org/jboss/security/SecurityContextAssociation.popRunAsIdentity:()Lorg/jboss/security/RunAs;
      12: pop
      13: iconst_1
      14: ireturn

  public boolean logout();
    Code:
       0: iconst_1
       1: ireturn

  static {};
    Code:
       0: iconst_4
       1: anewarray     #12                 // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #15                 // String roleName
       8: aastore
       9: dup
      10: iconst_1
      11: ldc           #19                 // String principalName
      13: aastore
      14: dup
      15: iconst_2
      16: ldc           #27                 // String principalClass
      18: aastore
      19: dup
      20: iconst_3
      21: ldc           #29                 // String jboss.security.security_domain
      23: aastore
      24: putstatic     #3                  // Field ALL_VALID_OPTIONS:[Ljava/lang/String;
      27: return
}
