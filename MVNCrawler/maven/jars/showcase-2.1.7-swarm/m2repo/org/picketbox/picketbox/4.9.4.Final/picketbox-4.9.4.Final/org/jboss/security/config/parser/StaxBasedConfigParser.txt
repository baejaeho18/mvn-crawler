Compiled from "StaxBasedConfigParser.java"
public class org.jboss.security.config.parser.StaxBasedConfigParser implements javax.xml.stream.XMLStreamConstants {
  private java.lang.String schemaFile;

  public org.jboss.security.config.parser.StaxBasedConfigParser();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc           #2                  // String schema/security-config_5_0.xsd
       7: putfield      #3                  // Field schemaFile:Ljava/lang/String;
      10: return

  public void schemaValidate(java.io.InputStream) throws org.xml.sax.SAXException, java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #4                  // Method schemaValidator:()Ljavax/xml/validation/Validator;
       4: astore_2
       5: new           #5                  // class javax/xml/transform/stream/StreamSource
       8: dup
       9: aload_1
      10: invokespecial #6                  // Method javax/xml/transform/stream/StreamSource."<init>":(Ljava/io/InputStream;)V
      13: astore_3
      14: aload_2
      15: aload_3
      16: invokevirtual #7                  // Method javax/xml/validation/Validator.validate:(Ljavax/xml/transform/Source;)V
      19: return

  public void parse(java.io.InputStream) throws javax.xml.stream.XMLStreamException, org.xml.sax.SAXException, java.io.IOException;
    Code:
       0: invokestatic  #8                  // Method javax/security/auth/login/Configuration.getConfiguration:()Ljavax/security/auth/login/Configuration;
       3: astore_2
       4: aload_2
       5: instanceof    #9                  // class org/jboss/security/config/ApplicationPolicyRegistration
       8: ifne          25
      11: getstatic     #10                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      14: ldc           #9                  // class org/jboss/security/config/ApplicationPolicyRegistration
      16: invokevirtual #11                 // Method java/lang/Class.getName:()Ljava/lang/String;
      19: invokeinterface #12,  2           // InterfaceMethod org/jboss/security/PicketBoxMessages.invalidType:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      24: athrow
      25: aload_2
      26: checkcast     #9                  // class org/jboss/security/config/ApplicationPolicyRegistration
      29: astore_3
      30: invokestatic  #13                 // Method javax/xml/stream/XMLInputFactory.newInstance:()Ljavax/xml/stream/XMLInputFactory;
      33: astore        4
      35: aload_0
      36: aload_1
      37: invokespecial #14                 // Method getXMLEventReader:(Ljava/io/InputStream;)Ljavax/xml/stream/XMLEventReader;
      40: astore        5
      42: aload         4
      44: aload         5
      46: new           #15                 // class org/jboss/security/config/parser/StaxBasedConfigParser$1
      49: dup
      50: aload_0
      51: invokespecial #16                 // Method org/jboss/security/config/parser/StaxBasedConfigParser$1."<init>":(Lorg/jboss/security/config/parser/StaxBasedConfigParser;)V
      54: invokevirtual #17                 // Method javax/xml/stream/XMLInputFactory.createFilteredReader:(Ljavax/xml/stream/XMLEventReader;Ljavax/xml/stream/EventFilter;)Ljavax/xml/stream/XMLEventReader;
      57: astore        5
      59: aload         5
      61: invokeinterface #18,  1           // InterfaceMethod javax/xml/stream/XMLEventReader.hasNext:()Z
      66: ifeq          208
      69: aload         5
      71: invokeinterface #19,  1           // InterfaceMethod javax/xml/stream/XMLEventReader.nextEvent:()Ljavax/xml/stream/events/XMLEvent;
      76: astore        6
      78: aload         6
      80: invokeinterface #20,  1           // InterfaceMethod javax/xml/stream/events/XMLEvent.getEventType:()I
      85: istore        7
      87: iload         7
      89: lookupswitch  { // 1
                     1: 108
               default: 205
          }
     108: aload         6
     110: checkcast     #21                 // class javax/xml/stream/events/StartElement
     113: astore        8
     115: aload         8
     117: invokestatic  #22                 // Method org/jboss/security/config/parser/StaxParserUtil.getStartElementName:(Ljavax/xml/stream/events/StartElement;)Ljava/lang/String;
     120: astore        9
     122: ldc           #23                 // String policy
     124: aload         9
     126: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     129: ifne          140
     132: aload         9
     134: aload         6
     136: invokestatic  #25                 // Method org/jboss/security/config/parser/StaxParserUtil.unexpectedElement:(Ljava/lang/String;Ljavax/xml/stream/events/XMLEvent;)Ljavax/xml/stream/XMLStreamException;
     139: athrow
     140: new           #26                 // class org/jboss/security/config/parser/ApplicationPolicyParser
     143: dup
     144: invokespecial #27                 // Method org/jboss/security/config/parser/ApplicationPolicyParser."<init>":()V
     147: astore        10
     149: aload         10
     151: aload         5
     153: invokevirtual #28                 // Method org/jboss/security/config/parser/ApplicationPolicyParser.parse:(Ljavax/xml/stream/XMLEventReader;)Ljava/util/List;
     156: astore        11
     158: aload         11
     160: invokeinterface #29,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     165: astore        12
     167: aload         12
     169: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     174: ifeq          205
     177: aload         12
     179: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     184: checkcast     #32                 // class org/jboss/security/config/ApplicationPolicy
     187: astore        13
     189: aload_3
     190: aload         13
     192: invokevirtual #33                 // Method org/jboss/security/config/ApplicationPolicy.getName:()Ljava/lang/String;
     195: aload         13
     197: invokeinterface #34,  3           // InterfaceMethod org/jboss/security/config/ApplicationPolicyRegistration.addApplicationPolicy:(Ljava/lang/String;Lorg/jboss/security/config/ApplicationPolicy;)V
     202: goto          167
     205: goto          59
     208: return

  public void parse2(java.io.InputStream) throws javax.xml.stream.XMLStreamException;
    Code:
       0: invokestatic  #8                  // Method javax/security/auth/login/Configuration.getConfiguration:()Ljavax/security/auth/login/Configuration;
       3: astore_2
       4: aload_2
       5: instanceof    #9                  // class org/jboss/security/config/ApplicationPolicyRegistration
       8: ifne          25
      11: getstatic     #10                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      14: ldc           #9                  // class org/jboss/security/config/ApplicationPolicyRegistration
      16: invokevirtual #11                 // Method java/lang/Class.getName:()Ljava/lang/String;
      19: invokeinterface #12,  2           // InterfaceMethod org/jboss/security/PicketBoxMessages.invalidType:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      24: athrow
      25: aload_2
      26: checkcast     #9                  // class org/jboss/security/config/ApplicationPolicyRegistration
      29: astore_3
      30: aload_0
      31: aload_1
      32: invokespecial #35                 // Method getXMLStreamReader:(Ljava/io/InputStream;)Ljavax/xml/stream/XMLStreamReader;
      35: astore        4
      37: aload         4
      39: invokeinterface #36,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.hasNext:()Z
      44: ifeq          171
      47: aload         4
      49: invokeinterface #37,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.nextTag:()I
      54: iconst_2
      55: if_icmpeq     171
      58: aload         4
      60: invokeinterface #39,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.getLocalName:()Ljava/lang/String;
      65: invokestatic  #40                 // Method org/jboss/security/config/Element.forName:(Ljava/lang/String;)Lorg/jboss/security/config/Element;
      68: astore        5
      70: aload         5
      72: getstatic     #41                 // Field org/jboss/security/config/Element.POLICY:Lorg/jboss/security/config/Element;
      75: invokevirtual #42                 // Method org/jboss/security/config/Element.equals:(Ljava/lang/Object;)Z
      78: ifeq          149
      81: new           #26                 // class org/jboss/security/config/parser/ApplicationPolicyParser
      84: dup
      85: invokespecial #27                 // Method org/jboss/security/config/parser/ApplicationPolicyParser."<init>":()V
      88: astore        6
      90: aload         6
      92: aload         4
      94: invokevirtual #43                 // Method org/jboss/security/config/parser/ApplicationPolicyParser.parse:(Ljavax/xml/stream/XMLStreamReader;)Ljava/util/List;
      97: astore        7
      99: aload         7
     101: invokeinterface #29,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     106: astore        8
     108: aload         8
     110: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     115: ifeq          146
     118: aload         8
     120: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     125: checkcast     #32                 // class org/jboss/security/config/ApplicationPolicy
     128: astore        9
     130: aload_3
     131: aload         9
     133: invokevirtual #33                 // Method org/jboss/security/config/ApplicationPolicy.getName:()Ljava/lang/String;
     136: aload         9
     138: invokeinterface #34,  3           // InterfaceMethod org/jboss/security/config/ApplicationPolicyRegistration.addApplicationPolicy:(Ljava/lang/String;Lorg/jboss/security/config/ApplicationPolicy;)V
     143: goto          108
     146: goto          155
     149: aload         4
     151: invokestatic  #44                 // Method org/jboss/security/config/parser/StaxParserUtil.unexpectedElement:(Ljavax/xml/stream/XMLStreamReader;)Ljavax/xml/stream/XMLStreamException;
     154: athrow
     155: aload         4
     157: invokeinterface #45,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.isEndElement:()Z
     162: ifeq          168
     165: goto          171
     168: goto          37
     171: return

  private javax.xml.validation.Validator schemaValidator();
    Code:
       0: invokestatic  #46                 // Method org/jboss/security/config/parser/SecurityActions.getContextClassLoader:()Ljava/lang/ClassLoader;
       3: astore_1
       4: aload_1
       5: aload_0
       6: getfield      #3                  // Field schemaFile:Ljava/lang/String;
       9: invokevirtual #47                 // Method java/lang/ClassLoader.getResource:(Ljava/lang/String;)Ljava/net/URL;
      12: astore_2
      13: aload_2
      14: ifnonnull     30
      17: getstatic     #10                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      20: aload_0
      21: getfield      #3                  // Field schemaFile:Ljava/lang/String;
      24: invokeinterface #48,  2           // InterfaceMethod org/jboss/security/PicketBoxMessages.unableToFindSchema:(Ljava/lang/String;)Ljava/lang/RuntimeException;
      29: athrow
      30: ldc           #49                 // String http://www.w3.org/2001/XMLSchema
      32: invokestatic  #50                 // Method javax/xml/validation/SchemaFactory.newInstance:(Ljava/lang/String;)Ljavax/xml/validation/SchemaFactory;
      35: astore_3
      36: aload_3
      37: aload_2
      38: invokevirtual #51                 // Method javax/xml/validation/SchemaFactory.newSchema:(Ljava/net/URL;)Ljavax/xml/validation/Schema;
      41: astore        4
      43: aload         4
      45: invokevirtual #52                 // Method javax/xml/validation/Schema.newValidator:()Ljavax/xml/validation/Validator;
      48: astore        5
      50: aload         5
      52: new           #53                 // class org/jboss/security/config/parser/StaxBasedConfigParser$2
      55: dup
      56: aload_0
      57: invokespecial #54                 // Method org/jboss/security/config/parser/StaxBasedConfigParser$2."<init>":(Lorg/jboss/security/config/parser/StaxBasedConfigParser;)V
      60: invokevirtual #55                 // Method javax/xml/validation/Validator.setErrorHandler:(Lorg/xml/sax/ErrorHandler;)V
      63: aload         5
      65: areturn
      66: astore_1
      67: new           #57                 // class java/lang/RuntimeException
      70: dup
      71: aload_1
      72: invokespecial #58                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      75: athrow
    Exception table:
       from    to  target type
           0    65    66   Class java/lang/Exception

  private javax.xml.stream.XMLEventReader getXMLEventReader(java.io.InputStream);
    Code:
       0: aconst_null
       1: astore_2
       2: aconst_null
       3: astore_3
       4: invokestatic  #13                 // Method javax/xml/stream/XMLInputFactory.newInstance:()Ljavax/xml/stream/XMLInputFactory;
       7: astore_2
       8: aload_2
       9: ldc           #60                 // String javax.xml.stream.isReplacingEntityReferences
      11: getstatic     #61                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      14: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      17: aload_2
      18: ldc           #63                 // String javax.xml.stream.isSupportingExternalEntities
      20: getstatic     #64                 // Field java/lang/Boolean.FALSE:Ljava/lang/Boolean;
      23: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      26: aload_2
      27: ldc           #65                 // String javax.xml.stream.isNamespaceAware
      29: getstatic     #61                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      32: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      35: aload_2
      36: ldc           #66                 // String javax.xml.stream.isCoalescing
      38: getstatic     #61                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      41: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      44: aload_2
      45: aload_1
      46: invokevirtual #67                 // Method javax/xml/stream/XMLInputFactory.createXMLEventReader:(Ljava/io/InputStream;)Ljavax/xml/stream/XMLEventReader;
      49: astore_3
      50: goto          65
      53: astore        4
      55: new           #57                 // class java/lang/RuntimeException
      58: dup
      59: aload         4
      61: invokespecial #58                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      64: athrow
      65: aload_3
      66: areturn
    Exception table:
       from    to  target type
           4    50    53   Class java/lang/Exception

  private javax.xml.stream.XMLStreamReader getXMLStreamReader(java.io.InputStream);
    Code:
       0: aconst_null
       1: astore_2
       2: aconst_null
       3: astore_3
       4: invokestatic  #13                 // Method javax/xml/stream/XMLInputFactory.newInstance:()Ljavax/xml/stream/XMLInputFactory;
       7: astore_2
       8: aload_2
       9: ldc           #60                 // String javax.xml.stream.isReplacingEntityReferences
      11: getstatic     #61                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      14: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      17: aload_2
      18: ldc           #63                 // String javax.xml.stream.isSupportingExternalEntities
      20: getstatic     #64                 // Field java/lang/Boolean.FALSE:Ljava/lang/Boolean;
      23: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      26: aload_2
      27: ldc           #65                 // String javax.xml.stream.isNamespaceAware
      29: getstatic     #61                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      32: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      35: aload_2
      36: ldc           #66                 // String javax.xml.stream.isCoalescing
      38: getstatic     #61                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      41: invokevirtual #62                 // Method javax/xml/stream/XMLInputFactory.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      44: aload_2
      45: aload_1
      46: invokevirtual #68                 // Method javax/xml/stream/XMLInputFactory.createXMLStreamReader:(Ljava/io/InputStream;)Ljavax/xml/stream/XMLStreamReader;
      49: astore_3
      50: goto          65
      53: astore        4
      55: new           #57                 // class java/lang/RuntimeException
      58: dup
      59: aload         4
      61: invokespecial #58                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      64: athrow
      65: aload_3
      66: areturn
    Exception table:
       from    to  target type
           4    50    53   Class java/lang/Exception
}
