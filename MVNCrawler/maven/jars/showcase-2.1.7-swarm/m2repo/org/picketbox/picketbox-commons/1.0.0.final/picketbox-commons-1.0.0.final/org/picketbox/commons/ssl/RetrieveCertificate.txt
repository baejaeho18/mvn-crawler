Compiled from "RetrieveCertificate.java"
public class org.picketbox.commons.ssl.RetrieveCertificate {
  private static final char[] HEXDIGITS;

  public org.picketbox.commons.ssl.RetrieveCertificate();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static void main(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_1
       2: iconst_0
       3: istore_2
       4: aload_0
       5: arraylength
       6: iconst_1
       7: if_icmpne     45
      10: aload_0
      11: iconst_0
      12: aaload
      13: ldc           #2                  // String :
      15: invokevirtual #3                  // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      18: astore_3
      19: aload_3
      20: iconst_0
      21: aaload
      22: astore_1
      23: aload_3
      24: arraylength
      25: iconst_1
      26: if_icmpne     35
      29: sipush        443
      32: goto          41
      35: aload_3
      36: iconst_1
      37: aaload
      38: invokestatic  #4                  // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      41: istore_2
      42: goto          57
      45: getstatic     #5                  // Field java/lang/System.err:Ljava/io/PrintStream;
      48: ldc           #6                  // String Retrieve a certificate\nUsage: RetrieveCertificate <host>[:port]\nhost: name or IP of the host\nport: port to connect. This argument is optional. Default is 443
      50: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      53: iconst_1
      54: invokestatic  #8                  // Method java/lang/System.exit:(I)V
      57: new           #9                  // class java/io/File
      60: dup
      61: ldc           #10                 // String jssecacerts
      63: invokespecial #11                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      66: astore_3
      67: aload_3
      68: invokevirtual #12                 // Method java/io/File.isFile:()Z
      71: ifne          157
      74: getstatic     #13                 // Field java/io/File.separatorChar:C
      77: istore        4
      79: new           #9                  // class java/io/File
      82: dup
      83: new           #14                 // class java/lang/StringBuilder
      86: dup
      87: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      90: ldc           #16                 // String java.home
      92: invokestatic  #17                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      95: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: iload         4
     100: invokevirtual #19                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     103: ldc           #20                 // String lib
     105: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: iload         4
     110: invokevirtual #19                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     113: ldc           #21                 // String security
     115: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     121: invokespecial #11                 // Method java/io/File."<init>":(Ljava/lang/String;)V
     124: astore        5
     126: new           #9                  // class java/io/File
     129: dup
     130: aload         5
     132: ldc           #10                 // String jssecacerts
     134: invokespecial #23                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     137: astore_3
     138: aload_3
     139: invokevirtual #12                 // Method java/io/File.isFile:()Z
     142: ifne          157
     145: new           #9                  // class java/io/File
     148: dup
     149: aload         5
     151: ldc           #24                 // String cacerts
     153: invokespecial #23                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     156: astore_3
     157: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     160: new           #14                 // class java/lang/StringBuilder
     163: dup
     164: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     167: ldc           #26                 // String Loading KeyStore
     169: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     172: aload_3
     173: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     176: ldc           #28                 // String ...
     178: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     181: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     184: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     187: new           #29                 // class java/io/FileInputStream
     190: dup
     191: aload_3
     192: invokespecial #30                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
     195: astore        4
     197: invokestatic  #31                 // Method java/security/KeyStore.getDefaultType:()Ljava/lang/String;
     200: invokestatic  #32                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
     203: astore        5
     205: aload         5
     207: aload         4
     209: ldc           #33                 // String changeit
     211: invokevirtual #34                 // Method java/lang/String.toCharArray:()[C
     214: invokevirtual #35                 // Method java/security/KeyStore.load:(Ljava/io/InputStream;[C)V
     217: aload         4
     219: invokevirtual #36                 // Method java/io/InputStream.close:()V
     222: ldc           #37                 // String TLS
     224: invokestatic  #38                 // Method javax/net/ssl/SSLContext.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/SSLContext;
     227: astore        6
     229: invokestatic  #39                 // Method javax/net/ssl/TrustManagerFactory.getDefaultAlgorithm:()Ljava/lang/String;
     232: invokestatic  #40                 // Method javax/net/ssl/TrustManagerFactory.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/TrustManagerFactory;
     235: astore        7
     237: aload         7
     239: aload         5
     241: invokevirtual #41                 // Method javax/net/ssl/TrustManagerFactory.init:(Ljava/security/KeyStore;)V
     244: aload         7
     246: invokevirtual #42                 // Method javax/net/ssl/TrustManagerFactory.getTrustManagers:()[Ljavax/net/ssl/TrustManager;
     249: iconst_0
     250: aaload
     251: checkcast     #43                 // class javax/net/ssl/X509TrustManager
     254: astore        8
     256: new           #44                 // class org/picketbox/commons/ssl/RetrieveCertificate$SavingTrustManager
     259: dup
     260: aload         8
     262: invokespecial #45                 // Method org/picketbox/commons/ssl/RetrieveCertificate$SavingTrustManager."<init>":(Ljavax/net/ssl/X509TrustManager;)V
     265: astore        9
     267: aload         6
     269: aconst_null
     270: iconst_1
     271: anewarray     #46                 // class javax/net/ssl/TrustManager
     274: dup
     275: iconst_0
     276: aload         9
     278: aastore
     279: aconst_null
     280: invokevirtual #47                 // Method javax/net/ssl/SSLContext.init:([Ljavax/net/ssl/KeyManager;[Ljavax/net/ssl/TrustManager;Ljava/security/SecureRandom;)V
     283: aload         6
     285: invokevirtual #48                 // Method javax/net/ssl/SSLContext.getSocketFactory:()Ljavax/net/ssl/SSLSocketFactory;
     288: astore        10
     290: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     293: new           #14                 // class java/lang/StringBuilder
     296: dup
     297: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     300: ldc           #49                 // String Opening connection to
     302: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     305: aload_1
     306: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     309: ldc           #2                  // String :
     311: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     314: iload_2
     315: invokevirtual #50                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     318: ldc           #28                 // String ...
     320: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     323: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     326: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     329: aload         10
     331: aload_1
     332: iload_2
     333: invokevirtual #51                 // Method javax/net/ssl/SSLSocketFactory.createSocket:(Ljava/lang/String;I)Ljava/net/Socket;
     336: checkcast     #52                 // class javax/net/ssl/SSLSocket
     339: astore        11
     341: aload         11
     343: sipush        10000
     346: invokevirtual #53                 // Method javax/net/ssl/SSLSocket.setSoTimeout:(I)V
     349: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     352: ldc           #54                 // String Starting SSL handshake...
     354: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     357: aload         11
     359: invokevirtual #55                 // Method javax/net/ssl/SSLSocket.startHandshake:()V
     362: aload         11
     364: invokevirtual #56                 // Method javax/net/ssl/SSLSocket.close:()V
     367: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     370: invokevirtual #57                 // Method java/io/PrintStream.println:()V
     373: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     376: ldc           #58                 // String No errors, certificate is already trusted
     378: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     381: goto          400
     384: astore        12
     386: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     389: invokevirtual #57                 // Method java/io/PrintStream.println:()V
     392: aload         12
     394: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     397: invokevirtual #60                 // Method javax/net/ssl/SSLException.printStackTrace:(Ljava/io/PrintStream;)V
     400: aload         9
     402: invokestatic  #61                 // Method org/picketbox/commons/ssl/RetrieveCertificate$SavingTrustManager.access$000:(Lorg/picketbox/commons/ssl/RetrieveCertificate$SavingTrustManager;)[Ljava/security/cert/X509Certificate;
     405: astore        12
     407: aload         12
     409: ifnonnull     421
     412: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     415: ldc           #62                 // String Could not obtain server certificate chain
     417: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     420: return
     421: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     424: invokevirtual #57                 // Method java/io/PrintStream.println:()V
     427: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     430: new           #14                 // class java/lang/StringBuilder
     433: dup
     434: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     437: ldc           #63                 // String Server sent
     439: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     442: aload         12
     444: arraylength
     445: invokevirtual #50                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     448: ldc           #64                 // String  certificate(s):
     450: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     453: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     456: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     459: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     462: invokevirtual #57                 // Method java/io/PrintStream.println:()V
     465: ldc           #65                 // String SHA1
     467: invokestatic  #66                 // Method java/security/MessageDigest.getInstance:(Ljava/lang/String;)Ljava/security/MessageDigest;
     470: astore        13
     472: ldc           #67                 // String MD5
     474: invokestatic  #66                 // Method java/security/MessageDigest.getInstance:(Ljava/lang/String;)Ljava/security/MessageDigest;
     477: astore        14
     479: iconst_0
     480: istore        15
     482: iload         15
     484: aload         12
     486: arraylength
     487: if_icmpge     663
     490: aload         12
     492: iload         15
     494: aaload
     495: astore        16
     497: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     500: new           #14                 // class java/lang/StringBuilder
     503: dup
     504: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     507: ldc           #68                 // String
     509: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     512: iload         15
     514: iconst_1
     515: iadd
     516: invokevirtual #50                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     519: ldc           #69                 // String  Subject
     521: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     524: aload         16
     526: invokevirtual #70                 // Method java/security/cert/X509Certificate.getSubjectDN:()Ljava/security/Principal;
     529: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     532: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     535: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     538: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     541: new           #14                 // class java/lang/StringBuilder
     544: dup
     545: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     548: ldc           #71                 // String    Issuer
     550: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     553: aload         16
     555: invokevirtual #72                 // Method java/security/cert/X509Certificate.getIssuerDN:()Ljava/security/Principal;
     558: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     561: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     564: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     567: aload         13
     569: aload         16
     571: invokevirtual #73                 // Method java/security/cert/X509Certificate.getEncoded:()[B
     574: invokevirtual #74                 // Method java/security/MessageDigest.update:([B)V
     577: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     580: new           #14                 // class java/lang/StringBuilder
     583: dup
     584: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     587: ldc           #75                 // String    sha1
     589: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     592: aload         13
     594: invokevirtual #76                 // Method java/security/MessageDigest.digest:()[B
     597: invokestatic  #77                 // Method toHexString:([B)Ljava/lang/String;
     600: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     603: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     606: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     609: aload         14
     611: aload         16
     613: invokevirtual #73                 // Method java/security/cert/X509Certificate.getEncoded:()[B
     616: invokevirtual #74                 // Method java/security/MessageDigest.update:([B)V
     619: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     622: new           #14                 // class java/lang/StringBuilder
     625: dup
     626: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     629: ldc           #78                 // String    md5
     631: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     634: aload         14
     636: invokevirtual #76                 // Method java/security/MessageDigest.digest:()[B
     639: invokestatic  #77                 // Method toHexString:([B)Ljava/lang/String;
     642: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     645: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     648: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     651: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     654: invokevirtual #57                 // Method java/io/PrintStream.println:()V
     657: iinc          15, 1
     660: goto          482
     663: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     666: ldc           #79                 // String Certificates:
     668: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     671: iconst_0
     672: istore        15
     674: iload         15
     676: aload         12
     678: arraylength
     679: if_icmpge     729
     682: aload         12
     684: iload         15
     686: aaload
     687: astore        16
     689: aload         16
     691: invokevirtual #73                 // Method java/security/cert/X509Certificate.getEncoded:()[B
     694: invokestatic  #80                 // Method org/picketbox/commons/cipher/Base64.encodeBytes:([B)Ljava/lang/String;
     697: astore        17
     699: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     702: ldc           #81                 // String -----BEGIN CERTIFICATE-----
     704: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     707: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     710: aload         17
     712: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     715: getstatic     #25                 // Field java/lang/System.out:Ljava/io/PrintStream;
     718: ldc           #82                 // String -----END CERTIFICATE-----
     720: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     723: iinc          15, 1
     726: goto          674
     729: return
    Exception table:
       from    to  target type
         349   381   384   Class javax/net/ssl/SSLException

  private static java.lang.String toHexString(byte[]);
    Code:
       0: new           #14                 // class java/lang/StringBuilder
       3: dup
       4: aload_0
       5: arraylength
       6: iconst_3
       7: imul
       8: invokespecial #83                 // Method java/lang/StringBuilder."<init>":(I)V
      11: astore_1
      12: aload_0
      13: astore_2
      14: aload_2
      15: arraylength
      16: istore_3
      17: iconst_0
      18: istore        4
      20: iload         4
      22: iload_3
      23: if_icmpge     80
      26: aload_2
      27: iload         4
      29: baload
      30: istore        5
      32: iload         5
      34: sipush        255
      37: iand
      38: istore        5
      40: aload_1
      41: getstatic     #84                 // Field HEXDIGITS:[C
      44: iload         5
      46: iconst_4
      47: ishr
      48: caload
      49: invokevirtual #19                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      52: pop
      53: aload_1
      54: getstatic     #84                 // Field HEXDIGITS:[C
      57: iload         5
      59: bipush        15
      61: iand
      62: caload
      63: invokevirtual #19                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      66: pop
      67: aload_1
      68: bipush        32
      70: invokevirtual #19                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      73: pop
      74: iinc          4, 1
      77: goto          20
      80: aload_1
      81: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: areturn

  static {};
    Code:
       0: ldc           #85                 // String 0123456789abcdef
       2: invokevirtual #34                 // Method java/lang/String.toCharArray:()[C
       5: putstatic     #84                 // Field HEXDIGITS:[C
       8: return
}
