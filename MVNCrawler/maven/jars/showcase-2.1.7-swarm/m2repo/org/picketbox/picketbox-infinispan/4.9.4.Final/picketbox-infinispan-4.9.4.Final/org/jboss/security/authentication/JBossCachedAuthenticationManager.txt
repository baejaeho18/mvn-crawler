Compiled from "JBossCachedAuthenticationManager.java"
public class org.jboss.security.authentication.JBossCachedAuthenticationManager implements org.jboss.security.AuthenticationManager, org.jboss.security.CacheableManager<java.util.concurrent.ConcurrentMap<java.security.Principal, org.jboss.security.authentication.JBossCachedAuthenticationManager$DomainInfo>, java.security.Principal> {
  private java.lang.String securityDomain;

  private javax.security.auth.callback.CallbackHandler callbackHandler;

  private transient java.lang.reflect.Method setSecurityInfo;

  protected java.util.concurrent.ConcurrentMap<java.security.Principal, org.jboss.security.authentication.JBossCachedAuthenticationManager$DomainInfo> domainCache;

  private boolean deepCopySubjectOption;

  public org.jboss.security.authentication.JBossCachedAuthenticationManager();
    Code:
       0: aload_0
       1: ldc           #2                  // String other
       3: new           #3                  // class org/jboss/security/auth/callback/JBossCallbackHandler
       6: dup
       7: invokespecial #4                  // Method org/jboss/security/auth/callback/JBossCallbackHandler."<init>":()V
      10: invokespecial #5                  // Method "<init>":(Ljava/lang/String;Ljavax/security/auth/callback/CallbackHandler;)V
      13: return

  public org.jboss.security.authentication.JBossCachedAuthenticationManager(java.lang.String, javax.security.auth.callback.CallbackHandler);
    Code:
       0: aload_0
       1: invokespecial #6                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #7                  // Field deepCopySubjectOption:Z
       9: aload_0
      10: aload_1
      11: putfield      #8                  // Field securityDomain:Ljava/lang/String;
      14: aload_0
      15: aload_2
      16: putfield      #9                  // Field callbackHandler:Ljavax/security/auth/callback/CallbackHandler;
      19: iconst_2
      20: anewarray     #10                 // class java/lang/Class
      23: dup
      24: iconst_0
      25: ldc           #11                 // class java/security/Principal
      27: aastore
      28: dup
      29: iconst_1
      30: ldc           #12                 // class java/lang/Object
      32: aastore
      33: astore_3
      34: aload_0
      35: aload_2
      36: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      39: ldc           #14                 // String setSecurityInfo
      41: aload_3
      42: invokevirtual #15                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      45: putfield      #16                 // Field setSecurityInfo:Ljava/lang/reflect/Method;
      48: goto          69
      51: astore        4
      53: new           #18                 // class java/lang/UnsupportedOperationException
      56: dup
      57: getstatic     #19                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      60: invokeinterface #20,  1           // InterfaceMethod org/jboss/security/PicketBoxMessages.unableToFindSetSecurityInfoMessage:()Ljava/lang/String;
      65: invokespecial #21                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
      68: athrow
      69: return
    Exception table:
       from    to  target type
          34    48    51   Class java/lang/Exception

  public javax.security.auth.Subject getActiveSubject();
    Code:
       0: aconst_null
       1: astore_1
       2: invokestatic  #22                 // Method org/jboss/security/SecurityContextAssociation.getSecurityContext:()Lorg/jboss/security/SecurityContext;
       5: astore_2
       6: aload_2
       7: ifnull        20
      10: aload_2
      11: invokeinterface #23,  1           // InterfaceMethod org/jboss/security/SecurityContext.getUtil:()Lorg/jboss/security/SecurityContextUtil;
      16: invokevirtual #24                 // Method org/jboss/security/SecurityContextUtil.getSubject:()Ljavax/security/auth/Subject;
      19: astore_1
      20: aload_1
      21: areturn

  public java.security.Principal getTargetPrincipal(java.security.Principal, java.util.Map<java.lang.String, java.lang.Object>);
    Code:
       0: new           #18                 // class java/lang/UnsupportedOperationException
       3: dup
       4: invokespecial #25                 // Method java/lang/UnsupportedOperationException."<init>":()V
       7: athrow

  public boolean isValid(java.security.Principal, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: invokevirtual #26                 // Method isValid:(Ljava/security/Principal;Ljava/lang/Object;Ljavax/security/auth/Subject;)Z
       7: ireturn

  public boolean isValid(java.security.Principal, java.lang.Object, javax.security.auth.Subject);
    Code:
       0: aload_0
       1: aload_1
       2: ifnull        9
       5: aload_1
       6: goto          18
       9: new           #27                 // class org/jboss/security/SimplePrincipal
      12: dup
      13: ldc           #28                 // String null
      15: invokespecial #29                 // Method org/jboss/security/SimplePrincipal."<init>":(Ljava/lang/String;)V
      18: invokespecial #30                 // Method getCacheInfo:(Ljava/security/Principal;)Lorg/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo;
      21: astore        4
      23: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      26: invokeinterface #32,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.isTraceEnabled:()Z
      31: ifeq          57
      34: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      37: aload_1
      38: aload         4
      40: ifnull        51
      43: aload         4
      45: invokevirtual #33                 // Method java/lang/Object.toString:()Ljava/lang/String;
      48: goto          52
      51: aconst_null
      52: invokeinterface #34,  3           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceBeginIsValid:(Ljava/security/Principal;Ljava/lang/String;)V
      57: iconst_0
      58: istore        5
      60: aload         4
      62: ifnull        75
      65: aload_0
      66: aload         4
      68: aload_2
      69: aload_3
      70: invokespecial #35                 // Method validateCache:(Lorg/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo;Ljava/lang/Object;Ljavax/security/auth/Subject;)Z
      73: istore        5
      75: iload         5
      77: ifne          89
      80: aload_0
      81: aload_1
      82: aload_2
      83: aload_3
      84: invokespecial #36                 // Method authenticate:(Ljava/security/Principal;Ljava/lang/Object;Ljavax/security/auth/Subject;)Z
      87: istore        5
      89: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      92: iload         5
      94: invokeinterface #37,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceEndIsValid:(Z)V
      99: iload         5
     101: ireturn

  public java.lang.String getSecurityDomain();
    Code:
       0: aload_0
       1: getfield      #8                  // Field securityDomain:Ljava/lang/String;
       4: areturn

  public void flushCache();
    Code:
       0: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
       3: invokeinterface #38,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceFlushWholeCache:()V
       8: aload_0
       9: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      12: ifnull        57
      15: aload_0
      16: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      19: invokeinterface #40,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      24: invokeinterface #41,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      29: astore_1
      30: aload_1
      31: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      36: ifeq          57
      39: aload_1
      40: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      45: checkcast     #11                 // class java/security/Principal
      48: astore_2
      49: aload_0
      50: aload_2
      51: invokevirtual #44                 // Method flushCache:(Ljava/security/Principal;)V
      54: goto          30
      57: return

  public void flushCache(java.security.Principal);
    Code:
       0: aload_1
       1: ifnull        30
       4: aload_0
       5: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       8: ifnull        30
      11: aload_0
      12: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      15: aload_1
      16: invokeinterface #45,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      21: ifeq          30
      24: aload_0
      25: aload_1
      26: aconst_null
      27: invokevirtual #46                 // Method logout:(Ljava/security/Principal;Ljavax/security/auth/Subject;)V
      30: return

  public void setCache(java.util.concurrent.ConcurrentMap<java.security.Principal, org.jboss.security.authentication.JBossCachedAuthenticationManager$DomainInfo>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       5: return

  public boolean containsKey(java.security.Principal);
    Code:
       0: aload_0
       1: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       4: ifnull        22
       7: aload_1
       8: ifnull        22
      11: aload_0
      12: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      15: aload_1
      16: invokeinterface #45,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      21: ireturn
      22: iconst_0
      23: ireturn

  public java.util.Set<java.security.Principal> getCachedKeys();
    Code:
       0: aload_0
       1: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       4: ifnull        17
       7: aload_0
       8: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      11: invokeinterface #40,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      16: areturn
      17: aconst_null
      18: areturn

  public void setDeepCopySubjectOption(java.lang.Boolean);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #47                 // Method java/lang/Boolean.booleanValue:()Z
       5: putfield      #7                  // Field deepCopySubjectOption:Z
       8: return

  private org.jboss.security.authentication.JBossCachedAuthenticationManager$DomainInfo getCacheInfo(java.security.Principal);
    Code:
       0: aload_0
       1: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       4: ifnull        25
       7: aload_1
       8: ifnull        25
      11: aload_0
      12: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      15: aload_1
      16: invokeinterface #48,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      21: checkcast     #49                 // class org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo
      24: areturn
      25: aconst_null
      26: areturn

  private boolean validateCache(org.jboss.security.authentication.JBossCachedAuthenticationManager$DomainInfo, java.lang.Object, javax.security.auth.Subject);
    Code:
       0: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
       3: invokeinterface #32,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.isTraceEnabled:()Z
       8: ifeq          35
      11: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      14: aload_1
      15: invokevirtual #33                 // Method java/lang/Object.toString:()Ljava/lang/String;
      18: aload_2
      19: ifnull        29
      22: aload_2
      23: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: goto          30
      29: aconst_null
      30: invokeinterface #50,  3           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceBeginValidateCache:(Ljava/lang/String;Ljava/lang/Class;)V
      35: aload_1
      36: getfield      #51                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.credential:Ljava/lang/Object;
      39: astore        4
      41: iconst_0
      42: istore        5
      44: aload_2
      45: ifnull        53
      48: aload         4
      50: ifnonnull     72
      53: aload_2
      54: ifnonnull     66
      57: aload         4
      59: ifnonnull     66
      62: iconst_1
      63: goto          67
      66: iconst_0
      67: istore        5
      69: goto          343
      72: aload         4
      74: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      77: aload_2
      78: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      81: invokevirtual #52                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
      84: ifeq          254
      87: aload         4
      89: instanceof    #53                 // class java/lang/Comparable
      92: ifeq          123
      95: aload         4
      97: checkcast     #53                 // class java/lang/Comparable
     100: astore        6
     102: aload         6
     104: aload_2
     105: invokeinterface #54,  2           // InterfaceMethod java/lang/Comparable.compareTo:(Ljava/lang/Object;)I
     110: ifne          117
     113: iconst_1
     114: goto          118
     117: iconst_0
     118: istore        5
     120: goto          343
     123: aload         4
     125: instanceof    #55                 // class "[C"
     128: ifeq          162
     131: aload         4
     133: checkcast     #55                 // class "[C"
     136: checkcast     #55                 // class "[C"
     139: astore        6
     141: aload_2
     142: checkcast     #55                 // class "[C"
     145: checkcast     #55                 // class "[C"
     148: astore        7
     150: aload         6
     152: aload         7
     154: invokestatic  #56                 // Method java/util/Arrays.equals:([C[C)Z
     157: istore        5
     159: goto          343
     162: aload         4
     164: instanceof    #57                 // class "[B"
     167: ifeq          201
     170: aload         4
     172: checkcast     #57                 // class "[B"
     175: checkcast     #57                 // class "[B"
     178: astore        6
     180: aload_2
     181: checkcast     #57                 // class "[B"
     184: checkcast     #57                 // class "[B"
     187: astore        7
     189: aload         6
     191: aload         7
     193: invokestatic  #58                 // Method java/util/Arrays.equals:([B[B)Z
     196: istore        5
     198: goto          343
     201: aload         4
     203: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     206: invokevirtual #59                 // Method java/lang/Class.isArray:()Z
     209: ifeq          243
     212: aload         4
     214: checkcast     #60                 // class "[Ljava/lang/Object;"
     217: checkcast     #60                 // class "[Ljava/lang/Object;"
     220: astore        6
     222: aload_2
     223: checkcast     #60                 // class "[Ljava/lang/Object;"
     226: checkcast     #60                 // class "[Ljava/lang/Object;"
     229: astore        7
     231: aload         6
     233: aload         7
     235: invokestatic  #61                 // Method java/util/Arrays.equals:([Ljava/lang/Object;[Ljava/lang/Object;)Z
     238: istore        5
     240: goto          343
     243: aload         4
     245: aload_2
     246: invokevirtual #62                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     249: istore        5
     251: goto          343
     254: aload         4
     256: instanceof    #55                 // class "[C"
     259: ifeq          300
     262: aload_2
     263: instanceof    #63                 // class java/lang/String
     266: ifeq          300
     269: aload         4
     271: checkcast     #55                 // class "[C"
     274: checkcast     #55                 // class "[C"
     277: astore        6
     279: aload_2
     280: checkcast     #63                 // class java/lang/String
     283: invokevirtual #64                 // Method java/lang/String.toCharArray:()[C
     286: astore        7
     288: aload         6
     290: aload         7
     292: invokestatic  #56                 // Method java/util/Arrays.equals:([C[C)Z
     295: istore        5
     297: goto          343
     300: aload         4
     302: instanceof    #63                 // class java/lang/String
     305: ifeq          343
     308: aload_2
     309: instanceof    #55                 // class "[C"
     312: ifeq          343
     315: aload         4
     317: checkcast     #63                 // class java/lang/String
     320: invokevirtual #64                 // Method java/lang/String.toCharArray:()[C
     323: astore        6
     325: aload_2
     326: checkcast     #55                 // class "[C"
     329: checkcast     #55                 // class "[C"
     332: astore        7
     334: aload         6
     336: aload         7
     338: invokestatic  #56                 // Method java/util/Arrays.equals:([C[C)Z
     341: istore        5
     343: iload         5
     345: ifeq          365
     348: aload_3
     349: ifnull        365
     352: aload_1
     353: getfield      #65                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.subject:Ljavax/security/auth/Subject;
     356: aload_3
     357: iconst_0
     358: aload_0
     359: getfield      #7                  // Field deepCopySubjectOption:Z
     362: invokestatic  #66                 // Method org/jboss/security/authentication/SubjectActions.copySubject:(Ljavax/security/auth/Subject;Ljavax/security/auth/Subject;ZZ)V
     365: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     368: iload         5
     370: invokeinterface #67,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceEndValidteCache:(Z)V
     375: iload         5
     377: ireturn

  private boolean authenticate(java.security.Principal, java.lang.Object, javax.security.auth.Subject);
    Code:
       0: aload_0
       1: getfield      #8                  // Field securityDomain:Ljava/lang/String;
       4: invokestatic  #68                 // Method org/jboss/security/config/SecurityConfiguration.getApplicationPolicy:(Ljava/lang/String;)Lorg/jboss/security/config/ApplicationPolicy;
       7: astore        4
       9: aload         4
      11: ifnull        98
      14: aload         4
      16: invokevirtual #69                 // Method org/jboss/security/config/ApplicationPolicy.getAuthenticationInfo:()Lorg/jboss/security/auth/login/BaseAuthenticationInfo;
      19: astore        5
      21: aload         5
      23: invokevirtual #70                 // Method org/jboss/security/auth/login/BaseAuthenticationInfo.getJBossModuleName:()Ljava/lang/String;
      26: astore        6
      28: aload         6
      30: ifnull        98
      33: invokestatic  #71                 // Method org/jboss/security/authentication/SubjectActions.getContextClassLoader:()Ljava/lang/ClassLoader;
      36: astore        7
      38: invokestatic  #72                 // Method org/jboss/security/plugins/ClassLoaderLocatorFactory.get:()Lorg/jboss/security/plugins/ClassLoaderLocator;
      41: astore        8
      43: aload         8
      45: ifnull        98
      48: aload         8
      50: aload         6
      52: invokeinterface #73,  2           // InterfaceMethod org/jboss/security/plugins/ClassLoaderLocator.get:(Ljava/lang/String;)Ljava/lang/ClassLoader;
      57: astore        9
      59: aload         9
      61: ifnull        98
      64: aload         9
      66: invokestatic  #74                 // Method org/jboss/security/authentication/SubjectActions.setContextClassLoader:(Ljava/lang/ClassLoader;)V
      69: aload_0
      70: aload_1
      71: aload_2
      72: aload_3
      73: aload         9
      75: invokespecial #75                 // Method proceedWithJaasLogin:(Ljava/security/Principal;Ljava/lang/Object;Ljavax/security/auth/Subject;Ljava/lang/ClassLoader;)Z
      78: istore        10
      80: aload         7
      82: invokestatic  #74                 // Method org/jboss/security/authentication/SubjectActions.setContextClassLoader:(Ljava/lang/ClassLoader;)V
      85: iload         10
      87: ireturn
      88: astore        11
      90: aload         7
      92: invokestatic  #74                 // Method org/jboss/security/authentication/SubjectActions.setContextClassLoader:(Ljava/lang/ClassLoader;)V
      95: aload         11
      97: athrow
      98: aload_0
      99: aload_1
     100: aload_2
     101: aload_3
     102: aconst_null
     103: invokespecial #75                 // Method proceedWithJaasLogin:(Ljava/security/Principal;Ljava/lang/Object;Ljavax/security/auth/Subject;Ljava/lang/ClassLoader;)Z
     106: ireturn
    Exception table:
       from    to  target type
          64    80    88   any
          88    90    88   any

  private boolean proceedWithJaasLogin(java.security.Principal, java.lang.Object, javax.security.auth.Subject, java.lang.ClassLoader);
    Code:
       0: aconst_null
       1: astore        5
       3: iconst_0
       4: istore        6
       6: aconst_null
       7: astore        7
       9: aload_0
      10: aload_1
      11: aload_2
      12: invokespecial #76                 // Method defaultLogin:(Ljava/security/Principal;Ljava/lang/Object;)Ljavax/security/auth/login/LoginContext;
      15: astore        8
      17: aload         8
      19: invokevirtual #77                 // Method javax/security/auth/login/LoginContext.getSubject:()Ljavax/security/auth/Subject;
      22: astore        5
      24: aload         5
      26: ifnull        66
      29: aload_3
      30: ifnull        47
      33: aload         5
      35: aload_3
      36: iconst_0
      37: aload_0
      38: getfield      #7                  // Field deepCopySubjectOption:Z
      41: invokestatic  #66                 // Method org/jboss/security/authentication/SubjectActions.copySubject:(Ljavax/security/auth/Subject;Ljavax/security/auth/Subject;ZZ)V
      44: goto          50
      47: aload         5
      49: astore_3
      50: iconst_1
      51: istore        6
      53: aload_0
      54: aload         8
      56: aload         5
      58: aload_1
      59: aload_2
      60: aload         4
      62: invokespecial #78                 // Method updateCache:(Ljavax/security/auth/login/LoginContext;Ljavax/security/auth/Subject;Ljava/security/Principal;Ljava/lang/Object;Ljava/lang/ClassLoader;)Ljavax/security/auth/Subject;
      65: pop
      66: goto          85
      69: astore        8
      71: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      74: aload         8
      76: invokeinterface #80,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.debugFailedLogin:(Ljava/lang/Throwable;)V
      81: aload         8
      83: astore        7
      85: ldc           #81                 // String org.jboss.security.exception
      87: aload         7
      89: invokestatic  #82                 // Method org/jboss/security/authentication/SubjectActions.setContextInfo:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      92: pop
      93: iload         6
      95: ireturn
    Exception table:
       from    to  target type
           9    66    69   Class javax/security/auth/login/LoginException

  private javax.security.auth.login.LoginContext defaultLogin(java.security.Principal, java.lang.Object) throws javax.security.auth.login.LoginException;
    Code:
       0: iconst_2
       1: anewarray     #12                 // class java/lang/Object
       4: dup
       5: iconst_0
       6: aload_1
       7: aastore
       8: dup
       9: iconst_1
      10: aload_2
      11: aastore
      12: astore_3
      13: aconst_null
      14: astore        4
      16: aload_0
      17: getfield      #9                  // Field callbackHandler:Ljavax/security/auth/callback/CallbackHandler;
      20: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      23: invokevirtual #83                 // Method java/lang/Class.newInstance:()Ljava/lang/Object;
      26: checkcast     #84                 // class javax/security/auth/callback/CallbackHandler
      29: astore        4
      31: aload_0
      32: getfield      #16                 // Field setSecurityInfo:Ljava/lang/reflect/Method;
      35: aload         4
      37: aload_3
      38: invokevirtual #85                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      41: pop
      42: goto          75
      45: astore        5
      47: new           #79                 // class javax/security/auth/login/LoginException
      50: dup
      51: getstatic     #19                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
      54: invokeinterface #20,  1           // InterfaceMethod org/jboss/security/PicketBoxMessages.unableToFindSetSecurityInfoMessage:()Ljava/lang/String;
      59: invokespecial #87                 // Method javax/security/auth/login/LoginException."<init>":(Ljava/lang/String;)V
      62: astore        6
      64: aload         6
      66: aload         5
      68: invokevirtual #88                 // Method javax/security/auth/login/LoginException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
      71: pop
      72: aload         6
      74: athrow
      75: new           #89                 // class javax/security/auth/Subject
      78: dup
      79: invokespecial #90                 // Method javax/security/auth/Subject."<init>":()V
      82: astore        5
      84: aconst_null
      85: astore        6
      87: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      90: aload_1
      91: invokeinterface #91,  2           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceDefaultLoginPrincipal:(Ljava/security/Principal;)V
      96: aload_0
      97: getfield      #8                  // Field securityDomain:Ljava/lang/String;
     100: aload         5
     102: aload         4
     104: invokestatic  #92                 // Method org/jboss/security/authentication/SubjectActions.createLoginContext:(Ljava/lang/String;Ljavax/security/auth/Subject;Ljavax/security/auth/callback/CallbackHandler;)Ljavax/security/auth/login/LoginContext;
     107: astore        6
     109: aload         6
     111: invokevirtual #93                 // Method javax/security/auth/login/LoginContext.login:()V
     114: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     117: invokeinterface #32,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.isTraceEnabled:()Z
     122: ifeq          143
     125: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     128: aload         6
     130: invokevirtual #33                 // Method java/lang/Object.toString:()Ljava/lang/String;
     133: aload         5
     135: invokestatic  #94                 // Method org/jboss/security/authentication/SubjectActions.toString:(Ljavax/security/auth/Subject;)Ljava/lang/String;
     138: invokeinterface #95,  3           // InterfaceMethod org/jboss/security/PicketBoxLogger.traceDefaultLoginSubject:(Ljava/lang/String;Ljava/lang/String;)V
     143: aload         6
     145: areturn
    Exception table:
       from    to  target type
          16    42    45   Class java/lang/Throwable

  private javax.security.auth.Subject updateCache(javax.security.auth.login.LoginContext, javax.security.auth.Subject, java.security.Principal, java.lang.Object, java.lang.ClassLoader);
    Code:
       0: aload_0
       1: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       4: ifnonnull     9
       7: aload_2
       8: areturn
       9: new           #49                 // class org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo
      12: dup
      13: invokespecial #96                 // Method org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo."<init>":()V
      16: astore        6
      18: aload         6
      20: aload_1
      21: putfield      #97                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.loginContext:Ljavax/security/auth/login/LoginContext;
      24: aload         6
      26: new           #89                 // class javax/security/auth/Subject
      29: dup
      30: invokespecial #90                 // Method javax/security/auth/Subject."<init>":()V
      33: putfield      #65                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.subject:Ljavax/security/auth/Subject;
      36: aload_2
      37: aload         6
      39: getfield      #65                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.subject:Ljavax/security/auth/Subject;
      42: iconst_1
      43: aload_0
      44: getfield      #7                  // Field deepCopySubjectOption:Z
      47: invokestatic  #66                 // Method org/jboss/security/authentication/SubjectActions.copySubject:(Ljavax/security/auth/Subject;Ljavax/security/auth/Subject;ZZ)V
      50: aload         6
      52: aload         4
      54: putfield      #51                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.credential:Ljava/lang/Object;
      57: aload         5
      59: ifnonnull     78
      62: new           #98                 // class org/jboss/security/authentication/JBossCachedAuthenticationManager$1
      65: dup
      66: aload_0
      67: invokespecial #99                 // Method org/jboss/security/authentication/JBossCachedAuthenticationManager$1."<init>":(Lorg/jboss/security/authentication/JBossCachedAuthenticationManager;)V
      70: invokestatic  #100                // Method java/security/AccessController.doPrivileged:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      73: checkcast     #101                // class java/lang/ClassLoader
      76: astore        5
      78: aload         6
      80: aload         5
      82: putfield      #102                // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.contextClassLoader:Ljava/lang/ClassLoader;
      85: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      88: invokeinterface #32,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.isTraceEnabled:()Z
      93: ifeq          116
      96: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      99: aload_2
     100: invokestatic  #94                 // Method org/jboss/security/authentication/SubjectActions.toString:(Ljavax/security/auth/Subject;)Ljava/lang/String;
     103: aload         6
     105: getfield      #65                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.subject:Ljavax/security/auth/Subject;
     108: invokestatic  #94                 // Method org/jboss/security/authentication/SubjectActions.toString:(Ljavax/security/auth/Subject;)Ljava/lang/String;
     111: invokeinterface #103,  3          // InterfaceMethod org/jboss/security/PicketBoxLogger.traceUpdateCache:(Ljava/lang/String;Ljava/lang/String;)V
     116: aload_2
     117: ldc           #104                // class java/security/acl/Group
     119: invokevirtual #105                // Method javax/security/auth/Subject.getPrincipals:(Ljava/lang/Class;)Ljava/util/Set;
     122: astore        7
     124: aload         7
     126: invokeinterface #41,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     131: astore        8
     133: aload         8
     135: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     140: ifeq          211
     143: aload         8
     145: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     150: checkcast     #104                // class java/security/acl/Group
     153: astore        9
     155: aload         9
     157: invokeinterface #106,  1          // InterfaceMethod java/security/acl/Group.getName:()Ljava/lang/String;
     162: astore        10
     164: aload         10
     166: ldc           #107                // String CallerPrincipal
     168: invokevirtual #108                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     171: ifeq          208
     174: aload         9
     176: invokeinterface #109,  1          // InterfaceMethod java/security/acl/Group.members:()Ljava/util/Enumeration;
     181: astore        11
     183: aload         11
     185: invokeinterface #110,  1          // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
     190: ifeq          208
     193: aload         6
     195: aload         11
     197: invokeinterface #111,  1          // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
     202: checkcast     #11                 // class java/security/Principal
     205: putfield      #112                // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.callerPrincipal:Ljava/security/Principal;
     208: goto          133
     211: aload         6
     213: getfield      #112                // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.callerPrincipal:Ljava/security/Principal;
     216: ifnonnull     279
     219: aload_2
     220: ldc           #11                 // class java/security/Principal
     222: invokevirtual #105                // Method javax/security/auth/Subject.getPrincipals:(Ljava/lang/Class;)Ljava/util/Set;
     225: astore        9
     227: aload         9
     229: invokeinterface #41,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     234: astore        10
     236: aload         10
     238: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     243: ifeq          279
     246: aload         10
     248: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     253: checkcast     #11                 // class java/security/Principal
     256: astore        11
     258: aload         11
     260: instanceof    #104                // class java/security/acl/Group
     263: ifne          276
     266: aload         6
     268: aload         11
     270: putfield      #112                // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.callerPrincipal:Ljava/security/Principal;
     273: goto          279
     276: goto          236
     279: aload_0
     280: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
     283: aload_3
     284: ifnull        291
     287: aload_3
     288: goto          300
     291: new           #27                 // class org/jboss/security/SimplePrincipal
     294: dup
     295: ldc           #28                 // String null
     297: invokespecial #29                 // Method org/jboss/security/SimplePrincipal."<init>":(Ljava/lang/String;)V
     300: aload         6
     302: invokeinterface #113,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     307: pop
     308: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     311: invokeinterface #32,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.isTraceEnabled:()Z
     316: ifeq          332
     319: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     322: aload         6
     324: invokevirtual #33                 // Method java/lang/Object.toString:()Ljava/lang/String;
     327: invokeinterface #114,  2          // InterfaceMethod org/jboss/security/PicketBoxLogger.traceInsertedCacheInfo:(Ljava/lang/String;)V
     332: aload         6
     334: getfield      #65                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.subject:Ljavax/security/auth/Subject;
     337: areturn

  public void releaseModuleEntries(java.lang.ClassLoader);
    Code:
       0: aload_0
       1: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       4: ifnull        95
       7: aload_0
       8: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      11: invokeinterface #115,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.entrySet:()Ljava/util/Set;
      16: invokeinterface #41,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      21: astore_2
      22: aload_2
      23: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      28: ifeq          95
      31: aload_2
      32: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      37: checkcast     #116                // class java/util/Map$Entry
      40: astore_3
      41: aload_1
      42: ifnonnull     60
      45: aload_3
      46: invokeinterface #117,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      51: checkcast     #49                 // class org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo
      54: getfield      #102                // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.contextClassLoader:Ljava/lang/ClassLoader;
      57: ifnull        79
      60: aload_1
      61: aload_3
      62: invokeinterface #117,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      67: checkcast     #49                 // class org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo
      70: getfield      #102                // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.contextClassLoader:Ljava/lang/ClassLoader;
      73: invokevirtual #62                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      76: ifeq          92
      79: aload_0
      80: aload_3
      81: invokeinterface #118,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      86: checkcast     #11                 // class java/security/Principal
      89: invokevirtual #44                 // Method flushCache:(Ljava/security/Principal;)V
      92: goto          22
      95: return

  public void logout(java.security.Principal, javax.security.auth.Subject);
    Code:
       0: aconst_null
       1: astore_3
       2: aload_0
       3: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
       6: ifnull        89
       9: aload_1
      10: ifnull        89
      13: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      16: invokeinterface #32,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.isTraceEnabled:()Z
      21: ifeq          38
      24: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
      27: aload_1
      28: invokeinterface #119,  1          // InterfaceMethod java/security/Principal.getName:()Ljava/lang/String;
      33: invokeinterface #120,  2          // InterfaceMethod org/jboss/security/PicketBoxLogger.traceFlushCacheEntry:(Ljava/lang/String;)V
      38: aload_0
      39: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      42: aload_1
      43: invokeinterface #48,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      48: checkcast     #49                 // class org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo
      51: astore        4
      53: aload_0
      54: getfield      #39                 // Field domainCache:Ljava/util/concurrent/ConcurrentMap;
      57: aload_1
      58: invokeinterface #121,  2          // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      63: pop
      64: aload         4
      66: ifnull        89
      69: aload         4
      71: getfield      #97                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.loginContext:Ljavax/security/auth/login/LoginContext;
      74: ifnull        89
      77: aload         4
      79: getfield      #97                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.loginContext:Ljavax/security/auth/login/LoginContext;
      82: astore_3
      83: aload         4
      85: getfield      #65                 // Field org/jboss/security/authentication/JBossCachedAuthenticationManager$DomainInfo.subject:Ljavax/security/auth/Subject;
      88: astore_2
      89: aload_3
      90: ifnonnull     201
      93: iconst_2
      94: anewarray     #12                 // class java/lang/Object
      97: dup
      98: iconst_0
      99: aload_1
     100: aastore
     101: dup
     102: iconst_1
     103: aconst_null
     104: aastore
     105: astore        4
     107: aconst_null
     108: astore        5
     110: aload_2
     111: ifnonnull     122
     114: new           #89                 // class javax/security/auth/Subject
     117: dup
     118: invokespecial #90                 // Method javax/security/auth/Subject."<init>":()V
     121: astore_2
     122: aload_0
     123: getfield      #9                  // Field callbackHandler:Ljavax/security/auth/callback/CallbackHandler;
     126: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     129: invokevirtual #83                 // Method java/lang/Class.newInstance:()Ljava/lang/Object;
     132: checkcast     #84                 // class javax/security/auth/callback/CallbackHandler
     135: astore        5
     137: aload_0
     138: getfield      #16                 // Field setSecurityInfo:Ljava/lang/reflect/Method;
     141: aload         5
     143: aload         4
     145: invokevirtual #85                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     148: pop
     149: aload_0
     150: getfield      #8                  // Field securityDomain:Ljava/lang/String;
     153: aload_2
     154: aload         5
     156: invokestatic  #92                 // Method org/jboss/security/authentication/SubjectActions.createLoginContext:(Ljava/lang/String;Ljavax/security/auth/Subject;Ljavax/security/auth/callback/CallbackHandler;)Ljavax/security/auth/login/LoginContext;
     159: astore_3
     160: goto          201
     163: astore        6
     165: new           #79                 // class javax/security/auth/login/LoginException
     168: dup
     169: getstatic     #19                 // Field org/jboss/security/PicketBoxMessages.MESSAGES:Lorg/jboss/security/PicketBoxMessages;
     172: aload         6
     174: invokeinterface #122,  2          // InterfaceMethod org/jboss/security/PicketBoxMessages.unableToInitializeLoginContext:(Ljava/lang/Throwable;)Ljava/lang/String;
     179: invokespecial #87                 // Method javax/security/auth/login/LoginException."<init>":(Ljava/lang/String;)V
     182: astore        7
     184: aload         7
     186: aload         6
     188: invokevirtual #88                 // Method javax/security/auth/login/LoginException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     191: pop
     192: ldc           #81                 // String org.jboss.security.exception
     194: aload         7
     196: invokestatic  #82                 // Method org/jboss/security/authentication/SubjectActions.setContextInfo:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     199: pop
     200: return
     201: aload_3
     202: invokevirtual #123                // Method javax/security/auth/login/LoginContext.logout:()V
     205: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     208: invokeinterface #32,  1           // InterfaceMethod org/jboss/security/PicketBoxLogger.isTraceEnabled:()Z
     213: ifeq          232
     216: getstatic     #31                 // Field org/jboss/security/PicketBoxLogger.LOGGER:Lorg/jboss/security/PicketBoxLogger;
     219: aload_3
     220: invokevirtual #33                 // Method java/lang/Object.toString:()Ljava/lang/String;
     223: aload_2
     224: invokestatic  #94                 // Method org/jboss/security/authentication/SubjectActions.toString:(Ljavax/security/auth/Subject;)Ljava/lang/String;
     227: invokeinterface #124,  3          // InterfaceMethod org/jboss/security/PicketBoxLogger.traceLogoutSubject:(Ljava/lang/String;Ljava/lang/String;)V
     232: goto          245
     235: astore        4
     237: ldc           #81                 // String org.jboss.security.exception
     239: aload         4
     241: invokestatic  #82                 // Method org/jboss/security/authentication/SubjectActions.setContextInfo:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     244: pop
     245: return
    Exception table:
       from    to  target type
         122   160   163   Class java/lang/Throwable
         201   232   235   Class javax/security/auth/login/LoginException

  public boolean containsKey(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #11                 // class java/security/Principal
       5: invokevirtual #125                // Method containsKey:(Ljava/security/Principal;)Z
       8: ireturn

  public void flushCache(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #11                 // class java/security/Principal
       5: invokevirtual #44                 // Method flushCache:(Ljava/security/Principal;)V
       8: return

  public void setCache(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #126                // class java/util/concurrent/ConcurrentMap
       5: invokevirtual #127                // Method setCache:(Ljava/util/concurrent/ConcurrentMap;)V
       8: return
}
