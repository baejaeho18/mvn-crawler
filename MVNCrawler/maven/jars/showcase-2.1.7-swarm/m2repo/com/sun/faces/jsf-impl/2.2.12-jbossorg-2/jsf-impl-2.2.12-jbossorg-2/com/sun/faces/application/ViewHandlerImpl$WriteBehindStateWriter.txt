Compiled from "ViewHandlerImpl.java"
final class com.sun.faces.application.ViewHandlerImpl$WriteBehindStateWriter extends java.io.Writer {
  private static final int STATE_MARKER_LEN;

  private static final java.lang.ThreadLocal<com.sun.faces.application.ViewHandlerImpl$WriteBehindStateWriter> CUR_WRITER;

  private java.io.Writer out;

  private java.io.Writer orig;

  private com.sun.faces.io.FastStringWriter fWriter;

  private boolean stateWritten;

  private int bufSize;

  private char[] buf;

  private javax.faces.context.FacesContext context;

  public com.sun.faces.application.ViewHandlerImpl$WriteBehindStateWriter(java.io.Writer, javax.faces.context.FacesContext, int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/io/Writer."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field out:Ljava/io/Writer;
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field orig:Ljava/io/Writer;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
      19: aload_0
      20: iload_3
      21: putfield      #5                  // Field bufSize:I
      24: aload_0
      25: iload_3
      26: newarray       char
      28: putfield      #6                  // Field buf:[C
      31: getstatic     #7                  // Field CUR_WRITER:Ljava/lang/ThreadLocal;
      34: aload_0
      35: invokevirtual #8                  // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      38: return

  public void write(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field out:Ljava/io/Writer;
       4: iload_1
       5: invokevirtual #9                  // Method java/io/Writer.write:(I)V
       8: return

  public void write(char[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field out:Ljava/io/Writer;
       4: aload_1
       5: invokevirtual #10                 // Method java/io/Writer.write:([C)V
       8: return

  public void write(java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field out:Ljava/io/Writer;
       4: aload_1
       5: invokevirtual #11                 // Method java/io/Writer.write:(Ljava/lang/String;)V
       8: return

  public void write(java.lang.String, int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field out:Ljava/io/Writer;
       4: aload_1
       5: iload_2
       6: iload_3
       7: invokevirtual #12                 // Method java/io/Writer.write:(Ljava/lang/String;II)V
      10: return

  public void write(char[], int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field out:Ljava/io/Writer;
       4: aload_1
       5: iload_2
       6: iload_3
       7: invokevirtual #13                 // Method java/io/Writer.write:([CII)V
      10: return

  public void flush() throws java.io.IOException;
    Code:
       0: return

  public void close() throws java.io.IOException;
    Code:
       0: return

  public static com.sun.faces.application.ViewHandlerImpl$WriteBehindStateWriter getCurrentInstance();
    Code:
       0: getstatic     #7                  // Field CUR_WRITER:Ljava/lang/ThreadLocal;
       3: invokevirtual #14                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #15                 // class com/sun/faces/application/ViewHandlerImpl$WriteBehindStateWriter
       9: areturn

  public void release();
    Code:
       0: getstatic     #7                  // Field CUR_WRITER:Ljava/lang/ThreadLocal;
       3: invokevirtual #16                 // Method java/lang/ThreadLocal.remove:()V
       6: return

  public void writingState();
    Code:
       0: aload_0
       1: getfield      #17                 // Field stateWritten:Z
       4: ifne          31
       7: aload_0
       8: iconst_1
       9: putfield      #17                 // Field stateWritten:Z
      12: aload_0
      13: aload_0
      14: new           #18                 // class com/sun/faces/io/FastStringWriter
      17: dup
      18: sipush        1024
      21: invokespecial #19                 // Method com/sun/faces/io/FastStringWriter."<init>":(I)V
      24: dup_x1
      25: putfield      #20                 // Field fWriter:Lcom/sun/faces/io/FastStringWriter;
      28: putfield      #2                  // Field out:Ljava/io/Writer;
      31: return

  public boolean stateWritten();
    Code:
       0: aload_0
       1: getfield      #17                 // Field stateWritten:Z
       4: ireturn

  public void flushToWriter() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
       4: invokestatic  #21                 // Method com/sun/faces/util/Util.getStateManager:(Ljavax/faces/context/FacesContext;)Ljavax/faces/application/StateManager;
       7: astore_1
       8: aload_0
       9: getfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
      12: invokevirtual #22                 // Method javax/faces/context/FacesContext.getResponseWriter:()Ljavax/faces/context/ResponseWriter;
      15: astore_2
      16: new           #18                 // class com/sun/faces/io/FastStringWriter
      19: dup
      20: aload_1
      21: aload_0
      22: getfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
      25: invokevirtual #23                 // Method javax/faces/application/StateManager.isSavingStateInClient:(Ljavax/faces/context/FacesContext;)Z
      28: ifeq          38
      31: aload_0
      32: getfield      #5                  // Field bufSize:I
      35: goto          41
      38: sipush        128
      41: invokespecial #19                 // Method com/sun/faces/io/FastStringWriter."<init>":(I)V
      44: astore_3
      45: aload_0
      46: getfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
      49: aload_2
      50: aload_3
      51: invokevirtual #24                 // Method javax/faces/context/ResponseWriter.cloneWithWriter:(Ljava/io/Writer;)Ljavax/faces/context/ResponseWriter;
      54: invokevirtual #25                 // Method javax/faces/context/FacesContext.setResponseWriter:(Ljavax/faces/context/ResponseWriter;)V
      57: aload_1
      58: aload_0
      59: getfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
      62: aload_1
      63: aload_0
      64: getfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
      67: invokevirtual #26                 // Method javax/faces/application/StateManager.saveView:(Ljavax/faces/context/FacesContext;)Ljava/lang/Object;
      70: invokevirtual #27                 // Method javax/faces/application/StateManager.writeState:(Ljavax/faces/context/FacesContext;Ljava/lang/Object;)V
      73: aload_0
      74: getfield      #4                  // Field context:Ljavax/faces/context/FacesContext;
      77: aload_2
      78: invokevirtual #25                 // Method javax/faces/context/FacesContext.setResponseWriter:(Ljavax/faces/context/ResponseWriter;)V
      81: aload_0
      82: getfield      #20                 // Field fWriter:Lcom/sun/faces/io/FastStringWriter;
      85: invokevirtual #28                 // Method com/sun/faces/io/FastStringWriter.getBuffer:()Ljava/lang/StringBuilder;
      88: astore        4
      90: aload         4
      92: invokevirtual #29                 // Method java/lang/StringBuilder.length:()I
      95: istore        5
      97: aload_3
      98: invokevirtual #28                 // Method com/sun/faces/io/FastStringWriter.getBuffer:()Ljava/lang/StringBuilder;
     101: astore        6
     103: aload         6
     105: invokevirtual #29                 // Method java/lang/StringBuilder.length:()I
     108: istore        7
     110: iconst_0
     111: istore        8
     113: aload         4
     115: iload         8
     117: invokestatic  #30                 // Method getNextDelimiterIndex:(Ljava/lang/StringBuilder;I)I
     120: istore        9
     122: iload         8
     124: iload         5
     126: if_icmpge     496
     129: iload         9
     131: iconst_m1
     132: if_icmpeq     395
     135: iload         9
     137: iload         8
     139: if_icmple     196
     142: iload         9
     144: iload         8
     146: isub
     147: aload_0
     148: getfield      #5                  // Field bufSize:I
     151: if_icmple     196
     154: aload         4
     156: iload         8
     158: iload         8
     160: aload_0
     161: getfield      #5                  // Field bufSize:I
     164: iadd
     165: aload_0
     166: getfield      #6                  // Field buf:[C
     169: iconst_0
     170: invokevirtual #31                 // Method java/lang/StringBuilder.getChars:(II[CI)V
     173: aload_0
     174: getfield      #3                  // Field orig:Ljava/io/Writer;
     177: aload_0
     178: getfield      #6                  // Field buf:[C
     181: invokevirtual #10                 // Method java/io/Writer.write:([C)V
     184: iload         8
     186: aload_0
     187: getfield      #5                  // Field bufSize:I
     190: iadd
     191: istore        8
     193: goto          122
     196: aload         4
     198: iload         8
     200: iload         9
     202: aload_0
     203: getfield      #6                  // Field buf:[C
     206: iconst_0
     207: invokevirtual #31                 // Method java/lang/StringBuilder.getChars:(II[CI)V
     210: iload         9
     212: iload         8
     214: isub
     215: istore        10
     217: aload_0
     218: getfield      #3                  // Field orig:Ljava/io/Writer;
     221: aload_0
     222: getfield      #6                  // Field buf:[C
     225: iconst_0
     226: iload         10
     228: invokevirtual #13                 // Method java/io/Writer.write:([CII)V
     231: aload         4
     233: ldc           #32                 // String ~com.sun.faces.saveStateFieldMarker~
     235: iload         8
     237: invokevirtual #33                 // Method java/lang/StringBuilder.indexOf:(Ljava/lang/String;I)I
     240: iload         9
     242: if_icmpne     377
     245: iconst_0
     246: istore        11
     248: iload         11
     250: iload         7
     252: if_icmpge     354
     255: iload         7
     257: iload         11
     259: isub
     260: aload_0
     261: getfield      #5                  // Field bufSize:I
     264: if_icmple     309
     267: aload         6
     269: iload         11
     271: iload         11
     273: aload_0
     274: getfield      #5                  // Field bufSize:I
     277: iadd
     278: aload_0
     279: getfield      #6                  // Field buf:[C
     282: iconst_0
     283: invokevirtual #31                 // Method java/lang/StringBuilder.getChars:(II[CI)V
     286: aload_0
     287: getfield      #3                  // Field orig:Ljava/io/Writer;
     290: aload_0
     291: getfield      #6                  // Field buf:[C
     294: invokevirtual #10                 // Method java/io/Writer.write:([C)V
     297: iload         11
     299: aload_0
     300: getfield      #5                  // Field bufSize:I
     303: iadd
     304: istore        11
     306: goto          248
     309: iload         7
     311: iload         11
     313: isub
     314: istore        12
     316: aload         6
     318: iload         11
     320: iload         7
     322: aload_0
     323: getfield      #6                  // Field buf:[C
     326: iconst_0
     327: invokevirtual #31                 // Method java/lang/StringBuilder.getChars:(II[CI)V
     330: aload_0
     331: getfield      #3                  // Field orig:Ljava/io/Writer;
     334: aload_0
     335: getfield      #6                  // Field buf:[C
     338: iconst_0
     339: iload         12
     341: invokevirtual #13                 // Method java/io/Writer.write:([CII)V
     344: iload         11
     346: iload         12
     348: iadd
     349: istore        11
     351: goto          248
     354: iload         8
     356: iload         10
     358: getstatic     #34                 // Field STATE_MARKER_LEN:I
     361: iadd
     362: iadd
     363: istore        8
     365: aload         4
     367: iload         8
     369: invokestatic  #30                 // Method getNextDelimiterIndex:(Ljava/lang/StringBuilder;I)I
     372: istore        9
     374: goto          392
     377: iload         9
     379: istore        8
     381: aload         4
     383: iload         9
     385: iconst_1
     386: iadd
     387: invokestatic  #30                 // Method getNextDelimiterIndex:(Ljava/lang/StringBuilder;I)I
     390: istore        9
     392: goto          122
     395: iload         5
     397: iload         8
     399: isub
     400: aload_0
     401: getfield      #5                  // Field bufSize:I
     404: if_icmple     449
     407: aload         4
     409: iload         8
     411: iload         8
     413: aload_0
     414: getfield      #5                  // Field bufSize:I
     417: iadd
     418: aload_0
     419: getfield      #6                  // Field buf:[C
     422: iconst_0
     423: invokevirtual #31                 // Method java/lang/StringBuilder.getChars:(II[CI)V
     426: aload_0
     427: getfield      #3                  // Field orig:Ljava/io/Writer;
     430: aload_0
     431: getfield      #6                  // Field buf:[C
     434: invokevirtual #10                 // Method java/io/Writer.write:([C)V
     437: iload         8
     439: aload_0
     440: getfield      #5                  // Field bufSize:I
     443: iadd
     444: istore        8
     446: goto          122
     449: aload         4
     451: iload         8
     453: iload         5
     455: aload_0
     456: getfield      #6                  // Field buf:[C
     459: iconst_0
     460: invokevirtual #31                 // Method java/lang/StringBuilder.getChars:(II[CI)V
     463: iload         5
     465: iload         8
     467: isub
     468: istore        10
     470: aload_0
     471: getfield      #3                  // Field orig:Ljava/io/Writer;
     474: aload_0
     475: getfield      #6                  // Field buf:[C
     478: iconst_0
     479: iload         10
     481: invokevirtual #13                 // Method java/io/Writer.write:([CII)V
     484: iload         8
     486: iload         10
     488: iconst_1
     489: iadd
     490: iadd
     491: istore        8
     493: goto          122
     496: aload_0
     497: aload_0
     498: getfield      #3                  // Field orig:Ljava/io/Writer;
     501: putfield      #2                  // Field out:Ljava/io/Writer;
     504: return

  private static int getNextDelimiterIndex(java.lang.StringBuilder, int);
    Code:
       0: aload_0
       1: ldc           #35                 // String ~
       3: iload_1
       4: invokevirtual #33                 // Method java/lang/StringBuilder.indexOf:(Ljava/lang/String;I)I
       7: ireturn

  static {};
    Code:
       0: ldc           #32                 // String ~com.sun.faces.saveStateFieldMarker~
       2: invokevirtual #36                 // Method java/lang/String.length:()I
       5: putstatic     #34                 // Field STATE_MARKER_LEN:I
       8: new           #37                 // class java/lang/ThreadLocal
      11: dup
      12: invokespecial #38                 // Method java/lang/ThreadLocal."<init>":()V
      15: putstatic     #7                  // Field CUR_WRITER:Ljava/lang/ThreadLocal;
      18: return
}
