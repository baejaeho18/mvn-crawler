!function(){var t=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!t&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;t=!0;var s=new this;t=!1;for(var l in n)s[l]="function"==typeof n[l]&&"function"==typeof o[l]&&e.test(n[l])?function(t,e){return function(){var n=this._super;this._super=o[t];var i=e.apply(this,arguments);return this._super=n,i}}(l,n[l]):n[l];return i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i}}(),function(t){t.fn._butterAutoCompleteInit=function(){return this.each(function(){new e(this)})};var e=Class.extend({init:function(e){this.SEARCH_REQUEST_DELAY=300;var n=t(e);this.$input=n.prev(),this.$input.parent().css({position:"relative"}),this.autocompleteId=n.attr("id"),this.$selectedOption=null,this.ignoreKeyupEvent=!1,this.requestDelayTimerId=null,this.isRequestRunning=!1,this.areChangesMadeWhileRequestWasRunning=!1,this._keyCodes={tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,caps_lock:20,escape:27,page_up:33,page_down:34,end:35,home:36,arrow_left:37,arrow_up:38,arrow_right:39,arrow_down:40,insert:45,delete_key:46,left_window_key:91,right_window_key:92,select_key:93,num_lock:144,scroll_lock:145};var i=this;i.$input.on("keydown",function(t){t.which===i._keyCodes.enter?i._handleEnterKeyDown(t):t.which===i._keyCodes.arrow_up||t.which===i._keyCodes.arrow_down?i._handleArrowUpAndDownKeyDown(t):t.which===i._keyCodes.escape&&i._handleEscapeKeyDown(t)}).on("keyup",function(t){for(keyName in i._keyCodes)if(i._keyCodes[keyName]===t.which)return void i._stopEvent(t);return i.ignoreKeyupEvent?(i._stopEvent(t),void(i.ignoreKeyupEvent=!1)):0===i.$input.val().length?(i._stopEvent(t),void i._hideAutocompleteResultList()):void i._trySendJsfAjaxRequest()}).on("blur",function(t){window.setTimeout(function(){i._hideAutocompleteResultList()},100)})},_handleEnterKeyDown:function(t){null!==this.$selectedOption&&(this._stopEvent(t),this._setSelectedValue())},_handleArrowUpAndDownKeyDown:function(t){this._stopEvent(t);var e=this._getAutocompleteElement();!e.is(":visible")&&this.$input.val().length>0?this._trySendJsfAjaxRequest():e.is(":visible")&&e.find("li").length>0&&(null===this.$selectedOption?this._selectResultOptionElement(e.find("li")[0]):this._moveResultOptionElementSelectionCursor(e,t.which===this._keyCodes.arrow_up?-1:1))},_handleEscapeKeyDown:function(t){this._stopEvent(t),this._hideAutocompleteResultList()},_trySendJsfAjaxRequest:function(){var t=this;t.isRequestRunning&&(t.areChangesMadeWhileRequestWasRunning=!0),null!==t.requestDelayTimerId&&window.clearTimeout(t.requestDelayTimerId),t.requestDelayTimerId=window.setTimeout(function(){t.requestDelayTimerId=null,t._sendJsfAjaxRequest()},t.SEARCH_REQUEST_DELAY)},_sendJsfAjaxRequest:function(){var t=this;if(!t.isRequestRunning){t.isRequestRunning=!0,t.areChangesMadeWhileRequestWasRunning=!1,t._showLoadingSpinner();var e=t.$input.parent().parent().attr("id");jsf.ajax.request(e,"autocomplete",{"javax.faces.behavior.event":"autocomplete",render:t.autocompleteId,params:t.$input.val(),onevent:function(e){"success"===e.status&&(t.$input.is(":focus")&&t._handleAutocompleteResultListVisibility(),t._hideLoadingSpinner(),t.isRequestRunning=!1,t.areChangesMadeWhileRequestWasRunning&&t._sendJsfAjaxRequest())}})}},_handleAutocompleteResultListVisibility:function(){var t=this,e=t._getAutocompleteElement();e.find("li").length>0?t._initAndShowAutocompleteResultList():t._hideAutocompleteResultList()},_showLoadingSpinner:function(){t('<div class="butter-dropdownlist-spinner-container"><div class="butter-dropdownlist-spinner"></div></div>').appendTo(this.$input.parent())},_hideLoadingSpinner:function(){this.$input.parent().find(".butter-dropdownlist-spinner").remove()},_initAndShowAutocompleteResultList:function(){var t=this,e=t._getAutocompleteElement();e.show().css({width:t.$input.innerWidth()}).highlight(t.$input.val()),e.find("ul").on("mouseleave",function(){t._clearResultOptionSelection()}),e.find("li").on("mousedown",function(){t._setSelectedValue()}).on("mouseenter",function(){t._selectResultOptionElement(this)})},_selectResultOptionElement:function(e){this._clearResultOptionSelection();var n=t(e);n.addClass("butter-dropdownlist-resultItem-selected"),this.$selectedOption=n},_clearResultOptionSelection:function(){this.$selectedOption=null,this._getAutocompleteElement().find(".butter-dropdownlist-resultItem-selected").removeClass("butter-dropdownlist-resultItem-selected")},_moveResultOptionElementSelectionCursor:function(t,e){if(e>0){var n=this.$selectedOption.next();n.length>0?this._selectResultOptionElement(n[0]):this._selectResultOptionElement(t.find("li")[0])}else{var i=this.$selectedOption.prev();if(i.length>0)this._selectResultOptionElement(i[0]);else{var o=t.find("li");this._selectResultOptionElement(o[o.length-1])}}},_setSelectedValue:function(){null!==this.$selectedOption&&(this.ignoreKeyupEvent=!0,this.$input.val(this.$selectedOption.attr("data-select-value")).change().focus().keyup(),this._hideAutocompleteResultList())},_hideAutocompleteResultList:function(){null!==this.requestDelayTimerId&&window.clearTimeout(this.requestDelayTimerId),this.$selectedOption=null,this._getAutocompleteElement().hide()},_getAutocompleteElement:function(){return t(document.getElementById(this.autocompleteId))},_stopEvent:function(t){t.stopPropagation(),t.preventDefault()}})}(jQuery),function(t){t.fn.fixBootstrapDropDown=function(){return this.each(function(){t(".dropdown-menu").on("click",function(e){t(this).hasClass("dropdown-menu-form")&&e.stopPropagation()})})}}(jQuery),function(t){var e=function(){var t=0;return function(e,n){clearTimeout(t),t=setTimeout(e,n)}}();t.fn.butterItemFilterField=function(n){return this.each(function(){var i=t(this);i.keyup(function(){e(function(){var e,o=i.val();if(n)e=t(n);else{var s=i.attr("data-filterable-item-container");e=t(s)}e.find(".filterable-item").each(function(){var e=t(this);e.is(":containsIgnoreCase("+o+")")?(e.removeClass("hidden"),e.highlight(o)):e.addClass("hidden")})},300)})})}}(jQuery),function(t){t.expr[":"].containsIgnoreCase=t.expr.createPseudo(function(e){return function(n){return!e||t(n).text().toUpperCase().indexOf(e.toUpperCase())>=0}})}(jQuery),function(t){var e=null;t.fn.startDots=function(){return this.each(function(){var n=t(this);n.html(""),e=setInterval(function(){n.append("."),n.html().length>5&&n.html("")},200)})},t.fn.stopDots=function(){return this.each(function(){var n=t(this);n.html(""),window.clearInterval(e)})}}(jQuery),function(t){t.fn.butterExpandable=function(){return this.each(function(){t(this).find("textarea").length>0?new i(this):new n(this)})};var e=Class.extend({init:function(e){this.EXPAND_HEIGHT=250,this.EXPAND_WIDTH=500,this.ANIMATION_DURATION=200,this.REPOSITION_INTERVAL=500,this.EASING="swing",this.KEYCODE_ESCAPE=27,this.$rootElement=t(e),this.$ghostElement=null,this.$originalElement,this.initialHeight,this.initialWidth,this.initialOffset,this.positionTriggerInterval,this.initialize()},initialize:function(){},isExpansionEventIgnored:function(t){return!1},onGhostElementCreated:function(){},onGhostElementCollapsed:function(t){},transferValueToGhostElement:function(){},expandElement:function(e){if(!this.isExpansionEventIgnored(e)){this.initialHeight=this.$originalElement.outerHeight(),this.initialWidth=this.$originalElement.outerWidth(),this.initialOffset=this.$originalElement.offset();var n=this;this.$ghostElement=this.createGhostElement(),this.transferValueToGhostElement(),this.$ghostElement.css("width",this.initialWidth).css("height",this.initialHeight).css("position","absolute").css("top",this.initialOffset.top).css("left",this.initialOffset.left).css("z-index",2e3).css("box-shadow","5px 5px 5px 0 #999").addClass("butter-component-expandable-ghost").appendTo(t("body")).animate({height:n.EXPAND_HEIGHT,width:n.initialWidth>n.EXPAND_WIDTH?n.initialWidth:n.EXPAND_WIDTH},n.ANIMATION_DURATION,n.EASING,function(){t(document).on("click.expandable",function(t){n._handleMouseClick(t)}).on("keydown.expandable",function(t){n._handleEscapeKey(t)}),t(window).on("resize.expandable",function(t){n._repositionGhostElement(t)}),n.positionTriggerInterval=window.setInterval(n._repositionGhostElement,n.REPOSITION_INTERVAL)}),this.$originalElement.css("visibility","hidden").siblings().css("visibility","hidden"),this.onGhostElementCreated()}},createGhostElement:function(){return null},collapseElement:function(e){var n="boolean"==typeof e&&e;t(document).off("click.expandable").off("keydown.expandable"),this.$originalElement.css("visibility","visible").siblings().css("visibility","visible");var i=this;this.$ghostElement.animate({height:i.initialHeight,width:i.initialWidth},i.ANIMATION_DURATION,i.EASING,function(){i.onGhostElementCollapsed(n),i.$ghostElement.remove(),i.$ghostElement=null,window.clearInterval(i.positionTriggerInterval),t(window).off("resize.expandable")})},_handleMouseClick:function(e){t(e.target).is(".butter-component-expandable-ghost")||this.collapseElement(!1)},_handleEscapeKey:function(t){t.which===this.KEYCODE_ESCAPE&&this.collapseElement(!0)},_repositionGhostElement:function(){void 0!==this.$ghostElement&&null!=this.$ghostElement&&(this.initialOffset=this.$originalElement.offset(),this.$ghostElement.css("top",this.initialOffset.top).css("left",this.initialOffset.left))}}),n=e.extend({initialize:function(){this.$originalElement=this.$rootElement.find(".butter-component-value-readonly"),this._rearrangeOriginalElementStructure()},_rearrangeOriginalElementStructure:function(){var e=this,n=this.$rootElement.find(".butter-component-label");this.$originalElement.addClass("butter-component-expandable-original").click(function(t){e.expandElement(t)}).detach();var i=t("<div>").addClass("butter-component-expandable-readonly-container").insertAfter(n),o=t("<span>").addClass("glyphicon glyphicon-resize-full");this.$originalElement.appendTo(i),t("<div>").addClass("butter-component-expandable-readonly-icon").append(o).appendTo(i)},createGhostElement:function(){return t("<div>")},transferValueToGhostElement:function(){t("<div>").html(this.$originalElement.html()).addClass("butter-component-expandable-ghost-readonlyContent").appendTo(this.$ghostElement)}}),i=e.extend({initialize:function(){this.blockFocusEventOnOriginal=!1,this.blockBlurEventOnOriginal=!1,this.$originalElement=this.$rootElement.find("textarea"),this.$originalElement.addClass("butter-component-expandable-original");var t=this;this.$originalElement.focus(function(e){t.expandElement(e)}),this.$originalElement.blur(function(e){t._handleBlurEvent(e)}),this._addInputGroupAddon()},_addInputGroupAddon:function(){this.$originalElement.addClass("form-control").parent().addClass("input-group"),t("<span class='input-group-addon'><span class='glyphicon glyphicon-resize-full'></span></span>").insertAfter(this.$originalElement)},_handleBlurEvent:function(t){this.blockBlurEventOnOriginal&&t.preventDefault()},createGhostElement:function(){return t("<textarea>")},transferValueToGhostElement:function(){this.$ghostElement.val(this.$originalElement.val())},isExpansionEventIgnored:function(t){return this.blockBlurEventOnOriginal=!0,this.blockFocusEventOnOriginal?(t.preventDefault(),!0):!1},onGhostElementCreated:function(){var t=this;this.$ghostElement.blur(function(e){t.collapseElement(e)}).focus(),this._moveCaretToEnd(this.$ghostElement)},onGhostElementCollapsed:function(t){if(t)this.blockBlurEventOnOriginal=!0,this.blockFocusEventOnOriginal=!1;else{this.$originalElement.val(this.$ghostElement.val()),this.blockBlurEventOnOriginal=!1,this.blockFocusEventOnOriginal=!0;var e=this;window.setTimeout(function(){e.$originalElement.trigger("keyup"),e.$originalElement.trigger("change"),e.$originalElement.trigger("blur"),e.blockFocusEventOnOriginal=!1},50)}},_moveCaretToEnd:function(t){if("number"==typeof t.selectionStart)t.selectionStart=t.selectionEnd=t.value.length;else if("undefined"!=typeof t.createTextRange){var e=t.createTextRange();e.collapse(!1),e.select()}else{var n=2*this.$ghostElement.val().length;this.$ghostElement[0].setSelectionRange(n,n)}}})}(jQuery),function(t){t.fn.highlight=function(e){var n="search-highlighted",i=new RegExp(e,"gi"),o=this.find("*");return this.each(function(){o.push(this),t(this).find("."+n).contents().unwrap(),this.normalize()}),o.each(function(){var o=t(this);e&&""!==e&&o.contents().filter(function(){return 3===this.nodeType&&i.test(this.nodeValue)}).replaceWith(function(){return(this.nodeValue||"").replace(i,function(t){return'<span class="'+n+'">'+t+"</span>"})})})}}(jQuery),"undefined"==typeof butter&&(butter={}),butter.link={},butter.link.disableOnClick=function(t,e,n,i,o,s,l,r){var a="error"===t.type?"error":t.status,u=$(document.getElementById(t.source.id));switch(a){case"begin":u.addClass("disabled");var c=u.find(".butter-component-glyphicon");l&&c.hide(),s.length>0&&(c.removeAttr("class"),c.addClass("butter-component-glyphicon"),c.addClass(s),i.length>0&&0==o.length&&c.addClass("butter-component-glyphicon-width-margin")),e&&(u.find(".butter-component-glyphicon-processing").startDots(),u.find(".butter-component-glyphicon-processing").css("display","inline-block"),u.find(".butter-component-glyphicon-text").html(i)),"undefined"!=r&&new ButterFaces.Overlay(0,!1,r).show();break;case"complete":break;case"success":case"error":u.removeClass("disabled"),e&&(u.find(".butter-component-glyphicon-processing").stopDots(),u.find(".butter-component-glyphicon-processing").css("display","none"),u.find(".butter-component-glyphicon-text").html(n?n:""));var c=u.find(".butter-component-glyphicon");c.removeAttr("class"),c.addClass("butter-component-glyphicon"),l&&c.show(),o.length>0&&c.addClass(o),"undefined"!=r&&new ButterFaces.Overlay(0,!1,r).hide()}},function(t){t.fn.markdownReadonly=function(){var e=t(this),n=e.find(".butter-component-value-readonly-wrapper"),i=n.html().replace("&gt;",">"),o=markdown.toHTML(i);n.empty(),n.append(o)}}(jQuery),"undefined"==typeof butter&&(butter={}),butter.modal={},butter.modal.open=function(t){$(".butter-modal[data-modal-id="+t+"]").modal({show:!0,keyboard:!1,backdrop:"static"})},butter.modal.close=function(t){$(".butter-modal[data-modal-id="+t+"]").modal("hide")},function(t){t.fn.butterNumberSpinner=function(t){return this.each(function(){new e(this,t)})};var e=Class.extend({init:function(e,n){this.$input=t(e).find("input"),this._initInput(),this._initOptions(n),this._counter=null,this.setCounter(0),this._isValueSet=!1,this._initButtons(),this._initArrowKeys(),this._initMouseWheel()},_initInput:function(){var t=this;this.$input.addClass("butter-component-number-input").blur(function(){t._setValueOnBlur()}).parent().addClass("input-group")},_initOptions:function(e){var n={step:1,disabled:!1};this._options=t.extend({},n,e),void 0!==this._options.step&&(this._options.step=1*this._options.step),void 0!==this._options.min&&(this._options.min=1*this._options.min),void 0!==this._options.max&&(this._options.max=1*this._options.max)},_initButtons:function(){var e=t("<span>").addClass("input-group-addon").addClass("butter-component-number-buttons").insertAfter(this.$input),n=this;t("<span>").addClass("glyphicon glyphicon-chevron-up").addClass("butter-component-number-button").addClass(function(){return n._options.disabled?"disabled":""}).click(function(){n._options.disabled||n.increaseCounter()}).appendTo(e),t("<span>").addClass("glyphicon glyphicon-chevron-down").addClass("butter-component-number-button").addClass(function(){return n._options.disabled?"disabled":""}).click(function(){n._options.disabled||n.decreaseCounter()}).appendTo(e)},_initArrowKeys:function(){var t=this;this.$input.keydown(function(e){38===e.which?(e.stopPropagation(),e.preventDefault(),t.increaseCounter()):40===e.which&&(e.stopPropagation(),e.preventDefault(),t.decreaseCounter())})},_initMouseWheel:function(){var t=this;this.$input.on("mousewheel DOMMouseScroll",function(e){if(t.$input.is(":focus")){var n=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),0>n?t.decreaseCounter():t.increaseCounter()}})},_setValueOnBlur:function(){var t=this.$input.val();if(this._isStringEmpty(t))this.$input.val(""),this.setCounter(0),this._isValueSet=!1;else{var e=parseInt(t);isNaN(e)?this._isValueSet?this.$input.val(this._counter):(this.$input.val(""),this.setCounter(0),this._isValueSet=!1):(this.setCounter(e),this.$input.val(this._counter),this._isValueSet=!0)}},increaseCounter:function(){this._isValueSet?this.setCounter(this._counter+this._options.step):this._isValueSet=!0,this.$input.val(this._counter),this.$input.change()},decreaseCounter:function(){this._isValueSet?this.setCounter(this._counter-this._options.step):this._isValueSet=!0,this.$input.val(this._counter),this.$input.change()},_isStringEmpty:function(t){return 0===t.length||!t.trim()},setCounter:function(t){void 0!==this._options.min&&t<this._options.min?this._counter=this._options.min:void 0!==this._options.max&&t>this._options.max?this._counter=this._options.max:this._counter=t}})}(jQuery),"undefined"==typeof butter&&(butter={}),butter.prettyprint={},butter.prettyprint.cleanup=function(){prettyPrint(),jQuery(".butter-component-prettyprint").each(function(){var t=jQuery(this).find("pre span").first(),e=jQuery(this).find("pre span").last();"undefined"!=typeof t.html()&&(t.html().trim()||t.remove()),"undefined"!=typeof e.html()&&(e.html().trim()||e.remove())})},function(t){t.fn.butterScrollToFirst=function(e){var n=void 0===e?t(this).first().offset().top:t(this).first().offset().top+e;t("html, body").animate({scrollTop:n+"px"},"fast")},t.fn.butterScrollToLast=function(e){var n=void 0===e?t(this).last().offset().top:t(this).last().offset().top+e;t("html, body").animate({scrollTop:n+"px"},"fast")}}(jQuery),function(t){t.fn.toggleColumnVisibilty=function(e,n){function i(e){var n=[];return e.find(".butter-table-toolbar-column-option input[type=checkbox]").each(function(e,i){var o=t(i).parent(".butter-table-toolbar-column-option");n.push({identifier:o.attr("data-column-model-identifier"),visible:o.find("input[type=checkbox]").is(":checked")})}),n}return this.each(function(){var o=t(this),s=JSON.stringify(i(o));ButterFaces.Ajax.sendRequest(o.attr("id"),"toggle",e,s,n)})},t.fn.orderColumn=function(e,n,i,o){function s(e){var n=[];return e.find(".butter-table-toolbar-column-option input[type=checkbox]").each(function(e,i){var o=t(i).parent(".butter-table-toolbar-column-option");n.push({identifier:o.attr("data-column-model-identifier"),position:e})}),n}function l(t,e){var n=t.find('li[data-original-column="'+e+'"]'),i=n.prev(),o=n.detach();i.before(o)}function r(t,e){var n=t.find('li[data-original-column="'+e+'"]'),i=n.next(),o=n.detach();i.after(o)}return this.each(function(){var a=t(this);i?l(a,o):r(a,o);var u=JSON.stringify(s(a));ButterFaces.Ajax.sendRequest(a.attr("id"),"order",e,u,n)})}}(jQuery),function(t){t.fn._butterTagsInit=function(){var e=t(this),n=e.find(".tr-input-wrapper");n.addClass("form-control")}}(jQuery),function(t){t.fn._butterTooltip=function(e){var n=t(this),i=jQuery("[name="+e.contentByName+"]"),o={trigger:e.trigger,title:e.title,placement:e.placement,placementFunction:e.placementFunction,minVerticalOffset:e.minVerticalOffset,minHorizontalOffset:e.minHorizontalOffset,content:i.html().trim()};i.remove(),n.butterTooltip(o)},t.fn.butterTooltip=function(e){return this.each(function(){var n=t(this),i=(new ButterFaces.Tooltip,e.trigger?e.trigger:"hover");e.minVerticalOffset&&n.attr("data-tooltip-min-vertical-offset",e.minVerticalOffset),e.minHorizontalOffset&&n.attr("data-tooltip-min-horizontal-offset",e.minHorizontalOffset),n.next().hasClass("popover")&&n.next().remove(),n.popover({trigger:i,placement:function(t,n){return e.placement?e.placement:e.placementFunction?e.placementFunction:(new ButterFaces.Tooltip).calculateTooltipPosition(t,n)},title:e.title,html:"true",content:e.content,viewport:e.viewport})})}}(jQuery);