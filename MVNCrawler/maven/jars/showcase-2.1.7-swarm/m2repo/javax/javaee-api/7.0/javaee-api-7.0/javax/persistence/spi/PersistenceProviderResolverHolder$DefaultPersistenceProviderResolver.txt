Compiled from "PersistenceProviderResolverHolder.java"
class javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver implements javax.persistence.spi.PersistenceProviderResolver {
  private volatile java.util.HashMap<javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$CacheKey, javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$PersistenceProviderReference> providers;

  private static final java.lang.ref.ReferenceQueue referenceQueue;

  private static final java.lang.String LOGGER_SUBSYSTEM;

  private java.util.logging.Logger logger;

  private static final java.lang.String SERVICE_PROVIDER_FILE;

  private static final java.util.regex.Pattern nonCommentPattern;

  private javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver();
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #4                  // class java/util/HashMap
       8: dup
       9: invokespecial #5                  // Method java/util/HashMap."<init>":()V
      12: putfield      #6                  // Field providers:Ljava/util/HashMap;
      15: return

  public java.util.List<javax.persistence.spi.PersistenceProvider> getPersistenceProviders();
    Code:
       0: aload_0
       1: invokespecial #7                  // Method processQueue:()V
       4: invokestatic  #8                  // Method getContextClassLoader:()Ljava/lang/ClassLoader;
       7: astore_1
       8: new           #9                  // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$CacheKey
      11: dup
      12: aload_0
      13: aload_1
      14: invokespecial #10                 // Method javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$CacheKey."<init>":(Ljavax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver;Ljava/lang/ClassLoader;)V
      17: astore_2
      18: aload_0
      19: getfield      #6                  // Field providers:Ljava/util/HashMap;
      22: aload_2
      23: invokevirtual #11                 // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      26: checkcast     #12                 // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$PersistenceProviderReference
      29: astore_3
      30: aconst_null
      31: astore        4
      33: aload_3
      34: ifnull        46
      37: aload_3
      38: invokevirtual #13                 // Method javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$PersistenceProviderReference.get:()Ljava/lang/Object;
      41: checkcast     #14                 // class java/util/List
      44: astore        4
      46: aload         4
      48: ifnonnull     376
      51: aload_0
      52: aload_1
      53: invokespecial #15                 // Method getProviderNames:(Ljava/lang/ClassLoader;)Ljava/util/Collection;
      56: astore        5
      58: new           #16                 // class java/util/ArrayList
      61: dup
      62: invokespecial #17                 // Method java/util/ArrayList."<init>":()V
      65: astore        4
      67: aload         5
      69: invokeinterface #18,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      74: astore        6
      76: aload         6
      78: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      83: ifeq          276
      86: aload         6
      88: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      93: checkcast     #21                 // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName
      96: astore        7
      98: aload_1
      99: aload         7
     101: invokevirtual #22                 // Method javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName.getName:()Ljava/lang/String;
     104: invokevirtual #23                 // Method java/lang/ClassLoader.loadClass:(Ljava/lang/String;)Ljava/lang/Class;
     107: invokevirtual #24                 // Method java/lang/Class.newInstance:()Ljava/lang/Object;
     110: checkcast     #25                 // class javax/persistence/spi/PersistenceProvider
     113: astore        8
     115: aload         4
     117: aload         8
     119: invokeinterface #26,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     124: pop
     125: goto          273
     128: astore        8
     130: aload_0
     131: getstatic     #28                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     134: new           #29                 // class java/lang/StringBuilder
     137: dup
     138: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     141: aload         8
     143: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     146: ldc           #32                 // String :
     148: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: aload         7
     153: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     156: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     159: invokespecial #35                 // Method log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     162: goto          273
     165: astore        8
     167: aload_0
     168: getstatic     #28                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     171: new           #29                 // class java/lang/StringBuilder
     174: dup
     175: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     178: aload         8
     180: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     183: ldc           #32                 // String :
     185: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     188: aload         7
     190: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     193: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     196: invokespecial #35                 // Method log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     199: goto          273
     202: astore        8
     204: aload_0
     205: getstatic     #28                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     208: new           #29                 // class java/lang/StringBuilder
     211: dup
     212: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     215: aload         8
     217: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     220: ldc           #32                 // String :
     222: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     225: aload         7
     227: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     230: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     233: invokespecial #35                 // Method log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     236: goto          273
     239: astore        8
     241: aload_0
     242: getstatic     #28                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     245: new           #29                 // class java/lang/StringBuilder
     248: dup
     249: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     252: aload         8
     254: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     257: ldc           #32                 // String :
     259: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     262: aload         7
     264: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     267: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     270: invokespecial #35                 // Method log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     273: goto          76
     276: aload         4
     278: invokeinterface #39,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     283: ifeq          351
     286: aload         5
     288: invokeinterface #40,  1           // InterfaceMethod java/util/Collection.isEmpty:()Z
     293: ifne          351
     296: aload_0
     297: getstatic     #41                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     300: ldc           #42                 // String No valid providers found using:
     302: invokespecial #35                 // Method log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     305: aload         5
     307: invokeinterface #18,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     312: astore        6
     314: aload         6
     316: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     321: ifeq          351
     324: aload         6
     326: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     331: checkcast     #21                 // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName
     334: astore        7
     336: aload_0
     337: getstatic     #41                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
     340: aload         7
     342: invokevirtual #43                 // Method javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName.toString:()Ljava/lang/String;
     345: invokespecial #35                 // Method log:(Ljava/util/logging/Level;Ljava/lang/String;)V
     348: goto          314
     351: new           #12                 // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$PersistenceProviderReference
     354: dup
     355: aload_0
     356: aload         4
     358: getstatic     #1                  // Field referenceQueue:Ljava/lang/ref/ReferenceQueue;
     361: aload_2
     362: invokespecial #44                 // Method javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$PersistenceProviderReference."<init>":(Ljavax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver;Ljava/util/List;Ljava/lang/ref/ReferenceQueue;Ljavax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$CacheKey;)V
     365: astore_3
     366: aload_0
     367: getfield      #6                  // Field providers:Ljava/util/HashMap;
     370: aload_2
     371: aload_3
     372: invokevirtual #45                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     375: pop
     376: aload         4
     378: areturn
    Exception table:
       from    to  target type
          98   125   128   Class java/lang/ClassNotFoundException
          98   125   165   Class java/lang/InstantiationException
          98   125   202   Class java/lang/IllegalAccessException
          98   125   239   Class java/lang/ClassCastException

  private void processQueue();
    Code:
       0: getstatic     #1                  // Field referenceQueue:Ljava/lang/ref/ReferenceQueue;
       3: invokevirtual #46                 // Method java/lang/ref/ReferenceQueue.poll:()Ljava/lang/ref/Reference;
       6: checkcast     #47                 // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$CacheKeyReference
       9: dup
      10: astore_1
      11: ifnull        31
      14: aload_0
      15: getfield      #6                  // Field providers:Ljava/util/HashMap;
      18: aload_1
      19: invokeinterface #48,  1           // InterfaceMethod javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$CacheKeyReference.getCacheKey:()Ljavax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$CacheKey;
      24: invokevirtual #49                 // Method java/util/HashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      27: pop
      28: goto          0
      31: return

  private static java.lang.ClassLoader getContextClassLoader();
    Code:
       0: invokestatic  #50                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
       3: ifnonnull     13
       6: invokestatic  #51                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
       9: invokevirtual #52                 // Method java/lang/Thread.getContextClassLoader:()Ljava/lang/ClassLoader;
      12: areturn
      13: new           #53                 // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$1
      16: dup
      17: invokespecial #54                 // Method javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$1."<init>":()V
      20: invokestatic  #55                 // Method java/security/AccessController.doPrivileged:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      23: checkcast     #56                 // class java/lang/ClassLoader
      26: areturn

  private void log(java.util.logging.Level, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #57                 // Field logger:Ljava/util/logging/Logger;
       4: ifnonnull     16
       7: aload_0
       8: ldc           #58                 // String javax.persistence.spi
      10: invokestatic  #59                 // Method java/util/logging/Logger.getLogger:(Ljava/lang/String;)Ljava/util/logging/Logger;
      13: putfield      #57                 // Field logger:Ljava/util/logging/Logger;
      16: aload_0
      17: getfield      #57                 // Field logger:Ljava/util/logging/Logger;
      20: aload_1
      21: new           #29                 // class java/lang/StringBuilder
      24: dup
      25: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      28: ldc           #60                 // String javax.persistence.spi::
      30: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_2
      34: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      40: invokevirtual #61                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;)V
      43: return

  private java.util.Collection<javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName> getProviderNames(java.lang.ClassLoader);
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: ldc           #62                 // String META-INF/services/javax.persistence.spi.PersistenceProvider
       5: invokevirtual #63                 // Method java/lang/ClassLoader.getResources:(Ljava/lang/String;)Ljava/util/Enumeration;
       8: astore_2
       9: goto          56
      12: astore_3
      13: new           #65                 // class javax/persistence/PersistenceException
      16: dup
      17: new           #29                 // class java/lang/StringBuilder
      20: dup
      21: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      24: ldc           #66                 // String IOException caught:
      26: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: aload_1
      30: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      33: ldc           #67                 // String .getResources(
      35: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: ldc           #62                 // String META-INF/services/javax.persistence.spi.PersistenceProvider
      40: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: ldc           #68                 // String )
      45: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      51: aload_3
      52: invokespecial #69                 // Method javax/persistence/PersistenceException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      55: athrow
      56: new           #16                 // class java/util/ArrayList
      59: dup
      60: invokespecial #17                 // Method java/util/ArrayList."<init>":()V
      63: astore_3
      64: aload_2
      65: invokeinterface #70,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      70: ifeq          94
      73: aload_2
      74: invokeinterface #71,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      79: checkcast     #72                 // class java/net/URL
      82: astore        4
      84: aload_0
      85: aload         4
      87: aload_3
      88: invokespecial #73                 // Method addProviderNames:(Ljava/net/URL;Ljava/util/Collection;)V
      91: goto          64
      94: aload_3
      95: areturn
    Exception table:
       from    to  target type
           2     9    12   Class java/io/IOException

  private void addProviderNames(java.net.URL, java.util.Collection<javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName>);
    Code:
       0: aconst_null
       1: astore_3
       2: aload_1
       3: invokevirtual #74                 // Method java/net/URL.openStream:()Ljava/io/InputStream;
       6: astore_3
       7: new           #75                 // class java/io/BufferedReader
      10: dup
      11: new           #76                 // class java/io/InputStreamReader
      14: dup
      15: aload_3
      16: invokespecial #77                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;)V
      19: invokespecial #78                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      22: astore        4
      24: aload         4
      26: invokevirtual #79                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
      29: dup
      30: astore        5
      32: ifnull        87
      35: aload         5
      37: invokevirtual #80                 // Method java/lang/String.trim:()Ljava/lang/String;
      40: astore        5
      42: getstatic     #81                 // Field nonCommentPattern:Ljava/util/regex/Pattern;
      45: aload         5
      47: invokevirtual #82                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
      50: astore        6
      52: aload         6
      54: invokevirtual #83                 // Method java/util/regex/Matcher.find:()Z
      57: ifeq          84
      60: aload_2
      61: new           #21                 // class javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName
      64: dup
      65: aload_0
      66: aload         6
      68: invokevirtual #84                 // Method java/util/regex/Matcher.group:()Ljava/lang/String;
      71: invokevirtual #80                 // Method java/lang/String.trim:()Ljava/lang/String;
      74: aload_1
      75: invokespecial #85                 // Method javax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver$ProviderName."<init>":(Ljavax/persistence/spi/PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver;Ljava/lang/String;Ljava/net/URL;)V
      78: invokeinterface #86,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      83: pop
      84: goto          24
      87: aload_3
      88: ifnull        152
      91: aload_3
      92: invokevirtual #87                 // Method java/io/InputStream.close:()V
      95: goto          152
      98: astore        4
     100: goto          152
     103: astore        4
     105: new           #65                 // class javax/persistence/PersistenceException
     108: dup
     109: new           #29                 // class java/lang/StringBuilder
     112: dup
     113: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     116: ldc           #88                 // String IOException caught reading:
     118: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     121: aload_1
     122: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     125: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     128: aload         4
     130: invokespecial #69                 // Method javax/persistence/PersistenceException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     133: athrow
     134: astore        7
     136: aload_3
     137: ifnull        149
     140: aload_3
     141: invokevirtual #87                 // Method java/io/InputStream.close:()V
     144: goto          149
     147: astore        8
     149: aload         7
     151: athrow
     152: return
    Exception table:
       from    to  target type
          91    95    98   Class java/io/IOException
           2    87   103   Class java/io/IOException
           2    87   134   any
         140   144   147   Class java/io/IOException
         103   136   134   any

  public void clearCachedProviders();
    Code:
       0: aload_0
       1: getfield      #6                  // Field providers:Ljava/util/HashMap;
       4: invokevirtual #89                 // Method java/util/HashMap.clear:()V
       7: return

  javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver(javax.persistence.spi.PersistenceProviderResolverHolder$1);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method "<init>":()V
       4: return

  static java.lang.ref.ReferenceQueue access$100();
    Code:
       0: getstatic     #1                  // Field referenceQueue:Ljava/lang/ref/ReferenceQueue;
       3: areturn

  static {};
    Code:
       0: new           #90                 // class java/lang/ref/ReferenceQueue
       3: dup
       4: invokespecial #91                 // Method java/lang/ref/ReferenceQueue."<init>":()V
       7: putstatic     #1                  // Field referenceQueue:Ljava/lang/ref/ReferenceQueue;
      10: ldc           #92                 // String ^([^#]+)
      12: invokestatic  #93                 // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      15: putstatic     #81                 // Field nonCommentPattern:Ljava/util/regex/Pattern;
      18: return
}
