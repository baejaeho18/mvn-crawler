Compiled from "ProxyHandler.java"
class io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction implements java.lang.Runnable {
  private final io.undertow.server.handlers.proxy.ProxyConnection clientConnection;

  private final io.undertow.server.HttpServerExchange exchange;

  private final java.util.Map<io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute> requestHeaders;

  private final boolean rewriteHostHeader;

  private final boolean reuseXForwarded;

  public io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction(io.undertow.server.handlers.proxy.ProxyConnection, io.undertow.server.HttpServerExchange, java.util.Map<io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute>, boolean, boolean);
    Code:
       0: aload_0
       1: invokespecial #6                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
       9: aload_0
      10: aload_2
      11: putfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      14: aload_0
      15: aload_3
      16: putfield      #3                  // Field requestHeaders:Ljava/util/Map;
      19: aload_0
      20: iload         4
      22: putfield      #2                  // Field rewriteHostHeader:Z
      25: aload_0
      26: iload         5
      28: putfield      #1                  // Field reuseXForwarded:Z
      31: return

  public void run();
    Code:
       0: new           #7                  // class io/undertow/client/ClientRequest
       3: dup
       4: invokespecial #8                  // Method io/undertow/client/ClientRequest."<init>":()V
       7: astore_1
       8: new           #9                  // class java/lang/StringBuilder
      11: dup
      12: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      15: astore_2
      16: aload_0
      17: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      20: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.getRelativePath:()Ljava/lang/String;
      23: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
      26: ifeq          51
      29: aload_2
      30: aload_0
      31: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      34: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      37: aload_0
      38: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      41: invokestatic  #14                 // Method io/undertow/server/handlers/proxy/ProxyHandler.access$500:(Ljava/lang/String;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
      44: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: pop
      48: goto          147
      51: aload_0
      52: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      55: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      58: ldc           #16                 // String /
      60: invokevirtual #17                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
      63: ifeq          116
      66: aload_2
      67: aload_0
      68: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      71: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      74: iconst_0
      75: aload_0
      76: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      79: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      82: invokevirtual #18                 // Method java/lang/String.length:()I
      85: iconst_1
      86: isub
      87: invokevirtual #19                 // Method java/lang/String.substring:(II)Ljava/lang/String;
      90: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: pop
      94: aload_2
      95: aload_0
      96: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      99: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.getRelativePath:()Ljava/lang/String;
     102: aload_0
     103: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     106: invokestatic  #14                 // Method io/undertow/server/handlers/proxy/ProxyHandler.access$500:(Ljava/lang/String;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
     109: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: pop
     113: goto          147
     116: aload_2
     117: aload_0
     118: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     121: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
     124: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: astore_2
     128: aload_2
     129: aload_0
     130: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     133: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.getRelativePath:()Ljava/lang/String;
     136: aload_0
     137: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     140: invokestatic  #14                 // Method io/undertow/server/handlers/proxy/ProxyHandler.access$500:(Ljava/lang/String;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
     143: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     146: pop
     147: iconst_1
     148: istore_3
     149: aload_0
     150: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     153: invokevirtual #20                 // Method io/undertow/server/HttpServerExchange.getPathParameters:()Ljava/util/Map;
     156: invokeinterface #21,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     161: ifne          314
     164: aload_2
     165: bipush        59
     167: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     170: pop
     171: aload_0
     172: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     175: invokevirtual #20                 // Method io/undertow/server/HttpServerExchange.getPathParameters:()Ljava/util/Map;
     178: invokeinterface #23,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     183: invokeinterface #24,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     188: astore        4
     190: aload         4
     192: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     197: ifeq          314
     200: aload         4
     202: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     207: checkcast     #27                 // class java/util/Map$Entry
     210: astore        5
     212: iload_3
     213: ifeq          221
     216: iconst_0
     217: istore_3
     218: goto          228
     221: aload_2
     222: bipush        38
     224: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     227: pop
     228: aload         5
     230: invokeinterface #28,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     235: checkcast     #29                 // class java/util/Deque
     238: invokeinterface #30,  1           // InterfaceMethod java/util/Deque.iterator:()Ljava/util/Iterator;
     243: astore        6
     245: aload         6
     247: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     252: ifeq          311
     255: aload         6
     257: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     262: checkcast     #31                 // class java/lang/String
     265: astore        7
     267: aload_2
     268: aload         5
     270: invokeinterface #32,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     275: checkcast     #31                 // class java/lang/String
     278: getstatic     #33                 // Field io/undertow/server/handlers/proxy/ProxyHandler.UTF_8:Ljava/lang/String;
     281: invokestatic  #34                 // Method java/net/URLEncoder.encode:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     284: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     287: pop
     288: aload_2
     289: bipush        61
     291: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     294: pop
     295: aload_2
     296: aload         7
     298: getstatic     #33                 // Field io/undertow/server/handlers/proxy/ProxyHandler.UTF_8:Ljava/lang/String;
     301: invokestatic  #34                 // Method java/net/URLEncoder.encode:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     304: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     307: pop
     308: goto          245
     311: goto          190
     314: aload_0
     315: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     318: invokevirtual #35                 // Method io/undertow/server/HttpServerExchange.getQueryString:()Ljava/lang/String;
     321: astore        4
     323: aload         4
     325: ifnull        350
     328: aload         4
     330: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
     333: ifne          350
     336: aload_2
     337: bipush        63
     339: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     342: pop
     343: aload_2
     344: aload         4
     346: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     349: pop
     350: goto          374
     353: astore_3
     354: aload_0
     355: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     358: sipush        500
     361: invokevirtual #38                 // Method io/undertow/server/HttpServerExchange.setStatusCode:(I)Lio/undertow/server/HttpServerExchange;
     364: pop
     365: aload_0
     366: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     369: invokevirtual #39                 // Method io/undertow/server/HttpServerExchange.endExchange:()Lio/undertow/server/HttpServerExchange;
     372: pop
     373: return
     374: aload_1
     375: aload_2
     376: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     379: invokevirtual #41                 // Method io/undertow/client/ClientRequest.setPath:(Ljava/lang/String;)Lio/undertow/client/ClientRequest;
     382: aload_0
     383: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     386: invokevirtual #42                 // Method io/undertow/server/HttpServerExchange.getRequestMethod:()Lio/undertow/util/HttpString;
     389: invokevirtual #43                 // Method io/undertow/client/ClientRequest.setMethod:(Lio/undertow/util/HttpString;)Lio/undertow/client/ClientRequest;
     392: pop
     393: aload_0
     394: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     397: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     400: astore_3
     401: aload_1
     402: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     405: astore        4
     407: aload         4
     409: aload_3
     410: invokestatic  #46                 // Method io/undertow/server/handlers/proxy/ProxyHandler.copyHeaders:(Lio/undertow/util/HeaderMap;Lio/undertow/util/HeaderMap;)V
     413: aload_0
     414: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     417: invokevirtual #47                 // Method io/undertow/server/HttpServerExchange.isPersistent:()Z
     420: ifne          434
     423: aload         4
     425: getstatic     #48                 // Field io/undertow/util/Headers.CONNECTION:Lio/undertow/util/HttpString;
     428: ldc           #49                 // String keep-alive
     430: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     433: pop
     434: ldc           #51                 // String h2c
     436: aload_0
     437: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     440: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     443: getstatic     #52                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
     446: invokevirtual #53                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     449: invokevirtual #54                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     452: ifeq          480
     455: aload_0
     456: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     459: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     462: getstatic     #52                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
     465: invokevirtual #55                 // Method io/undertow/util/HeaderMap.remove:(Lio/undertow/util/HttpString;)Ljava/util/Collection;
     468: pop
     469: aload         4
     471: getstatic     #48                 // Field io/undertow/util/Headers.CONNECTION:Lio/undertow/util/HttpString;
     474: ldc           #49                 // String keep-alive
     476: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     479: pop
     480: aload_0
     481: getfield      #3                  // Field requestHeaders:Ljava/util/Map;
     484: invokeinterface #23,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     489: invokeinterface #24,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     494: astore        5
     496: aload         5
     498: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     503: ifeq          599
     506: aload         5
     508: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     513: checkcast     #27                 // class java/util/Map$Entry
     516: astore        6
     518: aload         6
     520: invokeinterface #28,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     525: checkcast     #56                 // class io/undertow/attribute/ExchangeAttribute
     528: aload_0
     529: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     532: invokeinterface #57,  2           // InterfaceMethod io/undertow/attribute/ExchangeAttribute.readAttribute:(Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
     537: astore        7
     539: aload         7
     541: ifnull        552
     544: aload         7
     546: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
     549: ifeq          571
     552: aload         4
     554: aload         6
     556: invokeinterface #32,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     561: checkcast     #58                 // class io/undertow/util/HttpString
     564: invokevirtual #55                 // Method io/undertow/util/HeaderMap.remove:(Lio/undertow/util/HttpString;)Ljava/util/Collection;
     567: pop
     568: goto          596
     571: aload         4
     573: aload         6
     575: invokeinterface #32,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     580: checkcast     #58                 // class io/undertow/util/HttpString
     583: aload         7
     585: bipush        10
     587: bipush        32
     589: invokevirtual #59                 // Method java/lang/String.replace:(CC)Ljava/lang/String;
     592: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     595: pop
     596: goto          496
     599: aload_0
     600: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     603: invokevirtual #60                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     606: invokevirtual #61                 // Method io/undertow/server/ServerConnection.getPeerAddress:()Ljava/net/SocketAddress;
     609: astore        5
     611: aload         5
     613: ifnull        635
     616: aload         5
     618: instanceof    #62                 // class java/net/InetSocketAddress
     621: ifeq          635
     624: aload         5
     626: checkcast     #62                 // class java/net/InetSocketAddress
     629: invokevirtual #63                 // Method java/net/InetSocketAddress.getHostString:()Ljava/lang/String;
     632: goto          637
     635: ldc           #64                 // String localhost
     637: astore        6
     639: aload_1
     640: getstatic     #65                 // Field io/undertow/client/ProxiedRequestAttachments.REMOTE_HOST:Lio/undertow/util/AttachmentKey;
     643: aload         6
     645: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     648: pop
     649: aload_0
     650: getfield      #1                  // Field reuseXForwarded:Z
     653: ifeq          749
     656: aload_1
     657: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     660: getstatic     #67                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     663: invokevirtual #68                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     666: ifeq          749
     669: aload_1
     670: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     673: getstatic     #67                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     676: invokevirtual #53                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     679: astore        7
     681: aload         7
     683: ifnull        694
     686: aload         7
     688: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
     691: ifeq          710
     694: aload_1
     695: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     698: getstatic     #67                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     701: aload         6
     703: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     706: pop
     707: goto          746
     710: aload_1
     711: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     714: getstatic     #67                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     717: new           #9                  // class java/lang/StringBuilder
     720: dup
     721: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     724: aload         7
     726: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     729: ldc           #69                 // String ,
     731: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     734: aload         6
     736: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     739: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     742: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     745: pop
     746: goto          762
     749: aload_1
     750: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     753: getstatic     #67                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     756: aload         6
     758: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     761: pop
     762: aload_0
     763: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     766: invokevirtual #60                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     769: invokevirtual #70                 // Method io/undertow/server/ServerConnection.isPushSupported:()Z
     772: ifne          803
     775: aload_0
     776: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     779: invokevirtual #71                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
     782: invokeinterface #72,  1           // InterfaceMethod io/undertow/client/ClientConnection.isPushSupported:()Z
     787: ifeq          803
     790: aload_1
     791: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     794: getstatic     #73                 // Field io/undertow/util/Headers.X_DISABLE_PUSH:Lio/undertow/util/HttpString;
     797: ldc           #74                 // String true
     799: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     802: pop
     803: aload_0
     804: getfield      #1                  // Field reuseXForwarded:Z
     807: ifeq          862
     810: aload_0
     811: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     814: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     817: getstatic     #75                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     820: invokevirtual #68                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     823: ifeq          862
     826: aload_0
     827: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     830: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     833: getstatic     #75                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     836: invokevirtual #53                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     839: astore        7
     841: aload_1
     842: getstatic     #76                 // Field io/undertow/client/ProxiedRequestAttachments.IS_SSL:Lio/undertow/util/AttachmentKey;
     845: aload         7
     847: ldc           #77                 // String https
     849: invokevirtual #54                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     852: invokestatic  #78                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     855: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     858: pop
     859: goto          917
     862: aload_0
     863: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     866: invokevirtual #79                 // Method io/undertow/server/HttpServerExchange.getRequestScheme:()Ljava/lang/String;
     869: ldc           #77                 // String https
     871: invokevirtual #54                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     874: ifeq          882
     877: ldc           #77                 // String https
     879: goto          884
     882: ldc           #80                 // String http
     884: astore        7
     886: aload_1
     887: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     890: getstatic     #75                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     893: aload         7
     895: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     898: pop
     899: aload_1
     900: getstatic     #76                 // Field io/undertow/client/ProxiedRequestAttachments.IS_SSL:Lio/undertow/util/AttachmentKey;
     903: aload         7
     905: ldc           #77                 // String https
     907: invokevirtual #54                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     910: invokestatic  #78                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     913: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     916: pop
     917: aload_0
     918: getfield      #1                  // Field reuseXForwarded:Z
     921: ifeq          968
     924: aload_0
     925: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     928: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     931: getstatic     #81                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     934: invokevirtual #68                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     937: ifeq          968
     940: aload_0
     941: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     944: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     947: getstatic     #81                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     950: invokevirtual #53                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     953: astore        7
     955: aload_1
     956: getstatic     #82                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_NAME:Lio/undertow/util/AttachmentKey;
     959: aload         7
     961: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     964: pop
     965: goto          1000
     968: aload_0
     969: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     972: invokevirtual #83                 // Method io/undertow/server/HttpServerExchange.getHostName:()Ljava/lang/String;
     975: astore        7
     977: aload_1
     978: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     981: getstatic     #81                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     984: aload         7
     986: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     989: pop
     990: aload_1
     991: getstatic     #82                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_NAME:Lio/undertow/util/AttachmentKey;
     994: aload         7
     996: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     999: pop
    1000: aload_0
    1001: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1004: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1007: getstatic     #84                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
    1010: invokevirtual #68                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
    1013: ifne          1043
    1016: aload_0
    1017: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1020: invokevirtual #83                 // Method io/undertow/server/HttpServerExchange.getHostName:()Ljava/lang/String;
    1023: astore        7
    1025: aload         7
    1027: ifnull        1043
    1030: aload_1
    1031: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1034: getstatic     #84                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
    1037: aload         7
    1039: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1042: pop
    1043: aload_0
    1044: getfield      #1                  // Field reuseXForwarded:Z
    1047: ifeq          1152
    1050: aload_0
    1051: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1054: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1057: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1060: invokevirtual #68                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
    1063: ifeq          1152
    1066: aload_0
    1067: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1070: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1073: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1076: invokevirtual #53                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
    1079: invokestatic  #86                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
    1082: istore        7
    1084: aload_1
    1085: getstatic     #87                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
    1088: iload         7
    1090: invokestatic  #88                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1093: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1096: pop
    1097: goto          1199
    1100: astore        7
    1102: aload_0
    1103: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1106: invokevirtual #60                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
    1109: ldc           #62                 // class java/net/InetSocketAddress
    1111: invokevirtual #90                 // Method io/undertow/server/ServerConnection.getLocalAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
    1114: checkcast     #62                 // class java/net/InetSocketAddress
    1117: invokevirtual #91                 // Method java/net/InetSocketAddress.getPort:()I
    1120: istore        8
    1122: aload_1
    1123: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1126: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1129: iload         8
    1131: i2l
    1132: invokevirtual #92                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;J)Lio/undertow/util/HeaderMap;
    1135: pop
    1136: aload_1
    1137: getstatic     #87                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
    1140: iload         8
    1142: invokestatic  #88                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1145: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1148: pop
    1149: goto          1199
    1152: aload_0
    1153: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1156: invokevirtual #60                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
    1159: ldc           #62                 // class java/net/InetSocketAddress
    1161: invokevirtual #90                 // Method io/undertow/server/ServerConnection.getLocalAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
    1164: checkcast     #62                 // class java/net/InetSocketAddress
    1167: invokevirtual #91                 // Method java/net/InetSocketAddress.getPort:()I
    1170: istore        7
    1172: aload_1
    1173: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1176: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1179: iload         7
    1181: i2l
    1182: invokevirtual #92                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;J)Lio/undertow/util/HeaderMap;
    1185: pop
    1186: aload_1
    1187: getstatic     #87                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
    1190: iload         7
    1192: invokestatic  #88                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1195: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1198: pop
    1199: aload_0
    1200: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1203: invokevirtual #60                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
    1206: invokevirtual #93                 // Method io/undertow/server/ServerConnection.getSslSessionInfo:()Lio/undertow/server/SSLSessionInfo;
    1209: astore        7
    1211: aload         7
    1213: ifnull        1281
    1216: aload         7
    1218: invokeinterface #94,  1           // InterfaceMethod io/undertow/server/SSLSessionInfo.getPeerCertificateChain:()[Ljavax/security/cert/X509Certificate;
    1223: astore        8
    1225: aload         8
    1227: arraylength
    1228: ifle          1246
    1231: aload_1
    1232: getstatic     #95                 // Field io/undertow/client/ProxiedRequestAttachments.SSL_CERT:Lio/undertow/util/AttachmentKey;
    1235: aload         8
    1237: iconst_0
    1238: aaload
    1239: invokestatic  #96                 // Method io/undertow/util/Certificates.toPem:(Ljavax/security/cert/X509Certificate;)Ljava/lang/String;
    1242: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1245: pop
    1246: goto          1251
    1249: astore        9
    1251: aload_1
    1252: getstatic     #100                // Field io/undertow/client/ProxiedRequestAttachments.SSL_CYPHER:Lio/undertow/util/AttachmentKey;
    1255: aload         7
    1257: invokeinterface #101,  1          // InterfaceMethod io/undertow/server/SSLSessionInfo.getCipherSuite:()Ljava/lang/String;
    1262: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1265: pop
    1266: aload_1
    1267: getstatic     #102                // Field io/undertow/client/ProxiedRequestAttachments.SSL_SESSION_ID:Lio/undertow/util/AttachmentKey;
    1270: aload         7
    1272: invokeinterface #103,  1          // InterfaceMethod io/undertow/server/SSLSessionInfo.getSessionId:()[B
    1277: invokevirtual #66                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1280: pop
    1281: aload_0
    1282: getfield      #2                  // Field rewriteHostHeader:Z
    1285: ifeq          1373
    1288: aload_0
    1289: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1292: invokevirtual #71                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1295: ldc           #62                 // class java/net/InetSocketAddress
    1297: invokeinterface #104,  2          // InterfaceMethod io/undertow/client/ClientConnection.getPeerAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
    1302: checkcast     #62                 // class java/net/InetSocketAddress
    1305: astore        8
    1307: aload_1
    1308: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1311: getstatic     #105                // Field io/undertow/util/Headers.HOST:Lio/undertow/util/HttpString;
    1314: new           #9                  // class java/lang/StringBuilder
    1317: dup
    1318: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
    1321: aload         8
    1323: invokevirtual #63                 // Method java/net/InetSocketAddress.getHostString:()Ljava/lang/String;
    1326: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1329: ldc           #106                // String :
    1331: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1334: aload         8
    1336: invokevirtual #91                 // Method java/net/InetSocketAddress.getPort:()I
    1339: invokevirtual #107                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
    1342: invokevirtual #40                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1345: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1348: pop
    1349: aload_1
    1350: invokevirtual #45                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1353: getstatic     #84                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
    1356: aload_0
    1357: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1360: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1363: getstatic     #105                // Field io/undertow/util/Headers.HOST:Lio/undertow/util/HttpString;
    1366: invokevirtual #53                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
    1369: invokevirtual #50                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1372: pop
    1373: invokestatic  #108                // Method io/undertow/server/handlers/proxy/ProxyHandler.access$600:()Lorg/jboss/logging/Logger;
    1376: invokevirtual #109                // Method org/jboss/logging/Logger.isDebugEnabled:()Z
    1379: ifeq          1397
    1382: invokestatic  #108                // Method io/undertow/server/handlers/proxy/ProxyHandler.access$600:()Lorg/jboss/logging/Logger;
    1385: ldc           #110                // String Sending request %s to target %s for exchange %s
    1387: aload_1
    1388: aload         6
    1390: aload_0
    1391: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1394: invokevirtual #111                // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
    1397: aload_0
    1398: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1401: invokevirtual #71                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1404: aload_1
    1405: new           #112                // class io/undertow/server/handlers/proxy/ProxyHandler$ProxyAction$1
    1408: dup
    1409: aload_0
    1410: aload_1
    1411: aload         6
    1413: invokespecial #113                // Method io/undertow/server/handlers/proxy/ProxyHandler$ProxyAction$1."<init>":(Lio/undertow/server/handlers/proxy/ProxyHandler$ProxyAction;Lio/undertow/client/ClientRequest;Ljava/lang/String;)V
    1416: invokeinterface #114,  3          // InterfaceMethod io/undertow/client/ClientConnection.sendRequest:(Lio/undertow/client/ClientRequest;Lio/undertow/client/ClientCallback;)V
    1421: return
    Exception table:
       from    to  target type
          16   350   353   Class java/io/UnsupportedEncodingException
        1066  1097  1100   Class java/lang/NumberFormatException
        1216  1246  1249   Class javax/net/ssl/SSLPeerUnverifiedException
        1216  1246  1249   Class javax/security/cert/CertificateEncodingException
        1216  1246  1249   Class io/undertow/server/RenegotiationRequiredException

  static io.undertow.server.HttpServerExchange access$700(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
       4: areturn

  static io.undertow.server.handlers.proxy.ProxyConnection access$900(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
       4: areturn

  static java.util.Map access$1000(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #3                  // Field requestHeaders:Ljava/util/Map;
       4: areturn

  static boolean access$1100(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #2                  // Field rewriteHostHeader:Z
       4: ireturn

  static boolean access$1200(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #1                  // Field reuseXForwarded:Z
       4: ireturn
}
