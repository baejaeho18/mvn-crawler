Compiled from "ProxyHandler.java"
public final class io.undertow.server.handlers.proxy.ProxyHandler implements io.undertow.server.HttpHandler {
  private static final org.jboss.logging.Logger log;

  public static final java.lang.String UTF_8;

  private final io.undertow.server.handlers.proxy.ProxyClient proxyClient;

  private final int maxRequestTime;

  private static final io.undertow.util.AttachmentKey<io.undertow.server.handlers.proxy.ProxyConnection> CONNECTION;

  private static final io.undertow.util.AttachmentKey<io.undertow.server.HttpServerExchange> EXCHANGE;

  private static final io.undertow.util.AttachmentKey<org.xnio.XnioExecutor$Key> TIMEOUT_KEY;

  private final java.util.Map<io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute> requestHeaders;

  private final io.undertow.server.HttpHandler next;

  private final boolean rewriteHostHeader;

  private final boolean reuseXForwarded;

  public io.undertow.server.handlers.proxy.ProxyHandler(io.undertow.server.handlers.proxy.ProxyClient, int, io.undertow.server.HttpHandler);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_3
       4: iconst_0
       5: iconst_0
       6: invokespecial #9                  // Method "<init>":(Lio/undertow/server/handlers/proxy/ProxyClient;ILio/undertow/server/HttpHandler;ZZ)V
       9: return

  public io.undertow.server.handlers.proxy.ProxyHandler(io.undertow.server.handlers.proxy.ProxyClient, int, io.undertow.server.HttpHandler, boolean, boolean);
    Code:
       0: aload_0
       1: invokespecial #10                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #11                 // class io/undertow/util/CopyOnWriteMap
       8: dup
       9: invokespecial #12                 // Method io/undertow/util/CopyOnWriteMap."<init>":()V
      12: putfield      #6                  // Field requestHeaders:Ljava/util/Map;
      15: aload_0
      16: aload_1
      17: putfield      #8                  // Field proxyClient:Lio/undertow/server/handlers/proxy/ProxyClient;
      20: aload_0
      21: iload_2
      22: putfield      #13                 // Field maxRequestTime:I
      25: aload_0
      26: aload_3
      27: putfield      #14                 // Field next:Lio/undertow/server/HttpHandler;
      30: aload_0
      31: iload         4
      33: putfield      #5                  // Field rewriteHostHeader:Z
      36: aload_0
      37: iload         5
      39: putfield      #4                  // Field reuseXForwarded:Z
      42: return

  public io.undertow.server.handlers.proxy.ProxyHandler(io.undertow.server.handlers.proxy.ProxyClient, io.undertow.server.HttpHandler);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_m1
       3: aload_2
       4: invokespecial #15                 // Method "<init>":(Lio/undertow/server/handlers/proxy/ProxyClient;ILio/undertow/server/HttpHandler;)V
       7: return

  public void handleRequest(io.undertow.server.HttpServerExchange) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #8                  // Field proxyClient:Lio/undertow/server/handlers/proxy/ProxyClient;
       4: aload_1
       5: invokeinterface #16,  2           // InterfaceMethod io/undertow/server/handlers/proxy/ProxyClient.findTarget:(Lio/undertow/server/HttpServerExchange;)Lio/undertow/server/handlers/proxy/ProxyClient$ProxyTarget;
      10: astore_2
      11: aload_2
      12: ifnonnull     38
      15: getstatic     #2                  // Field log:Lorg/jboss/logging/Logger;
      18: ldc           #17                 // String No proxy target for request to %s
      20: aload_1
      21: invokevirtual #18                 // Method io/undertow/server/HttpServerExchange.getRequestURL:()Ljava/lang/String;
      24: invokevirtual #19                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
      27: aload_0
      28: getfield      #14                 // Field next:Lio/undertow/server/HttpHandler;
      31: aload_1
      32: invokeinterface #20,  2           // InterfaceMethod io/undertow/server/HttpHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
      37: return
      38: iconst_0
      39: istore_3
      40: aload_0
      41: getfield      #13                 // Field maxRequestTime:I
      44: ifle          59
      47: invokestatic  #21                 // Method java/lang/System.currentTimeMillis:()J
      50: aload_0
      51: getfield      #13                 // Field maxRequestTime:I
      54: i2l
      55: ladd
      56: goto          60
      59: lconst_0
      60: lstore        4
      62: new           #22                 // class io/undertow/server/handlers/proxy/ProxyHandler$ProxyClientHandler
      65: dup
      66: aload_0
      67: aload_1
      68: aload_2
      69: lload         4
      71: iconst_0
      72: invokespecial #23                 // Method io/undertow/server/handlers/proxy/ProxyHandler$ProxyClientHandler."<init>":(Lio/undertow/server/handlers/proxy/ProxyHandler;Lio/undertow/server/HttpServerExchange;Lio/undertow/server/handlers/proxy/ProxyClient$ProxyTarget;JI)V
      75: astore        6
      77: lload         4
      79: lconst_0
      80: lcmp
      81: ifle          137
      84: aload_1
      85: invokevirtual #24                 // Method io/undertow/server/HttpServerExchange.getIoThread:()Lorg/xnio/XnioIoThread;
      88: new           #25                 // class io/undertow/server/handlers/proxy/ProxyHandler$1
      91: dup
      92: aload_0
      93: aload         6
      95: aload_1
      96: invokespecial #26                 // Method io/undertow/server/handlers/proxy/ProxyHandler$1."<init>":(Lio/undertow/server/handlers/proxy/ProxyHandler;Lio/undertow/server/handlers/proxy/ProxyHandler$ProxyClientHandler;Lio/undertow/server/HttpServerExchange;)V
      99: aload_0
     100: getfield      #13                 // Field maxRequestTime:I
     103: i2l
     104: getstatic     #27                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     107: invokevirtual #28                 // Method org/xnio/XnioIoThread.executeAfter:(Ljava/lang/Runnable;JLjava/util/concurrent/TimeUnit;)Lorg/xnio/XnioExecutor$Key;
     110: astore        7
     112: aload_1
     113: getstatic     #29                 // Field TIMEOUT_KEY:Lio/undertow/util/AttachmentKey;
     116: aload         7
     118: invokevirtual #30                 // Method io/undertow/server/HttpServerExchange.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     121: pop
     122: aload_1
     123: new           #31                 // class io/undertow/server/handlers/proxy/ProxyHandler$2
     126: dup
     127: aload_0
     128: aload         7
     130: invokespecial #32                 // Method io/undertow/server/handlers/proxy/ProxyHandler$2."<init>":(Lio/undertow/server/handlers/proxy/ProxyHandler;Lorg/xnio/XnioExecutor$Key;)V
     133: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.addExchangeCompleteListener:(Lio/undertow/server/ExchangeCompletionListener;)Lio/undertow/server/HttpServerExchange;
     136: pop
     137: aload_1
     138: aload_1
     139: invokevirtual #34                 // Method io/undertow/server/HttpServerExchange.isInIoThread:()Z
     142: ifeq          151
     145: getstatic     #35                 // Field io/undertow/util/SameThreadExecutor.INSTANCE:Ljava/util/concurrent/Executor;
     148: goto          155
     151: aload_1
     152: invokevirtual #24                 // Method io/undertow/server/HttpServerExchange.getIoThread:()Lorg/xnio/XnioIoThread;
     155: aload         6
     157: invokevirtual #36                 // Method io/undertow/server/HttpServerExchange.dispatch:(Ljava/util/concurrent/Executor;Ljava/lang/Runnable;)Lio/undertow/server/HttpServerExchange;
     160: pop
     161: return

  public io.undertow.server.handlers.proxy.ProxyHandler addRequestHeader(io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute);
    Code:
       0: aload_0
       1: getfield      #6                  // Field requestHeaders:Ljava/util/Map;
       4: aload_1
       5: aload_2
       6: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      11: pop
      12: aload_0
      13: areturn

  public io.undertow.server.handlers.proxy.ProxyHandler addRequestHeader(io.undertow.util.HttpString, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #6                  // Field requestHeaders:Ljava/util/Map;
       4: aload_1
       5: aload_2
       6: invokestatic  #38                 // Method io/undertow/attribute/ExchangeAttributes.constant:(Ljava/lang/String;)Lio/undertow/attribute/ExchangeAttribute;
       9: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      14: pop
      15: aload_0
      16: areturn

  public io.undertow.server.handlers.proxy.ProxyHandler addRequestHeader(io.undertow.util.HttpString, java.lang.String, java.lang.ClassLoader);
    Code:
       0: aload_0
       1: getfield      #6                  // Field requestHeaders:Ljava/util/Map;
       4: aload_1
       5: aload_3
       6: invokestatic  #39                 // Method io/undertow/attribute/ExchangeAttributes.parser:(Ljava/lang/ClassLoader;)Lio/undertow/attribute/ExchangeAttributeParser;
       9: aload_2
      10: invokevirtual #40                 // Method io/undertow/attribute/ExchangeAttributeParser.parse:(Ljava/lang/String;)Lio/undertow/attribute/ExchangeAttribute;
      13: invokeinterface #37,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      18: pop
      19: aload_0
      20: areturn

  public io.undertow.server.handlers.proxy.ProxyHandler removeRequestHeader(io.undertow.util.HttpString);
    Code:
       0: aload_0
       1: getfield      #6                  // Field requestHeaders:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #41,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: pop
      11: aload_0
      12: areturn

  static void copyHeaders(io.undertow.util.HeaderMap, io.undertow.util.HeaderMap);
    Code:
       0: aload_1
       1: invokevirtual #42                 // Method io/undertow/util/HeaderMap.fastIterateNonEmpty:()J
       4: lstore_2
       5: lload_2
       6: ldc2_w        #43                 // long -1l
       9: lcmp
      10: ifeq          53
      13: aload_1
      14: lload_2
      15: invokevirtual #45                 // Method io/undertow/util/HeaderMap.fiCurrent:(J)Lio/undertow/util/HeaderValues;
      18: astore        4
      20: aload_0
      21: aload         4
      23: invokevirtual #46                 // Method io/undertow/util/HeaderValues.getHeaderName:()Lio/undertow/util/HttpString;
      26: invokevirtual #47                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
      29: ifne          44
      32: aload_0
      33: aload         4
      35: invokevirtual #46                 // Method io/undertow/util/HeaderValues.getHeaderName:()Lio/undertow/util/HttpString;
      38: aload         4
      40: invokevirtual #48                 // Method io/undertow/util/HeaderMap.putAll:(Lio/undertow/util/HttpString;Ljava/util/Collection;)Lio/undertow/util/HeaderMap;
      43: pop
      44: aload_1
      45: lload_2
      46: invokevirtual #49                 // Method io/undertow/util/HeaderMap.fiNextNonEmpty:(J)J
      49: lstore_2
      50: goto          5
      53: return

  public io.undertow.server.handlers.proxy.ProxyClient getProxyClient();
    Code:
       0: aload_0
       1: getfield      #8                  // Field proxyClient:Lio/undertow/server/handlers/proxy/ProxyClient;
       4: areturn

  private static java.lang.String encodeUrlPart(java.lang.String, io.undertow.server.HttpServerExchange) throws java.io.UnsupportedEncodingException;
    Code:
       0: aconst_null
       1: astore_2
       2: aconst_null
       3: astore_3
       4: iconst_0
       5: istore        4
       7: iload         4
       9: aload_0
      10: invokevirtual #50                 // Method java/lang/String.length:()I
      13: if_icmpge     253
      16: aload_0
      17: iload         4
      19: invokevirtual #51                 // Method java/lang/String.charAt:(I)C
      22: istore        5
      24: iload         5
      26: bipush        97
      28: if_icmplt     38
      31: iload         5
      33: bipush        122
      35: if_icmple     101
      38: iload         5
      40: bipush        65
      42: if_icmplt     52
      45: iload         5
      47: bipush        90
      49: if_icmple     101
      52: iload         5
      54: bipush        48
      56: if_icmplt     66
      59: iload         5
      61: bipush        57
      63: if_icmple     101
      66: iload         5
      68: bipush        46
      70: if_icmpeq     101
      73: iload         5
      75: bipush        45
      77: if_icmpeq     101
      80: iload         5
      82: bipush        42
      84: if_icmpeq     101
      87: iload         5
      89: bipush        95
      91: if_icmpeq     101
      94: iload         5
      96: bipush        47
      98: if_icmpne     115
     101: aload_2
     102: ifnull        247
     105: aload_2
     106: iload         5
     108: invokevirtual #52                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     111: pop
     112: goto          247
     115: aload_2
     116: ifnonnull     157
     119: new           #53                 // class java/lang/StringBuilder
     122: dup
     123: aload_0
     124: iconst_0
     125: iload         4
     127: invokevirtual #54                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     130: invokespecial #55                 // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
     133: astore_2
     134: aload_1
     135: invokevirtual #56                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     138: invokevirtual #57                 // Method io/undertow/server/ServerConnection.getUndertowOptions:()Lorg/xnio/OptionMap;
     141: getstatic     #58                 // Field io/undertow/UndertowOptions.URL_CHARSET:Lorg/xnio/Option;
     144: getstatic     #59                 // Field UTF_8:Ljava/lang/String;
     147: invokevirtual #60                 // Method org/xnio/OptionMap.get:(Lorg/xnio/Option;Ljava/lang/Object;)Ljava/lang/Object;
     150: checkcast     #61                 // class java/lang/String
     153: invokestatic  #62                 // Method java/nio/charset/Charset.forName:(Ljava/lang/String;)Ljava/nio/charset/Charset;
     156: astore_3
     157: iload         5
     159: bipush        127
     161: if_icmpge     197
     164: aload_3
     165: invokevirtual #63                 // Method java/nio/charset/Charset.name:()Ljava/lang/String;
     168: getstatic     #59                 // Field UTF_8:Ljava/lang/String;
     171: invokevirtual #64                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     174: ifeq          197
     177: aload_2
     178: bipush        37
     180: invokevirtual #52                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     183: pop
     184: aload_2
     185: iload         5
     187: invokestatic  #65                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
     190: invokevirtual #66                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     193: pop
     194: goto          247
     197: aload_3
     198: iload         5
     200: invokestatic  #67                 // Method java/lang/Character.toString:(C)Ljava/lang/String;
     203: invokevirtual #68                 // Method java/nio/charset/Charset.encode:(Ljava/lang/String;)Ljava/nio/ByteBuffer;
     206: astore        6
     208: aload         6
     210: invokevirtual #69                 // Method java/nio/ByteBuffer.hasRemaining:()Z
     213: ifeq          247
     216: aload         6
     218: invokevirtual #70                 // Method java/nio/ByteBuffer.get:()B
     221: istore        7
     223: aload_2
     224: bipush        37
     226: invokevirtual #52                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     229: pop
     230: aload_2
     231: iload         7
     233: sipush        255
     236: iand
     237: invokestatic  #65                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
     240: invokevirtual #66                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     243: pop
     244: goto          208
     247: iinc          4, 1
     250: goto          7
     253: aload_2
     254: ifnonnull     261
     257: aload_0
     258: goto          265
     261: aload_2
     262: invokevirtual #71                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     265: areturn

  static io.undertow.server.handlers.proxy.ProxyClient access$000(io.undertow.server.handlers.proxy.ProxyHandler);
    Code:
       0: aload_0
       1: getfield      #8                  // Field proxyClient:Lio/undertow/server/handlers/proxy/ProxyClient;
       4: areturn

  static io.undertow.util.AttachmentKey access$100();
    Code:
       0: getstatic     #7                  // Field CONNECTION:Lio/undertow/util/AttachmentKey;
       3: areturn

  static java.util.Map access$200(io.undertow.server.handlers.proxy.ProxyHandler);
    Code:
       0: aload_0
       1: getfield      #6                  // Field requestHeaders:Ljava/util/Map;
       4: areturn

  static boolean access$300(io.undertow.server.handlers.proxy.ProxyHandler);
    Code:
       0: aload_0
       1: getfield      #5                  // Field rewriteHostHeader:Z
       4: ireturn

  static boolean access$400(io.undertow.server.handlers.proxy.ProxyHandler);
    Code:
       0: aload_0
       1: getfield      #4                  // Field reuseXForwarded:Z
       4: ireturn

  static java.lang.String access$500(java.lang.String, io.undertow.server.HttpServerExchange) throws java.io.UnsupportedEncodingException;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #3                  // Method encodeUrlPart:(Ljava/lang/String;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
       5: areturn

  static org.jboss.logging.Logger access$600();
    Code:
       0: getstatic     #2                  // Field log:Lorg/jboss/logging/Logger;
       3: areturn

  static io.undertow.util.AttachmentKey access$800();
    Code:
       0: getstatic     #1                  // Field EXCHANGE:Lio/undertow/util/AttachmentKey;
       3: areturn

  static {};
    Code:
       0: ldc           #72                 // class io/undertow/server/handlers/proxy/ProxyHandler
       2: invokevirtual #73                 // Method java/lang/Class.getPackage:()Ljava/lang/Package;
       5: invokevirtual #74                 // Method java/lang/Package.getName:()Ljava/lang/String;
       8: invokestatic  #75                 // Method org/jboss/logging/Logger.getLogger:(Ljava/lang/String;)Lorg/jboss/logging/Logger;
      11: putstatic     #2                  // Field log:Lorg/jboss/logging/Logger;
      14: getstatic     #76                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      17: invokevirtual #63                 // Method java/nio/charset/Charset.name:()Ljava/lang/String;
      20: putstatic     #59                 // Field UTF_8:Ljava/lang/String;
      23: ldc           #77                 // class io/undertow/server/handlers/proxy/ProxyConnection
      25: invokestatic  #78                 // Method io/undertow/util/AttachmentKey.create:(Ljava/lang/Class;)Lio/undertow/util/AttachmentKey;
      28: putstatic     #7                  // Field CONNECTION:Lio/undertow/util/AttachmentKey;
      31: ldc           #79                 // class io/undertow/server/HttpServerExchange
      33: invokestatic  #78                 // Method io/undertow/util/AttachmentKey.create:(Ljava/lang/Class;)Lio/undertow/util/AttachmentKey;
      36: putstatic     #1                  // Field EXCHANGE:Lio/undertow/util/AttachmentKey;
      39: ldc           #80                 // class org/xnio/XnioExecutor$Key
      41: invokestatic  #78                 // Method io/undertow/util/AttachmentKey.create:(Ljava/lang/Class;)Lio/undertow/util/AttachmentKey;
      44: putstatic     #29                 // Field TIMEOUT_KEY:Lio/undertow/util/AttachmentKey;
      47: return
}
