Compiled from "Layout.java"
public class org.wildfly.swarm.bootstrap.util.Layout {
  private static org.wildfly.swarm.bootstrap.util.Layout INSTANCE;

  private final java.nio.file.Path root;

  private boolean uberJar;

  private boolean unpackedUberJar;

  private java.lang.ClassLoader bootstrapClassLoader;

  org.wildfly.swarm.bootstrap.util.Layout(java.security.CodeSource) throws java.io.IOException, java.net.URISyntaxException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: aload_1
       7: invokespecial #2                  // Method determineRoot:(Ljava/security/CodeSource;)Ljava/nio/file/Path;
      10: putfield      #3                  // Field root:Ljava/nio/file/Path;
      13: aload_0
      14: invokespecial #4                  // Method determineIfIsUberJar:()V
      17: return

  public static org.wildfly.swarm.bootstrap.util.Layout getInstance() throws java.io.IOException, java.net.URISyntaxException;
    Code:
       0: getstatic     #5                  // Field INSTANCE:Lorg/wildfly/swarm/bootstrap/util/Layout;
       3: ifnonnull     24
       6: new           #6                  // class org/wildfly/swarm/bootstrap/util/Layout
       9: dup
      10: ldc           #6                  // class org/wildfly/swarm/bootstrap/util/Layout
      12: invokevirtual #7                  // Method java/lang/Class.getProtectionDomain:()Ljava/security/ProtectionDomain;
      15: invokevirtual #8                  // Method java/security/ProtectionDomain.getCodeSource:()Ljava/security/CodeSource;
      18: invokespecial #9                  // Method "<init>":(Ljava/security/CodeSource;)V
      21: putstatic     #5                  // Field INSTANCE:Lorg/wildfly/swarm/bootstrap/util/Layout;
      24: getstatic     #5                  // Field INSTANCE:Lorg/wildfly/swarm/bootstrap/util/Layout;
      27: areturn

  public java.nio.file.Path getRoot();
    Code:
       0: aload_0
       1: getfield      #3                  // Field root:Ljava/nio/file/Path;
       4: areturn

  public boolean isUberJar();
    Code:
       0: aload_0
       1: getfield      #10                 // Field uberJar:Z
       4: ireturn

  public java.util.jar.Manifest getManifest() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getRoot:()Ljava/nio/file/Path;
       4: astore_1
       5: ldc           #12                 // String META-INF/MANIFEST.MF
       7: astore_2
       8: aload_0
       9: invokevirtual #13                 // Method isUberJar:()Z
      12: ifeq          219
      15: aload_0
      16: invokespecial #14                 // Method isUnpackedUberJar:()Z
      19: ifeq          55
      22: aload_1
      23: aload_2
      24: invokeinterface #15,  2           // InterfaceMethod java/nio/file/Path.resolve:(Ljava/lang/String;)Ljava/nio/file/Path;
      29: astore_3
      30: new           #16                 // class java/io/FileInputStream
      33: dup
      34: aload_3
      35: invokeinterface #17,  1           // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
      40: invokespecial #18                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      43: astore        4
      45: new           #19                 // class java/util/jar/Manifest
      48: dup
      49: aload         4
      51: invokespecial #20                 // Method java/util/jar/Manifest."<init>":(Ljava/io/InputStream;)V
      54: areturn
      55: new           #21                 // class java/util/jar/JarFile
      58: dup
      59: aload_1
      60: invokeinterface #17,  1           // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
      65: invokespecial #22                 // Method java/util/jar/JarFile."<init>":(Ljava/io/File;)V
      68: astore_3
      69: aconst_null
      70: astore        4
      72: aload_3
      73: aload_2
      74: invokevirtual #23                 // Method java/util/jar/JarFile.getEntry:(Ljava/lang/String;)Ljava/util/zip/ZipEntry;
      77: astore        5
      79: aload         5
      81: ifnull        138
      84: aload_3
      85: aload         5
      87: invokevirtual #24                 // Method java/util/jar/JarFile.getInputStream:(Ljava/util/zip/ZipEntry;)Ljava/io/InputStream;
      90: astore        6
      92: new           #19                 // class java/util/jar/Manifest
      95: dup
      96: aload         6
      98: invokespecial #20                 // Method java/util/jar/Manifest."<init>":(Ljava/io/InputStream;)V
     101: astore        7
     103: aload_3
     104: ifnull        135
     107: aload         4
     109: ifnull        131
     112: aload_3
     113: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     116: goto          135
     119: astore        8
     121: aload         4
     123: aload         8
     125: invokevirtual #27                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     128: goto          135
     131: aload_3
     132: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     135: aload         7
     137: areturn
     138: aload_3
     139: ifnull        219
     142: aload         4
     144: ifnull        166
     147: aload_3
     148: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     151: goto          219
     154: astore        5
     156: aload         4
     158: aload         5
     160: invokevirtual #27                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     163: goto          219
     166: aload_3
     167: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     170: goto          219
     173: astore        5
     175: aload         5
     177: astore        4
     179: aload         5
     181: athrow
     182: astore        9
     184: aload_3
     185: ifnull        216
     188: aload         4
     190: ifnull        212
     193: aload_3
     194: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     197: goto          216
     200: astore        10
     202: aload         4
     204: aload         10
     206: invokevirtual #27                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     209: goto          216
     212: aload_3
     213: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     216: aload         9
     218: athrow
     219: aconst_null
     220: areturn
    Exception table:
       from    to  target type
         112   116   119   Class java/lang/Throwable
         147   151   154   Class java/lang/Throwable
          72   103   173   Class java/lang/Throwable
          72   103   182   any
         193   197   200   Class java/lang/Throwable
         173   184   182   any

  public synchronized java.lang.ClassLoader getBootstrapClassLoader() throws org.jboss.modules.ModuleLoadException;
    Code:
       0: aload_0
       1: getfield      #28                 // Field bootstrapClassLoader:Ljava/lang/ClassLoader;
       4: ifnonnull     15
       7: aload_0
       8: aload_0
       9: invokespecial #29                 // Method determineBootstrapClassLoader:()Ljava/lang/ClassLoader;
      12: putfield      #28                 // Field bootstrapClassLoader:Ljava/lang/ClassLoader;
      15: aload_0
      16: getfield      #28                 // Field bootstrapClassLoader:Ljava/lang/ClassLoader;
      19: areturn

  private boolean isUnpackedUberJar();
    Code:
       0: aload_0
       1: getfield      #30                 // Field unpackedUberJar:Z
       4: ireturn

  private java.nio.file.Path determineRoot(java.security.CodeSource) throws java.io.IOException, java.net.URISyntaxException;
    Code:
       0: aload_1
       1: invokevirtual #31                 // Method java/security/CodeSource.getLocation:()Ljava/net/URL;
       4: astore_2
       5: aload_2
       6: invokevirtual #32                 // Method java/net/URL.getProtocol:()Ljava/lang/String;
       9: ldc           #33                 // String file
      11: invokevirtual #34                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      14: ifeq          25
      17: aload_2
      18: invokevirtual #35                 // Method java/net/URL.toURI:()Ljava/net/URI;
      21: invokestatic  #36                 // Method java/nio/file/Paths.get:(Ljava/net/URI;)Ljava/nio/file/Path;
      24: areturn
      25: new           #37                 // class java/io/IOException
      28: dup
      29: ldc           #38                 // String Unable to determine root
      31: invokespecial #39                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      34: athrow

  private void determineIfIsUberJar() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getRoot:()Ljava/nio/file/Path;
       4: astore_1
       5: ldc           #40                 // String META-INF/wildfly-swarm.properties
       7: astore_2
       8: aload_1
       9: iconst_0
      10: anewarray     #41                 // class java/nio/file/LinkOption
      13: invokestatic  #42                 // Method java/nio/file/Files.isRegularFile:(Ljava/nio/file/Path;[Ljava/nio/file/LinkOption;)Z
      16: ifeq          156
      19: new           #21                 // class java/util/jar/JarFile
      22: dup
      23: aload_1
      24: invokeinterface #17,  1           // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
      29: invokespecial #22                 // Method java/util/jar/JarFile."<init>":(Ljava/io/File;)V
      32: astore_3
      33: aconst_null
      34: astore        4
      36: aload_3
      37: aload_2
      38: invokevirtual #23                 // Method java/util/jar/JarFile.getEntry:(Ljava/lang/String;)Ljava/util/zip/ZipEntry;
      41: astore        5
      43: aload         5
      45: ifnull        72
      48: aload_3
      49: aload         5
      51: invokevirtual #24                 // Method java/util/jar/JarFile.getInputStream:(Ljava/util/zip/ZipEntry;)Ljava/io/InputStream;
      54: astore        6
      56: aload_0
      57: aload         6
      59: invokespecial #43                 // Method setupProperties:(Ljava/io/InputStream;)V
      62: aload_0
      63: iconst_1
      64: putfield      #10                 // Field uberJar:Z
      67: aload_0
      68: iconst_0
      69: putfield      #30                 // Field unpackedUberJar:Z
      72: aload_3
      73: ifnull        153
      76: aload         4
      78: ifnull        100
      81: aload_3
      82: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
      85: goto          153
      88: astore        5
      90: aload         4
      92: aload         5
      94: invokevirtual #27                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      97: goto          153
     100: aload_3
     101: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     104: goto          153
     107: astore        5
     109: aload         5
     111: astore        4
     113: aload         5
     115: athrow
     116: astore        7
     118: aload_3
     119: ifnull        150
     122: aload         4
     124: ifnull        146
     127: aload_3
     128: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     131: goto          150
     134: astore        8
     136: aload         4
     138: aload         8
     140: invokevirtual #27                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     143: goto          150
     146: aload_3
     147: invokevirtual #25                 // Method java/util/jar/JarFile.close:()V
     150: aload         7
     152: athrow
     153: goto          206
     156: aload_1
     157: aload_2
     158: invokeinterface #15,  2           // InterfaceMethod java/nio/file/Path.resolve:(Ljava/lang/String;)Ljava/nio/file/Path;
     163: astore_3
     164: aload_3
     165: iconst_0
     166: anewarray     #41                 // class java/nio/file/LinkOption
     169: invokestatic  #44                 // Method java/nio/file/Files.exists:(Ljava/nio/file/Path;[Ljava/nio/file/LinkOption;)Z
     172: ifeq          206
     175: new           #16                 // class java/io/FileInputStream
     178: dup
     179: aload_3
     180: invokeinterface #17,  1           // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
     185: invokespecial #18                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
     188: astore        4
     190: aload_0
     191: aload         4
     193: invokespecial #43                 // Method setupProperties:(Ljava/io/InputStream;)V
     196: aload_0
     197: iconst_1
     198: putfield      #10                 // Field uberJar:Z
     201: aload_0
     202: iconst_1
     203: putfield      #30                 // Field unpackedUberJar:Z
     206: return
    Exception table:
       from    to  target type
          81    85    88   Class java/lang/Throwable
          36    72   107   Class java/lang/Throwable
          36    72   116   any
         127   131   134   Class java/lang/Throwable
         107   118   116   any

  private void setupProperties(java.io.InputStream) throws java.io.IOException;
    Code:
       0: aload_1
       1: astore_2
       2: aconst_null
       3: astore_3
       4: new           #45                 // class java/util/Properties
       7: dup
       8: invokespecial #46                 // Method java/util/Properties."<init>":()V
      11: astore        4
      13: aload         4
      15: aload_2
      16: invokevirtual #47                 // Method java/util/Properties.load:(Ljava/io/InputStream;)V
      19: aload         4
      21: ldc           #48                 // String wildfly.swarm.app.artifact
      23: invokevirtual #49                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      26: ifeq          42
      29: ldc           #48                 // String wildfly.swarm.app.artifact
      31: aload         4
      33: ldc           #48                 // String wildfly.swarm.app.artifact
      35: invokevirtual #50                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      38: invokestatic  #51                 // Method java/lang/System.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      41: pop
      42: aload         4
      44: invokevirtual #52                 // Method java/util/Properties.stringPropertyNames:()Ljava/util/Set;
      47: astore        5
      49: aload         5
      51: invokeinterface #53,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      56: astore        6
      58: aload         6
      60: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      65: ifeq          108
      68: aload         6
      70: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      75: checkcast     #56                 // class java/lang/String
      78: astore        7
      80: aload         4
      82: aload         7
      84: invokevirtual #50                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      87: astore        8
      89: aload         7
      91: invokestatic  #57                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      94: ifnonnull     105
      97: aload         7
      99: aload         8
     101: invokestatic  #51                 // Method java/lang/System.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     104: pop
     105: goto          58
     108: aload_2
     109: ifnull        184
     112: aload_3
     113: ifnull        134
     116: aload_2
     117: invokevirtual #58                 // Method java/io/InputStream.close:()V
     120: goto          184
     123: astore        4
     125: aload_3
     126: aload         4
     128: invokevirtual #27                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     131: goto          184
     134: aload_2
     135: invokevirtual #58                 // Method java/io/InputStream.close:()V
     138: goto          184
     141: astore        4
     143: aload         4
     145: astore_3
     146: aload         4
     148: athrow
     149: astore        9
     151: aload_2
     152: ifnull        181
     155: aload_3
     156: ifnull        177
     159: aload_2
     160: invokevirtual #58                 // Method java/io/InputStream.close:()V
     163: goto          181
     166: astore        10
     168: aload_3
     169: aload         10
     171: invokevirtual #27                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     174: goto          181
     177: aload_2
     178: invokevirtual #58                 // Method java/io/InputStream.close:()V
     181: aload         9
     183: athrow
     184: return
    Exception table:
       from    to  target type
         116   120   123   Class java/lang/Throwable
           4   108   141   Class java/lang/Throwable
           4   108   149   any
         159   163   166   Class java/lang/Throwable
         141   151   149   any

  private java.lang.ClassLoader determineBootstrapClassLoader() throws org.jboss.modules.ModuleLoadException;
    Code:
       0: invokestatic  #59                 // Method org/jboss/modules/Module.getBootModuleLoader:()Lorg/jboss/modules/ModuleLoader;
       3: ldc           #60                 // String org.wildfly.swarm.bootstrap
       5: invokestatic  #61                 // Method org/jboss/modules/ModuleIdentifier.create:(Ljava/lang/String;)Lorg/jboss/modules/ModuleIdentifier;
       8: invokevirtual #62                 // Method org/jboss/modules/ModuleLoader.loadModule:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/modules/Module;
      11: invokevirtual #63                 // Method org/jboss/modules/Module.getClassLoader:()Lorg/jboss/modules/ModuleClassLoader;
      14: areturn
      15: astore_1
      16: ldc           #6                  // class org/wildfly/swarm/bootstrap/util/Layout
      18: invokevirtual #65                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      21: areturn
    Exception table:
       from    to  target type
           0    14    15   Class org/jboss/modules/ModuleLoadException
}
