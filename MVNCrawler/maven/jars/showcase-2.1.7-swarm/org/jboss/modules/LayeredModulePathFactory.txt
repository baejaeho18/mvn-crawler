Compiled from "LayeredModulePathFactory.java"
class org.jboss.modules.LayeredModulePathFactory {
  private static final java.lang.String OVERLAYS;

  org.jboss.modules.LayeredModulePathFactory();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  static java.io.File[] resolveLayeredModulePath(java.io.File...);
    Code:
       0: iconst_0
       1: istore_1
       2: new           #2                  // class java/util/ArrayList
       5: dup
       6: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
       9: astore_2
      10: aload_0
      11: astore_3
      12: aload_3
      13: arraylength
      14: istore        4
      16: iconst_0
      17: istore        5
      19: iload         5
      21: iload         4
      23: if_icmpge     318
      26: aload_3
      27: iload         5
      29: aaload
      30: astore        6
      32: aload_2
      33: aload         6
      35: invokeinterface #4,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      40: pop
      41: aload         6
      43: invokestatic  #5                  // Method getLayersConfig:(Ljava/io/File;)Lorg/jboss/modules/LayeredModulePathFactory$LayersConfig;
      46: astore        7
      48: new           #6                  // class java/io/File
      51: dup
      52: aload         6
      54: aload         7
      56: invokevirtual #7                  // Method org/jboss/modules/LayeredModulePathFactory$LayersConfig.getLayersPath:()Ljava/lang/String;
      59: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      62: astore        8
      64: aload         8
      66: invokevirtual #9                  // Method java/io/File.exists:()Z
      69: ifne          108
      72: aload         7
      74: invokevirtual #10                 // Method org/jboss/modules/LayeredModulePathFactory$LayersConfig.isConfigured:()Z
      77: ifeq          312
      80: new           #11                 // class java/lang/IllegalStateException
      83: dup
      84: new           #12                 // class java/lang/StringBuilder
      87: dup
      88: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      91: ldc           #14                 // String No layers directory found at
      93: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: aload         8
      98: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     101: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     104: invokespecial #18                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     107: athrow
     108: iconst_1
     109: istore        9
     111: new           #2                  // class java/util/ArrayList
     114: dup
     115: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
     118: astore        10
     120: aload         7
     122: invokevirtual #19                 // Method org/jboss/modules/LayeredModulePathFactory$LayersConfig.getLayers:()Ljava/util/List;
     125: invokeinterface #20,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     130: astore        11
     132: aload         11
     134: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     139: ifeq          226
     142: aload         11
     144: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     149: checkcast     #23                 // class java/lang/String
     152: astore        12
     154: new           #6                  // class java/io/File
     157: dup
     158: aload         8
     160: aload         12
     162: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     165: astore        13
     167: aload         13
     169: invokevirtual #9                  // Method java/io/File.exists:()Z
     172: ifne          216
     175: aload         7
     177: invokevirtual #10                 // Method org/jboss/modules/LayeredModulePathFactory$LayersConfig.isConfigured:()Z
     180: ifeq          210
     183: new           #11                 // class java/lang/IllegalStateException
     186: dup
     187: ldc           #24                 // String Cannot find layer %s under directory %s
     189: iconst_2
     190: anewarray     #25                 // class java/lang/Object
     193: dup
     194: iconst_0
     195: aload         12
     197: aastore
     198: dup
     199: iconst_1
     200: aload         8
     202: aastore
     203: invokestatic  #26                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     206: invokespecial #18                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     209: athrow
     210: iconst_0
     211: istore        9
     213: goto          226
     216: aload         13
     218: aload         10
     220: invokestatic  #27                 // Method loadOverlays:(Ljava/io/File;Ljava/util/List;)V
     223: goto          132
     226: iload         9
     228: ifeq          312
     231: iconst_1
     232: istore_1
     233: aload_2
     234: aload         10
     236: invokeinterface #28,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
     241: pop
     242: new           #6                  // class java/io/File
     245: dup
     246: aload         6
     248: aload         7
     250: invokevirtual #29                 // Method org/jboss/modules/LayeredModulePathFactory$LayersConfig.getAddOnsPath:()Ljava/lang/String;
     253: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     256: invokevirtual #30                 // Method java/io/File.listFiles:()[Ljava/io/File;
     259: astore        11
     261: aload         11
     263: ifnull        312
     266: aload         11
     268: astore        12
     270: aload         12
     272: arraylength
     273: istore        13
     275: iconst_0
     276: istore        14
     278: iload         14
     280: iload         13
     282: if_icmpge     312
     285: aload         12
     287: iload         14
     289: aaload
     290: astore        15
     292: aload         15
     294: invokevirtual #31                 // Method java/io/File.isDirectory:()Z
     297: ifeq          306
     300: aload         15
     302: aload_2
     303: invokestatic  #27                 // Method loadOverlays:(Ljava/io/File;Ljava/util/List;)V
     306: iinc          14, 1
     309: goto          278
     312: iinc          5, 1
     315: goto          19
     318: iload_1
     319: ifeq          343
     322: aload_2
     323: aload_2
     324: invokeinterface #32,  1           // InterfaceMethod java/util/List.size:()I
     329: anewarray     #6                  // class java/io/File
     332: invokeinterface #33,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     337: checkcast     #34                 // class "[Ljava/io/File;"
     340: goto          344
     343: aload_0
     344: areturn

  private static org.jboss.modules.LayeredModulePathFactory$LayersConfig getLayersConfig(java.io.File);
    Code:
       0: new           #6                  // class java/io/File
       3: dup
       4: aload_0
       5: ldc           #35                 // String layers.conf
       7: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      10: astore_1
      11: aload_1
      12: invokevirtual #9                  // Method java/io/File.exists:()Z
      15: ifne          27
      18: new           #36                 // class org/jboss/modules/LayeredModulePathFactory$LayersConfig
      21: dup
      22: aconst_null
      23: invokespecial #37                 // Method org/jboss/modules/LayeredModulePathFactory$LayersConfig."<init>":(Lorg/jboss/modules/LayeredModulePathFactory$1;)V
      26: areturn
      27: aconst_null
      28: astore_2
      29: new           #38                 // class java/io/InputStreamReader
      32: dup
      33: new           #39                 // class java/io/FileInputStream
      36: dup
      37: aload_1
      38: invokespecial #40                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      41: ldc           #41                 // String UTF-8
      43: invokespecial #42                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/lang/String;)V
      46: astore_2
      47: new           #43                 // class java/util/Properties
      50: dup
      51: invokespecial #44                 // Method java/util/Properties."<init>":()V
      54: astore_3
      55: aload_3
      56: aload_2
      57: invokevirtual #45                 // Method java/util/Properties.load:(Ljava/io/Reader;)V
      60: new           #36                 // class org/jboss/modules/LayeredModulePathFactory$LayersConfig
      63: dup
      64: aload_3
      65: aconst_null
      66: invokespecial #46                 // Method org/jboss/modules/LayeredModulePathFactory$LayersConfig."<init>":(Ljava/util/Properties;Lorg/jboss/modules/LayeredModulePathFactory$1;)V
      69: astore        4
      71: aload_2
      72: invokestatic  #47                 // Method org/jboss/modules/StreamUtil.safeClose:(Ljava/io/Closeable;)V
      75: aload         4
      77: areturn
      78: astore_3
      79: new           #49                 // class java/lang/RuntimeException
      82: dup
      83: aload_3
      84: invokespecial #50                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      87: athrow
      88: astore        5
      90: aload_2
      91: invokestatic  #47                 // Method org/jboss/modules/StreamUtil.safeClose:(Ljava/io/Closeable;)V
      94: aload         5
      96: athrow
    Exception table:
       from    to  target type
          29    71    78   Class java/io/IOException
          29    71    88   any
          78    90    88   any

  static void loadOverlays(java.io.File, java.util.List<java.io.File>);
    Code:
       0: new           #6                  // class java/io/File
       3: dup
       4: aload_0
       5: ldc           #52                 // String .overlays
       7: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      10: astore_2
      11: aload_2
      12: invokevirtual #9                  // Method java/io/File.exists:()Z
      15: ifeq          108
      18: new           #6                  // class java/io/File
      21: dup
      22: aload_2
      23: ldc           #52                 // String .overlays
      25: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      28: astore_3
      29: aload_3
      30: invokevirtual #9                  // Method java/io/File.exists:()Z
      33: ifeq          108
      36: aload_3
      37: invokestatic  #53                 // Method readRefs:(Ljava/io/File;)Ljava/util/List;
      40: invokeinterface #20,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      45: astore        4
      47: aload         4
      49: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          93
      57: aload         4
      59: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      64: checkcast     #23                 // class java/lang/String
      67: astore        5
      69: new           #6                  // class java/io/File
      72: dup
      73: aload_2
      74: aload         5
      76: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      79: astore        6
      81: aload_1
      82: aload         6
      84: invokeinterface #4,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      89: pop
      90: goto          47
      93: goto          108
      96: astore        4
      98: new           #49                 // class java/lang/RuntimeException
     101: dup
     102: aload         4
     104: invokespecial #50                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     107: athrow
     108: aload_1
     109: aload_0
     110: invokeinterface #4,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     115: pop
     116: return
    Exception table:
       from    to  target type
          36    93    96   Class java/io/IOException

  public static java.util.List<java.lang.String> readRefs(java.io.File) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #9                  // Method java/io/File.exists:()Z
       4: ifne          11
       7: invokestatic  #54                 // Method java/util/Collections.emptyList:()Ljava/util/List;
      10: areturn
      11: new           #39                 // class java/io/FileInputStream
      14: dup
      15: aload_0
      16: invokespecial #40                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      19: astore_1
      20: aload_1
      21: invokestatic  #55                 // Method readRefs:(Ljava/io/InputStream;)Ljava/util/List;
      24: astore_2
      25: aload_1
      26: ifnull        46
      29: aload_1
      30: invokevirtual #56                 // Method java/io/InputStream.close:()V
      33: goto          46
      36: astore_3
      37: new           #49                 // class java/lang/RuntimeException
      40: dup
      41: aload_3
      42: invokespecial #50                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      45: athrow
      46: aload_2
      47: areturn
      48: astore        4
      50: aload_1
      51: ifnull        73
      54: aload_1
      55: invokevirtual #56                 // Method java/io/InputStream.close:()V
      58: goto          73
      61: astore        5
      63: new           #49                 // class java/lang/RuntimeException
      66: dup
      67: aload         5
      69: invokespecial #50                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      72: athrow
      73: aload         4
      75: athrow
    Exception table:
       from    to  target type
          29    33    36   Class java/lang/Exception
          20    25    48   any
          54    58    61   Class java/lang/Exception
          48    50    48   any

  static java.util.List<java.lang.String> readRefs(java.io.InputStream) throws java.io.IOException;
    Code:
       0: new           #2                  // class java/util/ArrayList
       3: dup
       4: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: new           #58                 // class java/lang/StringBuffer
      11: dup
      12: invokespecial #59                 // Method java/lang/StringBuffer."<init>":()V
      15: astore_2
      16: aload_2
      17: invokevirtual #60                 // Method java/lang/StringBuffer.length:()I
      20: ifle          46
      23: aload_2
      24: invokevirtual #61                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      27: invokevirtual #62                 // Method java/lang/String.trim:()Ljava/lang/String;
      30: astore_3
      31: aload_3
      32: invokevirtual #63                 // Method java/lang/String.length:()I
      35: ifle          46
      38: aload_1
      39: aload_3
      40: invokeinterface #4,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      45: pop
      46: aload_0
      47: aload_2
      48: invokestatic  #64                 // Method readLine:(Ljava/io/InputStream;Ljava/lang/StringBuffer;)Z
      51: ifne          16
      54: aload_1
      55: areturn

  static boolean readLine(java.io.InputStream, java.lang.StringBuffer) throws java.io.IOException;
    Code:
       0: aload_1
       1: iconst_0
       2: invokevirtual #65                 // Method java/lang/StringBuffer.setLength:(I)V
       5: aload_0
       6: invokevirtual #66                 // Method java/io/InputStream.read:()I
       9: istore_2
      10: iload_2
      11: lookupswitch  { // 4
                    -1: 55
                     9: 52
                    10: 57
                    13: 52
               default: 59
          }
      52: goto          5
      55: iconst_0
      56: ireturn
      57: iconst_1
      58: ireturn
      59: aload_1
      60: iload_2
      61: i2c
      62: invokevirtual #67                 // Method java/lang/StringBuffer.append:(C)Ljava/lang/StringBuffer;
      65: pop
      66: goto          5
}
