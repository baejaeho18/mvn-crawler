Compiled from "JarModuleFinder.java"
public final class org.jboss.modules.JarModuleFinder implements org.jboss.modules.ModuleFinder {
  private final org.jboss.modules.ModuleIdentifier myIdentifier;

  private final java.util.jar.JarFile jarFile;

  private final java.security.AccessControlContext context;

  public org.jboss.modules.JarModuleFinder(org.jboss.modules.ModuleIdentifier, java.util.jar.JarFile);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field myIdentifier:Lorg/jboss/modules/ModuleIdentifier;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
      14: aload_0
      15: invokestatic  #4                  // Method java/security/AccessController.getContext:()Ljava/security/AccessControlContext;
      18: putfield      #5                  // Field context:Ljava/security/AccessControlContext;
      21: return

  public org.jboss.modules.ModuleSpec findModule(org.jboss.modules.ModuleIdentifier, org.jboss.modules.ModuleLoader) throws org.jboss.modules.ModuleLoadException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #2                  // Field myIdentifier:Lorg/jboss/modules/ModuleIdentifier;
       5: invokevirtual #6                  // Method org/jboss/modules/ModuleIdentifier.equals:(Lorg/jboss/modules/ModuleIdentifier;)Z
       8: ifeq          621
      11: aload_0
      12: getfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
      15: invokevirtual #7                  // Method java/util/jar/JarFile.getManifest:()Ljava/util/jar/Manifest;
      18: astore_3
      19: goto          36
      22: astore        4
      24: new           #9                  // class org/jboss/modules/ModuleLoadException
      27: dup
      28: ldc           #10                 // String Failed to load MANIFEST from JAR
      30: aload         4
      32: invokespecial #11                 // Method org/jboss/modules/ModuleLoadException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      35: athrow
      36: aload_1
      37: invokestatic  #12                 // Method org/jboss/modules/ModuleSpec.build:(Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/modules/ModuleSpec$Builder;
      40: astore        4
      42: aload_3
      43: invokevirtual #13                 // Method java/util/jar/Manifest.getMainAttributes:()Ljava/util/jar/Attributes;
      46: astore        5
      48: aload         5
      50: getstatic     #14                 // Field java/util/jar/Attributes$Name.MAIN_CLASS:Ljava/util/jar/Attributes$Name;
      53: invokevirtual #15                 // Method java/util/jar/Attributes.getValue:(Ljava/util/jar/Attributes$Name;)Ljava/lang/String;
      56: astore        6
      58: aload         6
      60: ifnull        73
      63: aload         4
      65: aload         6
      67: invokeinterface #16,  2           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.setMainClass:(Ljava/lang/String;)Lorg/jboss/modules/ModuleSpec$Builder;
      72: pop
      73: aload         5
      75: getstatic     #17                 // Field java/util/jar/Attributes$Name.CLASS_PATH:Ljava/util/jar/Attributes$Name;
      78: invokevirtual #15                 // Method java/util/jar/Attributes.getValue:(Ljava/util/jar/Attributes$Name;)Ljava/lang/String;
      81: astore        7
      83: aload         5
      85: ldc           #18                 // String Dependencies
      87: invokevirtual #19                 // Method java/util/jar/Attributes.getValue:(Ljava/lang/String;)Ljava/lang/String;
      90: astore        8
      92: iconst_1
      93: invokestatic  #20                 // Method org/jboss/modules/filter/PathFilters.multiplePathFilterBuilder:(Z)Lorg/jboss/modules/filter/MultiplePathFilterBuilder;
      96: astore        9
      98: aload         9
     100: ldc           #21                 // String modules
     102: invokestatic  #22                 // Method org/jboss/modules/filter/PathFilters.is:(Ljava/lang/String;)Lorg/jboss/modules/filter/PathFilter;
     105: iconst_0
     106: invokevirtual #23                 // Method org/jboss/modules/filter/MultiplePathFilterBuilder.addFilter:(Lorg/jboss/modules/filter/PathFilter;Z)V
     109: aload         9
     111: ldc           #21                 // String modules
     113: invokestatic  #24                 // Method org/jboss/modules/filter/PathFilters.isChildOf:(Ljava/lang/String;)Lorg/jboss/modules/filter/PathFilter;
     116: iconst_0
     117: invokevirtual #23                 // Method org/jboss/modules/filter/MultiplePathFilterBuilder.addFilter:(Lorg/jboss/modules/filter/PathFilter;Z)V
     120: aload         4
     122: new           #25                 // class org/jboss/modules/JarFileResourceLoader
     125: dup
     126: ldc           #26                 // String
     128: aload_0
     129: getfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
     132: invokespecial #27                 // Method org/jboss/modules/JarFileResourceLoader."<init>":(Ljava/lang/String;Ljava/util/jar/JarFile;)V
     135: aload         9
     137: invokevirtual #28                 // Method org/jboss/modules/filter/MultiplePathFilterBuilder.create:()Lorg/jboss/modules/filter/PathFilter;
     140: invokestatic  #29                 // Method org/jboss/modules/ResourceLoaderSpec.createResourceLoaderSpec:(Lorg/jboss/modules/ResourceLoader;Lorg/jboss/modules/filter/PathFilter;)Lorg/jboss/modules/ResourceLoaderSpec;
     143: invokeinterface #30,  2           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.addResourceRoot:(Lorg/jboss/modules/ResourceLoaderSpec;)Lorg/jboss/modules/ModuleSpec$Builder;
     148: pop
     149: aload         7
     151: ifnonnull     160
     154: getstatic     #31                 // Field org/jboss/modules/JarModuleLoader.NO_STRINGS:[Ljava/lang/String;
     157: goto          167
     160: aload         7
     162: ldc           #32                 // String \\s+
     164: invokevirtual #33                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
     167: astore        10
     169: aload         10
     171: astore        11
     173: aload         11
     175: arraylength
     176: istore        12
     178: iconst_0
     179: istore        13
     181: iload         13
     183: iload         12
     185: if_icmpge     417
     188: aload         11
     190: iload         13
     192: aaload
     193: astore        14
     195: aload         14
     197: invokevirtual #34                 // Method java/lang/String.isEmpty:()Z
     200: ifne          411
     203: aload         14
     205: ldc           #35                 // String ../
     207: invokevirtual #36                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     210: ifne          411
     213: aload         14
     215: ldc           #37                 // String ./
     217: invokevirtual #36                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     220: ifne          411
     223: aload         14
     225: ldc           #38                 // String /
     227: invokevirtual #36                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     230: ifne          411
     233: aload         14
     235: ldc           #39                 // String /../
     237: invokevirtual #40                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     240: ifeq          246
     243: goto          411
     246: aconst_null
     247: astore        15
     249: new           #41                 // class java/io/File
     252: dup
     253: new           #42                 // class java/net/URI
     256: dup
     257: aload         14
     259: invokespecial #43                 // Method java/net/URI."<init>":(Ljava/lang/String;)V
     262: invokespecial #44                 // Method java/io/File."<init>":(Ljava/net/URI;)V
     265: astore        16
     267: aload         16
     269: invokevirtual #45                 // Method java/io/File.isAbsolute:()Z
     272: ifeq          282
     275: aload         16
     277: astore        15
     279: goto          303
     282: new           #41                 // class java/io/File
     285: dup
     286: aload_0
     287: getfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
     290: invokevirtual #46                 // Method java/util/jar/JarFile.getName:()Ljava/lang/String;
     293: aload         16
     295: invokevirtual #47                 // Method java/io/File.getPath:()Ljava/lang/String;
     298: invokespecial #48                 // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     301: astore        15
     303: goto          326
     306: astore        16
     308: new           #41                 // class java/io/File
     311: dup
     312: aload_0
     313: getfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
     316: invokevirtual #46                 // Method java/util/jar/JarFile.getName:()Ljava/lang/String;
     319: aload         14
     321: invokespecial #48                 // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     324: astore        15
     326: aload         14
     328: ldc           #38                 // String /
     330: invokevirtual #50                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
     333: ifeq          369
     336: new           #51                 // class org/jboss/modules/FileResourceLoader
     339: dup
     340: aload         14
     342: aload         15
     344: aload_0
     345: getfield      #5                  // Field context:Ljava/security/AccessControlContext;
     348: invokespecial #52                 // Method org/jboss/modules/FileResourceLoader."<init>":(Ljava/lang/String;Ljava/io/File;Ljava/security/AccessControlContext;)V
     351: astore        16
     353: aload         4
     355: aload         16
     357: invokestatic  #53                 // Method org/jboss/modules/ResourceLoaderSpec.createResourceLoaderSpec:(Lorg/jboss/modules/ResourceLoader;)Lorg/jboss/modules/ResourceLoaderSpec;
     360: invokeinterface #30,  2           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.addResourceRoot:(Lorg/jboss/modules/ResourceLoaderSpec;)Lorg/jboss/modules/ModuleSpec$Builder;
     365: pop
     366: goto          411
     369: new           #54                 // class java/util/jar/JarFile
     372: dup
     373: aload         15
     375: iconst_1
     376: invokespecial #55                 // Method java/util/jar/JarFile."<init>":(Ljava/io/File;Z)V
     379: astore        16
     381: goto          389
     384: astore        17
     386: goto          411
     389: aload         4
     391: new           #25                 // class org/jboss/modules/JarFileResourceLoader
     394: dup
     395: aload         14
     397: aload         16
     399: invokespecial #27                 // Method org/jboss/modules/JarFileResourceLoader."<init>":(Ljava/lang/String;Ljava/util/jar/JarFile;)V
     402: invokestatic  #53                 // Method org/jboss/modules/ResourceLoaderSpec.createResourceLoaderSpec:(Lorg/jboss/modules/ResourceLoader;)Lorg/jboss/modules/ResourceLoaderSpec;
     405: invokeinterface #30,  2           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.addResourceRoot:(Lorg/jboss/modules/ResourceLoaderSpec;)Lorg/jboss/modules/ModuleSpec$Builder;
     410: pop
     411: iinc          13, 1
     414: goto          181
     417: aload         8
     419: ifnonnull     428
     422: getstatic     #31                 // Field org/jboss/modules/JarModuleLoader.NO_STRINGS:[Ljava/lang/String;
     425: goto          435
     428: aload         8
     430: ldc           #56                 // String \\s*,\\s*
     432: invokevirtual #33                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
     435: astore        11
     437: aload         11
     439: astore        12
     441: aload         12
     443: arraylength
     444: istore        13
     446: iconst_0
     447: istore        14
     449: iload         14
     451: iload         13
     453: if_icmpge     588
     456: aload         12
     458: iload         14
     460: aaload
     461: astore        15
     463: iconst_0
     464: istore        16
     466: iconst_0
     467: istore        17
     469: aload         15
     471: invokevirtual #57                 // Method java/lang/String.trim:()Ljava/lang/String;
     474: astore        15
     476: aload         15
     478: invokevirtual #34                 // Method java/lang/String.isEmpty:()Z
     481: ifne          582
     484: aload         15
     486: ldc           #32                 // String \\s+
     488: invokevirtual #33                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
     491: astore        18
     493: aload         18
     495: arraylength
     496: iconst_1
     497: if_icmpge     503
     500: goto          582
     503: aload         18
     505: iconst_0
     506: aaload
     507: astore        19
     509: iconst_1
     510: istore        20
     512: iload         20
     514: aload         18
     516: arraylength
     517: if_icmpge     562
     520: aload         18
     522: iload         20
     524: aaload
     525: astore        21
     527: aload         21
     529: ldc           #58                 // String optional
     531: invokevirtual #59                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     534: ifeq          543
     537: iconst_1
     538: istore        16
     540: goto          556
     543: aload         21
     545: ldc           #60                 // String export
     547: invokevirtual #59                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     550: ifeq          556
     553: iconst_1
     554: istore        17
     556: iinc          20, 1
     559: goto          512
     562: aload         4
     564: aload         19
     566: invokestatic  #61                 // Method org/jboss/modules/ModuleIdentifier.fromString:(Ljava/lang/String;)Lorg/jboss/modules/ModuleIdentifier;
     569: iload         17
     571: iload         16
     573: invokestatic  #62                 // Method org/jboss/modules/DependencySpec.createModuleDependencySpec:(Lorg/jboss/modules/ModuleIdentifier;ZZ)Lorg/jboss/modules/DependencySpec;
     576: invokeinterface #63,  2           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.addDependency:(Lorg/jboss/modules/DependencySpec;)Lorg/jboss/modules/ModuleSpec$Builder;
     581: pop
     582: iinc          14, 1
     585: goto          449
     588: aload         4
     590: getstatic     #64                 // Field org/jboss/modules/JDKPaths.JDK:Ljava/util/Set;
     593: invokestatic  #65                 // Method org/jboss/modules/DependencySpec.createSystemDependencySpec:(Ljava/util/Set;)Lorg/jboss/modules/DependencySpec;
     596: invokeinterface #63,  2           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.addDependency:(Lorg/jboss/modules/DependencySpec;)Lorg/jboss/modules/ModuleSpec$Builder;
     601: pop
     602: aload         4
     604: invokestatic  #66                 // Method org/jboss/modules/DependencySpec.createLocalDependencySpec:()Lorg/jboss/modules/DependencySpec;
     607: invokeinterface #63,  2           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.addDependency:(Lorg/jboss/modules/DependencySpec;)Lorg/jboss/modules/ModuleSpec$Builder;
     612: pop
     613: aload         4
     615: invokeinterface #67,  1           // InterfaceMethod org/jboss/modules/ModuleSpec$Builder.create:()Lorg/jboss/modules/ModuleSpec;
     620: areturn
     621: aload_1
     622: invokevirtual #68                 // Method org/jboss/modules/ModuleIdentifier.getName:()Ljava/lang/String;
     625: bipush        46
     627: bipush        47
     629: invokevirtual #69                 // Method java/lang/String.replace:(CC)Ljava/lang/String;
     632: astore_3
     633: new           #70                 // class java/lang/StringBuilder
     636: dup
     637: invokespecial #71                 // Method java/lang/StringBuilder."<init>":()V
     640: ldc           #72                 // String modules/
     642: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     645: aload_3
     646: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     649: ldc           #38                 // String /
     651: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     654: aload_1
     655: invokevirtual #74                 // Method org/jboss/modules/ModuleIdentifier.getSlot:()Ljava/lang/String;
     658: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     661: invokevirtual #75                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     664: astore        4
     666: aload_0
     667: getfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
     670: new           #70                 // class java/lang/StringBuilder
     673: dup
     674: invokespecial #71                 // Method java/lang/StringBuilder."<init>":()V
     677: aload         4
     679: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     682: ldc           #76                 // String /module.xml
     684: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     687: invokevirtual #75                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     690: invokevirtual #77                 // Method java/util/jar/JarFile.getJarEntry:(Ljava/lang/String;)Ljava/util/jar/JarEntry;
     693: astore        5
     695: aload         5
     697: ifnonnull     702
     700: aconst_null
     701: areturn
     702: aload_0
     703: getfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
     706: aload         5
     708: invokevirtual #78                 // Method java/util/jar/JarFile.getInputStream:(Ljava/util/zip/ZipEntry;)Ljava/io/InputStream;
     711: astore        7
     713: aload_0
     714: invokedynamic #79,  0             // InvokeDynamic #0:createResourceLoader:(Lorg/jboss/modules/JarModuleFinder;)Lorg/jboss/modules/xml/ModuleXmlParser$ResourceRootFactory;
     719: aload         4
     721: aload         7
     723: aload         5
     725: invokevirtual #80                 // Method java/util/jar/JarEntry.getName:()Ljava/lang/String;
     728: aload_2
     729: aload_1
     730: invokestatic  #81                 // Method org/jboss/modules/xml/ModuleXmlParser.parseModuleXml:(Lorg/jboss/modules/xml/ModuleXmlParser$ResourceRootFactory;Ljava/lang/String;Ljava/io/InputStream;Ljava/lang/String;Lorg/jboss/modules/ModuleLoader;Lorg/jboss/modules/ModuleIdentifier;)Lorg/jboss/modules/ModuleSpec;
     733: astore        6
     735: aload         7
     737: invokestatic  #82                 // Method org/jboss/modules/StreamUtil.safeClose:(Ljava/io/Closeable;)V
     740: goto          753
     743: astore        22
     745: aload         7
     747: invokestatic  #82                 // Method org/jboss/modules/StreamUtil.safeClose:(Ljava/io/Closeable;)V
     750: aload         22
     752: athrow
     753: goto          770
     756: astore        7
     758: new           #9                  // class org/jboss/modules/ModuleLoadException
     761: dup
     762: ldc           #83                 // String Failed to read module.xml file
     764: aload         7
     766: invokespecial #11                 // Method org/jboss/modules/ModuleLoadException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     769: athrow
     770: aload         6
     772: areturn
    Exception table:
       from    to  target type
          11    19    22   Class java/io/IOException
         249   303   306   Class java/net/URISyntaxException
         369   381   384   Class java/io/IOException
         713   735   743   any
         743   745   743   any
         702   753   756   Class java/io/IOException

  private org.jboss.modules.ResourceLoader lambda$findModule$4(java.lang.String, java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: new           #25                 // class org/jboss/modules/JarFileResourceLoader
       3: dup
       4: aload_3
       5: aload_0
       6: getfield      #3                  // Field jarFile:Ljava/util/jar/JarFile;
       9: aload_2
      10: invokespecial #84                 // Method org/jboss/modules/JarFileResourceLoader."<init>":(Ljava/lang/String;Ljava/util/jar/JarFile;Ljava/lang/String;)V
      13: areturn
}
