Compiled from "ZookeeperServiceImporter.java"
public class io.vertx.servicediscovery.zookeeper.ZookeeperServiceImporter implements io.vertx.servicediscovery.spi.ServiceImporter,org.apache.curator.framework.recipes.cache.TreeCacheListener {
  private static final io.vertx.core.logging.Logger LOGGER;

  private io.vertx.servicediscovery.spi.ServicePublisher publisher;

  private org.apache.curator.framework.CuratorFramework client;

  private org.apache.curator.x.discovery.ServiceDiscovery<io.vertx.core.json.JsonObject> discovery;

  private org.apache.curator.framework.recipes.cache.TreeCache cache;

  private volatile boolean started;

  private java.util.Set<io.vertx.servicediscovery.zookeeper.RegistrationHolder<org.apache.curator.x.discovery.ServiceInstance<io.vertx.core.json.JsonObject>>> registrations;

  public io.vertx.servicediscovery.zookeeper.ZookeeperServiceImporter();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class io/vertx/core/impl/ConcurrentHashSet
       8: dup
       9: invokespecial #3                  // Method io/vertx/core/impl/ConcurrentHashSet."<init>":()V
      12: putfield      #4                  // Field registrations:Ljava/util/Set;
      15: return

  public void start(io.vertx.core.Vertx, io.vertx.servicediscovery.spi.ServicePublisher, io.vertx.core.json.JsonObject, io.vertx.core.Future<java.lang.Void>);
    Code:
       0: aload_0
       1: aload_2
       2: putfield      #5                  // Field publisher:Lio/vertx/servicediscovery/spi/ServicePublisher;
       5: aload_3
       6: ldc           #6                  // String connection
       8: invokevirtual #7                  // Method io/vertx/core/json/JsonObject.getString:(Ljava/lang/String;)Ljava/lang/String;
      11: invokestatic  #8                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      14: checkcast     #9                  // class java/lang/String
      17: astore        5
      19: aload_3
      20: ldc           #10                 // String maxRetries
      22: iconst_3
      23: invokestatic  #11                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      26: invokevirtual #12                 // Method io/vertx/core/json/JsonObject.getInteger:(Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/Integer;
      29: invokevirtual #13                 // Method java/lang/Integer.intValue:()I
      32: istore        6
      34: aload_3
      35: ldc           #14                 // String baseSleepTimeBetweenRetries
      37: sipush        1000
      40: invokestatic  #11                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      43: invokevirtual #12                 // Method io/vertx/core/json/JsonObject.getInteger:(Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/Integer;
      46: invokevirtual #13                 // Method java/lang/Integer.intValue:()I
      49: istore        7
      51: aload_3
      52: ldc           #15                 // String basePath
      54: ldc           #16                 // String /discovery
      56: invokevirtual #17                 // Method io/vertx/core/json/JsonObject.getString:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      59: astore        8
      61: aload_3
      62: ldc           #18                 // String canBeReadOnly
      64: iconst_1
      65: invokestatic  #19                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      68: invokevirtual #20                 // Method io/vertx/core/json/JsonObject.getBoolean:(Ljava/lang/String;Ljava/lang/Boolean;)Ljava/lang/Boolean;
      71: invokevirtual #21                 // Method java/lang/Boolean.booleanValue:()Z
      74: istore        9
      76: aload_3
      77: ldc           #22                 // String connectionTimeoutMs
      79: sipush        1000
      82: invokestatic  #11                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      85: invokevirtual #12                 // Method io/vertx/core/json/JsonObject.getInteger:(Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/Integer;
      88: invokevirtual #13                 // Method java/lang/Integer.intValue:()I
      91: istore        10
      93: aload_1
      94: aload_0
      95: iload         9
      97: aload         5
      99: iload         10
     101: iload         7
     103: iload         6
     105: aload         8
     107: aload         4
     109: invokedynamic #23,  0             // InvokeDynamic #0:handle:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;ZLjava/lang/String;IIILjava/lang/String;Lio/vertx/core/Future;)Lio/vertx/core/Handler;
     114: aload_0
     115: aload         4
     117: invokedynamic #24,  0             // InvokeDynamic #1:handle:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;Lio/vertx/core/Future;)Lio/vertx/core/Handler;
     122: invokeinterface #25,  3           // InterfaceMethod io/vertx/core/Vertx.executeBlocking:(Lio/vertx/core/Handler;Lio/vertx/core/Handler;)V
     127: return

  private synchronized void compute(io.vertx.core.Future<java.lang.Void>);
    Code:
       0: new           #26                 // class java/util/ArrayList
       3: dup
       4: invokespecial #27                 // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #28                 // Field discovery:Lorg/apache/curator/x/discovery/ServiceDiscovery;
      12: invokeinterface #29,  1           // InterfaceMethod org/apache/curator/x/discovery/ServiceDiscovery.queryForNames:()Ljava/util/Collection;
      17: astore_3
      18: aload_3
      19: invokeinterface #30,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      24: astore        4
      26: aload         4
      28: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          69
      36: aload         4
      38: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      43: checkcast     #9                  // class java/lang/String
      46: astore        5
      48: aload_2
      49: aload_0
      50: getfield      #28                 // Field discovery:Lorg/apache/curator/x/discovery/ServiceDiscovery;
      53: aload         5
      55: invokeinterface #33,  2           // InterfaceMethod org/apache/curator/x/discovery/ServiceDiscovery.queryForInstances:(Ljava/lang/String;)Ljava/util/Collection;
      60: invokeinterface #34,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      65: pop
      66: goto          26
      69: goto          101
      72: astore_3
      73: goto          101
      76: astore_3
      77: aload_1
      78: ifnull        91
      81: aload_1
      82: aload_3
      83: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
      88: goto          101
      91: getstatic     #38                 // Field LOGGER:Lio/vertx/core/logging/Logger;
      94: ldc           #39                 // String Unable to retrieve service instances from Zookeeper
      96: aload_3
      97: invokevirtual #40                 // Method io/vertx/core/logging/Logger.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     100: return
     101: new           #41                 // class java/util/HashSet
     104: dup
     105: aload_0
     106: getfield      #4                  // Field registrations:Ljava/util/Set;
     109: invokespecial #42                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
     112: astore_3
     113: new           #41                 // class java/util/HashSet
     116: dup
     117: aload_2
     118: invokespecial #42                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
     121: astore        4
     123: new           #26                 // class java/util/ArrayList
     126: dup
     127: invokespecial #27                 // Method java/util/ArrayList."<init>":()V
     130: astore        5
     132: aload_3
     133: aload_2
     134: invokestatic  #43                 // Method io/vertx/servicediscovery/zookeeper/RegistrationHolder.filter:(Ljava/util/Set;Ljava/util/Collection;)Ljava/util/Set;
     137: invokeinterface #44,  1           // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
     142: aload_0
     143: invokedynamic #45,  0             // InvokeDynamic #2:apply:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;)Ljava/util/function/Function;
     148: invokeinterface #46,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     153: aload         5
     155: dup
     156: invokevirtual #47                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     159: pop
     160: invokedynamic #48,  0             // InvokeDynamic #3:accept:(Ljava/util/List;)Ljava/util/function/Consumer;
     165: invokeinterface #49,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
     170: aload         4
     172: aload_0
     173: getfield      #4                  // Field registrations:Ljava/util/Set;
     176: invokestatic  #50                 // Method io/vertx/servicediscovery/zookeeper/RegistrationHolder.filter:(Ljava/util/Set;Ljava/util/Set;)Ljava/util/Set;
     179: invokeinterface #44,  1           // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
     184: aload_0
     185: invokedynamic #51,  0             // InvokeDynamic #4:apply:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;)Ljava/util/function/Function;
     190: invokeinterface #46,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     195: aload         5
     197: dup
     198: invokevirtual #47                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     201: pop
     202: invokedynamic #48,  0             // InvokeDynamic #3:accept:(Ljava/util/List;)Ljava/util/function/Consumer;
     207: invokeinterface #49,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
     212: aload_1
     213: ifnull        233
     216: aload         5
     218: invokestatic  #52                 // InterfaceMethod io/vertx/core/CompositeFuture.all:(Ljava/util/List;)Lio/vertx/core/CompositeFuture;
     221: aload_1
     222: invokedynamic #53,  0             // InvokeDynamic #5:handle:(Lio/vertx/core/Future;)Lio/vertx/core/Handler;
     227: invokeinterface #54,  2           // InterfaceMethod io/vertx/core/CompositeFuture.setHandler:(Lio/vertx/core/Handler;)Lio/vertx/core/CompositeFuture;
     232: pop
     233: return
    Exception table:
       from    to  target type
           8    69    72   Class org/apache/zookeeper/KeeperException$NoNodeException
           8    69    76   Class java/lang/Exception

  static io.vertx.servicediscovery.Record createRecordForInstance(org.apache.curator.x.discovery.ServiceInstance<io.vertx.core.json.JsonObject>);
    Code:
       0: new           #55                 // class io/vertx/servicediscovery/Record
       3: dup
       4: invokespecial #56                 // Method io/vertx/servicediscovery/Record."<init>":()V
       7: astore_1
       8: aload_1
       9: aload_0
      10: invokevirtual #57                 // Method org/apache/curator/x/discovery/ServiceInstance.getName:()Ljava/lang/String;
      13: invokevirtual #58                 // Method io/vertx/servicediscovery/Record.setName:(Ljava/lang/String;)Lio/vertx/servicediscovery/Record;
      16: pop
      17: aload_0
      18: invokevirtual #59                 // Method org/apache/curator/x/discovery/ServiceInstance.getPayload:()Ljava/lang/Object;
      21: checkcast     #60                 // class io/vertx/core/json/JsonObject
      24: astore_2
      25: aload_1
      26: aload_2
      27: invokevirtual #61                 // Method io/vertx/servicediscovery/Record.setMetadata:(Lio/vertx/core/json/JsonObject;)Lio/vertx/servicediscovery/Record;
      30: pop
      31: aload_1
      32: invokevirtual #62                 // Method io/vertx/servicediscovery/Record.getMetadata:()Lio/vertx/core/json/JsonObject;
      35: ldc           #63                 // String zookeeper-service-type
      37: aload_0
      38: invokevirtual #64                 // Method org/apache/curator/x/discovery/ServiceInstance.getServiceType:()Lorg/apache/curator/x/discovery/ServiceType;
      41: invokevirtual #65                 // Method org/apache/curator/x/discovery/ServiceType.toString:()Ljava/lang/String;
      44: invokevirtual #66                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/String;)Lio/vertx/core/json/JsonObject;
      47: pop
      48: aload_1
      49: invokevirtual #62                 // Method io/vertx/servicediscovery/Record.getMetadata:()Lio/vertx/core/json/JsonObject;
      52: ldc           #67                 // String zookeeper-address
      54: aload_0
      55: invokevirtual #68                 // Method org/apache/curator/x/discovery/ServiceInstance.getAddress:()Ljava/lang/String;
      58: invokevirtual #66                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/String;)Lio/vertx/core/json/JsonObject;
      61: pop
      62: aload_1
      63: invokevirtual #62                 // Method io/vertx/servicediscovery/Record.getMetadata:()Lio/vertx/core/json/JsonObject;
      66: ldc           #69                 // String zookeeper-registration-time
      68: aload_0
      69: invokevirtual #70                 // Method org/apache/curator/x/discovery/ServiceInstance.getRegistrationTimeUTC:()J
      72: invokestatic  #71                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      75: invokevirtual #72                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/Long;)Lio/vertx/core/json/JsonObject;
      78: pop
      79: aload_1
      80: invokevirtual #62                 // Method io/vertx/servicediscovery/Record.getMetadata:()Lio/vertx/core/json/JsonObject;
      83: ldc           #73                 // String zookeeper-port
      85: aload_0
      86: invokevirtual #74                 // Method org/apache/curator/x/discovery/ServiceInstance.getPort:()Ljava/lang/Integer;
      89: invokevirtual #75                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/Integer;)Lio/vertx/core/json/JsonObject;
      92: pop
      93: aload_1
      94: invokevirtual #62                 // Method io/vertx/servicediscovery/Record.getMetadata:()Lio/vertx/core/json/JsonObject;
      97: ldc           #76                 // String zookeeper-ssl-port
      99: aload_0
     100: invokevirtual #77                 // Method org/apache/curator/x/discovery/ServiceInstance.getSslPort:()Ljava/lang/Integer;
     103: invokevirtual #75                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/Integer;)Lio/vertx/core/json/JsonObject;
     106: pop
     107: aload_1
     108: invokevirtual #62                 // Method io/vertx/servicediscovery/Record.getMetadata:()Lio/vertx/core/json/JsonObject;
     111: ldc           #78                 // String zookeeper-id
     113: aload_0
     114: invokevirtual #79                 // Method org/apache/curator/x/discovery/ServiceInstance.getId:()Ljava/lang/String;
     117: invokevirtual #66                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/String;)Lio/vertx/core/json/JsonObject;
     120: pop
     121: aload_1
     122: new           #60                 // class io/vertx/core/json/JsonObject
     125: dup
     126: invokespecial #80                 // Method io/vertx/core/json/JsonObject."<init>":()V
     129: invokevirtual #81                 // Method io/vertx/servicediscovery/Record.setLocation:(Lio/vertx/core/json/JsonObject;)Lio/vertx/servicediscovery/Record;
     132: pop
     133: aload_0
     134: invokevirtual #82                 // Method org/apache/curator/x/discovery/ServiceInstance.getUriSpec:()Lorg/apache/curator/x/discovery/UriSpec;
     137: ifnull        159
     140: aload_0
     141: invokevirtual #83                 // Method org/apache/curator/x/discovery/ServiceInstance.buildUriSpec:()Ljava/lang/String;
     144: astore_3
     145: aload_1
     146: invokevirtual #84                 // Method io/vertx/servicediscovery/Record.getLocation:()Lio/vertx/core/json/JsonObject;
     149: ldc           #85                 // String endpoint
     151: aload_3
     152: invokevirtual #66                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/String;)Lio/vertx/core/json/JsonObject;
     155: pop
     156: goto          298
     159: ldc           #86                 // String http
     161: astore_3
     162: aload_0
     163: invokevirtual #77                 // Method org/apache/curator/x/discovery/ServiceInstance.getSslPort:()Ljava/lang/Integer;
     166: ifnull        211
     169: new           #87                 // class java/lang/StringBuilder
     172: dup
     173: invokespecial #88                 // Method java/lang/StringBuilder."<init>":()V
     176: aload_3
     177: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     180: ldc           #90                 // String s://
     182: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     185: aload_0
     186: invokevirtual #68                 // Method org/apache/curator/x/discovery/ServiceInstance.getAddress:()Ljava/lang/String;
     189: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     192: ldc           #91                 // String :
     194: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     197: aload_0
     198: invokevirtual #77                 // Method org/apache/curator/x/discovery/ServiceInstance.getSslPort:()Ljava/lang/Integer;
     201: invokevirtual #92                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     204: invokevirtual #93                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     207: astore_3
     208: goto          287
     211: aload_0
     212: invokevirtual #74                 // Method org/apache/curator/x/discovery/ServiceInstance.getPort:()Ljava/lang/Integer;
     215: ifnull        260
     218: new           #87                 // class java/lang/StringBuilder
     221: dup
     222: invokespecial #88                 // Method java/lang/StringBuilder."<init>":()V
     225: aload_3
     226: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     229: ldc           #90                 // String s://
     231: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     234: aload_0
     235: invokevirtual #68                 // Method org/apache/curator/x/discovery/ServiceInstance.getAddress:()Ljava/lang/String;
     238: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     241: ldc           #91                 // String :
     243: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     246: aload_0
     247: invokevirtual #74                 // Method org/apache/curator/x/discovery/ServiceInstance.getPort:()Ljava/lang/Integer;
     250: invokevirtual #92                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     253: invokevirtual #93                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     256: astore_3
     257: goto          287
     260: new           #87                 // class java/lang/StringBuilder
     263: dup
     264: invokespecial #88                 // Method java/lang/StringBuilder."<init>":()V
     267: aload_3
     268: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     271: ldc           #94                 // String ://
     273: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     276: aload_0
     277: invokevirtual #68                 // Method org/apache/curator/x/discovery/ServiceInstance.getAddress:()Ljava/lang/String;
     280: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     283: invokevirtual #93                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     286: astore_3
     287: aload_1
     288: invokevirtual #84                 // Method io/vertx/servicediscovery/Record.getLocation:()Lio/vertx/core/json/JsonObject;
     291: ldc           #85                 // String endpoint
     293: aload_3
     294: invokevirtual #66                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/String;)Lio/vertx/core/json/JsonObject;
     297: pop
     298: aload_0
     299: invokevirtual #74                 // Method org/apache/curator/x/discovery/ServiceInstance.getPort:()Ljava/lang/Integer;
     302: ifnull        319
     305: aload_1
     306: invokevirtual #84                 // Method io/vertx/servicediscovery/Record.getLocation:()Lio/vertx/core/json/JsonObject;
     309: ldc           #95                 // String port
     311: aload_0
     312: invokevirtual #74                 // Method org/apache/curator/x/discovery/ServiceInstance.getPort:()Ljava/lang/Integer;
     315: invokevirtual #75                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/Integer;)Lio/vertx/core/json/JsonObject;
     318: pop
     319: aload_0
     320: invokevirtual #77                 // Method org/apache/curator/x/discovery/ServiceInstance.getSslPort:()Ljava/lang/Integer;
     323: ifnull        340
     326: aload_1
     327: invokevirtual #84                 // Method io/vertx/servicediscovery/Record.getLocation:()Lio/vertx/core/json/JsonObject;
     330: ldc           #96                 // String ssl-port
     332: aload_0
     333: invokevirtual #77                 // Method org/apache/curator/x/discovery/ServiceInstance.getSslPort:()Ljava/lang/Integer;
     336: invokevirtual #75                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/Integer;)Lio/vertx/core/json/JsonObject;
     339: pop
     340: aload_0
     341: invokevirtual #68                 // Method org/apache/curator/x/discovery/ServiceInstance.getAddress:()Ljava/lang/String;
     344: ifnull        361
     347: aload_1
     348: invokevirtual #84                 // Method io/vertx/servicediscovery/Record.getLocation:()Lio/vertx/core/json/JsonObject;
     351: ldc           #97                 // String address
     353: aload_0
     354: invokevirtual #68                 // Method org/apache/curator/x/discovery/ServiceInstance.getAddress:()Ljava/lang/String;
     357: invokevirtual #66                 // Method io/vertx/core/json/JsonObject.put:(Ljava/lang/String;Ljava/lang/String;)Lio/vertx/core/json/JsonObject;
     360: pop
     361: aload_1
     362: aload_2
     363: ldc           #98                 // String service-type
     365: ldc           #100                // String unknown
     367: invokevirtual #17                 // Method io/vertx/core/json/JsonObject.getString:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     370: invokevirtual #101                // Method io/vertx/servicediscovery/Record.setType:(Ljava/lang/String;)Lio/vertx/servicediscovery/Record;
     373: pop
     374: aload_1
     375: areturn

  public void close(io.vertx.core.Handler<java.lang.Void>);
    Code:
       0: invokestatic  #102                // InterfaceMethod io/vertx/core/Future.future:()Lio/vertx/core/Future;
       3: astore_2
       4: aload_0
       5: aload_2
       6: invokespecial #103                // Method unregisterAllServices:(Lio/vertx/core/Future;)V
       9: aload_2
      10: aload_0
      11: aload_1
      12: invokedynamic #104,  0            // InvokeDynamic #6:handle:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;Lio/vertx/core/Handler;)Lio/vertx/core/Handler;
      17: invokeinterface #105,  2          // InterfaceMethod io/vertx/core/Future.setHandler:(Lio/vertx/core/Handler;)Lio/vertx/core/Future;
      22: pop
      23: return

  public void childEvent(org.apache.curator.framework.CuratorFramework, org.apache.curator.framework.recipes.cache.TreeCacheEvent) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #106                // Field started:Z
       4: ifeq          12
       7: aload_0
       8: aconst_null
       9: invokespecial #107                // Method compute:(Lio/vertx/core/Future;)V
      12: return

  private synchronized void unregisterAllServices(io.vertx.core.Future<java.lang.Void>);
    Code:
       0: new           #26                 // class java/util/ArrayList
       3: dup
       4: invokespecial #27                 // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: new           #41                 // class java/util/HashSet
      11: dup
      12: aload_0
      13: getfield      #4                  // Field registrations:Ljava/util/Set;
      16: invokespecial #42                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      19: aload_0
      20: invokedynamic #108,  0            // InvokeDynamic #7:accept:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;)Ljava/util/function/Consumer;
      25: invokevirtual #109                // Method java/util/HashSet.forEach:(Ljava/util/function/Consumer;)V
      28: aload_0
      29: getfield      #4                  // Field registrations:Ljava/util/Set;
      32: invokeinterface #110,  1          // InterfaceMethod java/util/Set.clear:()V
      37: aload_2
      38: invokestatic  #52                 // InterfaceMethod io/vertx/core/CompositeFuture.all:(Ljava/util/List;)Lio/vertx/core/CompositeFuture;
      41: aload_1
      42: invokedynamic #111,  0            // InvokeDynamic #8:handle:(Lio/vertx/core/Future;)Lio/vertx/core/Handler;
      47: invokeinterface #54,  2           // InterfaceMethod io/vertx/core/CompositeFuture.setHandler:(Lio/vertx/core/Handler;)Lio/vertx/core/CompositeFuture;
      52: pop
      53: return

  private static void lambda$unregisterAllServices$10(io.vertx.core.Future, io.vertx.core.AsyncResult);
    Code:
       0: aload_1
       1: invokeinterface #112,  1          // InterfaceMethod io/vertx/core/AsyncResult.failed:()Z
       6: ifeq          24
       9: aload_0
      10: aload_1
      11: invokeinterface #113,  1          // InterfaceMethod io/vertx/core/AsyncResult.cause:()Ljava/lang/Throwable;
      16: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
      21: goto          30
      24: aload_0
      25: invokeinterface #114,  1          // InterfaceMethod io/vertx/core/Future.complete:()V
      30: return

  private void lambda$unregisterAllServices$9(io.vertx.servicediscovery.zookeeper.RegistrationHolder);
    Code:
       0: invokestatic  #102                // InterfaceMethod io/vertx/core/Future.future:()Lio/vertx/core/Future;
       3: astore_2
       4: aload_0
       5: getfield      #5                  // Field publisher:Lio/vertx/servicediscovery/spi/ServicePublisher;
       8: aload_1
       9: invokevirtual #115                // Method io/vertx/servicediscovery/zookeeper/RegistrationHolder.record:()Lio/vertx/servicediscovery/Record;
      12: invokevirtual #116                // Method io/vertx/servicediscovery/Record.getRegistration:()Ljava/lang/String;
      15: aload_2
      16: invokeinterface #117,  1          // InterfaceMethod io/vertx/core/Future.completer:()Lio/vertx/core/Handler;
      21: invokeinterface #118,  3          // InterfaceMethod io/vertx/servicediscovery/spi/ServicePublisher.unpublish:(Ljava/lang/String;Lio/vertx/core/Handler;)V
      26: return

  private void lambda$close$8(io.vertx.core.Handler, io.vertx.core.AsyncResult);
    Code:
       0: aload_0
       1: getfield      #119                // Field cache:Lorg/apache/curator/framework/recipes/cache/TreeCache;
       4: invokevirtual #120                // Method org/apache/curator/framework/recipes/cache/TreeCache.close:()V
       7: aload_0
       8: getfield      #28                 // Field discovery:Lorg/apache/curator/x/discovery/ServiceDiscovery;
      11: invokeinterface #121,  1          // InterfaceMethod org/apache/curator/x/discovery/ServiceDiscovery.close:()V
      16: aload_0
      17: getfield      #122                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      20: invokeinterface #123,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.close:()V
      25: goto          29
      28: astore_3
      29: aload_1
      30: aconst_null
      31: invokeinterface #124,  2          // InterfaceMethod io/vertx/core/Handler.handle:(Ljava/lang/Object;)V
      36: return
    Exception table:
       from    to  target type
           0    25    28   Class java/lang/Exception

  private static void lambda$compute$7(io.vertx.core.Future, io.vertx.core.AsyncResult);
    Code:
       0: aload_1
       1: invokeinterface #125,  1          // InterfaceMethod io/vertx/core/AsyncResult.succeeded:()Z
       6: ifeq          19
       9: aload_0
      10: aconst_null
      11: invokeinterface #126,  2          // InterfaceMethod io/vertx/core/Future.complete:(Ljava/lang/Object;)V
      16: goto          31
      19: aload_0
      20: aload_1
      21: invokeinterface #113,  1          // InterfaceMethod io/vertx/core/AsyncResult.cause:()Ljava/lang/Throwable;
      26: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
      31: return

  private io.vertx.core.Future lambda$compute$6(org.apache.curator.x.discovery.ServiceInstance);
    Code:
       0: invokestatic  #102                // InterfaceMethod io/vertx/core/Future.future:()Lio/vertx/core/Future;
       3: astore_2
       4: aload_0
       5: getfield      #5                  // Field publisher:Lio/vertx/servicediscovery/spi/ServicePublisher;
       8: aload_1
       9: invokestatic  #127                // Method createRecordForInstance:(Lorg/apache/curator/x/discovery/ServiceInstance;)Lio/vertx/servicediscovery/Record;
      12: aload_0
      13: aload_1
      14: aload_2
      15: invokedynamic #128,  0            // InvokeDynamic #9:handle:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;Lorg/apache/curator/x/discovery/ServiceInstance;Lio/vertx/core/Future;)Lio/vertx/core/Handler;
      20: invokeinterface #129,  3          // InterfaceMethod io/vertx/servicediscovery/spi/ServicePublisher.publish:(Lio/vertx/servicediscovery/Record;Lio/vertx/core/Handler;)V
      25: aload_2
      26: areturn

  private void lambda$null$5(org.apache.curator.x.discovery.ServiceInstance, io.vertx.core.Future, io.vertx.core.AsyncResult);
    Code:
       0: aload_3
       1: invokeinterface #125,  1          // InterfaceMethod io/vertx/core/AsyncResult.succeeded:()Z
       6: ifeq          46
       9: aload_0
      10: getfield      #4                  // Field registrations:Ljava/util/Set;
      13: new           #130                // class io/vertx/servicediscovery/zookeeper/RegistrationHolder
      16: dup
      17: aload_3
      18: invokeinterface #131,  1          // InterfaceMethod io/vertx/core/AsyncResult.result:()Ljava/lang/Object;
      23: checkcast     #55                 // class io/vertx/servicediscovery/Record
      26: aload_1
      27: invokespecial #132                // Method io/vertx/servicediscovery/zookeeper/RegistrationHolder."<init>":(Lio/vertx/servicediscovery/Record;Ljava/lang/Object;)V
      30: invokeinterface #133,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      35: pop
      36: aload_2
      37: aconst_null
      38: invokeinterface #126,  2          // InterfaceMethod io/vertx/core/Future.complete:(Ljava/lang/Object;)V
      43: goto          58
      46: aload_2
      47: aload_3
      48: invokeinterface #113,  1          // InterfaceMethod io/vertx/core/AsyncResult.cause:()Ljava/lang/Throwable;
      53: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
      58: return

  private io.vertx.core.Future lambda$compute$4(io.vertx.servicediscovery.zookeeper.RegistrationHolder);
    Code:
       0: invokestatic  #102                // InterfaceMethod io/vertx/core/Future.future:()Lio/vertx/core/Future;
       3: astore_2
       4: aload_0
       5: getfield      #5                  // Field publisher:Lio/vertx/servicediscovery/spi/ServicePublisher;
       8: aload_1
       9: invokevirtual #115                // Method io/vertx/servicediscovery/zookeeper/RegistrationHolder.record:()Lio/vertx/servicediscovery/Record;
      12: invokevirtual #116                // Method io/vertx/servicediscovery/Record.getRegistration:()Ljava/lang/String;
      15: aload_0
      16: aload_1
      17: aload_2
      18: invokedynamic #134,  0            // InvokeDynamic #10:handle:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;Lio/vertx/servicediscovery/zookeeper/RegistrationHolder;Lio/vertx/core/Future;)Lio/vertx/core/Handler;
      23: invokeinterface #118,  3          // InterfaceMethod io/vertx/servicediscovery/spi/ServicePublisher.unpublish:(Ljava/lang/String;Lio/vertx/core/Handler;)V
      28: aload_2
      29: areturn

  private void lambda$null$3(io.vertx.servicediscovery.zookeeper.RegistrationHolder, io.vertx.core.Future, io.vertx.core.AsyncResult);
    Code:
       0: aload_0
       1: getfield      #4                  // Field registrations:Ljava/util/Set;
       4: aload_1
       5: invokeinterface #135,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      10: pop
      11: aload_3
      12: invokeinterface #125,  1          // InterfaceMethod io/vertx/core/AsyncResult.succeeded:()Z
      17: ifeq          30
      20: aload_2
      21: aconst_null
      22: invokeinterface #126,  2          // InterfaceMethod io/vertx/core/Future.complete:(Ljava/lang/Object;)V
      27: goto          42
      30: aload_2
      31: aload_3
      32: invokeinterface #113,  1          // InterfaceMethod io/vertx/core/AsyncResult.cause:()Ljava/lang/Throwable;
      37: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
      42: return

  private void lambda$start$2(io.vertx.core.Future, io.vertx.core.AsyncResult);
    Code:
       0: aload_2
       1: invokeinterface #112,  1          // InterfaceMethod io/vertx/core/AsyncResult.failed:()Z
       6: ifeq          24
       9: aload_1
      10: aload_2
      11: invokeinterface #113,  1          // InterfaceMethod io/vertx/core/AsyncResult.cause:()Ljava/lang/Throwable;
      16: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
      21: goto          47
      24: invokestatic  #102                // InterfaceMethod io/vertx/core/Future.future:()Lio/vertx/core/Future;
      27: astore_3
      28: aload_3
      29: aload_0
      30: aload_1
      31: invokedynamic #136,  0            // InvokeDynamic #11:handle:(Lio/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter;Lio/vertx/core/Future;)Lio/vertx/core/Handler;
      36: invokeinterface #105,  2          // InterfaceMethod io/vertx/core/Future.setHandler:(Lio/vertx/core/Handler;)Lio/vertx/core/Future;
      41: pop
      42: aload_0
      43: aload_3
      44: invokespecial #107                // Method compute:(Lio/vertx/core/Future;)V
      47: return

  private void lambda$null$1(io.vertx.core.Future, io.vertx.core.AsyncResult);
    Code:
       0: aload_2
       1: invokeinterface #112,  1          // InterfaceMethod io/vertx/core/AsyncResult.failed:()Z
       6: ifeq          24
       9: aload_1
      10: aload_2
      11: invokeinterface #113,  1          // InterfaceMethod io/vertx/core/AsyncResult.cause:()Ljava/lang/Throwable;
      16: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
      21: goto          36
      24: aload_0
      25: iconst_1
      26: putfield      #106                // Field started:Z
      29: aload_1
      30: aconst_null
      31: invokeinterface #126,  2          // InterfaceMethod io/vertx/core/Future.complete:(Ljava/lang/Object;)V
      36: return

  private void lambda$start$0(boolean, java.lang.String, int, int, int, java.lang.String, io.vertx.core.Future, io.vertx.core.Future);
    Code:
       0: aload_0
       1: invokestatic  #137                // Method org/apache/curator/framework/CuratorFrameworkFactory.builder:()Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
       4: iload_1
       5: invokevirtual #138                // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.canBeReadOnly:(Z)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
       8: aload_2
       9: invokevirtual #139                // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.connectString:(Ljava/lang/String;)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
      12: iload_3
      13: invokevirtual #140                // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.connectionTimeoutMs:(I)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
      16: new           #141                // class org/apache/curator/retry/ExponentialBackoffRetry
      19: dup
      20: iload         4
      22: iload         5
      24: invokespecial #142                // Method org/apache/curator/retry/ExponentialBackoffRetry."<init>":(II)V
      27: invokevirtual #143                // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.retryPolicy:(Lorg/apache/curator/RetryPolicy;)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
      30: invokevirtual #144                // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.build:()Lorg/apache/curator/framework/CuratorFramework;
      33: putfield      #122                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      36: aload_0
      37: getfield      #122                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      40: invokeinterface #145,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.start:()V
      45: aload_0
      46: ldc           #60                 // class io/vertx/core/json/JsonObject
      48: invokestatic  #146                // Method org/apache/curator/x/discovery/ServiceDiscoveryBuilder.builder:(Ljava/lang/Class;)Lorg/apache/curator/x/discovery/ServiceDiscoveryBuilder;
      51: aload_0
      52: getfield      #122                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      55: invokevirtual #147                // Method org/apache/curator/x/discovery/ServiceDiscoveryBuilder.client:(Lorg/apache/curator/framework/CuratorFramework;)Lorg/apache/curator/x/discovery/ServiceDiscoveryBuilder;
      58: aload         6
      60: invokevirtual #148                // Method org/apache/curator/x/discovery/ServiceDiscoveryBuilder.basePath:(Ljava/lang/String;)Lorg/apache/curator/x/discovery/ServiceDiscoveryBuilder;
      63: new           #149                // class io/vertx/servicediscovery/zookeeper/JsonObjectSerializer
      66: dup
      67: invokespecial #150                // Method io/vertx/servicediscovery/zookeeper/JsonObjectSerializer."<init>":()V
      70: invokevirtual #151                // Method org/apache/curator/x/discovery/ServiceDiscoveryBuilder.serializer:(Lorg/apache/curator/x/discovery/details/InstanceSerializer;)Lorg/apache/curator/x/discovery/ServiceDiscoveryBuilder;
      73: iconst_1
      74: invokevirtual #152                // Method org/apache/curator/x/discovery/ServiceDiscoveryBuilder.watchInstances:(Z)Lorg/apache/curator/x/discovery/ServiceDiscoveryBuilder;
      77: invokevirtual #153                // Method org/apache/curator/x/discovery/ServiceDiscoveryBuilder.build:()Lorg/apache/curator/x/discovery/ServiceDiscovery;
      80: putfield      #28                 // Field discovery:Lorg/apache/curator/x/discovery/ServiceDiscovery;
      83: aload_0
      84: getfield      #28                 // Field discovery:Lorg/apache/curator/x/discovery/ServiceDiscovery;
      87: invokeinterface #154,  1          // InterfaceMethod org/apache/curator/x/discovery/ServiceDiscovery.start:()V
      92: aload_0
      93: aload_0
      94: getfield      #122                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      97: aload         6
      99: invokestatic  #155                // Method org/apache/curator/framework/recipes/cache/TreeCache.newBuilder:(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;)Lorg/apache/curator/framework/recipes/cache/TreeCache$Builder;
     102: invokevirtual #156                // Method org/apache/curator/framework/recipes/cache/TreeCache$Builder.build:()Lorg/apache/curator/framework/recipes/cache/TreeCache;
     105: putfield      #119                // Field cache:Lorg/apache/curator/framework/recipes/cache/TreeCache;
     108: aload_0
     109: getfield      #119                // Field cache:Lorg/apache/curator/framework/recipes/cache/TreeCache;
     112: invokevirtual #157                // Method org/apache/curator/framework/recipes/cache/TreeCache.start:()Lorg/apache/curator/framework/recipes/cache/TreeCache;
     115: pop
     116: aload_0
     117: getfield      #119                // Field cache:Lorg/apache/curator/framework/recipes/cache/TreeCache;
     120: invokevirtual #158                // Method org/apache/curator/framework/recipes/cache/TreeCache.getListenable:()Lorg/apache/curator/framework/listen/Listenable;
     123: aload_0
     124: invokeinterface #159,  2          // InterfaceMethod org/apache/curator/framework/listen/Listenable.addListener:(Ljava/lang/Object;)V
     129: aload         8
     131: invokeinterface #114,  1          // InterfaceMethod io/vertx/core/Future.complete:()V
     136: goto          150
     139: astore        9
     141: aload         7
     143: aload         9
     145: invokeinterface #37,  2           // InterfaceMethod io/vertx/core/Future.fail:(Ljava/lang/Throwable;)V
     150: return
    Exception table:
       from    to  target type
           0   136   139   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #160                // class io/vertx/servicediscovery/zookeeper/ZookeeperServiceImporter
       2: invokestatic  #161                // Method io/vertx/core/logging/LoggerFactory.getLogger:(Ljava/lang/Class;)Lio/vertx/core/logging/Logger;
       5: putstatic     #38                 // Field LOGGER:Lio/vertx/core/logging/Logger;
       8: return
}
