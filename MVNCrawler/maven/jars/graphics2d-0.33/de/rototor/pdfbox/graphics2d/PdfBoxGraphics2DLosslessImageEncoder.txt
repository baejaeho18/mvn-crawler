Compiled from "PdfBoxGraphics2DLosslessImageEncoder.java"
public class de.rototor.pdfbox.graphics2d.PdfBoxGraphics2DLosslessImageEncoder implements de.rototor.pdfbox.graphics2d.IPdfBoxGraphics2DImageEncoder {
  private java.util.Map<de.rototor.pdfbox.graphics2d.PdfBoxGraphics2DLosslessImageEncoder$ImageSoftReference, java.lang.ref.SoftReference<org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject>> imageMap;

  private java.util.Map<de.rototor.pdfbox.graphics2d.PdfBoxGraphics2DLosslessImageEncoder$ProfileSoftReference, java.lang.ref.SoftReference<org.apache.pdfbox.pdmodel.graphics.color.PDColorSpace>> profileMap;

  private java.lang.ref.SoftReference<org.apache.pdfbox.pdmodel.PDDocument> doc;

  public de.rototor.pdfbox.graphics2d.PdfBoxGraphics2DLosslessImageEncoder();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/HashMap
       8: dup
       9: invokespecial #3                  // Method java/util/HashMap."<init>":()V
      12: putfield      #4                  // Field imageMap:Ljava/util/Map;
      15: aload_0
      16: new           #2                  // class java/util/HashMap
      19: dup
      20: invokespecial #3                  // Method java/util/HashMap."<init>":()V
      23: putfield      #5                  // Field profileMap:Ljava/util/Map;
      26: return

  public org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject encodeImage(org.apache.pdfbox.pdmodel.PDDocument, org.apache.pdfbox.pdmodel.PDPageContentStream, java.awt.Image);
    Code:
       0: aload_3
       1: instanceof    #6                  // class java/awt/image/BufferedImage
       4: ifeq          16
       7: aload_3
       8: checkcast     #6                  // class java/awt/image/BufferedImage
      11: astore        4
      13: goto          80
      16: aload_3
      17: aconst_null
      18: invokevirtual #7                  // Method java/awt/Image.getWidth:(Ljava/awt/image/ImageObserver;)I
      21: istore        5
      23: aload_3
      24: aconst_null
      25: invokevirtual #8                  // Method java/awt/Image.getHeight:(Ljava/awt/image/ImageObserver;)I
      28: istore        6
      30: new           #6                  // class java/awt/image/BufferedImage
      33: dup
      34: iload         5
      36: iload         6
      38: bipush        6
      40: invokespecial #9                  // Method java/awt/image/BufferedImage."<init>":(III)V
      43: astore        4
      45: aload         4
      47: invokevirtual #10                 // Method java/awt/image/BufferedImage.getGraphics:()Ljava/awt/Graphics;
      50: astore        7
      52: aload         7
      54: aload_3
      55: iconst_0
      56: iconst_0
      57: aconst_null
      58: aconst_null
      59: invokevirtual #11                 // Method java/awt/Graphics.drawImage:(Ljava/awt/Image;IILjava/awt/Color;Ljava/awt/image/ImageObserver;)Z
      62: ifne          75
      65: new           #12                 // class java/lang/IllegalStateException
      68: dup
      69: ldc           #13                 // String Not fully loaded images are not supported.
      71: invokespecial #14                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      74: athrow
      75: aload         7
      77: invokevirtual #15                 // Method java/awt/Graphics.dispose:()V
      80: aload_0
      81: getfield      #16                 // Field doc:Ljava/lang/ref/SoftReference;
      84: ifnull        98
      87: aload_0
      88: getfield      #16                 // Field doc:Ljava/lang/ref/SoftReference;
      91: invokevirtual #17                 // Method java/lang/ref/SoftReference.get:()Ljava/lang/Object;
      94: aload_1
      95: if_acmpeq     132
      98: aload_0
      99: new           #2                  // class java/util/HashMap
     102: dup
     103: invokespecial #3                  // Method java/util/HashMap."<init>":()V
     106: putfield      #4                  // Field imageMap:Ljava/util/Map;
     109: aload_0
     110: new           #2                  // class java/util/HashMap
     113: dup
     114: invokespecial #3                  // Method java/util/HashMap."<init>":()V
     117: putfield      #5                  // Field profileMap:Ljava/util/Map;
     120: aload_0
     121: new           #18                 // class java/lang/ref/SoftReference
     124: dup
     125: aload_1
     126: invokespecial #19                 // Method java/lang/ref/SoftReference."<init>":(Ljava/lang/Object;)V
     129: putfield      #16                 // Field doc:Ljava/lang/ref/SoftReference;
     132: aload_0
     133: getfield      #4                  // Field imageMap:Ljava/util/Map;
     136: new           #20                 // class de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ImageSoftReference
     139: dup
     140: aload_3
     141: invokespecial #21                 // Method de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ImageSoftReference."<init>":(Ljava/awt/Image;)V
     144: invokeinterface #22,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     149: checkcast     #18                 // class java/lang/ref/SoftReference
     152: astore        5
     154: aload         5
     156: ifnonnull     163
     159: aconst_null
     160: goto          171
     163: aload         5
     165: invokevirtual #17                 // Method java/lang/ref/SoftReference.get:()Ljava/lang/Object;
     168: checkcast     #23                 // class org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject
     171: astore        6
     173: aload         6
     175: ifnonnull     363
     178: aload_1
     179: aload         4
     181: invokestatic  #24                 // Method org/apache/pdfbox/pdmodel/graphics/image/LosslessFactory.createFromImage:(Lorg/apache/pdfbox/pdmodel/PDDocument;Ljava/awt/image/BufferedImage;)Lorg/apache/pdfbox/pdmodel/graphics/image/PDImageXObject;
     184: astore        6
     186: aload         4
     188: invokevirtual #25                 // Method java/awt/image/BufferedImage.getColorModel:()Ljava/awt/image/ColorModel;
     191: invokevirtual #26                 // Method java/awt/image/ColorModel.getColorSpace:()Ljava/awt/color/ColorSpace;
     194: instanceof    #27                 // class java/awt/color/ICC_ColorSpace
     197: ifeq          336
     200: aload         4
     202: invokevirtual #25                 // Method java/awt/image/BufferedImage.getColorModel:()Ljava/awt/image/ColorModel;
     205: invokevirtual #26                 // Method java/awt/image/ColorModel.getColorSpace:()Ljava/awt/color/ColorSpace;
     208: checkcast     #27                 // class java/awt/color/ICC_ColorSpace
     211: invokevirtual #28                 // Method java/awt/color/ICC_ColorSpace.getProfile:()Ljava/awt/color/ICC_Profile;
     214: astore        7
     216: aload         4
     218: invokevirtual #25                 // Method java/awt/image/BufferedImage.getColorModel:()Ljava/awt/image/ColorModel;
     221: invokevirtual #26                 // Method java/awt/image/ColorModel.getColorSpace:()Ljava/awt/color/ColorSpace;
     224: checkcast     #27                 // class java/awt/color/ICC_ColorSpace
     227: invokevirtual #28                 // Method java/awt/color/ICC_ColorSpace.getProfile:()Ljava/awt/color/ICC_Profile;
     230: sipush        1000
     233: invokestatic  #30                 // Method java/awt/color/ICC_Profile.getInstance:(I)Ljava/awt/color/ICC_Profile;
     236: if_acmpeq     336
     239: aload_0
     240: getfield      #5                  // Field profileMap:Ljava/util/Map;
     243: new           #31                 // class de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ProfileSoftReference
     246: dup
     247: aload         7
     249: invokespecial #32                 // Method de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ProfileSoftReference."<init>":(Ljava/awt/color/ICC_Profile;)V
     252: invokeinterface #22,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     257: checkcast     #18                 // class java/lang/ref/SoftReference
     260: astore        8
     262: aload         8
     264: ifnonnull     271
     267: aconst_null
     268: goto          279
     271: aload         8
     273: invokevirtual #17                 // Method java/lang/ref/SoftReference.get:()Ljava/lang/Object;
     276: checkcast     #33                 // class org/apache/pdfbox/pdmodel/graphics/color/PDColorSpace
     279: astore        9
     281: aload         9
     283: ifnonnull     329
     286: aload         6
     288: invokevirtual #34                 // Method org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.getColorSpace:()Lorg/apache/pdfbox/pdmodel/graphics/color/PDColorSpace;
     291: astore        9
     293: aload         9
     295: instanceof    #35                 // class org/apache/pdfbox/pdmodel/graphics/color/PDICCBased
     298: ifeq          329
     301: aload_0
     302: getfield      #5                  // Field profileMap:Ljava/util/Map;
     305: new           #31                 // class de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ProfileSoftReference
     308: dup
     309: aload         7
     311: invokespecial #32                 // Method de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ProfileSoftReference."<init>":(Ljava/awt/color/ICC_Profile;)V
     314: new           #18                 // class java/lang/ref/SoftReference
     317: dup
     318: aload         9
     320: invokespecial #19                 // Method java/lang/ref/SoftReference."<init>":(Ljava/lang/Object;)V
     323: invokeinterface #36,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     328: pop
     329: aload         6
     331: aload         9
     333: invokevirtual #37                 // Method org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.setColorSpace:(Lorg/apache/pdfbox/pdmodel/graphics/color/PDColorSpace;)V
     336: aload_0
     337: getfield      #4                  // Field imageMap:Ljava/util/Map;
     340: new           #20                 // class de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ImageSoftReference
     343: dup
     344: aload_3
     345: invokespecial #21                 // Method de/rototor/pdfbox/graphics2d/PdfBoxGraphics2DLosslessImageEncoder$ImageSoftReference."<init>":(Ljava/awt/Image;)V
     348: new           #18                 // class java/lang/ref/SoftReference
     351: dup
     352: aload         6
     354: invokespecial #19                 // Method java/lang/ref/SoftReference."<init>":(Ljava/lang/Object;)V
     357: invokeinterface #36,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     362: pop
     363: aload         6
     365: areturn
     366: astore        5
     368: new           #39                 // class java/lang/RuntimeException
     371: dup
     372: ldc           #40                 // String Could not encode Image
     374: aload         5
     376: invokespecial #41                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     379: athrow
    Exception table:
       from    to  target type
          80   365   366   Class java/io/IOException
}
