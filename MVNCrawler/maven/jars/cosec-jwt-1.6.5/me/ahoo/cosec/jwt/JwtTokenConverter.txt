Compiled from "JwtTokenConverter.kt"
public final class me.ahoo.cosec.jwt.JwtTokenConverter implements me.ahoo.cosec.token.TokenConverter {
  private final me.ahoo.cosid.IdGenerator idGenerator;

  private final com.auth0.jwt.algorithms.Algorithm algorithm;

  private final java.time.Duration accessTokenValidity;

  private final java.time.Duration refreshTokenValidity;

  public me.ahoo.cosec.jwt.JwtTokenConverter(me.ahoo.cosid.IdGenerator, com.auth0.jwt.algorithms.Algorithm, java.time.Duration, java.time.Duration);
    Code:
       0: aload_1
       1: ldc           #11                 // String idGenerator
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_2
       7: ldc           #19                 // String algorithm
       9: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_3
      13: ldc           #21                 // String accessTokenValidity
      15: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      18: aload         4
      20: ldc           #23                 // String refreshTokenValidity
      22: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      25: aload_0
      26: invokespecial #26                 // Method java/lang/Object."<init>":()V
      29: aload_0
      30: aload_1
      31: putfield      #29                 // Field idGenerator:Lme/ahoo/cosid/IdGenerator;
      34: aload_0
      35: aload_2
      36: putfield      #32                 // Field algorithm:Lcom/auth0/jwt/algorithms/Algorithm;
      39: aload_0
      40: aload_3
      41: putfield      #35                 // Field accessTokenValidity:Ljava/time/Duration;
      44: aload_0
      45: aload         4
      47: putfield      #37                 // Field refreshTokenValidity:Ljava/time/Duration;
      50: return

  public me.ahoo.cosec.jwt.JwtTokenConverter(me.ahoo.cosid.IdGenerator, com.auth0.jwt.algorithms.Algorithm, java.time.Duration, java.time.Duration, int, kotlin.jvm.internal.DefaultConstructorMarker);
    Code:
       0: iload         5
       2: iconst_4
       3: iand
       4: ifeq          20
       7: ldc2_w        #41                 // long 10l
      10: invokestatic  #48                 // Method java/time/Duration.ofMinutes:(J)Ljava/time/Duration;
      13: dup
      14: ldc           #50                 // String ofMinutes(10)
      16: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      19: astore_3
      20: iload         5
      22: bipush        8
      24: iand
      25: ifeq          42
      28: ldc2_w        #54                 // long 7l
      31: invokestatic  #58                 // Method java/time/Duration.ofDays:(J)Ljava/time/Duration;
      34: dup
      35: ldc           #60                 // String ofDays(7)
      37: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      40: astore        4
      42: aload_0
      43: aload_1
      44: aload_2
      45: aload_3
      46: aload         4
      48: invokespecial #62                 // Method "<init>":(Lme/ahoo/cosid/IdGenerator;Lcom/auth0/jwt/algorithms/Algorithm;Ljava/time/Duration;Ljava/time/Duration;)V
      51: return

  public me.ahoo.cosec.api.token.CompositeToken asToken(me.ahoo.cosec.api.principal.CoSecPrincipal);
    Code:
       0: aload_1
       1: ldc           #66                 // String principal
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: getfield      #29                 // Field idGenerator:Lme/ahoo/cosid/IdGenerator;
      10: invokeinterface #72,  1           // InterfaceMethod me/ahoo/cosid/IdGenerator.generateAsString:()Ljava/lang/String;
      15: dup
      16: ldc           #74                 // String idGenerator.generateAsString()
      18: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      21: astore_2
      22: new           #76                 // class java/util/Date
      25: dup
      26: invokespecial #77                 // Method java/util/Date."<init>":()V
      29: astore_3
      30: new           #76                 // class java/util/Date
      33: dup
      34: invokestatic  #83                 // Method java/lang/System.currentTimeMillis:()J
      37: aload_0
      38: getfield      #35                 // Field accessTokenValidity:Ljava/time/Duration;
      41: invokevirtual #86                 // Method java/time/Duration.toMillis:()J
      44: ladd
      45: invokespecial #89                 // Method java/util/Date."<init>":(J)V
      48: astore        4
      50: aload_1
      51: invokeinterface #95,  1           // InterfaceMethod me/ahoo/cosec/api/principal/CoSecPrincipal.getAttrs:()Ljava/util/Map;
      56: astore        6
      58: nop
      59: iconst_0
      60: istore        7
      62: aload         6
      64: astore        8
      66: new           #97                 // class java/util/LinkedHashMap
      69: dup
      70: invokespecial #98                 // Method java/util/LinkedHashMap."<init>":()V
      73: checkcast     #100                // class java/util/Map
      76: astore        9
      78: iconst_0
      79: istore        10
      81: aload         8
      83: invokeinterface #104,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      88: invokeinterface #110,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      93: astore        11
      95: aload         11
      97: invokeinterface #116,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     102: ifeq          176
     105: aload         11
     107: invokeinterface #120,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     112: checkcast     #122                // class java/util/Map$Entry
     115: astore        12
     117: aload         12
     119: astore        13
     121: iconst_0
     122: istore        14
     124: getstatic     #128                // Field me/ahoo/cosec/jwt/Jwts.INSTANCE:Lme/ahoo/cosec/jwt/Jwts;
     127: aload         13
     129: invokeinterface #131,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     134: checkcast     #133                // class java/lang/String
     137: invokevirtual #137                // Method me/ahoo/cosec/jwt/Jwts.isRegisteredClaim:(Ljava/lang/String;)Z
     140: ifne          147
     143: iconst_1
     144: goto          148
     147: iconst_0
     148: ifeq          95
     151: aload         9
     153: aload         12
     155: invokeinterface #131,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     160: aload         12
     162: invokeinterface #140,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     167: invokeinterface #144,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     172: pop
     173: goto          95
     176: aload         9
     178: nop
     179: invokestatic  #150                // Method kotlin/collections/MapsKt.toMap:(Ljava/util/Map;)Ljava/util/Map;
     182: astore        5
     184: invokestatic  #156                // Method com/auth0/jwt/JWT.create:()Lcom/auth0/jwt/JWTCreator$Builder;
     187: aload_2
     188: invokevirtual #162                // Method com/auth0/jwt/JWTCreator$Builder.withJWTId:(Ljava/lang/String;)Lcom/auth0/jwt/JWTCreator$Builder;
     191: aload_1
     192: invokeinterface #165,  1          // InterfaceMethod me/ahoo/cosec/api/principal/CoSecPrincipal.getId:()Ljava/lang/String;
     197: invokevirtual #168                // Method com/auth0/jwt/JWTCreator$Builder.withSubject:(Ljava/lang/String;)Lcom/auth0/jwt/JWTCreator$Builder;
     200: ldc           #170                // String name
     202: aload_1
     203: invokeinterface #173,  1          // InterfaceMethod me/ahoo/cosec/api/principal/CoSecPrincipal.getName:()Ljava/lang/String;
     208: invokevirtual #177                // Method com/auth0/jwt/JWTCreator$Builder.withClaim:(Ljava/lang/String;Ljava/lang/String;)Lcom/auth0/jwt/JWTCreator$Builder;
     211: ldc           #179                // String policies
     213: aload_1
     214: invokeinterface #182,  1          // InterfaceMethod me/ahoo/cosec/api/principal/CoSecPrincipal.getPolicies:()Ljava/util/Set;
     219: checkcast     #184                // class java/lang/Iterable
     222: invokestatic  #190                // Method kotlin/collections/CollectionsKt.toList:(Ljava/lang/Iterable;)Ljava/util/List;
     225: invokevirtual #193                // Method com/auth0/jwt/JWTCreator$Builder.withClaim:(Ljava/lang/String;Ljava/util/List;)Lcom/auth0/jwt/JWTCreator$Builder;
     228: ldc           #195                // String roles
     230: aload_1
     231: invokeinterface #198,  1          // InterfaceMethod me/ahoo/cosec/api/principal/CoSecPrincipal.getRoles:()Ljava/util/Set;
     236: checkcast     #184                // class java/lang/Iterable
     239: invokestatic  #190                // Method kotlin/collections/CollectionsKt.toList:(Ljava/lang/Iterable;)Ljava/util/List;
     242: invokevirtual #193                // Method com/auth0/jwt/JWTCreator$Builder.withClaim:(Ljava/lang/String;Ljava/util/List;)Lcom/auth0/jwt/JWTCreator$Builder;
     245: aload         5
     247: invokevirtual #202                // Method com/auth0/jwt/JWTCreator$Builder.withPayload:(Ljava/util/Map;)Lcom/auth0/jwt/JWTCreator$Builder;
     250: aload_3
     251: invokevirtual #206                // Method com/auth0/jwt/JWTCreator$Builder.withIssuedAt:(Ljava/util/Date;)Lcom/auth0/jwt/JWTCreator$Builder;
     254: aload         4
     256: invokevirtual #209                // Method com/auth0/jwt/JWTCreator$Builder.withExpiresAt:(Ljava/util/Date;)Lcom/auth0/jwt/JWTCreator$Builder;
     259: astore        6
     261: aload_1
     262: instanceof    #211                // class me/ahoo/cosec/api/tenant/TenantCapable
     265: ifeq          294
     268: aload_1
     269: checkcast     #211                // class me/ahoo/cosec/api/tenant/TenantCapable
     272: astore        7
     274: aload         6
     276: ldc           #213                // String tenant_id
     278: aload         7
     280: invokeinterface #217,  1          // InterfaceMethod me/ahoo/cosec/api/tenant/TenantCapable.getTenant:()Lme/ahoo/cosec/api/tenant/Tenant;
     285: invokeinterface #222,  1          // InterfaceMethod me/ahoo/cosec/api/tenant/Tenant.getTenantId:()Ljava/lang/String;
     290: invokevirtual #177                // Method com/auth0/jwt/JWTCreator$Builder.withClaim:(Ljava/lang/String;Ljava/lang/String;)Lcom/auth0/jwt/JWTCreator$Builder;
     293: pop
     294: aload         6
     296: aload_0
     297: getfield      #32                 // Field algorithm:Lcom/auth0/jwt/algorithms/Algorithm;
     300: invokevirtual #226                // Method com/auth0/jwt/JWTCreator$Builder.sign:(Lcom/auth0/jwt/algorithms/Algorithm;)Ljava/lang/String;
     303: astore        7
     305: aload_0
     306: getfield      #29                 // Field idGenerator:Lme/ahoo/cosid/IdGenerator;
     309: invokeinterface #72,  1           // InterfaceMethod me/ahoo/cosid/IdGenerator.generateAsString:()Ljava/lang/String;
     314: dup
     315: ldc           #74                 // String idGenerator.generateAsString()
     317: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
     320: astore        8
     322: new           #76                 // class java/util/Date
     325: dup
     326: invokestatic  #83                 // Method java/lang/System.currentTimeMillis:()J
     329: aload_0
     330: getfield      #37                 // Field refreshTokenValidity:Ljava/time/Duration;
     333: invokevirtual #86                 // Method java/time/Duration.toMillis:()J
     336: ladd
     337: invokespecial #89                 // Method java/util/Date."<init>":(J)V
     340: astore        9
     342: invokestatic  #156                // Method com/auth0/jwt/JWT.create:()Lcom/auth0/jwt/JWTCreator$Builder;
     345: aload         8
     347: invokevirtual #162                // Method com/auth0/jwt/JWTCreator$Builder.withJWTId:(Ljava/lang/String;)Lcom/auth0/jwt/JWTCreator$Builder;
     350: aload_2
     351: invokevirtual #168                // Method com/auth0/jwt/JWTCreator$Builder.withSubject:(Ljava/lang/String;)Lcom/auth0/jwt/JWTCreator$Builder;
     354: aload_3
     355: invokevirtual #206                // Method com/auth0/jwt/JWTCreator$Builder.withIssuedAt:(Ljava/util/Date;)Lcom/auth0/jwt/JWTCreator$Builder;
     358: aload         9
     360: invokevirtual #209                // Method com/auth0/jwt/JWTCreator$Builder.withExpiresAt:(Ljava/util/Date;)Lcom/auth0/jwt/JWTCreator$Builder;
     363: aload_0
     364: getfield      #32                 // Field algorithm:Lcom/auth0/jwt/algorithms/Algorithm;
     367: invokevirtual #226                // Method com/auth0/jwt/JWTCreator$Builder.sign:(Lcom/auth0/jwt/algorithms/Algorithm;)Ljava/lang/String;
     370: astore        10
     372: new           #228                // class me/ahoo/cosec/token/SimpleCompositeToken
     375: dup
     376: aload         7
     378: ldc           #230                // String accessToken
     380: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
     383: aload         7
     385: aload         10
     387: ldc           #232                // String refreshToken
     389: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
     392: aload         10
     394: invokespecial #235                // Method me/ahoo/cosec/token/SimpleCompositeToken."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     397: checkcast     #237                // class me/ahoo/cosec/api/token/CompositeToken
     400: areturn
}
