Compiled from "PretoucherState.java"
class net.openhft.chronicle.queue.impl.single.PretoucherState {
  private static final int HEAD_ROOM;

  public static final int FACTOR;

  private final java.util.function.LongSupplier posSupplier;

  private int minHeadRoom;

  private long lastTouchedPage;

  private long lastTouchedPos;

  private long lastPos;

  private int lastBytesHashcode;

  private long averageMove;

  public net.openhft.chronicle.queue.impl.single.PretoucherState(java.util.function.LongSupplier);
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #1                  // Field HEAD_ROOM:I
       5: invokespecial #2                  // Method "<init>":(Ljava/util/function/LongSupplier;I)V
       8: return

  public net.openhft.chronicle.queue.impl.single.PretoucherState(java.util.function.LongSupplier, int);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: lconst_0
       6: putfield      #4                  // Field lastTouchedPage:J
       9: aload_0
      10: lconst_0
      11: putfield      #5                  // Field lastTouchedPos:J
      14: aload_0
      15: lconst_0
      16: putfield      #6                  // Field lastPos:J
      19: aload_0
      20: iconst_m1
      21: putfield      #7                  // Field lastBytesHashcode:I
      24: aload_0
      25: lconst_0
      26: putfield      #8                  // Field averageMove:J
      29: aload_0
      30: aload_1
      31: putfield      #9                  // Field posSupplier:Ljava/util/function/LongSupplier;
      34: aload_0
      35: iload_2
      36: putfield      #10                 // Field minHeadRoom:I
      39: return

  static java.io.File getFile(net.openhft.chronicle.bytes.MappedBytes);
    Code:
       0: aload_0
       1: ifnonnull     14
       4: new           #11                 // class java/io/File
       7: dup
       8: ldc           #12                 // String none
      10: invokespecial #13                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      13: areturn
      14: aload_0
      15: invokevirtual #14                 // Method net/openhft/chronicle/bytes/MappedBytes.mappedFile:()Lnet/openhft/chronicle/bytes/MappedFile;
      18: invokevirtual #15                 // Method net/openhft/chronicle/bytes/MappedFile.file:()Ljava/io/File;
      21: areturn

  public void pretouch(net.openhft.chronicle.bytes.MappedBytes);
    Code:
       0: aload_0
       1: getfield      #9                  // Field posSupplier:Ljava/util/function/LongSupplier;
       4: invokeinterface #16,  1           // InterfaceMethod java/util/function/LongSupplier.getAsLong:()J
       9: lstore_2
      10: goto          27
      13: astore        4
      15: new           #18                 // class java/lang/IllegalStateException
      18: dup
      19: ldc           #19                 // String Encountered an NPE, possibly because the store was released by something else
      21: aload         4
      23: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      26: athrow
      27: invokestatic  #21                 // Method net/openhft/chronicle/core/OS.pageSize:()I
      30: istore        4
      32: aload_0
      33: getfield      #7                  // Field lastBytesHashcode:I
      36: aload_1
      37: invokestatic  #22                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
      40: if_icmpeq     132
      43: aload_0
      44: lload_2
      45: lload_2
      46: iload         4
      48: i2l
      49: lrem
      50: lsub
      51: putfield      #4                  // Field lastTouchedPage:J
      54: aload_0
      55: lload_2
      56: putfield      #5                  // Field lastTouchedPos:J
      59: aload_0
      60: aload_1
      61: invokestatic  #22                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
      64: putfield      #7                  // Field lastBytesHashcode:I
      67: aload_0
      68: invokestatic  #21                 // Method net/openhft/chronicle/core/OS.pageSize:()I
      71: i2l
      72: putfield      #8                  // Field averageMove:J
      75: aload_0
      76: lload_2
      77: putfield      #6                  // Field lastPos:J
      80: aload_0
      81: invokevirtual #23                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      84: invokestatic  #24                 // Method net/openhft/chronicle/core/Jvm.isDebugEnabled:(Ljava/lang/Class;)Z
      87: ifeq          478
      90: new           #25                 // class java/lang/StringBuilder
      93: dup
      94: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      97: aload_1
      98: invokestatic  #27                 // Method getFile:(Lnet/openhft/chronicle/bytes/MappedBytes;)Ljava/io/File;
     101: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     104: ldc           #29                 // String  - Reset pretoucher to pos
     106: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: lload_2
     110: invokevirtual #31                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     113: ldc           #32                 // String  as the underlying MappedBytes changed.
     115: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     121: astore        5
     123: aload_0
     124: aload         5
     126: invokevirtual #34                 // Method debug:(Ljava/lang/String;)V
     129: goto          478
     132: lload_2
     133: aload_0
     134: getfield      #6                  // Field lastPos:J
     137: lsub
     138: lstore        5
     140: aload_0
     141: lload         5
     143: ldc2_w        #36                 // long 4l
     146: ldiv
     147: aload_0
     148: getfield      #8                  // Field averageMove:J
     151: ldc2_w        #38                 // long 3l
     154: lmul
     155: ldc2_w        #36                 // long 4l
     158: ldiv
     159: ladd
     160: putfield      #8                  // Field averageMove:J
     163: aload_0
     164: getfield      #10                 // Field minHeadRoom:I
     167: i2l
     168: aload_0
     169: getfield      #8                  // Field averageMove:J
     172: ldc2_w        #36                 // long 4l
     175: lmul
     176: invokestatic  #40                 // Method java/lang/Math.max:(JJ)J
     179: lstore        7
     181: lload_2
     182: lload         7
     184: ladd
     185: lstore        9
     187: aload_0
     188: getfield      #4                  // Field lastTouchedPage:J
     191: lload         9
     193: lcmp
     194: ifge          473
     197: invokestatic  #41                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     200: astore        11
     202: iconst_0
     203: istore        12
     205: iconst_0
     206: istore        13
     208: aload_0
     209: getfield      #4                  // Field lastTouchedPage:J
     212: lload         9
     214: lcmp
     215: ifge          262
     218: aload         11
     220: invokevirtual #42                 // Method java/lang/Thread.isInterrupted:()Z
     223: ifeq          229
     226: goto          262
     229: aload_0
     230: aload_1
     231: aload_0
     232: getfield      #4                  // Field lastTouchedPage:J
     235: invokevirtual #43                 // Method touchPage:(Lnet/openhft/chronicle/bytes/MappedBytes;J)Z
     238: ifeq          244
     241: iinc          13, 1
     244: iinc          12, 1
     247: aload_0
     248: dup
     249: getfield      #4                  // Field lastTouchedPage:J
     252: iload         4
     254: i2l
     255: ladd
     256: putfield      #4                  // Field lastTouchedPage:J
     259: goto          208
     262: aload_0
     263: iload         12
     265: invokevirtual #44                 // Method onTouched:(I)V
     268: iload         13
     270: iload         12
     272: if_icmpge     350
     275: aload_0
     276: dup
     277: getfield      #10                 // Field minHeadRoom:I
     280: ldc           #45                 // int 262144
     282: iadd
     283: putfield      #10                 // Field minHeadRoom:I
     286: aload_0
     287: invokevirtual #23                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     290: invokestatic  #24                 // Method net/openhft/chronicle/core/Jvm.isDebugEnabled:(Ljava/lang/Class;)Z
     293: ifeq          350
     296: aload_0
     297: new           #25                 // class java/lang/StringBuilder
     300: dup
     301: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
     304: ldc           #46                 // String pretouch for only
     306: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     309: iload         13
     311: invokevirtual #47                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     314: ldc           #48                 // String  of
     316: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     319: iload         12
     321: invokevirtual #47                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     324: ldc           #49                 // String  min:
     326: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     329: aload_0
     330: getfield      #10                 // Field minHeadRoom:I
     333: bipush        20
     335: ishr
     336: invokevirtual #47                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     339: ldc           #50                 // String  MB.
     341: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     344: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     347: invokevirtual #34                 // Method debug:(Ljava/lang/String;)V
     350: aload_0
     351: getfield      #9                  // Field posSupplier:Ljava/util/function/LongSupplier;
     354: invokeinterface #16,  1           // InterfaceMethod java/util/function/LongSupplier.getAsLong:()J
     359: lstore        14
     361: aload_0
     362: invokevirtual #23                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     365: invokestatic  #24                 // Method net/openhft/chronicle/core/Jvm.isDebugEnabled:(Ljava/lang/Class;)Z
     368: ifeq          468
     371: new           #25                 // class java/lang/StringBuilder
     374: dup
     375: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
     378: aload_1
     379: invokestatic  #27                 // Method getFile:(Lnet/openhft/chronicle/bytes/MappedBytes;)Ljava/io/File;
     382: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     385: ldc           #51                 // String : Advanced
     387: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     390: lload_2
     391: aload_0
     392: getfield      #5                  // Field lastTouchedPos:J
     395: lsub
     396: ldc2_w        #52                 // long 1024l
     399: ldiv
     400: invokevirtual #31                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     403: ldc           #54                 // String  KB, avg
     405: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     408: aload_0
     409: getfield      #8                  // Field averageMove:J
     412: ldc2_w        #52                 // long 1024l
     415: ldiv
     416: invokevirtual #31                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     419: ldc           #55                 // String  KB between pretouch() and
     421: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     424: lload         14
     426: lload_2
     427: lsub
     428: ldc2_w        #52                 // long 1024l
     431: ldiv
     432: invokevirtual #31                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     435: ldc           #56                 // String  KB while mapping of
     437: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     440: iload         13
     442: iload         4
     444: imul
     445: sipush        1024
     448: idiv
     449: invokevirtual #47                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     452: ldc           #57                 // String  KB
     454: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     457: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     460: astore        16
     462: aload_0
     463: aload         16
     465: invokevirtual #34                 // Method debug:(Ljava/lang/String;)V
     468: aload_0
     469: lload_2
     470: putfield      #5                  // Field lastTouchedPos:J
     473: aload_0
     474: lload_2
     475: putfield      #6                  // Field lastPos:J
     478: return
    Exception table:
       from    to  target type
           0    10    13   Class java/lang/NullPointerException

  protected void debug(java.lang.String);
    Code:
       0: invokestatic  #58                 // Method net/openhft/chronicle/core/Jvm.debug:()Lnet/openhft/chronicle/core/onoes/ExceptionHandler;
       3: aload_0
       4: invokevirtual #23                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       7: aload_1
       8: invokeinterface #59,  3           // InterfaceMethod net/openhft/chronicle/core/onoes/ExceptionHandler.on:(Ljava/lang/Class;Ljava/lang/String;)V
      13: return

  protected boolean touchPage(net.openhft.chronicle.bytes.MappedBytes, long);
    Code:
       0: aload_1
       1: ifnull        18
       4: aload_1
       5: lload_2
       6: lconst_0
       7: lconst_0
       8: invokevirtual #60                 // Method net/openhft/chronicle/bytes/MappedBytes.compareAndSwapLong:(JJJ)Z
      11: ifeq          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  protected void onTouched(int);
    Code:
       0: return

  static {};
    Code:
       0: ldc           #61                 // String PretoucherState.headRoom
       2: ldc           #62                 // int 1048576
       4: invokestatic  #63                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
       7: invokevirtual #64                 // Method java/lang/Integer.intValue:()I
      10: putstatic     #1                  // Field HEAD_ROOM:I
      13: return
}
