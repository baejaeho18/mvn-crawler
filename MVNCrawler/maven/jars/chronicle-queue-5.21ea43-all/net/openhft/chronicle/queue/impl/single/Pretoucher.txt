Compiled from "Pretoucher.java"
public final class net.openhft.chronicle.queue.impl.single.Pretoucher extends net.openhft.chronicle.core.io.AbstractCloseable {
  static final long PRETOUCHER_PREROLL_TIME_DEFAULT_MS;

  private static final long PRETOUCHER_PREROLL_TIME_MS;

  private static final boolean EARLY_ACQUIRE_NEXT_CYCLE;

  private static final boolean CAN_WRITE;

  private final net.openhft.chronicle.queue.impl.single.SingleChronicleQueue queue;

  private final net.openhft.chronicle.bytes.NewChunkListener chunkListener;

  private final java.util.function.IntConsumer cycleChangedListener;

  private final net.openhft.chronicle.queue.impl.single.PretoucherState pretoucherState;

  private final net.openhft.chronicle.core.time.TimeProvider pretouchTimeProvider;

  private int currentCycle;

  private net.openhft.chronicle.queue.impl.single.SingleChronicleQueueStore currentCycleWireStore;

  private net.openhft.chronicle.bytes.MappedBytes currentCycleMappedBytes;

  public net.openhft.chronicle.queue.impl.single.Pretoucher(net.openhft.chronicle.queue.impl.single.SingleChronicleQueue);
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokedynamic #1,  0              // InvokeDynamic #0:accept:()Ljava/util/function/IntConsumer;
       8: invokespecial #2                  // Method "<init>":(Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;Lnet/openhft/chronicle/bytes/NewChunkListener;Ljava/util/function/IntConsumer;)V
      11: return

  net.openhft.chronicle.queue.impl.single.Pretoucher(net.openhft.chronicle.queue.impl.single.SingleChronicleQueue, net.openhft.chronicle.bytes.NewChunkListener, java.util.function.IntConsumer);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method net/openhft/chronicle/core/io/AbstractCloseable."<init>":()V
       4: aload_0
       5: ldc           #5                  // int -2147483648
       7: putfield      #6                  // Field currentCycle:I
      10: aload_0
      11: aload_1
      12: putfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
      15: aload_0
      16: aload_2
      17: putfield      #8                  // Field chunkListener:Lnet/openhft/chronicle/bytes/NewChunkListener;
      20: aload_0
      21: aload_3
      22: putfield      #9                  // Field cycleChangedListener:Ljava/util/function/IntConsumer;
      25: aload_1
      26: aload_0
      27: invokevirtual #10                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.addCloseListener:(Lnet/openhft/chronicle/core/io/Closeable;)V
      30: aload_0
      31: new           #11                 // class net/openhft/chronicle/queue/impl/single/PretoucherState
      34: dup
      35: aload_0
      36: invokedynamic #12,  0             // InvokeDynamic #1:getAsLong:(Lnet/openhft/chronicle/queue/impl/single/Pretoucher;)Ljava/util/function/LongSupplier;
      41: invokespecial #13                 // Method net/openhft/chronicle/queue/impl/single/PretoucherState."<init>":(Ljava/util/function/LongSupplier;)V
      44: putfield      #14                 // Field pretoucherState:Lnet/openhft/chronicle/queue/impl/single/PretoucherState;
      47: aload_0
      48: aload_1
      49: invokedynamic #15,  0             // InvokeDynamic #2:currentTimeMillis:(Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;)Lnet/openhft/chronicle/core/time/TimeProvider;
      54: putfield      #16                 // Field pretouchTimeProvider:Lnet/openhft/chronicle/core/time/TimeProvider;
      57: return

  public void execute() throws net.openhft.chronicle.core.threads.InvalidEventHandlerException;
    Code:
       0: aload_0
       1: invokevirtual #17                 // Method isClosed:()Z
       4: ifeq          15
       7: new           #18                 // class net/openhft/chronicle/core/threads/InvalidEventHandlerException
      10: dup
      11: invokespecial #19                 // Method net/openhft/chronicle/core/threads/InvalidEventHandlerException."<init>":()V
      14: athrow
      15: aload_0
      16: invokevirtual #20                 // Method throwExceptionIfClosed:()V
      19: aload_0
      20: invokespecial #21                 // Method assignCurrentCycle:()V
      23: aload_0
      24: getfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
      27: ifnull        41
      30: aload_0
      31: getfield      #14                 // Field pretoucherState:Lnet/openhft/chronicle/queue/impl/single/PretoucherState;
      34: aload_0
      35: getfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
      38: invokevirtual #23                 // Method net/openhft/chronicle/queue/impl/single/PretoucherState.pretouch:(Lnet/openhft/chronicle/bytes/MappedBytes;)V
      41: goto          77
      44: astore_1
      45: aload_0
      46: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
      49: invokevirtual #25                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.isClosed:()Z
      52: ifeq          64
      55: new           #18                 // class net/openhft/chronicle/core/threads/InvalidEventHandlerException
      58: dup
      59: aload_1
      60: invokespecial #26                 // Method net/openhft/chronicle/core/threads/InvalidEventHandlerException."<init>":(Ljava/lang/Throwable;)V
      63: athrow
      64: invokestatic  #27                 // Method net/openhft/chronicle/core/Jvm.warn:()Lnet/openhft/chronicle/core/onoes/ExceptionHandler;
      67: aload_0
      68: invokevirtual #28                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      71: aload_1
      72: invokeinterface #29,  3           // InterfaceMethod net/openhft/chronicle/core/onoes/ExceptionHandler.on:(Ljava/lang/Class;Ljava/lang/Throwable;)V
      77: return
    Exception table:
       from    to  target type
          19    41    44   Class java/lang/IllegalStateException

  public void shutdown();
    Code:
       0: aload_0
       1: invokevirtual #20                 // Method throwExceptionIfClosed:()V
       4: aload_0
       5: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
       8: invokevirtual #30                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.close:()V
      11: return

  private void assignCurrentCycle();
    Code:
       0: aload_0
       1: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
       4: aload_0
       5: getfield      #16                 // Field pretouchTimeProvider:Lnet/openhft/chronicle/core/time/TimeProvider;
       8: invokevirtual #31                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.cycle:(Lnet/openhft/chronicle/core/time/TimeProvider;)I
      11: istore_1
      12: iload_1
      13: aload_0
      14: getfield      #6                  // Field currentCycle:I
      17: if_icmpeq     331
      20: aload_0
      21: invokespecial #32                 // Method releaseResources:()V
      24: getstatic     #33                 // Field CAN_WRITE:Z
      27: ifeq          42
      30: aload_0
      31: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
      34: invokevirtual #34                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.writeLock:()Lnet/openhft/chronicle/queue/impl/single/WriteLock;
      37: invokeinterface #35,  1           // InterfaceMethod net/openhft/chronicle/queue/impl/single/WriteLock.lock:()V
      42: getstatic     #36                 // Field EARLY_ACQUIRE_NEXT_CYCLE:Z
      45: ifne          138
      48: aload_0
      49: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
      52: ifnull        138
      55: getstatic     #33                 // Field CAN_WRITE:Z
      58: ifeq          138
      61: aload_0
      62: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
      65: aload_0
      66: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
      69: invokevirtual #38                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.wireType:()Lnet/openhft/chronicle/wire/WireType;
      72: aload_0
      73: getfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
      76: invokevirtual #39                 // Method net/openhft/chronicle/wire/WireType.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      79: checkcast     #40                 // class net/openhft/chronicle/wire/Wire
      82: aload_0
      83: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
      86: getfield      #41                 // Field net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.timeoutMS:J
      89: invokevirtual #42                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore.writeEOF:(Lnet/openhft/chronicle/wire/Wire;J)Z
      92: pop
      93: goto          138
      96: astore_2
      97: invokestatic  #27                 // Method net/openhft/chronicle/core/Jvm.warn:()Lnet/openhft/chronicle/core/onoes/ExceptionHandler;
     100: aload_0
     101: invokevirtual #28                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     104: new           #44                 // class java/lang/StringBuilder
     107: dup
     108: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     111: ldc           #46                 // String unable to write the EOF file=
     113: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: aload_0
     117: getfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
     120: invokevirtual #48                 // Method net/openhft/chronicle/bytes/MappedBytes.mappedFile:()Lnet/openhft/chronicle/bytes/MappedFile;
     123: invokevirtual #49                 // Method net/openhft/chronicle/bytes/MappedFile.file:()Ljava/io/File;
     126: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     129: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     132: aload_2
     133: invokeinterface #52,  4           // InterfaceMethod net/openhft/chronicle/core/onoes/ExceptionHandler.on:(Ljava/lang/Class;Ljava/lang/String;Ljava/lang/Throwable;)V
     138: aload_0
     139: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     142: astore_2
     143: aload_0
     144: aload_0
     145: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
     148: iload_1
     149: aload_0
     150: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
     153: invokevirtual #53                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.epoch:()J
     156: getstatic     #33                 // Field CAN_WRITE:Z
     159: aload_0
     160: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     163: invokevirtual #54                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.storeForCycle:(IJZLnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;)Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     166: putfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     169: aload_2
     170: ifnull        185
     173: aload_2
     174: aload_0
     175: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     178: if_acmpeq     185
     181: aload_2
     182: invokevirtual #55                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore.close:()V
     185: getstatic     #33                 // Field CAN_WRITE:Z
     188: ifeq          227
     191: aload_0
     192: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
     195: invokevirtual #34                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.writeLock:()Lnet/openhft/chronicle/queue/impl/single/WriteLock;
     198: invokeinterface #56,  1           // InterfaceMethod net/openhft/chronicle/queue/impl/single/WriteLock.unlock:()V
     203: goto          227
     206: astore_3
     207: getstatic     #33                 // Field CAN_WRITE:Z
     210: ifeq          225
     213: aload_0
     214: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
     217: invokevirtual #34                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.writeLock:()Lnet/openhft/chronicle/queue/impl/single/WriteLock;
     220: invokeinterface #56,  1           // InterfaceMethod net/openhft/chronicle/queue/impl/single/WriteLock.unlock:()V
     225: aload_3
     226: athrow
     227: aload_0
     228: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     231: ifnull        331
     234: aload_0
     235: aload_0
     236: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     239: invokevirtual #57                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore.bytes:()Lnet/openhft/chronicle/bytes/MappedBytes;
     242: putfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
     245: aload_0
     246: iload_1
     247: putfield      #6                  // Field currentCycle:I
     250: aload_0
     251: getfield      #8                  // Field chunkListener:Lnet/openhft/chronicle/bytes/NewChunkListener;
     254: ifnull        268
     257: aload_0
     258: getfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
     261: aload_0
     262: getfield      #8                  // Field chunkListener:Lnet/openhft/chronicle/bytes/NewChunkListener;
     265: invokevirtual #58                 // Method net/openhft/chronicle/bytes/MappedBytes.setNewChunkListener:(Lnet/openhft/chronicle/bytes/NewChunkListener;)V
     268: aload_0
     269: getfield      #9                  // Field cycleChangedListener:Ljava/util/function/IntConsumer;
     272: iload_1
     273: invokeinterface #59,  2           // InterfaceMethod java/util/function/IntConsumer.accept:(I)V
     278: getstatic     #36                 // Field EARLY_ACQUIRE_NEXT_CYCLE:Z
     281: ifeq          331
     284: aload_0
     285: invokevirtual #28                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     288: invokestatic  #60                 // Method net/openhft/chronicle/core/Jvm.isDebugEnabled:(Ljava/lang/Class;)Z
     291: ifeq          331
     294: invokestatic  #61                 // Method net/openhft/chronicle/core/Jvm.debug:()Lnet/openhft/chronicle/core/onoes/ExceptionHandler;
     297: aload_0
     298: invokevirtual #28                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     301: new           #44                 // class java/lang/StringBuilder
     304: dup
     305: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     308: ldc           #62                 // String Pretoucher ROLLING early to next file=
     310: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     313: aload_0
     314: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
     317: invokevirtual #63                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore.file:()Ljava/io/File;
     320: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     323: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     326: invokeinterface #64,  3           // InterfaceMethod net/openhft/chronicle/core/onoes/ExceptionHandler.on:(Ljava/lang/Class;Ljava/lang/String;)V
     331: return
    Exception table:
       from    to  target type
          61    93    96   Class java/lang/Exception
          42   185   206   any

  private long getStoreWritePosition();
    Code:
       0: aload_0
       1: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
       4: invokevirtual #65                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore.writePosition:()J
       7: lreturn

  private void releaseResources();
    Code:
       0: aload_0
       1: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
       4: ifnull        23
       7: aload_0
       8: getfield      #7                  // Field queue:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueue;
      11: aload_0
      12: getfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
      15: invokevirtual #66                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.closeStore:(Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;)V
      18: aload_0
      19: aconst_null
      20: putfield      #37                 // Field currentCycleWireStore:Lnet/openhft/chronicle/queue/impl/single/SingleChronicleQueueStore;
      23: aload_0
      24: getfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
      27: ifnull        42
      30: aload_0
      31: getfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
      34: invokevirtual #67                 // Method net/openhft/chronicle/bytes/MappedBytes.close:()V
      37: aload_0
      38: aconst_null
      39: putfield      #22                 // Field currentCycleMappedBytes:Lnet/openhft/chronicle/bytes/MappedBytes;
      42: return

  protected void performClose();
    Code:
       0: aload_0
       1: invokespecial #32                 // Method releaseResources:()V
       4: return

  private static long lambda$new$1(net.openhft.chronicle.queue.impl.single.SingleChronicleQueue);
    Code:
       0: aload_0
       1: invokevirtual #68                 // Method net/openhft/chronicle/queue/impl/single/SingleChronicleQueue.time:()Lnet/openhft/chronicle/core/time/TimeProvider;
       4: invokeinterface #69,  1           // InterfaceMethod net/openhft/chronicle/core/time/TimeProvider.currentTimeMillis:()J
       9: getstatic     #36                 // Field EARLY_ACQUIRE_NEXT_CYCLE:Z
      12: ifeq          21
      15: getstatic     #70                 // Field PRETOUCHER_PREROLL_TIME_MS:J
      18: goto          22
      21: lconst_0
      22: ladd
      23: lreturn

  private static void lambda$new$0(int);
    Code:
       0: return

  static {};
    Code:
       0: ldc           #71                 // String SingleChronicleQueueExcerpts.pretoucherPrerollTimeMs
       2: ldc2_w        #73                 // long 2000l
       5: invokestatic  #75                 // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
       8: invokevirtual #76                 // Method java/lang/Long.longValue:()J
      11: putstatic     #70                 // Field PRETOUCHER_PREROLL_TIME_MS:J
      14: ldc           #77                 // String SingleChronicleQueueExcerpts.earlyAcquireNextCycle
      16: invokestatic  #78                 // Method net/openhft/chronicle/core/Jvm.getBoolean:(Ljava/lang/String;)Z
      19: putstatic     #36                 // Field EARLY_ACQUIRE_NEXT_CYCLE:Z
      22: ldc           #79                 // String SingleChronicleQueueExcerpts.dontWrite
      24: invokestatic  #78                 // Method net/openhft/chronicle/core/Jvm.getBoolean:(Ljava/lang/String;)Z
      27: ifne          34
      30: iconst_1
      31: goto          35
      34: iconst_0
      35: putstatic     #33                 // Field CAN_WRITE:Z
      38: return
}
