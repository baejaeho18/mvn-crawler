Compiled from "TableDirectoryListing.java"
final class net.openhft.chronicle.queue.impl.single.TableDirectoryListing extends net.openhft.chronicle.core.io.AbstractCloseable implements net.openhft.chronicle.queue.impl.single.DirectoryListing {
  private static final org.slf4j.Logger LOGGER;

  private static final java.lang.String HIGHEST_CREATED_CYCLE;

  private static final java.lang.String LOWEST_CREATED_CYCLE;

  private static final java.lang.String MOD_COUNT;

  private static final int UNSET_MAX_CYCLE;

  private static final int UNSET_MIN_CYCLE;

  private final net.openhft.chronicle.queue.impl.TableStore<?> tableStore;

  private final java.nio.file.Path queuePath;

  private final java.util.function.ToIntFunction<java.io.File> fileToCycleFunction;

  private final boolean readOnly;

  private volatile net.openhft.chronicle.core.values.LongValue maxCycleValue;

  private volatile net.openhft.chronicle.core.values.LongValue minCycleValue;

  private volatile net.openhft.chronicle.core.values.LongValue modCount;

  net.openhft.chronicle.queue.impl.single.TableDirectoryListing(net.openhft.chronicle.queue.impl.TableStore<?>, java.nio.file.Path, java.util.function.ToIntFunction<java.io.File>, boolean);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method net/openhft/chronicle/core/io/AbstractCloseable."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field tableStore:Lnet/openhft/chronicle/queue/impl/TableStore;
       9: aload_0
      10: aload_2
      11: putfield      #4                  // Field queuePath:Ljava/nio/file/Path;
      14: aload_0
      15: aload_3
      16: putfield      #5                  // Field fileToCycleFunction:Ljava/util/function/ToIntFunction;
      19: aload_0
      20: iload         4
      22: putfield      #6                  // Field readOnly:Z
      25: return

  public void init();
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method throwExceptionIfClosedInSetter:()V
       4: aload_0
       5: getfield      #3                  // Field tableStore:Lnet/openhft/chronicle/queue/impl/TableStore;
       8: aload_0
       9: invokedynamic #8,  0              // InvokeDynamic #0:apply:(Lnet/openhft/chronicle/queue/impl/single/TableDirectoryListing;)Ljava/util/function/Function;
      14: invokeinterface #9,  2            // InterfaceMethod net/openhft/chronicle/queue/impl/TableStore.doWithExclusiveLock:(Ljava/util/function/Function;)Ljava/lang/Object;
      19: pop
      20: return

  public void refresh(boolean);
    Code:
       0: aload_0
       1: getfield      #6                  // Field readOnly:Z
       4: ifne          11
       7: iload_1
       8: ifne          12
      11: return
      12: aload_0
      13: invokevirtual #10                 // Method throwExceptionIfClosed:()V
      16: aload_0
      17: invokevirtual #10                 // Method throwExceptionIfClosed:()V
      20: aload_0
      21: getfield      #3                  // Field tableStore:Lnet/openhft/chronicle/queue/impl/TableStore;
      24: invokeinterface #11,  1           // InterfaceMethod net/openhft/chronicle/queue/impl/TableStore.throwExceptionIfClosed:()V
      29: invokestatic  #12                 // Method net/openhft/chronicle/core/Jvm.safepoint:()V
      32: aload_0
      33: getfield      #13                 // Field maxCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      36: invokeinterface #14,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
      41: lstore_2
      42: invokestatic  #12                 // Method net/openhft/chronicle/core/Jvm.safepoint:()V
      45: aload_0
      46: getfield      #4                  // Field queuePath:Ljava/nio/file/Path;
      49: invokeinterface #15,  1           // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
      54: invokedynamic #16,  0             // InvokeDynamic #1:accept:()Ljava/io/FilenameFilter;
      59: invokevirtual #17                 // Method java/io/File.listFiles:(Ljava/io/FilenameFilter;)[Ljava/io/File;
      62: astore        4
      64: ldc           #19                 // int 2147483647
      66: istore        5
      68: ldc           #20                 // int -2147483648
      70: istore        6
      72: aload         4
      74: ifnull        140
      77: aload         4
      79: astore        7
      81: aload         7
      83: arraylength
      84: istore        8
      86: iconst_0
      87: istore        9
      89: iload         9
      91: iload         8
      93: if_icmpge     140
      96: aload         7
      98: iload         9
     100: aaload
     101: astore        10
     103: aload_0
     104: getfield      #5                  // Field fileToCycleFunction:Ljava/util/function/ToIntFunction;
     107: aload         10
     109: invokeinterface #21,  2           // InterfaceMethod java/util/function/ToIntFunction.applyAsInt:(Ljava/lang/Object;)I
     114: istore        11
     116: iload         11
     118: iload         5
     120: invokestatic  #22                 // Method java/lang/Math.min:(II)I
     123: istore        5
     125: iload         11
     127: iload         6
     129: invokestatic  #23                 // Method java/lang/Math.max:(II)I
     132: istore        6
     134: iinc          9, 1
     137: goto          89
     140: aload_0
     141: getfield      #24                 // Field minCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
     144: iload         5
     146: i2l
     147: invokeinterface #25,  3           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.setOrderedValue:(J)V
     152: aload_0
     153: getfield      #13                 // Field maxCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
     156: lload_2
     157: iload         6
     159: i2l
     160: invokeinterface #26,  5           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.compareAndSwapValue:(JJ)Z
     165: ifeq          171
     168: goto          177
     171: invokestatic  #27                 // Method net/openhft/chronicle/core/Jvm.nanoPause:()V
     174: goto          16
     177: return

  public void onFileCreated(java.io.File, int);
    Code:
       0: aload_0
       1: getfield      #6                  // Field readOnly:Z
       4: ifeq          18
       7: getstatic     #28                 // Field LOGGER:Lorg/slf4j/Logger;
      10: ldc           #29                 // String DirectoryListing is read-only, not updating listing
      12: invokeinterface #30,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      17: return
      18: aload_0
      19: getfield      #31                 // Field modCount:Lnet/openhft/chronicle/core/values/LongValue;
      22: lconst_1
      23: invokeinterface #32,  3           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.addAtomicValue:(J)J
      28: pop2
      29: iload_2
      30: aload_0
      31: invokevirtual #33                 // Method getMaxCreatedCycle:()I
      34: if_icmple     48
      37: aload_0
      38: getfield      #13                 // Field maxCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      41: iload_2
      42: i2l
      43: invokeinterface #34,  3           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.setMaxValue:(J)V
      48: iload_2
      49: aload_0
      50: invokespecial #35                 // Method getMinCycleValue:()I
      53: if_icmpge     67
      56: aload_0
      57: getfield      #24                 // Field minCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      60: iload_2
      61: i2l
      62: invokeinterface #36,  3           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.setMinValue:(J)V
      67: return

  public int getMaxCreatedCycle();
    Code:
       0: aload_0
       1: invokespecial #37                 // Method getMaxCycleValue:()I
       4: ireturn

  public int getMinCreatedCycle();
    Code:
       0: aload_0
       1: invokespecial #35                 // Method getMinCycleValue:()I
       4: ireturn

  public long modCount();
    Code:
       0: aload_0
       1: getfield      #31                 // Field modCount:Lnet/openhft/chronicle/core/values/LongValue;
       4: invokeinterface #14,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
       9: lreturn

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #3                  // Field tableStore:Lnet/openhft/chronicle/queue/impl/TableStore;
       4: invokeinterface #38,  1           // InterfaceMethod net/openhft/chronicle/queue/impl/TableStore.dump:()Ljava/lang/String;
       9: areturn

  protected void performClose();
    Code:
       0: iconst_3
       1: anewarray     #39                 // class java/lang/Object
       4: dup
       5: iconst_0
       6: aload_0
       7: getfield      #24                 // Field minCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      10: aastore
      11: dup
      12: iconst_1
      13: aload_0
      14: getfield      #13                 // Field maxCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      17: aastore
      18: dup
      19: iconst_2
      20: aload_0
      21: getfield      #31                 // Field modCount:Lnet/openhft/chronicle/core/values/LongValue;
      24: aastore
      25: invokestatic  #40                 // InterfaceMethod net/openhft/chronicle/core/io/Closeable.closeQuietly:([Ljava/lang/Object;)V
      28: return

  private int getMaxCycleValue();
    Code:
       0: aload_0
       1: getfield      #13                 // Field maxCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
       4: invokeinterface #14,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
       9: l2i
      10: ireturn

  private int getMinCycleValue();
    Code:
       0: aload_0
       1: getfield      #24                 // Field minCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
       4: invokeinterface #14,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
       9: l2i
      10: ireturn

  protected boolean threadSafetyCheck(boolean);
    Code:
       0: iconst_1
       1: ireturn

  private static boolean lambda$refresh$1(java.io.File, java.lang.String);
    Code:
       0: aload_1
       1: ldc           #42                 // String .cq4
       3: invokevirtual #43                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
       6: ireturn

  private net.openhft.chronicle.queue.impl.single.TableDirectoryListing lambda$init$0(net.openhft.chronicle.queue.impl.TableStore);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #44                 // String listing.highestCycle
       4: invokeinterface #45,  2           // InterfaceMethod net/openhft/chronicle/queue/impl/TableStore.acquireValueFor:(Ljava/lang/CharSequence;)Lnet/openhft/chronicle/core/values/LongValue;
       9: putfield      #13                 // Field maxCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      12: aload_0
      13: aload_1
      14: ldc           #46                 // String listing.lowestCycle
      16: invokeinterface #45,  2           // InterfaceMethod net/openhft/chronicle/queue/impl/TableStore.acquireValueFor:(Ljava/lang/CharSequence;)Lnet/openhft/chronicle/core/values/LongValue;
      21: putfield      #24                 // Field minCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      24: aload_0
      25: getfield      #24                 // Field minCycleValue:Lnet/openhft/chronicle/core/values/LongValue;
      28: ldc2_w        #48                 // long -9223372036854775808l
      31: ldc2_w        #50                 // long 2147483647l
      34: invokeinterface #26,  5           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.compareAndSwapValue:(JJ)Z
      39: pop
      40: aload_0
      41: aload_1
      42: ldc           #52                 // String listing.modCount
      44: invokeinterface #45,  2           // InterfaceMethod net/openhft/chronicle/queue/impl/TableStore.acquireValueFor:(Ljava/lang/CharSequence;)Lnet/openhft/chronicle/core/values/LongValue;
      49: putfield      #31                 // Field modCount:Lnet/openhft/chronicle/core/values/LongValue;
      52: aload_0
      53: getfield      #31                 // Field modCount:Lnet/openhft/chronicle/core/values/LongValue;
      56: invokeinterface #14,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
      61: ldc2_w        #48                 // long -9223372036854775808l
      64: lcmp
      65: ifne          82
      68: aload_0
      69: getfield      #31                 // Field modCount:Lnet/openhft/chronicle/core/values/LongValue;
      72: ldc2_w        #48                 // long -9223372036854775808l
      75: lconst_0
      76: invokeinterface #26,  5           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.compareAndSwapValue:(JJ)Z
      81: pop
      82: aload_0
      83: areturn

  static {};
    Code:
       0: ldc           #18                 // class net/openhft/chronicle/queue/impl/single/TableDirectoryListing
       2: invokestatic  #53                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #28                 // Field LOGGER:Lorg/slf4j/Logger;
       8: return
}
