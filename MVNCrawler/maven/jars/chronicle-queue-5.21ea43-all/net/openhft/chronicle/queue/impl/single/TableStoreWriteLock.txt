Compiled from "TableStoreWriteLock.java"
public class net.openhft.chronicle.queue.impl.single.TableStoreWriteLock extends net.openhft.chronicle.queue.impl.table.AbstractTSQueueLock implements net.openhft.chronicle.queue.impl.single.WriteLock {
  private static final java.lang.String LOCK_KEY;

  public static final java.lang.String APPEND_LOCK_KEY;

  private final long timeout;

  private java.lang.Thread lockedByThread;

  private net.openhft.chronicle.core.StackTrace lockedHere;

  static final boolean $assertionsDisabled;

  public net.openhft.chronicle.queue.impl.single.TableStoreWriteLock(net.openhft.chronicle.queue.impl.TableStore<?>, java.util.function.Supplier<net.openhft.chronicle.threads.TimingPauser>, java.lang.Long, java.lang.String);
    Code:
       0: aload_0
       1: aload         4
       3: aload_1
       4: aload_2
       5: invokespecial #1                  // Method net/openhft/chronicle/queue/impl/table/AbstractTSQueueLock."<init>":(Ljava/lang/String;Lnet/openhft/chronicle/queue/impl/TableStore;Ljava/util/function/Supplier;)V
       8: aload_0
       9: aconst_null
      10: putfield      #2                  // Field lockedByThread:Ljava/lang/Thread;
      13: aload_0
      14: aload_3
      15: invokevirtual #3                  // Method java/lang/Long.longValue:()J
      18: putfield      #4                  // Field timeout:J
      21: return

  public net.openhft.chronicle.queue.impl.single.TableStoreWriteLock(net.openhft.chronicle.queue.impl.TableStore<?>, java.util.function.Supplier<net.openhft.chronicle.threads.TimingPauser>, java.lang.Long);
    Code:
       0: aload_0
       1: ldc           #6                  // String chronicle.write.lock
       3: aload_1
       4: aload_2
       5: invokespecial #1                  // Method net/openhft/chronicle/queue/impl/table/AbstractTSQueueLock."<init>":(Ljava/lang/String;Lnet/openhft/chronicle/queue/impl/TableStore;Ljava/util/function/Supplier;)V
       8: aload_0
       9: aconst_null
      10: putfield      #2                  // Field lockedByThread:Ljava/lang/Thread;
      13: aload_0
      14: aload_3
      15: invokevirtual #3                  // Method java/lang/Long.longValue:()J
      18: putfield      #4                  // Field timeout:J
      21: return

  public void lock();
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method throwExceptionIfClosed:()V
       4: getstatic     #8                  // Field $assertionsDisabled:Z
       7: ifne          25
      10: aload_0
      11: invokespecial #9                  // Method checkNotAlreadyLocked:()Z
      14: ifne          25
      17: new           #10                 // class java/lang/AssertionError
      20: dup
      21: invokespecial #11                 // Method java/lang/AssertionError."<init>":()V
      24: athrow
      25: lconst_0
      26: lstore_1
      27: iconst_0
      28: istore_3
      29: aload_0
      30: getfield      #12                 // Field lock:Lnet/openhft/chronicle/core/values/LongValue;
      33: invokeinterface #13,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
      38: lstore_1
      39: aload_0
      40: getfield      #12                 // Field lock:Lnet/openhft/chronicle/core/values/LongValue;
      43: ldc2_w        #15                 // long -9223372036854775808l
      46: getstatic     #17                 // Field PID:J
      49: invokeinterface #18,  5           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.compareAndSwapValue:(JJ)Z
      54: ifne          132
      57: iload_3
      58: iinc          3, 1
      61: sipush        1000
      64: if_icmple     103
      67: invokestatic  #19                 // Method java/lang/Thread.interrupted:()Z
      70: ifeq          103
      73: new           #20                 // class java/lang/IllegalStateException
      76: dup
      77: new           #21                 // class java/lang/StringBuilder
      80: dup
      81: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      84: ldc           #23                 // String Interrupted for the lock file:
      86: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: aload_0
      90: getfield      #25                 // Field path:Ljava/io/File;
      93: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      96: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      99: invokespecial #28                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     102: athrow
     103: aload_0
     104: getfield      #29                 // Field pauser:Lnet/openhft/chronicle/threads/TimingPauser;
     107: aload_0
     108: getfield      #4                  // Field timeout:J
     111: getstatic     #30                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     114: invokeinterface #31,  4           // InterfaceMethod net/openhft/chronicle/threads/TimingPauser.pause:(JLjava/util/concurrent/TimeUnit;)V
     119: aload_0
     120: getfield      #12                 // Field lock:Lnet/openhft/chronicle/core/values/LongValue;
     123: invokeinterface #13,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
     128: lstore_1
     129: goto          39
     132: getstatic     #8                  // Field $assertionsDisabled:Z
     135: ifne          172
     138: aload_0
     139: invokestatic  #32                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     142: dup_x1
     143: putfield      #2                  // Field lockedByThread:Ljava/lang/Thread;
     146: ifnull        164
     149: aload_0
     150: new           #33                 // class net/openhft/chronicle/core/StackTrace
     153: dup
     154: invokespecial #34                 // Method net/openhft/chronicle/core/StackTrace."<init>":()V
     157: dup_x1
     158: putfield      #35                 // Field lockedHere:Lnet/openhft/chronicle/core/StackTrace;
     161: ifnonnull     172
     164: new           #10                 // class java/lang/AssertionError
     167: dup
     168: invokespecial #11                 // Method java/lang/AssertionError."<init>":()V
     171: athrow
     172: aload_0
     173: getfield      #29                 // Field pauser:Lnet/openhft/chronicle/threads/TimingPauser;
     176: invokeinterface #36,  1           // InterfaceMethod net/openhft/chronicle/threads/TimingPauser.reset:()V
     181: goto          338
     184: astore_3
     185: aload_0
     186: lload_1
     187: invokevirtual #38                 // Method getLockedBy:(J)Ljava/lang/String;
     190: astore        4
     192: new           #21                 // class java/lang/StringBuilder
     195: dup
     196: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     199: ldc           #39                 // String Couldn\'t acquire write lock after
     201: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     204: aload_0
     205: getfield      #4                  // Field timeout:J
     208: invokevirtual #40                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     211: ldc           #41                 // String  ms for the lock file:
     213: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     216: aload_0
     217: getfield      #25                 // Field path:Ljava/io/File;
     220: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     223: ldc           #42                 // String . Lock was held by
     225: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     228: aload         4
     230: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     236: astore        5
     238: aload_0
     239: getfield      #43                 // Field dontRecoverLockTimeout:Z
     242: ifeq          262
     245: new           #44                 // class net/openhft/chronicle/wire/UnrecoverableTimeoutException
     248: dup
     249: new           #20                 // class java/lang/IllegalStateException
     252: dup
     253: aload         5
     255: invokespecial #28                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     258: invokespecial #45                 // Method net/openhft/chronicle/wire/UnrecoverableTimeoutException."<init>":(Ljava/lang/Exception;)V
     261: athrow
     262: invokestatic  #46                 // Method net/openhft/chronicle/core/Jvm.warn:()Lnet/openhft/chronicle/core/onoes/ExceptionHandler;
     265: aload_0
     266: invokevirtual #47                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     269: new           #21                 // class java/lang/StringBuilder
     272: dup
     273: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     276: aload         5
     278: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     281: ldc           #48                 // String . Unlocking forcibly
     283: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     286: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     289: invokeinterface #49,  3           // InterfaceMethod net/openhft/chronicle/core/onoes/ExceptionHandler.on:(Ljava/lang/Class;Ljava/lang/String;)V
     294: aload_0
     295: lload_1
     296: invokevirtual #50                 // Method forceUnlock:(J)V
     299: aload_0
     300: getfield      #29                 // Field pauser:Lnet/openhft/chronicle/threads/TimingPauser;
     303: invokeinterface #36,  1           // InterfaceMethod net/openhft/chronicle/threads/TimingPauser.reset:()V
     308: aload_0
     309: invokevirtual #51                 // Method lock:()V
     312: aload_0
     313: getfield      #29                 // Field pauser:Lnet/openhft/chronicle/threads/TimingPauser;
     316: invokeinterface #36,  1           // InterfaceMethod net/openhft/chronicle/threads/TimingPauser.reset:()V
     321: goto          338
     324: astore        6
     326: aload_0
     327: getfield      #29                 // Field pauser:Lnet/openhft/chronicle/threads/TimingPauser;
     330: invokeinterface #36,  1           // InterfaceMethod net/openhft/chronicle/threads/TimingPauser.reset:()V
     335: aload         6
     337: athrow
     338: return
    Exception table:
       from    to  target type
          27   172   184   Class java/util/concurrent/TimeoutException
          27   172   324   any
         184   312   324   any
         324   326   324   any

  protected java.lang.String getLockedBy(long);
    Code:
       0: lload_1
       1: ldc2_w        #15                 // long -9223372036854775808l
       4: lcmp
       5: ifne          13
       8: ldc           #53                 // String unknown
      10: goto          32
      13: lload_1
      14: getstatic     #17                 // Field PID:J
      17: lcmp
      18: ifne          26
      21: ldc           #54                 // String me
      23: goto          32
      26: lload_1
      27: l2i
      28: i2l
      29: invokestatic  #55                 // Method java/lang/Long.toString:(J)Ljava/lang/String;
      32: areturn

  private boolean checkNotAlreadyLocked();
    Code:
       0: aload_0
       1: invokevirtual #56                 // Method locked:()Z
       4: ifne          9
       7: iconst_1
       8: ireturn
       9: aload_0
      10: getfield      #2                  // Field lockedByThread:Ljava/lang/Thread;
      13: ifnonnull     18
      16: iconst_1
      17: ireturn
      18: aload_0
      19: getfield      #2                  // Field lockedByThread:Ljava/lang/Thread;
      22: invokestatic  #32                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      25: if_acmpne     42
      28: new           #10                 // class java/lang/AssertionError
      31: dup
      32: ldc           #57                 // String Lock is already acquired by current thread and is not reentrant - nested document context?
      34: aload_0
      35: getfield      #35                 // Field lockedHere:Lnet/openhft/chronicle/core/StackTrace;
      38: invokespecial #58                 // Method java/lang/AssertionError."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      41: athrow
      42: iconst_1
      43: ireturn

  public void unlock();
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method throwExceptionIfClosed:()V
       4: aload_0
       5: getfield      #12                 // Field lock:Lnet/openhft/chronicle/core/values/LongValue;
       8: getstatic     #17                 // Field PID:J
      11: ldc2_w        #15                 // long -9223372036854775808l
      14: invokeinterface #18,  5           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.compareAndSwapValue:(JJ)Z
      19: ifne          124
      22: aload_0
      23: getfield      #12                 // Field lock:Lnet/openhft/chronicle/core/values/LongValue;
      26: invokeinterface #13,  1           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:()J
      31: lstore_1
      32: lload_1
      33: ldc2_w        #15                 // long -9223372036854775808l
      36: lcmp
      37: ifne          77
      40: invokestatic  #46                 // Method net/openhft/chronicle/core/Jvm.warn:()Lnet/openhft/chronicle/core/onoes/ExceptionHandler;
      43: aload_0
      44: invokevirtual #47                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      47: new           #21                 // class java/lang/StringBuilder
      50: dup
      51: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      54: ldc           #59                 // String Write lock was already unlocked. For the lock file:
      56: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: aload_0
      60: getfield      #25                 // Field path:Ljava/io/File;
      63: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      66: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      69: invokeinterface #49,  3           // InterfaceMethod net/openhft/chronicle/core/onoes/ExceptionHandler.on:(Ljava/lang/Class;Ljava/lang/String;)V
      74: goto          124
      77: invokestatic  #46                 // Method net/openhft/chronicle/core/Jvm.warn:()Lnet/openhft/chronicle/core/onoes/ExceptionHandler;
      80: aload_0
      81: invokevirtual #47                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      84: new           #21                 // class java/lang/StringBuilder
      87: dup
      88: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      91: ldc           #60                 // String Write lock was locked by someone else! For the lock file:
      93: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: aload_0
      97: getfield      #25                 // Field path:Ljava/io/File;
     100: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     103: ldc           #61                 // String  by PID:
     105: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload_0
     109: lload_1
     110: invokevirtual #38                 // Method getLockedBy:(J)Ljava/lang/String;
     113: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokeinterface #49,  3           // InterfaceMethod net/openhft/chronicle/core/onoes/ExceptionHandler.on:(Ljava/lang/Class;Ljava/lang/String;)V
     124: aload_0
     125: aconst_null
     126: putfield      #2                  // Field lockedByThread:Ljava/lang/Thread;
     129: aload_0
     130: aconst_null
     131: putfield      #35                 // Field lockedHere:Lnet/openhft/chronicle/core/StackTrace;
     134: return

  public boolean locked();
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method throwExceptionIfClosed:()V
       4: aload_0
       5: getfield      #12                 // Field lock:Lnet/openhft/chronicle/core/values/LongValue;
       8: ldc2_w        #15                 // long -9223372036854775808l
      11: invokeinterface #62,  3           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.getVolatileValue:(J)J
      16: ldc2_w        #15                 // long -9223372036854775808l
      19: lcmp
      20: ifeq          27
      23: iconst_1
      24: goto          28
      27: iconst_0
      28: ireturn

  public void forceUnlock();
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method throwExceptionIfClosed:()V
       4: aload_0
       5: invokevirtual #56                 // Method locked:()Z
       8: ifeq          19
      11: aload_0
      12: aload_0
      13: invokevirtual #63                 // Method lockedBy:()J
      16: invokevirtual #50                 // Method forceUnlock:(J)V
      19: return

  public void forceUnlockQuietly();
    Code:
       0: aload_0
       1: getfield      #12                 // Field lock:Lnet/openhft/chronicle/core/values/LongValue;
       4: ldc2_w        #15                 // long -9223372036854775808l
       7: invokeinterface #64,  3           // InterfaceMethod net/openhft/chronicle/core/values/LongValue.setValue:(J)V
      12: return

  static {};
    Code:
       0: ldc           #5                  // class net/openhft/chronicle/queue/impl/single/TableStoreWriteLock
       2: invokevirtual #65                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #8                  // Field $assertionsDisabled:Z
      16: return
}
