Compiled from "EventDataFactory.java"
public class org.sonatype.nexus.analytics.EventDataFactory {
  private final org.sonatype.nexus.analytics.RollingCounter counter;

  private final org.sonatype.nexus.common.node.NodeAccess nodeAccess;

  public org.sonatype.nexus.analytics.EventDataFactory(org.sonatype.nexus.common.node.NodeAccess);
    Code:
       0: aload_0
       1: invokespecial #14                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #17                 // class org/sonatype/nexus/analytics/RollingCounter
       8: dup
       9: ldc2_w        #19                 // long 999999999999999l
      12: invokespecial #21                 // Method org/sonatype/nexus/analytics/RollingCounter."<init>":(J)V
      15: putfield      #24                 // Field counter:Lorg/sonatype/nexus/analytics/RollingCounter;
      18: aload_0
      19: aload_1
      20: invokestatic  #26                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #32                 // class org/sonatype/nexus/common/node/NodeAccess
      26: putfield      #34                 // Field nodeAccess:Lorg/sonatype/nexus/common/node/NodeAccess;
      29: return

  public org.sonatype.nexus.analytics.EventData create(java.lang.String);
    Code:
       0: new           #42                 // class org/sonatype/nexus/analytics/EventData
       3: dup
       4: invokespecial #44                 // Method org/sonatype/nexus/analytics/EventData."<init>":()V
       7: astore_2
       8: aload_2
       9: aload_1
      10: invokevirtual #45                 // Method org/sonatype/nexus/analytics/EventData.setType:(Ljava/lang/String;)V
      13: aload_2
      14: invokestatic  #49                 // Method java/lang/System.currentTimeMillis:()J
      17: invokestatic  #55                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      20: invokevirtual #61                 // Method org/sonatype/nexus/analytics/EventData.setTimestamp:(Ljava/lang/Long;)V
      23: aload_2
      24: aload_0
      25: getfield      #24                 // Field counter:Lorg/sonatype/nexus/analytics/RollingCounter;
      28: invokevirtual #65                 // Method org/sonatype/nexus/analytics/RollingCounter.next:()J
      31: invokestatic  #55                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      34: invokevirtual #68                 // Method org/sonatype/nexus/analytics/EventData.setSequence:(Ljava/lang/Long;)V
      37: invokestatic  #71                 // Method org/apache/shiro/SecurityUtils.getSubject:()Lorg/apache/shiro/subject/Subject;
      40: astore_3
      41: aload_3
      42: ifnull        95
      45: aload_3
      46: invokeinterface #77,  1           // InterfaceMethod org/apache/shiro/subject/Subject.getPrincipal:()Ljava/lang/Object;
      51: astore        4
      53: aload         4
      55: ifnull        67
      58: aload_2
      59: aload         4
      61: invokevirtual #83                 // Method java/lang/Object.toString:()Ljava/lang/String;
      64: invokevirtual #87                 // Method org/sonatype/nexus/analytics/EventData.setUserId:(Ljava/lang/String;)V
      67: aload_3
      68: iconst_0
      69: invokeinterface #90,  2           // InterfaceMethod org/apache/shiro/subject/Subject.getSession:(Z)Lorg/apache/shiro/session/Session;
      74: astore        5
      76: aload         5
      78: ifnull        95
      81: aload_2
      82: aload         5
      84: invokeinterface #94,  1           // InterfaceMethod org/apache/shiro/session/Session.getId:()Ljava/io/Serializable;
      89: invokevirtual #83                 // Method java/lang/Object.toString:()Ljava/lang/String;
      92: invokevirtual #100                // Method org/sonatype/nexus/analytics/EventData.setSessionId:(Ljava/lang/String;)V
      95: aload_0
      96: getfield      #34                 // Field nodeAccess:Lorg/sonatype/nexus/common/node/NodeAccess;
      99: invokeinterface #103,  1          // InterfaceMethod org/sonatype/nexus/common/node/NodeAccess.getId:()Ljava/lang/String;
     104: ifnull        128
     107: aload_2
     108: invokevirtual #105                // Method org/sonatype/nexus/analytics/EventData.getAttributes:()Ljava/util/Map;
     111: ldc           #109                // String nodeId
     113: aload_0
     114: getfield      #34                 // Field nodeAccess:Lorg/sonatype/nexus/common/node/NodeAccess;
     117: invokeinterface #103,  1          // InterfaceMethod org/sonatype/nexus/common/node/NodeAccess.getId:()Ljava/lang/String;
     122: invokeinterface #111,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     127: pop
     128: aload_2
     129: areturn
}
