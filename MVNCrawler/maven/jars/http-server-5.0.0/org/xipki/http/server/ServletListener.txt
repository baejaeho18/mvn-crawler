Compiled from "ServletListener.java"
public class org.xipki.http.server.ServletListener {
  private static final org.slf4j.Logger LOG;

  private final java.util.concurrent.ConcurrentMap<org.xipki.http.servlet.HttpServlet, java.lang.String> servletAliasMap;

  private final java.util.concurrent.ConcurrentMap<java.lang.String, org.xipki.http.servlet.HttpServlet> aliasServletMap;

  private final java.util.Set<java.lang.String> aliases;

  public org.xipki.http.server.ServletListener();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field servletAliasMap:Ljava/util/concurrent/ConcurrentMap;
      15: aload_0
      16: new           #2                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      23: putfield      #5                  // Field aliasServletMap:Ljava/util/concurrent/ConcurrentMap;
      26: aload_0
      27: new           #6                  // class java/util/HashSet
      30: dup
      31: invokespecial #7                  // Method java/util/HashSet."<init>":()V
      34: putfield      #8                  // Field aliases:Ljava/util/Set;
      37: return

  public void register(org.xipki.http.servlet.HttpServlet, java.util.Map<?, ?>);
    Code:
       0: aload_2
       1: ifnonnull     15
       4: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
       7: ldc           #10                 // String registerServlet invoked with null properties, ingore it
       9: invokeinterface #11,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      14: return
      15: aload_2
      16: ldc           #12                 // String alias
      18: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: astore_3
      24: aload_3
      25: instanceof    #14                 // class java/lang/String
      28: ifne          49
      31: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
      34: ldc           #15                 // String registerServlet invoked with invalid type ({}) of alias, ingore it
      36: aload_3
      37: invokevirtual #16                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      40: invokevirtual #17                 // Method java/lang/Class.getName:()Ljava/lang/String;
      43: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      48: return
      49: aload_0
      50: aload_1
      51: aload_3
      52: checkcast     #14                 // class java/lang/String
      55: invokevirtual #19                 // Method register:(Lorg/xipki/http/servlet/HttpServlet;Ljava/lang/String;)V
      58: return

  public void register(org.xipki.http.servlet.HttpServlet, java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     15
       4: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
       7: ldc           #20                 // String registerServlet invoked with null servlet, ingore it
       9: invokeinterface #11,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      14: return
      15: aload_2
      16: invokevirtual #21                 // Method java/lang/String.isEmpty:()Z
      19: ifeq          33
      22: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
      25: ldc           #22                 // String registerServlet invoked with empty alias, ingore it
      27: invokeinterface #11,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      32: return
      33: new           #23                 // class java/util/StringTokenizer
      36: dup
      37: aload_2
      38: ldc           #24                 // String ,
      40: invokespecial #25                 // Method java/util/StringTokenizer."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      43: astore_3
      44: new           #26                 // class java/util/ArrayList
      47: dup
      48: aload_3
      49: invokevirtual #27                 // Method java/util/StringTokenizer.countTokens:()I
      52: invokespecial #28                 // Method java/util/ArrayList."<init>":(I)V
      55: astore        4
      57: aload_3
      58: invokevirtual #29                 // Method java/util/StringTokenizer.hasMoreTokens:()Z
      61: ifeq          94
      64: aload_3
      65: invokevirtual #30                 // Method java/util/StringTokenizer.nextToken:()Ljava/lang/String;
      68: invokevirtual #31                 // Method java/lang/String.trim:()Ljava/lang/String;
      71: astore        5
      73: aload         5
      75: invokevirtual #21                 // Method java/lang/String.isEmpty:()Z
      78: ifne          91
      81: aload         4
      83: aload         5
      85: invokeinterface #32,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      90: pop
      91: goto          57
      94: aload         4
      96: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     101: astore        5
     103: aload         5
     105: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     110: ifeq          346
     113: aload         5
     115: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     120: checkcast     #14                 // class java/lang/String
     123: astore        6
     125: aload         6
     127: iconst_0
     128: invokevirtual #36                 // Method java/lang/String.charAt:(I)C
     131: bipush        47
     133: if_icmpeq     158
     136: new           #37                 // class java/lang/StringBuilder
     139: dup
     140: invokespecial #38                 // Method java/lang/StringBuilder."<init>":()V
     143: ldc           #39                 // String /
     145: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     148: aload         6
     150: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     153: invokevirtual #41                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     156: astore        6
     158: aload         6
     160: invokevirtual #42                 // Method java/lang/String.length:()I
     163: iconst_1
     164: if_icmple     199
     167: aload         6
     169: aload         6
     171: invokevirtual #42                 // Method java/lang/String.length:()I
     174: iconst_1
     175: isub
     176: invokevirtual #36                 // Method java/lang/String.charAt:(I)C
     179: bipush        47
     181: if_icmpne     199
     184: aload         6
     186: iconst_0
     187: aload         6
     189: invokevirtual #42                 // Method java/lang/String.length:()I
     192: iconst_1
     193: isub
     194: invokevirtual #43                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     197: astore        6
     199: aload_0
     200: getfield      #8                  // Field aliases:Ljava/util/Set;
     203: aload         6
     205: invokeinterface #44,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     210: ifeq          228
     213: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
     216: ldc           #45                 // String registerServlet invoked with duplicated alias {}, ingore it
     218: aload         6
     220: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     225: goto          103
     228: aload_0
     229: getfield      #4                  // Field servletAliasMap:Ljava/util/concurrent/ConcurrentMap;
     232: aload_1
     233: aload         6
     235: invokeinterface #46,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     240: checkcast     #14                 // class java/lang/String
     243: astore        7
     245: aload_0
     246: getfield      #8                  // Field aliases:Ljava/util/Set;
     249: aload         6
     251: invokeinterface #47,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     256: pop
     257: aload_0
     258: getfield      #5                  // Field aliasServletMap:Ljava/util/concurrent/ConcurrentMap;
     261: aload         6
     263: aload_1
     264: invokeinterface #46,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     269: pop
     270: aload         7
     272: ifnull        330
     275: aload_0
     276: getfield      #8                  // Field aliases:Ljava/util/Set;
     279: aload         7
     281: invokeinterface #48,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     286: pop
     287: aload_0
     288: getfield      #5                  // Field aliasServletMap:Ljava/util/concurrent/ConcurrentMap;
     291: aload         7
     293: invokeinterface #49,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     298: pop
     299: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
     302: ldc           #50                 // String re-register HttpServet {} for alias {} (previous {})
     304: iconst_3
     305: anewarray     #51                 // class java/lang/Object
     308: dup
     309: iconst_0
     310: aload_1
     311: aastore
     312: dup
     313: iconst_1
     314: aload         6
     316: aastore
     317: dup
     318: iconst_2
     319: aload         7
     321: aastore
     322: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     327: goto          343
     330: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
     333: ldc           #53                 // String register HttpServet {} for alias {}
     335: aload_1
     336: aload         6
     338: invokeinterface #54,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     343: goto          103
     346: return

  public void unregister(org.xipki.http.servlet.HttpServlet);
    Code:
       0: aload_1
       1: ifnonnull     15
       4: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
       7: ldc           #55                 // String unregisterServlet invoked with null.
       9: invokeinterface #56,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      14: return
      15: aload_0
      16: getfield      #4                  // Field servletAliasMap:Ljava/util/concurrent/ConcurrentMap;
      19: aload_1
      20: invokeinterface #49,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #14                 // class java/lang/String
      28: astore_2
      29: aload_2
      30: ifnull        69
      33: aload_0
      34: getfield      #8                  // Field aliases:Ljava/util/Set;
      37: aload_2
      38: invokeinterface #48,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      43: pop
      44: aload_0
      45: getfield      #5                  // Field aliasServletMap:Ljava/util/concurrent/ConcurrentMap;
      48: aload_2
      49: invokeinterface #49,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      54: pop
      55: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
      58: ldc           #57                 // String removed HttpServlet for {}
      60: aload_1
      61: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      66: goto          80
      69: getstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
      72: ldc           #58                 // String no HttpServlet found to remove for {}
      74: aload_1
      75: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      80: return

  public java.lang.Object[] getServlet(java.lang.String) throws java.net.URISyntaxException;
    Code:
       0: aload_1
       1: ldc           #59                 // String http://
       3: invokevirtual #60                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
       6: ifne          18
       9: aload_1
      10: ldc           #61                 // String https://
      12: invokevirtual #60                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      15: ifeq          30
      18: new           #62                 // class java/net/URI
      21: dup
      22: aload_1
      23: invokespecial #63                 // Method java/net/URI."<init>":(Ljava/lang/String;)V
      26: invokevirtual #64                 // Method java/net/URI.getPath:()Ljava/lang/String;
      29: astore_1
      30: aconst_null
      31: astore_2
      32: aconst_null
      33: astore_3
      34: aload_0
      35: getfield      #8                  // Field aliases:Ljava/util/Set;
      38: invokeinterface #65,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      43: astore        4
      45: aload         4
      47: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      52: ifeq          192
      55: aload         4
      57: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      62: checkcast     #14                 // class java/lang/String
      65: astore        5
      67: aload         5
      69: ldc           #39                 // String /
      71: invokevirtual #66                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      74: ifeq          85
      77: aload         5
      79: astore_2
      80: aload_1
      81: astore_3
      82: goto          192
      85: aload_1
      86: aload         5
      88: invokevirtual #60                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      91: ifeq          182
      94: aload_1
      95: invokevirtual #42                 // Method java/lang/String.length:()I
      98: istore        6
     100: aload         5
     102: invokevirtual #42                 // Method java/lang/String.length:()I
     105: istore        7
     107: iload         6
     109: iload         7
     111: if_icmpne     123
     114: ldc           #39                 // String /
     116: astore_3
     117: aload         5
     119: astore_2
     120: goto          182
     123: aload_1
     124: iload         7
     126: invokevirtual #36                 // Method java/lang/String.charAt:(I)C
     129: istore        8
     131: iload         8
     133: bipush        47
     135: if_icmpne     165
     138: iload         6
     140: iload         7
     142: iconst_1
     143: iadd
     144: if_icmpne     152
     147: ldc           #39                 // String /
     149: goto          158
     152: aload_1
     153: iload         7
     155: invokevirtual #67                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     158: astore_3
     159: aload         5
     161: astore_2
     162: goto          182
     165: iload         8
     167: bipush        63
     169: if_icmpne     182
     172: aload_1
     173: iload         7
     175: invokevirtual #67                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     178: astore_3
     179: aload         5
     181: astore_2
     182: aload_2
     183: ifnull        189
     186: goto          192
     189: goto          45
     192: aload_2
     193: ifnonnull     198
     196: aconst_null
     197: areturn
     198: aload_3
     199: invokestatic  #68                 // Method org/xipki/http/servlet/ServletURIPool.getServletURI:(Ljava/lang/String;)Lorg/xipki/http/servlet/ServletURI;
     202: astore        4
     204: aload_0
     205: getfield      #5                  // Field aliasServletMap:Ljava/util/concurrent/ConcurrentMap;
     208: aload_2
     209: invokeinterface #69,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     214: checkcast     #70                 // class org/xipki/http/servlet/HttpServlet
     217: astore        5
     219: iconst_2
     220: anewarray     #51                 // class java/lang/Object
     223: dup
     224: iconst_0
     225: aload         4
     227: aastore
     228: dup
     229: iconst_1
     230: aload         5
     232: aastore
     233: areturn

  static {};
    Code:
       0: ldc           #71                 // class org/xipki/http/server/ServletListener
       2: invokestatic  #72                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #9                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
