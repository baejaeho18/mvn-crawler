Compiled from "HttpRetryHandler.java"
public class org.elasticsearch.hadoop.rest.bulk.handler.impl.HttpRetryHandler extends org.elasticsearch.hadoop.rest.bulk.handler.BulkWriteErrorHandler {
  private final org.elasticsearch.hadoop.rest.Retry retry;

  private int retryLimit;

  private long retryTime;

  public org.elasticsearch.hadoop.rest.bulk.handler.impl.HttpRetryHandler();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteErrorHandler."<init>":()V
       4: new           #7                  // class org/elasticsearch/hadoop/EsHadoopIllegalArgumentException
       7: dup
       8: ldc           #9                  // String HttpRetryHandler is not loadable through the default handler loader logic. Set the HttpRetryPolicy instead.
      10: invokespecial #11                 // Method org/elasticsearch/hadoop/EsHadoopIllegalArgumentException."<init>":(Ljava/lang/String;)V
      13: athrow

  public org.elasticsearch.hadoop.rest.bulk.handler.impl.HttpRetryHandler(org.elasticsearch.hadoop.cfg.Settings);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteErrorHandler."<init>":()V
       4: aload_1
       5: invokevirtual #14                 // Method org/elasticsearch/hadoop/cfg/Settings.getBatchWriteRetryPolicy:()Ljava/lang/String;
       8: astore_2
       9: ldc           #22                 // String simple
      11: aload_2
      12: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      15: ifeq          27
      18: ldc           #30                 // class org/elasticsearch/hadoop/rest/SimpleHttpRetryPolicy
      20: invokevirtual #32                 // Method java/lang/Class.getName:()Ljava/lang/String;
      23: astore_2
      24: goto          42
      27: ldc           #37                 // String none
      29: aload_2
      30: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      33: ifeq          42
      36: ldc           #39                 // class org/elasticsearch/hadoop/rest/NoHttpRetryPolicy
      38: invokevirtual #32                 // Method java/lang/Class.getName:()Ljava/lang/String;
      41: astore_2
      42: aload_2
      43: aload_1
      44: invokestatic  #41                 // Method org/elasticsearch/hadoop/util/ObjectUtils.instantiate:(Ljava/lang/String;Lorg/elasticsearch/hadoop/cfg/Settings;)Ljava/lang/Object;
      47: checkcast     #47                 // class org/elasticsearch/hadoop/rest/HttpRetryPolicy
      50: astore_3
      51: aload_0
      52: aload_3
      53: invokeinterface #49,  1           // InterfaceMethod org/elasticsearch/hadoop/rest/HttpRetryPolicy.init:()Lorg/elasticsearch/hadoop/rest/Retry;
      58: putfield      #53                 // Field retry:Lorg/elasticsearch/hadoop/rest/Retry;
      61: aload_0
      62: aload_1
      63: invokevirtual #59                 // Method org/elasticsearch/hadoop/cfg/Settings.getBatchWriteRetryCount:()I
      66: putfield      #63                 // Field retryLimit:I
      69: aload_0
      70: aload_1
      71: invokevirtual #67                 // Method org/elasticsearch/hadoop/cfg/Settings.getBatchWriteRetryWait:()J
      74: putfield      #71                 // Field retryTime:J
      77: return

  public org.elasticsearch.hadoop.handler.HandlerResult onError(org.elasticsearch.hadoop.rest.bulk.handler.BulkWriteFailure, org.elasticsearch.hadoop.rest.bulk.handler.DelayableErrorCollector<byte[]>) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #75                 // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure.getResponseCode:()I
       4: iconst_m1
       5: if_icmpne     27
       8: aload_1
       9: invokevirtual #80                 // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure.getException:()Ljava/lang/Exception;
      12: invokevirtual #84                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      15: ldc           #89                 // String EsRejectedExecutionException
      17: invokevirtual #91                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      20: ifeq          27
      23: iconst_1
      24: goto          28
      27: iconst_0
      28: istore_3
      29: iload_3
      30: ifne          49
      33: aload_0
      34: getfield      #53                 // Field retry:Lorg/elasticsearch/hadoop/rest/Retry;
      37: aload_1
      38: invokevirtual #75                 // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure.getResponseCode:()I
      41: invokeinterface #95,  2           // InterfaceMethod org/elasticsearch/hadoop/rest/Retry.retry:(I)Z
      46: ifeq          127
      49: aload_0
      50: getfield      #63                 // Field retryLimit:I
      53: iflt          67
      56: aload_1
      57: invokevirtual #100                // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure.getNumberOfAttempts:()I
      60: aload_0
      61: getfield      #63                 // Field retryLimit:I
      64: if_icmpgt     81
      67: aload_2
      68: aload_0
      69: getfield      #71                 // Field retryTime:J
      72: getstatic     #103                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      75: invokeinterface #109,  4          // InterfaceMethod org/elasticsearch/hadoop/rest/bulk/handler/DelayableErrorCollector.backoffAndRetry:(JLjava/util/concurrent/TimeUnit;)Lorg/elasticsearch/hadoop/handler/HandlerResult;
      80: areturn
      81: aload_2
      82: new           #115                // class java/lang/StringBuilder
      85: dup
      86: invokespecial #117                // Method java/lang/StringBuilder."<init>":()V
      89: ldc           #118                // String Document bulk write attempts [
      91: invokevirtual #120                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: aload_1
      95: invokevirtual #100                // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure.getNumberOfAttempts:()I
      98: invokevirtual #124                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     101: ldc           #127                // String ] exceeds configured automatic retry limit of [
     103: invokevirtual #120                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: aload_0
     107: getfield      #63                 // Field retryLimit:I
     110: invokevirtual #124                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     113: ldc           #129                // String ]
     115: invokevirtual #120                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: invokevirtual #131                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     121: invokeinterface #134,  2          // InterfaceMethod org/elasticsearch/hadoop/rest/bulk/handler/DelayableErrorCollector.pass:(Ljava/lang/String;)Lorg/elasticsearch/hadoop/handler/HandlerResult;
     126: areturn
     127: aload_2
     128: new           #115                // class java/lang/StringBuilder
     131: dup
     132: invokespecial #117                // Method java/lang/StringBuilder."<init>":()V
     135: ldc           #138                // String Non retryable code [
     137: invokevirtual #120                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_1
     141: invokevirtual #75                 // Method org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure.getResponseCode:()I
     144: invokevirtual #124                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     147: ldc           #140                // String ] encountered.
     149: invokevirtual #120                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: invokevirtual #131                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     155: invokeinterface #134,  2          // InterfaceMethod org/elasticsearch/hadoop/rest/bulk/handler/DelayableErrorCollector.pass:(Ljava/lang/String;)Lorg/elasticsearch/hadoop/handler/HandlerResult;
     160: areturn

  public org.elasticsearch.hadoop.handler.HandlerResult onError(org.elasticsearch.hadoop.handler.Exceptional, org.elasticsearch.hadoop.handler.ErrorCollector) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #76                 // class org/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure
       5: aload_2
       6: checkcast     #110                // class org/elasticsearch/hadoop/rest/bulk/handler/DelayableErrorCollector
       9: invokevirtual #142                // Method onError:(Lorg/elasticsearch/hadoop/rest/bulk/handler/BulkWriteFailure;Lorg/elasticsearch/hadoop/rest/bulk/handler/DelayableErrorCollector;)Lorg/elasticsearch/hadoop/handler/HandlerResult;
      12: areturn
}
