Compiled from "SpnegoAuthScheme.java"
public class org.elasticsearch.hadoop.rest.commonshttp.auth.spnego.SpnegoAuthScheme implements org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.auth.AuthScheme,java.io.Closeable {
  private static final java.lang.String HOSTNAME_PATTERN;

  private java.lang.String challenge;

  private org.elasticsearch.hadoop.rest.commonshttp.auth.spnego.SpnegoNegotiator spnegoNegotiator;

  public org.elasticsearch.hadoop.rest.commonshttp.auth.spnego.SpnegoAuthScheme();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public boolean isConnectionBased();
    Code:
       0: iconst_0
       1: ireturn

  public java.lang.String getSchemeName();
    Code:
       0: ldc           #9                  // String Negotiate
       2: areturn

  public void processChallenge(java.lang.String) throws org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.auth.MalformedChallengeException;
    Code:
       0: aload_1
       1: invokestatic  #11                 // Method org/elasticsearch/hadoop/util/StringUtils.hasText:(Ljava/lang/CharSequence;)Z
       4: ifeq          23
       7: aload_0
       8: aload_1
       9: ldc           #9                  // String Negotiate
      11: invokevirtual #17                 // Method java/lang/String.length:()I
      14: invokevirtual #23                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      17: invokevirtual #27                 // Method java/lang/String.trim:()Ljava/lang/String;
      20: putfield      #31                 // Field challenge:Ljava/lang/String;
      23: return

  protected java.lang.String getFQDN(java.net.URI) throws java.net.UnknownHostException;
    Code:
       0: aload_1
       1: invokevirtual #37                 // Method java/net/URI.getHost:()Ljava/lang/String;
       4: astore_2
       5: aload_2
       6: invokestatic  #42                 // Method java/net/InetAddress.getByName:(Ljava/lang/String;)Ljava/net/InetAddress;
       9: astore_3
      10: aload_3
      11: invokevirtual #48                 // Method java/net/InetAddress.getCanonicalHostName:()Ljava/lang/String;
      14: areturn

  private void initializeNegotiator(java.net.URI, org.elasticsearch.hadoop.rest.commonshttp.auth.spnego.SpnegoCredentials) throws java.net.UnknownHostException, org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.auth.AuthenticationException, org.ietf.jgss.GSSException;
    Code:
       0: aload_0
       1: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
       4: ifnonnull     189
       7: aload_2
       8: invokevirtual #55                 // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials.getServicePrincipalName:()Ljava/lang/String;
      11: astore_3
      12: aload_2
      13: invokevirtual #55                 // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials.getServicePrincipalName:()Ljava/lang/String;
      16: ldc           #60                 // String _HOST
      18: invokevirtual #62                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      21: ifeq          139
      24: aload_0
      25: aload_1
      26: invokevirtual #65                 // Method getFQDN:(Ljava/net/URI;)Ljava/lang/String;
      29: astore        4
      31: aload_2
      32: invokevirtual #55                 // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials.getServicePrincipalName:()Ljava/lang/String;
      35: ldc           #69                 // String [/@]
      37: invokevirtual #71                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      40: astore        5
      42: aload         5
      44: arraylength
      45: iconst_3
      46: if_icmpne     61
      49: aload         5
      51: iconst_1
      52: aaload
      53: ldc           #60                 // String _HOST
      55: invokevirtual #75                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      58: ifne          96
      61: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
      64: dup
      65: new           #81                 // class java/lang/StringBuilder
      68: dup
      69: invokespecial #83                 // Method java/lang/StringBuilder."<init>":()V
      72: ldc           #84                 // String Malformed service principal name [
      74: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload_2
      78: invokevirtual #55                 // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials.getServicePrincipalName:()Ljava/lang/String;
      81: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      84: ldc           #90                 // String ]. To use host substitution, the principal must be of the format [serviceName/_HOST@REALM.NAME].
      86: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: invokevirtual #92                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      92: invokespecial #95                 // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;)V
      95: athrow
      96: new           #81                 // class java/lang/StringBuilder
      99: dup
     100: invokespecial #83                 // Method java/lang/StringBuilder."<init>":()V
     103: aload         5
     105: iconst_0
     106: aaload
     107: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: ldc           #98                 // String /
     112: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: aload         4
     117: invokevirtual #100                // Method java/lang/String.toLowerCase:()Ljava/lang/String;
     120: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     123: ldc           #103                // String @
     125: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload         5
     130: iconst_2
     131: aaload
     132: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: invokevirtual #92                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     138: astore_3
     139: aload_2
     140: invokevirtual #105                // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials.getUserProvider:()Lorg/elasticsearch/hadoop/security/UserProvider;
     143: invokevirtual #109                // Method org/elasticsearch/hadoop/security/UserProvider.getUser:()Lorg/elasticsearch/hadoop/security/User;
     146: astore        4
     148: aload         4
     150: invokeinterface #115,  1          // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
     155: astore        5
     157: aload         5
     159: ifnonnull     172
     162: new           #121                // class org/elasticsearch/hadoop/EsHadoopIllegalArgumentException
     165: dup
     166: ldc           #123                // String Could not locate Kerberos Principal on currently logged in user.
     168: invokespecial #125                // Method org/elasticsearch/hadoop/EsHadoopIllegalArgumentException."<init>":(Ljava/lang/String;)V
     171: athrow
     172: aload_0
     173: new           #126                // class org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator
     176: dup
     177: aload         5
     179: invokevirtual #128                // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
     182: aload_3
     183: invokespecial #133                // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     186: putfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
     189: return

  private java.lang.String getNegotiateToken() throws org.ietf.jgss.GSSException;
    Code:
       0: aload_0
       1: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
       4: ifnonnull     17
       7: new           #136                // class java/lang/IllegalStateException
      10: dup
      11: ldc           #138                // String Negotiator not yet initialized.
      13: invokespecial #140                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #31                 // Field challenge:Ljava/lang/String;
      21: invokestatic  #11                 // Method org/elasticsearch/hadoop/util/StringUtils.hasText:(Ljava/lang/CharSequence;)Z
      24: ifeq          42
      27: aload_0
      28: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
      31: aload_0
      32: getfield      #31                 // Field challenge:Ljava/lang/String;
      35: invokevirtual #141                // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator.send:(Ljava/lang/String;)Ljava/lang/String;
      38: astore_1
      39: goto          50
      42: aload_0
      43: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
      46: invokevirtual #145                // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator.send:()Ljava/lang/String;
      49: astore_1
      50: aload_0
      51: aconst_null
      52: putfield      #31                 // Field challenge:Ljava/lang/String;
      55: aload_1
      56: ifnull        79
      59: new           #81                 // class java/lang/StringBuilder
      62: dup
      63: invokespecial #83                 // Method java/lang/StringBuilder."<init>":()V
      66: ldc           #147                // String Negotiate
      68: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: aload_1
      72: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: invokevirtual #92                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      78: astore_1
      79: aload_1
      80: areturn

  private java.lang.String authenticate(org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.Credentials, java.net.URI) throws org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.auth.AuthenticationException;
    Code:
       0: aload_1
       1: instanceof    #56                 // class org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials
       4: ifne          68
       7: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
      10: dup
      11: new           #81                 // class java/lang/StringBuilder
      14: dup
      15: invokespecial #83                 // Method java/lang/StringBuilder."<init>":()V
      18: ldc           #149                // String Invalid credentials type provided to
      20: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: aload_0
      24: invokevirtual #151                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      27: invokevirtual #155                // Method java/lang/Class.getName:()Ljava/lang/String;
      30: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: ldc           #158                // String .Expected
      35: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: ldc           #56                 // class org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials
      40: invokevirtual #155                // Method java/lang/Class.getName:()Ljava/lang/String;
      43: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: ldc           #160                // String  but got
      48: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: aload_1
      52: invokevirtual #151                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      55: invokevirtual #155                // Method java/lang/Class.getName:()Ljava/lang/String;
      58: invokevirtual #86                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: invokevirtual #92                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      64: invokespecial #95                 // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;)V
      67: athrow
      68: aload_1
      69: checkcast     #56                 // class org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials
      72: astore_3
      73: aload_0
      74: aload_2
      75: aload_3
      76: invokespecial #162                // Method initializeNegotiator:(Ljava/net/URI;Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoCredentials;)V
      79: aload_0
      80: invokespecial #166                // Method getNegotiateToken:()Ljava/lang/String;
      83: areturn
      84: astore        4
      86: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
      89: dup
      90: ldc           #171                // String Could not authenticate
      92: aload         4
      94: invokespecial #173                // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      97: athrow
      98: astore        4
     100: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
     103: dup
     104: ldc           #171                // String Could not authenticate
     106: aload         4
     108: invokespecial #173                // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     111: athrow
    Exception table:
       from    to  target type
          73    83    84   Class org/ietf/jgss/GSSException
          73    83    98   Class java/net/UnknownHostException

  public java.lang.String authenticate(org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.Credentials, org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.HttpMethod) throws org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.auth.AuthenticationException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokeinterface #178,  1          // InterfaceMethod org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/HttpMethod.getURI:()Lorg/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/URI;
       8: invokevirtual #184                // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/URI.getURI:()Ljava/lang/String;
      11: invokestatic  #188                // Method java/net/URI.create:(Ljava/lang/String;)Ljava/net/URI;
      14: invokespecial #192                // Method authenticate:(Lorg/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/Credentials;Ljava/net/URI;)Ljava/lang/String;
      17: areturn
      18: astore_3
      19: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
      22: dup
      23: ldc           #198                // String Could not determine request URI
      25: aload_3
      26: invokespecial #173                // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      29: athrow
    Exception table:
       from    to  target type
           0    17    18   Class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/URIException

  public java.lang.String authenticate(org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.Credentials, java.lang.String, java.lang.String) throws org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.auth.AuthenticationException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_3
       3: invokestatic  #188                // Method java/net/URI.create:(Ljava/lang/String;)Ljava/net/URI;
       6: invokespecial #192                // Method authenticate:(Lorg/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/Credentials;Ljava/net/URI;)Ljava/lang/String;
       9: areturn

  public void ensureMutualAuth(java.lang.String) throws org.elasticsearch.hadoop.thirdparty.apache.commons.httpclient.auth.AuthenticationException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #200                // Method processChallenge:(Ljava/lang/String;)V
       5: goto          20
       8: astore_2
       9: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
      12: dup
      13: ldc           #205                // String Received invalid response header for mutual authentication
      15: aload_2
      16: invokespecial #173                // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      19: athrow
      20: aload_0
      21: invokespecial #166                // Method getNegotiateToken:()Ljava/lang/String;
      24: astore_2
      25: aload_0
      26: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
      29: invokevirtual #207                // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator.established:()Z
      32: ifeq          39
      35: aload_2
      36: ifnull        49
      39: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
      42: dup
      43: ldc           #211                // String Could not complete SPNEGO Authentication, Mutual Authentication Failed
      45: invokespecial #95                 // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;)V
      48: athrow
      49: goto          64
      52: astore_2
      53: new           #79                 // class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException
      56: dup
      57: ldc           #213                // String Could not complete SPNEGO Authentication
      59: aload_2
      60: invokespecial #173                // Method org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/AuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      63: athrow
      64: return
    Exception table:
       from    to  target type
           0     5     8   Class org/elasticsearch/hadoop/thirdparty/apache/commons/httpclient/auth/MalformedChallengeException
          20    49    52   Class org/ietf/jgss/GSSException

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
       4: ifnull        14
       7: aload_0
       8: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
      11: invokevirtual #215                // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator.close:()V
      14: aload_0
      15: aconst_null
      16: putfield      #31                 // Field challenge:Ljava/lang/String;
      19: return

  public boolean isComplete();
    Code:
       0: aload_0
       1: getfield      #51                 // Field spnegoNegotiator:Lorg/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator;
       4: invokevirtual #207                // Method org/elasticsearch/hadoop/rest/commonshttp/auth/spnego/SpnegoNegotiator.established:()Z
       7: ireturn

  public java.lang.String getRealm();
    Code:
       0: aconst_null
       1: areturn

  public java.lang.String getParameter(java.lang.String);
    Code:
       0: aconst_null
       1: areturn

  public java.lang.String getID();
    Code:
       0: aload_0
       1: invokevirtual #218                // Method getSchemeName:()Ljava/lang/String;
       4: areturn
}
