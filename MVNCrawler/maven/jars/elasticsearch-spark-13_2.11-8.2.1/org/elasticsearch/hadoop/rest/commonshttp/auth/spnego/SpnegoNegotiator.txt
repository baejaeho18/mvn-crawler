Compiled from "SpnegoNegotiator.java"
public class org.elasticsearch.hadoop.rest.commonshttp.auth.spnego.SpnegoNegotiator implements java.io.Closeable {
  private static final java.lang.String SPNEGO_OID;

  private final org.ietf.jgss.GSSManager gssManager;

  private final org.ietf.jgss.Oid spnegoOID;

  private final org.ietf.jgss.GSSName servicePrincipalName;

  private final org.ietf.jgss.GSSCredential userCredential;

  private org.ietf.jgss.GSSContext gssContext;

  private byte[] token;

  public org.elasticsearch.hadoop.rest.commonshttp.auth.spnego.SpnegoNegotiator(java.lang.String, java.lang.String) throws org.ietf.jgss.GSSException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
       9: aload_0
      10: aconst_null
      11: putfield      #13                 // Field token:[B
      14: aload_0
      15: invokestatic  #17                 // Method org/ietf/jgss/GSSManager.getInstance:()Lorg/ietf/jgss/GSSManager;
      18: putfield      #23                 // Field gssManager:Lorg/ietf/jgss/GSSManager;
      21: aload_0
      22: new           #27                 // class org/ietf/jgss/Oid
      25: dup
      26: ldc           #29                 // String 1.3.6.1.5.5.2
      28: invokespecial #31                 // Method org/ietf/jgss/Oid."<init>":(Ljava/lang/String;)V
      31: putfield      #34                 // Field spnegoOID:Lorg/ietf/jgss/Oid;
      34: aload_0
      35: getfield      #23                 // Field gssManager:Lorg/ietf/jgss/GSSManager;
      38: aload_1
      39: getstatic     #38                 // Field org/ietf/jgss/GSSName.NT_USER_NAME:Lorg/ietf/jgss/Oid;
      42: aload_0
      43: getfield      #34                 // Field spnegoOID:Lorg/ietf/jgss/Oid;
      46: invokevirtual #43                 // Method org/ietf/jgss/GSSManager.createName:(Ljava/lang/String;Lorg/ietf/jgss/Oid;Lorg/ietf/jgss/Oid;)Lorg/ietf/jgss/GSSName;
      49: astore_3
      50: aload_0
      51: aload_0
      52: getfield      #23                 // Field gssManager:Lorg/ietf/jgss/GSSManager;
      55: aload_2
      56: getstatic     #38                 // Field org/ietf/jgss/GSSName.NT_USER_NAME:Lorg/ietf/jgss/Oid;
      59: invokevirtual #47                 // Method org/ietf/jgss/GSSManager.createName:(Ljava/lang/String;Lorg/ietf/jgss/Oid;)Lorg/ietf/jgss/GSSName;
      62: putfield      #50                 // Field servicePrincipalName:Lorg/ietf/jgss/GSSName;
      65: aload_0
      66: aload_0
      67: getfield      #23                 // Field gssManager:Lorg/ietf/jgss/GSSManager;
      70: aload_3
      71: iconst_0
      72: aload_0
      73: getfield      #34                 // Field spnegoOID:Lorg/ietf/jgss/Oid;
      76: iconst_1
      77: invokevirtual #56                 // Method org/ietf/jgss/GSSManager.createCredential:(Lorg/ietf/jgss/GSSName;ILorg/ietf/jgss/Oid;I)Lorg/ietf/jgss/GSSCredential;
      80: putfield      #60                 // Field userCredential:Lorg/ietf/jgss/GSSCredential;
      83: return

  public void setTokenData(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
       4: ifnonnull     17
       7: new           #64                 // class org/elasticsearch/hadoop/EsHadoopIllegalStateException
      10: dup
      11: ldc           #66                 // String GSS Context not yet initialized. Client must be the initiator.
      13: invokespecial #68                 // Method org/elasticsearch/hadoop/EsHadoopIllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: aload_1
      19: invokestatic  #69                 // Method org/apache/commons/codec/binary/Base64.decodeBase64:(Ljava/lang/String;)[B
      22: putfield      #13                 // Field token:[B
      25: return

  public java.lang.String send(java.lang.String) throws org.ietf.jgss.GSSException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #75                 // Method setTokenData:(Ljava/lang/String;)V
       5: aload_0
       6: invokevirtual #78                 // Method send:()Ljava/lang/String;
       9: areturn

  public java.lang.String send() throws org.ietf.jgss.GSSException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
       4: ifnonnull     69
       7: aload_0
       8: getfield      #13                 // Field token:[B
      11: ifnonnull     18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: invokestatic  #82                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      22: ldc           #66                 // String GSS Context not yet initialized. Client must be the initiator.
      24: invokestatic  #88                 // Method org/elasticsearch/hadoop/util/Assert.isTrue:(Ljava/lang/Boolean;Ljava/lang/String;)V
      27: aload_0
      28: aload_0
      29: getfield      #23                 // Field gssManager:Lorg/ietf/jgss/GSSManager;
      32: aload_0
      33: getfield      #50                 // Field servicePrincipalName:Lorg/ietf/jgss/GSSName;
      36: aload_0
      37: getfield      #34                 // Field spnegoOID:Lorg/ietf/jgss/Oid;
      40: aload_0
      41: getfield      #60                 // Field userCredential:Lorg/ietf/jgss/GSSCredential;
      44: iconst_0
      45: invokevirtual #94                 // Method org/ietf/jgss/GSSManager.createContext:(Lorg/ietf/jgss/GSSName;Lorg/ietf/jgss/Oid;Lorg/ietf/jgss/GSSCredential;I)Lorg/ietf/jgss/GSSContext;
      48: putfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
      51: aload_0
      52: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
      55: iconst_0
      56: newarray       byte
      58: iconst_0
      59: iconst_0
      60: invokeinterface #98,  4           // InterfaceMethod org/ietf/jgss/GSSContext.initSecContext:([BII)[B
      65: astore_1
      66: goto          114
      69: aload_0
      70: getfield      #13                 // Field token:[B
      73: ifnull        104
      76: aload_0
      77: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
      80: aload_0
      81: getfield      #13                 // Field token:[B
      84: iconst_0
      85: aload_0
      86: getfield      #13                 // Field token:[B
      89: arraylength
      90: invokeinterface #98,  4           // InterfaceMethod org/ietf/jgss/GSSContext.initSecContext:([BII)[B
      95: astore_1
      96: aload_0
      97: aconst_null
      98: putfield      #13                 // Field token:[B
     101: goto          114
     104: new           #104                // class org/elasticsearch/hadoop/rest/EsHadoopTransportException
     107: dup
     108: ldc           #106                // String Missing required negotiation token
     110: invokespecial #108                // Method org/elasticsearch/hadoop/rest/EsHadoopTransportException."<init>":(Ljava/lang/String;)V
     113: athrow
     114: aload_1
     115: ifnonnull     120
     118: aconst_null
     119: areturn
     120: new           #109                // class java/lang/String
     123: dup
     124: aload_1
     125: invokestatic  #111                // Method org/apache/commons/codec/binary/Base64.encodeBase64:([B)[B
     128: getstatic     #115                // Field org/elasticsearch/hadoop/util/StringUtils.UTF_8:Ljava/nio/charset/Charset;
     131: invokespecial #121                // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
     134: areturn

  public boolean established();
    Code:
       0: aload_0
       1: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
       4: ifnull        23
       7: aload_0
       8: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
      11: invokeinterface #124,  1          // InterfaceMethod org/ietf/jgss/GSSContext.isEstablished:()Z
      16: ifeq          23
      19: iconst_1
      20: goto          24
      23: iconst_0
      24: ireturn

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
       4: ifnull        31
       7: aload_0
       8: getfield      #7                  // Field gssContext:Lorg/ietf/jgss/GSSContext;
      11: invokeinterface #128,  1          // InterfaceMethod org/ietf/jgss/GSSContext.dispose:()V
      16: goto          31
      19: astore_1
      20: new           #133                // class java/io/IOException
      23: dup
      24: ldc           #135                // String Could not dispose of GSSContext
      26: aload_1
      27: invokespecial #137                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      30: athrow
      31: return
    Exception table:
       from    to  target type
           7    16    19   Class org/ietf/jgss/GSSException
}
