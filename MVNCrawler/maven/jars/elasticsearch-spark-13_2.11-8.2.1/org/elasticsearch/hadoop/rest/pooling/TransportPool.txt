Compiled from "TransportPool.java"
final class org.elasticsearch.hadoop.rest.pooling.TransportPool {
  private final org.apache.commons.logging.Log log;

  private final org.elasticsearch.hadoop.cfg.Settings transportSettings;

  private final org.elasticsearch.hadoop.security.SecureSettings secureSettings;

  private final java.lang.String hostName;

  private final java.lang.String jobPoolingKey;

  private final org.elasticsearch.hadoop.util.unit.TimeValue idleTransportTimeout;

  private final org.elasticsearch.hadoop.rest.SimpleRequest validationRequest;

  private final java.util.Map<org.elasticsearch.hadoop.rest.pooling.TransportPool$PooledTransport, java.lang.Long> idle;

  private final java.util.Map<org.elasticsearch.hadoop.rest.pooling.TransportPool$PooledTransport, java.lang.Long> leased;

  org.elasticsearch.hadoop.rest.pooling.TransportPool(java.lang.String, java.lang.String, org.elasticsearch.hadoop.cfg.Settings, org.elasticsearch.hadoop.security.SecureSettings);
    Code:
       0: aload_0
       1: invokespecial #7                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #13                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #17                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
      12: putfield      #23                 // Field log:Lorg/apache/commons/logging/Log;
      15: aload_0
      16: new           #27                 // class org/elasticsearch/hadoop/rest/SimpleRequest
      19: dup
      20: getstatic     #29                 // Field org/elasticsearch/hadoop/rest/Request$Method.GET:Lorg/elasticsearch/hadoop/rest/Request$Method;
      23: aconst_null
      24: ldc           #35                 // String
      26: invokespecial #37                 // Method org/elasticsearch/hadoop/rest/SimpleRequest."<init>":(Lorg/elasticsearch/hadoop/rest/Request$Method;Ljava/lang/CharSequence;Ljava/lang/CharSequence;)V
      29: putfield      #40                 // Field validationRequest:Lorg/elasticsearch/hadoop/rest/SimpleRequest;
      32: aload_0
      33: aload_1
      34: putfield      #44                 // Field jobPoolingKey:Ljava/lang/String;
      37: aload_0
      38: aload_2
      39: putfield      #48                 // Field hostName:Ljava/lang/String;
      42: aload_0
      43: aload_3
      44: putfield      #51                 // Field transportSettings:Lorg/elasticsearch/hadoop/cfg/Settings;
      47: aload_0
      48: aload         4
      50: putfield      #55                 // Field secureSettings:Lorg/elasticsearch/hadoop/security/SecureSettings;
      53: aload_0
      54: new           #59                 // class java/util/HashMap
      57: dup
      58: invokespecial #61                 // Method java/util/HashMap."<init>":()V
      61: putfield      #62                 // Field leased:Ljava/util/Map;
      64: aload_0
      65: new           #59                 // class java/util/HashMap
      68: dup
      69: invokespecial #61                 // Method java/util/HashMap."<init>":()V
      72: putfield      #66                 // Field idle:Ljava/util/Map;
      75: aload_0
      76: aload_3
      77: invokevirtual #69                 // Method org/elasticsearch/hadoop/cfg/Settings.getTransportPoolingExpirationTimeout:()Lorg/elasticsearch/hadoop/util/unit/TimeValue;
      80: putfield      #75                 // Field idleTransportTimeout:Lorg/elasticsearch/hadoop/util/unit/TimeValue;
      83: return

  java.lang.String getJobPoolingKey();
    Code:
       0: aload_0
       1: getfield      #44                 // Field jobPoolingKey:Ljava/lang/String;
       4: areturn

  private org.elasticsearch.hadoop.rest.pooling.TransportPool$PooledTransport create();
    Code:
       0: aload_0
       1: getfield      #23                 // Field log:Lorg/apache/commons/logging/Log;
       4: invokeinterface #79,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
       9: ifeq          60
      12: aload_0
      13: getfield      #23                 // Field log:Lorg/apache/commons/logging/Log;
      16: new           #85                 // class java/lang/StringBuilder
      19: dup
      20: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #88                 // String Creating new pooled CommonsHttpTransport for host [
      25: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: getfield      #48                 // Field hostName:Ljava/lang/String;
      32: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: ldc           #94                 // String ] belonging to job [
      37: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      40: aload_0
      41: getfield      #44                 // Field jobPoolingKey:Ljava/lang/String;
      44: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: ldc           #96                 // String ]
      49: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: invokevirtual #98                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: invokeinterface #102,  2          // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      60: new           #106                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledCommonsHttpTransport
      63: dup
      64: aload_0
      65: aload_0
      66: getfield      #51                 // Field transportSettings:Lorg/elasticsearch/hadoop/cfg/Settings;
      69: aload_0
      70: getfield      #55                 // Field secureSettings:Lorg/elasticsearch/hadoop/security/SecureSettings;
      73: aload_0
      74: getfield      #48                 // Field hostName:Ljava/lang/String;
      77: invokespecial #108                // Method org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledCommonsHttpTransport."<init>":(Lorg/elasticsearch/hadoop/rest/pooling/TransportPool;Lorg/elasticsearch/hadoop/cfg/Settings;Lorg/elasticsearch/hadoop/security/SecureSettings;Ljava/lang/String;)V
      80: areturn

  private boolean validate(org.elasticsearch.hadoop.rest.pooling.TransportPool$PooledTransport);
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #40                 // Field validationRequest:Lorg/elasticsearch/hadoop/rest/SimpleRequest;
       5: invokeinterface #111,  2          // InterfaceMethod org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport.execute:(Lorg/elasticsearch/hadoop/rest/Request;)Lorg/elasticsearch/hadoop/rest/Response;
      10: astore_2
      11: aload_2
      12: invokeinterface #117,  1          // InterfaceMethod org/elasticsearch/hadoop/rest/Response.hasSucceeded:()Z
      17: ireturn
      18: astore_2
      19: aload_0
      20: getfield      #23                 // Field log:Lorg/apache/commons/logging/Log;
      23: ldc           #124                // String Could not validate pooled connection on lease. Releasing pooled connection and trying again...
      25: aload_2
      26: invokeinterface #126,  3          // InterfaceMethod org/apache/commons/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      31: iconst_0
      32: ireturn
    Exception table:
       from    to  target type
           0    17    18   Class java/io/IOException

  private void release(org.elasticsearch.hadoop.rest.pooling.TransportPool$PooledTransport);
    Code:
       0: aload_1
       1: invokeinterface #130,  1          // InterfaceMethod org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport.close:()V
       6: return

  synchronized org.elasticsearch.hadoop.rest.Transport borrowTransport();
    Code:
       0: invokestatic  #133                // Method java/lang/System.currentTimeMillis:()J
       3: lstore_1
       4: new           #139                // class java/util/ArrayList
       7: dup
       8: invokespecial #141                // Method java/util/ArrayList."<init>":()V
      11: astore_3
      12: aconst_null
      13: astore        4
      15: aload_0
      16: getfield      #66                 // Field idle:Ljava/util/Map;
      19: invokeinterface #142,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      24: invokeinterface #148,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      29: astore        5
      31: aload         5
      33: invokeinterface #154,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      38: ifeq          93
      41: aload         5
      43: invokeinterface #159,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      48: checkcast     #163                // class java/util/Map$Entry
      51: astore        6
      53: aload         6
      55: invokeinterface #165,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      60: checkcast     #112                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport
      63: astore        7
      65: aload_0
      66: aload         7
      68: invokespecial #168                // Method validate:(Lorg/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport;)Z
      71: ifeq          81
      74: aload         7
      76: astore        4
      78: goto          93
      81: aload_3
      82: aload         7
      84: invokeinterface #172,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      89: pop
      90: goto          31
      93: aload_3
      94: invokeinterface #178,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      99: astore        5
     101: aload         5
     103: invokeinterface #154,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     108: ifeq          144
     111: aload         5
     113: invokeinterface #159,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     118: checkcast     #112                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport
     121: astore        6
     123: aload_0
     124: getfield      #66                 // Field idle:Ljava/util/Map;
     127: aload         6
     129: invokeinterface #179,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     134: pop
     135: aload_0
     136: aload         6
     138: invokespecial #183                // Method release:(Lorg/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport;)V
     141: goto          101
     144: aload         4
     146: ifnonnull     158
     149: aload_0
     150: invokespecial #187                // Method create:()Lorg/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport;
     153: astore        4
     155: goto          170
     158: aload_0
     159: getfield      #66                 // Field idle:Ljava/util/Map;
     162: aload         4
     164: invokeinterface #179,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     169: pop
     170: aload_0
     171: getfield      #62                 // Field leased:Ljava/util/Map;
     174: aload         4
     176: lload_1
     177: invokestatic  #191                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     180: invokeinterface #197,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     185: pop
     186: new           #201                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$LeasedTransport
     189: dup
     190: aload_0
     191: aload         4
     193: aload_0
     194: invokespecial #203                // Method org/elasticsearch/hadoop/rest/pooling/TransportPool$LeasedTransport."<init>":(Lorg/elasticsearch/hadoop/rest/pooling/TransportPool;Lorg/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport;Lorg/elasticsearch/hadoop/rest/pooling/TransportPool;)V
     197: areturn

  private synchronized void returnTransport(org.elasticsearch.hadoop.rest.Transport);
    Code:
       0: invokestatic  #133                // Method java/lang/System.currentTimeMillis:()J
       3: lstore_2
       4: aload_1
       5: instanceof    #201                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$LeasedTransport
       8: ifeq          27
      11: aload_1
      12: checkcast     #201                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$LeasedTransport
      15: astore        5
      17: aload         5
      19: invokestatic  #206                // Method org/elasticsearch/hadoop/rest/pooling/TransportPool$LeasedTransport.access$000:(Lorg/elasticsearch/hadoop/rest/pooling/TransportPool$LeasedTransport;)Lorg/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport;
      22: astore        4
      24: goto          53
      27: aload_1
      28: instanceof    #112                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport
      31: ifeq          43
      34: aload_1
      35: checkcast     #112                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport
      38: astore        4
      40: goto          53
      43: new           #210                // class org/elasticsearch/hadoop/EsHadoopIllegalStateException
      46: dup
      47: ldc           #212                // String Cannot return a non-poolable Transport to the pool
      49: invokespecial #214                // Method org/elasticsearch/hadoop/EsHadoopIllegalStateException."<init>":(Ljava/lang/String;)V
      52: athrow
      53: aload_0
      54: getfield      #62                 // Field leased:Ljava/util/Map;
      57: aload         4
      59: invokeinterface #217,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      64: ifeq          98
      67: aload_0
      68: getfield      #62                 // Field leased:Ljava/util/Map;
      71: aload         4
      73: invokeinterface #179,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      78: pop
      79: aload_0
      80: getfield      #66                 // Field idle:Ljava/util/Map;
      83: aload         4
      85: lload_2
      86: invokestatic  #191                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      89: invokeinterface #197,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      94: pop
      95: goto          108
      98: new           #210                // class org/elasticsearch/hadoop/EsHadoopIllegalStateException
     101: dup
     102: ldc           #220                // String Cannot return a Transport object to a pool that was not sourced from the pool
     104: invokespecial #214                // Method org/elasticsearch/hadoop/EsHadoopIllegalStateException."<init>":(Ljava/lang/String;)V
     107: athrow
     108: return

  synchronized int removeOldConnections();
    Code:
       0: invokestatic  #133                // Method java/lang/System.currentTimeMillis:()J
       3: lstore_1
       4: lload_1
       5: aload_0
       6: getfield      #75                 // Field idleTransportTimeout:Lorg/elasticsearch/hadoop/util/unit/TimeValue;
       9: invokevirtual #222                // Method org/elasticsearch/hadoop/util/unit/TimeValue.millis:()J
      12: lsub
      13: lstore_3
      14: new           #139                // class java/util/ArrayList
      17: dup
      18: invokespecial #141                // Method java/util/ArrayList."<init>":()V
      21: astore        5
      23: aload_0
      24: getfield      #66                 // Field idle:Ljava/util/Map;
      27: invokeinterface #142,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      32: invokeinterface #148,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      37: astore        6
      39: aload         6
      41: invokeinterface #154,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      46: ifeq          206
      49: aload         6
      51: invokeinterface #159,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      56: checkcast     #163                // class java/util/Map$Entry
      59: astore        7
      61: aload         7
      63: invokeinterface #227,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      68: checkcast     #192                // class java/lang/Long
      71: invokevirtual #230                // Method java/lang/Long.longValue:()J
      74: lstore        8
      76: lload         8
      78: lload_3
      79: lcmp
      80: ifge          203
      83: aload         7
      85: invokeinterface #165,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      90: checkcast     #112                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport
      93: astore        10
      95: aload_0
      96: getfield      #23                 // Field log:Lorg/apache/commons/logging/Log;
      99: invokeinterface #233,  1          // InterfaceMethod org/apache/commons/logging/Log.isTraceEnabled:()Z
     104: ifeq          187
     107: aload_0
     108: getfield      #23                 // Field log:Lorg/apache/commons/logging/Log;
     111: new           #85                 // class java/lang/StringBuilder
     114: dup
     115: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
     118: ldc           #236                // String Expiring idle transport for job [
     120: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     123: aload_0
     124: getfield      #44                 // Field jobPoolingKey:Ljava/lang/String;
     127: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     130: ldc           #238                // String ], transport: [
     132: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: aload         10
     137: invokevirtual #240                // Method java/lang/Object.toString:()Ljava/lang/String;
     140: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: ldc           #241                // String ]. Last used [
     145: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     148: new           #223                // class org/elasticsearch/hadoop/util/unit/TimeValue
     151: dup
     152: lload_1
     153: lload         8
     155: lsub
     156: invokespecial #243                // Method org/elasticsearch/hadoop/util/unit/TimeValue."<init>":(J)V
     159: invokevirtual #246                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     162: ldc           #249                // String ] ago. Expired [
     164: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     167: aload_0
     168: getfield      #75                 // Field idleTransportTimeout:Lorg/elasticsearch/hadoop/util/unit/TimeValue;
     171: invokevirtual #246                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     174: ldc           #251                // String ] ago.
     176: invokevirtual #90                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     179: invokevirtual #98                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     182: invokeinterface #253,  2          // InterfaceMethod org/apache/commons/logging/Log.trace:(Ljava/lang/Object;)V
     187: aload_0
     188: aload         10
     190: invokespecial #183                // Method release:(Lorg/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport;)V
     193: aload         5
     195: aload         10
     197: invokeinterface #172,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     202: pop
     203: goto          39
     206: aload         5
     208: invokeinterface #178,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     213: astore        6
     215: aload         6
     217: invokeinterface #154,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     222: ifeq          252
     225: aload         6
     227: invokeinterface #159,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     232: checkcast     #112                // class org/elasticsearch/hadoop/rest/pooling/TransportPool$PooledTransport
     235: astore        7
     237: aload_0
     238: getfield      #66                 // Field idle:Ljava/util/Map;
     241: aload         7
     243: invokeinterface #179,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     248: pop
     249: goto          215
     252: aload_0
     253: getfield      #66                 // Field idle:Ljava/util/Map;
     256: invokeinterface #256,  1          // InterfaceMethod java/util/Map.size:()I
     261: aload_0
     262: getfield      #62                 // Field leased:Ljava/util/Map;
     265: invokeinterface #256,  1          // InterfaceMethod java/util/Map.size:()I
     270: iadd
     271: ireturn

  static void access$100(org.elasticsearch.hadoop.rest.pooling.TransportPool, org.elasticsearch.hadoop.rest.Transport);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method returnTransport:(Lorg/elasticsearch/hadoop/rest/Transport;)V
       5: return
}
