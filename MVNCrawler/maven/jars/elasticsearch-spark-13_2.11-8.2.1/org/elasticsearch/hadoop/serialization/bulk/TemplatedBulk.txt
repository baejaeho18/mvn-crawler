Compiled from "TemplatedBulk.java"
class org.elasticsearch.hadoop.serialization.bulk.TemplatedBulk implements org.elasticsearch.hadoop.serialization.bulk.BulkCommand {
  protected final java.util.Collection<java.lang.Object> beforeObject;

  protected final java.util.Collection<java.lang.Object> afterObject;

  protected org.elasticsearch.hadoop.util.BytesArray scratchPad;

  protected org.elasticsearch.hadoop.util.BytesRef ref;

  private final org.elasticsearch.hadoop.serialization.builder.ValueWriter valueWriter;

  org.elasticsearch.hadoop.serialization.bulk.TemplatedBulk(java.util.Collection<java.lang.Object>, java.util.Collection<java.lang.Object>, org.elasticsearch.hadoop.serialization.builder.ValueWriter<?>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #7                  // class org/elasticsearch/hadoop/util/BytesArray
       8: dup
       9: sipush        1024
      12: invokespecial #9                  // Method org/elasticsearch/hadoop/util/BytesArray."<init>":(I)V
      15: putfield      #12                 // Field scratchPad:Lorg/elasticsearch/hadoop/util/BytesArray;
      18: aload_0
      19: new           #18                 // class org/elasticsearch/hadoop/util/BytesRef
      22: dup
      23: invokespecial #20                 // Method org/elasticsearch/hadoop/util/BytesRef."<init>":()V
      26: putfield      #21                 // Field ref:Lorg/elasticsearch/hadoop/util/BytesRef;
      29: aload_0
      30: aload_1
      31: putfield      #25                 // Field beforeObject:Ljava/util/Collection;
      34: aload_0
      35: aload_2
      36: putfield      #29                 // Field afterObject:Ljava/util/Collection;
      39: aload_0
      40: aload_3
      41: putfield      #32                 // Field valueWriter:Lorg/elasticsearch/hadoop/serialization/builder/ValueWriter;
      44: return

  public org.elasticsearch.hadoop.util.BytesRef write(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #21                 // Field ref:Lorg/elasticsearch/hadoop/util/BytesRef;
       4: invokevirtual #36                 // Method org/elasticsearch/hadoop/util/BytesRef.reset:()V
       7: aload_0
       8: getfield      #12                 // Field scratchPad:Lorg/elasticsearch/hadoop/util/BytesArray;
      11: invokevirtual #39                 // Method org/elasticsearch/hadoop/util/BytesArray.reset:()V
      14: aload_0
      15: aload_1
      16: aload_0
      17: getfield      #12                 // Field scratchPad:Lorg/elasticsearch/hadoop/util/BytesArray;
      20: invokevirtual #40                 // Method preProcess:(Ljava/lang/Object;Lorg/elasticsearch/hadoop/util/BytesArray;)Ljava/lang/Object;
      23: astore_2
      24: aload_0
      25: aload_0
      26: getfield      #25                 // Field beforeObject:Ljava/util/Collection;
      29: aload_2
      30: invokevirtual #44                 // Method writeTemplate:(Ljava/util/Collection;Ljava/lang/Object;)V
      33: aload_0
      34: aload_2
      35: aload_0
      36: getfield      #12                 // Field scratchPad:Lorg/elasticsearch/hadoop/util/BytesArray;
      39: aload_0
      40: getfield      #32                 // Field valueWriter:Lorg/elasticsearch/hadoop/serialization/builder/ValueWriter;
      43: invokevirtual #48                 // Method doWriteObject:(Ljava/lang/Object;Lorg/elasticsearch/hadoop/util/BytesArray;Lorg/elasticsearch/hadoop/serialization/builder/ValueWriter;)V
      46: aload_0
      47: getfield      #21                 // Field ref:Lorg/elasticsearch/hadoop/util/BytesRef;
      50: aload_0
      51: getfield      #12                 // Field scratchPad:Lorg/elasticsearch/hadoop/util/BytesArray;
      54: invokevirtual #52                 // Method org/elasticsearch/hadoop/util/BytesRef.add:(Lorg/elasticsearch/hadoop/util/BytesArray;)V
      57: aload_0
      58: aload_0
      59: getfield      #29                 // Field afterObject:Ljava/util/Collection;
      62: aload_2
      63: invokevirtual #44                 // Method writeTemplate:(Ljava/util/Collection;Ljava/lang/Object;)V
      66: aload_0
      67: getfield      #21                 // Field ref:Lorg/elasticsearch/hadoop/util/BytesRef;
      70: areturn

  protected java.lang.Object preProcess(java.lang.Object, org.elasticsearch.hadoop.util.BytesArray);
    Code:
       0: aload_1
       1: areturn

  protected void doWriteObject(java.lang.Object, org.elasticsearch.hadoop.util.BytesArray, org.elasticsearch.hadoop.serialization.builder.ValueWriter<?>);
    Code:
       0: new           #56                 // class org/elasticsearch/hadoop/util/FastByteArrayOutputStream
       3: dup
       4: aload_2
       5: invokespecial #58                 // Method org/elasticsearch/hadoop/util/FastByteArrayOutputStream."<init>":(Lorg/elasticsearch/hadoop/util/BytesArray;)V
       8: astore        4
      10: aload         4
      12: aload_3
      13: invokestatic  #60                 // Method org/elasticsearch/hadoop/serialization/builder/ContentBuilder.generate:(Ljava/io/OutputStream;Lorg/elasticsearch/hadoop/serialization/builder/ValueWriter;)Lorg/elasticsearch/hadoop/serialization/builder/ContentBuilder;
      16: aload_1
      17: invokevirtual #66                 // Method org/elasticsearch/hadoop/serialization/builder/ContentBuilder.value:(Ljava/lang/Object;)Lorg/elasticsearch/hadoop/serialization/builder/ContentBuilder;
      20: invokevirtual #70                 // Method org/elasticsearch/hadoop/serialization/builder/ContentBuilder.flush:()Lorg/elasticsearch/hadoop/serialization/builder/ContentBuilder;
      23: invokevirtual #74                 // Method org/elasticsearch/hadoop/serialization/builder/ContentBuilder.close:()V
      26: return

  protected void writeTemplate(java.util.Collection<java.lang.Object>, java.lang.Object);
    Code:
       0: aload_1
       1: invokeinterface #77,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
       6: astore_3
       7: aload_3
       8: invokeinterface #83,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          137
      16: aload_3
      17: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: astore        4
      24: aload         4
      26: instanceof    #7                  // class org/elasticsearch/hadoop/util/BytesArray
      29: ifeq          47
      32: aload_0
      33: getfield      #21                 // Field ref:Lorg/elasticsearch/hadoop/util/BytesRef;
      36: aload         4
      38: checkcast     #7                  // class org/elasticsearch/hadoop/util/BytesArray
      41: invokevirtual #52                 // Method org/elasticsearch/hadoop/util/BytesRef.add:(Lorg/elasticsearch/hadoop/util/BytesArray;)V
      44: goto          134
      47: aload         4
      49: instanceof    #93                 // class org/elasticsearch/hadoop/serialization/bulk/AbstractBulkFactory$FieldWriter
      52: ifeq          74
      55: aload_0
      56: getfield      #21                 // Field ref:Lorg/elasticsearch/hadoop/util/BytesRef;
      59: aload         4
      61: checkcast     #93                 // class org/elasticsearch/hadoop/serialization/bulk/AbstractBulkFactory$FieldWriter
      64: aload_2
      65: invokevirtual #95                 // Method org/elasticsearch/hadoop/serialization/bulk/AbstractBulkFactory$FieldWriter.write:(Ljava/lang/Object;)Lorg/elasticsearch/hadoop/util/BytesArrayPool;
      68: invokevirtual #99                 // Method org/elasticsearch/hadoop/util/BytesRef.add:(Lorg/elasticsearch/hadoop/util/BytesArrayPool;)V
      71: goto          134
      74: aload         4
      76: instanceof    #102                // class org/elasticsearch/hadoop/serialization/bulk/AbstractBulkFactory$DynamicContentRef
      79: ifeq          104
      82: aload         4
      84: checkcast     #102                // class org/elasticsearch/hadoop/serialization/bulk/AbstractBulkFactory$DynamicContentRef
      87: invokeinterface #104,  1          // InterfaceMethod org/elasticsearch/hadoop/serialization/bulk/AbstractBulkFactory$DynamicContentRef.getDynamicContent:()Ljava/util/List;
      92: astore        5
      94: aload_0
      95: aload         5
      97: aload_2
      98: invokevirtual #44                 // Method writeTemplate:(Ljava/util/Collection;Ljava/lang/Object;)V
     101: goto          134
     104: new           #108                // class org/elasticsearch/hadoop/EsHadoopIllegalArgumentException
     107: dup
     108: ldc           #110                // String Unknown object type received [%s][%s]
     110: iconst_2
     111: anewarray     #2                  // class java/lang/Object
     114: dup
     115: iconst_0
     116: aload         4
     118: aastore
     119: dup
     120: iconst_1
     121: aload         4
     123: invokevirtual #112                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     126: aastore
     127: invokestatic  #116                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     130: invokespecial #122                // Method org/elasticsearch/hadoop/EsHadoopIllegalArgumentException."<init>":(Ljava/lang/String;)V
     133: athrow
     134: goto          7
     137: return
}
