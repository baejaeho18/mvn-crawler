Compiled from "TokenUtil.java"
public class org.elasticsearch.hadoop.mr.security.TokenUtil {
  private static org.apache.commons.logging.Log LOG;

  public static final java.lang.String KEY_NAME_PREFIX;

  public org.elasticsearch.hadoop.mr.security.TokenUtil();
    Code:
       0: aload_0
       1: invokespecial #7                  // Method java/lang/Object."<init>":()V
       4: return

  private static java.lang.String newKeyName();
    Code:
       0: new           #13                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #16                 // String ESHADOOP_
       9: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: invokestatic  #22                 // Method java/util/UUID.randomUUID:()Ljava/util/UUID;
      15: invokevirtual #28                 // Method java/util/UUID.toString:()Ljava/lang/String;
      18: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: areturn

  private static org.elasticsearch.hadoop.security.EsToken obtainEsToken(org.elasticsearch.hadoop.rest.RestClient, org.elasticsearch.hadoop.security.User);
    Code:
       0: aload_1
       1: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
       6: astore_2
       7: aload_1
       8: invokeinterface #38,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.isProxyUser:()Z
      13: ifeq          31
      16: aload_1
      17: invokeinterface #42,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getRealUserProvider:()Lorg/elasticsearch/hadoop/security/UserProvider;
      22: invokevirtual #46                 // Method org/elasticsearch/hadoop/security/UserProvider.getUser:()Lorg/elasticsearch/hadoop/security/User;
      25: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      30: astore_2
      31: aload_2
      32: ifnull        39
      35: iconst_1
      36: goto          40
      39: iconst_0
      40: invokestatic  #52                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      43: ldc           #58                 // String Kerberos credentials are missing on current user
      45: invokestatic  #60                 // Method org/elasticsearch/hadoop/util/Assert.isTrue:(Ljava/lang/Boolean;Ljava/lang/String;)V
      48: aload_1
      49: new           #66                 // class org/elasticsearch/hadoop/mr/security/TokenUtil$1
      52: dup
      53: aload_0
      54: invokespecial #68                 // Method org/elasticsearch/hadoop/mr/security/TokenUtil$1."<init>":(Lorg/elasticsearch/hadoop/rest/RestClient;)V
      57: invokeinterface #71,  2           // InterfaceMethod org/elasticsearch/hadoop/security/User.doAs:(Ljava/security/PrivilegedExceptionAction;)Ljava/lang/Object;
      62: checkcast     #75                 // class org/elasticsearch/hadoop/security/EsToken
      65: areturn

  public static org.apache.hadoop.security.token.Token<org.elasticsearch.hadoop.mr.security.EsTokenIdentifier> obtainToken(org.elasticsearch.hadoop.rest.RestClient, org.elasticsearch.hadoop.security.User);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #77                 // Method obtainEsToken:(Lorg/elasticsearch/hadoop/rest/RestClient;Lorg/elasticsearch/hadoop/security/User;)Lorg/elasticsearch/hadoop/security/EsToken;
       5: astore_2
       6: aload_2
       7: invokestatic  #81                 // Method org/elasticsearch/hadoop/mr/security/EsTokenIdentifier.createTokenFrom:(Lorg/elasticsearch/hadoop/security/EsToken;)Lorg/apache/hadoop/security/token/Token;
      10: areturn

  public static void obtainAndCache(org.elasticsearch.hadoop.rest.RestClient, org.elasticsearch.hadoop.security.User) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #77                 // Method obtainEsToken:(Lorg/elasticsearch/hadoop/rest/RestClient;Lorg/elasticsearch/hadoop/security/User;)Lorg/elasticsearch/hadoop/security/EsToken;
       5: astore_2
       6: aload_2
       7: ifnonnull     45
      10: new           #87                 // class java/io/IOException
      13: dup
      14: new           #13                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #89                 // String No token returned for user
      23: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      32: invokevirtual #91                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
      35: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      41: invokespecial #96                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      44: athrow
      45: getstatic     #99                 // Field LOG:Lorg/apache/commons/logging/Log;
      48: invokeinterface #103,  1          // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      53: ifeq          102
      56: getstatic     #99                 // Field LOG:Lorg/apache/commons/logging/Log;
      59: new           #13                 // class java/lang/StringBuilder
      62: dup
      63: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      66: ldc           #108                // String Obtained token
      68: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: getstatic     #110                // Field org/elasticsearch/hadoop/mr/security/EsTokenIdentifier.KIND_NAME:Lorg/apache/hadoop/io/Text;
      74: invokevirtual #114                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      77: ldc           #117                // String  for user
      79: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: aload_1
      83: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      88: invokevirtual #91                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
      91: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      97: invokeinterface #119,  2          // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     102: aload_1
     103: aload_2
     104: invokeinterface #123,  2          // InterfaceMethod org/elasticsearch/hadoop/security/User.addEsToken:(Lorg/elasticsearch/hadoop/security/EsToken;)V
     109: return

  public static void obtainTokenForJob(org.elasticsearch.hadoop.rest.RestClient, org.elasticsearch.hadoop.security.User, org.apache.hadoop.mapreduce.Job);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #127                // Method obtainToken:(Lorg/elasticsearch/hadoop/rest/RestClient;Lorg/elasticsearch/hadoop/security/User;)Lorg/apache/hadoop/security/token/Token;
       5: astore_3
       6: aload_3
       7: ifnonnull     45
      10: new           #131                // class org/elasticsearch/hadoop/EsHadoopException
      13: dup
      14: new           #13                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #89                 // String No token returned for user
      23: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      32: invokevirtual #91                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
      35: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      41: invokespecial #133                // Method org/elasticsearch/hadoop/EsHadoopException."<init>":(Ljava/lang/String;)V
      44: athrow
      45: aload_3
      46: invokevirtual #134                // Method org/apache/hadoop/security/token/Token.getService:()Lorg/apache/hadoop/io/Text;
      49: astore        4
      51: getstatic     #99                 // Field LOG:Lorg/apache/commons/logging/Log;
      54: invokeinterface #103,  1          // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      59: ifeq          124
      62: getstatic     #99                 // Field LOG:Lorg/apache/commons/logging/Log;
      65: new           #13                 // class java/lang/StringBuilder
      68: dup
      69: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      72: ldc           #108                // String Obtained token
      74: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: getstatic     #110                // Field org/elasticsearch/hadoop/mr/security/EsTokenIdentifier.KIND_NAME:Lorg/apache/hadoop/io/Text;
      80: invokevirtual #140                // Method org/apache/hadoop/io/Text.toString:()Ljava/lang/String;
      83: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: ldc           #117                // String  for user
      88: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: aload_1
      92: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      97: invokevirtual #91                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
     100: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: ldc           #143                // String  on cluster
     105: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload         4
     110: invokevirtual #140                // Method org/apache/hadoop/io/Text.toString:()Ljava/lang/String;
     113: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokeinterface #119,  2          // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     124: aload_2
     125: invokevirtual #145                // Method org/apache/hadoop/mapreduce/Job.getCredentials:()Lorg/apache/hadoop/security/Credentials;
     128: aload         4
     130: aload_3
     131: invokevirtual #151                // Method org/apache/hadoop/security/Credentials.addToken:(Lorg/apache/hadoop/io/Text;Lorg/apache/hadoop/security/token/Token;)V
     134: return

  public static void obtainTokenForJob(org.elasticsearch.hadoop.rest.RestClient, org.elasticsearch.hadoop.security.User, org.apache.hadoop.mapred.JobConf);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #127                // Method obtainToken:(Lorg/elasticsearch/hadoop/rest/RestClient;Lorg/elasticsearch/hadoop/security/User;)Lorg/apache/hadoop/security/token/Token;
       5: astore_3
       6: aload_3
       7: ifnonnull     45
      10: new           #131                // class org/elasticsearch/hadoop/EsHadoopException
      13: dup
      14: new           #13                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #89                 // String No token returned for user
      23: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      32: invokevirtual #91                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
      35: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      41: invokespecial #133                // Method org/elasticsearch/hadoop/EsHadoopException."<init>":(Ljava/lang/String;)V
      44: athrow
      45: aload_3
      46: invokevirtual #134                // Method org/apache/hadoop/security/token/Token.getService:()Lorg/apache/hadoop/io/Text;
      49: astore        4
      51: getstatic     #99                 // Field LOG:Lorg/apache/commons/logging/Log;
      54: invokeinterface #103,  1          // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      59: ifeq          124
      62: getstatic     #99                 // Field LOG:Lorg/apache/commons/logging/Log;
      65: new           #13                 // class java/lang/StringBuilder
      68: dup
      69: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      72: ldc           #108                // String Obtained token
      74: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: getstatic     #110                // Field org/elasticsearch/hadoop/mr/security/EsTokenIdentifier.KIND_NAME:Lorg/apache/hadoop/io/Text;
      80: invokevirtual #140                // Method org/apache/hadoop/io/Text.toString:()Ljava/lang/String;
      83: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: ldc           #117                // String  for user
      88: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: aload_1
      92: invokeinterface #32,  1           // InterfaceMethod org/elasticsearch/hadoop/security/User.getKerberosPrincipal:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      97: invokevirtual #91                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
     100: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: ldc           #143                // String  on cluster
     105: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload         4
     110: invokevirtual #140                // Method org/apache/hadoop/io/Text.toString:()Ljava/lang/String;
     113: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokeinterface #119,  2          // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     124: aload_2
     125: invokevirtual #157                // Method org/apache/hadoop/mapred/JobConf.getCredentials:()Lorg/apache/hadoop/security/Credentials;
     128: aload         4
     130: aload_3
     131: invokevirtual #151                // Method org/apache/hadoop/security/Credentials.addToken:(Lorg/apache/hadoop/io/Text;Lorg/apache/hadoop/security/token/Token;)V
     134: return

  public static void addTokenForJob(org.elasticsearch.hadoop.rest.RestClient, org.elasticsearch.hadoop.util.ClusterName, org.elasticsearch.hadoop.security.User, org.apache.hadoop.mapreduce.Job);
    Code:
       0: aload_1
       1: aload_2
       2: invokestatic  #160                // Method getAuthToken:(Lorg/elasticsearch/hadoop/util/ClusterName;Lorg/elasticsearch/hadoop/security/User;)Lorg/apache/hadoop/security/token/Token;
       5: astore        4
       7: aload         4
       9: ifnonnull     19
      12: aload_0
      13: aload_2
      14: invokestatic  #127                // Method obtainToken:(Lorg/elasticsearch/hadoop/rest/RestClient;Lorg/elasticsearch/hadoop/security/User;)Lorg/apache/hadoop/security/token/Token;
      17: astore        4
      19: aload_3
      20: invokevirtual #145                // Method org/apache/hadoop/mapreduce/Job.getCredentials:()Lorg/apache/hadoop/security/Credentials;
      23: aload         4
      25: invokevirtual #134                // Method org/apache/hadoop/security/token/Token.getService:()Lorg/apache/hadoop/io/Text;
      28: aload         4
      30: invokevirtual #151                // Method org/apache/hadoop/security/Credentials.addToken:(Lorg/apache/hadoop/io/Text;Lorg/apache/hadoop/security/token/Token;)V
      33: return

  public static void addTokenForJobConf(org.elasticsearch.hadoop.rest.RestClient, org.elasticsearch.hadoop.util.ClusterName, org.elasticsearch.hadoop.security.User, org.apache.hadoop.mapred.JobConf);
    Code:
       0: aload_1
       1: aload_2
       2: invokestatic  #160                // Method getAuthToken:(Lorg/elasticsearch/hadoop/util/ClusterName;Lorg/elasticsearch/hadoop/security/User;)Lorg/apache/hadoop/security/token/Token;
       5: astore        4
       7: aload         4
       9: ifnonnull     19
      12: aload_0
      13: aload_2
      14: invokestatic  #127                // Method obtainToken:(Lorg/elasticsearch/hadoop/rest/RestClient;Lorg/elasticsearch/hadoop/security/User;)Lorg/apache/hadoop/security/token/Token;
      17: astore        4
      19: aload_3
      20: invokevirtual #157                // Method org/apache/hadoop/mapred/JobConf.getCredentials:()Lorg/apache/hadoop/security/Credentials;
      23: aload         4
      25: invokevirtual #134                // Method org/apache/hadoop/security/token/Token.getService:()Lorg/apache/hadoop/io/Text;
      28: aload         4
      30: invokevirtual #151                // Method org/apache/hadoop/security/Credentials.addToken:(Lorg/apache/hadoop/io/Text;Lorg/apache/hadoop/security/token/Token;)V
      33: return

  private static org.apache.hadoop.security.token.Token<org.elasticsearch.hadoop.mr.security.EsTokenIdentifier> getAuthToken(org.elasticsearch.hadoop.util.ClusterName, org.elasticsearch.hadoop.security.User);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #164                // Method getEsAuthToken:(Lorg/elasticsearch/hadoop/util/ClusterName;Lorg/elasticsearch/hadoop/security/User;)Lorg/elasticsearch/hadoop/security/EsToken;
       5: astore_2
       6: aload_2
       7: ifnonnull     12
      10: aconst_null
      11: areturn
      12: aload_2
      13: invokestatic  #81                 // Method org/elasticsearch/hadoop/mr/security/EsTokenIdentifier.createTokenFrom:(Lorg/elasticsearch/hadoop/security/EsToken;)Lorg/apache/hadoop/security/token/Token;
      16: areturn

  private static org.elasticsearch.hadoop.security.EsToken getEsAuthToken(org.elasticsearch.hadoop.util.ClusterName, org.elasticsearch.hadoop.security.User);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #168                // Method org/elasticsearch/hadoop/util/ClusterName.getName:()Ljava/lang/String;
       5: invokeinterface #171,  2          // InterfaceMethod org/elasticsearch/hadoop/security/User.getEsToken:(Ljava/lang/String;)Lorg/elasticsearch/hadoop/security/EsToken;
      10: areturn

  static java.lang.String access$000();
    Code:
       0: invokestatic  #1                  // Method newKeyName:()Ljava/lang/String;
       3: areturn

  static {};
    Code:
       0: ldc           #2                  // class org/elasticsearch/hadoop/mr/security/TokenUtil
       2: invokestatic  #175                // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #99                 // Field LOG:Lorg/apache/commons/logging/Log;
       8: return
}
