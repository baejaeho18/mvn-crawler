Compiled from "EsOutputFormat.java"
public class org.elasticsearch.hadoop.mr.EsOutputFormat$EsRecordWriter extends org.apache.hadoop.mapreduce.RecordWriter implements org.apache.hadoop.mapred.RecordWriter {
  protected final org.apache.hadoop.conf.Configuration cfg;

  protected boolean initialized;

  protected org.elasticsearch.hadoop.rest.RestRepository repository;

  private java.lang.String uri;

  private org.elasticsearch.hadoop.rest.Resource resource;

  private org.elasticsearch.hadoop.mr.HeartBeat beat;

  private final org.apache.hadoop.util.Progressable progressable;

  public org.elasticsearch.hadoop.mr.EsOutputFormat$EsRecordWriter(org.apache.hadoop.conf.Configuration, org.apache.hadoop.util.Progressable);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method org/apache/hadoop/mapreduce/RecordWriter."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #9                  // Field initialized:Z
       9: aload_0
      10: aload_1
      11: putfield      #15                 // Field cfg:Lorg/apache/hadoop/conf/Configuration;
      14: aload_0
      15: aload_2
      16: putfield      #19                 // Field progressable:Lorg/apache/hadoop/util/Progressable;
      19: return

  public void write(java.lang.Object, java.lang.Object) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #9                  // Field initialized:Z
       4: ifne          16
       7: aload_0
       8: iconst_1
       9: putfield      #9                  // Field initialized:Z
      12: aload_0
      13: invokevirtual #23                 // Method init:()V
      16: aload_0
      17: getfield      #26                 // Field repository:Lorg/elasticsearch/hadoop/rest/RestRepository;
      20: aload_2
      21: invokevirtual #30                 // Method org/elasticsearch/hadoop/rest/RestRepository.writeToIndex:(Ljava/lang/Object;)V
      24: return

  protected void init() throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #15                 // Field cfg:Lorg/apache/hadoop/conf/Configuration;
       5: invokespecial #36                 // Method detectCurrentInstance:(Lorg/apache/hadoop/conf/Configuration;)I
       8: istore_1
       9: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
      12: invokeinterface #44,  1           // InterfaceMethod org/apache/commons/logging/Log.isTraceEnabled:()Z
      17: ifeq          44
      20: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
      23: ldc           #50                 // String EsRecordWriter instance [%s] initiating discovery of target shard...
      25: iconst_1
      26: anewarray     #52                 // class java/lang/Object
      29: dup
      30: iconst_0
      31: iload_1
      32: invokestatic  #54                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      35: aastore
      36: invokestatic  #60                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      39: invokeinterface #66,  2           // InterfaceMethod org/apache/commons/logging/Log.trace:(Ljava/lang/Object;)V
      44: aload_0
      45: getfield      #15                 // Field cfg:Lorg/apache/hadoop/conf/Configuration;
      48: invokestatic  #69                 // Method org/elasticsearch/hadoop/cfg/HadoopSettingsManager.loadFrom:(Ljava/lang/Object;)Lorg/elasticsearch/hadoop/cfg/Settings;
      51: invokevirtual #75                 // Method org/elasticsearch/hadoop/cfg/Settings.copy:()Lorg/elasticsearch/hadoop/cfg/Settings;
      54: astore_2
      55: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
      58: invokeinterface #44,  1           // InterfaceMethod org/apache/commons/logging/Log.isTraceEnabled:()Z
      63: ifeq          93
      66: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
      69: ldc           #81                 // String Init shard writer from cfg %s
      71: iconst_1
      72: anewarray     #52                 // class java/lang/Object
      75: dup
      76: iconst_0
      77: aload_0
      78: getfield      #15                 // Field cfg:Lorg/apache/hadoop/conf/Configuration;
      81: invokestatic  #83                 // Method org/elasticsearch/hadoop/mr/HadoopCfgUtils.asProperties:(Lorg/apache/hadoop/conf/Configuration;)Ljava/util/Properties;
      84: aastore
      85: invokestatic  #60                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      88: invokeinterface #66,  2           // InterfaceMethod org/apache/commons/logging/Log.trace:(Ljava/lang/Object;)V
      93: aload_2
      94: ldc           #89                 // class org/elasticsearch/hadoop/mr/WritableValueWriter
      96: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
      99: invokestatic  #91                 // Method org/elasticsearch/hadoop/rest/InitializationUtils.setValueWriterIfNotSet:(Lorg/elasticsearch/hadoop/cfg/Settings;Ljava/lang/Class;Lorg/apache/commons/logging/Log;)Z
     102: pop
     103: aload_2
     104: ldc           #97                 // class org/elasticsearch/hadoop/mr/WritableBytesConverter
     106: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
     109: invokestatic  #99                 // Method org/elasticsearch/hadoop/rest/InitializationUtils.setBytesConverterIfNeeded:(Lorg/elasticsearch/hadoop/cfg/Settings;Ljava/lang/Class;Lorg/apache/commons/logging/Log;)Z
     112: pop
     113: aload_2
     114: ldc           #102                // class org/elasticsearch/hadoop/serialization/field/MapWritableFieldExtractor
     116: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
     119: invokestatic  #104                // Method org/elasticsearch/hadoop/rest/InitializationUtils.setFieldExtractorIfNotSet:(Lorg/elasticsearch/hadoop/cfg/Settings;Ljava/lang/Class;Lorg/apache/commons/logging/Log;)Z
     122: pop
     123: aload_2
     124: ldc           #107                // class org/elasticsearch/hadoop/mr/security/HadoopUserProvider
     126: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
     129: invokestatic  #109                // Method org/elasticsearch/hadoop/rest/InitializationUtils.setUserProviderIfNotSet:(Lorg/elasticsearch/hadoop/cfg/Settings;Ljava/lang/Class;Lorg/apache/commons/logging/Log;)Z
     132: pop
     133: aload_2
     134: iload_1
     135: i2l
     136: iconst_m1
     137: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
     140: invokestatic  #112                // Method org/elasticsearch/hadoop/rest/RestService.createWriter:(Lorg/elasticsearch/hadoop/cfg/Settings;JILorg/apache/commons/logging/Log;)Lorg/elasticsearch/hadoop/rest/RestService$PartitionWriter;
     143: astore_3
     144: aload_0
     145: aload_3
     146: getfield      #118                // Field org/elasticsearch/hadoop/rest/RestService$PartitionWriter.repository:Lorg/elasticsearch/hadoop/rest/RestRepository;
     149: putfield      #26                 // Field repository:Lorg/elasticsearch/hadoop/rest/RestRepository;
     152: aload_0
     153: getfield      #19                 // Field progressable:Lorg/apache/hadoop/util/Progressable;
     156: ifnull        192
     159: aload_0
     160: new           #121                // class org/elasticsearch/hadoop/mr/HeartBeat
     163: dup
     164: aload_0
     165: getfield      #19                 // Field progressable:Lorg/apache/hadoop/util/Progressable;
     168: aload_0
     169: getfield      #15                 // Field cfg:Lorg/apache/hadoop/conf/Configuration;
     172: aload_2
     173: invokevirtual #123                // Method org/elasticsearch/hadoop/cfg/Settings.getHeartBeatLead:()Lorg/elasticsearch/hadoop/util/unit/TimeValue;
     176: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
     179: invokespecial #127                // Method org/elasticsearch/hadoop/mr/HeartBeat."<init>":(Lorg/apache/hadoop/util/Progressable;Lorg/apache/hadoop/conf/Configuration;Lorg/elasticsearch/hadoop/util/unit/TimeValue;Lorg/apache/commons/logging/Log;)V
     182: putfield      #130                // Field beat:Lorg/elasticsearch/hadoop/mr/HeartBeat;
     185: aload_0
     186: getfield      #130                // Field beat:Lorg/elasticsearch/hadoop/mr/HeartBeat;
     189: invokevirtual #134                // Method org/elasticsearch/hadoop/mr/HeartBeat.start:()V
     192: return

  private int detectCurrentInstance(org.apache.hadoop.conf.Configuration);
    Code:
       0: aload_1
       1: invokestatic  #137                // Method org/elasticsearch/hadoop/mr/HadoopCfgUtils.getTaskID:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/mapred/TaskID;
       4: astore_2
       5: aload_2
       6: ifnonnull     28
       9: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
      12: ldc           #141                // String Cannot determine task id - redirecting writes in a random fashion
      14: iconst_0
      15: anewarray     #52                 // class java/lang/Object
      18: invokestatic  #60                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      21: invokeinterface #143,  2          // InterfaceMethod org/apache/commons/logging/Log.warn:(Ljava/lang/Object;)V
      26: iconst_m1
      27: ireturn
      28: aload_2
      29: invokevirtual #146                // Method org/apache/hadoop/mapred/TaskID.getId:()I
      32: ireturn

  public void close(org.apache.hadoop.mapreduce.TaskAttemptContext) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #152                // Method doClose:(Lorg/apache/hadoop/util/Progressable;)V
       5: return

  public void close(org.apache.hadoop.mapred.Reporter) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #152                // Method doClose:(Lorg/apache/hadoop/util/Progressable;)V
       5: return

  protected void doClose(org.apache.hadoop.util.Progressable);
    Code:
       0: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
       3: invokeinterface #44,  1           // InterfaceMethod org/apache/commons/logging/Log.isTraceEnabled:()Z
       8: ifeq          42
      11: invokestatic  #40                 // Method org/elasticsearch/hadoop/mr/EsOutputFormat.access$000:()Lorg/apache/commons/logging/Log;
      14: ldc           #156                // String Closing RecordWriter [%s][%s]
      16: iconst_2
      17: anewarray     #52                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_0
      23: getfield      #158                // Field uri:Ljava/lang/String;
      26: aastore
      27: dup
      28: iconst_1
      29: aload_0
      30: getfield      #162                // Field resource:Lorg/elasticsearch/hadoop/rest/Resource;
      33: aastore
      34: invokestatic  #60                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      37: invokeinterface #66,  2           // InterfaceMethod org/apache/commons/logging/Log.trace:(Ljava/lang/Object;)V
      42: aload_0
      43: getfield      #130                // Field beat:Lorg/elasticsearch/hadoop/mr/HeartBeat;
      46: ifnull        56
      49: aload_0
      50: getfield      #130                // Field beat:Lorg/elasticsearch/hadoop/mr/HeartBeat;
      53: invokevirtual #166                // Method org/elasticsearch/hadoop/mr/HeartBeat.stop:()V
      56: aload_0
      57: getfield      #26                 // Field repository:Lorg/elasticsearch/hadoop/rest/RestRepository;
      60: ifnull        81
      63: aload_0
      64: getfield      #26                 // Field repository:Lorg/elasticsearch/hadoop/rest/RestRepository;
      67: invokevirtual #169                // Method org/elasticsearch/hadoop/rest/RestRepository.close:()V
      70: aload_1
      71: aload_0
      72: getfield      #26                 // Field repository:Lorg/elasticsearch/hadoop/rest/RestRepository;
      75: invokevirtual #172                // Method org/elasticsearch/hadoop/rest/RestRepository.stats:()Lorg/elasticsearch/hadoop/rest/stats/Stats;
      78: invokestatic  #176                // Method org/elasticsearch/hadoop/mr/ReportingUtils.report:(Lorg/apache/hadoop/util/Progressable;Lorg/elasticsearch/hadoop/rest/stats/Stats;)V
      81: aload_0
      82: iconst_0
      83: putfield      #9                  // Field initialized:Z
      86: return
}
