Compiled from "X509IdentityProvider.java"
public class org.eclipse.milo.opcua.sdk.client.api.identity.X509IdentityProvider implements org.eclipse.milo.opcua.sdk.client.api.identity.IdentityProvider {
  private final org.slf4j.Logger logger;

  private final java.security.cert.X509Certificate certificate;

  private final java.security.PrivateKey privateKey;

  public org.eclipse.milo.opcua.sdk.client.api.identity.X509IdentityProvider(java.security.cert.X509Certificate, java.security.PrivateKey);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #2                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #3                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      12: putfield      #4                  // Field logger:Lorg/slf4j/Logger;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field certificate:Ljava/security/cert/X509Certificate;
      20: aload_0
      21: aload_2
      22: putfield      #6                  // Field privateKey:Ljava/security/PrivateKey;
      25: return

  public org.jooq.lambda.tuple.Tuple2<org.eclipse.milo.opcua.stack.core.types.structured.UserIdentityToken, org.eclipse.milo.opcua.stack.core.types.structured.SignatureData> getIdentityToken(org.eclipse.milo.opcua.stack.core.types.structured.EndpointDescription, org.eclipse.milo.opcua.stack.core.types.builtin.ByteString) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #7                  // Method org/eclipse/milo/opcua/stack/core/types/structured/EndpointDescription.getUserIdentityTokens:()[Lorg/eclipse/milo/opcua/stack/core/types/structured/UserTokenPolicy;
       4: invokestatic  #8                  // Method org/eclipse/milo/opcua/stack/core/util/ConversionUtil.l:([Ljava/lang/Object;)Ljava/util/List;
       7: astore_3
       8: aload_3
       9: invokeinterface #9,  1            // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      14: invokedynamic #10,  0             // InvokeDynamic #0:test:()Ljava/util/function/Predicate;
      19: invokeinterface #11,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      24: invokeinterface #12,  1           // InterfaceMethod java/util/stream/Stream.findFirst:()Ljava/util/Optional;
      29: invokedynamic #13,  0             // InvokeDynamic #1:get:()Ljava/util/function/Supplier;
      34: invokevirtual #14                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      37: checkcast     #15                 // class org/eclipse/milo/opcua/stack/core/types/structured/UserTokenPolicy
      40: astore        4
      42: aload         4
      44: invokevirtual #16                 // Method org/eclipse/milo/opcua/stack/core/types/structured/UserTokenPolicy.getPolicyId:()Ljava/lang/String;
      47: astore        5
      49: getstatic     #17                 // Field org/eclipse/milo/opcua/stack/core/security/SecurityPolicy.None:Lorg/eclipse/milo/opcua/stack/core/security/SecurityPolicy;
      52: astore        6
      54: aload         4
      56: invokevirtual #18                 // Method org/eclipse/milo/opcua/stack/core/types/structured/UserTokenPolicy.getSecurityPolicyUri:()Ljava/lang/String;
      59: astore        7
      61: aload         7
      63: ifnull        84
      66: aload         7
      68: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
      71: ifne          84
      74: aload         7
      76: invokestatic  #20                 // Method org/eclipse/milo/opcua/stack/core/security/SecurityPolicy.fromUri:(Ljava/lang/String;)Lorg/eclipse/milo/opcua/stack/core/security/SecurityPolicy;
      79: astore        6
      81: goto          97
      84: aload_1
      85: invokevirtual #21                 // Method org/eclipse/milo/opcua/stack/core/types/structured/EndpointDescription.getSecurityPolicyUri:()Ljava/lang/String;
      88: astore        7
      90: aload         7
      92: invokestatic  #20                 // Method org/eclipse/milo/opcua/stack/core/security/SecurityPolicy.fromUri:(Ljava/lang/String;)Lorg/eclipse/milo/opcua/stack/core/security/SecurityPolicy;
      95: astore        6
      97: goto          115
     100: astore        8
     102: aload_0
     103: getfield      #4                  // Field logger:Lorg/slf4j/Logger;
     106: ldc           #23                 // String Error parsing SecurityPolicy for uri={}
     108: aload         7
     110: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     115: new           #25                 // class org/eclipse/milo/opcua/stack/core/types/structured/X509IdentityToken
     118: dup
     119: aload         5
     121: aload_0
     122: getfield      #5                  // Field certificate:Ljava/security/cert/X509Certificate;
     125: invokevirtual #26                 // Method java/security/cert/X509Certificate.getEncoded:()[B
     128: invokestatic  #27                 // Method org/eclipse/milo/opcua/stack/core/types/builtin/ByteString.of:([B)Lorg/eclipse/milo/opcua/stack/core/types/builtin/ByteString;
     131: invokespecial #28                 // Method org/eclipse/milo/opcua/stack/core/types/structured/X509IdentityToken."<init>":(Ljava/lang/String;Lorg/eclipse/milo/opcua/stack/core/types/builtin/ByteString;)V
     134: astore        8
     136: aload_1
     137: invokevirtual #29                 // Method org/eclipse/milo/opcua/stack/core/types/structured/EndpointDescription.getServerCertificate:()Lorg/eclipse/milo/opcua/stack/core/types/builtin/ByteString;
     140: astore        9
     142: aload         9
     144: invokevirtual #30                 // Method org/eclipse/milo/opcua/stack/core/types/builtin/ByteString.bytes:()[B
     147: astore        10
     149: aload         10
     151: ifnonnull     159
     154: iconst_0
     155: newarray       byte
     157: astore        10
     159: aload_2
     160: invokevirtual #30                 // Method org/eclipse/milo/opcua/stack/core/types/builtin/ByteString.bytes:()[B
     163: astore        11
     165: aload         11
     167: ifnonnull     175
     170: iconst_0
     171: newarray       byte
     173: astore        11
     175: aload         6
     177: invokevirtual #31                 // Method org/eclipse/milo/opcua/stack/core/security/SecurityPolicy.getAsymmetricSignatureAlgorithm:()Lorg/eclipse/milo/opcua/stack/core/security/SecurityAlgorithm;
     180: aload_0
     181: getfield      #6                  // Field privateKey:Ljava/security/PrivateKey;
     184: iconst_2
     185: anewarray     #32                 // class java/nio/ByteBuffer
     188: dup
     189: iconst_0
     190: aload         10
     192: invokestatic  #33                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     195: aastore
     196: dup
     197: iconst_1
     198: aload         11
     200: invokestatic  #33                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     203: aastore
     204: invokestatic  #34                 // Method org/eclipse/milo/opcua/stack/core/util/SignatureUtil.sign:(Lorg/eclipse/milo/opcua/stack/core/security/SecurityAlgorithm;Ljava/security/PrivateKey;[Ljava/nio/ByteBuffer;)[B
     207: astore        12
     209: new           #35                 // class org/eclipse/milo/opcua/stack/core/types/structured/SignatureData
     212: dup
     213: aload         6
     215: invokevirtual #31                 // Method org/eclipse/milo/opcua/stack/core/security/SecurityPolicy.getAsymmetricSignatureAlgorithm:()Lorg/eclipse/milo/opcua/stack/core/security/SecurityAlgorithm;
     218: invokevirtual #36                 // Method org/eclipse/milo/opcua/stack/core/security/SecurityAlgorithm.getUri:()Ljava/lang/String;
     221: aload         12
     223: invokestatic  #27                 // Method org/eclipse/milo/opcua/stack/core/types/builtin/ByteString.of:([B)Lorg/eclipse/milo/opcua/stack/core/types/builtin/ByteString;
     226: invokespecial #37                 // Method org/eclipse/milo/opcua/stack/core/types/structured/SignatureData."<init>":(Ljava/lang/String;Lorg/eclipse/milo/opcua/stack/core/types/builtin/ByteString;)V
     229: astore        13
     231: new           #38                 // class org/jooq/lambda/tuple/Tuple2
     234: dup
     235: aload         8
     237: aload         13
     239: invokespecial #39                 // Method org/jooq/lambda/tuple/Tuple2."<init>":(Ljava/lang/Object;Ljava/lang/Object;)V
     242: areturn
    Exception table:
       from    to  target type
          61    97   100   Class java/lang/Throwable

  private static java.lang.Exception lambda$getIdentityToken$1();
    Code:
       0: new           #40                 // class java/lang/Exception
       3: dup
       4: ldc           #41                 // String no x509 certificate token policy found
       6: invokespecial #42                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
       9: areturn

  private static boolean lambda$getIdentityToken$0(org.eclipse.milo.opcua.stack.core.types.structured.UserTokenPolicy);
    Code:
       0: aload_0
       1: invokevirtual #43                 // Method org/eclipse/milo/opcua/stack/core/types/structured/UserTokenPolicy.getTokenType:()Lorg/eclipse/milo/opcua/stack/core/types/enumerated/UserTokenType;
       4: getstatic     #44                 // Field org/eclipse/milo/opcua/stack/core/types/enumerated/UserTokenType.Certificate:Lorg/eclipse/milo/opcua/stack/core/types/enumerated/UserTokenType;
       7: if_acmpne     14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn
}
