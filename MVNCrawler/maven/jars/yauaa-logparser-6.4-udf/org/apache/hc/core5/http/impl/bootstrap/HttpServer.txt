Compiled from "HttpServer.java"
public class org.apache.hc.core5.http.impl.bootstrap.HttpServer implements org.apache.hc.core5.io.ModalCloseable {
  private final int port;

  private final java.net.InetAddress ifAddress;

  private final org.apache.hc.core5.http.io.SocketConfig socketConfig;

  private final javax.net.ServerSocketFactory serverSocketFactory;

  private final org.apache.hc.core5.http.impl.io.HttpService httpService;

  private final org.apache.hc.core5.http.io.HttpConnectionFactory<? extends org.apache.hc.core5.http.impl.io.DefaultBHttpServerConnection> connectionFactory;

  private final org.apache.hc.core5.function.Callback<javax.net.ssl.SSLParameters> sslSetupHandler;

  private final org.apache.hc.core5.http.ExceptionListener exceptionListener;

  private final java.util.concurrent.ThreadPoolExecutor listenerExecutorService;

  private final java.lang.ThreadGroup workerThreads;

  private final org.apache.hc.core5.http.impl.bootstrap.WorkerPoolExecutor workerExecutorService;

  private final java.util.concurrent.atomic.AtomicReference<org.apache.hc.core5.http.impl.bootstrap.HttpServer$Status> status;

  private volatile java.net.ServerSocket serverSocket;

  private volatile org.apache.hc.core5.http.impl.bootstrap.RequestListener requestListener;

  public org.apache.hc.core5.http.impl.bootstrap.HttpServer(int, org.apache.hc.core5.http.impl.io.HttpService, java.net.InetAddress, org.apache.hc.core5.http.io.SocketConfig, javax.net.ServerSocketFactory, org.apache.hc.core5.http.io.HttpConnectionFactory<? extends org.apache.hc.core5.http.impl.io.DefaultBHttpServerConnection>, org.apache.hc.core5.function.Callback<javax.net.ssl.SSLParameters>, org.apache.hc.core5.http.ExceptionListener);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iload_1
       6: ldc           #2                  // String Port value is negative
       8: invokestatic  #3                  // Method org/apache/hc/core5/util/Args.notNegative:(ILjava/lang/String;)I
      11: putfield      #4                  // Field port:I
      14: aload_0
      15: aload_2
      16: ldc           #5                  // String HTTP service
      18: invokestatic  #6                  // Method org/apache/hc/core5/util/Args.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      21: checkcast     #7                  // class org/apache/hc/core5/http/impl/io/HttpService
      24: putfield      #8                  // Field httpService:Lorg/apache/hc/core5/http/impl/io/HttpService;
      27: aload_0
      28: aload_3
      29: putfield      #9                  // Field ifAddress:Ljava/net/InetAddress;
      32: aload_0
      33: aload         4
      35: ifnull        43
      38: aload         4
      40: goto          46
      43: getstatic     #10                 // Field org/apache/hc/core5/http/io/SocketConfig.DEFAULT:Lorg/apache/hc/core5/http/io/SocketConfig;
      46: putfield      #11                 // Field socketConfig:Lorg/apache/hc/core5/http/io/SocketConfig;
      49: aload_0
      50: aload         5
      52: ifnull        60
      55: aload         5
      57: goto          63
      60: invokestatic  #12                 // Method javax/net/ServerSocketFactory.getDefault:()Ljavax/net/ServerSocketFactory;
      63: putfield      #13                 // Field serverSocketFactory:Ljavax/net/ServerSocketFactory;
      66: aload_0
      67: aload         6
      69: ifnull        77
      72: aload         6
      74: goto          115
      77: new           #14                 // class org/apache/hc/core5/http/impl/io/DefaultBHttpServerConnectionFactory
      80: dup
      81: aload_0
      82: getfield      #13                 // Field serverSocketFactory:Ljavax/net/ServerSocketFactory;
      85: instanceof    #15                 // class javax/net/ssl/SSLServerSocketFactory
      88: ifeq          100
      91: getstatic     #16                 // Field org/apache/hc/core5/http/URIScheme.HTTPS:Lorg/apache/hc/core5/http/URIScheme;
      94: getfield      #17                 // Field org/apache/hc/core5/http/URIScheme.id:Ljava/lang/String;
      97: goto          106
     100: getstatic     #18                 // Field org/apache/hc/core5/http/URIScheme.HTTP:Lorg/apache/hc/core5/http/URIScheme;
     103: getfield      #17                 // Field org/apache/hc/core5/http/URIScheme.id:Ljava/lang/String;
     106: getstatic     #19                 // Field org/apache/hc/core5/http/config/Http1Config.DEFAULT:Lorg/apache/hc/core5/http/config/Http1Config;
     109: getstatic     #20                 // Field org/apache/hc/core5/http/config/CharCodingConfig.DEFAULT:Lorg/apache/hc/core5/http/config/CharCodingConfig;
     112: invokespecial #21                 // Method org/apache/hc/core5/http/impl/io/DefaultBHttpServerConnectionFactory."<init>":(Ljava/lang/String;Lorg/apache/hc/core5/http/config/Http1Config;Lorg/apache/hc/core5/http/config/CharCodingConfig;)V
     115: putfield      #22                 // Field connectionFactory:Lorg/apache/hc/core5/http/io/HttpConnectionFactory;
     118: aload_0
     119: aload         7
     121: putfield      #23                 // Field sslSetupHandler:Lorg/apache/hc/core5/function/Callback;
     124: aload_0
     125: aload         8
     127: ifnull        135
     130: aload         8
     132: goto          138
     135: getstatic     #24                 // Field org/apache/hc/core5/http/ExceptionListener.NO_OP:Lorg/apache/hc/core5/http/ExceptionListener;
     138: putfield      #25                 // Field exceptionListener:Lorg/apache/hc/core5/http/ExceptionListener;
     141: aload_0
     142: new           #26                 // class java/util/concurrent/ThreadPoolExecutor
     145: dup
     146: iconst_1
     147: iconst_1
     148: lconst_0
     149: getstatic     #27                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     152: new           #28                 // class java/util/concurrent/SynchronousQueue
     155: dup
     156: invokespecial #29                 // Method java/util/concurrent/SynchronousQueue."<init>":()V
     159: new           #30                 // class org/apache/hc/core5/concurrent/DefaultThreadFactory
     162: dup
     163: new           #31                 // class java/lang/StringBuilder
     166: dup
     167: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     170: ldc           #33                 // String HTTP-listener-
     172: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: aload_0
     176: getfield      #4                  // Field port:I
     179: invokevirtual #35                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     182: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     185: invokespecial #37                 // Method org/apache/hc/core5/concurrent/DefaultThreadFactory."<init>":(Ljava/lang/String;)V
     188: invokespecial #38                 // Method java/util/concurrent/ThreadPoolExecutor."<init>":(IIJLjava/util/concurrent/TimeUnit;Ljava/util/concurrent/BlockingQueue;Ljava/util/concurrent/ThreadFactory;)V
     191: putfield      #39                 // Field listenerExecutorService:Ljava/util/concurrent/ThreadPoolExecutor;
     194: aload_0
     195: new           #40                 // class java/lang/ThreadGroup
     198: dup
     199: ldc           #41                 // String HTTP-workers
     201: invokespecial #42                 // Method java/lang/ThreadGroup."<init>":(Ljava/lang/String;)V
     204: putfield      #43                 // Field workerThreads:Ljava/lang/ThreadGroup;
     207: aload_0
     208: new           #44                 // class org/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor
     211: dup
     212: iconst_0
     213: ldc           #45                 // int 2147483647
     215: lconst_1
     216: getstatic     #46                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     219: new           #28                 // class java/util/concurrent/SynchronousQueue
     222: dup
     223: invokespecial #29                 // Method java/util/concurrent/SynchronousQueue."<init>":()V
     226: new           #30                 // class org/apache/hc/core5/concurrent/DefaultThreadFactory
     229: dup
     230: ldc           #47                 // String HTTP-worker
     232: aload_0
     233: getfield      #43                 // Field workerThreads:Ljava/lang/ThreadGroup;
     236: iconst_1
     237: invokespecial #48                 // Method org/apache/hc/core5/concurrent/DefaultThreadFactory."<init>":(Ljava/lang/String;Ljava/lang/ThreadGroup;Z)V
     240: invokespecial #49                 // Method org/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor."<init>":(IIJLjava/util/concurrent/TimeUnit;Ljava/util/concurrent/BlockingQueue;Ljava/util/concurrent/ThreadFactory;)V
     243: putfield      #50                 // Field workerExecutorService:Lorg/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor;
     246: aload_0
     247: new           #51                 // class java/util/concurrent/atomic/AtomicReference
     250: dup
     251: getstatic     #52                 // Field org/apache/hc/core5/http/impl/bootstrap/HttpServer$Status.READY:Lorg/apache/hc/core5/http/impl/bootstrap/HttpServer$Status;
     254: invokespecial #53                 // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
     257: putfield      #54                 // Field status:Ljava/util/concurrent/atomic/AtomicReference;
     260: return

  public java.net.InetAddress getInetAddress();
    Code:
       0: aload_0
       1: getfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
       4: astore_1
       5: aload_1
       6: ifnull        14
       9: aload_1
      10: invokevirtual #56                 // Method java/net/ServerSocket.getInetAddress:()Ljava/net/InetAddress;
      13: areturn
      14: aconst_null
      15: areturn

  public int getLocalPort();
    Code:
       0: aload_0
       1: getfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
       4: astore_1
       5: aload_1
       6: ifnull        14
       9: aload_1
      10: invokevirtual #57                 // Method java/net/ServerSocket.getLocalPort:()I
      13: ireturn
      14: iconst_m1
      15: ireturn

  public void start() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #54                 // Field status:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #52                 // Field org/apache/hc/core5/http/impl/bootstrap/HttpServer$Status.READY:Lorg/apache/hc/core5/http/impl/bootstrap/HttpServer$Status;
       7: getstatic     #58                 // Field org/apache/hc/core5/http/impl/bootstrap/HttpServer$Status.ACTIVE:Lorg/apache/hc/core5/http/impl/bootstrap/HttpServer$Status;
      10: invokevirtual #59                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ifeq          171
      16: aload_0
      17: aload_0
      18: getfield      #13                 // Field serverSocketFactory:Ljavax/net/ServerSocketFactory;
      21: aload_0
      22: getfield      #4                  // Field port:I
      25: aload_0
      26: getfield      #11                 // Field socketConfig:Lorg/apache/hc/core5/http/io/SocketConfig;
      29: invokevirtual #60                 // Method org/apache/hc/core5/http/io/SocketConfig.getBacklogSize:()I
      32: aload_0
      33: getfield      #9                  // Field ifAddress:Ljava/net/InetAddress;
      36: invokevirtual #61                 // Method javax/net/ServerSocketFactory.createServerSocket:(IILjava/net/InetAddress;)Ljava/net/ServerSocket;
      39: putfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
      42: aload_0
      43: getfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
      46: aload_0
      47: getfield      #11                 // Field socketConfig:Lorg/apache/hc/core5/http/io/SocketConfig;
      50: invokevirtual #62                 // Method org/apache/hc/core5/http/io/SocketConfig.isSoReuseAddress:()Z
      53: invokevirtual #63                 // Method java/net/ServerSocket.setReuseAddress:(Z)V
      56: aload_0
      57: getfield      #11                 // Field socketConfig:Lorg/apache/hc/core5/http/io/SocketConfig;
      60: invokevirtual #64                 // Method org/apache/hc/core5/http/io/SocketConfig.getRcvBufSize:()I
      63: ifle          80
      66: aload_0
      67: getfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
      70: aload_0
      71: getfield      #11                 // Field socketConfig:Lorg/apache/hc/core5/http/io/SocketConfig;
      74: invokevirtual #64                 // Method org/apache/hc/core5/http/io/SocketConfig.getRcvBufSize:()I
      77: invokevirtual #65                 // Method java/net/ServerSocket.setReceiveBufferSize:(I)V
      80: aload_0
      81: getfield      #23                 // Field sslSetupHandler:Lorg/apache/hc/core5/function/Callback;
      84: ifnull        125
      87: aload_0
      88: getfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
      91: instanceof    #66                 // class javax/net/ssl/SSLServerSocket
      94: ifeq          125
      97: aload_0
      98: getfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
     101: checkcast     #66                 // class javax/net/ssl/SSLServerSocket
     104: astore_1
     105: aload_1
     106: invokevirtual #67                 // Method javax/net/ssl/SSLServerSocket.getSSLParameters:()Ljavax/net/ssl/SSLParameters;
     109: astore_2
     110: aload_0
     111: getfield      #23                 // Field sslSetupHandler:Lorg/apache/hc/core5/function/Callback;
     114: aload_2
     115: invokeinterface #68,  2           // InterfaceMethod org/apache/hc/core5/function/Callback.execute:(Ljava/lang/Object;)V
     120: aload_1
     121: aload_2
     122: invokevirtual #69                 // Method javax/net/ssl/SSLServerSocket.setSSLParameters:(Ljavax/net/ssl/SSLParameters;)V
     125: aload_0
     126: new           #70                 // class org/apache/hc/core5/http/impl/bootstrap/RequestListener
     129: dup
     130: aload_0
     131: getfield      #11                 // Field socketConfig:Lorg/apache/hc/core5/http/io/SocketConfig;
     134: aload_0
     135: getfield      #55                 // Field serverSocket:Ljava/net/ServerSocket;
     138: aload_0
     139: getfield      #8                  // Field httpService:Lorg/apache/hc/core5/http/impl/io/HttpService;
     142: aload_0
     143: getfield      #22                 // Field connectionFactory:Lorg/apache/hc/core5/http/io/HttpConnectionFactory;
     146: aload_0
     147: getfield      #25                 // Field exceptionListener:Lorg/apache/hc/core5/http/ExceptionListener;
     150: aload_0
     151: getfield      #50                 // Field workerExecutorService:Lorg/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor;
     154: invokespecial #71                 // Method org/apache/hc/core5/http/impl/bootstrap/RequestListener."<init>":(Lorg/apache/hc/core5/http/io/SocketConfig;Ljava/net/ServerSocket;Lorg/apache/hc/core5/http/impl/io/HttpService;Lorg/apache/hc/core5/http/io/HttpConnectionFactory;Lorg/apache/hc/core5/http/ExceptionListener;Ljava/util/concurrent/ExecutorService;)V
     157: putfield      #72                 // Field requestListener:Lorg/apache/hc/core5/http/impl/bootstrap/RequestListener;
     160: aload_0
     161: getfield      #39                 // Field listenerExecutorService:Ljava/util/concurrent/ThreadPoolExecutor;
     164: aload_0
     165: getfield      #72                 // Field requestListener:Lorg/apache/hc/core5/http/impl/bootstrap/RequestListener;
     168: invokevirtual #73                 // Method java/util/concurrent/ThreadPoolExecutor.execute:(Ljava/lang/Runnable;)V
     171: return

  public void stop();
    Code:
       0: aload_0
       1: getfield      #54                 // Field status:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #58                 // Field org/apache/hc/core5/http/impl/bootstrap/HttpServer$Status.ACTIVE:Lorg/apache/hc/core5/http/impl/bootstrap/HttpServer$Status;
       7: getstatic     #74                 // Field org/apache/hc/core5/http/impl/bootstrap/HttpServer$Status.STOPPING:Lorg/apache/hc/core5/http/impl/bootstrap/HttpServer$Status;
      10: invokevirtual #59                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ifeq          65
      16: aload_0
      17: getfield      #39                 // Field listenerExecutorService:Ljava/util/concurrent/ThreadPoolExecutor;
      20: invokevirtual #75                 // Method java/util/concurrent/ThreadPoolExecutor.shutdownNow:()Ljava/util/List;
      23: pop
      24: aload_0
      25: getfield      #50                 // Field workerExecutorService:Lorg/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor;
      28: invokevirtual #76                 // Method org/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor.shutdown:()V
      31: aload_0
      32: getfield      #72                 // Field requestListener:Lorg/apache/hc/core5/http/impl/bootstrap/RequestListener;
      35: astore_1
      36: aload_1
      37: ifnull        58
      40: aload_1
      41: invokevirtual #77                 // Method org/apache/hc/core5/http/impl/bootstrap/RequestListener.terminate:()V
      44: goto          58
      47: astore_2
      48: aload_0
      49: getfield      #25                 // Field exceptionListener:Lorg/apache/hc/core5/http/ExceptionListener;
      52: aload_2
      53: invokeinterface #79,  2           // InterfaceMethod org/apache/hc/core5/http/ExceptionListener.onError:(Ljava/lang/Exception;)V
      58: aload_0
      59: getfield      #43                 // Field workerThreads:Ljava/lang/ThreadGroup;
      62: invokevirtual #80                 // Method java/lang/ThreadGroup.interrupt:()V
      65: return
    Exception table:
       from    to  target type
          40    44    47   Class java/io/IOException

  public void initiateShutdown();
    Code:
       0: aload_0
       1: invokevirtual #81                 // Method stop:()V
       4: return

  public void awaitTermination(org.apache.hc.core5.util.TimeValue) throws java.lang.InterruptedException;
    Code:
       0: aload_1
       1: ldc           #82                 // String Wait time
       3: invokestatic  #6                  // Method org/apache/hc/core5/util/Args.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
       6: pop
       7: aload_0
       8: getfield      #50                 // Field workerExecutorService:Lorg/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor;
      11: aload_1
      12: invokevirtual #83                 // Method org/apache/hc/core5/util/TimeValue.getDuration:()J
      15: aload_1
      16: invokevirtual #84                 // Method org/apache/hc/core5/util/TimeValue.getTimeUnit:()Ljava/util/concurrent/TimeUnit;
      19: invokevirtual #85                 // Method org/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor.awaitTermination:(JLjava/util/concurrent/TimeUnit;)Z
      22: pop
      23: return

  public void close(org.apache.hc.core5.io.CloseMode);
    Code:
       0: aload_0
       1: invokevirtual #86                 // Method initiateShutdown:()V
       4: aload_1
       5: getstatic     #87                 // Field org/apache/hc/core5/io/CloseMode.GRACEFUL:Lorg/apache/hc/core5/io/CloseMode;
       8: if_acmpne     31
      11: aload_0
      12: ldc2_w        #88                 // long 5l
      15: invokestatic  #90                 // Method org/apache/hc/core5/util/TimeValue.ofSeconds:(J)Lorg/apache/hc/core5/util/TimeValue;
      18: invokevirtual #91                 // Method awaitTermination:(Lorg/apache/hc/core5/util/TimeValue;)V
      21: goto          31
      24: astore_2
      25: invokestatic  #93                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      28: invokevirtual #94                 // Method java/lang/Thread.interrupt:()V
      31: aload_0
      32: getfield      #50                 // Field workerExecutorService:Lorg/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor;
      35: invokevirtual #95                 // Method org/apache/hc/core5/http/impl/bootstrap/WorkerPoolExecutor.getWorkers:()Ljava/util/Set;
      38: astore_2
      39: aload_2
      40: invokeinterface #96,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      45: astore_3
      46: aload_3
      47: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      52: ifeq          80
      55: aload_3
      56: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      61: checkcast     #99                 // class org/apache/hc/core5/http/impl/bootstrap/Worker
      64: astore        4
      66: aload         4
      68: invokevirtual #100                // Method org/apache/hc/core5/http/impl/bootstrap/Worker.getConnection:()Lorg/apache/hc/core5/http/io/HttpServerConnection;
      71: getstatic     #87                 // Field org/apache/hc/core5/io/CloseMode.GRACEFUL:Lorg/apache/hc/core5/io/CloseMode;
      74: invokestatic  #101                // Method org/apache/hc/core5/io/Closer.close:(Lorg/apache/hc/core5/io/ModalCloseable;Lorg/apache/hc/core5/io/CloseMode;)V
      77: goto          46
      80: return
    Exception table:
       from    to  target type
          11    21    24   Class java/lang/InterruptedException

  public void close();
    Code:
       0: aload_0
       1: getstatic     #87                 // Field org/apache/hc/core5/io/CloseMode.GRACEFUL:Lorg/apache/hc/core5/io/CloseMode;
       4: invokevirtual #102                // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
       7: return
}
