Compiled from "ClientPushH2StreamHandler.java"
class org.apache.hc.core5.http2.impl.nio.ClientPushH2StreamHandler implements org.apache.hc.core5.http2.impl.nio.H2StreamHandler {
  private final org.apache.hc.core5.http2.impl.nio.H2StreamChannel internalOutputChannel;

  private final org.apache.hc.core5.http.protocol.HttpProcessor httpProcessor;

  private final org.apache.hc.core5.http.impl.BasicHttpConnectionMetrics connMetrics;

  private final org.apache.hc.core5.http.nio.HandlerFactory<org.apache.hc.core5.http.nio.AsyncPushConsumer> pushHandlerFactory;

  private final org.apache.hc.core5.http.protocol.HttpCoreContext context;

  private final java.util.concurrent.atomic.AtomicBoolean failed;

  private final java.util.concurrent.atomic.AtomicBoolean done;

  private volatile org.apache.hc.core5.http.HttpRequest request;

  private volatile org.apache.hc.core5.http.nio.AsyncPushConsumer exchangeHandler;

  private volatile org.apache.hc.core5.http.impl.nio.MessageState requestState;

  private volatile org.apache.hc.core5.http.impl.nio.MessageState responseState;

  org.apache.hc.core5.http2.impl.nio.ClientPushH2StreamHandler(org.apache.hc.core5.http2.impl.nio.H2StreamChannel, org.apache.hc.core5.http.protocol.HttpProcessor, org.apache.hc.core5.http.impl.BasicHttpConnectionMetrics, org.apache.hc.core5.http.nio.HandlerFactory<org.apache.hc.core5.http.nio.AsyncPushConsumer>, org.apache.hc.core5.http.protocol.HttpCoreContext);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field internalOutputChannel:Lorg/apache/hc/core5/http2/impl/nio/H2StreamChannel;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field httpProcessor:Lorg/apache/hc/core5/http/protocol/HttpProcessor;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field connMetrics:Lorg/apache/hc/core5/http/impl/BasicHttpConnectionMetrics;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field pushHandlerFactory:Lorg/apache/hc/core5/http/nio/HandlerFactory;
      25: aload_0
      26: aload         5
      28: putfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
      31: aload_0
      32: new           #7                  // class java/util/concurrent/atomic/AtomicBoolean
      35: dup
      36: iconst_0
      37: invokespecial #8                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      40: putfield      #9                  // Field failed:Ljava/util/concurrent/atomic/AtomicBoolean;
      43: aload_0
      44: new           #7                  // class java/util/concurrent/atomic/AtomicBoolean
      47: dup
      48: iconst_0
      49: invokespecial #8                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      52: putfield      #10                 // Field done:Ljava/util/concurrent/atomic/AtomicBoolean;
      55: aload_0
      56: getstatic     #11                 // Field org/apache/hc/core5/http/impl/nio/MessageState.HEADERS:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      59: putfield      #12                 // Field requestState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      62: aload_0
      63: getstatic     #11                 // Field org/apache/hc/core5/http/impl/nio/MessageState.HEADERS:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      66: putfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      69: return

  public org.apache.hc.core5.http.nio.HandlerFactory<org.apache.hc.core5.http.nio.AsyncPushConsumer> getPushHandlerFactory();
    Code:
       0: aload_0
       1: getfield      #5                  // Field pushHandlerFactory:Lorg/apache/hc/core5/http/nio/HandlerFactory;
       4: areturn

  public boolean isOutputReady();
    Code:
       0: iconst_0
       1: ireturn

  public void produceOutput() throws org.apache.hc.core5.http.HttpException, java.io.IOException;
    Code:
       0: return

  public void consumePromise(java.util.List<org.apache.hc.core5.http.Header>) throws org.apache.hc.core5.http.HttpException, java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #12                 // Field requestState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       4: getstatic     #11                 // Field org/apache/hc/core5/http/impl/nio/MessageState.HEADERS:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       7: if_acmpne     153
      10: aload_0
      11: getstatic     #14                 // Field org/apache/hc/core5/http2/impl/DefaultH2RequestConverter.INSTANCE:Lorg/apache/hc/core5/http2/impl/DefaultH2RequestConverter;
      14: aload_1
      15: invokevirtual #15                 // Method org/apache/hc/core5/http2/impl/DefaultH2RequestConverter.convert:(Ljava/util/List;)Lorg/apache/hc/core5/http/HttpRequest;
      18: putfield      #16                 // Field request:Lorg/apache/hc/core5/http/HttpRequest;
      21: aload_0
      22: getfield      #5                  // Field pushHandlerFactory:Lorg/apache/hc/core5/http/nio/HandlerFactory;
      25: ifnull        51
      28: aload_0
      29: getfield      #5                  // Field pushHandlerFactory:Lorg/apache/hc/core5/http/nio/HandlerFactory;
      32: aload_0
      33: getfield      #16                 // Field request:Lorg/apache/hc/core5/http/HttpRequest;
      36: aload_0
      37: getfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
      40: invokeinterface #17,  3           // InterfaceMethod org/apache/hc/core5/http/nio/HandlerFactory.create:(Lorg/apache/hc/core5/http/HttpRequest;Lorg/apache/hc/core5/http/protocol/HttpContext;)Lorg/apache/hc/core5/http/nio/ResourceHolder;
      45: checkcast     #18                 // class org/apache/hc/core5/http/nio/AsyncPushConsumer
      48: goto          52
      51: aconst_null
      52: astore_2
      53: goto          72
      56: astore_3
      57: new           #20                 // class org/apache/hc/core5/http2/H2StreamResetException
      60: dup
      61: getstatic     #21                 // Field org/apache/hc/core5/http2/H2Error.PROTOCOL_ERROR:Lorg/apache/hc/core5/http2/H2Error;
      64: aload_3
      65: invokevirtual #22                 // Method org/apache/hc/core5/http/ProtocolException.getMessage:()Ljava/lang/String;
      68: invokespecial #23                 // Method org/apache/hc/core5/http2/H2StreamResetException."<init>":(Lorg/apache/hc/core5/http2/H2Error;Ljava/lang/String;)V
      71: athrow
      72: aload_2
      73: ifnonnull     89
      76: new           #20                 // class org/apache/hc/core5/http2/H2StreamResetException
      79: dup
      80: getstatic     #24                 // Field org/apache/hc/core5/http2/H2Error.REFUSED_STREAM:Lorg/apache/hc/core5/http2/H2Error;
      83: ldc           #25                 // String Stream refused
      85: invokespecial #23                 // Method org/apache/hc/core5/http2/H2StreamResetException."<init>":(Lorg/apache/hc/core5/http2/H2Error;Ljava/lang/String;)V
      88: athrow
      89: aload_0
      90: aload_2
      91: putfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      94: aload_0
      95: getfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
      98: getstatic     #27                 // Field org/apache/hc/core5/http/HttpVersion.HTTP_2:Lorg/apache/hc/core5/http/HttpVersion;
     101: invokevirtual #28                 // Method org/apache/hc/core5/http/protocol/HttpCoreContext.setProtocolVersion:(Lorg/apache/hc/core5/http/ProtocolVersion;)V
     104: aload_0
     105: getfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
     108: ldc           #29                 // String http.request
     110: aload_0
     111: getfield      #16                 // Field request:Lorg/apache/hc/core5/http/HttpRequest;
     114: invokevirtual #30                 // Method org/apache/hc/core5/http/protocol/HttpCoreContext.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     117: pop
     118: aload_0
     119: getfield      #3                  // Field httpProcessor:Lorg/apache/hc/core5/http/protocol/HttpProcessor;
     122: aload_0
     123: getfield      #16                 // Field request:Lorg/apache/hc/core5/http/HttpRequest;
     126: aconst_null
     127: aload_0
     128: getfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
     131: invokeinterface #31,  4           // InterfaceMethod org/apache/hc/core5/http/protocol/HttpProcessor.process:(Lorg/apache/hc/core5/http/HttpRequest;Lorg/apache/hc/core5/http/EntityDetails;Lorg/apache/hc/core5/http/protocol/HttpContext;)V
     136: aload_0
     137: getfield      #4                  // Field connMetrics:Lorg/apache/hc/core5/http/impl/BasicHttpConnectionMetrics;
     140: invokevirtual #32                 // Method org/apache/hc/core5/http/impl/BasicHttpConnectionMetrics.incrementRequestCount:()V
     143: aload_0
     144: getstatic     #33                 // Field org/apache/hc/core5/http/impl/nio/MessageState.COMPLETE:Lorg/apache/hc/core5/http/impl/nio/MessageState;
     147: putfield      #12                 // Field requestState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
     150: goto          166
     153: new           #34                 // class org/apache/hc/core5/http2/H2ConnectionException
     156: dup
     157: getstatic     #21                 // Field org/apache/hc/core5/http2/H2Error.PROTOCOL_ERROR:Lorg/apache/hc/core5/http2/H2Error;
     160: ldc           #35                 // String Unexpected promise
     162: invokespecial #36                 // Method org/apache/hc/core5/http2/H2ConnectionException."<init>":(Lorg/apache/hc/core5/http2/H2Error;Ljava/lang/String;)V
     165: athrow
     166: return
    Exception table:
       from    to  target type
          21    53    56   Class org/apache/hc/core5/http/ProtocolException

  public void consumeHeader(java.util.List<org.apache.hc.core5.http.Header>, boolean) throws org.apache.hc.core5.http.HttpException, java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       4: getstatic     #11                 // Field org/apache/hc/core5/http/impl/nio/MessageState.HEADERS:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       7: if_acmpne     148
      10: aload_0
      11: getfield      #16                 // Field request:Lorg/apache/hc/core5/http/HttpRequest;
      14: ldc           #37                 // String Request
      16: invokestatic  #38                 // Method org/apache/hc/core5/util/Asserts.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      19: aload_0
      20: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      23: ldc           #39                 // String Exchange handler
      25: invokestatic  #38                 // Method org/apache/hc/core5/util/Asserts.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      28: getstatic     #40                 // Field org/apache/hc/core5/http2/impl/DefaultH2ResponseConverter.INSTANCE:Lorg/apache/hc/core5/http2/impl/DefaultH2ResponseConverter;
      31: aload_1
      32: invokevirtual #41                 // Method org/apache/hc/core5/http2/impl/DefaultH2ResponseConverter.convert:(Ljava/util/List;)Lorg/apache/hc/core5/http/HttpResponse;
      35: astore_3
      36: iload_2
      37: ifeq          44
      40: aconst_null
      41: goto          58
      44: new           #42                 // class org/apache/hc/core5/http/impl/IncomingEntityDetails
      47: dup
      48: aload_0
      49: getfield      #16                 // Field request:Lorg/apache/hc/core5/http/HttpRequest;
      52: ldc2_w        #43                 // long -1l
      55: invokespecial #45                 // Method org/apache/hc/core5/http/impl/IncomingEntityDetails."<init>":(Lorg/apache/hc/core5/http/MessageHeaders;J)V
      58: astore        4
      60: aload_0
      61: getfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
      64: ldc           #46                 // String http.response
      66: aload_3
      67: invokevirtual #30                 // Method org/apache/hc/core5/http/protocol/HttpCoreContext.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      70: pop
      71: aload_0
      72: getfield      #3                  // Field httpProcessor:Lorg/apache/hc/core5/http/protocol/HttpProcessor;
      75: aload_3
      76: aload         4
      78: aload_0
      79: getfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
      82: invokeinterface #47,  4           // InterfaceMethod org/apache/hc/core5/http/protocol/HttpProcessor.process:(Lorg/apache/hc/core5/http/HttpResponse;Lorg/apache/hc/core5/http/EntityDetails;Lorg/apache/hc/core5/http/protocol/HttpContext;)V
      87: aload_0
      88: getfield      #4                  // Field connMetrics:Lorg/apache/hc/core5/http/impl/BasicHttpConnectionMetrics;
      91: invokevirtual #48                 // Method org/apache/hc/core5/http/impl/BasicHttpConnectionMetrics.incrementResponseCount:()V
      94: aload_0
      95: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      98: aload_0
      99: getfield      #16                 // Field request:Lorg/apache/hc/core5/http/HttpRequest;
     102: aload_3
     103: aload         4
     105: aload_0
     106: getfield      #6                  // Field context:Lorg/apache/hc/core5/http/protocol/HttpCoreContext;
     109: invokeinterface #49,  5           // InterfaceMethod org/apache/hc/core5/http/nio/AsyncPushConsumer.consumePromise:(Lorg/apache/hc/core5/http/HttpRequest;Lorg/apache/hc/core5/http/HttpResponse;Lorg/apache/hc/core5/http/EntityDetails;Lorg/apache/hc/core5/http/protocol/HttpContext;)V
     114: iload_2
     115: ifeq          138
     118: aload_0
     119: getstatic     #33                 // Field org/apache/hc/core5/http/impl/nio/MessageState.COMPLETE:Lorg/apache/hc/core5/http/impl/nio/MessageState;
     122: putfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
     125: aload_0
     126: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
     129: aconst_null
     130: invokeinterface #50,  2           // InterfaceMethod org/apache/hc/core5/http/nio/AsyncPushConsumer.streamEnd:(Ljava/util/List;)V
     135: goto          145
     138: aload_0
     139: getstatic     #51                 // Field org/apache/hc/core5/http/impl/nio/MessageState.BODY:Lorg/apache/hc/core5/http/impl/nio/MessageState;
     142: putfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
     145: goto          158
     148: new           #19                 // class org/apache/hc/core5/http/ProtocolException
     151: dup
     152: ldc           #52                 // String Unexpected message headers
     154: invokespecial #53                 // Method org/apache/hc/core5/http/ProtocolException."<init>":(Ljava/lang/String;)V
     157: athrow
     158: return

  public void updateInputCapacity() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
       4: ldc           #39                 // String Exchange handler
       6: invokestatic  #38                 // Method org/apache/hc/core5/util/Asserts.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       9: aload_0
      10: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      13: aload_0
      14: getfield      #2                  // Field internalOutputChannel:Lorg/apache/hc/core5/http2/impl/nio/H2StreamChannel;
      17: invokeinterface #54,  2           // InterfaceMethod org/apache/hc/core5/http/nio/AsyncPushConsumer.updateCapacity:(Lorg/apache/hc/core5/http/nio/CapacityChannel;)V
      22: return

  public void consumeData(java.nio.ByteBuffer, boolean) throws org.apache.hc.core5.http.HttpException, java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       4: getstatic     #51                 // Field org/apache/hc/core5/http/impl/nio/MessageState.BODY:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       7: if_acmpeq     20
      10: new           #19                 // class org/apache/hc/core5/http/ProtocolException
      13: dup
      14: ldc           #55                 // String Unexpected message data
      16: invokespecial #53                 // Method org/apache/hc/core5/http/ProtocolException."<init>":(Ljava/lang/String;)V
      19: athrow
      20: aload_0
      21: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      24: ldc           #39                 // String Exchange handler
      26: invokestatic  #38                 // Method org/apache/hc/core5/util/Asserts.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      29: aload_1
      30: ifnull        43
      33: aload_0
      34: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      37: aload_1
      38: invokeinterface #56,  2           // InterfaceMethod org/apache/hc/core5/http/nio/AsyncPushConsumer.consume:(Ljava/nio/ByteBuffer;)V
      43: iload_2
      44: ifeq          64
      47: aload_0
      48: getstatic     #33                 // Field org/apache/hc/core5/http/impl/nio/MessageState.COMPLETE:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      51: putfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      54: aload_0
      55: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      58: aconst_null
      59: invokeinterface #50,  2           // InterfaceMethod org/apache/hc/core5/http/nio/AsyncPushConsumer.streamEnd:(Ljava/util/List;)V
      64: return

  public boolean isDone();
    Code:
       0: aload_0
       1: getfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       4: getstatic     #33                 // Field org/apache/hc/core5/http/impl/nio/MessageState.COMPLETE:Lorg/apache/hc/core5/http/impl/nio/MessageState;
       7: if_acmpne     14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  public void failed(java.lang.Exception);
    Code:
       0: aload_0
       1: getfield      #9                  // Field failed:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #57                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          29
      12: aload_0
      13: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      16: ifnull        29
      19: aload_0
      20: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      23: aload_1
      24: invokeinterface #58,  2           // InterfaceMethod org/apache/hc/core5/http/nio/AsyncPushConsumer.failed:(Ljava/lang/Exception;)V
      29: aload_0
      30: invokevirtual #59                 // Method releaseResources:()V
      33: goto          43
      36: astore_2
      37: aload_0
      38: invokevirtual #59                 // Method releaseResources:()V
      41: aload_2
      42: athrow
      43: return
    Exception table:
       from    to  target type
           0    29    36   any
          36    37    36   any

  public void handle(org.apache.hc.core5.http.HttpException, boolean) throws org.apache.hc.core5.http.HttpException;
    Code:
       0: aload_1
       1: athrow

  public void releaseResources();
    Code:
       0: aload_0
       1: getfield      #10                 // Field done:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #57                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          42
      12: aload_0
      13: getstatic     #33                 // Field org/apache/hc/core5/http/impl/nio/MessageState.COMPLETE:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      16: putfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      19: aload_0
      20: getstatic     #33                 // Field org/apache/hc/core5/http/impl/nio/MessageState.COMPLETE:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      23: putfield      #12                 // Field requestState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      26: aload_0
      27: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      30: ifnull        42
      33: aload_0
      34: getfield      #26                 // Field exchangeHandler:Lorg/apache/hc/core5/http/nio/AsyncPushConsumer;
      37: invokeinterface #60,  1           // InterfaceMethod org/apache/hc/core5/http/nio/AsyncPushConsumer.releaseResources:()V
      42: return

  public java.lang.String toString();
    Code:
       0: new           #61                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #63                 // String [requestState=
       9: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #12                 // Field requestState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      16: invokevirtual #65                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #66                 // String , responseState=
      21: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: getfield      #13                 // Field responseState:Lorg/apache/hc/core5/http/impl/nio/MessageState;
      28: invokevirtual #65                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: bipush        93
      33: invokevirtual #67                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      36: invokevirtual #68                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: areturn
}
