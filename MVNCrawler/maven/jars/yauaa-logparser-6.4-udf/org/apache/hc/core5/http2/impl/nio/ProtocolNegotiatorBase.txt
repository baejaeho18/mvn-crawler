Compiled from "ProtocolNegotiatorBase.java"
abstract class org.apache.hc.core5.http2.impl.nio.ProtocolNegotiatorBase implements org.apache.hc.core5.http.impl.nio.HttpConnectionEventHandler {
  final org.apache.hc.core5.reactor.ProtocolIOSession ioSession;

  private final java.util.concurrent.atomic.AtomicReference<org.apache.hc.core5.http.impl.nio.HttpConnectionEventHandler> protocolHandlerRef;

  private final org.apache.hc.core5.concurrent.FutureCallback<org.apache.hc.core5.reactor.ProtocolIOSession> resultCallback;

  private final java.util.concurrent.atomic.AtomicBoolean completed;

  org.apache.hc.core5.http2.impl.nio.ProtocolNegotiatorBase(org.apache.hc.core5.reactor.ProtocolIOSession, org.apache.hc.core5.concurrent.FutureCallback<org.apache.hc.core5.reactor.ProtocolIOSession>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: ldc           #2                  // String I/O session
       8: invokestatic  #3                  // Method org/apache/hc/core5/util/Args.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #4                  // class org/apache/hc/core5/reactor/ProtocolIOSession
      14: putfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
      17: aload_0
      18: new           #6                  // class java/util/concurrent/atomic/AtomicReference
      21: dup
      22: aconst_null
      23: invokespecial #7                  // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      26: putfield      #8                  // Field protocolHandlerRef:Ljava/util/concurrent/atomic/AtomicReference;
      29: aload_0
      30: aload_2
      31: putfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      34: aload_0
      35: new           #10                 // class java/util/concurrent/atomic/AtomicBoolean
      38: dup
      39: invokespecial #11                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      42: putfield      #12                 // Field completed:Ljava/util/concurrent/atomic/AtomicBoolean;
      45: return

  void startProtocol(org.apache.hc.core5.http.impl.nio.HttpConnectionEventHandler, java.nio.ByteBuffer) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field protocolHandlerRef:Ljava/util/concurrent/atomic/AtomicReference;
       4: aload_1
       5: invokevirtual #13                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
       8: aload_0
       9: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
      12: aload_1
      13: invokeinterface #14,  2           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.upgrade:(Lorg/apache/hc/core5/reactor/IOEventHandler;)V
      18: aload_1
      19: aload_0
      20: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
      23: invokeinterface #15,  2           // InterfaceMethod org/apache/hc/core5/http/impl/nio/HttpConnectionEventHandler.connected:(Lorg/apache/hc/core5/reactor/IOSession;)V
      28: aload_2
      29: ifnull        50
      32: aload_2
      33: invokevirtual #16                 // Method java/nio/ByteBuffer.hasRemaining:()Z
      36: ifeq          50
      39: aload_1
      40: aload_0
      41: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
      44: aload_2
      45: invokeinterface #17,  3           // InterfaceMethod org/apache/hc/core5/http/impl/nio/HttpConnectionEventHandler.inputReady:(Lorg/apache/hc/core5/reactor/IOSession;Ljava/nio/ByteBuffer;)V
      50: aload_0
      51: getfield      #12                 // Field completed:Ljava/util/concurrent/atomic/AtomicBoolean;
      54: iconst_0
      55: iconst_1
      56: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      59: ifeq          82
      62: aload_0
      63: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      66: ifnull        82
      69: aload_0
      70: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      73: aload_0
      74: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
      77: invokeinterface #19,  2           // InterfaceMethod org/apache/hc/core5/concurrent/FutureCallback.completed:(Ljava/lang/Object;)V
      82: return

  public void timeout(org.apache.hc.core5.reactor.IOSession, org.apache.hc.core5.util.Timeout);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokestatic  #20                 // Method org/apache/hc/core5/io/SocketTimeoutExceptionFactory.create:(Lorg/apache/hc/core5/util/Timeout;)Ljava/net/SocketTimeoutException;
       6: invokevirtual #21                 // Method exception:(Lorg/apache/hc/core5/reactor/IOSession;Ljava/lang/Exception;)V
       9: return

  public void exception(org.apache.hc.core5.reactor.IOSession, java.lang.Exception);
    Code:
       0: aload_0
       1: getfield      #8                  // Field protocolHandlerRef:Ljava/util/concurrent/atomic/AtomicReference;
       4: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       7: checkcast     #23                 // class org/apache/hc/core5/http/impl/nio/HttpConnectionEventHandler
      10: astore_3
      11: aload_1
      12: getstatic     #24                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
      15: invokeinterface #25,  2           // InterfaceMethod org/apache/hc/core5/reactor/IOSession.close:(Lorg/apache/hc/core5/io/CloseMode;)V
      20: aload_3
      21: ifnull        35
      24: aload_3
      25: aload_1
      26: aload_2
      27: invokeinterface #26,  3           // InterfaceMethod org/apache/hc/core5/http/impl/nio/HttpConnectionEventHandler.exception:(Lorg/apache/hc/core5/reactor/IOSession;Ljava/lang/Exception;)V
      32: goto          40
      35: aload_1
      36: aload_2
      37: invokestatic  #27                 // Method org/apache/hc/core5/http/nio/command/CommandSupport.failCommands:(Lorg/apache/hc/core5/reactor/IOSession;Ljava/lang/Exception;)V
      40: goto          75
      43: astore        4
      45: aload_0
      46: getfield      #12                 // Field completed:Ljava/util/concurrent/atomic/AtomicBoolean;
      49: iconst_0
      50: iconst_1
      51: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      54: ifeq          75
      57: aload_0
      58: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      61: ifnull        75
      64: aload_0
      65: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      68: aload         4
      70: invokeinterface #29,  2           // InterfaceMethod org/apache/hc/core5/concurrent/FutureCallback.failed:(Ljava/lang/Exception;)V
      75: return
    Exception table:
       from    to  target type
          11    40    43   Class java/lang/Exception

  public void disconnected(org.apache.hc.core5.reactor.IOSession);
    Code:
       0: aload_0
       1: getfield      #8                  // Field protocolHandlerRef:Ljava/util/concurrent/atomic/AtomicReference;
       4: aconst_null
       5: invokevirtual #30                 // Method java/util/concurrent/atomic/AtomicReference.getAndSet:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #23                 // class org/apache/hc/core5/http/impl/nio/HttpConnectionEventHandler
      11: astore_2
      12: aload_2
      13: ifnull        29
      16: aload_2
      17: aload_0
      18: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
      21: invokeinterface #31,  2           // InterfaceMethod org/apache/hc/core5/http/impl/nio/HttpConnectionEventHandler.disconnected:(Lorg/apache/hc/core5/reactor/IOSession;)V
      26: goto          33
      29: aload_1
      30: invokestatic  #32                 // Method org/apache/hc/core5/http/nio/command/CommandSupport.cancelCommands:(Lorg/apache/hc/core5/reactor/IOSession;)V
      33: aload_0
      34: getfield      #12                 // Field completed:Ljava/util/concurrent/atomic/AtomicBoolean;
      37: iconst_0
      38: iconst_1
      39: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      42: ifeq          109
      45: aload_0
      46: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      49: ifnull        109
      52: aload_0
      53: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      56: new           #33                 // class org/apache/hc/core5/http/ConnectionClosedException
      59: dup
      60: invokespecial #34                 // Method org/apache/hc/core5/http/ConnectionClosedException."<init>":()V
      63: invokeinterface #29,  2           // InterfaceMethod org/apache/hc/core5/concurrent/FutureCallback.failed:(Ljava/lang/Exception;)V
      68: goto          109
      71: astore_3
      72: aload_0
      73: getfield      #12                 // Field completed:Ljava/util/concurrent/atomic/AtomicBoolean;
      76: iconst_0
      77: iconst_1
      78: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      81: ifeq          107
      84: aload_0
      85: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      88: ifnull        107
      91: aload_0
      92: getfield      #9                  // Field resultCallback:Lorg/apache/hc/core5/concurrent/FutureCallback;
      95: new           #33                 // class org/apache/hc/core5/http/ConnectionClosedException
      98: dup
      99: invokespecial #34                 // Method org/apache/hc/core5/http/ConnectionClosedException."<init>":()V
     102: invokeinterface #29,  2           // InterfaceMethod org/apache/hc/core5/concurrent/FutureCallback.failed:(Ljava/lang/Exception;)V
     107: aload_3
     108: athrow
     109: return
    Exception table:
       from    to  target type
          12    33    71   any
          71    72    71   any

  public javax.net.ssl.SSLSession getSSLSession();
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: invokeinterface #35,  1           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.getTlsDetails:()Lorg/apache/hc/core5/reactor/ssl/TlsDetails;
       9: astore_1
      10: aload_1
      11: ifnull        21
      14: aload_1
      15: invokevirtual #36                 // Method org/apache/hc/core5/reactor/ssl/TlsDetails.getSSLSession:()Ljavax/net/ssl/SSLSession;
      18: goto          22
      21: aconst_null
      22: areturn

  public org.apache.hc.core5.http.EndpointDetails getEndpointDetails();
    Code:
       0: aconst_null
       1: areturn

  public void setSocketTimeout(org.apache.hc.core5.util.Timeout);
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: aload_1
       5: invokeinterface #37,  2           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.setSocketTimeout:(Lorg/apache/hc/core5/util/Timeout;)V
      10: return

  public org.apache.hc.core5.util.Timeout getSocketTimeout();
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: invokeinterface #38,  1           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.getSocketTimeout:()Lorg/apache/hc/core5/util/Timeout;
       9: areturn

  public org.apache.hc.core5.http.ProtocolVersion getProtocolVersion();
    Code:
       0: aconst_null
       1: areturn

  public java.net.SocketAddress getRemoteAddress();
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: invokeinterface #39,  1           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.getRemoteAddress:()Ljava/net/SocketAddress;
       9: areturn

  public java.net.SocketAddress getLocalAddress();
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: invokeinterface #40,  1           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.getLocalAddress:()Ljava/net/SocketAddress;
       9: areturn

  public boolean isOpen();
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: invokeinterface #41,  1           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.isOpen:()Z
       9: ireturn

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: invokeinterface #42,  1           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.close:()V
       9: return

  public void close(org.apache.hc.core5.io.CloseMode);
    Code:
       0: aload_0
       1: getfield      #5                  // Field ioSession:Lorg/apache/hc/core5/reactor/ProtocolIOSession;
       4: aload_1
       5: invokeinterface #43,  2           // InterfaceMethod org/apache/hc/core5/reactor/ProtocolIOSession.close:(Lorg/apache/hc/core5/io/CloseMode;)V
      10: return
}
