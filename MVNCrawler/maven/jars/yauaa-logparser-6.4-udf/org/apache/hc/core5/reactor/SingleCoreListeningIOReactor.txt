Compiled from "SingleCoreListeningIOReactor.java"
class org.apache.hc.core5.reactor.SingleCoreListeningIOReactor extends org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor implements org.apache.hc.core5.reactor.ConnectionAcceptor {
  private final org.apache.hc.core5.reactor.IOReactorConfig reactorConfig;

  private final org.apache.hc.core5.function.Callback<org.apache.hc.core5.reactor.ChannelEntry> callback;

  private final java.util.Queue<org.apache.hc.core5.reactor.ListenerEndpointRequest> requestQueue;

  private final java.util.concurrent.ConcurrentMap<org.apache.hc.core5.reactor.ListenerEndpointImpl, java.lang.Boolean> endpoints;

  private final java.util.concurrent.atomic.AtomicBoolean paused;

  private final long selectTimeoutMillis;

  org.apache.hc.core5.reactor.SingleCoreListeningIOReactor(org.apache.hc.core5.function.Callback<java.lang.Exception>, org.apache.hc.core5.reactor.IOReactorConfig, org.apache.hc.core5.function.Callback<org.apache.hc.core5.reactor.ChannelEntry>);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method org/apache/hc/core5/reactor/AbstractSingleCoreIOReactor."<init>":(Lorg/apache/hc/core5/function/Callback;)V
       5: aload_0
       6: aload_2
       7: ifnull        14
      10: aload_2
      11: goto          17
      14: getstatic     #2                  // Field org/apache/hc/core5/reactor/IOReactorConfig.DEFAULT:Lorg/apache/hc/core5/reactor/IOReactorConfig;
      17: putfield      #3                  // Field reactorConfig:Lorg/apache/hc/core5/reactor/IOReactorConfig;
      20: aload_0
      21: aload_3
      22: putfield      #4                  // Field callback:Lorg/apache/hc/core5/function/Callback;
      25: aload_0
      26: new           #5                  // class java/util/concurrent/ConcurrentLinkedQueue
      29: dup
      30: invokespecial #6                  // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
      33: putfield      #7                  // Field requestQueue:Ljava/util/Queue;
      36: aload_0
      37: new           #8                  // class java/util/concurrent/ConcurrentHashMap
      40: dup
      41: invokespecial #9                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      44: putfield      #10                 // Field endpoints:Ljava/util/concurrent/ConcurrentMap;
      47: aload_0
      48: new           #11                 // class java/util/concurrent/atomic/AtomicBoolean
      51: dup
      52: iconst_0
      53: invokespecial #12                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      56: putfield      #13                 // Field paused:Ljava/util/concurrent/atomic/AtomicBoolean;
      59: aload_0
      60: aload_0
      61: getfield      #3                  // Field reactorConfig:Lorg/apache/hc/core5/reactor/IOReactorConfig;
      64: invokevirtual #14                 // Method org/apache/hc/core5/reactor/IOReactorConfig.getSelectInterval:()Lorg/apache/hc/core5/util/TimeValue;
      67: invokevirtual #15                 // Method org/apache/hc/core5/util/TimeValue.toMilliseconds:()J
      70: putfield      #16                 // Field selectTimeoutMillis:J
      73: return

  void doTerminate();
    Code:
       0: aload_0
       1: getfield      #7                  // Field requestQueue:Ljava/util/Queue;
       4: invokeinterface #17,  1           // InterfaceMethod java/util/Queue.poll:()Ljava/lang/Object;
       9: checkcast     #18                 // class org/apache/hc/core5/reactor/ListenerEndpointRequest
      12: dup
      13: astore_1
      14: ifnull        24
      17: aload_1
      18: invokevirtual #19                 // Method org/apache/hc/core5/reactor/ListenerEndpointRequest.cancel:()V
      21: goto          0
      24: return

  protected final void doExecute() throws java.io.IOException;
    Code:
       0: invokestatic  #20                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
       3: invokevirtual #21                 // Method java/lang/Thread.isInterrupted:()Z
       6: ifne          55
       9: aload_0
      10: invokevirtual #22                 // Method getStatus:()Lorg/apache/hc/core5/reactor/IOReactorStatus;
      13: getstatic     #23                 // Field org/apache/hc/core5/reactor/IOReactorStatus.ACTIVE:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      16: if_acmpeq     22
      19: goto          55
      22: aload_0
      23: getfield      #24                 // Field selector:Ljava/nio/channels/Selector;
      26: aload_0
      27: getfield      #16                 // Field selectTimeoutMillis:J
      30: invokevirtual #25                 // Method java/nio/channels/Selector.select:(J)I
      33: istore_1
      34: aload_0
      35: invokevirtual #22                 // Method getStatus:()Lorg/apache/hc/core5/reactor/IOReactorStatus;
      38: getstatic     #23                 // Field org/apache/hc/core5/reactor/IOReactorStatus.ACTIVE:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      41: if_acmpeq     47
      44: goto          55
      47: aload_0
      48: iload_1
      49: invokespecial #26                 // Method processEvents:(I)V
      52: goto          0
      55: return

  private void processEvents(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field paused:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: invokevirtual #27                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
       7: ifne          14
      10: aload_0
      11: invokespecial #28                 // Method processSessionRequests:()V
      14: iload_1
      15: ifle          68
      18: aload_0
      19: getfield      #24                 // Field selector:Ljava/nio/channels/Selector;
      22: invokevirtual #29                 // Method java/nio/channels/Selector.selectedKeys:()Ljava/util/Set;
      25: astore_2
      26: aload_2
      27: invokeinterface #30,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      32: astore_3
      33: aload_3
      34: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      39: ifeq          62
      42: aload_3
      43: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      48: checkcast     #33                 // class java/nio/channels/SelectionKey
      51: astore        4
      53: aload_0
      54: aload         4
      56: invokespecial #34                 // Method processEvent:(Ljava/nio/channels/SelectionKey;)V
      59: goto          33
      62: aload_2
      63: invokeinterface #35,  1           // InterfaceMethod java/util/Set.clear:()V
      68: return

  private void processEvent(java.nio.channels.SelectionKey) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokevirtual #36                 // Method java/nio/channels/SelectionKey.isAcceptable:()Z
       4: ifeq          61
       7: aload_1
       8: invokevirtual #37                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
      11: checkcast     #38                 // class java/nio/channels/ServerSocketChannel
      14: astore_2
      15: aload_2
      16: invokevirtual #39                 // Method java/nio/channels/ServerSocketChannel.accept:()Ljava/nio/channels/SocketChannel;
      19: astore_3
      20: aload_3
      21: ifnonnull     27
      24: goto          61
      27: aload_1
      28: invokevirtual #40                 // Method java/nio/channels/SelectionKey.attachment:()Ljava/lang/Object;
      31: checkcast     #18                 // class org/apache/hc/core5/reactor/ListenerEndpointRequest
      34: astore        4
      36: aload_0
      37: getfield      #4                  // Field callback:Lorg/apache/hc/core5/function/Callback;
      40: new           #41                 // class org/apache/hc/core5/reactor/ChannelEntry
      43: dup
      44: aload_3
      45: aload         4
      47: getfield      #42                 // Field org/apache/hc/core5/reactor/ListenerEndpointRequest.attachment:Ljava/lang/Object;
      50: invokespecial #43                 // Method org/apache/hc/core5/reactor/ChannelEntry."<init>":(Ljava/nio/channels/SocketChannel;Ljava/lang/Object;)V
      53: invokeinterface #44,  2           // InterfaceMethod org/apache/hc/core5/function/Callback.execute:(Ljava/lang/Object;)V
      58: goto          15
      61: goto          90
      64: astore_2
      65: aload_1
      66: invokevirtual #40                 // Method java/nio/channels/SelectionKey.attachment:()Ljava/lang/Object;
      69: checkcast     #46                 // class org/apache/hc/core5/reactor/ListenerEndpointImpl
      72: astore_3
      73: aload_0
      74: getfield      #10                 // Field endpoints:Ljava/util/concurrent/ConcurrentMap;
      77: aload_3
      78: invokeinterface #47,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      83: pop
      84: aload_1
      85: aconst_null
      86: invokevirtual #48                 // Method java/nio/channels/SelectionKey.attach:(Ljava/lang/Object;)Ljava/lang/Object;
      89: pop
      90: return
    Exception table:
       from    to  target type
           0    61    64   Class java/nio/channels/CancelledKeyException

  public java.util.concurrent.Future<org.apache.hc.core5.reactor.ListenerEndpoint> listen(java.net.SocketAddress, java.lang.Object, org.apache.hc.core5.concurrent.FutureCallback<org.apache.hc.core5.reactor.ListenerEndpoint>);
    Code:
       0: aload_0
       1: invokevirtual #22                 // Method getStatus:()Lorg/apache/hc/core5/reactor/IOReactorStatus;
       4: getstatic     #49                 // Field org/apache/hc/core5/reactor/IOReactorStatus.SHUTTING_DOWN:Lorg/apache/hc/core5/reactor/IOReactorStatus;
       7: invokevirtual #50                 // Method org/apache/hc/core5/reactor/IOReactorStatus.compareTo:(Ljava/lang/Enum;)I
      10: iflt          23
      13: new           #51                 // class org/apache/hc/core5/reactor/IOReactorShutdownException
      16: dup
      17: ldc           #52                 // String I/O reactor has been shut down
      19: invokespecial #53                 // Method org/apache/hc/core5/reactor/IOReactorShutdownException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: new           #54                 // class org/apache/hc/core5/concurrent/BasicFuture
      26: dup
      27: aload_3
      28: invokespecial #55                 // Method org/apache/hc/core5/concurrent/BasicFuture."<init>":(Lorg/apache/hc/core5/concurrent/FutureCallback;)V
      31: astore        4
      33: aload_0
      34: getfield      #7                  // Field requestQueue:Ljava/util/Queue;
      37: new           #18                 // class org/apache/hc/core5/reactor/ListenerEndpointRequest
      40: dup
      41: aload_1
      42: aload_2
      43: aload         4
      45: invokespecial #56                 // Method org/apache/hc/core5/reactor/ListenerEndpointRequest."<init>":(Ljava/net/SocketAddress;Ljava/lang/Object;Lorg/apache/hc/core5/concurrent/BasicFuture;)V
      48: invokeinterface #57,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      53: pop
      54: aload_0
      55: getfield      #24                 // Field selector:Ljava/nio/channels/Selector;
      58: invokevirtual #58                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
      61: pop
      62: aload         4
      64: areturn

  public java.util.concurrent.Future<org.apache.hc.core5.reactor.ListenerEndpoint> listen(java.net.SocketAddress, org.apache.hc.core5.concurrent.FutureCallback<org.apache.hc.core5.reactor.ListenerEndpoint>);
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: aload_2
       4: invokevirtual #59                 // Method listen:(Ljava/net/SocketAddress;Ljava/lang/Object;Lorg/apache/hc/core5/concurrent/FutureCallback;)Ljava/util/concurrent/Future;
       7: areturn

  private void processSessionRequests() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field requestQueue:Ljava/util/Queue;
       4: invokeinterface #17,  1           // InterfaceMethod java/util/Queue.poll:()Ljava/lang/Object;
       9: checkcast     #18                 // class org/apache/hc/core5/reactor/ListenerEndpointRequest
      12: dup
      13: astore_1
      14: ifnull        236
      17: aload_1
      18: invokevirtual #60                 // Method org/apache/hc/core5/reactor/ListenerEndpointRequest.isCancelled:()Z
      21: ifeq          27
      24: goto          0
      27: aload_1
      28: getfield      #61                 // Field org/apache/hc/core5/reactor/ListenerEndpointRequest.address:Ljava/net/SocketAddress;
      31: astore_2
      32: invokestatic  #62                 // Method java/nio/channels/ServerSocketChannel.open:()Ljava/nio/channels/ServerSocketChannel;
      35: astore_3
      36: aload_3
      37: invokevirtual #63                 // Method java/nio/channels/ServerSocketChannel.socket:()Ljava/net/ServerSocket;
      40: astore        4
      42: aload         4
      44: aload_0
      45: getfield      #3                  // Field reactorConfig:Lorg/apache/hc/core5/reactor/IOReactorConfig;
      48: invokevirtual #64                 // Method org/apache/hc/core5/reactor/IOReactorConfig.isSoReuseAddress:()Z
      51: invokevirtual #65                 // Method java/net/ServerSocket.setReuseAddress:(Z)V
      54: aload_0
      55: getfield      #3                  // Field reactorConfig:Lorg/apache/hc/core5/reactor/IOReactorConfig;
      58: invokevirtual #66                 // Method org/apache/hc/core5/reactor/IOReactorConfig.getRcvBufSize:()I
      61: ifle          76
      64: aload         4
      66: aload_0
      67: getfield      #3                  // Field reactorConfig:Lorg/apache/hc/core5/reactor/IOReactorConfig;
      70: invokevirtual #66                 // Method org/apache/hc/core5/reactor/IOReactorConfig.getRcvBufSize:()I
      73: invokevirtual #67                 // Method java/net/ServerSocket.setReceiveBufferSize:(I)V
      76: aload_3
      77: iconst_0
      78: invokevirtual #68                 // Method java/nio/channels/ServerSocketChannel.configureBlocking:(Z)Ljava/nio/channels/SelectableChannel;
      81: pop
      82: aload         4
      84: aload_2
      85: aload_0
      86: getfield      #3                  // Field reactorConfig:Lorg/apache/hc/core5/reactor/IOReactorConfig;
      89: invokevirtual #69                 // Method org/apache/hc/core5/reactor/IOReactorConfig.getBacklogSize:()I
      92: invokevirtual #70                 // Method java/net/ServerSocket.bind:(Ljava/net/SocketAddress;I)V
      95: goto          158
      98: astore        5
     100: new           #71                 // class java/net/BindException
     103: dup
     104: ldc           #72                 // String Socket bind failure for socket %s, address=%s, BacklogSize=%d: %s
     106: iconst_4
     107: anewarray     #73                 // class java/lang/Object
     110: dup
     111: iconst_0
     112: aload         4
     114: aastore
     115: dup
     116: iconst_1
     117: aload_2
     118: aastore
     119: dup
     120: iconst_2
     121: aload_0
     122: getfield      #3                  // Field reactorConfig:Lorg/apache/hc/core5/reactor/IOReactorConfig;
     125: invokevirtual #69                 // Method org/apache/hc/core5/reactor/IOReactorConfig.getBacklogSize:()I
     128: invokestatic  #74                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     131: aastore
     132: dup
     133: iconst_3
     134: aload         5
     136: aastore
     137: invokestatic  #75                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     140: invokespecial #76                 // Method java/net/BindException."<init>":(Ljava/lang/String;)V
     143: astore        6
     145: aload         6
     147: aload         5
     149: invokevirtual #77                 // Method java/net/BindException.getStackTrace:()[Ljava/lang/StackTraceElement;
     152: invokevirtual #78                 // Method java/net/BindException.setStackTrace:([Ljava/lang/StackTraceElement;)V
     155: aload         6
     157: athrow
     158: aload_3
     159: aload_0
     160: getfield      #24                 // Field selector:Ljava/nio/channels/Selector;
     163: bipush        16
     165: invokevirtual #79                 // Method java/nio/channels/ServerSocketChannel.register:(Ljava/nio/channels/Selector;I)Ljava/nio/channels/SelectionKey;
     168: astore        5
     170: aload         5
     172: aload_1
     173: invokevirtual #48                 // Method java/nio/channels/SelectionKey.attach:(Ljava/lang/Object;)Ljava/lang/Object;
     176: pop
     177: new           #46                 // class org/apache/hc/core5/reactor/ListenerEndpointImpl
     180: dup
     181: aload         5
     183: aload_1
     184: getfield      #42                 // Field org/apache/hc/core5/reactor/ListenerEndpointRequest.attachment:Ljava/lang/Object;
     187: aload         4
     189: invokevirtual #80                 // Method java/net/ServerSocket.getLocalSocketAddress:()Ljava/net/SocketAddress;
     192: invokespecial #81                 // Method org/apache/hc/core5/reactor/ListenerEndpointImpl."<init>":(Ljava/nio/channels/SelectionKey;Ljava/lang/Object;Ljava/net/SocketAddress;)V
     195: astore        6
     197: aload_0
     198: getfield      #10                 // Field endpoints:Ljava/util/concurrent/ConcurrentMap;
     201: aload         6
     203: getstatic     #82                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
     206: invokeinterface #83,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     211: pop
     212: aload_1
     213: aload         6
     215: invokevirtual #84                 // Method org/apache/hc/core5/reactor/ListenerEndpointRequest.completed:(Lorg/apache/hc/core5/reactor/ListenerEndpoint;)V
     218: goto          233
     221: astore        4
     223: aload_3
     224: invokestatic  #86                 // Method org/apache/hc/core5/io/Closer.closeQuietly:(Ljava/io/Closeable;)V
     227: aload_1
     228: aload         4
     230: invokevirtual #87                 // Method org/apache/hc/core5/reactor/ListenerEndpointRequest.failed:(Ljava/lang/Exception;)V
     233: goto          0
     236: return
    Exception table:
       from    to  target type
          82    95    98   Class java/net/BindException
          36   218   221   Class java/io/IOException

  public java.util.Set<org.apache.hc.core5.reactor.ListenerEndpoint> getEndpoints();
    Code:
       0: new           #88                 // class java/util/HashSet
       3: dup
       4: invokespecial #89                 // Method java/util/HashSet."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #10                 // Field endpoints:Ljava/util/concurrent/ConcurrentMap;
      12: invokeinterface #90,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      17: invokeinterface #91,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      22: astore_2
      23: aload_2
      24: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          71
      32: aload_2
      33: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #92                 // class org/apache/hc/core5/reactor/ListenerEndpoint
      41: astore_3
      42: aload_3
      43: invokeinterface #93,  1           // InterfaceMethod org/apache/hc/core5/reactor/ListenerEndpoint.isClosed:()Z
      48: ifne          62
      51: aload_1
      52: aload_3
      53: invokeinterface #94,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      58: pop
      59: goto          68
      62: aload_2
      63: invokeinterface #95,  1           // InterfaceMethod java/util/Iterator.remove:()V
      68: goto          23
      71: aload_1
      72: areturn

  public void pause() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field paused:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #96                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          92
      12: aload_0
      13: getfield      #10                 // Field endpoints:Ljava/util/concurrent/ConcurrentMap;
      16: invokeinterface #90,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      21: invokeinterface #91,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      26: astore_1
      27: aload_1
      28: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          92
      36: aload_1
      37: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: checkcast     #46                 // class org/apache/hc/core5/reactor/ListenerEndpointImpl
      45: astore_2
      46: aload_2
      47: invokevirtual #97                 // Method org/apache/hc/core5/reactor/ListenerEndpointImpl.isClosed:()Z
      50: ifne          83
      53: aload_2
      54: invokevirtual #98                 // Method org/apache/hc/core5/reactor/ListenerEndpointImpl.close:()V
      57: aload_0
      58: getfield      #7                  // Field requestQueue:Ljava/util/Queue;
      61: new           #18                 // class org/apache/hc/core5/reactor/ListenerEndpointRequest
      64: dup
      65: aload_2
      66: getfield      #99                 // Field org/apache/hc/core5/reactor/ListenerEndpointImpl.address:Ljava/net/SocketAddress;
      69: aload_2
      70: getfield      #100                // Field org/apache/hc/core5/reactor/ListenerEndpointImpl.attachment:Ljava/lang/Object;
      73: aconst_null
      74: invokespecial #56                 // Method org/apache/hc/core5/reactor/ListenerEndpointRequest."<init>":(Ljava/net/SocketAddress;Ljava/lang/Object;Lorg/apache/hc/core5/concurrent/BasicFuture;)V
      77: invokeinterface #57,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      82: pop
      83: aload_1
      84: invokeinterface #95,  1           // InterfaceMethod java/util/Iterator.remove:()V
      89: goto          27
      92: return

  public void resume() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field paused:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: iconst_0
       6: invokevirtual #96                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          20
      12: aload_0
      13: getfield      #24                 // Field selector:Ljava/nio/channels/Selector;
      16: invokevirtual #58                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
      19: pop
      20: return
}
