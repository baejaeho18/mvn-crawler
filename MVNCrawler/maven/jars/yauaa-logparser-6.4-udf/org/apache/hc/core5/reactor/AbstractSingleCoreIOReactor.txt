Compiled from "AbstractSingleCoreIOReactor.java"
abstract class org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor implements org.apache.hc.core5.reactor.IOReactor {
  private final org.apache.hc.core5.function.Callback<java.lang.Exception> exceptionCallback;

  private final java.util.concurrent.atomic.AtomicReference<org.apache.hc.core5.reactor.IOReactorStatus> status;

  private final java.util.concurrent.atomic.AtomicBoolean terminated;

  private final java.lang.Object shutdownMutex;

  final java.nio.channels.Selector selector;

  org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor(org.apache.hc.core5.function.Callback<java.lang.Exception>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field exceptionCallback:Lorg/apache/hc/core5/function/Callback;
       9: aload_0
      10: new           #3                  // class java/lang/Object
      13: dup
      14: invokespecial #1                  // Method java/lang/Object."<init>":()V
      17: putfield      #4                  // Field shutdownMutex:Ljava/lang/Object;
      20: aload_0
      21: new           #5                  // class java/util/concurrent/atomic/AtomicReference
      24: dup
      25: getstatic     #6                  // Field org/apache/hc/core5/reactor/IOReactorStatus.INACTIVE:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      28: invokespecial #7                  // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      31: putfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
      34: aload_0
      35: new           #9                  // class java/util/concurrent/atomic/AtomicBoolean
      38: dup
      39: invokespecial #10                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      42: putfield      #11                 // Field terminated:Ljava/util/concurrent/atomic/AtomicBoolean;
      45: aload_0
      46: invokestatic  #12                 // Method java/nio/channels/Selector.open:()Ljava/nio/channels/Selector;
      49: putfield      #13                 // Field selector:Ljava/nio/channels/Selector;
      52: goto          67
      55: astore_2
      56: new           #15                 // class java/lang/IllegalStateException
      59: dup
      60: ldc           #16                 // String Unexpected failure opening I/O selector
      62: aload_2
      63: invokespecial #17                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      66: athrow
      67: return
    Exception table:
       from    to  target type
          45    52    55   Class java/io/IOException

  public final org.apache.hc.core5.reactor.IOReactorStatus getStatus();
    Code:
       0: aload_0
       1: getfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
       4: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       7: checkcast     #19                 // class org/apache/hc/core5/reactor/IOReactorStatus
      10: areturn

  void logException(java.lang.Exception);
    Code:
       0: aload_0
       1: getfield      #2                  // Field exceptionCallback:Lorg/apache/hc/core5/function/Callback;
       4: ifnull        17
       7: aload_0
       8: getfield      #2                  // Field exceptionCallback:Lorg/apache/hc/core5/function/Callback;
      11: aload_1
      12: invokeinterface #20,  2           // InterfaceMethod org/apache/hc/core5/function/Callback.execute:(Ljava/lang/Object;)V
      17: return

  abstract void doExecute() throws java.io.IOException;

  abstract void doTerminate() throws java.io.IOException;

  public void execute();
    Code:
       0: aload_0
       1: getfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #6                  // Field org/apache/hc/core5/reactor/IOReactorStatus.INACTIVE:Lorg/apache/hc/core5/reactor/IOReactorStatus;
       7: getstatic     #21                 // Field org/apache/hc/core5/reactor/IOReactorStatus.ACTIVE:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      10: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ifeq          207
      16: aload_0
      17: invokevirtual #23                 // Method doExecute:()V
      20: aload_0
      21: invokevirtual #24                 // Method doTerminate:()V
      24: aload_0
      25: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
      28: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
      31: goto          60
      34: astore_1
      35: aload_0
      36: aload_1
      37: invokevirtual #28                 // Method logException:(Ljava/lang/Exception;)V
      40: aload_0
      41: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
      44: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
      47: goto          60
      50: astore_2
      51: aload_0
      52: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
      55: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
      58: aload_2
      59: athrow
      60: goto          207
      63: astore_1
      64: aload_0
      65: invokevirtual #24                 // Method doTerminate:()V
      68: aload_0
      69: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
      72: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
      75: goto          104
      78: astore_1
      79: aload_0
      80: aload_1
      81: invokevirtual #28                 // Method logException:(Ljava/lang/Exception;)V
      84: aload_0
      85: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
      88: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
      91: goto          104
      94: astore_3
      95: aload_0
      96: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
      99: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
     102: aload_3
     103: athrow
     104: goto          207
     107: astore_1
     108: aload_0
     109: aload_1
     110: invokevirtual #28                 // Method logException:(Ljava/lang/Exception;)V
     113: aload_0
     114: invokevirtual #24                 // Method doTerminate:()V
     117: aload_0
     118: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
     121: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
     124: goto          155
     127: astore_1
     128: aload_0
     129: aload_1
     130: invokevirtual #28                 // Method logException:(Ljava/lang/Exception;)V
     133: aload_0
     134: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
     137: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
     140: goto          155
     143: astore        4
     145: aload_0
     146: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
     149: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
     152: aload         4
     154: athrow
     155: goto          207
     158: astore        5
     160: aload_0
     161: invokevirtual #24                 // Method doTerminate:()V
     164: aload_0
     165: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
     168: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
     171: goto          204
     174: astore        6
     176: aload_0
     177: aload         6
     179: invokevirtual #28                 // Method logException:(Ljava/lang/Exception;)V
     182: aload_0
     183: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
     186: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
     189: goto          204
     192: astore        7
     194: aload_0
     195: getstatic     #25                 // Field org/apache/hc/core5/io/CloseMode.IMMEDIATE:Lorg/apache/hc/core5/io/CloseMode;
     198: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
     201: aload         7
     203: athrow
     204: aload         5
     206: athrow
     207: return
    Exception table:
       from    to  target type
          20    24    34   Class java/lang/Exception
          20    24    50   any
          34    40    50   any
          50    51    50   any
          16    20    63   Class java/nio/channels/ClosedSelectorException
          64    68    78   Class java/lang/Exception
          64    68    94   any
          78    84    94   any
          94    95    94   any
          16    20   107   Class java/lang/Exception
         113   117   127   Class java/lang/Exception
         113   117   143   any
         127   133   143   any
         143   145   143   any
          16    20   158   any
          63    64   158   any
         107   113   158   any
         160   164   174   Class java/lang/Exception
         160   164   192   any
         174   182   192   any
         192   194   192   any
         158   160   158   any

  public final void awaitShutdown(org.apache.hc.core5.util.TimeValue) throws java.lang.InterruptedException;
    Code:
       0: aload_1
       1: ldc           #30                 // String Wait time
       3: invokestatic  #31                 // Method org/apache/hc/core5/util/Args.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
       6: pop
       7: invokestatic  #32                 // Method java/lang/System.currentTimeMillis:()J
      10: aload_1
      11: invokevirtual #33                 // Method org/apache/hc/core5/util/TimeValue.toMilliseconds:()J
      14: ladd
      15: lstore_2
      16: aload_1
      17: invokevirtual #33                 // Method org/apache/hc/core5/util/TimeValue.toMilliseconds:()J
      20: lstore        4
      22: aload_0
      23: getfield      #4                  // Field shutdownMutex:Ljava/lang/Object;
      26: dup
      27: astore        6
      29: monitorenter
      30: aload_0
      31: getfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
      34: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
      37: checkcast     #19                 // class org/apache/hc/core5/reactor/IOReactorStatus
      40: getstatic     #34                 // Field org/apache/hc/core5/reactor/IOReactorStatus.SHUT_DOWN:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      43: invokevirtual #35                 // Method org/apache/hc/core5/reactor/IOReactorStatus.compareTo:(Ljava/lang/Enum;)I
      46: ifge          76
      49: aload_0
      50: getfield      #4                  // Field shutdownMutex:Ljava/lang/Object;
      53: lload         4
      55: invokevirtual #36                 // Method java/lang/Object.wait:(J)V
      58: lload_2
      59: invokestatic  #32                 // Method java/lang/System.currentTimeMillis:()J
      62: lsub
      63: lstore        4
      65: lload         4
      67: lconst_0
      68: lcmp
      69: ifgt          30
      72: aload         6
      74: monitorexit
      75: return
      76: aload         6
      78: monitorexit
      79: goto          90
      82: astore        7
      84: aload         6
      86: monitorexit
      87: aload         7
      89: athrow
      90: return
    Exception table:
       from    to  target type
          30    75    82   any
          76    79    82   any
          82    87    82   any

  public final void initiateShutdown();
    Code:
       0: aload_0
       1: getfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #6                  // Field org/apache/hc/core5/reactor/IOReactorStatus.INACTIVE:Lorg/apache/hc/core5/reactor/IOReactorStatus;
       7: getstatic     #34                 // Field org/apache/hc/core5/reactor/IOReactorStatus.SHUT_DOWN:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      10: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ifeq          43
      16: aload_0
      17: getfield      #4                  // Field shutdownMutex:Ljava/lang/Object;
      20: dup
      21: astore_1
      22: monitorenter
      23: aload_0
      24: getfield      #4                  // Field shutdownMutex:Ljava/lang/Object;
      27: invokevirtual #37                 // Method java/lang/Object.notifyAll:()V
      30: aload_1
      31: monitorexit
      32: goto          40
      35: astore_2
      36: aload_1
      37: monitorexit
      38: aload_2
      39: athrow
      40: goto          67
      43: aload_0
      44: getfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
      47: getstatic     #21                 // Field org/apache/hc/core5/reactor/IOReactorStatus.ACTIVE:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      50: getstatic     #38                 // Field org/apache/hc/core5/reactor/IOReactorStatus.SHUTTING_DOWN:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      53: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      56: ifeq          67
      59: aload_0
      60: getfield      #13                 // Field selector:Ljava/nio/channels/Selector;
      63: invokevirtual #39                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
      66: pop
      67: return
    Exception table:
       from    to  target type
          23    32    35   any
          35    38    35   any

  public final void close(org.apache.hc.core5.io.CloseMode);
    Code:
       0: aload_1
       1: getstatic     #40                 // Field org/apache/hc/core5/io/CloseMode.GRACEFUL:Lorg/apache/hc/core5/io/CloseMode;
       4: if_acmpne     31
       7: aload_0
       8: invokevirtual #41                 // Method initiateShutdown:()V
      11: aload_0
      12: ldc2_w        #42                 // long 5l
      15: invokestatic  #44                 // Method org/apache/hc/core5/util/TimeValue.ofSeconds:(J)Lorg/apache/hc/core5/util/TimeValue;
      18: invokevirtual #45                 // Method awaitShutdown:(Lorg/apache/hc/core5/util/TimeValue;)V
      21: goto          31
      24: astore_2
      25: invokestatic  #47                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      28: invokevirtual #48                 // Method java/lang/Thread.interrupt:()V
      31: aload_0
      32: getfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
      35: getstatic     #34                 // Field org/apache/hc/core5/reactor/IOReactorStatus.SHUT_DOWN:Lorg/apache/hc/core5/reactor/IOReactorStatus;
      38: invokevirtual #49                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
      41: aload_0
      42: getfield      #11                 // Field terminated:Ljava/util/concurrent/atomic/AtomicBoolean;
      45: iconst_0
      46: iconst_1
      47: invokevirtual #50                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      50: ifeq          137
      53: aload_0
      54: getfield      #13                 // Field selector:Ljava/nio/channels/Selector;
      57: invokevirtual #51                 // Method java/nio/channels/Selector.keys:()Ljava/util/Set;
      60: astore_2
      61: aload_2
      62: invokeinterface #52,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      67: astore_3
      68: aload_3
      69: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      74: ifeq          121
      77: aload_3
      78: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      83: checkcast     #55                 // class java/nio/channels/SelectionKey
      86: astore        4
      88: aload         4
      90: invokevirtual #56                 // Method java/nio/channels/SelectionKey.attachment:()Ljava/lang/Object;
      93: checkcast     #57                 // class java/io/Closeable
      96: invokestatic  #58                 // Method org/apache/hc/core5/io/Closer.close:(Ljava/io/Closeable;)V
      99: goto          110
     102: astore        5
     104: aload_0
     105: aload         5
     107: invokevirtual #28                 // Method logException:(Ljava/lang/Exception;)V
     110: aload         4
     112: invokevirtual #59                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
     115: invokevirtual #60                 // Method java/nio/channels/SelectableChannel.close:()V
     118: goto          68
     121: aload_0
     122: getfield      #13                 // Field selector:Ljava/nio/channels/Selector;
     125: invokevirtual #61                 // Method java/nio/channels/Selector.close:()V
     128: goto          137
     131: astore_2
     132: aload_0
     133: aload_2
     134: invokevirtual #28                 // Method logException:(Ljava/lang/Exception;)V
     137: aload_0
     138: getfield      #4                  // Field shutdownMutex:Ljava/lang/Object;
     141: dup
     142: astore_2
     143: monitorenter
     144: aload_0
     145: getfield      #4                  // Field shutdownMutex:Ljava/lang/Object;
     148: invokevirtual #37                 // Method java/lang/Object.notifyAll:()V
     151: aload_2
     152: monitorexit
     153: goto          163
     156: astore        6
     158: aload_2
     159: monitorexit
     160: aload         6
     162: athrow
     163: return
    Exception table:
       from    to  target type
          11    21    24   Class java/lang/InterruptedException
          88    99   102   Class java/io/IOException
          53   128   131   Class java/lang/Exception
         144   153   156   any
         156   160   156   any

  public final void close();
    Code:
       0: aload_0
       1: getstatic     #40                 // Field org/apache/hc/core5/io/CloseMode.GRACEFUL:Lorg/apache/hc/core5/io/CloseMode;
       4: invokevirtual #26                 // Method close:(Lorg/apache/hc/core5/io/CloseMode;)V
       7: return

  public java.lang.String toString();
    Code:
       0: new           #62                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #63                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: invokespecial #64                 // Method java/lang/Object.toString:()Ljava/lang/String;
      11: invokevirtual #65                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #66                 // String  [status=
      16: invokevirtual #65                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload_0
      20: getfield      #8                  // Field status:Ljava/util/concurrent/atomic/AtomicReference;
      23: invokevirtual #67                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      26: ldc           #68                 // String ]
      28: invokevirtual #65                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: areturn
}
