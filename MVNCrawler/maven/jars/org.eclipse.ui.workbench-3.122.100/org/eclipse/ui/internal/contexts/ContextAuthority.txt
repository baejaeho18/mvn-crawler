Compiled from "ContextAuthority.java"
public final class org.eclipse.ui.internal.contexts.ContextAuthority extends org.eclipse.ui.internal.services.ExpressionAuthority {
  private static final int ACTIVATIONS_TO_RECOMPUTE_SIZE;

  private static final boolean DEBUG;

  private static final boolean DEBUG_PERFORMANCE;

  private static final java.lang.String DISPOSE_LISTENER;

  private static final java.lang.String TRACING_COMPONENT;

  private final java.util.Set<org.eclipse.ui.contexts.IContextActivation>[] activationsBySourcePriority;

  private final java.util.Map<java.lang.String, java.lang.Object> contextActivationsByContextId;

  private final org.eclipse.core.commands.contexts.ContextManager contextManager;

  private final org.eclipse.ui.contexts.IContextService contextService;

  private final java.util.Map<org.eclipse.swt.widgets.Shell, java.util.Collection<org.eclipse.ui.contexts.IContextActivation>> registeredWindows;

  static {};
    Code:
       0: getstatic     #331                // Field org/eclipse/ui/internal/misc/Policy.DEBUG_CONTEXTS:Z
       3: putstatic     #324                // Field DEBUG:Z
       6: getstatic     #332                // Field org/eclipse/ui/internal/misc/Policy.DEBUG_CONTEXTS_PERFORMANCE:Z
       9: putstatic     #325                // Field DEBUG_PERFORMANCE:Z
      12: return

  org.eclipse.ui.internal.contexts.ContextAuthority(org.eclipse.core.commands.contexts.ContextManager, org.eclipse.ui.contexts.IContextService);
    Code:
       0: aload_0
       1: invokespecial #374                // Method org/eclipse/ui/internal/services/ExpressionAuthority."<init>":()V
       4: aload_0
       5: bipush        33
       7: anewarray     #191                // class java/util/Set
      10: putfield      #328                // Field activationsBySourcePriority:[Ljava/util/Set;
      13: aload_0
      14: new           #186                // class java/util/HashMap
      17: dup
      18: invokespecial #346                // Method java/util/HashMap."<init>":()V
      21: putfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
      24: aload_0
      25: new           #192                // class java/util/WeakHashMap
      28: dup
      29: invokespecial #348                // Method java/util/WeakHashMap."<init>":()V
      32: putfield      #327                // Field registeredWindows:Ljava/util/Map;
      35: aload_1
      36: ifnonnull     49
      39: new           #178                // class java/lang/NullPointerException
      42: dup
      43: ldc           #3                  // String The context authority needs a context manager
      45: invokespecial #334                // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      48: athrow
      49: aload_2
      50: ifnonnull     63
      53: new           #178                // class java/lang/NullPointerException
      56: dup
      57: ldc           #4                  // String The context authority needs an evaluation context
      59: invokespecial #334                // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      62: athrow
      63: aload_0
      64: aload_1
      65: putfield      #329                // Field contextManager:Lorg/eclipse/core/commands/contexts/ContextManager;
      68: aload_0
      69: aload_2
      70: putfield      #330                // Field contextService:Lorg/eclipse/ui/contexts/IContextService;
      73: return

  void activateContext(org.eclipse.ui.contexts.IContextActivation);
    Code:
       0: aload_1
       1: invokeinterface #394,  1          // InterfaceMethod org/eclipse/ui/contexts/IContextActivation.getContextId:()Ljava/lang/String;
       6: astore_2
       7: aload_0
       8: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
      11: aload_2
      12: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      17: astore_3
      18: aload_3
      19: instanceof    #185                // class java/util/Collection
      22: ifeq          65
      25: aload_3
      26: checkcast     #185                // class java/util/Collection
      29: astore        4
      31: aload         4
      33: aload_1
      34: invokeinterface #378,  2          // InterfaceMethod java/util/Collection.contains:(Ljava/lang/Object;)Z
      39: ifne          157
      42: aload         4
      44: aload_1
      45: invokeinterface #377,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      50: pop
      51: aload_0
      52: aload_2
      53: aload_0
      54: aload         4
      56: invokevirtual #365                // Method containsActive:(Ljava/util/Collection;)Z
      59: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
      62: goto          157
      65: aload_3
      66: instanceof    #199                // class org/eclipse/ui/contexts/IContextActivation
      69: ifeq          135
      72: aload_3
      73: aload_1
      74: if_acmpeq     157
      77: new           #184                // class java/util/ArrayList
      80: dup
      81: iconst_2
      82: invokespecial #345                // Method java/util/ArrayList."<init>":(I)V
      85: astore        4
      87: aload         4
      89: aload_3
      90: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
      93: invokeinterface #377,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      98: pop
      99: aload         4
     101: aload_1
     102: invokeinterface #377,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     107: pop
     108: aload_0
     109: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
     112: aload_2
     113: aload         4
     115: invokeinterface #386,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     120: pop
     121: aload_0
     122: aload_2
     123: aload_0
     124: aload         4
     126: invokevirtual #365                // Method containsActive:(Ljava/util/Collection;)Z
     129: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     132: goto          157
     135: aload_0
     136: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
     139: aload_2
     140: aload_1
     141: invokeinterface #386,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     146: pop
     147: aload_0
     148: aload_2
     149: aload_0
     150: aload_1
     151: invokevirtual #368                // Method evaluate:(Lorg/eclipse/ui/internal/services/IEvaluationResultCache;)Z
     154: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     157: aload_1
     158: invokeinterface #392,  1          // InterfaceMethod org/eclipse/ui/contexts/IContextActivation.getSourcePriority:()I
     163: istore        4
     165: iconst_1
     166: istore        5
     168: goto          226
     171: iload         4
     173: iconst_1
     174: iload         5
     176: ishl
     177: iand
     178: ifeq          223
     181: aload_0
     182: getfield      #328                // Field activationsBySourcePriority:[Ljava/util/Set;
     185: iload         5
     187: aaload
     188: astore        6
     190: aload         6
     192: ifnonnull     214
     195: new           #187                // class java/util/HashSet
     198: dup
     199: iconst_1
     200: invokespecial #347                // Method java/util/HashSet."<init>":(I)V
     203: astore        6
     205: aload_0
     206: getfield      #328                // Field activationsBySourcePriority:[Ljava/util/Set;
     209: iload         5
     211: aload         6
     213: aastore
     214: aload         6
     216: aload_1
     217: invokeinterface #389,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     222: pop
     223: iinc          5, 1
     226: iload         5
     228: bipush        32
     230: if_icmple     171
     233: return

  private void checkWindowType(org.eclipse.swt.widgets.Shell, org.eclipse.swt.widgets.Shell);
    Code:
       0: aload_0
       1: getfield      #327                // Field registeredWindows:Ljava/util/Map;
       4: aload_2
       5: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #185                // class java/util/Collection
      13: astore_3
      14: aload_3
      15: ifnonnull     75
      18: aload_0
      19: getfield      #327                // Field registeredWindows:Ljava/util/Map;
      22: aconst_null
      23: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      28: checkcast     #185                // class java/util/Collection
      31: astore_3
      32: aload_3
      33: ifnull        75
      36: aload_3
      37: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      42: astore        4
      44: goto          65
      47: aload         4
      49: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
      57: astore        5
      59: aload_0
      60: aload         5
      62: invokevirtual #367                // Method deactivateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
      65: aload         4
      67: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      72: ifne          47
      75: aload_1
      76: ifnull        225
      79: aload_1
      80: invokevirtual #354                // Method org/eclipse/swt/widgets/Shell.isDisposed:()Z
      83: ifne          225
      86: aload_1
      87: invokevirtual #357                // Method org/eclipse/swt/widgets/Shell.getParent:()Lorg/eclipse/swt/widgets/Composite;
      90: ifnull        222
      93: aload_0
      94: getfield      #327                // Field registeredWindows:Ljava/util/Map;
      97: aload_1
      98: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     103: ifnonnull     222
     106: new           #184                // class java/util/ArrayList
     109: dup
     110: invokespecial #344                // Method java/util/ArrayList."<init>":()V
     113: astore        4
     115: new           #198                // class org/eclipse/ui/ActiveShellExpression
     118: dup
     119: aload_1
     120: invokespecial #360                // Method org/eclipse/ui/ActiveShellExpression."<init>":(Lorg/eclipse/swt/widgets/Shell;)V
     123: astore        5
     125: new           #201                // class org/eclipse/ui/internal/contexts/ContextActivation
     128: dup
     129: ldc           #7                  // String org.eclipse.ui.contexts.dialogAndWindow
     131: aload         5
     133: aload_0
     134: getfield      #330                // Field contextService:Lorg/eclipse/ui/contexts/IContextService;
     137: invokespecial #361                // Method org/eclipse/ui/internal/contexts/ContextActivation."<init>":(Ljava/lang/String;Lorg/eclipse/core/expressions/Expression;Lorg/eclipse/ui/contexts/IContextService;)V
     140: astore        6
     142: aload_0
     143: aload         6
     145: invokevirtual #366                // Method activateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
     148: aload         4
     150: aload         6
     152: invokeinterface #377,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     157: pop
     158: new           #201                // class org/eclipse/ui/internal/contexts/ContextActivation
     161: dup
     162: ldc           #6                  // String org.eclipse.ui.contexts.dialog
     164: aload         5
     166: aload_0
     167: getfield      #330                // Field contextService:Lorg/eclipse/ui/contexts/IContextService;
     170: invokespecial #361                // Method org/eclipse/ui/internal/contexts/ContextActivation."<init>":(Ljava/lang/String;Lorg/eclipse/core/expressions/Expression;Lorg/eclipse/ui/contexts/IContextService;)V
     173: astore        7
     175: aload_0
     176: aload         7
     178: invokevirtual #366                // Method activateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
     181: aload         4
     183: aload         7
     185: invokeinterface #377,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     190: pop
     191: aload_0
     192: getfield      #327                // Field registeredWindows:Ljava/util/Map;
     195: aconst_null
     196: aload         4
     198: invokeinterface #386,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     203: pop
     204: aload_1
     205: new           #203                // class org/eclipse/ui/internal/contexts/ContextAuthority$1
     208: dup
     209: aload_0
     210: aload_1
     211: aload         4
     213: invokespecial #372                // Method org/eclipse/ui/internal/contexts/ContextAuthority$1."<init>":(Lorg/eclipse/ui/internal/contexts/ContextAuthority;Lorg/eclipse/swt/widgets/Shell;Ljava/util/Collection;)V
     216: invokevirtual #355                // Method org/eclipse/swt/widgets/Shell.addDisposeListener:(Lorg/eclipse/swt/events/DisposeListener;)V
     219: goto          225
     222: aconst_null
     223: astore        4
     225: return

  private boolean containsActive(java.util.Collection<org.eclipse.ui.contexts.IContextActivation>);
    Code:
       0: aload_1
       1: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
       6: astore_2
       7: goto          30
      10: aload_2
      11: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      16: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
      19: astore_3
      20: aload_0
      21: aload_3
      22: invokevirtual #368                // Method evaluate:(Lorg/eclipse/ui/internal/services/IEvaluationResultCache;)Z
      25: ifeq          30
      28: iconst_1
      29: ireturn
      30: aload_2
      31: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      36: ifne          10
      39: iconst_0
      40: ireturn

  void deactivateContext(org.eclipse.ui.contexts.IContextActivation);
    Code:
       0: aload_1
       1: invokeinterface #394,  1          // InterfaceMethod org/eclipse/ui/contexts/IContextActivation.getContextId:()Ljava/lang/String;
       6: astore_2
       7: aload_0
       8: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
      11: aload_2
      12: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      17: astore_3
      18: aload_3
      19: instanceof    #185                // class java/util/Collection
      22: ifeq          150
      25: aload_3
      26: checkcast     #185                // class java/util/Collection
      29: astore        4
      31: aload         4
      33: aload_1
      34: invokeinterface #378,  2          // InterfaceMethod java/util/Collection.contains:(Ljava/lang/Object;)Z
      39: ifeq          179
      42: aload         4
      44: aload_1
      45: invokeinterface #379,  2          // InterfaceMethod java/util/Collection.remove:(Ljava/lang/Object;)Z
      50: pop
      51: aload         4
      53: invokeinterface #376,  1          // InterfaceMethod java/util/Collection.isEmpty:()Z
      58: ifeq          81
      61: aload_0
      62: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
      65: aload_2
      66: invokeinterface #385,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      71: pop
      72: aload_0
      73: aload_2
      74: iconst_0
      75: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
      78: goto          179
      81: aload         4
      83: invokeinterface #375,  1          // InterfaceMethod java/util/Collection.size:()I
      88: iconst_1
      89: if_icmpne     136
      92: aload         4
      94: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      99: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     104: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
     107: astore        5
     109: aload_0
     110: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
     113: aload_2
     114: aload         5
     116: invokeinterface #386,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     121: pop
     122: aload_0
     123: aload_2
     124: aload_0
     125: aload         5
     127: invokevirtual #368                // Method evaluate:(Lorg/eclipse/ui/internal/services/IEvaluationResultCache;)Z
     130: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     133: goto          179
     136: aload_0
     137: aload_2
     138: aload_0
     139: aload         4
     141: invokevirtual #365                // Method containsActive:(Ljava/util/Collection;)Z
     144: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     147: goto          179
     150: aload_3
     151: instanceof    #199                // class org/eclipse/ui/contexts/IContextActivation
     154: ifeq          179
     157: aload_3
     158: aload_1
     159: if_acmpne     179
     162: aload_0
     163: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
     166: aload_2
     167: invokeinterface #385,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     172: pop
     173: aload_0
     174: aload_2
     175: iconst_0
     176: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     179: aload_1
     180: invokeinterface #392,  1          // InterfaceMethod org/eclipse/ui/contexts/IContextActivation.getSourcePriority:()I
     185: istore        4
     187: iconst_1
     188: istore        5
     190: goto          250
     193: iload         4
     195: iconst_1
     196: iload         5
     198: ishl
     199: iand
     200: ifeq          247
     203: aload_0
     204: getfield      #328                // Field activationsBySourcePriority:[Ljava/util/Set;
     207: iload         5
     209: aaload
     210: astore        6
     212: aload         6
     214: ifnonnull     220
     217: goto          247
     220: aload         6
     222: aload_1
     223: invokeinterface #390,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     228: pop
     229: aload         6
     231: invokeinterface #388,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     236: ifeq          247
     239: aload_0
     240: getfield      #328                // Field activationsBySourcePriority:[Ljava/util/Set;
     243: iload         5
     245: aconst_null
     246: aastore
     247: iinc          5, 1
     250: iload         5
     252: bipush        32
     254: if_icmple     193
     257: return

  org.eclipse.swt.widgets.Shell getActiveShell();
    Code:
       0: aload_0
       1: ldc           #5                  // String activeShell
       3: invokevirtual #369                // Method getVariable:(Ljava/lang/String;)Ljava/lang/Object;
       6: checkcast     #197                // class org/eclipse/swt/widgets/Shell
       9: areturn

  public int getShellType(org.eclipse.swt.widgets.Shell);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: iconst_1
       5: ireturn
       6: aload_0
       7: getfield      #327                // Field registeredWindows:Ljava/util/Map;
      10: aload_1
      11: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      16: checkcast     #185                // class java/util/Collection
      19: astore_2
      20: aload_2
      21: ifnull        101
      24: aload_2
      25: invokeinterface #376,  1          // InterfaceMethod java/util/Collection.isEmpty:()Z
      30: ifeq          35
      33: iconst_1
      34: ireturn
      35: aload_2
      36: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      41: astore_3
      42: goto          83
      45: aload_3
      46: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      51: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
      54: astore        4
      56: aload         4
      58: invokeinterface #394,  1          // InterfaceMethod org/eclipse/ui/contexts/IContextActivation.getContextId:()Ljava/lang/String;
      63: astore        5
      65: aload         5
      67: ldc           #6                  // String org.eclipse.ui.contexts.dialog
      69: if_acmpne     74
      72: iconst_0
      73: ireturn
      74: aload         5
      76: ldc           #8                  // String org.eclipse.ui.contexts.window
      78: if_acmpne     83
      81: iconst_2
      82: ireturn
      83: aload_3
      84: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      89: ifne          45
      92: iconst_0
      93: ldc           #1                  // String A registered shell should have at least one submission matching TYPE_WINDOW or TYPE_DIALOG
      95: invokestatic  #353                // Method org/eclipse/core/runtime/Assert.isTrue:(ZLjava/lang/String;)Z
      98: pop
      99: iconst_1
     100: ireturn
     101: aload_1
     102: invokevirtual #357                // Method org/eclipse/swt/widgets/Shell.getParent:()Lorg/eclipse/swt/widgets/Composite;
     105: ifnull        110
     108: iconst_0
     109: ireturn
     110: iconst_1
     111: ireturn

  public boolean registerShell(org.eclipse.swt.widgets.Shell, int);
    Code:
       0: aload_1
       1: ifnonnull     15
       4: new           #178                // class java/lang/NullPointerException
       7: dup
       8: ldc_w         #168                // String The shell was null
      11: invokespecial #334                // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      14: athrow
      15: getstatic     #324                // Field DEBUG:Z
      18: ifeq          122
      21: new           #181                // class java/lang/StringBuilder
      24: dup
      25: ldc_w         #174                // String register shell \'
      28: invokespecial #338                // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
      31: astore_3
      32: aload_3
      33: aload_1
      34: invokevirtual #341                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      37: pop
      38: aload_3
      39: ldc_w         #167                // String \' as
      42: invokevirtual #342                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: pop
      46: iload_2
      47: tableswitch   { // 0 to 2
                     0: 72
                     1: 94
                     2: 83
               default: 105
          }
      72: aload_3
      73: ldc_w         #171                // String dialog
      76: invokevirtual #342                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: pop
      80: goto          113
      83: aload_3
      84: ldc_w         #176                // String window
      87: invokevirtual #342                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: pop
      91: goto          113
      94: aload_3
      95: ldc_w         #173                // String none
      98: invokevirtual #342                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: pop
     102: goto          113
     105: aload_3
     106: ldc_w         #175                // String unknown
     109: invokevirtual #342                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: pop
     113: ldc           #2                  // String CONTEXTS
     115: aload_3
     116: invokevirtual #337                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokestatic  #352                // Method org/eclipse/core/commands/util/Tracing.printTrace:(Ljava/lang/String;Ljava/lang/String;)V
     122: new           #184                // class java/util/ArrayList
     125: dup
     126: invokespecial #344                // Method java/util/ArrayList."<init>":()V
     129: astore_3
     130: iload_2
     131: tableswitch   { // 0 to 2
                     0: 156
                     1: 233
                     2: 236
               default: 313
          }
     156: new           #198                // class org/eclipse/ui/ActiveShellExpression
     159: dup
     160: aload_1
     161: invokespecial #360                // Method org/eclipse/ui/ActiveShellExpression."<init>":(Lorg/eclipse/swt/widgets/Shell;)V
     164: astore        4
     166: new           #201                // class org/eclipse/ui/internal/contexts/ContextActivation
     169: dup
     170: ldc           #7                  // String org.eclipse.ui.contexts.dialogAndWindow
     172: aload         4
     174: aload_0
     175: getfield      #330                // Field contextService:Lorg/eclipse/ui/contexts/IContextService;
     178: invokespecial #361                // Method org/eclipse/ui/internal/contexts/ContextActivation."<init>":(Ljava/lang/String;Lorg/eclipse/core/expressions/Expression;Lorg/eclipse/ui/contexts/IContextService;)V
     181: astore        5
     183: aload_0
     184: aload         5
     186: invokevirtual #366                // Method activateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
     189: aload_3
     190: aload         5
     192: invokeinterface #383,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     197: pop
     198: new           #201                // class org/eclipse/ui/internal/contexts/ContextActivation
     201: dup
     202: ldc           #6                  // String org.eclipse.ui.contexts.dialog
     204: aload         4
     206: aload_0
     207: getfield      #330                // Field contextService:Lorg/eclipse/ui/contexts/IContextService;
     210: invokespecial #361                // Method org/eclipse/ui/internal/contexts/ContextActivation."<init>":(Ljava/lang/String;Lorg/eclipse/core/expressions/Expression;Lorg/eclipse/ui/contexts/IContextService;)V
     213: astore        6
     215: aload_0
     216: aload         6
     218: invokevirtual #366                // Method activateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
     221: aload_3
     222: aload         6
     224: invokeinterface #383,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     229: pop
     230: goto          338
     233: goto          338
     236: new           #198                // class org/eclipse/ui/ActiveShellExpression
     239: dup
     240: aload_1
     241: invokespecial #360                // Method org/eclipse/ui/ActiveShellExpression."<init>":(Lorg/eclipse/swt/widgets/Shell;)V
     244: astore        4
     246: new           #201                // class org/eclipse/ui/internal/contexts/ContextActivation
     249: dup
     250: ldc           #7                  // String org.eclipse.ui.contexts.dialogAndWindow
     252: aload         4
     254: aload_0
     255: getfield      #330                // Field contextService:Lorg/eclipse/ui/contexts/IContextService;
     258: invokespecial #361                // Method org/eclipse/ui/internal/contexts/ContextActivation."<init>":(Ljava/lang/String;Lorg/eclipse/core/expressions/Expression;Lorg/eclipse/ui/contexts/IContextService;)V
     261: astore        5
     263: aload_0
     264: aload         5
     266: invokevirtual #366                // Method activateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
     269: aload_3
     270: aload         5
     272: invokeinterface #383,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     277: pop
     278: new           #201                // class org/eclipse/ui/internal/contexts/ContextActivation
     281: dup
     282: ldc           #8                  // String org.eclipse.ui.contexts.window
     284: aload         4
     286: aload_0
     287: getfield      #330                // Field contextService:Lorg/eclipse/ui/contexts/IContextService;
     290: invokespecial #361                // Method org/eclipse/ui/internal/contexts/ContextActivation."<init>":(Ljava/lang/String;Lorg/eclipse/core/expressions/Expression;Lorg/eclipse/ui/contexts/IContextService;)V
     293: astore        7
     295: aload_0
     296: aload         7
     298: invokevirtual #366                // Method activateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
     301: aload_3
     302: aload         7
     304: invokeinterface #383,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     309: pop
     310: goto          338
     313: new           #177                // class java/lang/IllegalArgumentException
     316: dup
     317: new           #181                // class java/lang/StringBuilder
     320: dup
     321: ldc_w         #169                // String The type is not recognized:
     324: invokespecial #338                // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
     327: iload_2
     328: invokevirtual #339                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     331: invokevirtual #337                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     334: invokespecial #333                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     337: athrow
     338: iconst_0
     339: istore        6
     341: aload_0
     342: getfield      #327                // Field registeredWindows:Ljava/util/Map;
     345: aload_1
     346: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     351: checkcast     #185                // class java/util/Collection
     354: astore        7
     356: aload         7
     358: ifnull        404
     361: iconst_1
     362: istore        6
     364: aload         7
     366: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     371: astore        8
     373: goto          394
     376: aload         8
     378: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     383: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
     386: astore        9
     388: aload_0
     389: aload         9
     391: invokevirtual #367                // Method deactivateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
     394: aload         8
     396: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     401: ifne          376
     404: aload_0
     405: getfield      #327                // Field registeredWindows:Ljava/util/Map;
     408: aload_1
     409: aload_3
     410: invokeinterface #386,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     415: pop
     416: new           #204                // class org/eclipse/ui/internal/contexts/ContextAuthority$2
     419: dup
     420: aload_0
     421: aload_1
     422: aload_3
     423: invokespecial #373                // Method org/eclipse/ui/internal/contexts/ContextAuthority$2."<init>":(Lorg/eclipse/ui/internal/contexts/ContextAuthority;Lorg/eclipse/swt/widgets/Shell;Ljava/util/List;)V
     426: astore        8
     428: aload_1
     429: aload         8
     431: invokevirtual #355                // Method org/eclipse/swt/widgets/Shell.addDisposeListener:(Lorg/eclipse/swt/events/DisposeListener;)V
     434: aload_1
     435: ldc           #9                  // String org.eclipse.ui.internal.contexts.ContextAuthority
     437: aload         8
     439: invokevirtual #359                // Method org/eclipse/swt/widgets/Shell.setData:(Ljava/lang/String;Ljava/lang/Object;)V
     442: iload         6
     444: ireturn

  protected void sourceChanged(int);
    Code:
       0: lconst_0
       1: lstore_2
       2: getstatic     #325                // Field DEBUG_PERFORMANCE:Z
       5: ifeq          12
       8: invokestatic  #343                // Method java/lang/System.currentTimeMillis:()J
      11: lstore_2
      12: new           #187                // class java/util/HashSet
      15: dup
      16: iconst_4
      17: invokespecial #347                // Method java/util/HashSet."<init>":(I)V
      20: astore        4
      22: iconst_1
      23: istore        5
      25: goto          94
      28: iload_1
      29: iconst_1
      30: iload         5
      32: ishl
      33: iand
      34: ifeq          91
      37: aload_0
      38: getfield      #328                // Field activationsBySourcePriority:[Ljava/util/Set;
      41: iload         5
      43: aaload
      44: astore        6
      46: aload         6
      48: ifnull        91
      51: aload         6
      53: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      58: astore        7
      60: goto          81
      63: aload         4
      65: aload         7
      67: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      72: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
      75: invokeinterface #389,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      80: pop
      81: aload         7
      83: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      88: ifne          63
      91: iinc          5, 1
      94: iload         5
      96: bipush        32
      98: if_icmple     28
     101: new           #184                // class java/util/ArrayList
     104: dup
     105: aload         4
     107: invokeinterface #387,  1          // InterfaceMethod java/util/Set.size:()I
     112: invokespecial #345                // Method java/util/ArrayList."<init>":(I)V
     115: astore        5
     117: aload         4
     119: invokeinterface #391,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     124: astore        6
     126: goto          186
     129: aload         6
     131: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     136: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
     139: astore        7
     141: aload_0
     142: aload         7
     144: invokevirtual #368                // Method evaluate:(Lorg/eclipse/ui/internal/services/IEvaluationResultCache;)Z
     147: istore        8
     149: aload         7
     151: invokeinterface #393,  1          // InterfaceMethod org/eclipse/ui/contexts/IContextActivation.clearResult:()V
     156: aload_0
     157: aload         7
     159: invokevirtual #368                // Method evaluate:(Lorg/eclipse/ui/internal/services/IEvaluationResultCache;)Z
     162: istore        9
     164: iload         9
     166: iload         8
     168: if_icmpeq     186
     171: aload         5
     173: aload         7
     175: invokeinterface #394,  1          // InterfaceMethod org/eclipse/ui/contexts/IContextActivation.getContextId:()Ljava/lang/String;
     180: invokeinterface #377,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     185: pop
     186: aload         6
     188: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     193: ifne          129
     196: aload_0
     197: getfield      #329                // Field contextManager:Lorg/eclipse/core/commands/contexts/ContextManager;
     200: iconst_1
     201: invokevirtual #349                // Method org/eclipse/core/commands/contexts/ContextManager.deferUpdates:(Z)V
     204: aload         5
     206: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     211: astore        7
     213: goto          304
     216: aload         7
     218: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     223: checkcast     #180                // class java/lang/String
     226: astore        8
     228: aload_0
     229: getfield      #326                // Field contextActivationsByContextId:Ljava/util/Map;
     232: aload         8
     234: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     239: astore        9
     241: aload         9
     243: instanceof    #199                // class org/eclipse/ui/contexts/IContextActivation
     246: ifeq          271
     249: aload         9
     251: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
     254: astore        10
     256: aload_0
     257: aload         8
     259: aload_0
     260: aload         10
     262: invokevirtual #368                // Method evaluate:(Lorg/eclipse/ui/internal/services/IEvaluationResultCache;)Z
     265: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     268: goto          304
     271: aload         9
     273: instanceof    #185                // class java/util/Collection
     276: ifeq          297
     279: aload_0
     280: aload         8
     282: aload_0
     283: aload         9
     285: checkcast     #185                // class java/util/Collection
     288: invokevirtual #365                // Method containsActive:(Ljava/util/Collection;)Z
     291: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     294: goto          304
     297: aload_0
     298: aload         8
     300: iconst_0
     301: invokevirtual #364                // Method updateContext:(Ljava/lang/String;Z)V
     304: aload         7
     306: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     311: ifne          216
     314: goto          330
     317: astore        11
     319: aload_0
     320: getfield      #329                // Field contextManager:Lorg/eclipse/core/commands/contexts/ContextManager;
     323: iconst_0
     324: invokevirtual #349                // Method org/eclipse/core/commands/contexts/ContextManager.deferUpdates:(Z)V
     327: aload         11
     329: athrow
     330: aload_0
     331: getfield      #329                // Field contextManager:Lorg/eclipse/core/commands/contexts/ContextManager;
     334: iconst_0
     335: invokevirtual #349                // Method org/eclipse/core/commands/contexts/ContextManager.deferUpdates:(Z)V
     338: getstatic     #325                // Field DEBUG_PERFORMANCE:Z
     341: ifeq          402
     344: invokestatic  #343                // Method java/lang/System.currentTimeMillis:()J
     347: lload_2
     348: lsub
     349: lstore        7
     351: aload         4
     353: invokeinterface #387,  1          // InterfaceMethod java/util/Set.size:()I
     358: istore        9
     360: iload         9
     362: ifle          402
     365: ldc           #2                  // String CONTEXTS
     367: new           #181                // class java/lang/StringBuilder
     370: dup
     371: iload         9
     373: invokestatic  #336                // Method java/lang/String.valueOf:(I)Ljava/lang/String;
     376: invokespecial #338                // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
     379: ldc_w         #166                // String  activations recomputed in
     382: invokevirtual #342                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     385: lload         7
     387: invokevirtual #340                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     390: ldc_w         #172                // String ms
     393: invokevirtual #342                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     396: invokevirtual #337                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     399: invokestatic  #352                // Method org/eclipse/core/commands/util/Tracing.printTrace:(Ljava/lang/String;Ljava/lang/String;)V
     402: return
    Exception table:
       from    to  target type
         196   317   317   any

  public boolean unregisterShell(org.eclipse.swt.widgets.Shell);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: iconst_0
       5: ireturn
       6: aload_1
       7: invokevirtual #354                // Method org/eclipse/swt/widgets/Shell.isDisposed:()Z
      10: ifne          32
      13: aload_1
      14: ldc           #9                  // String org.eclipse.ui.internal.contexts.ContextAuthority
      16: invokevirtual #358                // Method org/eclipse/swt/widgets/Shell.getData:(Ljava/lang/String;)Ljava/lang/Object;
      19: checkcast     #196                // class org/eclipse/swt/events/DisposeListener
      22: astore_2
      23: aload_2
      24: ifnull        32
      27: aload_1
      28: aload_2
      29: invokevirtual #356                // Method org/eclipse/swt/widgets/Shell.removeDisposeListener:(Lorg/eclipse/swt/events/DisposeListener;)V
      32: aload_0
      33: getfield      #327                // Field registeredWindows:Ljava/util/Map;
      36: aload_1
      37: invokeinterface #384,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      42: checkcast     #185                // class java/util/Collection
      45: astore_2
      46: aload_2
      47: ifnull        99
      50: aload_0
      51: getfield      #327                // Field registeredWindows:Ljava/util/Map;
      54: aload_1
      55: invokeinterface #385,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      60: pop
      61: aload_2
      62: invokeinterface #380,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      67: astore_3
      68: goto          88
      71: aload_3
      72: invokeinterface #382,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      77: checkcast     #199                // class org/eclipse/ui/contexts/IContextActivation
      80: astore        4
      82: aload_0
      83: aload         4
      85: invokevirtual #367                // Method deactivateContext:(Lorg/eclipse/ui/contexts/IContextActivation;)V
      88: aload_3
      89: invokeinterface #381,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      94: ifne          71
      97: iconst_1
      98: ireturn
      99: iconst_0
     100: ireturn

  private void updateContext(java.lang.String, boolean);
    Code:
       0: iload_2
       1: ifeq          15
       4: aload_0
       5: getfield      #329                // Field contextManager:Lorg/eclipse/core/commands/contexts/ContextManager;
       8: aload_1
       9: invokevirtual #350                // Method org/eclipse/core/commands/contexts/ContextManager.addActiveContext:(Ljava/lang/String;)V
      12: goto          23
      15: aload_0
      16: getfield      #329                // Field contextManager:Lorg/eclipse/core/commands/contexts/ContextManager;
      19: aload_1
      20: invokevirtual #351                // Method org/eclipse/core/commands/contexts/ContextManager.removeActiveContext:(Ljava/lang/String;)V
      23: return

  protected void updateEvaluationContext(java.lang.String, java.lang.Object);
    Code:
       0: aload_1
       1: ifnull        46
       4: ldc_w         #170                // String activeWorkbenchWindowShell
       7: aload_1
       8: invokevirtual #335                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      11: ifne          46
      14: ldc           #5                  // String activeShell
      16: aload_1
      17: invokevirtual #335                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      20: ifeq          40
      23: aload_0
      24: aload_2
      25: checkcast     #197                // class org/eclipse/swt/widgets/Shell
      28: aload_0
      29: ldc           #5                  // String activeShell
      31: invokevirtual #369                // Method getVariable:(Ljava/lang/String;)Ljava/lang/Object;
      34: checkcast     #197                // class org/eclipse/swt/widgets/Shell
      37: invokevirtual #371                // Method checkWindowType:(Lorg/eclipse/swt/widgets/Shell;Lorg/eclipse/swt/widgets/Shell;)V
      40: aload_0
      41: aload_1
      42: aload_2
      43: invokevirtual #370                // Method changeVariable:(Ljava/lang/String;Ljava/lang/Object;)V
      46: return

  void updateShellKludge();
    Code:
       0: aload_0
       1: invokevirtual #362                // Method updateCurrentState:()V
       4: aload_0
       5: sipush        1024
       8: invokevirtual #363                // Method sourceChanged:(I)V
      11: return
}
