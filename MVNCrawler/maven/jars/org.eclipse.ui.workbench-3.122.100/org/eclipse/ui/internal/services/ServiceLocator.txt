Compiled from "ServiceLocator.java"
public final class org.eclipse.ui.internal.services.ServiceLocator implements org.eclipse.ui.services.IDisposable,org.eclipse.ui.internal.services.INestable,org.eclipse.ui.services.IServiceLocator {
  boolean activated;

  private final org.eclipse.ui.services.AbstractServiceFactory factory;

  private final org.eclipse.ui.services.IServiceLocator parent;

  private volatile boolean disposed;

  private org.eclipse.ui.services.IDisposable owner;

  private volatile org.eclipse.e4.core.contexts.IEclipseContext e4Context;

  private final java.util.Map<java.lang.Class<?>, java.lang.Object> services;

  public org.eclipse.ui.internal.services.ServiceLocator();
    Code:
       0: aload_0
       1: aconst_null
       2: aconst_null
       3: aconst_null
       4: invokespecial #261                // Method "<init>":(Lorg/eclipse/ui/services/IServiceLocator;Lorg/eclipse/ui/services/AbstractServiceFactory;Lorg/eclipse/ui/services/IDisposable;)V
       7: return

  public org.eclipse.ui.internal.services.ServiceLocator(org.eclipse.ui.services.IServiceLocator, org.eclipse.ui.services.AbstractServiceFactory, org.eclipse.ui.services.IDisposable);
    Code:
       0: aload_0
       1: invokespecial #247                // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #232                // Field activated:Z
       9: aload_0
      10: new           #117                // class java/util/concurrent/ConcurrentHashMap
      13: dup
      14: invokespecial #254                // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      17: putfield      #234                // Field services:Ljava/util/Map;
      20: aload_0
      21: aload_1
      22: putfield      #238                // Field parent:Lorg/eclipse/ui/services/IServiceLocator;
      25: aload_0
      26: aload_2
      27: putfield      #236                // Field factory:Lorg/eclipse/ui/services/AbstractServiceFactory;
      30: aload_0
      31: aload_3
      32: putfield      #237                // Field owner:Lorg/eclipse/ui/services/IDisposable;
      35: return

  public void activate();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #232                // Field activated:Z
       5: aload_0
       6: getfield      #234                // Field services:Ljava/util/Map;
       9: invokeinterface #275,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      14: invokeinterface #269,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      19: astore_2
      20: goto          52
      23: aload_2
      24: invokeinterface #272,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: astore_1
      30: aload_1
      31: instanceof    #121                // class org/eclipse/ui/internal/services/INestable
      34: ifne          40
      37: goto          52
      40: new           #123                // class org/eclipse/ui/internal/services/ServiceLocator$1
      43: dup
      44: aload_0
      45: aload_1
      46: invokespecial #262                // Method org/eclipse/ui/internal/services/ServiceLocator$1."<init>":(Lorg/eclipse/ui/internal/services/ServiceLocator;Ljava/lang/Object;)V
      49: invokestatic  #255                // Method org/eclipse/core/runtime/SafeRunner.run:(Lorg/eclipse/core/runtime/ISafeRunnable;)V
      52: aload_2
      53: invokeinterface #271,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifne          23
      61: return

  public void deactivate();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #232                // Field activated:Z
       5: aload_0
       6: getfield      #234                // Field services:Ljava/util/Map;
       9: invokeinterface #275,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      14: invokeinterface #269,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      19: astore_2
      20: goto          52
      23: aload_2
      24: invokeinterface #272,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: astore_1
      30: aload_1
      31: instanceof    #121                // class org/eclipse/ui/internal/services/INestable
      34: ifne          40
      37: goto          52
      40: new           #124                // class org/eclipse/ui/internal/services/ServiceLocator$2
      43: dup
      44: aload_0
      45: aload_1
      46: invokespecial #263                // Method org/eclipse/ui/internal/services/ServiceLocator$2."<init>":(Lorg/eclipse/ui/internal/services/ServiceLocator;Ljava/lang/Object;)V
      49: invokestatic  #255                // Method org/eclipse/core/runtime/SafeRunner.run:(Lorg/eclipse/core/runtime/ISafeRunnable;)V
      52: aload_2
      53: invokeinterface #271,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifne          23
      61: return

  public void dispose();
    Code:
       0: aload_0
       1: invokevirtual #258                // Method disposeServices:()V
       4: aload_0
       5: getfield      #234                // Field services:Ljava/util/Map;
       8: invokeinterface #273,  1          // InterfaceMethod java/util/Map.size:()I
      13: ifle          20
      16: aload_0
      17: invokevirtual #258                // Method disposeServices:()V
      20: aload_0
      21: getfield      #234                // Field services:Ljava/util/Map;
      24: invokeinterface #273,  1          // InterfaceMethod java/util/Map.size:()I
      29: ifle          56
      32: iconst_2
      33: ldc           #2                  // String Services: %s register themselves while disposing (skipping dispose of such services).
      35: iconst_1
      36: anewarray     #109                // class java/lang/Object
      39: dup
      40: iconst_0
      41: aload_0
      42: getfield      #234                // Field services:Ljava/util/Map;
      45: aastore
      46: invokestatic  #249                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      49: aconst_null
      50: invokestatic  #257                // Method org/eclipse/ui/internal/misc/StatusUtil.newStatus:(ILjava/lang/String;Ljava/lang/Throwable;)Lorg/eclipse/core/runtime/IStatus;
      53: invokestatic  #256                // Method org/eclipse/ui/internal/WorkbenchPlugin.log:(Lorg/eclipse/core/runtime/IStatus;)V
      56: aload_0
      57: getfield      #234                // Field services:Ljava/util/Map;
      60: invokeinterface #274,  1          // InterfaceMethod java/util/Map.clear:()V
      65: aload_0
      66: iconst_1
      67: putfield      #233                // Field disposed:Z
      70: aload_0
      71: aconst_null
      72: putfield      #235                // Field e4Context:Lorg/eclipse/e4/core/contexts/IEclipseContext;
      75: aload_0
      76: aconst_null
      77: putfield      #237                // Field owner:Lorg/eclipse/ui/services/IDisposable;
      80: return

  private void disposeServices();
    Code:
       0: aload_0
       1: getfield      #234                // Field services:Ljava/util/Map;
       4: invokeinterface #276,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
       9: invokeinterface #280,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      14: astore_1
      15: goto          68
      18: aload_1
      19: invokeinterface #272,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      24: checkcast     #115                // class java/util/Map$Entry
      27: astore_2
      28: aload_2
      29: invokeinterface #279,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      34: instanceof    #129                // class org/eclipse/ui/services/IDisposable
      37: ifeq          62
      40: aload_2
      41: invokeinterface #279,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      46: checkcast     #129                // class org/eclipse/ui/services/IDisposable
      49: astore_3
      50: new           #125                // class org/eclipse/ui/internal/services/ServiceLocator$3
      53: dup
      54: aload_0
      55: aload_3
      56: invokespecial #264                // Method org/eclipse/ui/internal/services/ServiceLocator$3."<init>":(Lorg/eclipse/ui/internal/services/ServiceLocator;Lorg/eclipse/ui/services/IDisposable;)V
      59: invokestatic  #255                // Method org/eclipse/core/runtime/SafeRunner.run:(Lorg/eclipse/core/runtime/ISafeRunnable;)V
      62: aload_1
      63: invokeinterface #270,  1          // InterfaceMethod java/util/Iterator.remove:()V
      68: aload_1
      69: invokeinterface #271,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      74: ifne          18
      77: return

  public <T> T getService(java.lang.Class<T>);
    Code:
       0: aload_0
       1: getfield      #235                // Field e4Context:Lorg/eclipse/e4/core/contexts/IEclipseContext;
       4: astore_2
       5: aload_2
       6: ifnonnull     11
       9: aconst_null
      10: areturn
      11: ldc           #5                  // class org/eclipse/e4/core/contexts/IEclipseContext
      13: aload_1
      14: invokevirtual #248                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      17: ifeq          26
      20: aload_1
      21: aload_2
      22: invokevirtual #242                // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
      25: areturn
      26: aload_2
      27: aload_1
      28: invokevirtual #241                // Method java/lang/Class.getName:()Ljava/lang/String;
      31: invokeinterface #282,  2          // InterfaceMethod org/eclipse/e4/core/contexts/IEclipseContext.get:(Ljava/lang/String;)Ljava/lang/Object;
      36: astore_3
      37: aload_3
      38: ifnonnull     55
      41: aload_0
      42: getfield      #234                // Field services:Ljava/util/Map;
      45: aload_1
      46: invokeinterface #277,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      51: astore_3
      52: goto          76
      55: aload_3
      56: aload_2
      57: aload_1
      58: invokevirtual #241                // Method java/lang/Class.getName:()Ljava/lang/String;
      61: invokeinterface #283,  2          // InterfaceMethod org/eclipse/e4/core/contexts/IEclipseContext.getLocal:(Ljava/lang/String;)Ljava/lang/Object;
      66: if_acmpne     76
      69: aload_0
      70: aload_1
      71: aload_3
      72: iconst_0
      73: invokevirtual #260                // Method registerService:(Ljava/lang/Class;Ljava/lang/Object;Z)V
      76: aload_3
      77: ifnonnull     163
      80: getstatic     #239                // Field org/eclipse/ui/internal/services/WorkbenchServiceRegistry.GLOBAL_PARENT:Lorg/eclipse/ui/services/IServiceLocator;
      83: astore        4
      85: aload_0
      86: getfield      #238                // Field parent:Lorg/eclipse/ui/services/IServiceLocator;
      89: ifnull        106
      92: new           #126                // class org/eclipse/ui/internal/services/ServiceLocator$ParentLocator
      95: dup
      96: aload_0
      97: getfield      #238                // Field parent:Lorg/eclipse/ui/services/IServiceLocator;
     100: aload_1
     101: invokespecial #265                // Method org/eclipse/ui/internal/services/ServiceLocator$ParentLocator."<init>":(Lorg/eclipse/ui/services/IServiceLocator;Ljava/lang/Class;)V
     104: astore        4
     106: aload_0
     107: getfield      #236                // Field factory:Lorg/eclipse/ui/services/AbstractServiceFactory;
     110: ifnull        125
     113: aload_0
     114: getfield      #236                // Field factory:Lorg/eclipse/ui/services/AbstractServiceFactory;
     117: aload_1
     118: aload         4
     120: aload_0
     121: invokevirtual #268                // Method org/eclipse/ui/services/AbstractServiceFactory.create:(Ljava/lang/Class;Lorg/eclipse/ui/services/IServiceLocator;Lorg/eclipse/ui/services/IServiceLocator;)Ljava/lang/Object;
     124: astore_3
     125: aload_3
     126: ifnonnull     140
     129: invokestatic  #266                // Method org/eclipse/ui/internal/services/WorkbenchServiceRegistry.getRegistry:()Lorg/eclipse/ui/internal/services/WorkbenchServiceRegistry;
     132: aload_1
     133: aload         4
     135: aload_0
     136: invokevirtual #267                // Method org/eclipse/ui/internal/services/WorkbenchServiceRegistry.getService:(Ljava/lang/Class;Lorg/eclipse/ui/services/IServiceLocator;Lorg/eclipse/ui/internal/services/ServiceLocator;)Ljava/lang/Object;
     139: astore_3
     140: aload_3
     141: ifnonnull     156
     144: aload         4
     146: aload_1
     147: invokeinterface #287,  2          // InterfaceMethod org/eclipse/ui/services/IServiceLocator.getService:(Ljava/lang/Class;)Ljava/lang/Object;
     152: astore_3
     153: goto          163
     156: aload_0
     157: aload_1
     158: aload_3
     159: iconst_1
     160: invokevirtual #260                // Method registerService:(Ljava/lang/Class;Ljava/lang/Object;Z)V
     163: aload_1
     164: aload_3
     165: invokevirtual #242                // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
     168: areturn

  public boolean hasService(java.lang.Class<?>);
    Code:
       0: aload_0
       1: getfield      #235                // Field e4Context:Lorg/eclipse/e4/core/contexts/IEclipseContext;
       4: astore_2
       5: aload_2
       6: ifnonnull     11
       9: iconst_0
      10: ireturn
      11: aload_2
      12: aload_1
      13: invokevirtual #241                // Method java/lang/Class.getName:()Ljava/lang/String;
      16: invokeinterface #281,  2          // InterfaceMethod org/eclipse/e4/core/contexts/IEclipseContext.containsKey:(Ljava/lang/String;)Z
      21: ireturn

  public void registerService(java.lang.Class, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iconst_1
       4: invokevirtual #260                // Method registerService:(Ljava/lang/Class;Ljava/lang/Object;Z)V
       7: return

  private void registerService(java.lang.Class<?>, java.lang.Object, boolean);
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #108                // class java/lang/NullPointerException
       7: dup
       8: ldc           #4                  // String The service key cannot be null
      10: invokespecial #246                // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_1
      15: aload_2
      16: invokevirtual #240                // Method java/lang/Class.isInstance:(Ljava/lang/Object;)Z
      19: ifne          32
      22: new           #106                // class java/lang/IllegalArgumentException
      25: dup
      26: ldc           #3                  // String The service does not implement the given interface
      28: invokespecial #243                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      31: athrow
      32: aload_0
      33: invokevirtual #259                // Method isDisposed:()Z
      36: ifeq          95
      39: new           #107                // class java/lang/IllegalStateException
      42: dup
      43: new           #111                // class java/lang/StringBuilder
      46: dup
      47: ldc           #1                  // String An attempt was made to register service
      49: invokespecial #251                // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
      52: aload_2
      53: invokevirtual #252                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      56: ldc_w         #104                // String  with implementation class
      59: invokevirtual #253                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: aload_1
      63: invokevirtual #252                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      66: ldc_w         #103                // String  on a disposed service locator
      69: invokevirtual #253                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: invokevirtual #250                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      75: invokespecial #245                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      78: astore        4
      80: iconst_4
      81: aload         4
      83: invokevirtual #244                // Method java/lang/IllegalStateException.getMessage:()Ljava/lang/String;
      86: aload         4
      88: invokestatic  #257                // Method org/eclipse/ui/internal/misc/StatusUtil.newStatus:(ILjava/lang/String;Ljava/lang/Throwable;)Lorg/eclipse/core/runtime/IStatus;
      91: invokestatic  #256                // Method org/eclipse/ui/internal/WorkbenchPlugin.log:(Lorg/eclipse/core/runtime/IStatus;)V
      94: return
      95: aload_2
      96: instanceof    #121                // class org/eclipse/ui/internal/services/INestable
      99: ifeq          118
     102: aload_0
     103: getfield      #232                // Field activated:Z
     106: ifeq          118
     109: aload_2
     110: checkcast     #121                // class org/eclipse/ui/internal/services/INestable
     113: invokeinterface #285,  1          // InterfaceMethod org/eclipse/ui/internal/services/INestable.activate:()V
     118: aload_0
     119: getfield      #234                // Field services:Ljava/util/Map;
     122: aload_1
     123: aload_2
     124: invokeinterface #278,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     129: pop
     130: iload_3
     131: ifeq          158
     134: aload_0
     135: getfield      #235                // Field e4Context:Lorg/eclipse/e4/core/contexts/IEclipseContext;
     138: astore        4
     140: aload         4
     142: ifnonnull     146
     145: return
     146: aload         4
     148: aload_1
     149: invokevirtual #241                // Method java/lang/Class.getName:()Ljava/lang/String;
     152: aload_2
     153: invokeinterface #284,  3          // InterfaceMethod org/eclipse/e4/core/contexts/IEclipseContext.set:(Ljava/lang/String;Ljava/lang/Object;)V
     158: return

  public boolean isDisposed();
    Code:
       0: aload_0
       1: getfield      #233                // Field disposed:Z
       4: ireturn

  public void unregisterServices(java.lang.String[]);
    Code:
       0: aload_0
       1: getfield      #237                // Field owner:Lorg/eclipse/ui/services/IDisposable;
       4: ifnull        16
       7: aload_0
       8: getfield      #237                // Field owner:Lorg/eclipse/ui/services/IDisposable;
      11: invokeinterface #286,  1          // InterfaceMethod org/eclipse/ui/services/IDisposable.dispose:()V
      16: return

  public void setContext(org.eclipse.e4.core.contexts.IEclipseContext);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #235                // Field e4Context:Lorg/eclipse/e4/core/contexts/IEclipseContext;
       5: return

  public org.eclipse.e4.core.contexts.IEclipseContext getContext();
    Code:
       0: aload_0
       1: getfield      #235                // Field e4Context:Lorg/eclipse/e4/core/contexts/IEclipseContext;
       4: areturn
}
