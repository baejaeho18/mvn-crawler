Compiled from "GrpcServer.java"
public class ru.tinkoff.kora.grpc.GrpcServer implements ru.tinkoff.kora.application.graph.Lifecycle,ru.tinkoff.kora.common.readiness.ReadinessProbe {
  private static final org.slf4j.Logger logger;

  private final ru.tinkoff.kora.application.graph.ValueOf<io.grpc.netty.NettyServerBuilder> nettyServerBuilder;

  private io.grpc.Server server;

  private final java.util.concurrent.atomic.AtomicReference<ru.tinkoff.kora.grpc.GrpcServer$GrpcServerState> state;

  public ru.tinkoff.kora.grpc.GrpcServer(ru.tinkoff.kora.application.graph.ValueOf<io.grpc.netty.NettyServerBuilder>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #7                  // class java/util/concurrent/atomic/AtomicReference
       8: dup
       9: getstatic     #9                  // Field ru/tinkoff/kora/grpc/GrpcServer$GrpcServerState.INIT:Lru/tinkoff/kora/grpc/GrpcServer$GrpcServerState;
      12: invokespecial #15                 // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      15: putfield      #18                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
      18: aload_0
      19: aload_1
      20: putfield      #24                 // Field nettyServerBuilder:Lru/tinkoff/kora/application/graph/ValueOf;
      23: return

  public reactor.core.publisher.Mono<java.lang.Void> init();
    Code:
       0: aload_0
       1: invokedynamic #28,  0             // InvokeDynamic #0:accept:(Lru/tinkoff/kora/grpc/GrpcServer;)Ljava/util/function/Consumer;
       6: invokestatic  #32                 // Method reactor/core/publisher/Mono.create:(Ljava/util/function/Consumer;)Lreactor/core/publisher/Mono;
       9: areturn

  public reactor.core.publisher.Mono<java.lang.Void> release();
    Code:
       0: aload_0
       1: invokedynamic #38,  0             // InvokeDynamic #1:run:(Lru/tinkoff/kora/grpc/GrpcServer;)Ljava/lang/Runnable;
       6: invokestatic  #42                 // Method reactor/core/publisher/Mono.fromRunnable:(Ljava/lang/Runnable;)Lreactor/core/publisher/Mono;
       9: areturn

  public reactor.core.publisher.Mono<ru.tinkoff.kora.common.readiness.ReadinessProbeFailure> probe();
    Code:
       0: getstatic     #46                 // Field ru/tinkoff/kora/grpc/GrpcServer$1.$SwitchMap$ru$tinkoff$kora$grpc$GrpcServer$GrpcServerState:[I
       3: aload_0
       4: getfield      #18                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       7: invokevirtual #52                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
      10: checkcast     #10                 // class ru/tinkoff/kora/grpc/GrpcServer$GrpcServerState
      13: invokevirtual #56                 // Method ru/tinkoff/kora/grpc/GrpcServer$GrpcServerState.ordinal:()I
      16: iaload
      17: tableswitch   { // 1 to 3
                     1: 52
                     2: 67
                     3: 73
               default: 44
          }
      44: new           #60                 // class java/lang/IncompatibleClassChangeError
      47: dup
      48: invokespecial #62                 // Method java/lang/IncompatibleClassChangeError."<init>":()V
      51: athrow
      52: new           #63                 // class ru/tinkoff/kora/common/readiness/ReadinessProbeFailure
      55: dup
      56: ldc           #65                 // String GRPC Server init
      58: invokespecial #67                 // Method ru/tinkoff/kora/common/readiness/ReadinessProbeFailure."<init>":(Ljava/lang/String;)V
      61: invokestatic  #70                 // Method reactor/core/publisher/Mono.just:(Ljava/lang/Object;)Lreactor/core/publisher/Mono;
      64: goto          85
      67: invokestatic  #74                 // Method reactor/core/publisher/Mono.empty:()Lreactor/core/publisher/Mono;
      70: goto          85
      73: new           #63                 // class ru/tinkoff/kora/common/readiness/ReadinessProbeFailure
      76: dup
      77: ldc           #78                 // String GRPC Server shutdown
      79: invokespecial #67                 // Method ru/tinkoff/kora/common/readiness/ReadinessProbeFailure."<init>":(Ljava/lang/String;)V
      82: invokestatic  #70                 // Method reactor/core/publisher/Mono.just:(Ljava/lang/Object;)Lreactor/core/publisher/Mono;
      85: areturn

  private void lambda$release$1();
    Code:
       0: getstatic     #80                 // Field logger:Lorg/slf4j/Logger;
       3: ldc           #84                 // String gRPC Server stopping...
       5: invokeinterface #86,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      10: invokestatic  #91                 // Method java/lang/System.nanoTime:()J
      13: lstore_1
      14: aload_0
      15: getfield      #18                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
      18: getstatic     #97                 // Field ru/tinkoff/kora/grpc/GrpcServer$GrpcServerState.SHUTDOWN:Lru/tinkoff/kora/grpc/GrpcServer$GrpcServerState;
      21: invokevirtual #100                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
      24: aload_0
      25: getfield      #103                // Field server:Lio/grpc/Server;
      28: invokevirtual #107                // Method io/grpc/Server.shutdown:()Lio/grpc/Server;
      31: pop
      32: getstatic     #80                 // Field logger:Lorg/slf4j/Logger;
      35: ldc           #113                // String gRPC Server stopped in {}
      37: invokestatic  #91                 // Method java/lang/System.nanoTime:()J
      40: lload_1
      41: lsub
      42: invokestatic  #115                // Method java/time/Duration.ofNanos:(J)Ljava/time/Duration;
      45: invokevirtual #121                // Method java/time/Duration.toString:()Ljava/lang/String;
      48: iconst_2
      49: invokevirtual #125                // Method java/lang/String.substring:(I)Ljava/lang/String;
      52: invokevirtual #131                // Method java/lang/String.toLowerCase:()Ljava/lang/String;
      55: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      60: return

  private void lambda$init$0(reactor.core.publisher.MonoSink);
    Code:
       0: getstatic     #80                 // Field logger:Lorg/slf4j/Logger;
       3: ldc           #138                // String Starting gRPC Server...
       5: invokeinterface #86,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      10: invokestatic  #91                 // Method java/lang/System.nanoTime:()J
      13: lstore_2
      14: aload_0
      15: getfield      #24                 // Field nettyServerBuilder:Lru/tinkoff/kora/application/graph/ValueOf;
      18: invokeinterface #140,  1          // InterfaceMethod ru/tinkoff/kora/application/graph/ValueOf.get:()Ljava/lang/Object;
      23: checkcast     #143                // class io/grpc/netty/NettyServerBuilder
      26: astore        4
      28: aload_0
      29: aload         4
      31: invokevirtual #145                // Method io/grpc/netty/NettyServerBuilder.build:()Lio/grpc/Server;
      34: putfield      #103                // Field server:Lio/grpc/Server;
      37: aload_0
      38: getfield      #103                // Field server:Lio/grpc/Server;
      41: invokevirtual #148                // Method io/grpc/Server.start:()Lio/grpc/Server;
      44: pop
      45: aload_0
      46: getfield      #18                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
      49: getstatic     #151                // Field ru/tinkoff/kora/grpc/GrpcServer$GrpcServerState.RUN:Lru/tinkoff/kora/grpc/GrpcServer$GrpcServerState;
      52: invokevirtual #100                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
      55: getstatic     #80                 // Field logger:Lorg/slf4j/Logger;
      58: ldc           #154                // String gRPC Server started in {}
      60: invokestatic  #91                 // Method java/lang/System.nanoTime:()J
      63: lload_2
      64: lsub
      65: invokestatic  #115                // Method java/time/Duration.ofNanos:(J)Ljava/time/Duration;
      68: invokevirtual #121                // Method java/time/Duration.toString:()Ljava/lang/String;
      71: iconst_2
      72: invokevirtual #125                // Method java/lang/String.substring:(I)Ljava/lang/String;
      75: invokevirtual #131                // Method java/lang/String.toLowerCase:()Ljava/lang/String;
      78: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      83: aload_1
      84: invokeinterface #156,  1          // InterfaceMethod reactor/core/publisher/MonoSink.success:()V
      89: goto          102
      92: astore        5
      94: aload_1
      95: aload         5
      97: invokeinterface #163,  2          // InterfaceMethod reactor/core/publisher/MonoSink.error:(Ljava/lang/Throwable;)V
     102: return
    Exception table:
       from    to  target type
          37    89    92   Class java/io/IOException

  static {};
    Code:
       0: ldc           #19                 // class ru/tinkoff/kora/grpc/GrpcServer
       2: invokestatic  #167                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #80                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
