Compiled from "TestHttpDebugger.java"
public class prompto.debug.TestHttpDebugger extends prompto.debug.TestDebuggerBase implements prompto.debug.IDebugEventListener {
  prompto.debug.TestHttpDebugger$DebuggingServer server;

  prompto.debug.WebSocketDebugEventListener eventListener;

  prompto.utils.Instance<java.lang.String> output;

  prompto.utils.Instance<java.lang.String> response;

  final java.lang.Object lock;

  public prompto.debug.TestHttpDebugger();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method prompto/debug/TestDebuggerBase."<init>":()V
       4: aload_0
       5: new           #2                  // class prompto/debug/TestHttpDebugger$DebuggingServer
       8: dup
       9: invokespecial #3                  // Method prompto/debug/TestHttpDebugger$DebuggingServer."<init>":()V
      12: putfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
      15: aload_0
      16: new           #5                  // class prompto/utils/Instance
      19: dup
      20: invokespecial #6                  // Method prompto/utils/Instance."<init>":()V
      23: putfield      #7                  // Field output:Lprompto/utils/Instance;
      26: aload_0
      27: new           #5                  // class prompto/utils/Instance
      30: dup
      31: invokespecial #6                  // Method prompto/utils/Instance."<init>":()V
      34: putfield      #8                  // Field response:Lprompto/utils/Instance;
      37: aload_0
      38: new           #9                  // class java/lang/Object
      41: dup
      42: invokespecial #10                 // Method java/lang/Object."<init>":()V
      45: putfield      #11                 // Field lock:Ljava/lang/Object;
      48: return

  public void before() throws java.lang.Throwable;
    Code:
       0: invokestatic  #12                 // Method prompto/debug/ProcessDebugger.reset:()V
       3: aload_0
       4: getfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
       7: invokevirtual #13                 // Method prompto/debug/TestHttpDebugger$DebuggingServer.__before__:()V
      10: invokestatic  #14                 // Method prompto/runtime/ApplicationContext.reset:()V
      13: return

  public void after() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #15                 // Field eventListener:Lprompto/debug/WebSocketDebugEventListener;
       4: invokevirtual #16                 // Method prompto/debug/WebSocketDebugEventListener.stopListening:()V
       7: aload_0
       8: aconst_null
       9: putfield      #15                 // Field eventListener:Lprompto/debug/WebSocketDebugEventListener;
      12: aload_0
      13: getfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
      16: invokevirtual #17                 // Method prompto/debug/TestHttpDebugger$DebuggingServer.__after__:()V
      19: return

  protected java.lang.String readOut() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field output:Lprompto/utils/Instance;
       4: invokevirtual #18                 // Method prompto/utils/Instance.get:()Ljava/lang/Object;
       7: checkcast     #19                 // class java/lang/String
      10: astore_1
      11: aload_1
      12: ifnonnull     18
      15: ldc           #20                 // String
      17: areturn
      18: aload_1
      19: ldc           #21                 // String \n
      21: invokevirtual #22                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      24: astore_2
      25: aload_2
      26: arraylength
      27: ifle          39
      30: aload_2
      31: aload_2
      32: arraylength
      33: iconst_1
      34: isub
      35: aaload
      36: goto          41
      39: ldc           #20                 // String
      41: areturn

  protected void waitSuspendedOrTerminated() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #23                 // Field debugger:Lprompto/debug/IDebugger;
       4: aload_0
       5: invokevirtual #24                 // Method getDebuggedThread:()Lprompto/debug/IWorker;
       8: invokeinterface #25,  2           // InterfaceMethod prompto/debug/IDebugger.getWorkerStatus:(Lprompto/debug/IWorker;)Lprompto/debug/Status;
      13: astore_1
      14: aload_1
      15: getstatic     #26                 // Field prompto/debug/Status.SUSPENDED:Lprompto/debug/Status;
      18: if_acmpeq     51
      21: aload_1
      22: getstatic     #27                 // Field prompto/debug/Status.TERMINATED:Lprompto/debug/Status;
      25: if_acmpeq     51
      28: ldc2_w        #28                 // long 100l
      31: invokestatic  #30                 // Method java/lang/Thread.sleep:(J)V
      34: aload_0
      35: getfield      #23                 // Field debugger:Lprompto/debug/IDebugger;
      38: aload_0
      39: invokevirtual #24                 // Method getDebuggedThread:()Lprompto/debug/IWorker;
      42: invokeinterface #25,  2           // InterfaceMethod prompto/debug/IDebugger.getWorkerStatus:(Lprompto/debug/IWorker;)Lprompto/debug/Status;
      47: astore_1
      48: goto          14
      51: return

  protected void start() throws java.lang.Exception;
    Code:
       0: aload_0
       1: new           #31                 // class prompto/debug/HttpDebugRequestClient
       4: dup
       5: ldc           #32                 // String localhost
       7: aload_0
       8: getfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
      11: invokevirtual #33                 // Method prompto/debug/TestHttpDebugger$DebuggingServer.getPort:()I
      14: aload_0
      15: invokedynamic #34,  0             // InvokeDynamic #0:get:(Lprompto/debug/TestHttpDebugger;)Ljava/util/function/Supplier;
      20: invokespecial #35                 // Method prompto/debug/HttpDebugRequestClient."<init>":(Ljava/lang/String;ILjava/util/function/Supplier;)V
      23: putfield      #23                 // Field debugger:Lprompto/debug/IDebugger;
      26: aload_0
      27: new           #36                 // class prompto/debug/WebSocketDebugEventListener
      30: dup
      31: ldc           #32                 // String localhost
      33: aload_0
      34: getfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
      37: invokevirtual #33                 // Method prompto/debug/TestHttpDebugger$DebuggingServer.getPort:()I
      40: aload_0
      41: invokespecial #37                 // Method prompto/debug/WebSocketDebugEventListener."<init>":(Ljava/lang/String;ILprompto/debug/IDebugEventListener;)V
      44: putfield      #15                 // Field eventListener:Lprompto/debug/WebSocketDebugEventListener;
      47: aload_0
      48: getfield      #15                 // Field eventListener:Lprompto/debug/WebSocketDebugEventListener;
      51: invokevirtual #38                 // Method prompto/debug/WebSocketDebugEventListener.startListening:()V
      54: aload_0
      55: invokespecial #39                 // Method waitConnected:()V
      58: aload_0
      59: invokespecial #40                 // Method callMainMethod:()V
      62: return

  protected prompto.debug.IWorker getDebuggedThread();
    Code:
       0: new           #41                 // class prompto/debug/OnlyRemoteThread
       3: dup
       4: invokespecial #42                 // Method prompto/debug/OnlyRemoteThread."<init>":()V
       7: areturn

  private void callMainMethod() throws java.lang.Exception;
    Code:
       0: new           #43                 // class java/net/URL
       3: dup
       4: new           #44                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #46                 // String http://localhost:
      13: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_0
      17: getfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
      20: invokevirtual #33                 // Method prompto/debug/TestHttpDebugger$DebuggingServer.getPort:()I
      23: invokevirtual #48                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      26: ldc           #49                 // String /ws/run/main
      28: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: invokespecial #51                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
      37: astore_1
      38: new           #52                 // class java/lang/Thread
      41: dup
      42: aload_0
      43: aload_1
      44: invokedynamic #53,  0             // InvokeDynamic #1:run:(Lprompto/debug/TestHttpDebugger;Ljava/net/URL;)Ljava/lang/Runnable;
      49: invokespecial #54                 // Method java/lang/Thread."<init>":(Ljava/lang/Runnable;)V
      52: invokevirtual #55                 // Method java/lang/Thread.start:()V
      55: return

  protected void join() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #11                 // Field lock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #11                 // Field lock:Ljava/lang/Object;
      11: invokevirtual #56                 // Method java/lang/Object.wait:()V
      14: aload_1
      15: monitorexit
      16: goto          24
      19: astore_2
      20: aload_1
      21: monitorexit
      22: aload_2
      23: athrow
      24: return
    Exception table:
       from    to  target type
           7    16    19   any
          19    22    19   any

  protected void setDebuggedResource(java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #57                 // Method getResourceAsURL:(Ljava/lang/String;)Ljava/net/URL;
       5: astore_2
       6: new           #58                 // class prompto/code/ImmutableCodeStore
       9: dup
      10: aconst_null
      11: getstatic     #59                 // Field prompto/code/ModuleType.LIBRARY:Lprompto/code/ModuleType;
      14: aload_2
      15: getstatic     #60                 // Field prompto/intrinsic/PromptoVersion.LATEST:Lprompto/intrinsic/PromptoVersion;
      18: invokespecial #61                 // Method prompto/code/ImmutableCodeStore."<init>":(Lprompto/code/ICodeStore;Lprompto/code/ModuleType;Ljava/net/URL;Lprompto/intrinsic/PromptoVersion;)V
      21: astore_3
      22: aload_0
      23: getfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
      26: invokevirtual #62                 // Method prompto/debug/TestHttpDebugger$DebuggingServer.getTail:()Lprompto/code/BaseCodeStore;
      29: aload_3
      30: invokevirtual #63                 // Method prompto/code/BaseCodeStore.setNext:(Lprompto/code/ICodeStore;)V
      33: return

  private void waitConnected() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #11                 // Field lock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #11                 // Field lock:Ljava/lang/Object;
      11: invokevirtual #56                 // Method java/lang/Object.wait:()V
      14: aload_1
      15: monitorexit
      16: goto          24
      19: astore_2
      20: aload_1
      21: monitorexit
      22: aload_2
      23: athrow
      24: return
    Exception table:
       from    to  target type
           7    16    19   any
          19    22    19   any

  public void handleConnectedEvent(prompto.debug.IDebugEvent$Connected);
    Code:
       0: aload_0
       1: getfield      #23                 // Field debugger:Lprompto/debug/IDebugger;
       4: checkcast     #64                 // class prompto/debug/DebugRequestClient
       7: iconst_1
       8: invokevirtual #65                 // Method prompto/debug/DebugRequestClient.setConnected:(Z)V
      11: aload_0
      12: getfield      #11                 // Field lock:Ljava/lang/Object;
      15: dup
      16: astore_2
      17: monitorenter
      18: aload_0
      19: getfield      #11                 // Field lock:Ljava/lang/Object;
      22: invokevirtual #66                 // Method java/lang/Object.notify:()V
      25: aload_2
      26: monitorexit
      27: goto          35
      30: astore_3
      31: aload_2
      32: monitorexit
      33: aload_3
      34: athrow
      35: return
    Exception table:
       from    to  target type
          18    27    30   any
          30    33    30   any

  public void handleReadyEvent();
    Code:
       0: return

  public void handleStartedEvent(prompto.debug.IWorker);
    Code:
       0: return

  public void handleSuspendedEvent(prompto.debug.IWorker, prompto.debug.SuspendReason);
    Code:
       0: return

  public void handleResumedEvent(prompto.debug.IWorker, prompto.debug.ResumeReason);
    Code:
       0: return

  public void handleCompletedEvent(prompto.debug.IWorker);
    Code:
       0: return

  public void handleTerminatedEvent();
    Code:
       0: return

  private void lambda$callMainMethod$6(java.net.URL);
    Code:
       0: getstatic     #67                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: astore_2
       4: new           #68                 // class java/io/ByteArrayOutputStream
       7: dup
       8: invokespecial #69                 // Method java/io/ByteArrayOutputStream."<init>":()V
      11: astore_3
      12: new           #70                 // class java/io/PrintStream
      15: dup
      16: aload_3
      17: invokespecial #71                 // Method java/io/PrintStream."<init>":(Ljava/io/OutputStream;)V
      20: invokestatic  #72                 // Method java/lang/System.setOut:(Ljava/io/PrintStream;)V
      23: aload_1
      24: invokevirtual #73                 // Method java/net/URL.openStream:()Ljava/io/InputStream;
      27: astore        4
      29: aconst_null
      30: astore        5
      32: aload_0
      33: getfield      #8                  // Field response:Lprompto/utils/Instance;
      36: aload         4
      38: invokestatic  #74                 // Method prompto/utils/StreamUtils.readString:(Ljava/io/InputStream;)Ljava/lang/String;
      41: invokevirtual #75                 // Method prompto/utils/Instance.set:(Ljava/lang/Object;)V
      44: aload         4
      46: ifnull        131
      49: aload         5
      51: ifnull        74
      54: aload         4
      56: invokevirtual #76                 // Method java/io/InputStream.close:()V
      59: goto          131
      62: astore        6
      64: aload         5
      66: aload         6
      68: invokevirtual #78                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      71: goto          131
      74: aload         4
      76: invokevirtual #76                 // Method java/io/InputStream.close:()V
      79: goto          131
      82: astore        6
      84: aload         6
      86: astore        5
      88: aload         6
      90: athrow
      91: astore        7
      93: aload         4
      95: ifnull        128
      98: aload         5
     100: ifnull        123
     103: aload         4
     105: invokevirtual #76                 // Method java/io/InputStream.close:()V
     108: goto          128
     111: astore        8
     113: aload         5
     115: aload         8
     117: invokevirtual #78                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     120: goto          128
     123: aload         4
     125: invokevirtual #76                 // Method java/io/InputStream.close:()V
     128: aload         7
     130: athrow
     131: aload_0
     132: getfield      #7                  // Field output:Lprompto/utils/Instance;
     135: aload_3
     136: invokevirtual #79                 // Method java/io/ByteArrayOutputStream.toString:()Ljava/lang/String;
     139: invokevirtual #75                 // Method prompto/utils/Instance.set:(Ljava/lang/Object;)V
     142: aload_2
     143: invokestatic  #72                 // Method java/lang/System.setOut:(Ljava/io/PrintStream;)V
     146: goto          201
     149: astore        4
     151: aload_0
     152: getfield      #8                  // Field response:Lprompto/utils/Instance;
     155: aload         4
     157: invokevirtual #81                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     160: invokevirtual #75                 // Method prompto/utils/Instance.set:(Ljava/lang/Object;)V
     163: aload_0
     164: getfield      #7                  // Field output:Lprompto/utils/Instance;
     167: aload_3
     168: invokevirtual #79                 // Method java/io/ByteArrayOutputStream.toString:()Ljava/lang/String;
     171: invokevirtual #75                 // Method prompto/utils/Instance.set:(Ljava/lang/Object;)V
     174: aload_2
     175: invokestatic  #72                 // Method java/lang/System.setOut:(Ljava/io/PrintStream;)V
     178: goto          201
     181: astore        9
     183: aload_0
     184: getfield      #7                  // Field output:Lprompto/utils/Instance;
     187: aload_3
     188: invokevirtual #79                 // Method java/io/ByteArrayOutputStream.toString:()Ljava/lang/String;
     191: invokevirtual #75                 // Method prompto/utils/Instance.set:(Ljava/lang/Object;)V
     194: aload_2
     195: invokestatic  #72                 // Method java/lang/System.setOut:(Ljava/io/PrintStream;)V
     198: aload         9
     200: athrow
     201: aload_0
     202: getfield      #11                 // Field lock:Ljava/lang/Object;
     205: dup
     206: astore        4
     208: monitorenter
     209: aload_0
     210: getfield      #11                 // Field lock:Ljava/lang/Object;
     213: invokevirtual #66                 // Method java/lang/Object.notify:()V
     216: aload         4
     218: monitorexit
     219: goto          230
     222: astore        10
     224: aload         4
     226: monitorexit
     227: aload         10
     229: athrow
     230: return
    Exception table:
       from    to  target type
          54    59    62   Class java/lang/Throwable
          32    44    82   Class java/lang/Throwable
          32    44    91   any
         103   108   111   Class java/lang/Throwable
          82    93    91   any
          23   131   149   Class java/lang/Exception
          23   131   181   any
         149   163   181   any
         181   183   181   any
         209   219   222   any
         222   227   222   any

  private java.lang.Boolean lambda$start$5();
    Code:
       0: aload_0
       1: getfield      #4                  // Field server:Lprompto/debug/TestHttpDebugger$DebuggingServer;
       4: invokevirtual #82                 // Method prompto/debug/TestHttpDebugger$DebuggingServer.isAlive:()Z
       7: invokestatic  #83                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      10: areturn
}
