

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running Sparkling Water on Kerberized Hadoop Cluster &mdash; H2O Sparkling Water 3.36.1.4-1-3.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using SSL to secure H2O Flow UI" href="secured_flow.html" />
    <link rel="prev" title="Enabling Kerberos Authentication" href="kerberos_auth.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.36.1.4-1-3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About Sparkling Water</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typical_use_case.html">Typical Use Case</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Sparkling Water Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install_and_start.html">Installing and Starting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ml/ml.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/metrics.html">Metric Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_details/model_details.html">Model Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parameters/parameters.html">Algorithm Parameters</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">How to…</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="run_sparkling_water.html">Running Sparkling Water</a></li>
<li class="toctree-l2"><a class="reference internal" href="change_default_port.html">Changing the Default Port</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive_support.html">Hive Support in Sparkling Water</a></li>
<li class="toctree-l2"><a class="reference internal" href="logs.html">Sparkling Water Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="ssl.html">Enabling SSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="ldap.html">Enabling LDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="kerberos_auth.html">Enabling Kerberos Authentication</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Running Sparkling Water on Kerberized Hadoop Cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#internal-backend">Internal Backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="#external-backend">External Backend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="secured_flow.html">Using SSL to secure H2O Flow UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="spark_h2o_conversions.html">Spark Frame &lt;–&gt; H2O Frame Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="h2oframe_as_data_source.html">H2O Frame as Spark’s Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="import_export_s3.html">Import &amp; Export H2O Frames from/to S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="use_as_spark_package.html">Use Sparkling Water via Spark Packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devel/devel.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysparkling.html">PySparkling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rsparkling.html">RSparkling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">H2O Sparkling Water</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="tutorials.html">How to…</a> &raquo;</li>
        
      <li>Running Sparkling Water on Kerberized Hadoop Cluster</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorials/kerberized_cluster.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-sparkling-water-on-kerberized-hadoop-cluster">
<h1>Running Sparkling Water on Kerberized Hadoop Cluster<a class="headerlink" href="#running-sparkling-water-on-kerberized-hadoop-cluster" title="Permalink to this headline">¶</a></h1>
<p>Sparkling Water can run on Kerberized Hadoop cluster and also supports Kerberos authentification for clients and Flow access.
This tutorial shows how to configure Sparkling Water to run on kerberized Hadoop cluster.
If you are also interested in using Kerberos authentification, please read <a class="reference internal" href="kerberos_auth.html#kerberos-auth"><span class="std std-ref">Enabling Kerberos Authentication</span></a>.</p>
<p>Sparkling Water supports the Kerberized cluster in both internal and external backend.</p>
<div class="section" id="internal-backend">
<h2>Internal Backend<a class="headerlink" href="#internal-backend" title="Permalink to this headline">¶</a></h2>
<p>To make Sparkling Water aware of the Kerberized cluster, you can call:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>bin/sparkling-shell --conf <span class="s2">&quot;spark.yarn.principal=PRINCIPAL&quot;</span> --conf <span class="s2">&quot;spark.yarn.keytab=/path/to/keytab&quot;</span>
</pre></div>
</div>
<p>or you can create the Kerberos ticket in beforehand using <code class="docutils literal notranslate"><span class="pre">kinit</span></code> and call just</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./bin/sparkling-shell
</pre></div>
</div>
<p>In this case, Sparking Water will use the created ticket and we don’t need to pass the configuration details.</p>
</div>
<div class="section" id="external-backend">
<h2>External Backend<a class="headerlink" href="#external-backend" title="Permalink to this headline">¶</a></h2>
<p>In External Backend, we are also starting the H2O cluster on YARN and we need to make sure it is secured as well.</p>
<p>You can start Sparkling Water as:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>bin/sparkling-shell --conf <span class="s2">&quot;spark.yarn.principal=PRINCIPAL&quot;</span> --conf <span class="s2">&quot;spark.yarn.keytab=/path/to/keytab&quot;</span>
</pre></div>
</div>
<p>In this case, the value of <code class="docutils literal notranslate"><span class="pre">spark.yarn.principal</span></code> and <code class="docutils literal notranslate"><span class="pre">spark.yarn.keytab</span></code> properties will be also used to set
<code class="docutils literal notranslate"><span class="pre">spark.ext.h2o.external.kerberos.principal</span></code> and <code class="docutils literal notranslate"><span class="pre">spark.ext.h2o.external.kerberos.keytab</span></code> correspondingly. These options
are used to set up Kerberos on H2O external cluster via Sparkling Water.</p>
<p>You can also set the <code class="docutils literal notranslate"><span class="pre">spark.ext.h2o.external.kerberos.principal</span></code> and <code class="docutils literal notranslate"><span class="pre">spark.ext.h2o.external.kerberos.keytab</span></code>
options directly.</p>
<p>The simplest option you can also start Sparkling Water is:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./bin/sparkling-shell
</pre></div>
</div>
<p>In this case, we assume that the ticket has been created using <code class="docutils literal notranslate"><span class="pre">kinit</span></code> and it will be used for both Spark and external
H2O cluster.</p>
<p>The same configuration is valid also for PySparkling and RSparkling.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="secured_flow.html" class="btn btn-neutral float-right" title="Using SSL to secure H2O Flow UI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kerberos_auth.html" class="btn btn-neutral float-left" title="Enabling Kerberos Authentication" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2020 H2O.ai
      <span class="lastupdated">
        Last updated on Aug 04, 2022.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>