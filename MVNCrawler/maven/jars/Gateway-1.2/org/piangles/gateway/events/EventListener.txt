Compiled from "EventListener.java"
public final class org.piangles.gateway.events.EventListener implements java.lang.Runnable {
  private static final int DEFAULT_WAIT_TIME;

  private static final int MAX_ERROR_LIMIT;

  private org.piangles.backbone.services.logging.LoggingService logger;

  private org.piangles.gateway.client.ClientDetails clientDetails;

  private org.apache.kafka.clients.consumer.KafkaConsumer<java.lang.String, java.lang.String> consumer;

  private org.piangles.gateway.events.EventDispatcher eventDispatcher;

  private int errorCount;

  private final java.util.concurrent.atomic.AtomicBoolean stopRequested;

  public org.piangles.gateway.events.EventListener(org.piangles.gateway.client.ClientDetails, org.apache.kafka.clients.consumer.KafkaConsumer<java.lang.String, java.lang.String>, org.piangles.gateway.events.EventDispatcher);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #2                  // Method org/piangles/backbone/services/Locator.getInstance:()Lorg/piangles/backbone/services/Locator;
       8: invokevirtual #3                  // Method org/piangles/backbone/services/Locator.getLoggingService:()Lorg/piangles/backbone/services/logging/LoggingService;
      11: putfield      #4                  // Field logger:Lorg/piangles/backbone/services/logging/LoggingService;
      14: aload_0
      15: aconst_null
      16: putfield      #5                  // Field clientDetails:Lorg/piangles/gateway/client/ClientDetails;
      19: aload_0
      20: aconst_null
      21: putfield      #6                  // Field consumer:Lorg/apache/kafka/clients/consumer/KafkaConsumer;
      24: aload_0
      25: aconst_null
      26: putfield      #7                  // Field eventDispatcher:Lorg/piangles/gateway/events/EventDispatcher;
      29: aload_0
      30: iconst_0
      31: putfield      #8                  // Field errorCount:I
      34: aload_0
      35: new           #9                  // class java/util/concurrent/atomic/AtomicBoolean
      38: dup
      39: iconst_0
      40: invokespecial #10                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      43: putfield      #11                 // Field stopRequested:Ljava/util/concurrent/atomic/AtomicBoolean;
      46: aload_0
      47: aload_1
      48: putfield      #5                  // Field clientDetails:Lorg/piangles/gateway/client/ClientDetails;
      51: aload_0
      52: aload_2
      53: putfield      #6                  // Field consumer:Lorg/apache/kafka/clients/consumer/KafkaConsumer;
      56: aload_0
      57: aload_3
      58: putfield      #7                  // Field eventDispatcher:Lorg/piangles/gateway/events/EventDispatcher;
      61: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #4                  // Field logger:Lorg/piangles/backbone/services/logging/LoggingService;
       4: new           #12                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #14                 // String Started listening for events for:
      13: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_0
      17: getfield      #5                  // Field clientDetails:Lorg/piangles/gateway/client/ClientDetails;
      20: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      23: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: invokeinterface #18,  2           // InterfaceMethod org/piangles/backbone/services/logging/LoggingService.info:(Ljava/lang/Object;)V
      31: aload_0
      32: getfield      #11                 // Field stopRequested:Ljava/util/concurrent/atomic/AtomicBoolean;
      35: invokevirtual #19                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      38: ifne          225
      41: aload_0
      42: getfield      #6                  // Field consumer:Lorg/apache/kafka/clients/consumer/KafkaConsumer;
      45: ldc2_w        #21                 // long 100l
      48: invokestatic  #23                 // Method java/time/Duration.ofMillis:(J)Ljava/time/Duration;
      51: invokevirtual #24                 // Method org/apache/kafka/clients/consumer/KafkaConsumer.poll:(Ljava/time/Duration;)Lorg/apache/kafka/clients/consumer/ConsumerRecords;
      54: astore_1
      55: new           #25                 // class java/util/HashMap
      58: dup
      59: invokespecial #26                 // Method java/util/HashMap."<init>":()V
      62: astore_2
      63: aload_1
      64: invokevirtual #27                 // Method org/apache/kafka/clients/consumer/ConsumerRecords.iterator:()Ljava/util/Iterator;
      67: astore_3
      68: aload_3
      69: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      74: ifeq          143
      77: aload_3
      78: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      83: checkcast     #30                 // class org/apache/kafka/clients/consumer/ConsumerRecord
      86: astore        4
      88: invokestatic  #31                 // Method org/piangles/core/util/coding/JSON.getDecoder:()Lorg/piangles/core/util/coding/Decoder;
      91: aload         4
      93: invokevirtual #32                 // Method org/apache/kafka/clients/consumer/ConsumerRecord.value:()Ljava/lang/Object;
      96: checkcast     #33                 // class java/lang/String
      99: invokevirtual #34                 // Method java/lang/String.getBytes:()[B
     102: ldc           #35                 // class org/piangles/backbone/services/msg/Event
     104: invokeinterface #36,  3           // InterfaceMethod org/piangles/core/util/coding/Decoder.decode:([BLjava/lang/Class;)Ljava/lang/Object;
     109: checkcast     #35                 // class org/piangles/backbone/services/msg/Event
     112: astore        5
     114: aload_2
     115: aload         5
     117: new           #37                 // class org/piangles/backbone/services/msg/Topic
     120: dup
     121: aload         4
     123: invokevirtual #38                 // Method org/apache/kafka/clients/consumer/ConsumerRecord.topic:()Ljava/lang/String;
     126: aload         4
     128: invokevirtual #39                 // Method org/apache/kafka/clients/consumer/ConsumerRecord.partition:()I
     131: invokespecial #40                 // Method org/piangles/backbone/services/msg/Topic."<init>":(Ljava/lang/String;I)V
     134: invokeinterface #41,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     139: pop
     140: goto          68
     143: aload_0
     144: getfield      #7                  // Field eventDispatcher:Lorg/piangles/gateway/events/EventDispatcher;
     147: aload_2
     148: invokeinterface #42,  2           // InterfaceMethod org/piangles/gateway/events/EventDispatcher.dispatchAllEvents:(Ljava/util/Map;)V
     153: goto          31
     156: astore_1
     157: aload_0
     158: getfield      #4                  // Field logger:Lorg/piangles/backbone/services/logging/LoggingService;
     161: ldc           #44                 // String Exception while polling / composingEvent:
     163: aload_1
     164: invokeinterface #45,  3           // InterfaceMethod org/piangles/backbone/services/logging/LoggingService.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     169: aload_0
     170: aload_0
     171: getfield      #8                  // Field errorCount:I
     174: iconst_1
     175: iadd
     176: putfield      #8                  // Field errorCount:I
     179: aload_0
     180: getfield      #8                  // Field errorCount:I
     183: bipush        10
     185: if_icmple     222
     188: aload_0
     189: getfield      #4                  // Field logger:Lorg/piangles/backbone/services/logging/LoggingService;
     192: new           #12                 // class java/lang/StringBuilder
     195: dup
     196: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
     199: ldc           #46                 // String Event listener crossed the maximum limit of error :
     201: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     204: aload_0
     205: getfield      #5                  // Field clientDetails:Lorg/piangles/gateway/client/ClientDetails;
     208: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     211: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     214: invokeinterface #47,  2           // InterfaceMethod org/piangles/backbone/services/logging/LoggingService.fatal:(Ljava/lang/Object;)V
     219: goto          225
     222: goto          31
     225: aload_0
     226: getfield      #4                  // Field logger:Lorg/piangles/backbone/services/logging/LoggingService;
     229: new           #12                 // class java/lang/StringBuilder
     232: dup
     233: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
     236: ldc           #48                 // String Stopped listening for events for:
     238: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     241: aload_0
     242: getfield      #5                  // Field clientDetails:Lorg/piangles/gateway/client/ClientDetails;
     245: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     248: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     251: invokeinterface #18,  2           // InterfaceMethod org/piangles/backbone/services/logging/LoggingService.info:(Ljava/lang/Object;)V
     256: return
    Exception table:
       from    to  target type
          41   153   156   Class java/lang/Exception

  public void markForStopping();
    Code:
       0: aload_0
       1: getfield      #4                  // Field logger:Lorg/piangles/backbone/services/logging/LoggingService;
       4: new           #12                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #49                 // String Stop listening for events requested for:
      13: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_0
      17: getfield      #5                  // Field clientDetails:Lorg/piangles/gateway/client/ClientDetails;
      20: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      23: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: invokeinterface #18,  2           // InterfaceMethod org/piangles/backbone/services/logging/LoggingService.info:(Ljava/lang/Object;)V
      31: aload_0
      32: getfield      #11                 // Field stopRequested:Ljava/util/concurrent/atomic/AtomicBoolean;
      35: iconst_1
      36: invokevirtual #50                 // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      39: return
}
