Compiled from "LargeCollectionPageReader.java"
public class net.n2oapp.framework.export.streaming.LargeCollectionPageReader implements net.n2oapp.data.streaming.reader.Reader<net.n2oapp.criteria.dataset.DataSet> {
  private net.n2oapp.framework.api.ui.QueryRequestInfo baseRequestInfo;

  private java.util.LinkedList<net.n2oapp.criteria.dataset.DataSet> buffer;

  private int bufferSize;

  private int page;

  private java.util.function.Function<net.n2oapp.framework.api.ui.QueryRequestInfo, java.util.LinkedList<net.n2oapp.criteria.dataset.DataSet>> executor;

  private long maxSize;

  public net.n2oapp.framework.export.streaming.LargeCollectionPageReader(net.n2oapp.framework.api.ui.QueryRequestInfo, java.util.function.Function<net.n2oapp.framework.api.ui.QueryRequestInfo, java.util.LinkedList<net.n2oapp.criteria.dataset.DataSet>>, int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iload_3
       6: putfield      #2                  // Field bufferSize:I
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field baseRequestInfo:Lnet/n2oapp/framework/api/ui/QueryRequestInfo;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field executor:Ljava/util/function/Function;
      19: aload_0
      20: iconst_1
      21: putfield      #5                  // Field page:I
      24: aload_0
      25: ldc           #6                  // String n2o.ui.export.maxCount
      27: invokestatic  #7                  // Method net/n2oapp/properties/StaticProperties.getInt:(Ljava/lang/String;)I
      30: i2l
      31: putfield      #8                  // Field maxSize:J
      34: return

  public boolean hasNext();
    Code:
       0: aload_0
       1: invokespecial #9                  // Method bufferIsNotEmpty:()Z
       4: istore_1
       5: iload_1
       6: ifne          18
       9: aload_0
      10: invokespecial #10                 // Method tryFillBuffer:()V
      13: aload_0
      14: invokespecial #9                  // Method bufferIsNotEmpty:()Z
      17: istore_1
      18: iload_1
      19: ireturn

  private boolean bufferIsNotEmpty();
    Code:
       0: aload_0
       1: getfield      #11                 // Field buffer:Ljava/util/LinkedList;
       4: ifnull        21
       7: aload_0
       8: getfield      #11                 // Field buffer:Ljava/util/LinkedList;
      11: invokevirtual #12                 // Method java/util/LinkedList.isEmpty:()Z
      14: ifne          21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ireturn

  public net.n2oapp.criteria.dataset.DataSet next();
    Code:
       0: aload_0
       1: invokevirtual #13                 // Method hasNext:()Z
       4: ifeq          18
       7: aload_0
       8: getfield      #11                 // Field buffer:Ljava/util/LinkedList;
      11: invokestatic  #14                 // Method getAndRemoveFirst:(Ljava/util/LinkedList;)Ljava/lang/Object;
      14: checkcast     #15                 // class net/n2oapp/criteria/dataset/DataSet
      17: areturn
      18: new           #16                 // class java/util/NoSuchElementException
      21: dup
      22: invokespecial #17                 // Method java/util/NoSuchElementException."<init>":()V
      25: athrow

  public void close();
    Code:
       0: return

  private static <T> T getAndRemoveFirst(java.util.LinkedList<T>);
    Code:
       0: aload_0
       1: ifnull        11
       4: aload_0
       5: invokevirtual #12                 // Method java/util/LinkedList.isEmpty:()Z
       8: ifeq          13
      11: aconst_null
      12: areturn
      13: aload_0
      14: invokevirtual #18                 // Method java/util/LinkedList.getFirst:()Ljava/lang/Object;
      17: astore_1
      18: aload_0
      19: invokevirtual #19                 // Method java/util/LinkedList.removeFirst:()Ljava/lang/Object;
      22: pop
      23: aload_1
      24: areturn

  private void tryFillBuffer();
    Code:
       0: aload_0
       1: getfield      #3                  // Field baseRequestInfo:Lnet/n2oapp/framework/api/ui/QueryRequestInfo;
       4: invokevirtual #20                 // Method net/n2oapp/framework/api/ui/QueryRequestInfo.getCriteria:()Lnet/n2oapp/framework/api/criteria/N2oPreparedCriteria;
       7: invokevirtual #21                 // Method net/n2oapp/framework/api/criteria/N2oPreparedCriteria.getSize:()I
      10: iconst_m1
      11: if_icmpeq     38
      14: aload_0
      15: getfield      #5                  // Field page:I
      18: iconst_1
      19: isub
      20: aload_0
      21: getfield      #2                  // Field bufferSize:I
      24: imul
      25: aload_0
      26: getfield      #3                  // Field baseRequestInfo:Lnet/n2oapp/framework/api/ui/QueryRequestInfo;
      29: invokevirtual #20                 // Method net/n2oapp/framework/api/ui/QueryRequestInfo.getCriteria:()Lnet/n2oapp/framework/api/criteria/N2oPreparedCriteria;
      32: invokevirtual #21                 // Method net/n2oapp/framework/api/criteria/N2oPreparedCriteria.getSize:()I
      35: if_icmpge     58
      38: aload_0
      39: getfield      #5                  // Field page:I
      42: iconst_1
      43: isub
      44: aload_0
      45: getfield      #2                  // Field bufferSize:I
      48: imul
      49: i2l
      50: aload_0
      51: getfield      #8                  // Field maxSize:J
      54: lcmp
      55: iflt          59
      58: return
      59: aload_0
      60: getfield      #3                  // Field baseRequestInfo:Lnet/n2oapp/framework/api/ui/QueryRequestInfo;
      63: invokevirtual #22                 // Method net/n2oapp/framework/api/ui/QueryRequestInfo.copy:()Lnet/n2oapp/framework/api/ui/QueryRequestInfo;
      66: astore_1
      67: new           #23                 // class net/n2oapp/framework/api/criteria/N2oPreparedCriteria
      70: dup
      71: aload_0
      72: getfield      #3                  // Field baseRequestInfo:Lnet/n2oapp/framework/api/ui/QueryRequestInfo;
      75: invokevirtual #20                 // Method net/n2oapp/framework/api/ui/QueryRequestInfo.getCriteria:()Lnet/n2oapp/framework/api/criteria/N2oPreparedCriteria;
      78: invokespecial #24                 // Method net/n2oapp/framework/api/criteria/N2oPreparedCriteria."<init>":(Lnet/n2oapp/framework/api/criteria/N2oPreparedCriteria;)V
      81: astore_2
      82: aload_2
      83: aload_0
      84: getfield      #5                  // Field page:I
      87: invokevirtual #25                 // Method net/n2oapp/framework/api/criteria/N2oPreparedCriteria.setPage:(I)V
      90: aload_2
      91: aload_0
      92: getfield      #2                  // Field bufferSize:I
      95: invokevirtual #26                 // Method net/n2oapp/framework/api/criteria/N2oPreparedCriteria.setSize:(I)V
      98: aload_1
      99: aload_2
     100: invokevirtual #27                 // Method net/n2oapp/framework/api/ui/QueryRequestInfo.setCriteria:(Lnet/n2oapp/framework/api/criteria/N2oPreparedCriteria;)V
     103: aload_0
     104: dup
     105: getfield      #5                  // Field page:I
     108: iconst_1
     109: iadd
     110: putfield      #5                  // Field page:I
     113: aload_0
     114: aload_0
     115: getfield      #4                  // Field executor:Ljava/util/function/Function;
     118: aload_1
     119: invokeinterface #28,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
     124: checkcast     #29                 // class java/util/LinkedList
     127: putfield      #11                 // Field buffer:Ljava/util/LinkedList;
     130: return

  public java.lang.Object next();
    Code:
       0: aload_0
       1: invokevirtual #30                 // Method next:()Lnet/n2oapp/criteria/dataset/DataSet;
       4: areturn
}
