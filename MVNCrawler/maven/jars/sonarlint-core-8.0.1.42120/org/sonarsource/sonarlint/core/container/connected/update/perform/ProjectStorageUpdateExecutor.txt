Compiled from "ProjectStorageUpdateExecutor.java"
public class org.sonarsource.sonarlint.core.container.connected.update.perform.ProjectStorageUpdateExecutor {
  private final org.sonarsource.sonarlint.core.container.connected.update.ProjectConfigurationDownloader projectConfigurationDownloader;

  private final org.sonarsource.sonarlint.core.container.connected.update.ProjectFileListDownloader projectFileListDownloader;

  private final org.sonarsource.sonarlint.core.container.connected.update.perform.ServerIssueUpdater serverIssueUpdater;

  private final org.sonarsource.sonarlint.core.container.storage.ProjectStoragePaths projectStoragePaths;

  public org.sonarsource.sonarlint.core.container.connected.update.perform.ProjectStorageUpdateExecutor(org.sonarsource.sonarlint.core.container.storage.ProjectStoragePaths);
    Code:
       0: aload_0
       1: aload_1
       2: new           #38                 // class org/sonarsource/sonarlint/core/container/connected/update/ProjectConfigurationDownloader
       5: dup
       6: new           #40                 // class org/sonarsource/sonarlint/core/container/connected/update/ModuleHierarchyDownloader
       9: dup
      10: invokespecial #43                 // Method org/sonarsource/sonarlint/core/container/connected/update/ModuleHierarchyDownloader."<init>":()V
      13: invokespecial #46                 // Method org/sonarsource/sonarlint/core/container/connected/update/ProjectConfigurationDownloader."<init>":(Lorg/sonarsource/sonarlint/core/container/connected/update/ModuleHierarchyDownloader;)V
      16: new           #48                 // class org/sonarsource/sonarlint/core/container/connected/update/ProjectFileListDownloader
      19: dup
      20: invokespecial #49                 // Method org/sonarsource/sonarlint/core/container/connected/update/ProjectFileListDownloader."<init>":()V
      23: new           #51                 // class org/sonarsource/sonarlint/core/container/connected/update/perform/ServerIssueUpdater
      26: dup
      27: aload_1
      28: new           #53                 // class org/sonarsource/sonarlint/core/container/connected/update/IssueDownloader
      31: dup
      32: new           #55                 // class org/sonarsource/sonarlint/core/container/connected/update/IssueStorePaths
      35: dup
      36: invokespecial #56                 // Method org/sonarsource/sonarlint/core/container/connected/update/IssueStorePaths."<init>":()V
      39: invokespecial #59                 // Method org/sonarsource/sonarlint/core/container/connected/update/IssueDownloader."<init>":(Lorg/sonarsource/sonarlint/core/container/connected/update/IssueStorePaths;)V
      42: new           #61                 // class org/sonarsource/sonarlint/core/container/connected/IssueStoreFactory
      45: dup
      46: invokespecial #62                 // Method org/sonarsource/sonarlint/core/container/connected/IssueStoreFactory."<init>":()V
      49: invokespecial #65                 // Method org/sonarsource/sonarlint/core/container/connected/update/perform/ServerIssueUpdater."<init>":(Lorg/sonarsource/sonarlint/core/container/storage/ProjectStoragePaths;Lorg/sonarsource/sonarlint/core/container/connected/update/IssueDownloader;Lorg/sonarsource/sonarlint/core/container/connected/IssueStoreFactory;)V
      52: invokespecial #68                 // Method "<init>":(Lorg/sonarsource/sonarlint/core/container/storage/ProjectStoragePaths;Lorg/sonarsource/sonarlint/core/container/connected/update/ProjectConfigurationDownloader;Lorg/sonarsource/sonarlint/core/container/connected/update/ProjectFileListDownloader;Lorg/sonarsource/sonarlint/core/container/connected/update/perform/ServerIssueUpdater;)V
      55: return

  org.sonarsource.sonarlint.core.container.connected.update.perform.ProjectStorageUpdateExecutor(org.sonarsource.sonarlint.core.container.storage.ProjectStoragePaths, org.sonarsource.sonarlint.core.container.connected.update.ProjectConfigurationDownloader, org.sonarsource.sonarlint.core.container.connected.update.ProjectFileListDownloader, org.sonarsource.sonarlint.core.container.connected.update.perform.ServerIssueUpdater);
    Code:
       0: aload_0
       1: invokespecial #71                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #73                 // Field projectStoragePaths:Lorg/sonarsource/sonarlint/core/container/storage/ProjectStoragePaths;
       9: aload_0
      10: aload_2
      11: putfield      #75                 // Field projectConfigurationDownloader:Lorg/sonarsource/sonarlint/core/container/connected/update/ProjectConfigurationDownloader;
      14: aload_0
      15: aload_3
      16: putfield      #77                 // Field projectFileListDownloader:Lorg/sonarsource/sonarlint/core/container/connected/update/ProjectFileListDownloader;
      19: aload_0
      20: aload         4
      22: putfield      #79                 // Field serverIssueUpdater:Lorg/sonarsource/sonarlint/core/container/connected/update/perform/ServerIssueUpdater;
      25: return

  public void update(org.sonarsource.sonarlint.core.serverapi.ServerApiHelper, java.lang.String, boolean, org.sonarsource.sonarlint.core.commons.progress.ProgressMonitor);
    Code:
       0: ldc           #85                 // String sonarlint-global-storage
       2: iconst_0
       3: anewarray     #87                 // class java/nio/file/attribute/FileAttribute
       6: invokestatic  #93                 // Method java/nio/file/Files.createTempDirectory:(Ljava/lang/String;[Ljava/nio/file/attribute/FileAttribute;)Ljava/nio/file/Path;
       9: astore        5
      11: goto          28
      14: astore        6
      16: new           #95                 // class java/lang/IllegalStateException
      19: dup
      20: ldc           #97                 // String Unable to create temp directory
      22: aload         6
      24: invokespecial #100                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      27: athrow
      28: aload_0
      29: aload_1
      30: aload_2
      31: aload         4
      33: iload_3
      34: invokedynamic #122,  0            // InvokeDynamic #0:accept:(Lorg/sonarsource/sonarlint/core/container/connected/update/perform/ProjectStorageUpdateExecutor;Lorg/sonarsource/sonarlint/core/serverapi/ServerApiHelper;Ljava/lang/String;Lorg/sonarsource/sonarlint/core/commons/progress/ProgressMonitor;Z)Ljava/util/function/Consumer;
      39: aload_0
      40: getfield      #73                 // Field projectStoragePaths:Lorg/sonarsource/sonarlint/core/container/storage/ProjectStoragePaths;
      43: aload_2
      44: invokevirtual #128                // Method org/sonarsource/sonarlint/core/container/storage/ProjectStoragePaths.getProjectStorageRoot:(Ljava/lang/String;)Ljava/nio/file/Path;
      47: aload         5
      49: invokestatic  #134                // Method org/sonarsource/sonarlint/core/client/api/util/FileUtils.replaceDir:(Ljava/util/function/Consumer;Ljava/nio/file/Path;Ljava/nio/file/Path;)V
      52: aload         5
      54: invokeinterface #138,  1          // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
      59: invokestatic  #144                // Method org/sonarsource/sonarlint/shaded/org/apache/commons/io/FileUtils.deleteQuietly:(Ljava/io/File;)Z
      62: pop
      63: goto          82
      66: astore        7
      68: aload         5
      70: invokeinterface #138,  1          // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
      75: invokestatic  #144                // Method org/sonarsource/sonarlint/shaded/org/apache/commons/io/FileUtils.deleteQuietly:(Ljava/io/File;)Z
      78: pop
      79: aload         7
      81: athrow
      82: return
    Exception table:
       from    to  target type
           0    11    14   Class java/io/IOException
          28    52    66   any
          66    68    66   any

  private org.sonarsource.sonarlint.core.proto.Sonarlint$ProjectConfiguration updateConfiguration(org.sonarsource.sonarlint.core.serverapi.ServerApiHelper, java.lang.String, java.nio.file.Path, org.sonarsource.sonarlint.core.commons.progress.ProgressMonitor);
    Code:
       0: aload_0
       1: getfield      #75                 // Field projectConfigurationDownloader:Lorg/sonarsource/sonarlint/core/container/connected/update/ProjectConfigurationDownloader;
       4: aload_1
       5: aload_2
       6: aload         4
       8: invokevirtual #164                // Method org/sonarsource/sonarlint/core/container/connected/update/ProjectConfigurationDownloader.fetch:(Lorg/sonarsource/sonarlint/core/serverapi/ServerApiHelper;Ljava/lang/String;Lorg/sonarsource/sonarlint/core/commons/progress/ProgressMonitor;)Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectConfiguration;
      11: astore        5
      13: aload         5
      15: aload_3
      16: ldc           #166                // String configuration.pb
      18: invokeinterface #169,  2          // InterfaceMethod java/nio/file/Path.resolve:(Ljava/lang/String;)Ljava/nio/file/Path;
      23: invokestatic  #175                // Method org/sonarsource/sonarlint/core/container/storage/ProtobufUtil.writeToFile:(Lcom/google/protobuf/Message;Ljava/nio/file/Path;)V
      26: aload         5
      28: areturn

  void updateComponents(org.sonarsource.sonarlint.core.serverapi.ServerApiHelper, java.lang.String, java.nio.file.Path, org.sonarsource.sonarlint.core.proto.Sonarlint$ProjectConfiguration, org.sonarsource.sonarlint.core.commons.progress.ProgressMonitor);
    Code:
       0: aload_0
       1: getfield      #77                 // Field projectFileListDownloader:Lorg/sonarsource/sonarlint/core/container/connected/update/ProjectFileListDownloader;
       4: aload_1
       5: aload_2
       6: aload         5
       8: invokevirtual #183                // Method org/sonarsource/sonarlint/core/container/connected/update/ProjectFileListDownloader.get:(Lorg/sonarsource/sonarlint/core/serverapi/ServerApiHelper;Ljava/lang/String;Lorg/sonarsource/sonarlint/core/commons/progress/ProgressMonitor;)Ljava/util/List;
      11: astore        6
      13: invokestatic  #187                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$ProjectComponents.newBuilder:()Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectComponents$Builder;
      16: astore        7
      18: aload         4
      20: invokevirtual #191                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$ProjectConfiguration.getModulePathByKeyMap:()Ljava/util/Map;
      23: astore        8
      25: aload         6
      27: invokeinterface #197,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      32: astore        9
      34: aload         9
      36: invokeinterface #211,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      41: ifeq          137
      44: aload         9
      46: invokeinterface #215,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      51: checkcast     #201                // class java/lang/String
      54: astore        10
      56: aload         10
      58: ldc           #217                // String :
      60: invokestatic  #223                // Method org/sonarsource/sonarlint/shaded/org/apache/commons/lang3/StringUtils.lastIndexOf:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)I
      63: istore        11
      65: aload         10
      67: iconst_0
      68: iload         11
      70: invokevirtual #227                // Method java/lang/String.substring:(II)Ljava/lang/String;
      73: astore        12
      75: aload         10
      77: iload         11
      79: iconst_1
      80: iadd
      81: invokevirtual #230                // Method java/lang/String.substring:(I)Ljava/lang/String;
      84: astore        13
      86: aload         8
      88: aload         12
      90: ldc           #232                // String
      92: invokeinterface #236,  3          // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      97: checkcast     #201                // class java/lang/String
     100: astore        14
     102: aload         14
     104: invokevirtual #239                // Method java/lang/String.isEmpty:()Z
     107: ifne          119
     110: aload         14
     112: invokedynamic #251,  0            // InvokeDynamic #1:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     117: astore        14
     119: aload         7
     121: aload         14
     123: aload         13
     125: invokedynamic #256,  0            // InvokeDynamic #2:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     130: invokevirtual #260                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$ProjectComponents$Builder.addComponent:(Ljava/lang/String;)Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectComponents$Builder;
     133: pop
     134: goto          34
     137: aload         7
     139: invokevirtual #264                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$ProjectComponents$Builder.build:()Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectComponents;
     142: aload_3
     143: ldc_w         #266                // String component_list.pb
     146: invokeinterface #169,  2          // InterfaceMethod java/nio/file/Path.resolve:(Ljava/lang/String;)Ljava/nio/file/Path;
     151: invokestatic  #175                // Method org/sonarsource/sonarlint/core/container/storage/ProtobufUtil.writeToFile:(Lcom/google/protobuf/Message;Ljava/nio/file/Path;)V
     154: return

  private void updateServerIssues(org.sonarsource.sonarlint.core.serverapi.ServerApiHelper, java.lang.String, java.nio.file.Path, org.sonarsource.sonarlint.core.proto.Sonarlint$ProjectConfiguration, boolean, org.sonarsource.sonarlint.core.commons.progress.ProgressMonitor);
    Code:
       0: aload_3
       1: ldc_w         #284                // String server_issues
       4: invokeinterface #169,  2          // InterfaceMethod java/nio/file/Path.resolve:(Ljava/lang/String;)Ljava/nio/file/Path;
       9: astore        7
      11: aload_0
      12: getfield      #79                 // Field serverIssueUpdater:Lorg/sonarsource/sonarlint/core/container/connected/update/perform/ServerIssueUpdater;
      15: aload_1
      16: aload_2
      17: aload         4
      19: aload         7
      21: iload         5
      23: aload         6
      25: invokevirtual #287                // Method org/sonarsource/sonarlint/core/container/connected/update/perform/ServerIssueUpdater.updateServerIssues:(Lorg/sonarsource/sonarlint/core/serverapi/ServerApiHelper;Ljava/lang/String;Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectConfiguration;Ljava/nio/file/Path;ZLorg/sonarsource/sonarlint/core/commons/progress/ProgressMonitor;)V
      28: return

  private static void updateStatus(java.nio.file.Path);
    Code:
       0: invokestatic  #292                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus.newBuilder:()Lorg/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder;
       3: ldc_w         #294                // String 3
       6: invokevirtual #298                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder.setStorageVersion:(Ljava/lang/String;)Lorg/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder;
       9: invokestatic  #304                // Method org/sonarsource/sonarlint/core/util/VersionUtils.getLibraryVersion:()Ljava/lang/String;
      12: invokevirtual #307                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder.setSonarlintCoreVersion:(Ljava/lang/String;)Lorg/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder;
      15: new           #309                // class java/util/Date
      18: dup
      19: invokespecial #310                // Method java/util/Date."<init>":()V
      22: invokevirtual #314                // Method java/util/Date.getTime:()J
      25: invokevirtual #318                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder.setUpdateTimestamp:(J)Lorg/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder;
      28: invokevirtual #321                // Method org/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus$Builder.build:()Lorg/sonarsource/sonarlint/core/proto/Sonarlint$StorageStatus;
      31: astore_1
      32: aload_1
      33: aload_0
      34: ldc_w         #323                // String storage_status.pb
      37: invokeinterface #169,  2          // InterfaceMethod java/nio/file/Path.resolve:(Ljava/lang/String;)Ljava/nio/file/Path;
      42: invokestatic  #175                // Method org/sonarsource/sonarlint/core/container/storage/ProtobufUtil.writeToFile:(Lcom/google/protobuf/Message;Ljava/nio/file/Path;)V
      45: return

  private void lambda$update$0(org.sonarsource.sonarlint.core.serverapi.ServerApiHelper, java.lang.String, org.sonarsource.sonarlint.core.commons.progress.ProgressMonitor, boolean, java.nio.file.Path);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload         5
       5: aload_3
       6: invokevirtual #327                // Method updateConfiguration:(Lorg/sonarsource/sonarlint/core/serverapi/ServerApiHelper;Ljava/lang/String;Ljava/nio/file/Path;Lorg/sonarsource/sonarlint/core/commons/progress/ProgressMonitor;)Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectConfiguration;
       9: astore        6
      11: aload_0
      12: aload_1
      13: aload_2
      14: aload         5
      16: aload         6
      18: iload         4
      20: aload_3
      21: invokevirtual #329                // Method updateServerIssues:(Lorg/sonarsource/sonarlint/core/serverapi/ServerApiHelper;Ljava/lang/String;Ljava/nio/file/Path;Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectConfiguration;ZLorg/sonarsource/sonarlint/core/commons/progress/ProgressMonitor;)V
      24: aload_0
      25: aload_1
      26: aload_2
      27: aload         5
      29: aload         6
      31: aload_3
      32: invokevirtual #331                // Method updateComponents:(Lorg/sonarsource/sonarlint/core/serverapi/ServerApiHelper;Ljava/lang/String;Ljava/nio/file/Path;Lorg/sonarsource/sonarlint/core/proto/Sonarlint$ProjectConfiguration;Lorg/sonarsource/sonarlint/core/commons/progress/ProgressMonitor;)V
      35: aload         5
      37: invokestatic  #333                // Method updateStatus:(Ljava/nio/file/Path;)V
      40: return
}
