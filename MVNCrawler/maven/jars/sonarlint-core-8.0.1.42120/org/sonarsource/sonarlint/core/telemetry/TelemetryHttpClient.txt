Compiled from "TelemetryHttpClient.java"
public class org.sonarsource.sonarlint.core.telemetry.TelemetryHttpClient {
  public static final java.lang.String TELEMETRY_ENDPOINT;

  private static final org.sonarsource.sonarlint.core.commons.log.SonarLintLogger LOG;

  private final java.lang.String product;

  private final java.lang.String version;

  private final java.lang.String ideVersion;

  private final org.sonarsource.sonarlint.core.commons.http.HttpClient client;

  private final java.lang.String endpoint;

  public org.sonarsource.sonarlint.core.telemetry.TelemetryHttpClient(java.lang.String, java.lang.String, java.lang.String, org.sonarsource.sonarlint.core.commons.http.HttpClient);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: ldc           #14                 // String https://telemetry.sonarsource.com/sonarlint
       8: invokespecial #27                 // Method "<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lorg/sonarsource/sonarlint/core/commons/http/HttpClient;Ljava/lang/String;)V
      11: return

  org.sonarsource.sonarlint.core.telemetry.TelemetryHttpClient(java.lang.String, java.lang.String, java.lang.String, org.sonarsource.sonarlint.core.commons.http.HttpClient, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #32                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #34                 // Field product:Ljava/lang/String;
       9: aload_0
      10: aload_2
      11: putfield      #36                 // Field version:Ljava/lang/String;
      14: aload_0
      15: aload_3
      16: putfield      #38                 // Field ideVersion:Ljava/lang/String;
      19: aload_0
      20: aload         4
      22: putfield      #40                 // Field client:Lorg/sonarsource/sonarlint/core/commons/http/HttpClient;
      25: aload_0
      26: aload         5
      28: putfield      #42                 // Field endpoint:Ljava/lang/String;
      31: return

  void upload(org.sonarsource.sonarlint.core.telemetry.TelemetryLocalStorage, org.sonarsource.sonarlint.core.telemetry.TelemetryClientAttributesProvider);
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: aload_2
       4: invokevirtual #50                 // Method createPayload:(Lorg/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage;Lorg/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider;)Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload;
       7: invokevirtual #54                 // Method sendPost:(Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload;)V
      10: goto          29
      13: astore_3
      14: invokestatic  #60                 // Method org/sonarsource/sonarlint/core/telemetry/InternalDebug.isEnabled:()Z
      17: ifeq          29
      20: getstatic     #62                 // Field LOG:Lorg/sonarsource/sonarlint/core/commons/log/SonarLintLogger;
      23: ldc           #64                 // String Failed to upload telemetry data
      25: aload_3
      26: invokevirtual #70                 // Method org/sonarsource/sonarlint/core/commons/log/SonarLintLogger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      29: return
    Exception table:
       from    to  target type
           0    10    13   Class java/lang/Throwable

  void optOut(org.sonarsource.sonarlint.core.telemetry.TelemetryLocalStorage, org.sonarsource.sonarlint.core.telemetry.TelemetryClientAttributesProvider);
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: aload_2
       4: invokevirtual #50                 // Method createPayload:(Lorg/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage;Lorg/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider;)Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload;
       7: invokevirtual #80                 // Method sendDelete:(Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload;)V
      10: goto          29
      13: astore_3
      14: invokestatic  #60                 // Method org/sonarsource/sonarlint/core/telemetry/InternalDebug.isEnabled:()Z
      17: ifeq          29
      20: getstatic     #62                 // Field LOG:Lorg/sonarsource/sonarlint/core/commons/log/SonarLintLogger;
      23: ldc           #82                 // String Failed to upload telemetry opt-out
      25: aload_3
      26: invokevirtual #70                 // Method org/sonarsource/sonarlint/core/commons/log/SonarLintLogger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      29: return
    Exception table:
       from    to  target type
           0    10    13   Class java/lang/Throwable

  private org.sonarsource.sonarlint.core.telemetry.payload.TelemetryPayload createPayload(org.sonarsource.sonarlint.core.telemetry.TelemetryLocalStorage, org.sonarsource.sonarlint.core.telemetry.TelemetryClientAttributesProvider);
    Code:
       0: invokestatic  #88                 // Method java/time/OffsetDateTime.now:()Ljava/time/OffsetDateTime;
       3: astore_3
       4: aload_1
       5: invokevirtual #93                 // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.installTime:()Ljava/time/OffsetDateTime;
       8: aload_3
       9: getstatic     #99                 // Field java/time/temporal/ChronoUnit.DAYS:Ljava/time/temporal/ChronoUnit;
      12: invokevirtual #103                // Method java/time/OffsetDateTime.until:(Ljava/time/temporal/Temporal;Ljava/time/temporal/TemporalUnit;)J
      15: lstore        4
      17: aload_1
      18: invokevirtual #107                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.analyzers:()Ljava/util/Map;
      21: invokestatic  #113                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryUtils.toPayload:(Ljava/util/Map;)[Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryAnalyzerPerformancePayload;
      24: astore        6
      26: aload_2
      27: invokeinterface #118,  1          // InterfaceMethod org/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider.devNotificationsDisabled:()Z
      32: aload_1
      33: invokevirtual #121                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.notifications:()Ljava/util/Map;
      36: invokestatic  #124                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryUtils.toPayload:(ZLjava/util/Map;)Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryNotificationsPayload;
      39: astore        7
      41: new           #126                // class org/sonarsource/sonarlint/core/telemetry/payload/ShowHotspotPayload
      44: dup
      45: aload_1
      46: invokevirtual #130                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.showHotspotRequestsCount:()I
      49: invokespecial #133                // Method org/sonarsource/sonarlint/core/telemetry/payload/ShowHotspotPayload."<init>":(I)V
      52: astore        8
      54: new           #135                // class org/sonarsource/sonarlint/core/telemetry/payload/TaintVulnerabilitiesPayload
      57: dup
      58: aload_1
      59: invokevirtual #138                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.taintVulnerabilitiesInvestigatedLocallyCount:()I
      62: aload_1
      63: invokevirtual #141                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.taintVulnerabilitiesInvestigatedRemotelyCount:()I
      66: invokespecial #144                // Method org/sonarsource/sonarlint/core/telemetry/payload/TaintVulnerabilitiesPayload."<init>":(II)V
      69: astore        9
      71: ldc           #146                // String os.name
      73: invokestatic  #152                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      76: astore        10
      78: ldc           #154                // String java.version
      80: invokestatic  #152                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      83: astore        11
      85: new           #156                // class org/sonarsource/sonarlint/core/telemetry/payload/TelemetryRulesPayload
      88: dup
      89: aload_2
      90: invokeinterface #160,  1          // InterfaceMethod org/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider.getNonDefaultEnabledRules:()Ljava/util/Collection;
      95: aload_2
      96: invokeinterface #163,  1          // InterfaceMethod org/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider.getDefaultDisabledRules:()Ljava/util/Collection;
     101: aload_1
     102: invokevirtual #166                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.getRaisedIssuesRules:()Ljava/util/Collection;
     105: aload_1
     106: invokevirtual #169                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.getQuickFixesApplied:()Ljava/util/Collection;
     109: invokespecial #172                // Method org/sonarsource/sonarlint/core/telemetry/payload/TelemetryRulesPayload."<init>":(Ljava/util/Collection;Ljava/util/Collection;Ljava/util/Collection;Ljava/util/Collection;)V
     112: astore        12
     114: new           #174                // class org/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload
     117: dup
     118: lload         4
     120: aload_1
     121: invokevirtual #178                // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.numUseDays:()J
     124: aload_0
     125: getfield      #34                 // Field product:Ljava/lang/String;
     128: aload_0
     129: getfield      #36                 // Field version:Ljava/lang/String;
     132: aload_0
     133: getfield      #38                 // Field ideVersion:Ljava/lang/String;
     136: aload_2
     137: invokeinterface #181,  1          // InterfaceMethod org/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider.usesConnectedMode:()Z
     142: aload_2
     143: invokeinterface #184,  1          // InterfaceMethod org/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider.useSonarCloud:()Z
     148: aload_3
     149: aload_1
     150: invokevirtual #93                 // Method org/sonarsource/sonarlint/core/telemetry/TelemetryLocalStorage.installTime:()Ljava/time/OffsetDateTime;
     153: aload         10
     155: aload         11
     157: aload_2
     158: invokeinterface #188,  1          // InterfaceMethod org/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider.nodeVersion:()Ljava/util/Optional;
     163: aconst_null
     164: invokevirtual #194                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
     167: checkcast     #196                // class java/lang/String
     170: aload         6
     172: aload         7
     174: aload         8
     176: aload         9
     178: aload         12
     180: aload_2
     181: invokeinterface #199,  1          // InterfaceMethod org/sonarsource/sonarlint/core/telemetry/TelemetryClientAttributesProvider.additionalAttributes:()Ljava/util/Map;
     186: invokespecial #202                // Method org/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload."<init>":(JJLjava/lang/String;Ljava/lang/String;Ljava/lang/String;ZZLjava/time/OffsetDateTime;Ljava/time/OffsetDateTime;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;[Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryAnalyzerPerformancePayload;Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryNotificationsPayload;Lorg/sonarsource/sonarlint/core/telemetry/payload/ShowHotspotPayload;Lorg/sonarsource/sonarlint/core/telemetry/payload/TaintVulnerabilitiesPayload;Lorg/sonarsource/sonarlint/core/telemetry/payload/TelemetryRulesPayload;Ljava/util/Map;)V
     189: areturn

  private void sendDelete(org.sonarsource.sonarlint.core.telemetry.payload.TelemetryPayload);
    Code:
       0: aload_0
       1: getfield      #40                 // Field client:Lorg/sonarsource/sonarlint/core/commons/http/HttpClient;
       4: aload_0
       5: getfield      #42                 // Field endpoint:Ljava/lang/String;
       8: ldc           #218                // String application/json; charset=utf-8
      10: aload_1
      11: invokevirtual #222                // Method org/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload.toJson:()Ljava/lang/String;
      14: invokeinterface #226,  4          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient.delete:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/sonarsource/sonarlint/core/commons/http/HttpClient$Response;
      19: astore_2
      20: aload_2
      21: invokeinterface #229,  1          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient$Response.isSuccessful:()Z
      26: ifne          47
      29: invokestatic  #60                 // Method org/sonarsource/sonarlint/core/telemetry/InternalDebug.isEnabled:()Z
      32: ifeq          47
      35: getstatic     #62                 // Field LOG:Lorg/sonarsource/sonarlint/core/commons/log/SonarLintLogger;
      38: ldc           #231                // String Failed to upload telemetry opt-out: {}
      40: aload_2
      41: invokevirtual #234                // Method java/lang/Object.toString:()Ljava/lang/String;
      44: invokevirtual #237                // Method org/sonarsource/sonarlint/core/commons/log/SonarLintLogger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      47: aload_2
      48: ifnull        84
      51: aload_2
      52: invokeinterface #240,  1          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient$Response.close:()V
      57: goto          84
      60: astore_3
      61: aload_2
      62: ifnull        82
      65: aload_2
      66: invokeinterface #240,  1          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient$Response.close:()V
      71: goto          82
      74: astore        4
      76: aload_3
      77: aload         4
      79: invokevirtual #244                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      82: aload_3
      83: athrow
      84: return
    Exception table:
       from    to  target type
          20    47    60   Class java/lang/Throwable
          65    71    74   Class java/lang/Throwable

  private void sendPost(org.sonarsource.sonarlint.core.telemetry.payload.TelemetryPayload);
    Code:
       0: aload_0
       1: getfield      #40                 // Field client:Lorg/sonarsource/sonarlint/core/commons/http/HttpClient;
       4: aload_0
       5: getfield      #42                 // Field endpoint:Ljava/lang/String;
       8: ldc           #218                // String application/json; charset=utf-8
      10: aload_1
      11: invokevirtual #222                // Method org/sonarsource/sonarlint/core/telemetry/payload/TelemetryPayload.toJson:()Ljava/lang/String;
      14: invokeinterface #251,  4          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient.post:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/sonarsource/sonarlint/core/commons/http/HttpClient$Response;
      19: astore_2
      20: aload_2
      21: invokeinterface #229,  1          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient$Response.isSuccessful:()Z
      26: ifne          47
      29: invokestatic  #60                 // Method org/sonarsource/sonarlint/core/telemetry/InternalDebug.isEnabled:()Z
      32: ifeq          47
      35: getstatic     #62                 // Field LOG:Lorg/sonarsource/sonarlint/core/commons/log/SonarLintLogger;
      38: ldc           #253                // String Failed to upload telemetry data: {}
      40: aload_2
      41: invokevirtual #234                // Method java/lang/Object.toString:()Ljava/lang/String;
      44: invokevirtual #237                // Method org/sonarsource/sonarlint/core/commons/log/SonarLintLogger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      47: aload_2
      48: ifnull        84
      51: aload_2
      52: invokeinterface #240,  1          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient$Response.close:()V
      57: goto          84
      60: astore_3
      61: aload_2
      62: ifnull        82
      65: aload_2
      66: invokeinterface #240,  1          // InterfaceMethod org/sonarsource/sonarlint/core/commons/http/HttpClient$Response.close:()V
      71: goto          82
      74: astore        4
      76: aload_3
      77: aload         4
      79: invokevirtual #244                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      82: aload_3
      83: athrow
      84: return
    Exception table:
       from    to  target type
          20    47    60   Class java/lang/Throwable
          65    71    74   Class java/lang/Throwable

  static {};
    Code:
       0: invokestatic  #258                // Method org/sonarsource/sonarlint/core/commons/log/SonarLintLogger.get:()Lorg/sonarsource/sonarlint/core/commons/log/SonarLintLogger;
       3: putstatic     #62                 // Field LOG:Lorg/sonarsource/sonarlint/core/commons/log/SonarLintLogger;
       6: return
}
