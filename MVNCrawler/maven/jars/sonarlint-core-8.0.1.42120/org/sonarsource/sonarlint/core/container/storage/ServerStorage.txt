Compiled from "ServerStorage.java"
public class org.sonarsource.sonarlint.core.container.storage.ServerStorage implements org.sonarsource.sonarlint.core.container.storage.StorageFolder {
  private final java.nio.file.Path folderPath;

  private final org.sonarsource.sonarlint.core.container.storage.RWLock rwLock;

  public org.sonarsource.sonarlint.core.container.storage.ServerStorage(java.nio.file.Path);
    Code:
       0: aload_0
       1: invokespecial #21                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #23                 // class org/sonarsource/sonarlint/core/container/storage/RWLock
       8: dup
       9: invokespecial #24                 // Method org/sonarsource/sonarlint/core/container/storage/RWLock."<init>":()V
      12: putfield      #26                 // Field rwLock:Lorg/sonarsource/sonarlint/core/container/storage/RWLock;
      15: aload_0
      16: aload_1
      17: putfield      #28                 // Field folderPath:Ljava/nio/file/Path;
      20: return

  public <T> T readAction(java.util.function.Function<java.nio.file.Path, T>);
    Code:
       0: aload_0
       1: getfield      #26                 // Field rwLock:Lorg/sonarsource/sonarlint/core/container/storage/RWLock;
       4: aload_0
       5: aload_1
       6: invokedynamic #50,  0             // InvokeDynamic #0:get:(Lorg/sonarsource/sonarlint/core/container/storage/ServerStorage;Ljava/util/function/Function;)Ljava/util/function/Supplier;
      11: invokevirtual #54                 // Method org/sonarsource/sonarlint/core/container/storage/RWLock.read:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      14: areturn

  public void writeAction(java.util.function.Consumer<java.nio.file.Path>);
    Code:
       0: aload_0
       1: getfield      #26                 // Field rwLock:Lorg/sonarsource/sonarlint/core/container/storage/RWLock;
       4: aload_0
       5: aload_1
       6: invokedynamic #68,  0             // InvokeDynamic #1:get:(Lorg/sonarsource/sonarlint/core/container/storage/ServerStorage;Ljava/util/function/Consumer;)Ljava/util/function/Supplier;
      11: invokevirtual #54                 // Method org/sonarsource/sonarlint/core/container/storage/RWLock.read:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      14: pop
      15: return

  public void replaceStorageWith(java.nio.file.Path);
    Code:
       0: aload_0
       1: getfield      #26                 // Field rwLock:Lorg/sonarsource/sonarlint/core/container/storage/RWLock;
       4: aload_0
       5: aload_1
       6: invokedynamic #81,  0             // InvokeDynamic #2:run:(Lorg/sonarsource/sonarlint/core/container/storage/ServerStorage;Ljava/nio/file/Path;)Ljava/lang/Runnable;
      11: invokevirtual #85                 // Method org/sonarsource/sonarlint/core/container/storage/RWLock.write:(Ljava/lang/Runnable;)V
      14: return

  private void lambda$replaceStorageWith$2(java.nio.file.Path);
    Code:
       0: aload_0
       1: getfield      #28                 // Field folderPath:Ljava/nio/file/Path;
       4: astore_2
       5: aload_2
       6: invokestatic  #91                 // Method org/sonarsource/sonarlint/core/client/api/util/FileUtils.deleteRecursively:(Ljava/nio/file/Path;)V
       9: aload_2
      10: invokeinterface #97,  1           // InterfaceMethod java/nio/file/Path.getParent:()Ljava/nio/file/Path;
      15: invokestatic  #100                // Method org/sonarsource/sonarlint/core/client/api/util/FileUtils.mkdirs:(Ljava/nio/file/Path;)V
      18: aload_1
      19: aload_2
      20: invokestatic  #104                // Method org/sonarsource/sonarlint/core/client/api/util/FileUtils.moveDir:(Ljava/nio/file/Path;Ljava/nio/file/Path;)V
      23: return

  private java.lang.Object lambda$writeAction$1(java.util.function.Consumer);
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #28                 // Field folderPath:Ljava/nio/file/Path;
       5: invokeinterface #111,  2          // InterfaceMethod java/util/function/Consumer.accept:(Ljava/lang/Object;)V
      10: aconst_null
      11: areturn

  private java.lang.Object lambda$readAction$0(java.util.function.Function);
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #28                 // Field folderPath:Ljava/nio/file/Path;
       5: invokeinterface #117,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      10: areturn
}
