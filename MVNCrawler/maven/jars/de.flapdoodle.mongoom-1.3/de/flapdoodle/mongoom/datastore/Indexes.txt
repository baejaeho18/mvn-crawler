Compiled from "Indexes.java"
public final class de.flapdoodle.mongoom.datastore.Indexes {
  static final java.util.logging.Logger _logger;

  private de.flapdoodle.mongoom.datastore.Indexes();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static void ensureIndex(com.mongodb.DB, de.flapdoodle.mongoom.mapping.index.IndexDef, java.lang.String);
    Code:
       0: invokestatic  #2                  // Method com/mongodb/BasicDBObjectBuilder.start:()Lcom/mongodb/BasicDBObjectBuilder;
       3: astore_3
       4: aconst_null
       5: astore        4
       7: aload_1
       8: invokevirtual #3                  // Method de/flapdoodle/mongoom/mapping/index/IndexDef.fields:()Ljava/util/List;
      11: invokestatic  #4                  // Method com/google/common/collect/Lists.newArrayList:(Ljava/lang/Iterable;)Ljava/util/ArrayList;
      14: astore        5
      16: aload         5
      18: new           #5                  // class de/flapdoodle/mongoom/datastore/Indexes$1
      21: dup
      22: invokespecial #6                  // Method de/flapdoodle/mongoom/datastore/Indexes$1."<init>":()V
      25: invokestatic  #7                  // Method java/util/Collections.sort:(Ljava/util/List;Ljava/util/Comparator;)V
      28: aload         5
      30: invokeinterface #8,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      35: astore        6
      37: aload         6
      39: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          130
      47: aload         6
      49: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #11                 // class de/flapdoodle/mongoom/mapping/index/FieldIndex
      57: astore        7
      59: aload         7
      61: invokevirtual #12                 // Method de/flapdoodle/mongoom/mapping/index/FieldIndex.name:()Ljava/lang/String;
      64: astore        8
      66: aload         7
      68: invokevirtual #13                 // Method de/flapdoodle/mongoom/mapping/index/FieldIndex.direction:()Lde/flapdoodle/mongoom/annotations/Direction;
      71: astore        9
      73: aload         9
      75: getstatic     #14                 // Field de/flapdoodle/mongoom/annotations/Direction.BOTH:Lde/flapdoodle/mongoom/annotations/Direction;
      78: if_acmpne     104
      81: aload_3
      82: aload         8
      84: iconst_1
      85: invokestatic  #15                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      88: invokevirtual #16                 // Method com/mongodb/BasicDBObjectBuilder.add:(Ljava/lang/String;Ljava/lang/Object;)Lcom/mongodb/BasicDBObjectBuilder;
      91: aload         8
      93: iconst_m1
      94: invokestatic  #15                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      97: invokevirtual #16                 // Method com/mongodb/BasicDBObjectBuilder.add:(Ljava/lang/String;Ljava/lang/Object;)Lcom/mongodb/BasicDBObjectBuilder;
     100: pop
     101: goto          127
     104: aload_3
     105: aload         8
     107: aload         9
     109: getstatic     #17                 // Field de/flapdoodle/mongoom/annotations/Direction.ASC:Lde/flapdoodle/mongoom/annotations/Direction;
     112: if_acmpne     119
     115: iconst_1
     116: goto          120
     119: iconst_m1
     120: invokestatic  #15                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     123: invokevirtual #16                 // Method com/mongodb/BasicDBObjectBuilder.add:(Ljava/lang/String;Ljava/lang/Object;)Lcom/mongodb/BasicDBObjectBuilder;
     126: pop
     127: goto          37
     130: aload_1
     131: invokevirtual #18                 // Method de/flapdoodle/mongoom/mapping/index/IndexDef.name:()Ljava/lang/String;
     134: astore        6
     136: aload         6
     138: ifnull        173
     141: aload         6
     143: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
     146: ifne          173
     149: aload         4
     151: ifnonnull     163
     154: new           #20                 // class com/mongodb/BasicDBObjectBuilder
     157: dup
     158: invokespecial #21                 // Method com/mongodb/BasicDBObjectBuilder."<init>":()V
     161: astore        4
     163: aload         4
     165: ldc           #22                 // String name
     167: aload         6
     169: invokevirtual #16                 // Method com/mongodb/BasicDBObjectBuilder.add:(Ljava/lang/String;Ljava/lang/Object;)Lcom/mongodb/BasicDBObjectBuilder;
     172: pop
     173: aload_1
     174: invokevirtual #23                 // Method de/flapdoodle/mongoom/mapping/index/IndexDef.unique:()Z
     177: ifeq          225
     180: aload         4
     182: ifnonnull     194
     185: new           #20                 // class com/mongodb/BasicDBObjectBuilder
     188: dup
     189: invokespecial #21                 // Method com/mongodb/BasicDBObjectBuilder."<init>":()V
     192: astore        4
     194: aload         4
     196: ldc           #24                 // String unique
     198: iconst_1
     199: invokestatic  #25                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     202: invokevirtual #16                 // Method com/mongodb/BasicDBObjectBuilder.add:(Ljava/lang/String;Ljava/lang/Object;)Lcom/mongodb/BasicDBObjectBuilder;
     205: pop
     206: aload_1
     207: invokevirtual #26                 // Method de/flapdoodle/mongoom/mapping/index/IndexDef.dropDups:()Z
     210: ifeq          225
     213: aload         4
     215: ldc           #27                 // String dropDups
     217: iconst_1
     218: invokestatic  #25                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     221: invokevirtual #16                 // Method com/mongodb/BasicDBObjectBuilder.add:(Ljava/lang/String;Ljava/lang/Object;)Lcom/mongodb/BasicDBObjectBuilder;
     224: pop
     225: aload_1
     226: invokevirtual #28                 // Method de/flapdoodle/mongoom/mapping/index/IndexDef.sparse:()Z
     229: ifeq          258
     232: aload         4
     234: ifnonnull     246
     237: new           #20                 // class com/mongodb/BasicDBObjectBuilder
     240: dup
     241: invokespecial #21                 // Method com/mongodb/BasicDBObjectBuilder."<init>":()V
     244: astore        4
     246: aload         4
     248: ldc           #29                 // String sparse
     250: iconst_1
     251: invokestatic  #25                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     254: invokevirtual #16                 // Method com/mongodb/BasicDBObjectBuilder.add:(Ljava/lang/String;Ljava/lang/Object;)Lcom/mongodb/BasicDBObjectBuilder;
     257: pop
     258: aload_0
     259: invokevirtual #30                 // Method com/mongodb/DB.requestStart:()V
     262: aload_0
     263: aload_2
     264: invokevirtual #31                 // Method com/mongodb/DB.getCollection:(Ljava/lang/String;)Lcom/mongodb/DBCollection;
     267: astore        7
     269: aload_3
     270: invokevirtual #32                 // Method com/mongodb/BasicDBObjectBuilder.get:()Lcom/mongodb/DBObject;
     273: astore        8
     275: aload         4
     277: ifnonnull     338
     280: getstatic     #33                 // Field _logger:Ljava/util/logging/Logger;
     283: new           #34                 // class java/lang/StringBuilder
     286: dup
     287: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     290: ldc           #36                 // String Ensuring index for
     292: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     295: aload         7
     297: invokevirtual #38                 // Method com/mongodb/DBCollection.getName:()Ljava/lang/String;
     300: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     303: ldc           #39                 // String .
     305: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     308: aload_1
     309: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     312: ldc           #41                 // String  with keys
     314: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     317: aload         8
     319: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     322: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     325: invokevirtual #43                 // Method java/util/logging/Logger.info:(Ljava/lang/String;)V
     328: aload         7
     330: aload         8
     332: invokevirtual #44                 // Method com/mongodb/DBCollection.ensureIndex:(Lcom/mongodb/DBObject;)V
     335: goto          412
     338: aload         4
     340: invokevirtual #32                 // Method com/mongodb/BasicDBObjectBuilder.get:()Lcom/mongodb/DBObject;
     343: astore        9
     345: getstatic     #33                 // Field _logger:Ljava/util/logging/Logger;
     348: new           #34                 // class java/lang/StringBuilder
     351: dup
     352: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     355: ldc           #36                 // String Ensuring index for
     357: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     360: aload         7
     362: invokevirtual #38                 // Method com/mongodb/DBCollection.getName:()Ljava/lang/String;
     365: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     368: ldc           #39                 // String .
     370: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     373: aload_1
     374: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     377: ldc           #41                 // String  with keys
     379: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     382: aload         8
     384: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     387: ldc           #45                 // String  and opts
     389: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     392: aload         9
     394: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     397: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     400: invokevirtual #43                 // Method java/util/logging/Logger.info:(Ljava/lang/String;)V
     403: aload         7
     405: aload         8
     407: aload         9
     409: invokevirtual #46                 // Method com/mongodb/DBCollection.ensureIndex:(Lcom/mongodb/DBObject;Lcom/mongodb/DBObject;)V
     412: aload_0
     413: getstatic     #47                 // Field de/flapdoodle/mongoom/datastore/Operation.Insert:Lde/flapdoodle/mongoom/datastore/Operation;
     416: invokestatic  #48                 // Method de/flapdoodle/mongoom/datastore/Errors.checkError:(Lcom/mongodb/DB;Lde/flapdoodle/mongoom/datastore/Operation;)V
     419: aload_0
     420: invokevirtual #49                 // Method com/mongodb/DB.requestDone:()V
     423: goto          442
     426: astore        10
     428: aload_0
     429: getstatic     #47                 // Field de/flapdoodle/mongoom/datastore/Operation.Insert:Lde/flapdoodle/mongoom/datastore/Operation;
     432: invokestatic  #48                 // Method de/flapdoodle/mongoom/datastore/Errors.checkError:(Lcom/mongodb/DB;Lde/flapdoodle/mongoom/datastore/Operation;)V
     435: aload_0
     436: invokevirtual #49                 // Method com/mongodb/DB.requestDone:()V
     439: aload         10
     441: athrow
     442: return
    Exception table:
       from    to  target type
         258   412   426   any
         426   428   426   any

  static {};
    Code:
       0: ldc_w         #50                 // class de/flapdoodle/mongoom/datastore/Indexes
       3: invokestatic  #51                 // Method de/flapdoodle/mongoom/logging/LogConfig.getLogger:(Ljava/lang/Class;)Ljava/util/logging/Logger;
       6: putstatic     #33                 // Field _logger:Ljava/util/logging/Logger;
       9: return
}
