Compiled from "WebServer.java"
public class org.apache.pulsar.proxy.server.WebServer {
  private static final java.lang.String MATCH_ALL;

  private final org.eclipse.jetty.server.Server server;

  private final org.apache.pulsar.broker.web.WebExecutorThreadPool webServiceExecutor;

  private final org.apache.pulsar.broker.authentication.AuthenticationService authenticationService;

  private final java.util.List<java.lang.String> servletPaths;

  private final java.util.List<org.eclipse.jetty.server.Handler> handlers;

  private final org.apache.pulsar.proxy.server.ProxyConfiguration config;

  protected int externalServicePort;

  private java.net.URI serviceURI;

  private org.eclipse.jetty.server.ServerConnector connector;

  private org.eclipse.jetty.server.ServerConnector connectorTls;

  private static final org.slf4j.Logger log;

  public org.apache.pulsar.proxy.server.WebServer(org.apache.pulsar.proxy.server.ProxyConfiguration, org.apache.pulsar.broker.authentication.AuthenticationService) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #2                  // Method com/google/common/collect/Lists.newArrayList:()Ljava/util/ArrayList;
       8: putfield      #3                  // Field servletPaths:Ljava/util/List;
      11: aload_0
      12: invokestatic  #2                  // Method com/google/common/collect/Lists.newArrayList:()Ljava/util/ArrayList;
      15: putfield      #4                  // Field handlers:Ljava/util/List;
      18: aload_0
      19: aconst_null
      20: putfield      #5                  // Field serviceURI:Ljava/net/URI;
      23: aload_0
      24: new           #6                  // class org/apache/pulsar/broker/web/WebExecutorThreadPool
      27: dup
      28: aload_1
      29: invokevirtual #7                  // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getHttpNumThreads:()I
      32: ldc           #8                  // String pulsar-external-web
      34: invokespecial #9                  // Method org/apache/pulsar/broker/web/WebExecutorThreadPool."<init>":(ILjava/lang/String;)V
      37: putfield      #10                 // Field webServiceExecutor:Lorg/apache/pulsar/broker/web/WebExecutorThreadPool;
      40: aload_0
      41: new           #11                 // class org/eclipse/jetty/server/Server
      44: dup
      45: aload_0
      46: getfield      #10                 // Field webServiceExecutor:Lorg/apache/pulsar/broker/web/WebExecutorThreadPool;
      49: invokespecial #12                 // Method org/eclipse/jetty/server/Server."<init>":(Lorg/eclipse/jetty/util/thread/ThreadPool;)V
      52: putfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
      55: aload_0
      56: aload_2
      57: putfield      #14                 // Field authenticationService:Lorg/apache/pulsar/broker/authentication/AuthenticationService;
      60: aload_0
      61: aload_1
      62: putfield      #15                 // Field config:Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
      65: invokestatic  #2                  // Method com/google/common/collect/Lists.newArrayList:()Ljava/util/ArrayList;
      68: astore_3
      69: new           #16                 // class org/eclipse/jetty/server/HttpConfiguration
      72: dup
      73: invokespecial #17                 // Method org/eclipse/jetty/server/HttpConfiguration."<init>":()V
      76: astore        4
      78: aload         4
      80: aload_1
      81: invokevirtual #18                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getHttpOutputBufferSize:()I
      84: invokevirtual #19                 // Method org/eclipse/jetty/server/HttpConfiguration.setOutputBufferSize:(I)V
      87: aload_1
      88: invokevirtual #20                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getWebServicePort:()Ljava/util/Optional;
      91: invokevirtual #21                 // Method java/util/Optional.isPresent:()Z
      94: ifeq          180
      97: aload_0
      98: aload_1
      99: invokevirtual #20                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getWebServicePort:()Ljava/util/Optional;
     102: invokevirtual #22                 // Method java/util/Optional.get:()Ljava/lang/Object;
     105: checkcast     #23                 // class java/lang/Integer
     108: invokevirtual #24                 // Method java/lang/Integer.intValue:()I
     111: putfield      #25                 // Field externalServicePort:I
     114: aload_0
     115: new           #26                 // class org/eclipse/jetty/server/ServerConnector
     118: dup
     119: aload_0
     120: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     123: iconst_1
     124: iconst_1
     125: iconst_1
     126: anewarray     #27                 // class org/eclipse/jetty/server/ConnectionFactory
     129: dup
     130: iconst_0
     131: new           #28                 // class org/eclipse/jetty/server/HttpConnectionFactory
     134: dup
     135: aload         4
     137: invokespecial #29                 // Method org/eclipse/jetty/server/HttpConnectionFactory."<init>":(Lorg/eclipse/jetty/server/HttpConfiguration;)V
     140: aastore
     141: invokespecial #30                 // Method org/eclipse/jetty/server/ServerConnector."<init>":(Lorg/eclipse/jetty/server/Server;II[Lorg/eclipse/jetty/server/ConnectionFactory;)V
     144: putfield      #31                 // Field connector:Lorg/eclipse/jetty/server/ServerConnector;
     147: aload_0
     148: getfield      #31                 // Field connector:Lorg/eclipse/jetty/server/ServerConnector;
     151: aload_1
     152: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBindAddress:()Ljava/lang/String;
     155: invokevirtual #33                 // Method org/eclipse/jetty/server/ServerConnector.setHost:(Ljava/lang/String;)V
     158: aload_0
     159: getfield      #31                 // Field connector:Lorg/eclipse/jetty/server/ServerConnector;
     162: aload_0
     163: getfield      #25                 // Field externalServicePort:I
     166: invokevirtual #34                 // Method org/eclipse/jetty/server/ServerConnector.setPort:(I)V
     169: aload_3
     170: aload_0
     171: getfield      #31                 // Field connector:Lorg/eclipse/jetty/server/ServerConnector;
     174: invokeinterface #35,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     179: pop
     180: aload_1
     181: invokevirtual #36                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getWebServicePortTls:()Ljava/util/Optional;
     184: invokevirtual #21                 // Method java/util/Optional.isPresent:()Z
     187: ifeq          351
     190: aload_1
     191: invokevirtual #37                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isTlsEnabledWithKeyStore:()Z
     194: ifeq          245
     197: aload_1
     198: invokevirtual #38                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsProvider:()Ljava/lang/String;
     201: aload_1
     202: invokevirtual #39                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsKeyStoreType:()Ljava/lang/String;
     205: aload_1
     206: invokevirtual #40                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsKeyStore:()Ljava/lang/String;
     209: aload_1
     210: invokevirtual #41                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsKeyStorePassword:()Ljava/lang/String;
     213: aload_1
     214: invokevirtual #42                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isTlsAllowInsecureConnection:()Z
     217: aload_1
     218: invokevirtual #43                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsTrustStoreType:()Ljava/lang/String;
     221: aload_1
     222: invokevirtual #44                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsTrustStore:()Ljava/lang/String;
     225: aload_1
     226: invokevirtual #45                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsTrustStorePassword:()Ljava/lang/String;
     229: aload_1
     230: invokevirtual #46                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isTlsRequireTrustedClientCertOnConnect:()Z
     233: aload_1
     234: invokevirtual #47                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsCertRefreshCheckDurationSec:()J
     237: invokestatic  #48                 // Method org/apache/pulsar/common/util/keystoretls/KeyStoreSSLContext.createSslContextFactory:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;ZJ)Lorg/eclipse/jetty/util/ssl/SslContextFactory;
     240: astore        5
     242: goto          275
     245: aload_1
     246: invokevirtual #42                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isTlsAllowInsecureConnection:()Z
     249: aload_1
     250: invokevirtual #49                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsTrustCertsFilePath:()Ljava/lang/String;
     253: aload_1
     254: invokevirtual #50                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsCertificateFilePath:()Ljava/lang/String;
     257: aload_1
     258: invokevirtual #51                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsKeyFilePath:()Ljava/lang/String;
     261: aload_1
     262: invokevirtual #46                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isTlsRequireTrustedClientCertOnConnect:()Z
     265: iconst_1
     266: aload_1
     267: invokevirtual #47                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getTlsCertRefreshCheckDurationSec:()J
     270: invokestatic  #52                 // Method org/apache/pulsar/common/util/SecurityUtility.createSslContextFactory:(ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;ZZJ)Lorg/eclipse/jetty/util/ssl/SslContextFactory;
     273: astore        5
     275: aload_0
     276: new           #26                 // class org/eclipse/jetty/server/ServerConnector
     279: dup
     280: aload_0
     281: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     284: iconst_1
     285: iconst_1
     286: aload         5
     288: invokespecial #53                 // Method org/eclipse/jetty/server/ServerConnector."<init>":(Lorg/eclipse/jetty/server/Server;IILorg/eclipse/jetty/util/ssl/SslContextFactory;)V
     291: putfield      #54                 // Field connectorTls:Lorg/eclipse/jetty/server/ServerConnector;
     294: aload_0
     295: getfield      #54                 // Field connectorTls:Lorg/eclipse/jetty/server/ServerConnector;
     298: aload_1
     299: invokevirtual #36                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getWebServicePortTls:()Ljava/util/Optional;
     302: invokevirtual #22                 // Method java/util/Optional.get:()Ljava/lang/Object;
     305: checkcast     #23                 // class java/lang/Integer
     308: invokevirtual #24                 // Method java/lang/Integer.intValue:()I
     311: invokevirtual #34                 // Method org/eclipse/jetty/server/ServerConnector.setPort:(I)V
     314: aload_0
     315: getfield      #54                 // Field connectorTls:Lorg/eclipse/jetty/server/ServerConnector;
     318: aload_1
     319: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBindAddress:()Ljava/lang/String;
     322: invokevirtual #33                 // Method org/eclipse/jetty/server/ServerConnector.setHost:(Ljava/lang/String;)V
     325: aload_3
     326: aload_0
     327: getfield      #54                 // Field connectorTls:Lorg/eclipse/jetty/server/ServerConnector;
     330: invokeinterface #35,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     335: pop
     336: goto          351
     339: astore        5
     341: new           #56                 // class java/lang/RuntimeException
     344: dup
     345: aload         5
     347: invokespecial #57                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     350: athrow
     351: aload_3
     352: invokeinterface #58,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
     357: aload_3
     358: invokedynamic #59,  0             // InvokeDynamic #0:accept:(Ljava/util/List;)Ljava/util/function/Consumer;
     363: invokeinterface #60,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
     368: aload_0
     369: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     372: aload_3
     373: aload_3
     374: invokeinterface #61,  1           // InterfaceMethod java/util/List.size:()I
     379: anewarray     #26                 // class org/eclipse/jetty/server/ServerConnector
     382: invokeinterface #62,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     387: checkcast     #63                 // class "[Lorg/eclipse/jetty/server/Connector;"
     390: invokevirtual #64                 // Method org/eclipse/jetty/server/Server.setConnectors:([Lorg/eclipse/jetty/server/Connector;)V
     393: return
    Exception table:
       from    to  target type
         190   336   339   Class java/lang/Exception

  public java.net.URI getServiceUri();
    Code:
       0: aload_0
       1: getfield      #5                  // Field serviceURI:Ljava/net/URI;
       4: areturn

  public void addServlet(java.lang.String, org.eclipse.jetty.servlet.ServletHolder);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokestatic  #65                 // Method java/util/Collections.emptyList:()Ljava/util/List;
       6: invokevirtual #66                 // Method addServlet:(Ljava/lang/String;Lorg/eclipse/jetty/servlet/ServletHolder;Ljava/util/List;)V
       9: return

  public void addServlet(java.lang.String, org.eclipse.jetty.servlet.ServletHolder, java.util.List<org.apache.commons.lang3.tuple.Pair<java.lang.String, java.lang.Object>>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: iconst_1
       5: invokevirtual #67                 // Method addServlet:(Ljava/lang/String;Lorg/eclipse/jetty/servlet/ServletHolder;Ljava/util/List;Z)V
       8: return

  public void addServlet(java.lang.String, org.eclipse.jetty.servlet.ServletHolder, java.util.List<org.apache.commons.lang3.tuple.Pair<java.lang.String, java.lang.Object>>, boolean);
    Code:
       0: aload_0
       1: getfield      #3                  // Field servletPaths:Ljava/util/List;
       4: invokeinterface #58,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: aload_1
      10: invokedynamic #68,  0             // InvokeDynamic #1:test:(Ljava/lang/String;)Ljava/util/function/Predicate;
      15: invokeinterface #69,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      20: invokeinterface #70,  1           // InterfaceMethod java/util/stream/Stream.findFirst:()Ljava/util/Optional;
      25: astore        5
      27: aload         5
      29: invokevirtual #21                 // Method java/util/Optional.isPresent:()Z
      32: ifeq          64
      35: new           #71                 // class java/lang/IllegalArgumentException
      38: dup
      39: ldc           #72                 // String Cannot add servlet at %s, path %s already exists
      41: iconst_2
      42: anewarray     #73                 // class java/lang/Object
      45: dup
      46: iconst_0
      47: aload_1
      48: aastore
      49: dup
      50: iconst_1
      51: aload         5
      53: invokevirtual #22                 // Method java/util/Optional.get:()Ljava/lang/Object;
      56: aastore
      57: invokestatic  #74                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      60: invokespecial #75                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      63: athrow
      64: aload_0
      65: getfield      #3                  // Field servletPaths:Ljava/util/List;
      68: aload_1
      69: invokeinterface #35,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      74: pop
      75: new           #76                 // class org/eclipse/jetty/servlet/ServletContextHandler
      78: dup
      79: iconst_1
      80: invokespecial #77                 // Method org/eclipse/jetty/servlet/ServletContextHandler."<init>":(I)V
      83: astore        6
      85: aload         6
      87: aload_1
      88: invokevirtual #78                 // Method org/eclipse/jetty/servlet/ServletContextHandler.setContextPath:(Ljava/lang/String;)V
      91: aload         6
      93: aload_2
      94: ldc           #79                 // String /*
      96: invokevirtual #80                 // Method org/eclipse/jetty/servlet/ServletContextHandler.addServlet:(Lorg/eclipse/jetty/servlet/ServletHolder;Ljava/lang/String;)V
      99: aload_3
     100: invokeinterface #81,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     105: astore        7
     107: aload         7
     109: invokeinterface #82,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     114: ifeq          150
     117: aload         7
     119: invokeinterface #83,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     124: checkcast     #84                 // class org/apache/commons/lang3/tuple/Pair
     127: astore        8
     129: aload         6
     131: aload         8
     133: invokevirtual #85                 // Method org/apache/commons/lang3/tuple/Pair.getLeft:()Ljava/lang/Object;
     136: checkcast     #86                 // class java/lang/String
     139: aload         8
     141: invokevirtual #87                 // Method org/apache/commons/lang3/tuple/Pair.getRight:()Ljava/lang/Object;
     144: invokevirtual #88                 // Method org/eclipse/jetty/servlet/ServletContextHandler.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     147: goto          107
     150: aload_0
     151: getfield      #15                 // Field config:Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
     154: invokevirtual #89                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isAuthenticationEnabled:()Z
     157: ifeq          199
     160: iload         4
     162: ifeq          199
     165: new           #90                 // class org/eclipse/jetty/servlet/FilterHolder
     168: dup
     169: new           #91                 // class org/apache/pulsar/broker/web/AuthenticationFilter
     172: dup
     173: aload_0
     174: getfield      #14                 // Field authenticationService:Lorg/apache/pulsar/broker/authentication/AuthenticationService;
     177: invokespecial #92                 // Method org/apache/pulsar/broker/web/AuthenticationFilter."<init>":(Lorg/apache/pulsar/broker/authentication/AuthenticationService;)V
     180: invokespecial #93                 // Method org/eclipse/jetty/servlet/FilterHolder."<init>":(Ljavax/servlet/Filter;)V
     183: astore        7
     185: aload         6
     187: aload         7
     189: ldc           #79                 // String /*
     191: ldc           #95                 // class javax/servlet/DispatcherType
     193: invokestatic  #96                 // Method java/util/EnumSet.allOf:(Ljava/lang/Class;)Ljava/util/EnumSet;
     196: invokevirtual #97                 // Method org/eclipse/jetty/servlet/ServletContextHandler.addFilter:(Lorg/eclipse/jetty/servlet/FilterHolder;Ljava/lang/String;Ljava/util/EnumSet;)V
     199: aload_0
     200: getfield      #15                 // Field config:Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
     203: invokevirtual #98                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isHttpRequestsLimitEnabled:()Z
     206: ifeq          242
     209: aload         6
     211: new           #90                 // class org/eclipse/jetty/servlet/FilterHolder
     214: dup
     215: new           #99                 // class org/apache/pulsar/broker/web/RateLimitingFilter
     218: dup
     219: aload_0
     220: getfield      #15                 // Field config:Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
     223: invokevirtual #100                // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getHttpRequestsMaxPerSecond:()D
     226: invokespecial #101                // Method org/apache/pulsar/broker/web/RateLimitingFilter."<init>":(D)V
     229: invokespecial #93                 // Method org/eclipse/jetty/servlet/FilterHolder."<init>":(Ljavax/servlet/Filter;)V
     232: ldc           #79                 // String /*
     234: ldc           #95                 // class javax/servlet/DispatcherType
     236: invokestatic  #96                 // Method java/util/EnumSet.allOf:(Ljava/lang/Class;)Ljava/util/EnumSet;
     239: invokevirtual #97                 // Method org/eclipse/jetty/servlet/ServletContextHandler.addFilter:(Lorg/eclipse/jetty/servlet/FilterHolder;Ljava/lang/String;Ljava/util/EnumSet;)V
     242: aload_0
     243: getfield      #4                  // Field handlers:Ljava/util/List;
     246: aload         6
     248: invokeinterface #35,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     253: pop
     254: return

  public void addRestResources(java.lang.String, java.lang.String, java.lang.String, java.lang.Object);
    Code:
       0: new           #102                // class org/glassfish/jersey/server/ResourceConfig
       3: dup
       4: invokespecial #103                // Method org/glassfish/jersey/server/ResourceConfig."<init>":()V
       7: astore        5
       9: aload         5
      11: iconst_2
      12: anewarray     #86                 // class java/lang/String
      15: dup
      16: iconst_0
      17: ldc           #104                // String jersey.config.server.provider.packages
      19: aastore
      20: dup
      21: iconst_1
      22: aload_2
      23: aastore
      24: invokevirtual #105                // Method org/glassfish/jersey/server/ResourceConfig.packages:([Ljava/lang/String;)Lorg/glassfish/jersey/server/ResourceConfig;
      27: pop
      28: aload         5
      30: ldc           #106                // class org/apache/pulsar/broker/web/JsonMapperProvider
      32: invokevirtual #107                // Method org/glassfish/jersey/server/ResourceConfig.register:(Ljava/lang/Class;)Lorg/glassfish/jersey/server/ResourceConfig;
      35: pop
      36: new           #108                // class org/eclipse/jetty/servlet/ServletHolder
      39: dup
      40: new           #109                // class org/glassfish/jersey/servlet/ServletContainer
      43: dup
      44: aload         5
      46: invokespecial #110                // Method org/glassfish/jersey/servlet/ServletContainer."<init>":(Lorg/glassfish/jersey/server/ResourceConfig;)V
      49: invokespecial #111                // Method org/eclipse/jetty/servlet/ServletHolder."<init>":(Ljavax/servlet/Servlet;)V
      52: astore        6
      54: aload         6
      56: iconst_1
      57: invokevirtual #112                // Method org/eclipse/jetty/servlet/ServletHolder.setAsyncSupported:(Z)V
      60: new           #76                 // class org/eclipse/jetty/servlet/ServletContextHandler
      63: dup
      64: iconst_1
      65: invokespecial #77                 // Method org/eclipse/jetty/servlet/ServletContextHandler."<init>":(I)V
      68: astore        7
      70: aload         7
      72: aload_1
      73: invokevirtual #78                 // Method org/eclipse/jetty/servlet/ServletContextHandler.setContextPath:(Ljava/lang/String;)V
      76: aload         7
      78: aload         6
      80: ldc           #79                 // String /*
      82: invokevirtual #80                 // Method org/eclipse/jetty/servlet/ServletContextHandler.addServlet:(Lorg/eclipse/jetty/servlet/ServletHolder;Ljava/lang/String;)V
      85: aload         7
      87: aload_3
      88: aload         4
      90: invokevirtual #88                 // Method org/eclipse/jetty/servlet/ServletContextHandler.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      93: aload_0
      94: getfield      #4                  // Field handlers:Ljava/util/List;
      97: aload         7
      99: invokeinterface #35,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     104: pop
     105: return

  public int getExternalServicePort();
    Code:
       0: aload_0
       1: getfield      #25                 // Field externalServicePort:I
       4: ireturn

  public void start() throws java.lang.Exception;
    Code:
       0: new           #113                // class org/eclipse/jetty/server/handler/RequestLogHandler
       3: dup
       4: invokespecial #114                // Method org/eclipse/jetty/server/handler/RequestLogHandler."<init>":()V
       7: astore_1
       8: new           #115                // class org/eclipse/jetty/server/Slf4jRequestLog
      11: dup
      12: invokespecial #116                // Method org/eclipse/jetty/server/Slf4jRequestLog."<init>":()V
      15: astore_2
      16: aload_2
      17: iconst_1
      18: invokevirtual #117                // Method org/eclipse/jetty/server/Slf4jRequestLog.setExtended:(Z)V
      21: aload_2
      22: invokestatic  #118                // Method java/util/TimeZone.getDefault:()Ljava/util/TimeZone;
      25: invokevirtual #119                // Method java/util/TimeZone.getID:()Ljava/lang/String;
      28: invokevirtual #120                // Method org/eclipse/jetty/server/Slf4jRequestLog.setLogTimeZone:(Ljava/lang/String;)V
      31: aload_2
      32: iconst_1
      33: invokevirtual #121                // Method org/eclipse/jetty/server/Slf4jRequestLog.setLogLatency:(Z)V
      36: aload_1
      37: aload_2
      38: invokevirtual #122                // Method org/eclipse/jetty/server/handler/RequestLogHandler.setRequestLog:(Lorg/eclipse/jetty/server/RequestLog;)V
      41: aload_0
      42: getfield      #4                  // Field handlers:Ljava/util/List;
      45: iconst_0
      46: new           #123                // class org/eclipse/jetty/server/handler/ContextHandlerCollection
      49: dup
      50: invokespecial #124                // Method org/eclipse/jetty/server/handler/ContextHandlerCollection."<init>":()V
      53: invokeinterface #125,  3          // InterfaceMethod java/util/List.add:(ILjava/lang/Object;)V
      58: aload_0
      59: getfield      #4                  // Field handlers:Ljava/util/List;
      62: aload_1
      63: invokeinterface #35,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      68: pop
      69: new           #123                // class org/eclipse/jetty/server/handler/ContextHandlerCollection
      72: dup
      73: invokespecial #124                // Method org/eclipse/jetty/server/handler/ContextHandlerCollection."<init>":()V
      76: astore_3
      77: aload_3
      78: aload_0
      79: getfield      #4                  // Field handlers:Ljava/util/List;
      82: aload_0
      83: getfield      #4                  // Field handlers:Ljava/util/List;
      86: invokeinterface #61,  1           // InterfaceMethod java/util/List.size:()I
      91: anewarray     #126                // class org/eclipse/jetty/server/Handler
      94: invokeinterface #62,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      99: checkcast     #127                // class "[Lorg/eclipse/jetty/server/Handler;"
     102: invokevirtual #128                // Method org/eclipse/jetty/server/handler/ContextHandlerCollection.setHandlers:([Lorg/eclipse/jetty/server/Handler;)V
     105: new           #129                // class org/eclipse/jetty/server/handler/HandlerCollection
     108: dup
     109: invokespecial #130                // Method org/eclipse/jetty/server/handler/HandlerCollection."<init>":()V
     112: astore        4
     114: aload         4
     116: iconst_3
     117: anewarray     #126                // class org/eclipse/jetty/server/Handler
     120: dup
     121: iconst_0
     122: aload_3
     123: aastore
     124: dup
     125: iconst_1
     126: new           #131                // class org/eclipse/jetty/server/handler/DefaultHandler
     129: dup
     130: invokespecial #132                // Method org/eclipse/jetty/server/handler/DefaultHandler."<init>":()V
     133: aastore
     134: dup
     135: iconst_2
     136: aload_1
     137: aastore
     138: invokevirtual #133                // Method org/eclipse/jetty/server/handler/HandlerCollection.setHandlers:([Lorg/eclipse/jetty/server/Handler;)V
     141: new           #134                // class org/eclipse/jetty/server/handler/StatisticsHandler
     144: dup
     145: invokespecial #135                // Method org/eclipse/jetty/server/handler/StatisticsHandler."<init>":()V
     148: astore        5
     150: aload         5
     152: aload         4
     154: invokevirtual #136                // Method org/eclipse/jetty/server/handler/StatisticsHandler.setHandler:(Lorg/eclipse/jetty/server/Handler;)V
     157: new           #137                // class io/prometheus/client/jetty/JettyStatisticsCollector
     160: dup
     161: aload         5
     163: invokespecial #138                // Method io/prometheus/client/jetty/JettyStatisticsCollector."<init>":(Lorg/eclipse/jetty/server/handler/StatisticsHandler;)V
     166: invokevirtual #139                // Method io/prometheus/client/jetty/JettyStatisticsCollector.register:()Lio/prometheus/client/Collector;
     169: pop
     170: goto          175
     173: astore        6
     175: aload_0
     176: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     179: aload         5
     181: invokevirtual #140                // Method org/eclipse/jetty/server/Server.setHandler:(Lorg/eclipse/jetty/server/Handler;)V
     184: aload_0
     185: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     188: invokevirtual #141                // Method org/eclipse/jetty/server/Server.start:()V
     191: aload_0
     192: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     195: invokevirtual #142                // Method org/eclipse/jetty/server/Server.getConnectors:()[Lorg/eclipse/jetty/server/Connector;
     198: invokestatic  #143                // Method java/util/Arrays.stream:([Ljava/lang/Object;)Ljava/util/stream/Stream;
     201: invokedynamic #144,  0            // InvokeDynamic #2:test:()Ljava/util/function/Predicate;
     206: invokeinterface #69,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
     211: invokeinterface #70,  1           // InterfaceMethod java/util/stream/Stream.findFirst:()Ljava/util/Optional;
     216: aload_0
     217: invokedynamic #145,  0            // InvokeDynamic #3:accept:(Lorg/apache/pulsar/proxy/server/WebServer;)Ljava/util/function/Consumer;
     222: invokevirtual #146                // Method java/util/Optional.ifPresent:(Ljava/util/function/Consumer;)V
     225: aload_0
     226: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     229: invokevirtual #147                // Method org/eclipse/jetty/server/Server.getURI:()Ljava/net/URI;
     232: astore        6
     234: aload_0
     235: new           #148                // class java/net/URI
     238: dup
     239: aload         6
     241: invokevirtual #149                // Method java/net/URI.getScheme:()Ljava/lang/String;
     244: aconst_null
     245: aload         6
     247: invokevirtual #150                // Method java/net/URI.getHost:()Ljava/lang/String;
     250: aload         6
     252: invokevirtual #151                // Method java/net/URI.getPort:()I
     255: aconst_null
     256: aconst_null
     257: aconst_null
     258: invokespecial #152                // Method java/net/URI."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     261: putfield      #5                  // Field serviceURI:Ljava/net/URI;
     264: goto          372
     267: astore        6
     269: new           #153                // class java/util/ArrayList
     272: dup
     273: invokespecial #154                // Method java/util/ArrayList."<init>":()V
     276: astore        7
     278: aload_0
     279: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
     282: invokevirtual #142                // Method org/eclipse/jetty/server/Server.getConnectors:()[Lorg/eclipse/jetty/server/Connector;
     285: astore        8
     287: aload         8
     289: arraylength
     290: istore        9
     292: iconst_0
     293: istore        10
     295: iload         10
     297: iload         9
     299: if_icmpge     342
     302: aload         8
     304: iload         10
     306: aaload
     307: astore        11
     309: aload         11
     311: instanceof    #26                 // class org/eclipse/jetty/server/ServerConnector
     314: ifeq          336
     317: aload         7
     319: aload         11
     321: checkcast     #26                 // class org/eclipse/jetty/server/ServerConnector
     324: invokevirtual #155                // Method org/eclipse/jetty/server/ServerConnector.getPort:()I
     327: invokestatic  #156                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     330: invokeinterface #35,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     335: pop
     336: iinc          10, 1
     339: goto          295
     342: new           #157                // class java/io/IOException
     345: dup
     346: new           #158                // class java/lang/StringBuilder
     349: dup
     350: invokespecial #159                // Method java/lang/StringBuilder."<init>":()V
     353: ldc           #160                // String Failed to start HTTP server on ports
     355: invokevirtual #161                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     358: aload         7
     360: invokevirtual #162                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     363: invokevirtual #163                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     366: aload         6
     368: invokespecial #164                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     371: athrow
     372: getstatic     #165                // Field log:Lorg/slf4j/Logger;
     375: ldc           #166                // String Server started at end point {}
     377: aload_0
     378: invokevirtual #167                // Method getServiceUri:()Ljava/net/URI;
     381: invokeinterface #168,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     386: return
    Exception table:
       from    to  target type
         157   170   173   Class java/lang/IllegalArgumentException
         184   264   267   Class java/lang/Exception

  public void stop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
       4: invokevirtual #169                // Method org/eclipse/jetty/server/Server.stop:()V
       7: aload_0
       8: getfield      #10                 // Field webServiceExecutor:Lorg/apache/pulsar/broker/web/WebExecutorThreadPool;
      11: invokevirtual #170                // Method org/apache/pulsar/broker/web/WebExecutorThreadPool.stop:()V
      14: getstatic     #165                // Field log:Lorg/slf4j/Logger;
      17: ldc           #171                // String Server stopped successfully
      19: invokeinterface #172,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      24: return

  public boolean isStarted();
    Code:
       0: aload_0
       1: getfield      #13                 // Field server:Lorg/eclipse/jetty/server/Server;
       4: invokevirtual #173                // Method org/eclipse/jetty/server/Server.isStarted:()Z
       7: ireturn

  public java.util.Optional<java.lang.Integer> getListenPortHTTP();
    Code:
       0: aload_0
       1: getfield      #31                 // Field connector:Lorg/eclipse/jetty/server/ServerConnector;
       4: ifnull        21
       7: aload_0
       8: getfield      #31                 // Field connector:Lorg/eclipse/jetty/server/ServerConnector;
      11: invokevirtual #174                // Method org/eclipse/jetty/server/ServerConnector.getLocalPort:()I
      14: invokestatic  #156                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokestatic  #175                // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      20: areturn
      21: invokestatic  #176                // Method java/util/Optional.empty:()Ljava/util/Optional;
      24: areturn

  public java.util.Optional<java.lang.Integer> getListenPortHTTPS();
    Code:
       0: aload_0
       1: getfield      #54                 // Field connectorTls:Lorg/eclipse/jetty/server/ServerConnector;
       4: ifnull        21
       7: aload_0
       8: getfield      #54                 // Field connectorTls:Lorg/eclipse/jetty/server/ServerConnector;
      11: invokevirtual #174                // Method org/eclipse/jetty/server/ServerConnector.getLocalPort:()I
      14: invokestatic  #156                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokestatic  #175                // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      20: areturn
      21: invokestatic  #176                // Method java/util/Optional.empty:()Ljava/util/Optional;
      24: areturn

  private void lambda$start$3(org.eclipse.jetty.server.Connector);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #26                 // class org/eclipse/jetty/server/ServerConnector
       5: invokevirtual #155                // Method org/eclipse/jetty/server/ServerConnector.getPort:()I
       8: putfield      #25                 // Field externalServicePort:I
      11: return

  private static boolean lambda$start$2(org.eclipse.jetty.server.Connector);
    Code:
       0: aload_0
       1: instanceof    #26                 // class org/eclipse/jetty/server/ServerConnector
       4: ireturn

  private static boolean lambda$addServlet$1(java.lang.String, java.lang.String);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #177                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
       5: ireturn

  private static void lambda$new$0(java.util.List, org.eclipse.jetty.server.ServerConnector);
    Code:
       0: aload_1
       1: sipush        1024
       4: aload_0
       5: invokeinterface #61,  1           // InterfaceMethod java/util/List.size:()I
      10: idiv
      11: invokevirtual #178                // Method org/eclipse/jetty/server/ServerConnector.setAcceptQueueSize:(I)V
      14: return

  static {};
    Code:
       0: ldc           #94                 // class org/apache/pulsar/proxy/server/WebServer
       2: invokestatic  #179                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #165                // Field log:Lorg/slf4j/Logger;
       8: return
}
