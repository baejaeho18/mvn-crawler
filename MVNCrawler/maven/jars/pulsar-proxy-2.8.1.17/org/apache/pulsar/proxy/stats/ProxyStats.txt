Compiled from "ProxyStats.java"
public class org.apache.pulsar.proxy.stats.ProxyStats {
  public static final java.lang.String ATTRIBUTE_PULSAR_PROXY_NAME;

  private org.apache.pulsar.proxy.server.ProxyService service;

  protected javax.servlet.ServletContext servletContext;

  public org.apache.pulsar.proxy.stats.ProxyStats();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public java.util.List<org.apache.pulsar.proxy.stats.ConnectionStats> metrics();
    Code:
       0: invokestatic  #2                  // Method com/google/common/collect/Lists.newArrayList:()Ljava/util/ArrayList;
       3: astore_1
       4: aload_0
       5: invokevirtual #3                  // Method proxyService:()Lorg/apache/pulsar/proxy/server/ProxyService;
       8: invokevirtual #4                  // Method org/apache/pulsar/proxy/server/ProxyService.getClientCnxs:()Ljava/util/Set;
      11: aload_1
      12: invokedynamic #5,  0              // InvokeDynamic #0:accept:(Ljava/util/List;)Ljava/util/function/Consumer;
      17: invokeinterface #6,  2            // InterfaceMethod java/util/Set.forEach:(Ljava/util/function/Consumer;)V
      22: aload_1
      23: areturn

  public java.util.Map<java.lang.String, org.apache.pulsar.proxy.stats.TopicStats> topics();
    Code:
       0: aload_0
       1: invokevirtual #3                  // Method proxyService:()Lorg/apache/pulsar/proxy/server/ProxyService;
       4: invokevirtual #7                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
       7: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getProxyLogLevel:()Ljava/util/Optional;
      10: astore_1
      11: aload_1
      12: invokevirtual #9                  // Method java/util/Optional.isPresent:()Z
      15: ifeq          32
      18: aload_1
      19: invokevirtual #10                 // Method java/util/Optional.get:()Ljava/lang/Object;
      22: checkcast     #11                 // class java/lang/Integer
      25: invokevirtual #12                 // Method java/lang/Integer.intValue:()I
      28: iconst_2
      29: if_icmpge     45
      32: new           #13                 // class org/apache/pulsar/proxy/stats/RestException
      35: dup
      36: getstatic     #14                 // Field javax/ws/rs/core/Response$Status.PRECONDITION_FAILED:Ljavax/ws/rs/core/Response$Status;
      39: ldc           #15                 // String Proxy doesn\'t have logging level 2
      41: invokespecial #16                 // Method org/apache/pulsar/proxy/stats/RestException."<init>":(Ljavax/ws/rs/core/Response$Status;Ljava/lang/String;)V
      44: athrow
      45: aload_0
      46: invokevirtual #3                  // Method proxyService:()Lorg/apache/pulsar/proxy/server/ProxyService;
      49: invokevirtual #17                 // Method org/apache/pulsar/proxy/server/ProxyService.getTopicStats:()Ljava/util/Map;
      52: areturn

  public void updateProxyLogLevel(int);
    Code:
       0: iload_1
       1: iflt          9
       4: iload_1
       5: iconst_2
       6: if_icmple     22
       9: new           #13                 // class org/apache/pulsar/proxy/stats/RestException
      12: dup
      13: getstatic     #14                 // Field javax/ws/rs/core/Response$Status.PRECONDITION_FAILED:Ljavax/ws/rs/core/Response$Status;
      16: ldc           #18                 // String Proxy log level can be only [0-2]
      18: invokespecial #16                 // Method org/apache/pulsar/proxy/stats/RestException."<init>":(Ljavax/ws/rs/core/Response$Status;Ljava/lang/String;)V
      21: athrow
      22: aload_0
      23: invokevirtual #3                  // Method proxyService:()Lorg/apache/pulsar/proxy/server/ProxyService;
      26: iload_1
      27: invokevirtual #19                 // Method org/apache/pulsar/proxy/server/ProxyService.setProxyLogLevel:(I)V
      30: return

  public int getProxyLogLevel(int);
    Code:
       0: aload_0
       1: invokevirtual #3                  // Method proxyService:()Lorg/apache/pulsar/proxy/server/ProxyService;
       4: invokevirtual #20                 // Method org/apache/pulsar/proxy/server/ProxyService.getProxyLogLevel:()I
       7: ireturn

  protected org.apache.pulsar.proxy.server.ProxyService proxyService();
    Code:
       0: aload_0
       1: getfield      #21                 // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
       4: ifnonnull     45
       7: aload_0
       8: aload_0
       9: getfield      #22                 // Field servletContext:Ljavax/servlet/ServletContext;
      12: ldc           #24                 // String pulsar-proxy
      14: invokeinterface #25,  2           // InterfaceMethod javax/servlet/ServletContext.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      19: checkcast     #26                 // class org/apache/pulsar/proxy/server/ProxyService
      22: putfield      #21                 // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      25: aload_0
      26: getfield      #21                 // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      29: ifnonnull     45
      32: new           #13                 // class org/apache/pulsar/proxy/stats/RestException
      35: dup
      36: getstatic     #27                 // Field javax/ws/rs/core/Response$Status.SERVICE_UNAVAILABLE:Ljavax/ws/rs/core/Response$Status;
      39: ldc           #28                 // String Proxy service is not initialized
      41: invokespecial #16                 // Method org/apache/pulsar/proxy/stats/RestException."<init>":(Ljavax/ws/rs/core/Response$Status;Ljava/lang/String;)V
      44: athrow
      45: aload_0
      46: getfield      #21                 // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      49: areturn

  private static void lambda$metrics$0(java.util.List, org.apache.pulsar.proxy.server.ProxyConnection);
    Code:
       0: aload_1
       1: invokevirtual #29                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getDirectProxyHandler:()Lorg/apache/pulsar/proxy/server/DirectProxyHandler;
       4: ifnonnull     8
       7: return
       8: aload_1
       9: invokevirtual #29                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getDirectProxyHandler:()Lorg/apache/pulsar/proxy/server/DirectProxyHandler;
      12: invokevirtual #30                 // Method org/apache/pulsar/proxy/server/DirectProxyHandler.getInboundChannelRequestsRate:()Lorg/apache/pulsar/common/stats/Rate;
      15: invokevirtual #31                 // Method org/apache/pulsar/common/stats/Rate.getRate:()D
      18: dstore_2
      19: aload_1
      20: invokevirtual #29                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getDirectProxyHandler:()Lorg/apache/pulsar/proxy/server/DirectProxyHandler;
      23: invokevirtual #30                 // Method org/apache/pulsar/proxy/server/DirectProxyHandler.getInboundChannelRequestsRate:()Lorg/apache/pulsar/common/stats/Rate;
      26: invokevirtual #32                 // Method org/apache/pulsar/common/stats/Rate.getValueRate:()D
      29: dstore        4
      31: aload_1
      32: invokevirtual #29                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getDirectProxyHandler:()Lorg/apache/pulsar/proxy/server/DirectProxyHandler;
      35: invokevirtual #33                 // Method org/apache/pulsar/proxy/server/DirectProxyHandler.getInboundChannel:()Lio/netty/channel/Channel;
      38: astore        6
      40: aload_1
      41: invokevirtual #29                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getDirectProxyHandler:()Lorg/apache/pulsar/proxy/server/DirectProxyHandler;
      44: invokevirtual #34                 // Method org/apache/pulsar/proxy/server/DirectProxyHandler.getOutboundChannel:()Lio/netty/channel/Channel;
      47: astore        7
      49: aload_0
      50: new           #35                 // class org/apache/pulsar/proxy/stats/ConnectionStats
      53: dup
      54: dload_2
      55: dload         4
      57: aload         6
      59: aload         7
      61: invokespecial #36                 // Method org/apache/pulsar/proxy/stats/ConnectionStats."<init>":(DDLio/netty/channel/Channel;Lio/netty/channel/Channel;)V
      64: invokeinterface #37,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      69: pop
      70: return
}
