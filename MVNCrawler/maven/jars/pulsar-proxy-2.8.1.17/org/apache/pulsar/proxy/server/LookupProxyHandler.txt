Compiled from "LookupProxyHandler.java"
public class org.apache.pulsar.proxy.server.LookupProxyHandler {
  private final java.lang.String throttlingErrorMessage;

  private final org.apache.pulsar.proxy.server.ProxyService service;

  private final org.apache.pulsar.proxy.server.ProxyConnection proxyConnection;

  private final boolean connectWithTLS;

  private java.net.SocketAddress clientAddress;

  private java.lang.String brokerServiceURL;

  private static final io.prometheus.client.Counter lookupRequests;

  private static final io.prometheus.client.Counter partitionsMetadataRequests;

  private static final io.prometheus.client.Counter getTopicsOfNamespaceRequestss;

  private static final io.prometheus.client.Counter getSchemaRequests;

  static final io.prometheus.client.Counter rejectedLookupRequests;

  static final io.prometheus.client.Counter rejectedPartitionsMetadataRequests;

  static final io.prometheus.client.Counter rejectedGetTopicsOfNamespaceRequests;

  private static final org.slf4j.Logger log;

  public org.apache.pulsar.proxy.server.LookupProxyHandler(org.apache.pulsar.proxy.server.ProxyService, org.apache.pulsar.proxy.server.ProxyConnection);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc           #2                  // String Too many concurrent lookup and partitionsMetadata requests
       7: putfield      #3                  // Field throttlingErrorMessage:Ljava/lang/String;
      10: aload_0
      11: aload_1
      12: putfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      15: aload_0
      16: aload_2
      17: putfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      20: aload_0
      21: aload_2
      22: invokevirtual #6                  // Method org/apache/pulsar/proxy/server/ProxyConnection.clientAddress:()Ljava/net/SocketAddress;
      25: putfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      28: aload_0
      29: aload_1
      30: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
      33: invokevirtual #9                  // Method org/apache/pulsar/proxy/server/ProxyConfiguration.isTlsEnabledWithBroker:()Z
      36: putfield      #10                 // Field connectWithTLS:Z
      39: aload_0
      40: aload_0
      41: getfield      #10                 // Field connectWithTLS:Z
      44: ifeq          57
      47: aload_1
      48: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
      51: invokevirtual #11                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBrokerServiceURLTLS:()Ljava/lang/String;
      54: goto          64
      57: aload_1
      58: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
      61: invokevirtual #12                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBrokerServiceURL:()Ljava/lang/String;
      64: putfield      #13                 // Field brokerServiceURL:Ljava/lang/String;
      67: return

  public void handleLookup(org.apache.pulsar.common.api.proto.CommandLookupTopic);
    Code:
       0: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       3: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          25
      11: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      14: ldc           #16                 // String Received Lookup from {}
      16: aload_0
      17: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      20: invokeinterface #17,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      25: aload_1
      26: invokevirtual #18                 // Method org/apache/pulsar/common/api/proto/CommandLookupTopic.getRequestId:()J
      29: lstore_2
      30: aload_0
      31: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      34: invokevirtual #19                 // Method org/apache/pulsar/proxy/server/ProxyService.getLookupRequestSemaphore:()Ljava/util/concurrent/Semaphore;
      37: invokevirtual #20                 // Method java/util/concurrent/Semaphore.tryAcquire:()Z
      40: ifeq          231
      43: getstatic     #21                 // Field lookupRequests:Lio/prometheus/client/Counter;
      46: invokevirtual #22                 // Method io/prometheus/client/Counter.inc:()V
      49: aload_1
      50: invokevirtual #23                 // Method org/apache/pulsar/common/api/proto/CommandLookupTopic.getTopic:()Ljava/lang/String;
      53: astore        4
      55: aload_0
      56: getfield      #13                 // Field brokerServiceURL:Ljava/lang/String;
      59: invokestatic  #24                 // Method org/apache/commons/lang3/StringUtils.isBlank:(Ljava/lang/CharSequence;)Z
      62: ifeq          174
      65: aconst_null
      66: astore        6
      68: aload_0
      69: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      72: invokevirtual #25                 // Method org/apache/pulsar/proxy/server/ProxyService.getDiscoveryProvider:()Lorg/apache/pulsar/proxy/server/BrokerDiscoveryProvider;
      75: invokevirtual #26                 // Method org/apache/pulsar/proxy/server/BrokerDiscoveryProvider.nextBroker:()Lorg/apache/pulsar/policies/data/loadbalancer/LoadManagerReport;
      78: astore        6
      80: goto          145
      83: astore        7
      85: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      88: ldc           #28                 // String [{}] Failed to get next active broker {}
      90: iconst_3
      91: anewarray     #29                 // class java/lang/Object
      94: dup
      95: iconst_0
      96: aload_0
      97: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
     100: aastore
     101: dup
     102: iconst_1
     103: aload         7
     105: invokevirtual #30                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     108: aastore
     109: dup
     110: iconst_2
     111: aload         7
     113: aastore
     114: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     119: aload_0
     120: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     123: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
     126: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
     129: aload         7
     131: invokevirtual #30                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     134: lload_2
     135: invokestatic  #34                 // Method org/apache/pulsar/common/protocol/Commands.newLookupErrorResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
     138: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
     143: pop
     144: return
     145: aload_0
     146: getfield      #10                 // Field connectWithTLS:Z
     149: ifeq          162
     152: aload         6
     154: invokeinterface #36,  1           // InterfaceMethod org/apache/pulsar/policies/data/loadbalancer/ServiceLookupData.getPulsarServiceUrlTls:()Ljava/lang/String;
     159: goto          169
     162: aload         6
     164: invokeinterface #37,  1           // InterfaceMethod org/apache/pulsar/policies/data/loadbalancer/ServiceLookupData.getPulsarServiceUrl:()Ljava/lang/String;
     169: astore        5
     171: goto          206
     174: aload_0
     175: getfield      #10                 // Field connectWithTLS:Z
     178: ifeq          194
     181: aload_0
     182: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
     185: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
     188: invokevirtual #11                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBrokerServiceURLTLS:()Ljava/lang/String;
     191: goto          204
     194: aload_0
     195: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
     198: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
     201: invokevirtual #12                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBrokerServiceURL:()Ljava/lang/String;
     204: astore        5
     206: aload_0
     207: lload_2
     208: aload         4
     210: aload         5
     212: iconst_0
     213: bipush        10
     215: invokespecial #38                 // Method performLookup:(JLjava/lang/String;Ljava/lang/String;ZI)V
     218: aload_0
     219: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
     222: invokevirtual #19                 // Method org/apache/pulsar/proxy/server/ProxyService.getLookupRequestSemaphore:()Ljava/util/concurrent/Semaphore;
     225: invokevirtual #39                 // Method java/util/concurrent/Semaphore.release:()V
     228: goto          303
     231: getstatic     #40                 // Field rejectedLookupRequests:Lio/prometheus/client/Counter;
     234: invokevirtual #22                 // Method io/prometheus/client/Counter.inc:()V
     237: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
     240: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     245: ifeq          281
     248: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
     251: ldc           #41                 // String Lookup Request ID {} from {} rejected - {}.
     253: iconst_3
     254: anewarray     #29                 // class java/lang/Object
     257: dup
     258: iconst_0
     259: lload_2
     260: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     263: aastore
     264: dup
     265: iconst_1
     266: aload_0
     267: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
     270: aastore
     271: dup
     272: iconst_2
     273: ldc           #2                  // String Too many concurrent lookup and partitionsMetadata requests
     275: aastore
     276: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     281: aload_0
     282: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     285: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
     288: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
     291: ldc           #2                  // String Too many concurrent lookup and partitionsMetadata requests
     293: lload_2
     294: invokestatic  #34                 // Method org/apache/pulsar/common/protocol/Commands.newLookupErrorResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
     297: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
     302: pop
     303: return
    Exception table:
       from    to  target type
          68    80    83   Class java/lang/Exception

  private void performLookup(long, java.lang.String, java.lang.String, boolean, int);
    Code:
       0: iload         6
       2: ifne          28
       5: aload_0
       6: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       9: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      12: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      15: ldc           #45                 // String Reached max number of redirections
      17: lload_1
      18: invokestatic  #34                 // Method org/apache/pulsar/common/protocol/Commands.newLookupErrorResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      21: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      26: pop
      27: return
      28: new           #46                 // class java/net/URI
      31: dup
      32: aload         4
      34: invokespecial #47                 // Method java/net/URI."<init>":(Ljava/lang/String;)V
      37: astore        7
      39: goto          70
      42: astore        8
      44: aload_0
      45: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      48: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      51: getstatic     #49                 // Field org/apache/pulsar/common/api/proto/ServerError.MetadataError:Lorg/apache/pulsar/common/api/proto/ServerError;
      54: aload         8
      56: invokevirtual #50                 // Method java/net/URISyntaxException.getMessage:()Ljava/lang/String;
      59: lload_1
      60: invokestatic  #34                 // Method org/apache/pulsar/common/protocol/Commands.newLookupErrorResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      63: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      68: pop
      69: return
      70: aload         7
      72: invokevirtual #51                 // Method java/net/URI.getHost:()Ljava/lang/String;
      75: aload         7
      77: invokevirtual #52                 // Method java/net/URI.getPort:()I
      80: invokestatic  #53                 // Method java/net/InetSocketAddress.createUnresolved:(Ljava/lang/String;I)Ljava/net/InetSocketAddress;
      83: astore        8
      85: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      88: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      93: ifeq          126
      96: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      99: ldc           #54                 // String Getting connections to \'{}\' for Looking up topic \'{}\' with clientReq Id \'{}\'
     101: iconst_3
     102: anewarray     #29                 // class java/lang/Object
     105: dup
     106: iconst_0
     107: aload         8
     109: aastore
     110: dup
     111: iconst_1
     112: aload_3
     113: aastore
     114: dup
     115: iconst_2
     116: lload_1
     117: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     120: aastore
     121: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     126: aload_0
     127: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     130: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
     133: aload         8
     135: invokevirtual #56                 // Method org/apache/pulsar/client/impl/ConnectionPool.getConnection:(Ljava/net/InetSocketAddress;)Ljava/util/concurrent/CompletableFuture;
     138: aload_0
     139: aload_3
     140: iload         5
     142: lload_1
     143: iload         6
     145: aload         8
     147: invokedynamic #57,  0             // InvokeDynamic #0:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Ljava/lang/String;ZJILjava/net/InetSocketAddress;)Ljava/util/function/Consumer;
     152: invokevirtual #58                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
     155: aload_0
     156: lload_1
     157: invokedynamic #59,  0             // InvokeDynamic #1:apply:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;J)Ljava/util/function/Function;
     162: invokevirtual #60                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
     165: pop
     166: return
    Exception table:
       from    to  target type
          28    39    42   Class java/net/URISyntaxException

  public void handlePartitionMetadataResponse(org.apache.pulsar.common.api.proto.CommandPartitionedTopicMetadata);
    Code:
       0: getstatic     #61                 // Field partitionsMetadataRequests:Lio/prometheus/client/Counter;
       3: invokevirtual #22                 // Method io/prometheus/client/Counter.inc:()V
       6: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       9: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      14: ifeq          31
      17: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      20: ldc           #62                 // String [{}] Received PartitionMetadataLookup
      22: aload_0
      23: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      26: invokeinterface #17,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      31: aload_1
      32: invokevirtual #63                 // Method org/apache/pulsar/common/api/proto/CommandPartitionedTopicMetadata.getRequestId:()J
      35: lstore_2
      36: aload_0
      37: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      40: invokevirtual #19                 // Method org/apache/pulsar/proxy/server/ProxyService.getLookupRequestSemaphore:()Ljava/util/concurrent/Semaphore;
      43: invokevirtual #20                 // Method java/util/concurrent/Semaphore.tryAcquire:()Z
      46: ifeq          68
      49: aload_0
      50: aload_1
      51: lload_2
      52: invokespecial #64                 // Method handlePartitionMetadataResponse:(Lorg/apache/pulsar/common/api/proto/CommandPartitionedTopicMetadata;J)V
      55: aload_0
      56: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      59: invokevirtual #19                 // Method org/apache/pulsar/proxy/server/ProxyService.getLookupRequestSemaphore:()Ljava/util/concurrent/Semaphore;
      62: invokevirtual #39                 // Method java/util/concurrent/Semaphore.release:()V
      65: goto          140
      68: getstatic     #65                 // Field rejectedPartitionsMetadataRequests:Lio/prometheus/client/Counter;
      71: invokevirtual #22                 // Method io/prometheus/client/Counter.inc:()V
      74: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      77: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      82: ifeq          118
      85: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      88: ldc           #66                 // String PartitionMetaData Request ID {} from {} rejected - {}.
      90: iconst_3
      91: anewarray     #29                 // class java/lang/Object
      94: dup
      95: iconst_0
      96: lload_2
      97: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     100: aastore
     101: dup
     102: iconst_1
     103: aload_0
     104: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
     107: aastore
     108: dup
     109: iconst_2
     110: ldc           #2                  // String Too many concurrent lookup and partitionsMetadata requests
     112: aastore
     113: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     118: aload_0
     119: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     122: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
     125: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
     128: ldc           #2                  // String Too many concurrent lookup and partitionsMetadata requests
     130: lload_2
     131: invokestatic  #67                 // Method org/apache/pulsar/common/protocol/Commands.newPartitionMetadataResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
     134: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
     139: pop
     140: return

  private void handlePartitionMetadataResponse(org.apache.pulsar.common.api.proto.CommandPartitionedTopicMetadata, long);
    Code:
       0: aload_1
       1: invokevirtual #68                 // Method org/apache/pulsar/common/api/proto/CommandPartitionedTopicMetadata.getTopic:()Ljava/lang/String;
       4: invokestatic  #69                 // Method org/apache/pulsar/common/naming/TopicName.get:(Ljava/lang/String;)Lorg/apache/pulsar/common/naming/TopicName;
       7: astore        4
       9: aload_0
      10: lload_2
      11: invokespecial #70                 // Method getBrokerServiceUrl:(J)Ljava/lang/String;
      14: astore        6
      16: aload         6
      18: ifnonnull     34
      21: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      24: ldc           #71                 // String No available broker for {} to lookup partition metadata
      26: aload         4
      28: invokeinterface #72,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      33: return
      34: new           #46                 // class java/net/URI
      37: dup
      38: aload         6
      40: invokespecial #47                 // Method java/net/URI."<init>":(Ljava/lang/String;)V
      43: astore        5
      45: goto          76
      48: astore        6
      50: aload_0
      51: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      54: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      57: getstatic     #49                 // Field org/apache/pulsar/common/api/proto/ServerError.MetadataError:Lorg/apache/pulsar/common/api/proto/ServerError;
      60: aload         6
      62: invokevirtual #50                 // Method java/net/URISyntaxException.getMessage:()Ljava/lang/String;
      65: lload_2
      66: invokestatic  #67                 // Method org/apache/pulsar/common/protocol/Commands.newPartitionMetadataResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      69: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      74: pop
      75: return
      76: new           #73                 // class java/net/InetSocketAddress
      79: dup
      80: aload         5
      82: invokevirtual #51                 // Method java/net/URI.getHost:()Ljava/lang/String;
      85: aload         5
      87: invokevirtual #52                 // Method java/net/URI.getPort:()I
      90: invokespecial #74                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      93: astore        6
      95: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      98: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     103: ifeq          140
     106: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
     109: ldc           #54                 // String Getting connections to \'{}\' for Looking up topic \'{}\' with clientReq Id \'{}\'
     111: iconst_3
     112: anewarray     #29                 // class java/lang/Object
     115: dup
     116: iconst_0
     117: aload         6
     119: aastore
     120: dup
     121: iconst_1
     122: aload         4
     124: invokevirtual #75                 // Method org/apache/pulsar/common/naming/TopicName.getPartitionedTopicName:()Ljava/lang/String;
     127: aastore
     128: dup
     129: iconst_2
     130: lload_2
     131: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     134: aastore
     135: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     140: aload_0
     141: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     144: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
     147: aload         6
     149: invokevirtual #56                 // Method org/apache/pulsar/client/impl/ConnectionPool.getConnection:(Ljava/net/InetSocketAddress;)Ljava/util/concurrent/CompletableFuture;
     152: aload_0
     153: aload         4
     155: lload_2
     156: invokedynamic #76,  0             // InvokeDynamic #2:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Lorg/apache/pulsar/common/naming/TopicName;J)Ljava/util/function/Consumer;
     161: invokevirtual #58                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
     164: aload_0
     165: lload_2
     166: invokedynamic #77,  0             // InvokeDynamic #3:apply:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;J)Ljava/util/function/Function;
     171: invokevirtual #60                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
     174: pop
     175: return
    Exception table:
       from    to  target type
           9    33    48   Class java/net/URISyntaxException
          34    45    48   Class java/net/URISyntaxException

  public void handleGetTopicsOfNamespace(org.apache.pulsar.common.api.proto.CommandGetTopicsOfNamespace);
    Code:
       0: getstatic     #78                 // Field getTopicsOfNamespaceRequestss:Lio/prometheus/client/Counter;
       3: invokevirtual #22                 // Method io/prometheus/client/Counter.inc:()V
       6: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       9: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      14: ifeq          31
      17: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      20: ldc           #79                 // String [{}] Received GetTopicsOfNamespace
      22: aload_0
      23: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      26: invokeinterface #17,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      31: aload_1
      32: invokevirtual #80                 // Method org/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace.getRequestId:()J
      35: lstore_2
      36: aload_0
      37: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      40: invokevirtual #19                 // Method org/apache/pulsar/proxy/server/ProxyService.getLookupRequestSemaphore:()Ljava/util/concurrent/Semaphore;
      43: invokevirtual #20                 // Method java/util/concurrent/Semaphore.tryAcquire:()Z
      46: ifeq          68
      49: aload_0
      50: aload_1
      51: lload_2
      52: invokespecial #81                 // Method handleGetTopicsOfNamespace:(Lorg/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace;J)V
      55: aload_0
      56: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      59: invokevirtual #19                 // Method org/apache/pulsar/proxy/server/ProxyService.getLookupRequestSemaphore:()Ljava/util/concurrent/Semaphore;
      62: invokevirtual #39                 // Method java/util/concurrent/Semaphore.release:()V
      65: goto          140
      68: getstatic     #82                 // Field rejectedGetTopicsOfNamespaceRequests:Lio/prometheus/client/Counter;
      71: invokevirtual #22                 // Method io/prometheus/client/Counter.inc:()V
      74: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      77: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      82: ifeq          118
      85: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      88: ldc           #83                 // String GetTopicsOfNamespace Request ID {} from {} rejected - {}.
      90: iconst_3
      91: anewarray     #29                 // class java/lang/Object
      94: dup
      95: iconst_0
      96: lload_2
      97: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     100: aastore
     101: dup
     102: iconst_1
     103: aload_0
     104: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
     107: aastore
     108: dup
     109: iconst_2
     110: ldc           #2                  // String Too many concurrent lookup and partitionsMetadata requests
     112: aastore
     113: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     118: aload_0
     119: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     122: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
     125: lload_2
     126: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
     129: ldc           #2                  // String Too many concurrent lookup and partitionsMetadata requests
     131: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
     134: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
     139: pop
     140: return

  private void handleGetTopicsOfNamespace(org.apache.pulsar.common.api.proto.CommandGetTopicsOfNamespace, long);
    Code:
       0: aload_0
       1: lload_2
       2: invokespecial #70                 // Method getBrokerServiceUrl:(J)Ljava/lang/String;
       5: astore        4
       7: aload         4
       9: invokestatic  #85                 // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      12: ifne          16
      15: return
      16: aload_0
      17: lload_2
      18: aload_1
      19: invokevirtual #86                 // Method org/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace.getNamespace:()Ljava/lang/String;
      22: aload         4
      24: bipush        10
      26: aload_1
      27: invokevirtual #87                 // Method org/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace.getMode:()Lorg/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace$Mode;
      30: invokespecial #88                 // Method performGetTopicsOfNamespace:(JLjava/lang/String;Ljava/lang/String;ILorg/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace$Mode;)V
      33: return

  private void performGetTopicsOfNamespace(long, java.lang.String, java.lang.String, int, org.apache.pulsar.common.api.proto.CommandGetTopicsOfNamespace$Mode);
    Code:
       0: iload         5
       2: ifne          28
       5: aload_0
       6: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       9: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      12: lload_1
      13: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      16: ldc           #45                 // String Reached max number of redirections
      18: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
      21: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      26: pop
      27: return
      28: aload_0
      29: aload         4
      31: lload_1
      32: invokespecial #89                 // Method getAddr:(Ljava/lang/String;J)Ljava/net/InetSocketAddress;
      35: astore        7
      37: aload         7
      39: ifnonnull     43
      42: return
      43: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      46: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      51: ifeq          84
      54: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      57: ldc           #90                 // String Getting connections to \'{}\' for getting TopicsOfNamespace \'{}\' with clientReq Id \'{}\'
      59: iconst_3
      60: anewarray     #29                 // class java/lang/Object
      63: dup
      64: iconst_0
      65: aload         7
      67: aastore
      68: dup
      69: iconst_1
      70: aload_3
      71: aastore
      72: dup
      73: iconst_2
      74: lload_1
      75: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      78: aastore
      79: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      84: aload_0
      85: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      88: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
      91: aload         7
      93: invokevirtual #56                 // Method org/apache/pulsar/client/impl/ConnectionPool.getConnection:(Ljava/net/InetSocketAddress;)Ljava/util/concurrent/CompletableFuture;
      96: aload_0
      97: aload_3
      98: aload         6
     100: lload_1
     101: invokedynamic #91,  0             // InvokeDynamic #4:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Ljava/lang/String;Lorg/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace$Mode;J)Ljava/util/function/Consumer;
     106: invokevirtual #58                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
     109: aload_0
     110: lload_1
     111: invokedynamic #92,  0             // InvokeDynamic #5:apply:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;J)Ljava/util/function/Function;
     116: invokevirtual #60                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
     119: pop
     120: return

  public void handleGetSchema(org.apache.pulsar.common.api.proto.CommandGetSchema);
    Code:
       0: getstatic     #93                 // Field getSchemaRequests:Lio/prometheus/client/Counter;
       3: invokevirtual #22                 // Method io/prometheus/client/Counter.inc:()V
       6: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       9: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      14: ifeq          32
      17: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      20: ldc           #94                 // String [{}] Received GetSchema {}
      22: aload_0
      23: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      26: aload_1
      27: invokeinterface #95,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      32: aload_1
      33: invokevirtual #96                 // Method org/apache/pulsar/common/api/proto/CommandGetSchema.getRequestId:()J
      36: lstore_2
      37: aload_0
      38: lload_2
      39: invokespecial #70                 // Method getBrokerServiceUrl:(J)Ljava/lang/String;
      42: astore        4
      44: aload_1
      45: invokevirtual #97                 // Method org/apache/pulsar/common/api/proto/CommandGetSchema.getTopic:()Ljava/lang/String;
      48: astore        5
      50: aload_1
      51: invokevirtual #98                 // Method org/apache/pulsar/common/api/proto/CommandGetSchema.hasSchemaVersion:()Z
      54: ifeq          77
      57: aload_1
      58: invokevirtual #99                 // Method org/apache/pulsar/common/api/proto/CommandGetSchema.getSchemaVersion:()[B
      61: invokestatic  #100                // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      64: invokedynamic #101,  0            // InvokeDynamic #6:apply:()Ljava/util/function/Function;
      69: invokevirtual #102                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      72: astore        6
      74: goto          82
      77: invokestatic  #103                // Method java/util/Optional.empty:()Ljava/util/Optional;
      80: astore        6
      82: aload         4
      84: invokestatic  #85                 // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      87: ifne          91
      90: return
      91: aload_0
      92: aload         4
      94: lload_2
      95: invokespecial #89                 // Method getAddr:(Ljava/lang/String;J)Ljava/net/InetSocketAddress;
      98: astore        7
     100: aload         7
     102: ifnonnull     106
     105: return
     106: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
     109: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     114: ifeq          148
     117: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
     120: ldc           #104                // String Getting connections to \'{}\' for getting schema of topic \'{}\' with clientReq Id \'{}\'
     122: iconst_3
     123: anewarray     #29                 // class java/lang/Object
     126: dup
     127: iconst_0
     128: aload         7
     130: aastore
     131: dup
     132: iconst_1
     133: aload         5
     135: aastore
     136: dup
     137: iconst_2
     138: lload_2
     139: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     142: aastore
     143: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     148: aload_0
     149: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     152: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
     155: aload         7
     157: invokevirtual #56                 // Method org/apache/pulsar/client/impl/ConnectionPool.getConnection:(Ljava/net/InetSocketAddress;)Ljava/util/concurrent/CompletableFuture;
     160: aload_0
     161: aload         5
     163: aload         6
     165: lload_2
     166: invokedynamic #105,  0            // InvokeDynamic #7:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Ljava/lang/String;Ljava/util/Optional;J)Ljava/util/function/Consumer;
     171: invokevirtual #58                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
     174: aload_0
     175: lload_2
     176: invokedynamic #106,  0            // InvokeDynamic #8:apply:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;J)Ljava/util/function/Function;
     181: invokevirtual #60                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
     184: pop
     185: return

  private java.lang.String getBrokerServiceUrl(long);
    Code:
       0: aload_0
       1: getfield      #13                 // Field brokerServiceURL:Ljava/lang/String;
       4: invokestatic  #24                 // Method org/apache/commons/lang3/StringUtils.isBlank:(Ljava/lang/CharSequence;)Z
       7: ifeq          110
      10: aload_0
      11: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
      14: invokevirtual #25                 // Method org/apache/pulsar/proxy/server/ProxyService.getDiscoveryProvider:()Lorg/apache/pulsar/proxy/server/BrokerDiscoveryProvider;
      17: invokevirtual #26                 // Method org/apache/pulsar/proxy/server/BrokerDiscoveryProvider.nextBroker:()Lorg/apache/pulsar/policies/data/loadbalancer/LoadManagerReport;
      20: astore_3
      21: goto          87
      24: astore        4
      26: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      29: ldc           #28                 // String [{}] Failed to get next active broker {}
      31: iconst_3
      32: anewarray     #29                 // class java/lang/Object
      35: dup
      36: iconst_0
      37: aload_0
      38: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      41: aastore
      42: dup
      43: iconst_1
      44: aload         4
      46: invokevirtual #30                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      49: aastore
      50: dup
      51: iconst_2
      52: aload         4
      54: aastore
      55: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
      60: aload_0
      61: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      64: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      67: lload_1
      68: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      71: aload         4
      73: invokevirtual #30                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      76: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
      79: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      84: pop
      85: aconst_null
      86: areturn
      87: aload_0
      88: getfield      #10                 // Field connectWithTLS:Z
      91: ifeq          103
      94: aload_3
      95: invokeinterface #36,  1           // InterfaceMethod org/apache/pulsar/policies/data/loadbalancer/ServiceLookupData.getPulsarServiceUrlTls:()Ljava/lang/String;
     100: goto          109
     103: aload_3
     104: invokeinterface #37,  1           // InterfaceMethod org/apache/pulsar/policies/data/loadbalancer/ServiceLookupData.getPulsarServiceUrl:()Ljava/lang/String;
     109: areturn
     110: aload_0
     111: getfield      #10                 // Field connectWithTLS:Z
     114: ifeq          130
     117: aload_0
     118: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
     121: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
     124: invokevirtual #11                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBrokerServiceURLTLS:()Ljava/lang/String;
     127: goto          140
     130: aload_0
     131: getfield      #4                  // Field service:Lorg/apache/pulsar/proxy/server/ProxyService;
     134: invokevirtual #8                  // Method org/apache/pulsar/proxy/server/ProxyService.getConfiguration:()Lorg/apache/pulsar/proxy/server/ProxyConfiguration;
     137: invokevirtual #12                 // Method org/apache/pulsar/proxy/server/ProxyConfiguration.getBrokerServiceURL:()Ljava/lang/String;
     140: areturn
    Exception table:
       from    to  target type
          10    21    24   Class java/lang/Exception

  private java.net.InetSocketAddress getAddr(java.lang.String, long);
    Code:
       0: new           #46                 // class java/net/URI
       3: dup
       4: aload_1
       5: invokespecial #47                 // Method java/net/URI."<init>":(Ljava/lang/String;)V
       8: astore        4
      10: goto          42
      13: astore        5
      15: aload_0
      16: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      19: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      22: lload_2
      23: getstatic     #49                 // Field org/apache/pulsar/common/api/proto/ServerError.MetadataError:Lorg/apache/pulsar/common/api/proto/ServerError;
      26: aload         5
      28: invokevirtual #50                 // Method java/net/URISyntaxException.getMessage:()Ljava/lang/String;
      31: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
      34: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      39: pop
      40: aconst_null
      41: areturn
      42: aload         4
      44: invokevirtual #51                 // Method java/net/URI.getHost:()Ljava/lang/String;
      47: aload         4
      49: invokevirtual #52                 // Method java/net/URI.getPort:()I
      52: invokestatic  #53                 // Method java/net/InetSocketAddress.createUnresolved:(Ljava/lang/String;I)Ljava/net/InetSocketAddress;
      55: areturn
    Exception table:
       from    to  target type
           0    10    13   Class java/net/URISyntaxException

  private org.apache.pulsar.common.api.proto.ServerError getServerError(java.lang.Throwable);
    Code:
       0: aload_1
       1: instanceof    #107                // class org/apache/pulsar/client/api/PulsarClientException$AuthorizationException
       4: ifeq          14
       7: getstatic     #108                // Field org/apache/pulsar/common/api/proto/ServerError.AuthorizationError:Lorg/apache/pulsar/common/api/proto/ServerError;
      10: astore_2
      11: goto          32
      14: aload_1
      15: instanceof    #109                // class org/apache/pulsar/client/api/PulsarClientException$AuthenticationException
      18: ifeq          28
      21: getstatic     #110                // Field org/apache/pulsar/common/api/proto/ServerError.AuthenticationError:Lorg/apache/pulsar/common/api/proto/ServerError;
      24: astore_2
      25: goto          32
      28: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      31: astore_2
      32: aload_2
      33: areturn

  private java.lang.Void lambda$handleGetSchema$11(long, java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
       7: lload_1
       8: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      11: aload_3
      12: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      15: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
      18: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      23: pop
      24: aconst_null
      25: areturn

  private void lambda$handleGetSchema$10(java.lang.String, java.util.Optional, long, org.apache.pulsar.client.impl.ClientCnx);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #112                // Method org/apache/pulsar/proxy/server/ProxyConnection.newRequestId:()J
       7: lstore        6
       9: lload         6
      11: aload_1
      12: aload_2
      13: invokestatic  #113                // Method org/apache/pulsar/common/protocol/Commands.newGetSchema:(JLjava/lang/String;Ljava/util/Optional;)Lio/netty/buffer/ByteBuf;
      16: astore        8
      18: aload         5
      20: aload         8
      22: lload         6
      24: invokevirtual #114                // Method org/apache/pulsar/client/impl/ClientCnx.sendGetRawSchema:(Lio/netty/buffer/ByteBuf;J)Ljava/util/concurrent/CompletableFuture;
      27: aload_0
      28: aload_1
      29: lload_3
      30: aload         5
      32: invokedynamic #115,  0            // InvokeDynamic #9:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Ljava/lang/String;JLorg/apache/pulsar/client/impl/ClientCnx;)Ljava/util/function/BiConsumer;
      37: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      40: pop
      41: return

  private void lambda$null$9(java.lang.String, long, org.apache.pulsar.client.impl.ClientCnx, org.apache.pulsar.common.api.proto.CommandGetSchemaResponse, java.lang.Throwable);
    Code:
       0: aload         6
       2: ifnull        63
       5: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       8: ldc           #117                // String [{}] Failed to get schema {}: {}
      10: iconst_3
      11: anewarray     #29                 // class java/lang/Object
      14: dup
      15: iconst_0
      16: aload_0
      17: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      20: aastore
      21: dup
      22: iconst_1
      23: aload_1
      24: aastore
      25: dup
      26: iconst_2
      27: aload         6
      29: aastore
      30: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
      35: aload_0
      36: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      39: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      42: lload_2
      43: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      46: aload         6
      48: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      51: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
      54: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      59: pop
      60: goto          82
      63: aload_0
      64: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      67: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      70: lload_2
      71: aload         5
      73: invokestatic  #118                // Method org/apache/pulsar/common/protocol/Commands.newGetSchemaResponse:(JLorg/apache/pulsar/common/api/proto/CommandGetSchemaResponse;)Lio/netty/buffer/ByteBuf;
      76: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      81: pop
      82: aload_0
      83: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      86: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
      89: aload         4
      91: invokevirtual #119                // Method org/apache/pulsar/client/impl/ConnectionPool.releaseConnection:(Lorg/apache/pulsar/client/impl/ClientCnx;)V
      94: return

  private java.lang.Void lambda$performGetTopicsOfNamespace$8(long, java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
       7: lload_1
       8: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      11: aload_3
      12: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      15: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
      18: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      23: pop
      24: aconst_null
      25: areturn

  private void lambda$performGetTopicsOfNamespace$7(java.lang.String, org.apache.pulsar.common.api.proto.CommandGetTopicsOfNamespace$Mode, long, org.apache.pulsar.client.impl.ClientCnx);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #112                // Method org/apache/pulsar/proxy/server/ProxyConnection.newRequestId:()J
       7: lstore        6
       9: aload_1
      10: lload         6
      12: aload_2
      13: invokestatic  #120                // Method org/apache/pulsar/common/protocol/Commands.newGetTopicsOfNamespaceRequest:(Ljava/lang/String;JLorg/apache/pulsar/common/api/proto/CommandGetTopicsOfNamespace$Mode;)Lio/netty/buffer/ByteBuf;
      16: astore        8
      18: aload         5
      20: aload         8
      22: lload         6
      24: invokevirtual #121                // Method org/apache/pulsar/client/impl/ClientCnx.newGetTopicsOfNamespace:(Lio/netty/buffer/ByteBuf;J)Ljava/util/concurrent/CompletableFuture;
      27: aload_0
      28: aload_1
      29: lload_3
      30: invokedynamic #122,  0            // InvokeDynamic #10:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Ljava/lang/String;J)Ljava/util/function/BiConsumer;
      35: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      38: pop
      39: aload_0
      40: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      43: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
      46: aload         5
      48: invokevirtual #119                // Method org/apache/pulsar/client/impl/ConnectionPool.releaseConnection:(Lorg/apache/pulsar/client/impl/ClientCnx;)V
      51: return

  private void lambda$null$6(java.lang.String, long, java.util.List, java.lang.Throwable);
    Code:
       0: aload         5
       2: ifnull        66
       5: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       8: ldc           #123                // String [{}] Failed to get TopicsOfNamespace {}: {}
      10: iconst_3
      11: anewarray     #29                 // class java/lang/Object
      14: dup
      15: iconst_0
      16: aload_0
      17: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      20: aastore
      21: dup
      22: iconst_1
      23: aload_1
      24: aastore
      25: dup
      26: iconst_2
      27: aload         5
      29: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      32: aastore
      33: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
      38: aload_0
      39: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      42: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      45: lload_2
      46: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      49: aload         5
      51: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      54: invokestatic  #84                 // Method org/apache/pulsar/common/protocol/Commands.newError:(JLorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;)Lio/netty/buffer/ByteBuf;
      57: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      62: pop
      63: goto          85
      66: aload_0
      67: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      70: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      73: aload         4
      75: lload_2
      76: invokestatic  #124                // Method org/apache/pulsar/common/protocol/Commands.newGetTopicsOfNamespaceResponse:(Ljava/util/List;J)Lio/netty/buffer/ByteBuf;
      79: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      84: pop
      85: return

  private java.lang.Void lambda$handlePartitionMetadataResponse$5(long, java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
       7: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      10: aload_3
      11: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      14: lload_1
      15: invokestatic  #67                 // Method org/apache/pulsar/common/protocol/Commands.newPartitionMetadataResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      18: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      23: pop
      24: aconst_null
      25: areturn

  private void lambda$handlePartitionMetadataResponse$4(org.apache.pulsar.common.naming.TopicName, long, org.apache.pulsar.client.impl.ClientCnx);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #112                // Method org/apache/pulsar/proxy/server/ProxyConnection.newRequestId:()J
       7: lstore        5
       9: aload_1
      10: invokevirtual #125                // Method org/apache/pulsar/common/naming/TopicName.toString:()Ljava/lang/String;
      13: lload         5
      15: invokestatic  #126                // Method org/apache/pulsar/common/protocol/Commands.newPartitionMetadataRequest:(Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      18: astore        7
      20: aload         4
      22: aload         7
      24: lload         5
      26: invokevirtual #127                // Method org/apache/pulsar/client/impl/ClientCnx.newLookup:(Lio/netty/buffer/ByteBuf;J)Ljava/util/concurrent/CompletableFuture;
      29: aload_0
      30: aload_1
      31: lload_2
      32: aload         4
      34: invokedynamic #128,  0            // InvokeDynamic #11:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Lorg/apache/pulsar/common/naming/TopicName;JLorg/apache/pulsar/client/impl/ClientCnx;)Ljava/util/function/BiConsumer;
      39: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      42: pop
      43: return

  private void lambda$null$3(org.apache.pulsar.common.naming.TopicName, long, org.apache.pulsar.client.impl.ClientCnx, org.apache.pulsar.client.impl.BinaryProtoLookupService$LookupDataResult, java.lang.Throwable);
    Code:
       0: aload         6
       2: ifnull        70
       5: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       8: ldc           #129                // String [{}] failed to get Partitioned metadata : {}
      10: iconst_3
      11: anewarray     #29                 // class java/lang/Object
      14: dup
      15: iconst_0
      16: aload_1
      17: invokevirtual #125                // Method org/apache/pulsar/common/naming/TopicName.toString:()Ljava/lang/String;
      20: aastore
      21: dup
      22: iconst_1
      23: aload         6
      25: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      28: aastore
      29: dup
      30: iconst_2
      31: aload         6
      33: aastore
      34: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
      39: aload_0
      40: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      43: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      46: aload_0
      47: aload         6
      49: invokespecial #130                // Method getServerError:(Ljava/lang/Throwable;)Lorg/apache/pulsar/common/api/proto/ServerError;
      52: aload         6
      54: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      57: lload_2
      58: invokestatic  #34                 // Method org/apache/pulsar/common/protocol/Commands.newLookupErrorResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      61: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      66: pop
      67: goto          92
      70: aload_0
      71: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      74: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      77: aload         5
      79: getfield      #131                // Field org/apache/pulsar/client/impl/BinaryProtoLookupService$LookupDataResult.partitions:I
      82: lload_2
      83: invokestatic  #132                // Method org/apache/pulsar/common/protocol/Commands.newPartitionMetadataResponse:(IJ)Lio/netty/buffer/ByteBuf;
      86: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      91: pop
      92: aload_0
      93: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      96: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
      99: aload         4
     101: invokevirtual #119                // Method org/apache/pulsar/client/impl/ConnectionPool.releaseConnection:(Lorg/apache/pulsar/client/impl/ClientCnx;)V
     104: return

  private java.lang.Void lambda$performLookup$2(long, java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
       7: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      10: aload_3
      11: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      14: lload_1
      15: invokestatic  #34                 // Method org/apache/pulsar/common/protocol/Commands.newLookupErrorResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      18: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      23: pop
      24: aconst_null
      25: areturn

  private void lambda$performLookup$1(java.lang.String, boolean, long, int, java.net.InetSocketAddress, org.apache.pulsar.client.impl.ClientCnx);
    Code:
       0: aload_0
       1: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
       4: invokevirtual #112                // Method org/apache/pulsar/proxy/server/ProxyConnection.newRequestId:()J
       7: lstore        8
       9: aload_1
      10: iload_2
      11: lload         8
      13: invokestatic  #133                // Method org/apache/pulsar/common/protocol/Commands.newLookup:(Ljava/lang/String;ZJ)Lio/netty/buffer/ByteBuf;
      16: astore        10
      18: aload         7
      20: aload         10
      22: lload         8
      24: invokevirtual #127                // Method org/apache/pulsar/client/impl/ClientCnx.newLookup:(Lio/netty/buffer/ByteBuf;J)Ljava/util/concurrent/CompletableFuture;
      27: aload_0
      28: aload_1
      29: lload_3
      30: iload         5
      32: aload         6
      34: aload         7
      36: invokedynamic #134,  0            // InvokeDynamic #12:accept:(Lorg/apache/pulsar/proxy/server/LookupProxyHandler;Ljava/lang/String;JILjava/net/InetSocketAddress;Lorg/apache/pulsar/client/impl/ClientCnx;)Ljava/util/function/BiConsumer;
      41: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      44: pop
      45: return

  private void lambda$null$0(java.lang.String, long, int, java.net.InetSocketAddress, org.apache.pulsar.client.impl.ClientCnx, org.apache.pulsar.client.impl.BinaryProtoLookupService$LookupDataResult, java.lang.Throwable);
    Code:
       0: aload         8
       2: ifnull        66
       5: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
       8: ldc           #135                // String [{}] Failed to lookup topic {}: {}
      10: iconst_3
      11: anewarray     #29                 // class java/lang/Object
      14: dup
      15: iconst_0
      16: aload_0
      17: getfield      #7                  // Field clientAddress:Ljava/net/SocketAddress;
      20: aastore
      21: dup
      22: iconst_1
      23: aload_1
      24: aastore
      25: dup
      26: iconst_2
      27: aload         8
      29: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      32: aastore
      33: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
      38: aload_0
      39: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
      42: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
      45: getstatic     #33                 // Field org/apache/pulsar/common/api/proto/ServerError.ServiceNotReady:Lorg/apache/pulsar/common/api/proto/ServerError;
      48: aload         8
      50: invokevirtual #111                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      53: lload_2
      54: invokestatic  #34                 // Method org/apache/pulsar/common/protocol/Commands.newLookupErrorResponse:(Lorg/apache/pulsar/common/api/proto/ServerError;Ljava/lang/String;J)Lio/netty/buffer/ByteBuf;
      57: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      62: pop
      63: goto          188
      66: aload_0
      67: getfield      #10                 // Field connectWithTLS:Z
      70: ifeq          81
      73: aload         7
      75: getfield      #136                // Field org/apache/pulsar/client/impl/BinaryProtoLookupService$LookupDataResult.brokerUrlTls:Ljava/lang/String;
      78: goto          86
      81: aload         7
      83: getfield      #137                // Field org/apache/pulsar/client/impl/BinaryProtoLookupService$LookupDataResult.brokerUrl:Ljava/lang/String;
      86: astore        9
      88: aload         7
      90: getfield      #138                // Field org/apache/pulsar/client/impl/BinaryProtoLookupService$LookupDataResult.redirect:Z
      93: ifeq          116
      96: aload_0
      97: lload_2
      98: aload_1
      99: aload         9
     101: aload         7
     103: getfield      #139                // Field org/apache/pulsar/client/impl/BinaryProtoLookupService$LookupDataResult.authoritative:Z
     106: iload         4
     108: iconst_1
     109: isub
     110: invokespecial #38                 // Method performLookup:(JLjava/lang/String;Ljava/lang/String;ZI)V
     113: goto          188
     116: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
     119: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     124: ifeq          162
     127: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
     130: ldc           #140                // String Successfully perform lookup \'{}\' for topic \'{}\' with clientReq Id \'{}\' and lookup-broker {}
     132: iconst_4
     133: anewarray     #29                 // class java/lang/Object
     136: dup
     137: iconst_0
     138: aload         5
     140: aastore
     141: dup
     142: iconst_1
     143: aload_1
     144: aastore
     145: dup
     146: iconst_2
     147: lload_2
     148: invokestatic  #42                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     151: aastore
     152: dup
     153: iconst_3
     154: aload         9
     156: aastore
     157: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     162: aload_0
     163: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     166: invokevirtual #32                 // Method org/apache/pulsar/proxy/server/ProxyConnection.ctx:()Lio/netty/channel/ChannelHandlerContext;
     169: aload         9
     171: aload         9
     173: iconst_1
     174: getstatic     #141                // Field org/apache/pulsar/common/api/proto/CommandLookupTopicResponse$LookupType.Connect:Lorg/apache/pulsar/common/api/proto/CommandLookupTopicResponse$LookupType;
     177: lload_2
     178: iconst_1
     179: invokestatic  #142                // Method org/apache/pulsar/common/protocol/Commands.newLookupResponse:(Ljava/lang/String;Ljava/lang/String;ZLorg/apache/pulsar/common/api/proto/CommandLookupTopicResponse$LookupType;JZ)Lio/netty/buffer/ByteBuf;
     182: invokeinterface #35,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
     187: pop
     188: aload_0
     189: getfield      #5                  // Field proxyConnection:Lorg/apache/pulsar/proxy/server/ProxyConnection;
     192: invokevirtual #55                 // Method org/apache/pulsar/proxy/server/ProxyConnection.getConnectionPool:()Lorg/apache/pulsar/client/impl/ConnectionPool;
     195: aload         6
     197: invokevirtual #119                // Method org/apache/pulsar/client/impl/ConnectionPool.releaseConnection:(Lorg/apache/pulsar/client/impl/ClientCnx;)V
     200: return

  static {};
    Code:
       0: ldc           #143                // String pulsar_proxy_lookup_requests
       2: ldc           #144                // String Counter of topic lookup requests
       4: invokestatic  #145                // Method io/prometheus/client/Counter.build:(Ljava/lang/String;Ljava/lang/String;)Lio/prometheus/client/Counter$Builder;
       7: invokevirtual #146                // Method io/prometheus/client/Counter$Builder.create:()Lio/prometheus/client/Counter;
      10: invokevirtual #147                // Method io/prometheus/client/Counter.register:()Lio/prometheus/client/Collector;
      13: checkcast     #148                // class io/prometheus/client/Counter
      16: putstatic     #21                 // Field lookupRequests:Lio/prometheus/client/Counter;
      19: ldc           #149                // String pulsar_proxy_partitions_metadata_requests
      21: ldc           #150                // String Counter of partitions metadata requests
      23: invokestatic  #145                // Method io/prometheus/client/Counter.build:(Ljava/lang/String;Ljava/lang/String;)Lio/prometheus/client/Counter$Builder;
      26: invokevirtual #146                // Method io/prometheus/client/Counter$Builder.create:()Lio/prometheus/client/Counter;
      29: invokevirtual #147                // Method io/prometheus/client/Counter.register:()Lio/prometheus/client/Collector;
      32: checkcast     #148                // class io/prometheus/client/Counter
      35: putstatic     #61                 // Field partitionsMetadataRequests:Lio/prometheus/client/Counter;
      38: ldc           #151                // String pulsar_proxy_get_topics_of_namespace_requests
      40: ldc           #152                // String Counter of getTopicsOfNamespace requests
      42: invokestatic  #145                // Method io/prometheus/client/Counter.build:(Ljava/lang/String;Ljava/lang/String;)Lio/prometheus/client/Counter$Builder;
      45: invokevirtual #146                // Method io/prometheus/client/Counter$Builder.create:()Lio/prometheus/client/Counter;
      48: invokevirtual #147                // Method io/prometheus/client/Counter.register:()Lio/prometheus/client/Collector;
      51: checkcast     #148                // class io/prometheus/client/Counter
      54: putstatic     #78                 // Field getTopicsOfNamespaceRequestss:Lio/prometheus/client/Counter;
      57: ldc           #153                // String pulsar_proxy_get_schema_requests
      59: ldc           #154                // String Counter of schema requests
      61: invokestatic  #145                // Method io/prometheus/client/Counter.build:(Ljava/lang/String;Ljava/lang/String;)Lio/prometheus/client/Counter$Builder;
      64: invokevirtual #146                // Method io/prometheus/client/Counter$Builder.create:()Lio/prometheus/client/Counter;
      67: invokevirtual #147                // Method io/prometheus/client/Counter.register:()Lio/prometheus/client/Collector;
      70: checkcast     #148                // class io/prometheus/client/Counter
      73: putstatic     #93                 // Field getSchemaRequests:Lio/prometheus/client/Counter;
      76: ldc           #155                // String pulsar_proxy_rejected_lookup_requests
      78: ldc           #156                // String Counter of topic lookup requests rejected due to throttling
      80: invokestatic  #145                // Method io/prometheus/client/Counter.build:(Ljava/lang/String;Ljava/lang/String;)Lio/prometheus/client/Counter$Builder;
      83: invokevirtual #146                // Method io/prometheus/client/Counter$Builder.create:()Lio/prometheus/client/Counter;
      86: invokevirtual #147                // Method io/prometheus/client/Counter.register:()Lio/prometheus/client/Collector;
      89: checkcast     #148                // class io/prometheus/client/Counter
      92: putstatic     #40                 // Field rejectedLookupRequests:Lio/prometheus/client/Counter;
      95: ldc           #157                // String pulsar_proxy_rejected_partitions_metadata_requests
      97: ldc           #158                // String Counter of partitions metadata requests rejected due to throttling
      99: invokestatic  #145                // Method io/prometheus/client/Counter.build:(Ljava/lang/String;Ljava/lang/String;)Lio/prometheus/client/Counter$Builder;
     102: invokevirtual #146                // Method io/prometheus/client/Counter$Builder.create:()Lio/prometheus/client/Counter;
     105: invokevirtual #147                // Method io/prometheus/client/Counter.register:()Lio/prometheus/client/Collector;
     108: checkcast     #148                // class io/prometheus/client/Counter
     111: putstatic     #65                 // Field rejectedPartitionsMetadataRequests:Lio/prometheus/client/Counter;
     114: ldc           #159                // String pulsar_proxy_rejected_get_topics_of_namespace_requests
     116: ldc           #160                // String Counter of getTopicsOfNamespace requests rejected due to throttling
     118: invokestatic  #145                // Method io/prometheus/client/Counter.build:(Ljava/lang/String;Ljava/lang/String;)Lio/prometheus/client/Counter$Builder;
     121: invokevirtual #146                // Method io/prometheus/client/Counter$Builder.create:()Lio/prometheus/client/Counter;
     124: invokevirtual #147                // Method io/prometheus/client/Counter.register:()Lio/prometheus/client/Collector;
     127: checkcast     #148                // class io/prometheus/client/Counter
     130: putstatic     #82                 // Field rejectedGetTopicsOfNamespaceRequests:Lio/prometheus/client/Counter;
     133: ldc           #43                 // class org/apache/pulsar/proxy/server/LookupProxyHandler
     135: invokestatic  #161                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
     138: putstatic     #14                 // Field log:Lorg/slf4j/Logger;
     141: return
}
