Compiled from "StatementsCache.java"
public class info.archinnov.achilles.internals.cache.StatementsCache {
  private static final org.slf4j.Logger LOGGER;

  private final com.google.common.cache.Cache<java.lang.String, com.datastax.driver.core.PreparedStatement> dynamicCache;

  private final com.google.common.cache.Cache<info.archinnov.achilles.internals.cache.CacheKey, com.datastax.driver.core.PreparedStatement> staticCache;

  private final int maxLRUCacheSize;

  public info.archinnov.achilles.internals.cache.StatementsCache(int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iload_1
       6: putfield      #2                  // Field maxLRUCacheSize:I
       9: aload_0
      10: invokestatic  #3                  // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
      13: iload_1
      14: i2l
      15: invokevirtual #4                  // Method com/google/common/cache/CacheBuilder.maximumSize:(J)Lcom/google/common/cache/CacheBuilder;
      18: invokevirtual #5                  // Method com/google/common/cache/CacheBuilder.build:()Lcom/google/common/cache/Cache;
      21: putfield      #6                  // Field dynamicCache:Lcom/google/common/cache/Cache;
      24: aload_0
      25: invokestatic  #3                  // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
      28: invokevirtual #5                  // Method com/google/common/cache/CacheBuilder.build:()Lcom/google/common/cache/Cache;
      31: putfield      #7                  // Field staticCache:Lcom/google/common/cache/Cache;
      34: return

  public void putStaticCache(info.archinnov.achilles.internals.cache.CacheKey, java.util.concurrent.Callable<com.datastax.driver.core.PreparedStatement>);
    Code:
       0: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
       3: invokeinterface #9,  1            // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          32
      11: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
      14: ldc           #10                 // String Putting static cache for key %s
      16: iconst_1
      17: anewarray     #11                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_1
      23: aastore
      24: invokestatic  #12                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      27: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      32: aload_0
      33: getfield      #7                  // Field staticCache:Lcom/google/common/cache/Cache;
      36: aload_1
      37: aload_2
      38: invokeinterface #14,  3           // InterfaceMethod com/google/common/cache/Cache.get:(Ljava/lang/Object;Ljava/util/concurrent/Callable;)Ljava/lang/Object;
      43: pop
      44: goto          57
      47: astore_3
      48: new           #16                 // class info/archinnov/achilles/exception/AchillesException
      51: dup
      52: aload_3
      53: invokespecial #17                 // Method info/archinnov/achilles/exception/AchillesException."<init>":(Ljava/lang/Throwable;)V
      56: athrow
      57: return
    Exception table:
       from    to  target type
           0    44    47   Class java/util/concurrent/ExecutionException

  public com.datastax.driver.core.PreparedStatement getStaticCache(info.archinnov.achilles.internals.cache.CacheKey);
    Code:
       0: aload_0
       1: getfield      #7                  // Field staticCache:Lcom/google/common/cache/Cache;
       4: aload_1
       5: invokeinterface #18,  2           // InterfaceMethod com/google/common/cache/Cache.getIfPresent:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #19                 // class com/datastax/driver/core/PreparedStatement
      13: astore_2
      14: aload_2
      15: ifnonnull     39
      18: new           #16                 // class info/archinnov/achilles/exception/AchillesException
      21: dup
      22: ldc           #20                 // String Cannot find static cached prepared statement for cache key %s
      24: iconst_1
      25: anewarray     #11                 // class java/lang/Object
      28: dup
      29: iconst_0
      30: aload_1
      31: aastore
      32: invokestatic  #12                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      35: invokespecial #21                 // Method info/archinnov/achilles/exception/AchillesException."<init>":(Ljava/lang/String;)V
      38: athrow
      39: aload_2
      40: areturn

  public com.datastax.driver.core.PreparedStatement getDynamicCache(java.lang.String, com.datastax.driver.core.Session);
    Code:
       0: new           #22                 // class java/util/concurrent/atomic/AtomicBoolean
       3: dup
       4: iconst_0
       5: invokespecial #23                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
       8: astore_3
       9: aload_0
      10: getfield      #6                  // Field dynamicCache:Lcom/google/common/cache/Cache;
      13: aload_1
      14: aload_3
      15: aload_1
      16: aload_2
      17: invokedynamic #24,  0             // InvokeDynamic #0:call:(Ljava/util/concurrent/atomic/AtomicBoolean;Ljava/lang/String;Lcom/datastax/driver/core/Session;)Ljava/util/concurrent/Callable;
      22: invokeinterface #14,  3           // InterfaceMethod com/google/common/cache/Cache.get:(Ljava/lang/Object;Ljava/util/concurrent/Callable;)Ljava/lang/Object;
      27: checkcast     #19                 // class com/datastax/driver/core/PreparedStatement
      30: astore        4
      32: aload_3
      33: invokevirtual #25                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      36: ifeq          43
      39: aload_0
      40: invokespecial #26                 // Method displayCacheStatistics:()V
      43: aload         4
      45: areturn
      46: astore        4
      48: new           #16                 // class info/archinnov/achilles/exception/AchillesException
      51: dup
      52: aload         4
      54: invokespecial #17                 // Method info/archinnov/achilles/exception/AchillesException."<init>":(Ljava/lang/Throwable;)V
      57: athrow
    Exception table:
       from    to  target type
           9    45    46   Class java/util/concurrent/ExecutionException

  private void displayCacheStatistics();
    Code:
       0: aload_0
       1: getfield      #6                  // Field dynamicCache:Lcom/google/common/cache/Cache;
       4: invokeinterface #27,  1           // InterfaceMethod com/google/common/cache/Cache.size:()J
       9: lstore_1
      10: aload_0
      11: getfield      #6                  // Field dynamicCache:Lcom/google/common/cache/Cache;
      14: invokeinterface #28,  1           // InterfaceMethod com/google/common/cache/Cache.stats:()Lcom/google/common/cache/CacheStats;
      19: astore_3
      20: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
      23: ldc           #29                 // String Total LRU cache size {}
      25: lload_1
      26: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      29: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      34: lload_1
      35: l2d
      36: aload_0
      37: getfield      #2                  // Field maxLRUCacheSize:I
      40: i2d
      41: ldc2_w        #32                 // double 0.8d
      44: dmul
      45: dcmpl
      46: ifle          59
      49: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
      52: ldc           #34                 // String Warning, the LRU prepared statements cache is over 80% full
      54: invokeinterface #35,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      59: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
      62: invokeinterface #9,  1            // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      67: ifeq          270
      70: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
      73: ldc           #36                 // String Cache statistics :
      75: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      80: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
      83: ldc           #37                 // String \t\t- hits count : {}
      85: aload_3
      86: invokevirtual #38                 // Method com/google/common/cache/CacheStats.hitCount:()J
      89: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      92: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      97: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     100: ldc           #40                 // String \t\t- hits rate : {}
     102: aload_3
     103: invokevirtual #41                 // Method com/google/common/cache/CacheStats.hitRate:()D
     106: invokestatic  #42                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     109: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     114: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     117: ldc           #43                 // String \t\t- miss count : {}
     119: aload_3
     120: invokevirtual #44                 // Method com/google/common/cache/CacheStats.missCount:()J
     123: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     126: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     131: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     134: ldc           #45                 // String \t\t- miss rate : {}
     136: aload_3
     137: invokevirtual #46                 // Method com/google/common/cache/CacheStats.missRate:()D
     140: invokestatic  #42                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     143: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     148: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     151: ldc           #47                 // String \t\t- eviction count : {}
     153: aload_3
     154: invokevirtual #48                 // Method com/google/common/cache/CacheStats.evictionCount:()J
     157: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     160: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     165: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     168: ldc           #49                 // String \t\t- load count : {}
     170: aload_3
     171: invokevirtual #50                 // Method com/google/common/cache/CacheStats.loadCount:()J
     174: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     177: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     182: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     185: ldc           #51                 // String \t\t- load success count : {}
     187: aload_3
     188: invokevirtual #52                 // Method com/google/common/cache/CacheStats.loadSuccessCount:()J
     191: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     194: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     199: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     202: ldc           #53                 // String \t\t- load exception count : {}
     204: aload_3
     205: invokevirtual #54                 // Method com/google/common/cache/CacheStats.loadExceptionCount:()J
     208: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     211: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     216: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     219: ldc           #55                 // String \t\t- total load time : {}
     221: aload_3
     222: invokevirtual #56                 // Method com/google/common/cache/CacheStats.totalLoadTime:()J
     225: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     228: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     233: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     236: ldc           #57                 // String \t\t- average load penalty : {}
     238: aload_3
     239: invokevirtual #58                 // Method com/google/common/cache/CacheStats.averageLoadPenalty:()D
     242: invokestatic  #42                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     245: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     250: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     253: ldc           #59                 // String
     255: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     260: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
     263: ldc           #59                 // String
     265: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     270: return

  private static com.datastax.driver.core.PreparedStatement lambda$getDynamicCache$381(java.util.concurrent.atomic.AtomicBoolean, java.lang.String, com.datastax.driver.core.Session) throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_1
       2: invokevirtual #60                 // Method java/util/concurrent/atomic/AtomicBoolean.getAndSet:(Z)Z
       5: pop
       6: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
       9: invokeinterface #9,  1            // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      14: ifeq          44
      17: getstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
      20: new           #61                 // class java/lang/StringBuilder
      23: dup
      24: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #63                 // String Preparing dynamic query :
      29: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: aload_1
      33: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      44: aload_2
      45: aload_1
      46: invokeinterface #66,  2           // InterfaceMethod com/datastax/driver/core/Session.prepare:(Ljava/lang/String;)Lcom/datastax/driver/core/PreparedStatement;
      51: areturn

  static {};
    Code:
       0: ldc           #67                 // class info/archinnov/achilles/internals/cache/StatementsCache
       2: invokestatic  #68                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #8                  // Field LOGGER:Lorg/slf4j/Logger;
       8: return
}
